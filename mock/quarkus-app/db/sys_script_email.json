{"result":[{"sys_mod_count":"26","sys_updated_on":"2019-12-19 07:02:25","sys_tags":"","script":"var messages = event.parm2.split(\",\");\nvar grUser = new GlideRecord(\"sys_user\");\ngrUser.addQuery(\"sys_id\", event.parm1);\ngrUser.query();\n\nvar utils = new LiveMessageUtils();\nvar liveMessagesGroup = utils.getGroup(messages[0]);\nvar queueID = utils.getQueueID(liveMessagesGroup.id);\nif(liveMessagesGroup) {\n\tvar liveMessagesProfile = utils.getProfile(messages[0]);\n\tgrUser.next();\n\tvar userName = grUser.getDisplayValue(\"first_name\") + \" \" + grUser.getDisplayValue(\"last_name\");\n\ttemplate.print(\"<h2 style='color: #424E5B;margin: 0 0 12px;line-height: 26px;margin-bottom: 12px'>Hello \" + userName + \",</h2>\");\n\tvar profileName = liveMessagesProfile.displayValue;\n\temail.setSubject(\"New Message(s) from \" + profileName);\n\tif(queueID)\n\t\ttemplate.print(\"<p style='font-size: 17px;margin: 0 0 16px;line-height: 24px'><a href='/$connect_redirect.do?sysparm_queueID=\" + queueID + \"&sysparm_channelID=\" + liveMessagesGroup.id + \"'>You have \");\n\telse\n\t\ttemplate.print(\"<p style='font-size: 17px;margin: 0 0 16px;line-height: 24px'><a href='/$connect_redirect.do?sysparm_channelID=\" + liveMessagesGroup.id + \"'>You have \");\n\n\tif(messages.length > 1) {\n\t\ttemplate.print(messages.length + \" new messages \");\n\t} else {\n\t\ttemplate.print(\"a new message \");\n\t}\n\t\n\ttemplate.print(\"from \" + profileName + \".</a></p>\");\n\n\tvar grLiveProfile = new GlideRecord(\"live_profile\");\n\tif(grLiveProfile.get(liveMessagesProfile.id)) {\n\t\tvar grUser = new GlideRecord(\"sys_user\");\n\t\tif(grUser.get(grLiveProfile.getValue(\"document\"))) {\n\t\t\temail.setReplyTo(grUser.getValue(\"email\"));\n\t\t}\n\t}\n}","sys_class_name":"sys_script_email","sys_id":"037c27089f232100d5f9b3e2957fcf92","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d4442b7b04312210559073c06a02f7ee","value":"d4442b7b04312210559073c06a02f7ee"},"sys_update_name":"sys_script_email_037c27089f232100d5f9b3e2957fcf92","sys_updated_by":"admin","sys_created_on":"2014-09-29 18:16:27","name":"collaboration_direct_message_body","sys_name":"collaboration_direct_message_body","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"19","sys_updated_on":"2022-12-06 11:27:54","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n    var meetingNotes = current.getValue('meeting_notes');\n    var result = meetingNotes.replace(/<img src=\"..\\/sys_attachment.do\\?sys_id&#61;[a-zA-Z0-9]{32}\" \\/>/g, function (imgTag) {\n        var attachGr = new GlideRecord('sys_attachment');\n        var start = imgTag.indexOf('../sys_attachment.do?sys_id&#61;') + '../sys_attachment.do?sys_id&#61;'.length;\n        var attachId = imgTag.substring(start, start + 32);\n        if (!attachId)\n            return imgTag;\n        attachGr.addQuery('sys_id', attachId);\n        //for security reason make sure attachment is attached to the CAB meeting\n        attachGr.addQuery('table_name', 'cab_meeting');\n        attachGr.addQuery('table_sys_id', current.getUniqueValue());\n        attachGr.query();\n        if (attachGr.next()) {\n            var attachment = new GlideSysAttachment();\n            var contentType = attachGr.getValue('content_type');\n            var attachmentContent = attachment.getContentBase64(attachGr);\n            return '<img src=\\\"data:' + contentType + ';base64,' + attachmentContent + '\\\">';\n        }\n        return imgTag;\n    });\n    template.print(result);\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"06f3270187e75110f502a64d0ebb354c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_update_name":"sys_script_email_06f3270187e75110f502a64d0ebb354c","sys_updated_by":"admin","sys_created_on":"2022-12-02 10:46:17","name":"cab.meeting.getNotes","sys_name":"cab.meeting.getNotes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"new_lines_to_html":"false","sys_created_by":"lee.yin@snc","sys_policy":""},{"sys_mod_count":"0","sys_updated_on":"2021-10-11 09:08:43","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n    var notificationUtil = new RequestNotificationUtil();\n    var salutation = notificationUtil.setGreetingsMessage(current, email_action);\n    template.print(salutation);\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"07cea73a5303301001b2ddeeff7b126f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3028ab3304f12210559073c06a02f7b7","value":"3028ab3304f12210559073c06a02f7b7"},"sys_update_name":"sys_script_email_07cea73a5303301001b2ddeeff7b126f","sys_updated_by":"admin","sys_created_on":"2021-10-11 09:08:43","name":"request_greetings","sys_name":"request_header","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"21","sys_updated_on":"2024-10-01 09:12:59","sys_tags":"","script":"(function runMailScript(current, template, email, email_action, event) {\n    template.print('<div style=\"font-size: 20px; padding-bottom: 16px; line-height: 30px;\"><span style=\"font-weight:600;\">About this incident task</span></div>');\n    template.print('<div style=\"font-size: 16px;\"><span style=\"font-weight: 400;\">' + gs.getMessage('Short description: ') + '</span>');\n    template.print('<span style=\"font-weight: 600;\">' + gs.getMessage('${short_description}') + '</span></div>');\n    if (email_action.name != \"Incident task Priority raised\") {\n        template.print('<span style=\" font-weight:400;\" >' + gs.getMessage('Opened by: ') + '</span>');\n        template.print('<span style=\"font-weight: 600;\">' + gs.getMessage('${opened_by}') + '</span><br>');\n        template.print('<span style=\" font-weight:400;\" >' + gs.getMessage('State: ') + '</span>');\n        template.print('<span style=\"font-weight: 600;\">' + gs.getMessage('${state}') + '</span><br>');\n    }\n    template.print('<span style=\" font-weight:400;\" >' + gs.getMessage('Priority: ') + '</span>');\n    template.print('<span style=\"font-weight: 600;\">' + gs.getMessage('${priority}') + '</span><br>');\n    if (email_action.name == \"Incident task closed\") {\n        template.print('<span style=\" font-weight:400;\" >' + gs.getMessage('Close notes: ') + '</span>');\n        template.print('<span style=\"font-weight: 600;\">' + gs.getMessage('${close_notes}') + '</span><br></div');\n    }\n    if (email_action.name == \"Incident task state changed\") {\n        template.print('<span style=\" font-weight:400;\" >' + gs.getMessage('Work notes: ') + '</span>');\n        template.print('<span style=\"font-weight: 600;\">' + gs.getMessage('${work_notes:1}') + '</span><br></div');\n    }\n    if (current && current.incident) {\n        var link = new EmailNotificationRedirection().getLink(\"incident\", current.getValue(\"incident\"));\n        template.print('<span style=\" font-weight:400;\" >' + gs.getMessage('Incident: ') + '</span>');\n        template.print('<span style=\"font-weight: 600;\">' + gs.getMessage('<a href=\"' + link + '\" target=\"_blank\">' + '${incident}' + '</a>') + '</span><br>');\n    }\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"07f1891c93749210c3bbf04e648918f5","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9eb76f7f04b12210559073c06a02f78a","value":"9eb76f7f04b12210559073c06a02f78a"},"sys_update_name":"sys_script_email_07f1891c93749210c3bbf04e648918f5","sys_updated_by":"admin","sys_created_on":"2024-09-18 06:55:08","name":"incident_task_additional_details","sys_name":"incident_task_additional_details","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"3","sys_updated_on":"2021-08-25 15:28:36","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\tvar firstName = current.getDisplayValue(\"requestor_first_name\");\n\tvar lastName = current.getDisplayValue(\"requestor_last_name\");\n\tvar requestorName = (firstName + \" \" + lastName).trim();\n\tvar appName = current.getDisplayValue(\"app_name\");\n\tvar adminEmail = sn_app_eng_notify.AppEngineAdminGroup.getEmail();\n\t\n\tvar deploymentRequestEmail = new sn_app_eng_notify.AppEngineEmailScript();\n\t\n\tdeploymentRequestEmail.addHeading(gs.getMessage(\"{0} app has been approved!\", appName));\n\tdeploymentRequestEmail.addText(gs.getMessage(\"Congrats, {0}\", requestorName), false); // greeting\n\tif (adminEmail) {\n\t\tdeploymentRequestEmail.addText(gs.getMessage(\"Your app has been approved and published. Email {0} with any questions on accessing your app.\", adminEmail), false); // message\n\t} else {\n\t\tdeploymentRequestEmail.addText(gs.getMessage(\"Your app has been approved and published. Email your admin with any questions on accessing your app.\"), false); // message\n\t}\n\t\n\temail.setSubject(gs.getMessage(\"{0} app has been approved\", appName));\n\ttemplate.print(deploymentRequestEmail.getBody());\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"0c1087ebc706b010408bc8d6f2c26080","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bb67ed7253e83010b846ddeeff7b1204","value":"bb67ed7253e83010b846ddeeff7b1204"},"sys_update_name":"sys_script_email_0c1087ebc706b010408bc8d6f2c26080","sys_updated_by":"admin","sys_created_on":"2021-08-24 20:35:21","name":"get_deployment_request_approved_email","sys_name":"get_deployment_request_approved_email","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bb67ed7253e83010b846ddeeff7b1204","value":"bb67ed7253e83010b846ddeeff7b1204"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"0","sys_updated_on":"2023-09-27 18:35:17","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\t\t\tvar daysRemaining = JSON.parse(event.parm1).daysRemaining;\n\t\t\tvar message ;\n\t\t\tswitch(daysRemaining) {\n\t\t\t\tcase '0': \n\t\t\t\tmessage = \"Your Soft PIN will expire today.\";\n\t\t\t\tbreak;\n\t\t\t\tcase '1':\n\t\t\t\tmessage = \"Your Soft PIN will expire in a day.\";\n\t\t\t\tbreak;\n\t\t\t\tdefault: \n\t\t\t\tmessage = \"Your Soft PIN will expire in \" + '<b>' + daysRemaining + '</b>' + \" days.\";\n\t\t\t}\n\n          template.print(message);\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"1046df5b5391b1109de5ddeeff7b1268","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/421beb3304352210559073c06a02f7ef","value":"421beb3304352210559073c06a02f7ef"},"sys_update_name":"sys_script_email_1046df5b5391b1109de5ddeeff7b1268","sys_updated_by":"admin","sys_created_on":"2023-09-21 05:32:15","name":"softpin_expiration_remaining_days_script","sys_name":"softpin_expiration_remaining_days_script","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"1","sys_updated_on":"2017-01-24 09:30:50","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n\tvar month =  new BenchmarkUtil().getMonthDisplay(current.start_date).display;\n\ttemplate.print(month);\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"1163bf386720320097eeff5557415aca","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_update_name":"sys_script_email_1163bf386720320097eeff5557415aca","sys_updated_by":"admin","sys_created_on":"2017-01-24 04:12:56","name":"month.display","sys_name":"month.display","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"3","sys_updated_on":"2015-05-05 05:47:01","sys_tags":"","script":"template.print(message);","sys_class_name":"sys_script_email","sys_id":"1215e742c33331006f333b0ac3d3ae06","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/11722b01473231007f47563dbb9a7154","value":"11722b01473231007f47563dbb9a7154"},"sys_update_name":"sys_script_email_1215e742c33331006f333b0ac3d3ae06","sys_updated_by":"admin","sys_created_on":"2015-05-05 05:09:54","name":"socialqa_answer_format","sys_name":"socialqa_answer_format","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/11722b01473231007f47563dbb9a7154","value":"11722b01473231007f47563dbb9a7154"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"84","sys_updated_on":"2024-04-15 15:35:15","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n\n    var commentorName = event.parm1;\n    var userGr = new GlideRecord('sys_user');\n    userGr.addQuery('sys_id', commentorName);\n    userGr.query();\n    if (userGr.next())\n        commentorName = userGr.name;\n    template.print('<div style=\"line-height: 24px;color:#181A1F;\">');\n    template.print('<div style=\"text-align: center; line-height:36px; padding-bottom: 24px;' +\n        ' border-bottom: 1px solid #DADDE2;\"><span style=\"font-size: 24px; font-weight:600\">' +\n        commentorName + ' added a comment to your incident</span></div>');\n    template.print('<div style=\"font-size: 16px; padding-top: 24px; padding-bottom: 16px;\">' +\n        '<span style=\"font-weight: 400;\">Hello </span> <span style=\"font-weight: 600;\">' + current.caller_id.first_name + ',</span></div>');\n    template.print('<div style=\"font-size: 16px; padding-bottom: 16px; \"><span style=\"font-weight: 700;\">' +\n        commentorName + '</span><span style=\"font-weight: 400;\"> left a comment on </span>' +\n        '<span style=\"font-weight: 700\">' + current.task_effective_number + ':</span></div>');\n    template.print('<div style=\"font-size: 16px; font-weight: 600;\">${comments:1}</div>');\n    template.print('</div>');\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"134f962653a2301001b2ddeeff7b1237","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9eb76f7f04b12210559073c06a02f78a","value":"9eb76f7f04b12210559073c06a02f78a"},"sys_update_name":"sys_script_email_134f962653a2301001b2ddeeff7b1237","sys_updated_by":"admin","sys_created_on":"2021-09-15 12:20:06","name":"comment_on_incident","sys_name":"comment_on_incident","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"20","sys_updated_on":"2022-09-20 18:30:34","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n\tvar requestorName = current.opened_by.getRefRecord().getValue('name');\n\tvar requestNumber = current.request.getRefRecord().getValue('number');\n\tvar linkToRequest = '<a style=\"color:inherit;\" href=\"' + current.request.getRefRecord().getLink() + '\">' + requestNumber + '</a>';\n\n\tvar developmentInstanceSysID = current.variables.development_instance;\n\n\n\tvar gr_pipeline_environment = new GlideRecord(AppIntakeConstants.table.SN_PIPELINE_ENVIRONMENT);\n\tgr_pipeline_environment.get(developmentInstanceSysID);\n\tvar devEnvURL = gr_pipeline_environment.getValue('instance_url');\n\tvar devEnvName = gr_pipeline_environment.getValue('name');\n\tvar linkToDevInstance = '<a style=\"color:inherit;\" href=\"' + devEnvURL + '\">' + devEnvName + '</a>';\n\n\tvar requestEmail = new sn_app_eng_notify.AppEngineEmailScript();\n\trequestEmail.addHeading(gs.getMessage(\"Automated User Provisioning Failed\"));\n\n\trequestEmail.addText(gs.getMessage(\"Hi App Engine Admins,\"));\n\n\trequestEmail.addText(gs.getMessage('User provisioning failed for request, {0}. The requestor, {1}, will need to be manually provisioned to {2}.', [linkToRequest, requestorName, linkToDevInstance]));\n\n\ttemplate.print(requestEmail.getBody());\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"14422d9753c10110b846ddeeff7b1205","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3d3c2505c3e22010b83971e54440dd75","value":"3d3c2505c3e22010b83971e54440dd75"},"sys_update_name":"sys_script_email_14422d9753c10110b846ddeeff7b1205","sys_updated_by":"admin","sys_created_on":"2022-01-19 22:46:27","name":"get_app_intake_failed_user_provisioning_admin","sys_name":"get_app_intake_failed_user_provisioning_admin","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3d3c2505c3e22010b83971e54440dd75","value":"3d3c2505c3e22010b83971e54440dd75"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"16","sys_updated_on":"2017-11-14 22:29:53","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\temail.setFrom(event.parm1);\n\temail.setReplyTo(event.parm1);\n\t\n\tvar users = event.parm2.split(\",\");\n \n   //get user records\n   var user = new GlideRecord(\"sys_user\");\n   user.addQuery(\"sys_id\", users);\n   user.query();\n   while (user.next()) {\n\t   email.addAddress(\"bcc\", user.email, user.getDisplayValue());\n   }\n\tvar enrollmentURL = gs.getProperty('glide.servlet.uri') + \"$pwd_enrollment_form_container.do\";\n\ttemplate.print(\"Click <a href='\" + enrollmentURL + \"'>here </a> to enroll in the Password Reset program.\");\n\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"16e827a50b02030031a567bff6673afb","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/421beb3304352210559073c06a02f7ef","value":"421beb3304352210559073c06a02f7ef"},"sys_update_name":"sys_script_email_16e827a50b02030031a567bff6673afb","sys_updated_by":"admin","sys_created_on":"2017-10-26 21:08:27","name":"pwd.enrollment_reminder","sys_name":"pwd.enrollment_reminder","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"14","sys_updated_on":"2022-11-08 01:17:01","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n\n    // emailBodyData = {userName, senderName, senderEmailAddress, sharedContent, optionalMessage}\n    var emailBodyData = JSON.parse(event.parm2);\n    if (emailBodyData.senderEmailAddress) {\n      email.setFrom(emailBodyData.senderEmailAddress);\n    }\n\n    template.print('<style>#snc_notification_preference,#snc_notification_unsubscribe {font-family: var(--now-font-family, \\'Source Sans Pro\\');font-style:normal;font-size: var(--now-global-font-size--md, 16px);line-height: 20px;text-decoration-line: underline;color: rgb(var(--now-color--link-2, 60, 89, 231));      }      </style>');\n\n    template.print('<div style=\"font-family: var(--now-font-family, \\'Lato\\');font-style: normal;font-size: var(--now-global-font-size--md, 16px);line-height: 19px;color: rgb(var(--now-color--neutral-21, 0, 0, 0));\">');\n\n    // Salutation\n    template.print('<p>');\n    template.print(gs.getMessage('Hey {0},', emailBodyData.userName));\n    template.print('</p>');\n\n    // Intro line\n    template.print('<p style=\"font-style: normal;font-size: var(--now-global-font-size--lg, 20px);line-height: 27px;margin-bottom:0;\">');\n    template.print(gs.getMessage('<b>{0}</b> wants to share the following admin center content with you', emailBodyData.senderName));\n    template.print('</p>');\n\n    // Link shared\n    template.print('<p style=\"margin-top: var(--now-global-space--sm, 0.5rem);\">');\n    template.print('<a style=\"font-family: var(--now-font-family, \\'Source Sans Pro\\');font-style: normal;font-size: var(--now-global-font-size--md, 16px);line-height: 20px;text-decoration-line: underline;color: rgb(var(--now-color--link-2, 60, 89, 231));\" href=' + emailBodyData.sharedContent + '>' + emailBodyData.sharedContent + '</a>');\n    template.print('</p>');\n\n    // Custom message\n    if (emailBodyData.optionalMessage) {\n        template.print('<p style=\"font-style: normal;font-size: var(--now-global-font-size--md, 16px);line-height: 22px;\">');\n        template.print(gs.getMessage('<b>{0}</b> says, \"{1}\"', [emailBodyData.senderName, emailBodyData.optionalMessage]));\n        template.print('</p>');\n    }\n\n    // Open button\n    template.print('<p style=\"margin-top: var(--now-global-space--xxl, 2rem);\">');\n    template.print(gs.getMessage('<a style=\"padding: calc(6/16 * var(--now-global-space--lg, 1rem)) var(--now-global-space--lg, 16px) calc(7/16 * var(--now-global-space--lg, 1rem)); background: rgb(var(--now-color--primary-1, 79, 82, 189));border-radius: var(--now-global--border-radius--md, 4px);color: rgb(var(--now-color_background--primary, 255, 255, 255));text-decoration: none;\" href={0}>Open</a>', emailBodyData.sharedContent));\n    template.print('</p>');\n\n    template.print('</div>');\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"18e617efb7f611109cfe23508e11a9ee","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1163fa730f102010e8c940c1df767e8c","value":"1163fa730f102010e8c940c1df767e8c"},"sys_update_name":"sys_script_email_18e617efb7f611109cfe23508e11a9ee","sys_updated_by":"maint","sys_created_on":"2022-11-02 21:24:51","name":"admin_center_content_shared","sys_name":"admin_center_content_shared","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1163fa730f102010e8c940c1df767e8c","value":"1163fa730f102010e8c940c1df767e8c"},"new_lines_to_html":"false","sys_created_by":"maint","sys_policy":""},{"sys_mod_count":"1","sys_updated_on":"2023-03-19 23:52:34","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\t\n\tvar viewRecommendationsLink = global.AutoResolutionUtil.getViewRecommendationsLink(current.sys_class_name, current.sys_id);\n\ttemplate.print(viewRecommendationsLink + '&amp;action=iar_close_request');\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"191b62cd534e011031a5ddeeff7b12a4","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca4f3f704b52210559073c06a02f789","value":"aca4f3f704b52210559073c06a02f789"},"sys_update_name":"sys_script_email_191b62cd534e011031a5ddeeff7b12a4","sys_updated_by":"admin","sys_created_on":"2022-03-03 20:51:39","name":"getIARCloseRequestLink","sys_name":"getIARCloseRequestLink","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"2","sys_updated_on":"2017-05-08 18:06:58","sys_tags":"","script":"attachLinksSM();\nfunction attachLinksSM() {\n   //Check for any attachments and add attachment links if they exist\n   var gr = new GlideRecord('sys_attachment');\n   gr.addQuery('table_sys_id',current.sys_id);\n   gr.query();\n   if (gr.hasNext()) {\n      template.print(\"Attachments: <br />\");\n      while (gr.next()) {\n         var attachLink = '<a href=\"' + gs.generateURL(gr.getTableName(),gr.sys_id) +  '\">' + gr.file_name + '</a>';\n         template.print(attachLink +  \"<br />\");\n      }\n   }\n}","sys_class_name":"sys_script_email","sys_id":"19b65aa693e6320050bef157b67ffb2f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3c0ca3b704352210559073c06a02f7bb","value":"3c0ca3b704352210559073c06a02f7bb"},"sys_update_name":"sys_script_email_19b65aa693e6320050bef157b67ffb2f","sys_updated_by":"admin","sys_created_on":"2017-05-08 18:02:56","name":"attach_links_sm","sys_name":"attach_links_sm","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"8","sys_updated_on":"2022-12-19 18:05:23","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n\n    var emailBodyData = JSON.parse(event.parm2);\n    if (emailBodyData.senderEmailAddress)\n        email.setFrom(emailBodyData.senderEmailAddress);\n\n    template.print('<style>#snc_notification_preference,#snc_notification_unsubscribe {font-family: \\'Source Sans Pro\\';font-style:normal;font-weight: 400;font-size: 16px;line-height: 20px;text-decoration-line: underline;color: rgb(var(--now-color--primary-1, #4F52BD));      }      </style>');\n    template.print('<div style=\"font-family: \\'Lato\\';font-style: normal;font-weight: 400;font-size: 16px;line-height: 19px;color: rgb(var(--now-color--neutral-21, 0, 0, 0));\">');\n\n    // Salutation\n    template.print(gs.getMessage('<p>Hello {0}!</p>', emailBodyData.userName));\n\n    // Star rating\n    template.print('<p style=\"margin-top: 0.5rem;font-family: \\'Source Sans Pro\\';font-style: normal;font-weight: 400;font-size: 16px;line-height: 20px;\"><b>Star ratings: </b>' + emailBodyData.sharedContent + '</p>');\n\n    // Custom message\n    template.print(gs.getMessage('<p style=\"font-style: normal;font-size: 16px;line-height: 22px;\"><b>Tell us more: </b>{0}</p>', emailBodyData.optionalMessage));\n\n    // Can contact customer for follow-up (legal requirement)\n    template.print(gs.getMessage('<p style=\"font-style: normal;font-size: 16px;line-height: 22px;\"><b>Can contact customer for follow-up?: </b>{0}</p>', emailBodyData.contactPermission));\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"1a79ee2843635510b643a7ec6bb8f2f5","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1163fa730f102010e8c940c1df767e8c","value":"1163fa730f102010e8c940c1df767e8c"},"sys_update_name":"sys_script_email_1a79ee2843635510b643a7ec6bb8f2f5","sys_updated_by":"admin","sys_created_on":"2022-11-30 17:22:15","name":"admin_center_landing_page_feedback","sys_name":"admin_center_landing_page_feedback","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1163fa730f102010e8c940c1df767e8c","value":"1163fa730f102010e8c940c1df767e8c"},"new_lines_to_html":"false","sys_created_by":"maint","sys_policy":""},{"sys_mod_count":"17","sys_updated_on":"2022-01-27 20:01:16","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n\tvar requestorName = current.opened_by.getRefRecord().getValue('first_name');\n\tvar requestNumber = current.getValue('number');\n\tvar linkToRequest = '<a style=\"color:inherit;\" href=\"' + current.getLink() + '\">' + requestNumber + '</a>';\n\n\tvar gr_sys_user_group = new GlideRecord('sys_user_group');\n\tgr_sys_user_group.get(AppIntakeConstants.groups.APP_ENGINE_ADMINS);\n\n\tvar adminEmail = gr_sys_user_group.getValue('email');\n\tvar linkToAdminEmail = adminEmail ? gs.getMessage('<a style=\"color:inherit;\" href=\"mailto:' + adminEmail + '\">admin</a>') : 'admin';\n\n\tvar requestEmail = new sn_app_eng_notify.AppEngineEmailScript();\n\trequestEmail.addHeading(gs.getMessage(\"Automated User Provisioning Failed\"));\n\n\trequestEmail.addText(gs.getMessage(\"Hi {0},\", requestorName));\n\n\trequestEmail.addText(gs.getMessage(\"The app intake request {0} was not completed successfully due to an unknown error and manual intervention has been requested. Please contact your {1} if you have any further questions.\", [linkToRequest, linkToAdminEmail]));\n\n\ttemplate.print(requestEmail.getBody());\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"1dc21e7c53d54110b846ddeeff7b12e6","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3d3c2505c3e22010b83971e54440dd75","value":"3d3c2505c3e22010b83971e54440dd75"},"sys_update_name":"sys_script_email_1dc21e7c53d54110b846ddeeff7b12e6","sys_updated_by":"admin","sys_created_on":"2022-01-24 17:38:31","name":"get_app_intake_failed_user_provisioning_requestor","sys_name":"get_app_intake_failed_user_provisioning_requestor","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3d3c2505c3e22010b83971e54440dd75","value":"3d3c2505c3e22010b83971e54440dd75"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"3","sys_updated_on":"2024-07-12 02:54:40","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n    var creatorStudioEmail = new CreatorStudioEmailScript();\n    var redirectTorecordPath = true;\n    creatorStudioEmail.addHeading(gs.getMessage(\"{0} was closed\", current.getDisplayValue(\"number\")));\n    creatorStudioEmail.addText(gs.getMessage(\"Hi {0},\", current.getDisplayValue(\"assignment_group\")), false);\n    creatorStudioEmail.addText(gs.getMessage(\"This request to create a new app in Creator Studio has been approved.\"), false);\n    creatorStudioEmail.addInfo(gs.getMessage(\"Request\"), current.getDisplayValue(\"number\"));\n    creatorStudioEmail.addInfo(gs.getMessage(\"Person requesting app\"), current.getDisplayValue(\"requestor_name\"));\n    creatorStudioEmail.addInfo(gs.getMessage(\"App name\"), current.getDisplayValue(\"short_description\"));\n    creatorStudioEmail.addText(gs.getMessage(\"It has been closed and this person can now start building their app.\"), false);\n    template.print(creatorStudioEmail.getBody());\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"1e78a274eba002107dcf7bd6c1522889","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/81ac5fe1c7442110408bc8d6f2c260d1","value":"81ac5fe1c7442110408bc8d6f2c260d1"},"sys_update_name":"sys_script_email_1e78a274eba002107dcf7bd6c1522889","sys_updated_by":"admin","sys_created_on":"2024-02-21 21:14:17","name":"request_admin_success","sys_name":"request_admin_success","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/81ac5fe1c7442110408bc8d6f2c260d1","value":"81ac5fe1c7442110408bc8d6f2c260d1"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"0","sys_updated_on":"2024-04-17 10:43:29","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n\t\tvar portalData = JSON.parse(event.parm1);\n\n\t\tvar linkText = gs.getMessage(\"View the article in {0}\", portalData.portalName);\n\t\tvar knowledgeUrl = '/' + portalData.portalSuffix + '?id=kb_article_view&sysparm_article=' + current.number;\n\n\t\ttemplate.print(\"<a title=\"+linkText+\" href=\"+knowledgeUrl+\">\"+linkText+\"</a>\");\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"1ec174be77a10210972839bd1e5a9936","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4249e63a28d54d61bb6fbf61fd86cccb","value":"4249e63a28d54d61bb6fbf61fd86cccb"},"sys_update_name":"sys_script_email_1ec174be77a10210972839bd1e5a9936","sys_updated_by":"admin","sys_created_on":"2024-04-17 10:43:29","name":"View_the_article","sys_name":"View_the_article","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/4249e63a28d54d61bb6fbf61fd86cccb","value":"4249e63a28d54d61bb6fbf61fd86cccb"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"0","sys_updated_on":"2018-03-14 18:51:01","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n         template.print(gs.getProperty('glide.servlet.uri'));\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"1f2efa1ec3b01300e7c7d44d81d3aee9","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0fdd6483d72302004f1e82285e61033a","value":"0fdd6483d72302004f1e82285e61033a"},"sys_update_name":"sys_script_email_1f2efa1ec3b01300e7c7d44d81d3aee9","sys_updated_by":"admin","sys_created_on":"2018-03-14 18:51:01","name":"sn_publications_host_url","sys_name":"sn_publications_host_url","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/0fdd6483d72302004f1e82285e61033a","value":"0fdd6483d72302004f1e82285e61033a"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"38","sys_updated_on":"2020-10-05 11:21:47","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current,\n\t\t/* TemplatePrinter */ template,\n        /* Optional EmailOutbound */ email,\n\t\t/* Optional GlideRecord */ email_action,\n        /* Optional GlideRecord */ event) {\n\n\t/*Current is the signal record in pa_xmr_signals*/\n\t/*event.parm1 is display value of UUID \n\tand event.parm2 is the link to Agent Workspace as a string */\n\n\tvar signalTypeChoice = current.signal_type;\n\tvar signalType = current.signal_type.getDisplayValue();\n\tvar uuidDisplayValue = '<strong>' + event.parm1 + '</strong>';\n\t\n\tif(signalTypeChoice == 5) {\n\t\tsetEmailPropertiesForAntiSignal(template, email, uuidDisplayValue, signalType);\n\t} else {\n\t\tsetEmailPropertiesForSignal(template, email, uuidDisplayValue, signalType, event.parm2);\n\t}\n\t\n})(current, template, email, email_action, event);\n\nfunction setEmailPropertiesForAntiSignal(template, email, uuidDisplayValue, signalType) {\n\tvar lineOneArgs = [];\n\tvar signalTypeStrong = '<strong>' + signalType + '</strong>';\n\tlineOneArgs.push(signalTypeStrong);\n\tlineOneArgs.push(uuidDisplayValue);\n\tvar lineOne = gs.getMessage('A new {0} is detected in the scores of {1}. This suggests that the workflow that {1} represents, is considered to be in control, i.e. stable with predictable outcomes.', lineOneArgs);\n\tvar staticText = getStaticContentForAntiSignal();\n\tvar subject = gs.getMessage('A new {0} is detected', signalType);\n\ttemplate.print('<p>' + lineOne + '</p>');\n\ttemplate.print(staticText);\n\temail.setSubject(subject);\n}\n\nfunction getStaticContentForAntiSignal() {\n\tvar text = gs.getMessage(\"This is the window of opportunity to start an initiative that fundamentally improves the outcomes of the workflow. The sustainable improvement will be evidenced in the scores of the indicator. On the KPI Signal page, the result of the improvement initiative is shown in the chart by a process control band that\");\n\tvar listLineOne = gs.getMessage(\"-has a higher/lower average score in line with the desired outcome or target score\");\n\tvar listLineTwo = gs.getMessage(\"and/or\");\n\tvar listLineThree = gs.getMessage(\"-is a more narrow band thereby indicating less variation and thus more predictable outcomes.\");\n\tvar combined =\n\t\t\"<p>\" + \n\t\t\ttext + \n\t\t\t\"<br>\" + listLineOne +\n\t\t\t\"<br>\" + listLineTwo +\n\t\t\t\"<br>\" + listLineThree +\n\t\t\"</p>\";\n\treturn combined;\n}\n\nfunction setEmailPropertiesForSignal(template, email, uuidDisplayValue, signalType, linkURL) {\n\tvar lineOneArgs = [];\n\tvar signalTypeStrong = '<strong>' + signalType + '</strong>';\n\tlineOneArgs.push(signalTypeStrong);\n\tlineOneArgs.push(uuidDisplayValue);\n\tvar hrefTag = getLinkForEmail(linkURL);\n\t\n\tvar lineOne = gs.getMessage('A new {0} is detected in the scores of {1}.', lineOneArgs);\n\tvar lineTwo = gs.getMessage('Please investigate, and take the appropriate action on the {0}.', hrefTag);\n\tvar subject = gs.getMessage('A new {0} is detected', signalType);\n\n\ttemplate.print('<p>' + lineOne + '</p>');\n\ttemplate.print('<p>' + lineTwo + '</p>');\n\temail.setSubject(subject);\n}\n\n//Param: Complete URL\n//Returns: Anchor tag with href to KPI Signals Page\nfunction getLinkForEmail(linkURL) {\n\tvar attachLink = '<a href=\"' + linkURL + '\">' + gs.getMessage('signal page') + '</a>';\n\treturn attachLink;\n}\n","sys_class_name":"sys_script_email","sys_id":"1f4c6fdf5b021010f8f93eaa3d81c75d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c5dd6b3304752210559073c06a02f77a","value":"c5dd6b3304752210559073c06a02f77a"},"sys_update_name":"sys_script_email_1f4c6fdf5b021010f8f93eaa3d81c75d","sys_updated_by":"admin","sys_created_on":"2020-07-22 13:06:38","name":"new_signal_notification_responsible_user","sys_name":"new_signal_notification_responsible_user","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"23","sys_updated_on":"2022-03-02 09:59:07","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n\n    var grProject = current.project.getRefRecord();\n    var projectLink = grProject.getLink();\n    var taggedBy = event.parm2;\n    var number = grProject.getValue('number');\n    var projectName = grProject.getValue('name');\n\n    email.setSubject(\"New mention in \" + number + \" - \" + projectName + \", a Process Mining project\");\n\n    template.print(\"New mention by \" + taggedBy + \" in the Process Mining Project <a href='\" + projectLink + \"' target='_blank'>\" +\n        grProject.number + \" - \" + grProject.name + \"</a>.<br/><br/>\");\n\n    template.print(\"<strong>Note:</strong> \" + \"<br/>\");\n\n    template.print(current.getDisplayValue(\"note\") + \"<br/>\");\n\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"1f67857b5303101025a7ddeeff7b1229","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aa76333f04b52210559073c06a02f764","value":"aa76333f04b52210559073c06a02f764"},"sys_update_name":"sys_script_email_1f67857b5303101025a7ddeeff7b1229","sys_updated_by":"admin","sys_created_on":"2020-09-11 07:08:56","name":"po_content_for_note_mentioned","sys_name":"po_content_for_note_mentioned","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"12","sys_updated_on":"2018-02-14 11:57:43","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n\tvar portal = gs.getProperty(\"sn_km_portal.glide.knowman.serviceportal.portal_url\",'kb');\n\t\n    template.print(\"Hi \"+current.opened_by.first_name+\",<br/>\");\n\ttemplate.print(\"<br/>\");\n\ttemplate.print(\"The feedback you submitted \");\n\ttemplate.print(\"<a href='\"+gs.getProperty('glide.servlet.uri')+ portal  + \"?id=form&table=kb_feedback_task&sys_id=\"+\tcurrent.sys_id + \"'>\"+ current.number +\"</a>\");\n\ttemplate.print(\" was resolved. Please review and accept.\");\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"1fa9b3cb67330300d358bb2d07415a43","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2fe727ff04b12210559073c06a02f7dd","value":"2fe727ff04b12210559073c06a02f7dd"},"sys_update_name":"sys_script_email_1fa9b3cb67330300d358bb2d07415a43","sys_updated_by":"admin","sys_created_on":"2018-01-26 14:01:55","name":"Notification: Feedback Task Resolved","sys_name":"Notification: Feedback Task Resolved","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"18","sys_updated_on":"2022-01-21 10:58:19","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n\n    var notificationUtil = new global.ProminMLNotificationUtil(current);\n    email.setSubject(notificationUtil.getEmailSubjectForMLNotification(event));\n    template.print(notificationUtil.getEmailContentForMLNotification(template));\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"209e6c3653010110e562ddeeff7b12d6","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aa76333f04b52210559073c06a02f764","value":"aa76333f04b52210559073c06a02f764"},"sys_update_name":"sys_script_email_209e6c3653010110e562ddeeff7b12d6","sys_updated_by":"admin","sys_created_on":"2022-01-18 05:12:40","name":"po_content_for_ml_solution","sys_name":"po_content_for_ml_solution","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"8","sys_updated_on":"2022-06-03 18:40:36","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n\n    var data = event.getValue(\"parm2\");\n    var parsedData = JSON.parse(data);\n\n    var userName = parsedData.user_full_name;\n    var templateName = parsedData.template_name;\n    var fromGroup = parsedData.currentUserPayloadData && parsedData.currentUserPayloadData.from_group_membership;\n\n    var constructedEmail = new sn_app_eng_notify.AppEngineEmailScript();\n\n    constructedEmail.addHeading(gs.getMessage(\"Your access rights have been removed\"));\n    constructedEmail.addText(gs.getMessage(\"Hi {0},\", userName), false); // greeting\n\t\n    if (!fromGroup) {\n      constructedEmail.addText(gs.getMessage(\"You previously had access to the template \\\"{0}\\\". However, you won't be able to access it again because it's no longer shared with you.\", templateName), true); // message\n    } else {\n\t\tvar groupName = parsedData.currentUserPayloadData.group_name;\n\t\t\n      constructedEmail.addText(gs.getMessage(\"You previously had access to the template \\\"{0}\\\". However, you won't be able to access it again because it's no longer shared with the group \\\"{1}\\\".\", [templateName, groupName]), true); // message\n    }\n    \n\tconstructedEmail.addText(gs.getMessage(\"If you need to access this template, contact your admin and ask them to share it with you again.\")); // message\n\n    email.setSubject(gs.getMessage(\"You no longer have access to an app template\"));\n    template.print(constructedEmail.getBody());\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"20bb5eccc3f74510b5c0c0a1fa40dd79","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_script_email_20bb5eccc3f74510b5c0c0a1fa40dd79","sys_updated_by":"admin","sys_created_on":"2022-05-26 17:06:41","name":"aes_app_template_unshared","sys_name":"aes_app_template_unshared","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"5","sys_updated_on":"2018-07-05 15:03:25","sys_tags":"","script":"// Get necessary data from param2 for displaying the default sharing message\nvar json = new JSON();\nvar invitationDetails = json.decode(event.parm2);\nvar inviteMessage = invitationDetails.inviteMessage; // message added by the user in the Share panel\nvar senderFullName = invitationDetails.senderFullName;\nvar restrictedRecipient = invitationDetails.restrictedRecipient; // is TRUE if user has all the required roles to see the dashboard, FALSE otherwise\nvar dashboardName = invitationDetails.dashboardName;\nvar dashboardSysId = invitationDetails.dashboardSysId;\nvar restrictedToRoles = invitationDetails.restrictedToRoles;\nvar dashboardLink = gs.getProperty('glide.servlet.uri') + \"$dashboards.do?sysparm_dashboard=\" + dashboardSysId;\n \n \ntemplate.print(gs.getMessage('\"{0}\" dashboard has been shared with you by {1}.', [dashboardName, senderFullName]));\n \n// Include message added by the user in the sharing panel\nif (inviteMessage.length > 0) {\n\ttemplate.print(\"<br><br>\");\n\ttemplate.print(inviteMessage);\n}\n \n// For users that don't have all the roles needed to see the dashboard, adjust the default sharing message\nif (restrictedRecipient) {\n\ttemplate.print(\"<br><br>\");\n\ttemplate.print(gs.getMessage(\"ATTENTION - To access the dashboard you are required to have one of the following roles: {0}.\", restrictedToRoles));\n}\n \n// Add link to view dashboard\ntemplate.print(\"<br><br><a href='\" + dashboardLink + \"'>\" + gs.getMessage(\"View dashboard\") + \"</a>\");","sys_class_name":"sys_script_email","sys_id":"21bd7275b72013003b67c50eee11a9f9","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/411bab3304352210559073c06a02f767","value":"411bab3304352210559073c06a02f767"},"sys_update_name":"sys_script_email_21bd7275b72013003b67c50eee11a9f9","sys_updated_by":"admin","sys_created_on":"2018-02-28 19:14:37","name":"dashboards_sharing_script","sys_name":"dashboards_sharing_script","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"8","sys_updated_on":"2014-11-11 15:34:32","sys_tags":"","script":"insertLikeDocumentLinks();\n\nfunction insertLikeDocumentLinks() {\n\tif(!current.message.group.nil() && !current.message.group.table.nil()) {\n\t\tvar tableName = \"\";\n\t\tvar documentName = current.message.group.name;\n\t\tvar gr = new GlideRecord(current.message.group.table);\n\t\tgr.setWorkflow(false);\n\t\tgr.addQuery('sys_id', current.message.group.document);\n\t\tgr.query();\n\t\tif(gr.next()) {\n\t\t\ttableName = \"View \" + gr.getLabel();\n\t\t\tdocumentName = gr.getDisplayValue();\n\t\t}\n\t\telse {\n\t\t\treturn; //we can't insert blank links\n\t\t}\n\n\t\tvar url = \"/nav_to.do?uri=\";\n\t\tif(current.message.group.table == \"kb_knowledge\") {\n\t\t\ttableName = \"View article\";\n\t\t\turl += \"kb_view.do?sys_kb_id=\";\n\t\t}\n\t\telse\n\t\t\turl += current.message.group.table + \".do?sys_id=\";\n\t\turl += current.message.group.document;\n\n\t\ttemplate.print(\"<br />\");\n\t\ttemplate.print(tableName + \": \" + \"<a href='\" + url + \"'>\" + documentName + \"</a>\");\n\t\ttemplate.print(\"<br /><br />\");\n\t}\n}","sys_class_name":"sys_script_email","sys_id":"231e048bc30031006f333b0ac3d3aebe","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/50442b7b04312210559073c06a02f7ef","value":"50442b7b04312210559073c06a02f7ef"},"sys_update_name":"sys_script_email_231e048bc30031006f333b0ac3d3aebe","sys_updated_by":"admin","sys_created_on":"2014-11-02 06:17:53","name":"live_message_like_document_links","sys_name":"live_message_like_document_links","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"6","sys_updated_on":"2022-09-20 10:59:16","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n    var otpCode = event.parm2;\n\tvar expiry = new GlideBoundedIntProperty(\"glide.multifactor.onetime.code.validity\", 5, 3, 10).getInt();\n\tvar message = gs.getMessage('Your 6-digit verification code is {0} it expires in {1} minutes. Enter the code to complete the authentication. Thank you.', [otpCode,expiry]);\n\ttemplate.print(message);\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"234765cbc3211110b3f7dd5c2840dd08","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d7152f3304712210559073c06a02f70f","value":"d7152f3304712210559073c06a02f70f"},"sys_update_name":"sys_script_email_234765cbc3211110b3f7dd5c2840dd08","sys_updated_by":"admin","sys_created_on":"2022-08-30 20:42:10","name":"multifactor_otp_email_notification","sys_name":"multifactor_otp_email_notification","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"10","sys_updated_on":"2016-07-29 01:40:33","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n\tvar name = current.attendee.first_name;\n\tif (!name)\n\t\tname = current.attendee.getDisplayValue();\n\t\n\ttemplate.print(\"Hello \" + name + \",\");\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"23a276aeeb2022002a7a666cd206fe60","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_update_name":"sys_script_email_23a276aeeb2022002a7a666cd206fe60","sys_updated_by":"admin","sys_created_on":"2016-07-14 16:34:45","name":"cab.meeting.attendee.hello","sys_name":"cab.meeting.attendee.hello","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"23","sys_updated_on":"2022-06-08 21:08:50","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n\n\n    var data = event.getValue(\"parm2\");\n    var parsedData = JSON.parse(data);\n\n    var userName = parsedData.user_full_name;\n    var templateName = parsedData.template_name;\n\n    var originInstanceUrl = parsedData.origin_instance_url;\n    var partialPathToTemplatesHomPage = '/now/appenginestudio/templates';\n    var templatesHomePageRef = originInstanceUrl + partialPathToTemplatesHomPage;\n\n    var templatesResourceRef = originInstanceUrl + '/api/now/v1/context_doc_url/app_template_authoring';\n    var referenceLinkStyle = 'color: #01778e;';\n    var referenceOpen = '<a style=\"' + referenceLinkStyle + '\" href=\"' + templatesResourceRef + '\">';\n    var referenceClose = '</a>';\n\n    var message = gs.getMessage(\"The template \\\"{0}\\\" was recently shared with you. Now you can view the template in App Engine Studio and use it to build applications. {1}Learn more about app templates{2}\", [templateName, referenceOpen, referenceClose]);\n\n    var currentUserPayloadData = parsedData && parsedData.currentUserPayloadData;\n\n    if (currentUserPayloadData && currentUserPayloadData.from_group_membership && currentUserPayloadData.group_name) {\n        message = gs.getMessage(\"The template \\\"{0}\\\" was recently shared with the group \\\"{1}\\\". Now you can view the template in App Engine Studio and use it to build applications. {2}Learn more about app templates{3}\", [templateName, currentUserPayloadData.group_name, referenceOpen, referenceClose]);\n    }\n\n    var constructedEmail = new sn_app_eng_notify.AppEngineEmailScript();\n\n    constructedEmail.addHeading(gs.getMessage(\"Now you can access this template\"));\n    constructedEmail.addText(gs.getMessage(\"Hi {0},\", userName), false); // greeting\n    constructedEmail.addText(message, true); // message\n    constructedEmail.addButton(gs.getMessage(\"View all app templates\"), templatesHomePageRef); // button\n\n    email.setSubject(gs.getMessage(\"An app template was shared with you\"));\n    template.print(constructedEmail.getBody());\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"254b01ddc3670110a9f5e548fa40dd9c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_script_email_254b01ddc3670110a9f5e548fa40dd9c","sys_updated_by":"admin","sys_created_on":"2022-05-17 22:04:19","name":"aes_app_template_shared","sys_name":"aes_app_template_shared","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"3","sys_updated_on":"2016-05-17 16:12:28","sys_tags":"","script":"(function runMailScript(current, template, email, email_action, event) {\n\t\n\ttemplate.print('<a href=\"' + gs.getProperty('glide.servlet.uri') + '\" style=\"color:#ffffff; text-decoration: none !important;\">' + 'Go to Instance' + '</a>');\n\t\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"25e4a433ebd31200c8690e815206fec3","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ccf367b704312210559073c06a02f7b9","value":"ccf367b704312210559073c06a02f7b9"},"sys_update_name":"sys_script_email_25e4a433ebd31200c8690e815206fec3","sys_updated_by":"admin","sys_created_on":"2016-05-16 21:30:26","name":"go_to_instance_hyperlink","sys_name":"go_to_instance_hyperlink","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"0","sys_updated_on":"2018-09-17 14:10:42","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n          // Add your code here\n\ttemplate.print(event.parm2);\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"286efc6273602300cbb654eb7df6a7d6","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_script_email_286efc6273602300cbb654eb7df6a7d6","sys_updated_by":"admin","sys_created_on":"2018-09-17 14:10:42","name":"add_on_call_report_info","sys_name":"add_on_call_report_info","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"9","sys_updated_on":"2025-04-29 14:45:59","sys_tags":"","script":"(function runMailScript(current, template, email, email_action, event) {\n\n    template.print(sn_i18n.Message.getMessage(\"global\",\n        \"{html0}{incidentNumber} {html1}{html2}was recently assigned to you.{html3}\", {\n            incidentNumber: current.number,\n            html0: '<div style=\"font-size: 16px;\" ><span style=\"font-weight: 700; color: #181A1F;\">',\n            html1: '</span>',\n            html2: '<span style=\"font-weight: 400;\">',\n            html3: '</span></div>'\n        }));\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"28ff9370d751120035ae23c7ce6103db","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9eb76f7f04b12210559073c06a02f78a","value":"9eb76f7f04b12210559073c06a02f78a"},"sys_update_name":"sys_script_email_28ff9370d751120035ae23c7ce6103db","sys_updated_by":"admin","sys_created_on":"2016-01-29 17:14:09","name":"incident_assigned_to_you","sys_name":"incident_assigned_to_you","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"4","sys_updated_on":"2019-08-20 08:32:32","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\tvar obj = new JSON().decode(event.parm2);\n\tvar article_link = new KBCommon().getArticleLink(obj.article_id);\n\temail.setSubject(\"Reg: Article \"+obj.article_number+ \" has been commented on \"+obj.commented_on);\n    template.print(\"Hi  \"+obj.ownership_group_name+\" member,<br/>\");\n\ttemplate.print(\"<br/>\");\n\ttemplate.print(\"An article that you have created/updated has received a new comment.<br/>\");\n\ttemplate.print(\"<br/>\");\n\ttemplate.print(\"<b>Article Number</b>: <a href='\"+article_link+ \"'>\"+obj.article_number+\"</a><br/>\");\n\ttemplate.print(\"<b>Article Title</b>: \"+obj.short_desc+\"<br/>\");\n\ttemplate.print(\"<b>Commented By</b>: \"+obj.commented_by+\"<br/>\");\n\ttemplate.print(\"<b>Received On</b>: \"+obj.commented_on+\"<br/>\");\n\ttemplate.print(\"<b>Comment</b>: \"+obj.comment+\"<br/>\");\n\ttemplate.print(\"<br/>\");\n\ttemplate.print(\"If this comment requires you to update the article, you may do so from \");\n\ttemplate.print(\"<a href='\"+gs.getProperty('glide.servlet.uri')+\"kb_knowledge.do?sys_id=\"+\tobj.latest_version_id + \"'>here.</a><br/>\");\n\t\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"2a07da6767d02300dbfdbb2d07415a77","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/67dc6bfb04352210559073c06a02f738","value":"67dc6bfb04352210559073c06a02f738"},"sys_update_name":"sys_script_email_2a07da6767d02300dbfdbb2d07415a77","sys_updated_by":"admin","sys_created_on":"2018-09-08 12:50:29","name":"Notification Group: Article commented","sys_name":"Notification Group: Article commented","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"229","sys_updated_on":"2017-01-18 00:06:10","sys_tags":"","script":"var atfUtility = new ATFNotificationUtils();\nvar MAX_TEST_HISTORY = GlideProperties.getInt('sn_atf.schedule.suite_result_email.max_test_history', 10);\nvar MAX_DEPTH = GlideProperties.getInt('sn_atf.schedule.suite_result_email.max_depth', 20);\nif (MAX_DEPTH < 0 || MAX_DEPTH > 100)\n\tMAX_DEPTH = 20;\nvar PASS_COLOR = gs.getProperty('sn_atf.schedule.suite_result_email.pass_color', '#d3f6d6');\nvar FAIL_COLOR = gs.getProperty('sn_atf.schedule.suite_result_email.fail_color', '#fccac9');\nvar ERROR_COLOR = gs.getProperty('sn_atf.schedule.suite_result_email.error_color', '#ffdcc6');\nvar SKIP_COLOR = gs.getProperty('sn_atf.schedule.suite_result_email.skip_color', '#ffffff');\nvar CANCEL_COLOR = gs.getProperty('sn_atf.schedule.suite_result_email.cancel_color', '#ffffff');\nvar ONLY_FAILED_RESULTS = GlideProperties.getBoolean('sn_atf.schedule.suite_result_email.only_show_failed_results', true);\n\nprintCSS();\nsetSubjectLine();\nprintInfo();\nprintSuiteStats();\nprintSuiteFailuresWrapper();\nprintMessage();\n\nfunction printCSS() {\n\t\ttemplate.print(atfUtility.getCSSStyle());\n}\n\nfunction printInfo() {\n\ttemplate.print('<link href=\"/styles/heisenberg/source_sans_pro.css\" rel=\"stylesheet\"/><link href=\"/styles/heisenberg/heisenberg_all.css\" rel=\"stylesheet\"/>');\n\ttemplate.print('<div class=\"heading\">');\n\tvar suiteLinkTag = '<a class=\"link\" href=\"' + gs.getProperty('glide.servlet.uri') + current.getLink() + '\">' + current.test_suite.name + '</a>';\n\ttemplate.print(gs.getMessage('atf_Test Suite: {0}', suiteLinkTag));\n\ttemplate.print('</div>');\n}\n\nfunction printSuiteStats() {\n\ttemplate.print('<div class=\"table_title\">'+ gs.getMessage('Suite Stats') + '</div>');\n\ttemplate.print('<div class=\"table_wrap\">');\n\ttemplate.print('<table id=\"pivot_table\" class=\"pivot-2-levels table\" cellspacing=\"0\" cellpadding=\"0\">');\n\ttemplate.print('<tbody>');\n\ttemplate.print('<tr class =\"header-row\">');\n\ttemplate.print('<th class=\"x-axis-category\" style=\"border:none;\"></th>');\n\ttemplate.print('<th class=\"x-axis-category\">' + gs.getMessage('Suites') + '</th>');\n\ttemplate.print('<th class=\"x-axis-category\">' + gs.getMessage('Tests') + '</th></tr>');\n\ttemplate.print('<tr>');\n\ttemplate.print('<th class=\"y-axis-category\">' + gs.getMessage('atf_Failed ({0})', gs.getMessage('atf_fail_status_abbreviation')) + '</th>');\n\ttemplate.print('<th class=\"num\" style=\"background-color:'+ FAIL_COLOR  +';\">' + atfUtility.getNumStatusSuites(current, \"failure\") + '</th>');\n\ttemplate.print('<th class=\"num\" style=\"background-color:'+ FAIL_COLOR  +';\">' + current.rolled_up_test_failure_count + '</th></tr>');\n\ttemplate.print('<tr>');\n\ttemplate.print('<th class=\"y-axis-category\">' + gs.getMessage('atf_Error ({0})', gs.getMessage('atf_error_status_abbreviation')) + '</th>');\n\ttemplate.print('<th class=\"num\" style=\"background-color: '+ ERROR_COLOR  +';\">' + atfUtility.getNumStatusSuites(current, \"error\") + '</th>');\n\ttemplate.print('<th class=\"num\" style=\"background-color:'+ ERROR_COLOR  +';\">' + current.rolled_up_test_error_count + '</th></tr>');\n\ttemplate.print('<tr>');\n\ttemplate.print('<th class=\"y-axis-category\">' + gs.getMessage('atf_Skipped ({0})', gs.getMessage('atf_skip_status_abbreviation')) + '</th>');\n\ttemplate.print('<th class=\"num\" style=\"background-color: '+ SKIP_COLOR  +';\">' + atfUtility.getNumStatusSuites(current, \"skipped\") + '</th>');\n\ttemplate.print('<th class=\"num\" style=\"background-color: '+ SKIP_COLOR  +';\">' + getRolledUpCount(current, 'skipped', 0) + '</th></tr>');\n\ttemplate.print('<tr>');\n\ttemplate.print('<th class=\"y-axis-category\">' + gs.getMessage('atf_Canceled ({0})', gs.getMessage('atf_cancel_status_abbreviation')) + '</th>');\n\ttemplate.print('<th class=\"num\" style=\"background-color: '+ CANCEL_COLOR  +';\">' + atfUtility.getNumStatusSuites(current, \"canceled\") + '</th>');\n\ttemplate.print('<th class=\"num\" style=\"background-color: '+ CANCEL_COLOR  +';\">' + getRolledUpCount(current, 'canceled', 0) + '</th></tr>');\n\ttemplate.print('<tr>');\n\ttemplate.print('<th class=\"y-axis-category\">' + gs.getMessage('atf_Passed ({0})', gs.getMessage('atf_pass_status_abbreviation')) + '</th>');\n\ttemplate.print('<th class=\"num\" style=\"background-color:'+ PASS_COLOR  +';\">' + atfUtility.getNumSuccessfulSuites(current) + '</th>');\n\ttemplate.print('<th class=\"num\" style=\"background-color:'+ PASS_COLOR  +';\">' + current.rolled_up_test_success_count + '</th></tr>');\n\ttemplate.print('<tr>');\n\ttemplate.print('<th class=\"y-axis-category\">' + gs.getMessage('atf_Total ({0})', gs.getMessage('atf_total_abbreviation')) + '</th>');\n\ttemplate.print('<th class=\"num\">' + atfUtility.getTotalNumSuites(current.test_suite) + '</th>');\n\ttemplate.print('<th class=\"num\">' + atfUtility.getTotalTestsInSuite(current) + '</th></tr>');\n\ttemplate.print('</tbody></table></div></div>');\n}\n\nfunction printSuiteFailuresWrapper(){\n\ttemplate.print('<div class=\"table_title\" style=\"margin-bottom:0px;\">' + gs.getMessage('Test Suite Results') + '</div>');\n\ttemplate.print('<div class=\"table_wrap\">');\n\ttemplate.print('<table id=\"pivot_table\" class=\"pivot-2-levels table\" cellspacing=\"0\" cellpadding=\"0\">');\n\ttemplate.print('<tbody>');\n\tprintSuiteFailures(current, 1, \"\", 1);\n}\n\nfunction printSuiteFailures(testSuiteResult, num, totalPathURL, depthCheck) {\n\t\tvar url = gs.getProperty('glide.servlet.uri') + 'sys_atf_test_suite_result.do?sys_id=' + testSuiteResult.getUniqueValue();\n\t\tvar tempPathURL = '<a class=\"link_header\" title=\"' + testSuiteResult.test_suite.name +\n\t\t\t'\"href=\"' + url + '\"style=\"text-decoration: none;\">' + num + \".\" + '</a>';\n\t\ttotalPathURL += tempPathURL;\n\n\t\ttemplate.print('<tr class =\"header-row\">');\n\t\ttemplate.print('<th class=\"x-axis-category-test-suite\" style=\"text-align: left; background-color:#e7e9eb;\">' + totalPathURL);\n\t\ttemplate.print('<a class=\"link_header\" href=\"' + url + '\"style=\"text-decoration: none;\">' + \" \" + testSuiteResult.test_suite.name + \" \" + '</a></th>');\n\t\ttemplate.print('<th class=\"x-axis-category-test-suite\" colspan=\"' + MAX_TEST_HISTORY + 1 + '\"style=\"text-align: right; background-color:#e7e9eb;\">');\n\n\t\ttemplate.print('<a style=\"float:right;font-weight: bold;color: #485563;text-decoration:none;\">');\n\t\tprintRolledUpValues(testSuiteResult);\n\t\ttemplate.print('</a></th></tr>');\n\n\t\tprintFailedTests(testSuiteResult);\n\n\t\tvar childSuiteGR = new GlideRecord('sys_atf_test_suite_result');\n\t\tchildSuiteGR.addQuery('parent.sys_id', testSuiteResult.sys_id);\n\t\tchildSuiteGR.query();\n\n\t\tdepthCheck++;\n\t\tif (childSuiteGR.getRowCount() > 0 && depthCheck > MAX_DEPTH) {\n\t\t\tgs.logError(\"Maximum suite depth was exceeded. No children of this suite will be shown.\");\n\t\t\ttemplate.print('<tr><td class=\"fixed_cell\" style=\"height:23px;border-right: 1px solid #bdc0c4;\" colspan=\"' + MAX_TEST_HISTORY + 1 + '\">' + gs.getMessage('Maximum suite depth was exceeded. No children of this suite will be shown.') + '</td></tr>');\n\t\t\treturn;\n\t\t}\n\t\n\t\tnum = 1;\n\t\twhile(childSuiteGR.next()) {\n\t\t\tprintSuiteFailures(childSuiteGR, num, totalPathURL, depthCheck);\n\t\t\tnum++;\n\t\t}\n}\n\nfunction printRolledUpValues(testSuiteResult) {\n\tvar skipped = getRolledUpCount(testSuiteResult, 'skipped', 0);\n\tvar total = atfUtility.getTotalTestsInSuite(testSuiteResult).toString();\n\tvar cancel = getRolledUpCount(testSuiteResult, 'canceled', 0);\n\ttemplate.print(gs.getMessage('atf_stats_[ F:1 E:0 S:0 C:0 P:1 T:2 ]', [gs.getMessage('atf_fail_status_abbreviation'), testSuiteResult.rolled_up_test_failure_count, gs.getMessage('atf_error_status_abbreviation'), testSuiteResult.rolled_up_test_error_count, gs.getMessage('atf_skip_status_abbreviation'), ((skipped == 0) ? \"0\" : skipped), gs.getMessage('atf_cancel_status_abbreviation'), ((cancel == 0) ? \"0\" : cancel), gs.getMessage('atf_pass_status_abbreviation'), testSuiteResult.rolled_up_test_success_count, gs.getMessage('atf_total_abbreviation'), total])); \n}\n\nfunction printFailedTests(testSuiteResult) {\n\tvar passingTestResultGA = new GlideAggregate('sys_atf_test_result');\n\tpassingTestResultGA.addQuery('parent.sys_id', testSuiteResult.sys_id);\n\tpassingTestResultGA.addQuery('status', 'IN', ['success', 'success_with_warnings']);\n\tpassingTestResultGA.query();\n\t\n\t// find if this suite has passing tests\n\tvar doesSuiteHavePassingTests = passingTestResultGA.getRowCount() > 0;\n\t\n\tvar testResultGR = new GlideRecord('sys_atf_test_result');\n\ttestResultGR.addQuery('parent.sys_id', testSuiteResult.sys_id);\n\t//only print tests that did not pass\n\tif (ONLY_FAILED_RESULTS)\n\t\ttestResultGR.addQuery('status', 'IN', 'failure, skipped, error, canceled');\n\ttestResultGR.query();\n\t\n\tif (testResultGR.getRowCount() == 0) {\n\t\tif (doesSuiteHavePassingTests)\n\t\t\ttemplate.print('<tr><td class=\"fixed_cell\" style=\"height:23px;border-right: 1px solid #bdc0c4;\" colspan=\"' + MAX_TEST_HISTORY + 1 + '\">' + gs.getMessage(\"All member tests on this suite passed.\") + '</td></tr>');\n\t\telse {\n\t\t\ttemplate.print('<tr><td class=\"fixed_cell\" style=\"height:23px;border-right: 1px solid #bdc0c4;\" colspan=\"' + MAX_TEST_HISTORY + 1 + '\">' + gs.getMessage(\"This suite does not have any member tests.\") + '</td></tr>');\n\t\t}\n\t}\n\twhile(testResultGR.next()) {\n\t\ttemplate.print('<tr>');\n\t\ttemplate.print('<td class=\"fixed_cell\"><a class=\"link\" href=\"' + \n\t\t\t\t\t\tgs.getProperty('glide.servlet.uri') + 'sys_atf_test_result.do?sys_id=' + \n\t\t\t\t\t    testResultGR.getUniqueValue() + '\"style=\"color: #278efc;margin-left: 15px;text-decoration:none\">' + testResultGR.test_name + '</a></td>');\n\t\t\n\t\taddPastResults(testResultGR, testSuiteResult.test_suite.sys_id);\t      \n\t\ttemplate.print('</tr>');\n\t}\n}\n\nfunction addPastResults(testResultGR, testSuiteSysId) {\n\tvar count = 0;\n\t\n\tvar pastTestResultGR = new GlideRecord('sys_atf_test_result');\n\tpastTestResultGR.addQuery('test.sys_id', testResultGR.test.sys_id);\n\t// only print test results for tests run in this suite\n\tpastTestResultGR.addQuery('parent.test_suite', testSuiteSysId);\n\tpastTestResultGR.orderByDesc('end_time');\n\tpastTestResultGR.query();\n\t\n\twhile(pastTestResultGR.next()) {\n\t\tvar url = gs.getProperty('glide.servlet.uri') + 'sys_atf_test_result.do?sys_id=' + \n\t\t\t\t\t    pastTestResultGR.getUniqueValue();\n\t\t\n\t\tif (pastTestResultGR.status == 'failure') {\n\t\t\ttemplate.print('<td class=\"test_fail\">');\n\t\t\ttemplate.print('<a title=\"' + pastTestResultGR.parent.getDisplayValue() + ' ' + pastTestResultGR.parent.end_time.getDisplayValue() + '\\n' + pastTestResultGR.output + '\" href=\"' + url + '\"style=\"text-decoration:none; color:#343d47;');\n\t\t\tboldMostRecentResult(count);\n\t\t\ttemplate.print('\">' + gs.getMessage('atf_fail_status_abbreviation') + '</a>');\n            count++;\n\t\t}\n\t\tif (pastTestResultGR.status == 'success' ||\n\t\t\tpastTestResultGR.status == 'success_with_warnings' ) {\n\t\t\ttemplate.print('<td class=\"test_pass\">');\n\t\t\ttemplate.print('<a title=\"' + pastTestResultGR.parent.getDisplayValue() + ' ' + pastTestResultGR.end_time.getDisplayValue() + '\\n' + pastTestResultGR.output + '\" href=\"' + url + '\"style=\"text-decoration:none;color:#343d47;');\n\t\t\tboldMostRecentResult(count);\n\t\t\ttemplate.print('\">' + gs.getMessage('atf_pass_status_abbreviation') + '</a>');\n            count++;\n\t\t}\n\t\tif (pastTestResultGR.status == 'skipped') {\n\t\t\ttemplate.print('<td class=\"test_skipped\">');\n\t\t\ttemplate.print('<a title=\"' + pastTestResultGR.parent.getDisplayValue() + ' ' + pastTestResultGR.end_time.getDisplayValue() + '\\n' +  pastTestResultGR.output + '\" href=\"' + url + '\"style=\"text-decoration:none;color:#343d47;');\n\t\t\tboldMostRecentResult(count);\n\t\t\ttemplate.print('\">' + gs.getMessage('atf_skip_status_abbreviation') + '</a>');\n            count++;\n\t\t}\n\t\tif (pastTestResultGR.status == 'error') {\n\t\t\ttemplate.print('<td class=\"test_error\">');\n\t\t\ttemplate.print('<a title=\"' + pastTestResultGR.parent.getDisplayValue() + ' ' + pastTestResultGR.end_time.getDisplayValue() + '\\n' +  pastTestResultGR.output + '\" href=\"' + url + '\"style=\"text-decoration:none;color:#343d47;');\n\t\t\tboldMostRecentResult(count);\n\t\t\ttemplate.print('\">' + gs.getMessage('atf_error_status_abbreviation') + '</a>');\n            count++;\n\t\t}\n\t\tif (pastTestResultGR.status == 'canceled') {\n\t\t\ttemplate.print('<td class=\"test_canceled\">');\n\t\t\ttemplate.print('<a title=\"' + pastTestResultGR.parent.getDisplayValue() + ' ' + pastTestResultGR.end_time.getDisplayValue() + '\\n' +  pastTestResultGR.output + '\" href=\"' + url + '\"style=\"text-decoration:none;color:#343d47;');\n\t\t\tboldMostRecentResult(count);\n\t\t\ttemplate.print('\">' + gs.getMessage('atf_cancel_status_abbreviation') + '</a>');\n            count++;\n\t\t}\n\t\t\t\n\t\ttemplate.print('</td>');\n\t\tif(count == MAX_TEST_HISTORY)\n\t\t\tbreak;\n\t}\n\t\n\t// fill row with empty cells if not enough history\n\twhile(count < MAX_TEST_HISTORY) {\n\t\ttemplate.print('<td class=\"cell\">  </td>');\n\t\tcount++;\n\t}\n}\n\nfunction boldMostRecentResult (mostRecentCount) {\n\tif (mostRecentCount == 0) \n\t\ttemplate.print('font-weight: bolder; color: #000000');\n\treturn;\n}\n\nfunction getRolledUpCount(testSuiteResult, status, rolledUpCount){\n\trolledUpCount += getTestCount(testSuiteResult, status);\n\t\n\tvar childSuiteGR = new GlideRecord('sys_atf_test_suite_result');\n\tchildSuiteGR.addQuery('parent.sys_id', testSuiteResult.sys_id);\n\tchildSuiteGR.query();\n\n\twhile(childSuiteGR.next()) {\n\t\trolledUpCount = getRolledUpCount(childSuiteGR, status, rolledUpCount);\n\t}\n\treturn rolledUpCount;\n}\n\nfunction getTestCount(testSuiteResult, status){\n\tvar testCount = 0;\n\tvar testResultGR = new GlideRecord('sys_atf_test_result');\n\ttestResultGR.addQuery('parent.sys_id', testSuiteResult.sys_id);\n\ttestResultGR.query();\n\t\n\twhile(testResultGR.next()){\n\t\tif(testResultGR.status == status)\n\t\t\ttestCount++;\n\t}\n\treturn testCount;\t\n}\n\nfunction printMessage() {\n\tvar width = 280 + 32*MAX_TEST_HISTORY;\n\ttemplate.print('<div class=\"normal\" style=\"margin-bottom:10px; font-size:13px;\">' + gs.getMessage('Past test results are displayed from newest (show in bold) to oldest.') + '</div>');\n\ttemplate.print('</tbody></table></div>');\n\ttemplate.print('<div class=\"normal\" style=\"margin-top:10px;max-width:' + width + 'px;word-wrap:normal; font-size:13px; color: #485563;\">' + gs.getMessage('atf_suite_result_email_text') + '</div>');\n}\n\nfunction setSubjectLine() {\n\temail.setSubject(gs.getMessage('atf_Test Suite Results for {0} ({1})', [current.test_suite.name, current.end_time.getDisplayValue()])); \n\t}\n","sys_class_name":"sys_script_email","sys_id":"2ab34f9867d03200cf8305225685ef4c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b189277b04f12210559073c06a02f72e","value":"b189277b04f12210559073c06a02f72e"},"sys_update_name":"sys_script_email_2ab34f9867d03200cf8305225685ef4c","sys_updated_by":"admin","sys_created_on":"2017-01-10 01:12:25","name":"suiteCompletion.email","sys_name":"suiteCompletion.email","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"4","sys_updated_on":"2024-08-27 05:24:47","sys_tags":"","script":"(function runMailScript(current, template, email, email_action, event) {\n    var userGroup = (event.parm1 + '').split(',');\n    var userSysID = userGroup[0];\n    var groupSysID = userGroup[1];\n    var emailNotifRedirect = new global.EmailNotificationRedirection();\n    var params = {\n        \"userSysId\": userSysID,\n        \"groupSysId\": groupSysID\n    };\n    var link = emailNotifRedirect.getLink(null, null, \"oc_user_members\", params);\n    var userGr = new GlideRecord('sys_user');\n    userGr.get(userSysID);\n    var groupGr = new GlideRecord('sys_user_group');\n    groupGr.get(groupSysID);\n    var subject = gs.getMessage(\"Please note that user {0} has been removed from group {1}\", [userGr.name, groupGr.name]);\n    email.setSubject(subject);\n\tvar message = gs.getMessage(\"Please note that the user {0} has been removed from the group {1}. To take action(s), click <a href='{2}'>here</a>\", [userGr.name, groupGr.name, link]);\n    template.print(message);\n\ttemplate.print(\"<br />\");\n\n\tvar removedMessage = gs.getMessage(\"On-Call coverage provided by this user {0} has been deleted, if cover is still required please assign a member of this group {1}.\", [userGr.name, groupGr.name]);\n\ttemplate.print(removedMessage);\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"2e7f4006d7320200f2d224837e6103d8","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_script_email_2e7f4006d7320200f2d224837e6103d8","sys_updated_by":"admin","sys_created_on":"2015-09-30 16:37:36","name":"User Removed from Rostered Group","sys_name":"User Removed from Rostered Group","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"0","sys_updated_on":"2021-09-15 09:07:07","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n          template.print('<b>' + JSON.parse(event.parm1).processName + '</b>');\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"2f55b9a6532e301017c3ddeeff7b12b3","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/421beb3304352210559073c06a02f7ef","value":"421beb3304352210559073c06a02f7ef"},"sys_update_name":"sys_script_email_2f55b9a6532e301017c3ddeeff7b12b3","sys_updated_by":"admin","sys_created_on":"2021-09-15 09:07:07","name":"password_expiration_process_name_script","sys_name":"password_expiration_process_name_script","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"13","sys_updated_on":"2019-05-20 11:31:09","sys_tags":"","script":"(function runMailScript(current, template, email, email_action, event) {\n\ttemplate.print('<p><font size=\"5\" color=\"#808080\" face=\"helvetica\">');\n\ttemplate.print(gs.getMessage('Your incident has been resolved.'));\n\ttemplate.print('</font></p>');\n\ttemplate.print('<p><font size=\"4\" color=\"#808080\" face=\"helvetica\">');\n\tvar days = parseInt(gs.getProperty(\"glide.ui.autoclose.time\"));\n\tif (days > 0) {\n\t\ttemplate.print(gs.getMessage('The incident will automatically close '));\n\t\tvar hours = days * 24;\n\n\t\tif (days <= 3) {\n\t\t\tif(hours == 1) \n\t\t\t\ttemplate.print(gs.getMessage('in {0} hour', hours));\n\t\t\telse\n\t\t\t\ttemplate.print(gs.getMessage('in {0} hours', hours));\n\t\t} else {\n\t\t\tif(days == 1)\n\t\t\t\ttemplate.print(gs.getMessage('in {0} day', days));\n\t\t\telse \n\t\t\t\ttemplate.print(gs.getMessage('in {0} days', days));\n\t\t}\n\t}\n\ttemplate.print('</font></p>');\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"2fe37e34d711120035ae23c7ce61030c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9eb76f7f04b12210559073c06a02f78a","value":"9eb76f7f04b12210559073c06a02f78a"},"sys_update_name":"sys_script_email_2fe37e34d711120035ae23c7ce61030c","sys_updated_by":"admin","sys_created_on":"2016-01-29 14:00:27","name":"incident_resolved_incident","sys_name":"incident_resolved_incident","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"8","sys_updated_on":"2016-01-17 19:52:41","sys_tags":"","script":"pubAttachLinks();\nfunction pubAttachLinks() {\n   var sysId = current.sys_id;\t\n   var pub = new GlideRecord('sn_publications_publication');\n   if(pub.get(sysId)){\n\t   if(pub.getValue('include_attach_links')==1){\n\t\t   //Check for any attachments and add attachment links if they exist\n\t\t   var gr = new GlideRecord('sys_attachment');\n\t\t   gr.addQuery('table_sys_id',sysId);\n\t\t   gr.query();\n\t\t   if (gr.hasNext()) {\n\t\t\t  template.print(\"Attachments: <br />\");\n\t\t\t  while (gr.next()) {\n\t\t\t\t var url = gr.getTableName() + \".do?sys_id=\" + gr.getValue('sys_id'); \n\t\t\t\t var attachLink = '<a href=\"' + url +  '\">' + gr.file_name + '</a>';\n\t\t\t\t template.print(attachLink +  \"<br />\");\n\t\t\t  }\n\t\t\t  template.print(\"<hr/>\");\n\t\t   }\n\t   }\n   }\t\n}","sys_class_name":"sys_script_email","sys_id":"31ec9868c30112004bd67bfaa2d3aea6","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0fdd6483d72302004f1e82285e61033a","value":"0fdd6483d72302004f1e82285e61033a"},"sys_update_name":"sys_script_email_31ec9868c30112004bd67bfaa2d3aea6","sys_updated_by":"admin","sys_created_on":"2016-01-15 22:06:38","name":"publication_attach_links","sys_name":"publication_attach_links","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/0fdd6483d72302004f1e82285e61033a","value":"0fdd6483d72302004f1e82285e61033a"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"11","sys_updated_on":"2024-06-03 07:55:16","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n\n    // Add your code here\n    var notificationUtil = new IncidentNotificationUtil();\n    var comment = notificationUtil.getLatestCommentOrWorkNotes(current.getTableName(), current.getUniqueValue(), 'comments');\n    template.print('<div style=\"text-align: center; line-height: 36px; padding-bottom: 24px; border-bottom: 1px solid #DADDE2;\"><span style=\"font-size: 24px; font-weight: 600; color: #181A1f;\">' + comment.user + ' added a comment to incident</span></div>');\n    template.print('<div style=\"font-size: 16px; padding-top: 24px; padding-bottom: 16px; color: #181A1F\"><span style=\"font-weight: 700;\">' + comment.user + ' </span>');\n    template.print('<span style=\"font-weight: 400;\">left a comment on </span>');\n    template.print('<span style=\"font-weight: 700;\">${number}:</span></div>');\n    template.print('<span style=\"font-weight: 600;color: #181A1F\">' + comment.val + '</span>');\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"3339cb0977a98210f5bc78dabd5a991c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9eb76f7f04b12210559073c06a02f78a","value":"9eb76f7f04b12210559073c06a02f78a"},"sys_update_name":"sys_script_email_3339cb0977a98210f5bc78dabd5a991c","sys_updated_by":"admin","sys_created_on":"2024-04-12 11:21:55","name":"incident_latest_comment","sys_name":"incident_latest_comment","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"6","sys_updated_on":"2024-06-07 12:25:14","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n    template.print(gs.getMessage(\"Click here to view change request: {0}\", \"${URI_REF}\"));\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"340c9e1d47d6ca5002648bb4236d431f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3c0ca3b704352210559073c06a02f7bb","value":"3c0ca3b704352210559073c06a02f7bb"},"sys_update_name":"sys_script_email_340c9e1d47d6ca5002648bb4236d431f","sys_updated_by":"admin","sys_created_on":"2024-05-20 09:23:25","name":"change.form.view.message","sys_name":"change.form.view.message","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"lee.yin@snc","sys_policy":""},{"sys_mod_count":"6","sys_updated_on":"2024-09-24 09:22:38","sys_tags":"","script":"(function runMailScript(current, template, email, email_action, event) {\n    //Incident task assigned to my group\n    if (email_action.name == \"Incident task assigned to my group\") {\n        template.print('<div style=\"font-size: 16px;\"><span style=\"font-weight: 700; color: #181A1F\">${number} </span>');\n        template.print('<span style=\"font-weight: 400;\">was recently assigned to </span>');\n        template.print('<span style=\"font-weight: 700;\">${assignment_group}</span>');\n        template.print('<span style=\"font-weight: 400;\"> group.</span></div>');\n    }\n    //Incident task assigned to me\n    else {\n        template.print('<div style=\"font-size: 16px;\" ><span style=\"font-weight: 700; color: #181A1F;\">${number} </span>');\n        template.print('<span style=\"font-weight: 400;\">was recently assigned to you.</span></div>');\n    }\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"35efb01893749210c3bbf04e648918d5","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9eb76f7f04b12210559073c06a02f78a","value":"9eb76f7f04b12210559073c06a02f78a"},"sys_update_name":"sys_script_email_35efb01893749210c3bbf04e648918d5","sys_updated_by":"admin","sys_created_on":"2024-09-18 06:44:23","name":"incident_task_assigned","sys_name":"incident_task_assigned","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"13","sys_updated_on":"2018-03-07 17:04:56","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n\tif (event.parm1 + \"\" === current.task.assigned_to.getValue())\n\t\ttemplate.print(gs.getMessage(\"SLA \\\"{0}\\\" associated with {1} has reached {2}% of its allowed duration.\", [current.sla.name, current.task.number, current.business_percentage]));\n\telse\n\t\ttemplate.print(gs.getMessage(\"SLA \\\"{0}\\\" associated with {1}, assigned to {2}, has reached {3}% of its allowed duration.\", [current.sla.name, current.task.number, current.task.assigned_to.getDisplayValue(), current.business_percentage]));\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"37afdfa7cb601300dff9b9c0c24c9ca4","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d19e7b704f12210559073c06a02f7da","value":"5d19e7b704f12210559073c06a02f7da"},"sys_update_name":"sys_script_email_37afdfa7cb601300dff9b9c0c24c9ca4","sys_updated_by":"admin","sys_created_on":"2018-03-06 08:20:28","name":"sla.warn_message.event_parm1","sys_name":"sla.warn_message.event_parm1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"8","sys_updated_on":"2016-07-29 11:47:20","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n\tcurrent.email_content = global.CABEmailContent.generateHTMLEmailContent(current, email_action, event, email);\n\t\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"37d2cd53eb3022002a7a666cd206fec6","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_update_name":"sys_script_email_37d2cd53eb3022002a7a666cd206fec6","sys_updated_by":"admin","sys_created_on":"2016-07-28 23:52:09","name":"cab.getHTMLContent","sys_name":"cab.getHTMLContent","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"8","sys_updated_on":"2021-10-10 20:10:42","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n\n    var result = new ActivityMentionEmailValues().getEmailValues(current.table, current.document);\n    if (result) {\n        result = JSON.parse(result);\n        email.setSubject(gs.getMessage(\"You have been mentioned in {0}\", result.subjectText));\n        template.print(\"<p style='color: #424E5B;margin: 0 0 12px;line-height: 26px;margin-bottom: 12px'>\");\n        template.print(gs.getMessage(\"You have been mentioned by {0} in\", current.user_from.name));\n        template.print(\"&nbsp;<a href='/nav_to.do?uri=\" + result.className + \".do?sys_id=\" + result.recordSysId + \"'>\" + result.linkText + \"</a></p>\");\n    }\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"381391d09f021200d5f9b3e2957fcf1d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/81f3e7b704312210559073c06a02f79e","value":"81f3e7b704312210559073c06a02f79e"},"sys_update_name":"sys_script_email_381391d09f021200d5f9b3e2957fcf1d","sys_updated_by":"admin","sys_created_on":"2016-03-05 00:27:24","name":"ng_activity_mention_body","sys_name":"ng_activity_mention_body","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"0","sys_updated_on":"2024-04-17 10:42:29","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\t\tvar note = gs.getMessage('Note: The information in this email is current as of sending. For the latest updates, access the article directly from the portal.');\n\t\ttemplate.print('<div style=\"padding-bottom: 4px;\">'+note+'</div>');\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"39913c7e77a10210972839bd1e5a9929","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4249e63a28d54d61bb6fbf61fd86cccb","value":"4249e63a28d54d61bb6fbf61fd86cccb"},"sys_update_name":"sys_script_email_39913c7e77a10210972839bd1e5a9929","sys_updated_by":"admin","sys_created_on":"2024-04-17 10:42:29","name":"Kb_email_note","sys_name":"Kb_email_note","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/4249e63a28d54d61bb6fbf61fd86cccb","value":"4249e63a28d54d61bb6fbf61fd86cccb"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"12","sys_updated_on":"2024-07-12 11:44:18","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n    const creatorStudioEmail = new CreatorStudioEmailScript();\n    const viewRequestMessage = gs.getMessage(\"View request\");\n    creatorStudioEmail.addHeading(gs.getMessage(\"The request is pending your approval\"));\n    creatorStudioEmail.addText(gs.getMessage(\"Hi {0},\", current.getDisplayValue(\"assignment_group\")), false);\n    creatorStudioEmail.addText(gs.getMessage(\"Youve received a request to create a new app in Creator Studio.\"), false);\n    creatorStudioEmail.addInfo(gs.getMessage(\"Request\"), current.getDisplayValue(\"number\"));\n    creatorStudioEmail.addInfo(gs.getMessage(\"Person requesting app\"), current.getDisplayValue(\"requestor_name\"));\n    creatorStudioEmail.addInfo(gs.getMessage(\"App name\"), current.getDisplayValue(\"short_description\"));\n    creatorStudioEmail.addText(gs.getMessage(\"View the request to either approve or deny it.\"), false);\n    const aemcService = new AEMCService();\n    if (aemcService.aemcInstalled()) {\n        creatorStudioEmail.addButton(viewRequestMessage, aemcService.aemcRequestUrl(current));\n    } else {\n        creatorStudioEmail.addButton(viewRequestMessage, creatorStudioEmail.getRequestUrl(current));\n    }\n    template.print(creatorStudioEmail.getBody());\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"3a25269debbc42107dcf7bd6c15228cd","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/81ac5fe1c7442110408bc8d6f2c260d1","value":"81ac5fe1c7442110408bc8d6f2c260d1"},"sys_update_name":"sys_script_email_3a25269debbc42107dcf7bd6c15228cd","sys_updated_by":"admin","sys_created_on":"2024-03-06 20:30:09","name":"new_app_task_assigned_to_group","sys_name":"new_app_task_assigned_to_group","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/81ac5fe1c7442110408bc8d6f2c260d1","value":"81ac5fe1c7442110408bc8d6f2c260d1"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"3","sys_updated_on":"2021-11-11 08:17:46","sys_tags":"","script":"var html = new AssessmentUtils().getInstanceLinkHTML(current);\nif(!!current.metric_type.sample_metric)\n\ttemplate.print('<p> To take the survey, click the following image: </p>');\ntemplate.print(html);  ","sys_class_name":"sys_script_email","sys_id":"3c7355dfc7433010e028dc8703c26096","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3da7677f04b12210559073c06a02f701","value":"3da7677f04b12210559073c06a02f701"},"sys_update_name":"sys_script_email_3c7355dfc7433010e028dc8703c26096","sys_updated_by":"admin","sys_created_on":"2021-10-12 11:05:08","name":"survey_url_script","sys_name":"survey_url_script","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"1","sys_updated_on":"2023-09-13 10:46:48","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n          // Add your code here\n\tvar msg = (new GlidePluginManager().isActive('com.glide.service-portal')) ?\n\t\tgs.getMessage('You can see the updated Benchmarks by visiting <a title=\"Benchmarks Dashboard\" href=\"/now/success-dashboard/benchmarks\">Benchmarks Dashboard</a>.')\n\t  : gs.getMessage(\"Benchmarks visualizations depends on the Service Portal plugin, please activate it to view the dashboard\")\n\n  template.print(msg);\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"3ec31d845b2132003d1c484c11f91ad4","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_update_name":"sys_script_email_3ec31d845b2132003d1c484c11f91ad4","sys_updated_by":"admin","sys_created_on":"2017-03-12 01:45:22","name":"bm_score_email_content","sys_name":"bm_score_email_content","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"2","sys_updated_on":"2019-03-04 09:40:00","sys_tags":"","script":"(function runMailScript(current, template, email) {\n    var gr = new GlideRecord(\"vtb_card\");\n    gr.addQuery(\"lane\", current.lane);\n    gr.addQuery(\"removed\", false);\n    gr.query();\n    template.print(gr.getRowCount());\n})(current, template, email);","sys_class_name":"sys_script_email","sys_id":"3f240dacb7003300bf6bea56ee11a9af","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d334a77b04312210559073c06a02f7ff","value":"d334a77b04312210559073c06a02f7ff"},"sys_update_name":"sys_script_email_3f240dacb7003300bf6bea56ee11a9af","sys_updated_by":"admin","sys_created_on":"2019-03-04 09:04:45","name":"vtb_number_of_cards","sys_name":"vtb_number_of_cards","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"1","sys_updated_on":"2024-09-30 09:55:25","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n\n    if (current.task_id.nil())\n        return;\n\n    var req = current.task_id.getRefRecord();\n    if (!req.isValidRecord())\n        return;\n\n    var portalSuffix = new sn_ex_emp_fd.FoundationNotificationUtil().getPortalSuffix();\n    var viewAllUrl = '/' + portalSuffix + '?id=order_status&table=sc_request&sys_id=' + req.sys_id;\n    var requestUrl = '';\n    var buttonText = '';\n    if (email_action.sys_name.toString() === 'Request survey') {\n        requestUrl = event.parm2;\n        buttonText = sn_i18n.Message.getMessage('global', 'Take the survey');\n    } else {\n        requestUrl = viewAllUrl;\n        buttonText = sn_i18n.Message.getMessage('global', 'View request');\n    }\n\n    //Generates primary action of view request\n    var requestNotificationJs = new global.RequestNotificationUtil();\n    requestNotificationJs.createNotificationPrimayAction(template, requestUrl, buttonText);\n    if (email_action.sys_name.toString() === 'Request survey') {\n        template.print('<div style=\"font-size: 15pt; line-height: 30px; padding-bottom: 16px;\"><span style=\"font-weight:600\">About your recent request</span></div>');\n\n    } else {\n        template.print('<div style=\"font-size: 15pt; line-height: 30px; padding-bottom: 16px;\"><span style=\"font-weight:600\">About this request</span></div>');\n    }\n\n    //request details required for notification template\n    var requestDetails = requestNotificationJs.getRequestDetails(req.sys_id, req);\n    var requestItemPadding = '';\n    if (email_action.sys_name.toString() === 'Request completed' && !req.close_notes.nil()) {\n        var comments = req.close_notes.toString();\n        comments = comments.replace(/\\n/g, '<br/>');\n        template.print('<div> Completed by : ' + '<b style=\"font-weight:600\">' + req.closed_by.name + '</b></div>');\n        template.print('<div> Completion notes : ' + '<b style=\"font-weight:600\">' + comments + '</b></div>');\n        requestItemPadding = 'padding-top:16px;';\n    }\n\n    if (email_action.sys_name.toString() === 'Request approved') {\n        var comment = requestNotificationJs.getRequestComment(req.sys_id, 'approved');\n        if (comment) {\n            template.print('<div> Approval notes : ' + '<b style=\"font-weight:600\">' + comment + '</b></div>');\n            requestItemPadding = 'padding-top:16px;';\n        }\n    }\n    if (requestDetails.totalTasks > 1) {\n        template.print('<div style=\"font-size: 12pt;font-weight:600;' + requestItemPadding + '\">Requested items (' + requestDetails.totalTasks + ')</div>');\n        requestItemPadding = 'padding-top:16px;';\n    }\n    requestDetails.tasks.forEach(function(task, index) {\n        var borderBottom = 'border-bottom:1px solid #DADDE2';\n        template.print('<div style=\"padding-bottom:16px;' + requestItemPadding);\n        if (requestDetails.totalTasks > requestDetails.tasks.length || (index + 1 < requestDetails.tasks.length)) {\n            template.print(borderBottom);\n        }\n        template.print('\">');\n        template.print('Requested item number: <b style=\"font-weight:600\">' + task.requestNumber + '</b><br/>' + 'Short description: <b style=\"font-weight:600\">' + task.item + '</b><br/>');\n        template.print('</div>');\n    });\n\n    if (requestDetails.totalTasks > 3) {\n        template.print('<div style=\"padding-bottom:18px;padding-top:16px;color:#3C59E7\"><a href=\"' + viewAllUrl + '\">');\n        template.print(sn_i18n.Message.getMessage('global', 'View all items'));\n        template.print('</a></div>');\n    }\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"41c067ca93f01690f07abd1a6aba108c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3028ab3304f12210559073c06a02f7b7","value":"3028ab3304f12210559073c06a02f7b7"},"sys_update_name":"sys_script_email_41c067ca93f01690f07abd1a6aba108c","sys_updated_by":"admin","sys_created_on":"2024-09-24 04:55:48","name":"About_The_Request_Req_Survey","sys_name":"About_The_Request_Req_Survey","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"6","sys_updated_on":"2024-03-19 19:30:45","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n    const creatorStudioEmail = new CreatorStudioEmailScript();\n    const viewRequestMessage = gs.getMessage(\"View request\");\n    creatorStudioEmail.addHeading(gs.getMessage(\"Your group has been assigned a request\"));\n    creatorStudioEmail.addText(gs.getMessage(\"Hi,\"), false);\n    creatorStudioEmail.addText(gs.getMessage(\"Your group {0} was recently assigned a request.\", current.getDisplayValue(\"assignment_group\")), false);\n    creatorStudioEmail.addInfo(gs.getMessage(\"Request\"), current.getDisplayValue(\"number\"));\n    creatorStudioEmail.addInfo(gs.getMessage(\"Submitted by\"), current.getDisplayValue(\"opened_by\"));\n    creatorStudioEmail.addInfo(gs.getMessage(\"Form name\"), current.getDisplayValue(\"request_type\"));\n    creatorStudioEmail.addInfo(gs.getMessage(\"App name\"), creatorStudioEmail.getAppNameFromTable(current.getValue(\"sys_class_name\")));\n    creatorStudioEmail.addText(gs.getMessage(\"You can access this request from the list view in the Workspace or directly from this email.\"), false);\n    creatorStudioEmail.addButton(viewRequestMessage, creatorStudioEmail.getWorkspaceUrl(current));\n    creatorStudioEmail.addFooter(gs.getMessage(\"You are receiving this email to update you about submitted requests.\"));\n    template.print(creatorStudioEmail.getBody());\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"41da32f207e23110523bc41f0ad300e6","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/81ac5fe1c7442110408bc8d6f2c260d1","value":"81ac5fe1c7442110408bc8d6f2c260d1"},"sys_update_name":"sys_script_email_41da32f207e23110523bc41f0ad300e6","sys_updated_by":"admin","sys_created_on":"2023-11-20 17:33:03","name":"request_assigned_to_group","sys_name":"request_assigned_to_group","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/81ac5fe1c7442110408bc8d6f2c260d1","value":"81ac5fe1c7442110408bc8d6f2c260d1"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"2","sys_updated_on":"2014-10-25 08:26:38","sys_tags":"","script":"template.print(\"<br />\");\nvar url = \"/nav_to.do?uri=live_feed_launcher.do?sysparm_feed_type=msg_feed%26sysparm_msg_id=\";\nif(current.message.reply_to)\n\turl = url + current.message.reply_to;\nelse\n\turl = url + current.message;\nvar htmlLink = '<a href=\"' + url + '\">View Message</a>';\ntemplate.print(htmlLink);\n","sys_class_name":"sys_script_email","sys_id":"42cc9350470031007f47563dbb9a717d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/50442b7b04312210559073c06a02f7ef","value":"50442b7b04312210559073c06a02f7ef"},"sys_update_name":"sys_script_email_42cc9350470031007f47563dbb9a717d","sys_updated_by":"admin","sys_created_on":"2014-10-25 08:05:31","name":"live_feed_like_view_msg","sys_name":"live_feed_like_view_msg","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"51","sys_updated_on":"2014-11-11 15:27:48","sys_tags":"","script":"insertDocumentLinks();\n\nfunction insertDocumentLinks() {\n\tif(!current.group.nil() && !current.group.table.nil()) {\n\t\tvar tableName = \"\";\n\t\tvar documentName = current.group.name;\n\t\tvar gr = new GlideRecord(current.group.table);\n\t\tif(!gr.isValid())\n\t\t\treturn;\n\t\tgr.setWorkflow(false);\n\t\tgr.addQuery('sys_id', current.group.document);\n\t\tgr.query();\n\t\tif(gr.next()) {\n\t\t\ttableName = \"View \" + gr.getLabel();\n\t\t\tdocumentName = gr.getDisplayValue();\n\t\t}\n\t\telse {\n\t\t\treturn; //we can't insert blank links\n\t\t}\n\n\t\tvar url = \"/nav_to.do?uri=\";\n\t\tif(current.group.table == \"kb_knowledge\") {\n\t\t\ttableName = \"View article\";\n\t\t\turl += \"kb_view.do?sys_kb_id=\";\n\t\t}\n\t\telse\n\t\t\turl += current.group.table + \".do?sys_id=\";\n\t\turl += current.group.document;\n\n\t\ttemplate.print(\"<br />\");\n\t\ttemplate.print(tableName + \": \" + \"<a href='\" + url + \"'>\" + documentName + \"</a>\");\n\t\ttemplate.print(\"<br /><br />\");\n\t}\n\tif(!current.group.nil()) {\n\t\tif(current.group.table.nil() || (!current.group.table.nil() && current.group.table != \"kb_knowledge\")) {\n\t\t\tvar url = '/nav_to.do?uri=live_feed_launcher.do?sysparm_feed_type=group_feed%26sysparm_group_id=';\n\t\t\turl += current.group;\n\n\t\t\ttemplate.print(\"<a href='\" + url + \"'>\" + \"View \" + current.group.name + \" Feed\" + \"</a>\");\n\t\t\ttemplate.print(\"<br /><br />\");\n\t\t}\n\t}\n}","sys_class_name":"sys_script_email","sys_id":"434a36e0c373210051b5f71a54d3ae0f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/50442b7b04312210559073c06a02f7ef","value":"50442b7b04312210559073c06a02f7ef"},"sys_update_name":"sys_script_email_434a36e0c373210051b5f71a54d3ae0f","sys_updated_by":"admin","sys_created_on":"2014-10-13 13:59:00","name":"live_feed_message_document_links","sys_name":"live_feed_message_document_links","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"7","sys_updated_on":"2017-08-15 20:28:07","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n\tvar approvers = new GlideRecord('sysapproval_approver');\n\tapprovers.addNotNullQuery('approver');\n\tapprovers.addQuery('approver', '!=', current.approver);\n\tif (!gs.nil(current.sysapproval))\n\t\tapprovers.addQuery('sysapproval', current.sysapproval);\n\telse\n\t\tapprovers.addQuery('document_id', String(current.document_id));\n\tapprovers.addQuery('state', 'IN', 'approved,rejected,requested');\n\tapprovers.orderBy('approver');\n\tapprovers.query();\n\tvar limit = 20;\n\tapprovers.setLimit(limit);\n\tif (approvers.getRowCount() > 0) {\n\t\twhile (approvers.next()) {\n\t\t\ttemplate.print(approvers.approver.getDisplayValue() + ' - ' + approvers.state.getDisplayValue() + '<br/>');\n\t\t}\n\t\tif (approvers.getRowCount() > limit) {\n\t\t\ttemplate.print('Additional approvers are available and require viewing the record.<br/>');\n\t\t}\n\t} else {\n\t\ttemplate.print('You are the sole approver.<br/>');\n\t}\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"43ed12067f2003007f005212bdfa912e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/05672bfb04b12210559073c06a02f7bc","value":"05672bfb04b12210559073c06a02f7bc"},"sys_update_name":"sys_script_email_43ed12067f2003007f005212bdfa912e","sys_updated_by":"admin","sys_created_on":"2017-08-14 15:29:49","name":"approval_activity","sys_name":"approval_activity","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"11","sys_updated_on":"2024-05-15 15:24:15","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n\n    var requestorName = current.requested_for.getRefRecord().getValue('name');\n    var secondaryLinkURL = \"/sn_pipeline_environment.do?sys_id=-1\";\n    var secondaryLinkText = gs.getMessage(\"Click here to create a development instance record\");\n    var secondaryLink = '<a style=\"color:inherit;\" href=\"' + secondaryLinkURL + '\">' + secondaryLinkText + '</a>';\n\n    var requestEmail = new sn_app_eng_notify.AppEngineEmailScript();\n    requestEmail.addHeading(gs.getMessage(\"A user wants to create an app\"));\n\n    requestEmail.addText(gs.getMessage(\"Hi App Engine Admins,\"));\n\n    requestEmail.addText(gs.getMessage(\"{0} has submitted a request to create an app. However, an instance couldn't be automatically assigned to them because there are no development instances available.\", requestorName));\n    requestEmail.addText(gs.getMessage(\"Before you approve this request, create a development instance record for an environment that this user has access to and that has the latest Application Intake Plugin on it. Then, assign it to the user in the request item form. {0}\", [secondaryLink]));\n\n    requestEmail.addButton(gs.getMessage(\"Review request\"), current.getLink());\n\n    template.print(requestEmail.getBody());\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"43fc99d5c7c10110408bc8d6f2c26016","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3d3c2505c3e22010b83971e54440dd75","value":"3d3c2505c3e22010b83971e54440dd75"},"sys_update_name":"sys_script_email_43fc99d5c7c10110408bc8d6f2c26016","sys_updated_by":"admin","sys_created_on":"2022-01-13 17:03:09","name":"get_app_intake_request_no_instance","sys_name":"get_app_intake_request_no_instance","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3d3c2505c3e22010b83971e54440dd75","value":"3d3c2505c3e22010b83971e54440dd75"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"1","sys_updated_on":"2013-10-30 20:22:48","sys_tags":"","script":"var msgUtil = new LiveMsgUtil(current); \n\n//get links\nif (current.has_links) {\n    template.print(\"<br />\"); //blank line\n    template.print(\"Links:<br />\");\n    var links = msgUtil.getLinks();\n    for (var i = 0; i < links.length; i++) {\n        var url = links[i].url;\n        var text = links[i].text;\n        var htmlLink = '<a href=\"' + url + '\">' + text + '</a>';\n        template.print(htmlLink);\n        template.print(\"<br />\");\n    }\n}","sys_class_name":"sys_script_email","sys_id":"446c3cd1eb020100d4360c505206fec3","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/50442b7b04312210559073c06a02f7ef","value":"50442b7b04312210559073c06a02f7ef"},"sys_update_name":"sys_script_email_446c3cd1eb020100d4360c505206fec3","sys_updated_by":"maint","sys_created_on":"2013-06-17 20:26:58","name":"live_feed_message_links","sys_name":"live_feed_message_links","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"maint","sys_policy":""},{"sys_mod_count":"7","sys_updated_on":"2024-07-12 11:43:47","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n    const creatorStudioEmail = new CreatorStudioEmailScript();\n    const viewRequestMessage = gs.getMessage(\"View request\");\n    creatorStudioEmail.addHeading(gs.getMessage(\"The app you approved wasnt created\"));\n    creatorStudioEmail.addText(gs.getMessage(\"Hi {0},\", current.getDisplayValue(\"assignment_group\")), false);\n    creatorStudioEmail.addText(gs.getMessage(\"You recently approved a request to create a new app in Creator Studio.\"), false);\n    creatorStudioEmail.addInfo(gs.getMessage(\"Request\"), current.getDisplayValue(\"number\"));\n    creatorStudioEmail.addInfo(gs.getMessage(\"Person requesting app\"), current.getDisplayValue(\"requestor_name\"));\n    creatorStudioEmail.addInfo(gs.getMessage(\"App name\"), current.getDisplayValue(\"short_description\"));\n    creatorStudioEmail.addText(gs.getMessage(\"However, after you approved the request an error occurred that prevented it from being created.\"), false);\n    const aemcService = new AEMCService();\n    if (aemcService.aemcInstalled()) {\n        creatorStudioEmail.addButton(viewRequestMessage, aemcService.aemcRequestUrl(current));\n    } else {\n        creatorStudioEmail.addButton(viewRequestMessage, creatorStudioEmail.getRequestUrl(current));\n    }\n    template.print(creatorStudioEmail.getBody());\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"44a77c8697b8c2100d3b4ae8f6890d0a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/81ac5fe1c7442110408bc8d6f2c260d1","value":"81ac5fe1c7442110408bc8d6f2c260d1"},"sys_update_name":"sys_script_email_44a77c8697b8c2100d3b4ae8f6890d0a","sys_updated_by":"admin","sys_created_on":"2024-03-08 20:25:54","name":"app_creation_failed","sys_name":"app_creation_failed","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/81ac5fe1c7442110408bc8d6f2c260d1","value":"81ac5fe1c7442110408bc8d6f2c260d1"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"2","sys_updated_on":"2021-08-25 15:27:21","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\tvar firstName = current.getDisplayValue(\"requestor_first_name\");\n\tvar lastName = current.getDisplayValue(\"requestor_last_name\");\n\tvar requestorName = (firstName + \" \" + lastName).trim();\n\tvar appName = current.getDisplayValue(\"app_name\");\n\tvar adminEmail = sn_app_eng_notify.AppEngineAdminGroup.getEmail();\n\tvar comment = getRejectedComment();\n\t\n\tvar deploymentRequestEmail = new sn_app_eng_notify.AppEngineEmailScript();\n\t\n\tdeploymentRequestEmail.addHeading(gs.getMessage(\"{0} app wasn't approved\", appName));\n\tdeploymentRequestEmail.addText(gs.getMessage(\"Hi {0},\", requestorName), false); // greeting\n\tif (adminEmail) {\n\t\tdeploymentRequestEmail.addText(gs.getMessage(\"Your App Engine Studio administrator didn't approve your submitted app and can't be published, yet. Email {0} to resolve any issues with your app.\", adminEmail), true); // message\n\t} else {\n\t\tdeploymentRequestEmail.addText(gs.getMessage(\"Your App Engine Studio administrator didn't approve your submitted app and can't be published, yet. Email your admin to resolve any issues with your app.\"), true); // message\n\t}\n\t\n\tif (comment) {\n\t\tdeploymentRequestEmail.addText(gs.getMessage(\"Comment from admin:\"));\n\t\tdeploymentRequestEmail.addComment(comment);\n\t}\n\t\n\temail.setSubject(gs.getMessage(\"{0} app wasn't approved\", appName));\n\ttemplate.print(deploymentRequestEmail.getBody());\n\t\n\tfunction getRejectedComment() {\n\t\tvar grApproval = new GlideRecord(\"sysapproval_approver\");\n\t\tgrApproval.addQuery(\"sysapproval\", current.getUniqueValue());\n\t\tgrApproval.addQuery(\"state\", \"rejected\");\n\t\tgrApproval.orderByDesc(\"updated\");\n\t\tgrApproval.setLimit(1);\n\n\t\tgrApproval.query();\n\n\t\tif (grApproval.hasNext()) {\n\t\t\tgrApproval.next();\n\t\t\tvar grJournalField = new GlideRecord(\"sys_journal_field\");\n\t\t\tgrJournalField.addQuery(\"element_id\", grApproval.getUniqueValue());\n\t\t\tgrJournalField.orderByDesc(\"sys_created_on\");\n\t\t\tgrJournalField.setLimit(1);\n\n\t\t\tgrJournalField.query();\n\n\t\t\tif (grJournalField.next()) {\n\t\t\t\treturn grJournalField.getDisplayValue(\"value\");\n\t\t\t}\n\t\t\treturn '';\n\t\t}\n\t\treturn '';\n\t}\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"44f343afc706b010408bc8d6f2c260df","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bb67ed7253e83010b846ddeeff7b1204","value":"bb67ed7253e83010b846ddeeff7b1204"},"sys_update_name":"sys_script_email_44f343afc706b010408bc8d6f2c260df","sys_updated_by":"admin","sys_created_on":"2021-08-24 20:52:17","name":"get_deployment_request_rejected_email","sys_name":"get_deployment_request_rejected_email","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bb67ed7253e83010b846ddeeff7b1204","value":"bb67ed7253e83010b846ddeeff7b1204"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"23","sys_updated_on":"2021-11-08 06:24:01","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n\tvar number = current.number;\n\tvar rejectNotes = \"\";\n\tvar short_desc = current.short_description;\n\tvar article_link = gs.getProperty('glide.servlet.uri')+\"nav_to.do?uri=kb_knowledge.do?sys_id=\"+current.sys_id;\n\tvar author;\n\tvar revisor = current.revised_by;\n\tif(revisor)\n\t\tauthor = revisor.first_name;\n\telse\n\t\tauthor = current.author.first_name;\n\tvar lastComment, lastCommentLines;\n\tvar approval = new GlideRecord(\"sysapproval_approver\");\n\tapproval.addQuery(\"document_id\",current.sys_id);\n\tapproval.addQuery(\"state\",\"rejected\");\n\tapproval.query();\n\tif (approval.next()) {\n\t\tlastComment = approval.comments.getJournalEntry(1);\n\t\tlastCommentLines = lastComment.split(\"\\n\");\n\t\tlastCommentLines.shift();\n\t\trejectNotes = lastCommentLines.join('<br/>');\n\t}\n\tvar emailContent = {};\n\temailContent.templateContent =\n\t\t\"Hi  \"+author+\",<br/>\" +\n\t\"<br/>\" +\n\t\"<a href=\"+article_link+\">\"+number+\"</a> is rejected.<br/>\" +\n\t\"<br/>\" +\n\t\"<b>Article Title</b>: \"+short_desc+\"<br/>\" +\n\t\"<br/>\" +\n\t\"<b>Rejection comments</b>: \"+rejectNotes+\"<br/>\" +\n    \"<br/>\" +\n\t\"Please visit the article link if you want to revise the article.<br/>\" +\n\t\"<br/>\";\n\temail.setSubject(number+\" is rejected.\");\n\ttemplate.print(emailContent.templateContent);\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"44f4bd7db7522300bc1308a9ee11a933","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2fe727ff04b12210559073c06a02f7dd","value":"2fe727ff04b12210559073c06a02f7dd"},"sys_update_name":"sys_script_email_44f4bd7db7522300bc1308a9ee11a933","sys_updated_by":"admin","sys_created_on":"2018-12-11 09:58:25","name":"km_rejected","sys_name":"km_rejected","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"0","sys_updated_on":"2016-01-29 17:28:41","sys_tags":"","script":"(function runMailScript(current, template, email, email_action, event) {\n\ttemplate.print('<p><font size=\"5\" color=\"#808080\" face=\"helvetica\"><strong>');\n\ttemplate.print(gs.getMessage('An incident has been opened on your behalf.'));\n\ttemplate.print('</strong></font></p>');\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"46932b70d751120035ae23c7ce6103d8","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9eb76f7f04b12210559073c06a02f78a","value":"9eb76f7f04b12210559073c06a02f78a"},"sys_update_name":"sys_script_email_46932b70d751120035ae23c7ce6103d8","sys_updated_by":"admin","sys_created_on":"2016-01-29 17:28:41","name":"incident_has_been_opened","sys_name":"incident_has_been_opened","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"6","sys_updated_on":"2024-06-03 07:56:23","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n\n    // Add your code here\n    var notificationUtil = new IncidentNotificationUtil();\n    var worknote = notificationUtil.getLatestCommentOrWorkNotes(current.getTableName(), current.getUniqueValue(), 'work_notes');\n    template.print('<div style=\"text-align: center; line-height: 36px; padding-bottom: 24px; border-bottom: 1px solid #DADDE2;\"><span style=\"font-size: 24px; font-weight: 600; color: #181A1f;\">' + worknote.user + ' added work notes to incident</span></div>');\n    template.print('<div style=\"font-size: 16px; padding-top: 24px; padding-bottom: 16px; color: #181A1F\"><span style=\"font-weight: 700;\">' + worknote.user + ' </span>');\n    template.print('<span style=\"font-weight: 400;\">left work notes on </span>');\n    template.print('<span style=\"font-weight: 700;\">${number}:</span></div>');\n    template.print('<span style=\"font-weight: 600;color: #181A1F\">' + worknote.val + '</span>');\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"47fccfc977a98210f5bc78dabd5a99c1","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9eb76f7f04b12210559073c06a02f78a","value":"9eb76f7f04b12210559073c06a02f78a"},"sys_update_name":"sys_script_email_47fccfc977a98210f5bc78dabd5a99c1","sys_updated_by":"admin","sys_created_on":"2024-04-12 11:32:19","name":"incident_latest_worknote","sys_name":"incident_latest_worknote","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"67","sys_updated_on":"2018-09-03 11:40:01","sys_tags":"","script":"\ntemplate.print('<b>State:</b> ' + current.getDisplayValue(\"state\") + '<br />');\nif (current.priority) {\n\ttemplate.print('<b>Priority:</b> ' + current.getDisplayValue(\"priority\") + '<br />');\n}\ntemplate.print('<b>Opened by:</b> ' + current.getDisplayValue(\"opened_by\") + '<br />');\ntemplate.print('<b>Assigned to:</b> ');\nif (current.assigned_to) {\n\ttemplate.print(current.getDisplayValue(\"assigned_to\") + '<br />');\n} else {\n\ttemplate.print('unassigned<br />');\n}\nif (current.additional_assignee_list) {\n\ttemplate.print('<b>Additional assignees:</b> ' + current.getDisplayValue(\"additional_assignee_list\") + '<br />');\n}\nif (current.description) {\n\ttemplate.print('<p><b>Description:</b><br />');\n\ttemplate.print(current.getDisplayValue(\"description\") + '</p>');\n}\nif (current.comments_and_work_notes) {\n\ttemplate.print('<p><b>Comments and Work notes:</b><br />');\n\ttemplate.print(current.getDisplayValue(\"comments_and_work_notes\") + '</p>');\n}\n\n","sys_class_name":"sys_script_email","sys_id":"4bb7f4209330020092ffb46b767ffbfd","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d334a77b04312210559073c06a02f7ff","value":"d334a77b04312210559073c06a02f7ff"},"sys_update_name":"sys_script_email_4bb7f4209330020092ffb46b767ffbfd","sys_updated_by":"admin","sys_created_on":"2015-06-18 17:48:15","name":"vtb_task_details","sys_name":"vtb_task_details","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"3","sys_updated_on":"2016-07-22 15:28:57","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n\tif (current.getTableName() != CAB.ATTENDEE)\n\t\treturn \"\";\n\t\n\tvar cabMeeting = new CABMeeting(current.cab_meeting.getRefRecord());\n\t\n\ttemplate.print(gs.getProperty('glide.servlet.uri') + cabMeeting.getPortalURL());\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"4c08a844eb3022002a7a666cd206fe48","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_update_name":"sys_script_email_4c08a844eb3022002a7a666cd206fe48","sys_updated_by":"admin","sys_created_on":"2016-07-18 19:33:24","name":"cab.meeting.get_portal_link","sys_name":"cab.meeting.get_portal_link","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"6","sys_updated_on":"2024-04-15 16:11:53","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n\n    template.print('<div style=\"font-size: 16px;color:#181A1F;margin-top:24px;\">');\n    template.print('<div style=\"padding-bottom:16px;\"><span style=\"font-weight: 400;\">Hello </span><span style=\"font-size: 16px; font-weight: 600; line-height: 24px;\">' + current.caller_id.first_name + ',</span></div>');\n    template.print('<div style=\"padding-bottom:16px;\"><span style=\"font-weight: 700;\">' + current.number + '</span><span style=\"font-weight: 400;\"> was resolved.</span></div>');\n    var days = parseInt(gs.getProperty(\"glide.ui.autoclose.time\"));\n    template.print('<div>Hopefully you have everything you need. If not, you can ${mailto:mailto.reopen_request} Otherwise, your incident will be automatically closed');\n    var hours = days * 24;\n    if (days > 0) {\n        if (days <= 3) {\n            if (hours == 1)\n                template.print(gs.getMessage(' after 1 hour'));\n            else\n                template.print(gs.getMessage(' after {0} hours', hours));\n        } else\n            template.print(gs.getMessage(' after {0} days', days));\n    }\n\n    template.print('.</div></div>');\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"5121dec2e5de7010f8777565f90b2f38","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9eb76f7f04b12210559073c06a02f78a","value":"9eb76f7f04b12210559073c06a02f78a"},"sys_update_name":"sys_script_email_5121dec2e5de7010f8777565f90b2f38","sys_updated_by":"admin","sys_created_on":"2021-09-01 11:49:06","name":"incident_body","sys_name":"incident_body","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"maint","sys_policy":""},{"sys_mod_count":"8","sys_updated_on":"2018-03-23 09:10:59","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n\tvar portal = gs.getProperty('sn_km_portal.glide.knowman.serviceportal.portal_url') || 'sp';\n\ttemplate.print(\"<a title='Notification Preferences' href='\"+gs.getProperty('glide.servlet.uri')+portal+\"?id=actsub_notif_pref&sysparm_domain_restore=false&sysparm_stack=no'>here</a>\");\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"5171c08767113200d358bb2d07415a83","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/67dc6bfb04352210559073c06a02f738","value":"67dc6bfb04352210559073c06a02f738"},"sys_update_name":"sys_script_email_5171c08767113200d358bb2d07415a83","sys_updated_by":"admin","sys_created_on":"2017-03-08 17:13:50","name":"km_notif_pref_url","sys_name":"km_notif_pref_url","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"1","sys_updated_on":"2016-07-22 09:38:38","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\tvar meetingURL = new CABMeeting(current.cab_meeting.getRefRecord()).getPortalURL();\n\ttemplate.print(\"To connect to the CAB Meeting click <a href='\" + meetingURL + \"'>here</a>.\");\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"519c6637eb5022002a7a666cd206fe99","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_update_name":"sys_script_email_519c6637eb5022002a7a666cd206fe99","sys_updated_by":"admin","sys_created_on":"2016-07-06 00:19:37","name":"cab.agenda_item.get_portal_link","sys_name":"cab.agenda_item.get_portal_link","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"3","sys_updated_on":"2021-09-23 16:04:43","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n    var parm1 = JSON.parse(event.parm1);\n    var urlSuffix = parm1.urlSuffix;\n    var publicURL = new PasswordResetUtil().getInstanceURL();\n    var flow = 'change/reset';\n\n    if (parm1.isChangeEnabled) {\n        publicURL += '/$pwd_change.do';\n        flow = 'change';\n    } else if (parm1.isResetEnabled && parm1.isPublic) {\n        publicURL += '/$pwd_reset.do?sysparm_url=' + urlSuffix;\n        flow = 'reset';\n    }\n\n    template.print('<p>Please ' + flow + ' your password prior to expiration to avoid issues logging in.</p>');\n    var hyperLinkElement = '<a href=\"' + publicURL + '\">Click here to ' + flow + ' your password.</a>';\n    template.print(hyperLinkElement);\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"51caebab5352301017c3ddeeff7b12d1","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/421beb3304352210559073c06a02f7ef","value":"421beb3304352210559073c06a02f7ef"},"sys_update_name":"sys_script_email_51caebab5352301017c3ddeeff7b12d1","sys_updated_by":"admin","sys_created_on":"2021-09-06 09:57:39","name":"password_expiration_email_reminder_script","sys_name":"password_expiration_email_reminder_script","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"1","sys_updated_on":"2024-05-14 14:44:46","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n\n    var requestorName = current.requested_for.getRefRecord().getValue('name');\n    var developmentInstanceName = gs.getMessage(\"N/A\");\n    var developmentInstanceLink = developmentInstanceName;\n    var developmentInstanceID = current.variables.development_instance;\n\n    if (developmentInstanceID) {\n        var gr_pipeline_environment = new GlideRecord(\"sn_pipeline_environment\");\n        if (gr_pipeline_environment.get(developmentInstanceID)) {\n            developmentInstanceName = gr_pipeline_environment.getDisplayValue('name');\n            developmentInstanceLink = '<a style=\"color:inherit;\" href=\"' + gr_pipeline_environment.getValue('instance_url') + '\">' + developmentInstanceName + '</a>';\n        }\n    }\n\n    var requestEmail = new sn_app_eng_notify.AppEngineEmailScript();\n    requestEmail.addHeading(gs.getMessage(\"A user wants to create an app\"));\n\n    requestEmail.addText(gs.getMessage(\"Hi App Engine Admins,\"));\n\n    requestEmail.addText(gs.getMessage(\"{0} wants to create an app. However, the development instance automatically assigned to them doesn't have the latest Application Intake plugin installed.\", requestorName));\n    requestEmail.addText(gs.getMessage(\"Before you approve their request, install the latest Application Intake plugin on {0}. You can also select a different instance that has the Application Intake plugin installed already. Just make sure that the user has access to it before assigning the instance on the request item form.\", [developmentInstanceLink, requestorName]));\n\n    requestEmail.addButton(gs.getMessage(\"Review request\"), current.request.getRefRecord().getLink());\n\n    template.print(requestEmail.getBody());\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"552553b59f82ce100f8b65b23b0a1c1c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3d3c2505c3e22010b83971e54440dd75","value":"3d3c2505c3e22010b83971e54440dd75"},"sys_update_name":"sys_script_email_552553b59f82ce100f8b65b23b0a1c1c","sys_updated_by":"admin","sys_created_on":"2024-05-09 16:42:05","name":"get_app_intake_request_without_intake","sys_name":"get_app_intake_request_without_intake","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3d3c2505c3e22010b83971e54440dd75","value":"3d3c2505c3e22010b83971e54440dd75"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"3","sys_updated_on":"2022-06-10 21:10:23","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n\n\n    var data = event.getValue(\"parm2\");\n    var parsedData = JSON.parse(data);\n\n    var userName = parsedData.user_full_name;\n    var templateName = parsedData.template_name;\n    var fromGroup = parsedData.currentUserPayloadData && parsedData.currentUserPayloadData.from_group_membership;\n\n\n    var originInstanceUrl = parsedData.origin_instance_url;\n    var partialPathToTemplatesHomPage = '/now/appenginestudio/templates';\n    var link = originInstanceUrl + partialPathToTemplatesHomPage;\n\n    var constructedEmail = new sn_app_eng_notify.AppEngineEmailScript();\n\n    constructedEmail.addHeading(gs.getMessage(\"You can no longer view or use this template\"));\n    constructedEmail.addText(gs.getMessage(\"Hi {0},\", userName), false); // greeting\n    if (!fromGroup) {\n        constructedEmail.addText(gs.getMessage(\"You previously had access to the template \\\"{0}\\\" because it was shared with you. However, you can no longer view it or use it because it has been deactivated or deleted.\", templateName), true);\n    } else {\n        var groupName = parsedData.currentUserPayloadData.group_name;\n        constructedEmail.addText(gs.getMessage(\"You previously had access to the template \\\"{0}\\\" because it was shared with the group \\\"{1}\\\"  that you are a part of. However, you can no longer view it or use it because it has been deactivated or deleted.\", [templateName, groupName]), true); // message\n    }\n\n    constructedEmail.addText(gs.getMessage(\"If you want to access this template again, contact your admin and ask them to activate it or restore it.\")); // message\n\n    constructedEmail.addButton(gs.getMessage(\"View all app templates\"), link); // button\n\n    email.setSubject(gs.getMessage(\"The template has been deactivated or deleted\"));\n    template.print(constructedEmail.getBody());\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"56c5aa08c33b4510b5c0c0a1fa40ddbd","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_script_email_56c5aa08c33b4510b5c0c0a1fa40ddbd","sys_updated_by":"admin","sys_created_on":"2022-05-26 17:44:58","name":"aes_app_template_deactivated","sys_name":"aes_app_template_deactivated","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"1","sys_updated_on":"2013-10-25 17:45:57","sys_tags":"","script":"attachLinks();\nfunction attachLinks() {\n   //Check for any attachments and add attachment links if they exist\n   var gr = new GlideRecord('sys_attachment');\n   gr.addQuery('table_sys_id',current.sys_id);\n   gr.query();\n   if (gr.hasNext()) {\n      template.print(\"Attachments: <br />\");\n      while (gr.next()) {\n         var attachLink = '<a href=\"' + gs.generateURL(gr.getTableName(),gr.sys_id) +  '\">' + gr.file_name + '</a>';\n         template.print(attachLink +  \"<br />\");\n      }\n      template.print(\"<hr/>\");\n   }\n}","sys_class_name":"sys_script_email","sys_id":"570d2dc3972011005aa4390ddd2975c7","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8093a3f304312210559073c06a02f7f2","value":"8093a3f304312210559073c06a02f7f2"},"sys_update_name":"sys_script_email_570d2dc3972011005aa4390ddd2975c7","sys_updated_by":"maint","sys_created_on":"2013-10-25 17:05:23","name":"attach_links","sys_name":"attach_links","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"system","sys_policy":""},{"sys_mod_count":"42","sys_updated_on":"2021-01-11 13:15:44","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n\t\t\t\t\t\t/* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n\t\t\t\t\t\t/* Optional GlideRecord */ event) {\n\t// This mail script is intended to be used by the response client templates and will only work as expected\n\t// if called from a template with a content type of HTML. current represents the original sys_email record.\n\tvar user = new GlideRecord('sys_user');\n\tvar uname = current.user.toString();\n\n\tif (current.user_id && user.get(current.user_id))\n\t\tuname = getFormatedNameAndEmailFromUser(user);\n\telse if (current.type != 'received') {\n\t\t//Try and get the user that created the email\n\t\tvar createByName = current.sys_created_by;\n\t\tif (user.get('user_name', createByName))\n\t\t\tuname = getFormatedNameAndEmailFromUser(user);\n\t\telse if (!current.user) { \n\t\t\t//otherwise use the info from the SMTP account\n\t\t\tvar emailAccount = new GlideRecord(\"sys_email_account\");\n\t\t\temailAccount.addActiveQuery();\n\t\t\temailAccount.addQuery(\"type\", \"smtp\");\n\t\t\temailAccount.query();\n\t\t\tif (emailAccount.next()) {\n\t\t\t\tvar userLabel = \"\";\n\t\t\t\tvar fromAddress = \"\";\n\t\t\t\tif (emailAccount.email_user_label)\n\t\t\t\t\tuserLabel = emailAccount.email_user_label.toString() + \" \";\n\t\t\t\tif (emailAccount.from)\n\t\t\t\t\tfromAddress = '&lt;' + emailAccount.from.toString() + '&gt;';\n\t\t\t\t\t\n\t\t\t\tuname = userLabel + fromAddress;\n\t\t\t}\n\t\t}\n\t}\n\n\t//If we somehow never got an identifier for the sender go with one of these two defaults\n\tif (!uname)\n\t\tif (current.user)\n\t\t\tuname = current.user.toString();\n\t\telse\n\t\t\tuname = \"System\";\n\n\n\tvar usePlainTextResponseContent = gs.getProperty('glide.email_client.use_plain_text_response', 'false');\n\n\tvar pattern = \"EEEE dd, MMMMM hh:mm:ss a z\";\n    var simpleDateFormat = new Packages.java.text.SimpleDateFormat(pattern);\n    simpleDateFormat.setTimeZone(Packages.java.util.TimeZone.getTimeZone(gs.getSession().getTimeZoneName()));\n\tvar dateTimeFormat = simpleDateFormat.format(new Packages.java.util.Date(new GlideDateTime(current.sys_created_on).getNumericValue()));\n\n\n\tif ((usePlainTextResponseContent == 'true' && !current.body_text.isNil()) || current.body.isNil()) {\n\t\ttemplate.print(\"On \" + dateTimeFormat+\", '\" + uname + \"' wrote:\\n\\n\");\n\t\t// Process plain text to dislay in HTML email client\n\t\ttemplate.print(sn_notification.EmailResponse.getOriginalEmailTextContent(current.getUniqueValue()));\n\t} else {\n\t\ttemplate.print(\"<div class='ec-original-message'>On \" + dateTimeFormat +\", '\" + uname + \"' wrote:<br />\");\n\t\ttemplate.print(\"<blockquote>\");\n\t\t// Remove html, head, body and style tags\n\t\ttemplate.print(sn_notification.EmailResponse.getOriginalEmailHtml(current.getUniqueValue()));\n\t\ttemplate.print(\"</blockquote></div>\");\n\t}\n\t\n\tfunction getFormatedNameAndEmailFromUser(/*GlideRecord*/ user) {\n\t\tvar userName = user.name.toString();\n\t\tif (user.email)\n\t\t\tuserName += ' &lt;' + user.email.toString() + '&gt;';\n\t\n\t\treturn userName;\n\t}\n})(current, template, email, email_action, event);\n","sys_class_name":"sys_script_email","sys_id":"5cc584083b321300c869c2c703efc45c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9ff32fb704312210559073c06a02f77c","value":"9ff32fb704312210559073c06a02f77c"},"sys_update_name":"sys_script_email_5cc584083b321300c869c2c703efc45c","sys_updated_by":"admin","sys_created_on":"2018-06-14 15:43:57","name":"insert_original_email_message","sys_name":"insert_original_email_message","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"35","sys_updated_on":"2024-04-16 04:11:21","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n\n    var inc = current.task_id ? current.task_id.getRefRecord() : current;\n    if (!inc.isValidRecord()) return;\n\n    template.print('<div style=\"font-size:16px;\">');\n    template.print('<div style=\"font-size:20px;line-height:30px;font-weight:600; padding-top:32px;\">About this incident</div>');\n    template.print('<div style=\"padding-top:16px; padding-bottom:32px;\">');\n\n    template.print('Short description: <span style=\"font-weight:600;\">' + inc.short_description + '</span><br/>');\n    var comments = inc.close_notes.toString();\n    comments = comments.replace(/\\n/g, '<br/>');\n    if (email_action.sys_name.toString() === 'Incident closed' && !inc.close_notes.nil()) {\n        template.print('Closed by: <span style=\"font-weight:600;\">' + inc.closed_by.name + '</span><br/>');\n        template.print('Closing notes: <span style=\"font-weight:600;\">' + comments + '</span>');\n    } else if (email_action.sys_name.toString() === 'Incident resolved' && !inc.close_notes.nil()) {\n        template.print('Resolved by: <span style=\"font-weight:600;\">' + inc.resolved_by.name + '</span><br/>');\n        template.print('Resolution notes: <span style=\"font-weight:600;\">' + comments + '</span>');\n    }\n\n    template.print('</div>');\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"5ef003c2e552b010f8777565f90b2f7a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9eb76f7f04b12210559073c06a02f78a","value":"9eb76f7f04b12210559073c06a02f78a"},"sys_update_name":"sys_script_email_5ef003c2e552b010f8777565f90b2f7a","sys_updated_by":"admin","sys_created_on":"2021-09-01 15:16:14","name":"incident_details","sys_name":"incident_details","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"maint","sys_policy":""},{"sys_mod_count":"3","sys_updated_on":"2022-09-19 22:07:30","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template, /* Optional EmailOutbound */\n    email) {\t\n\tvar appName = current.variables.application_name;\n    var approvalEmail = new AppIntakeApprovalEmail();\n\n    template.print(approvalEmail.getEmailMessageManualPermissionProvisioning(current.opened_by.getRefRecord().getValue(\"name\"), appName));\n\n})(current, template, email);","sys_class_name":"sys_script_email","sys_id":"5efe6758530e1110b846ddeeff7b127a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3d3c2505c3e22010b83971e54440dd75","value":"3d3c2505c3e22010b83971e54440dd75"},"sys_update_name":"sys_script_email_5efe6758530e1110b846ddeeff7b127a","sys_updated_by":"admin","sys_created_on":"2022-09-16 14:25:48","name":"get_app_intake_message_manual_permission_provisioning","sys_name":"get_app_intake_message_manual_permission_provisioning","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3d3c2505c3e22010b83971e54440dd75","value":"3d3c2505c3e22010b83971e54440dd75"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"1","sys_updated_on":"2013-10-25 17:30:49","sys_tags":"","script":"  var keys = [];\n  var set = new GlideappSequencedQuestionSet();\n  set.setTableName(current.sysapproval.sys_class_name);\n  set.setTableSysID(current.sysapproval);\n  set.load();\n  var vs = set.getFlatQuestions();\n  if (vs.size() > 0)\n     printVariables(vs);\n\n  function printVariables(vs) {\n    template.space(4);\n    template.print(\"Summary of Change request:<br />\");\n\n    for (var i=0; i < vs.size(); i++) {\n         if(vs.get(i).getLabel() != '') \n            template.space(4);\n            template.print('     ' +  vs.get(i).getLabel() + \" = \" + vs.get(i).getDisplayValue() + \"<br />\");  \n    }\n  }\n","sys_class_name":"sys_script_email","sys_id":"5f0d2dc3972011005aa4390ddd2975c7","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8093a3f304312210559073c06a02f7f2","value":"8093a3f304312210559073c06a02f7f2"},"sys_update_name":"sys_script_email_5f0d2dc3972011005aa4390ddd2975c7","sys_updated_by":"maint","sys_created_on":"2013-10-25 17:05:23","name":"change_request_summary","sys_name":"change_request_summary","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"system","sys_policy":""},{"sys_mod_count":"16","sys_updated_on":"2018-02-09 06:17:02","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n \t\t\tvar newUsers = event.parm2;\n\t\t\tvar userDelta = new GlideRecord(\"sn_publications_publication_contact_m2m\");\n\t\t\tuserDelta.addQuery(\"publication\",current.getUniqueValue());\n\t\t\t\n\t        userDelta.addQuery(\"user.sys_id\",\"IN\",newUsers);\n\t        //userDelta.addQuery(\"user.sys_id\",\"IN\",newUsers);\n\t\t\tuserDelta.query();\n\t\t\twhile(userDelta.next()){\n\t\t       email.addAddress(\"bcc\",userDelta.getValue('email_address'),userDelta.getValue('name'));\n\t\t\t}\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"61cb5c953b01030037556b4ee3efc42b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0fdd6483d72302004f1e82285e61033a","value":"0fdd6483d72302004f1e82285e61033a"},"sys_update_name":"sys_script_email_61cb5c953b01030037556b4ee3efc42b","sys_updated_by":"admin","sys_created_on":"2017-09-05 18:31:26","name":"add_newusers_to_bcc","sys_name":"add_newusers_to_bcc","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/0fdd6483d72302004f1e82285e61033a","value":"0fdd6483d72302004f1e82285e61033a"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"2","sys_updated_on":"2023-02-13 16:56:45","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n\ttemplate.print(new global.AutoResolutionContextHelper().getMatchedIntentTopicNameFromTask(current.sys_id));\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"62591fe7ebb421102c672add08522815","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca4f3f704b52210559073c06a02f789","value":"aca4f3f704b52210559073c06a02f789"},"sys_update_name":"sys_script_email_62591fe7ebb421102c672add08522815","sys_updated_by":"admin","sys_created_on":"2023-02-10 07:41:00","name":"getIARMatchedTopicName","sys_name":"getIARMatchedTopicName","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"15","sys_updated_on":"2021-07-13 17:17:25","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n\t\t// Grab current year based on user's local time\n        var currentYear = new GlideDateTime().getYearLocalTime();\n\t\tvar footerMessage = gs.getMessage(\"You have received this email to update you about your recent app creation.\");\n\t\tvar footer = footerMessage;\n\t\tvar copyrightMessage = gs.getMessage('{0}{1} ServiceNow | All Rights Reserved', ['&copy; ', currentYear]);\n\t\ttemplate.print(footerMessage);\n\t\ttemplate.print(\"\\n\");\n\t\ttemplate.print(copyrightMessage);\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"63c2ad4ac3d9f01085c091294440dd3b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4cb87f6f53703010b846ddeeff7b1289","value":"4cb87f6f53703010b846ddeeff7b1289"},"sys_update_name":"sys_script_email_63c2ad4ac3d9f01085c091294440dd3b","sys_updated_by":"admin","sys_created_on":"2021-07-13 15:44:43","name":"app_eng_email_layout_footer","sys_name":"app_eng_email_layout_footer","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/4cb87f6f53703010b846ddeeff7b1289","value":"4cb87f6f53703010b846ddeeff7b1289"},"new_lines_to_html":"true","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"0","sys_updated_on":"2020-09-25 12:35:13","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n          // Add your code here\n\tvar gr = new GlideRecord('sys_user');\n\tgr.get('user_name', current.getValue('sys_updated_by'));\n\ttemplate.print(gr.getValue('first_name'));\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"65451214532310101553ddeeff7b128d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c69d2bff04352210559073c06a02f736","value":"c69d2bff04352210559073c06a02f736"},"sys_update_name":"sys_script_email_65451214532310101553ddeeff7b128d","sys_updated_by":"admin","sys_created_on":"2020-09-25 12:20:23","name":"sc_getUserFirstName","sys_name":"sc_getUserFirstName","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"24","sys_updated_on":"2019-08-20 08:35:02","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\tvar obj = new JSON().decode(event.parm2);\n\tvar article_link = new KBCommon().getArticleLink(obj.article_id);\n\tvar emailContent = {};\n\temailContent.templateContent = \n\n    \"Hi  \"+obj.receiver+\",<br/>\" + \n\t\"<br/>\" +\n\t\"An article that you have created/updated has received a new comment.<br/>\" + \n\t\"<br/>\" + \n\t\"<b>Article Number</b>: <a href='\"+article_link+ \"'>\"+obj.article_number+\"</a><br/>\" +\n\t\"<b>Article Title</b>: \"+obj.short_desc+\"<br/>\" +\n\t\"<b>Commented By</b>: \"+obj.commented_by+\"<br/>\" +\n\t\"<b>Received On</b>: \"+obj.commented_on+\"<br/>\" +\n\t\"<b>Comment</b>: \"+obj.comment+\"<br/>\" +\n\t\"<br/>\" +\n\t\"If this comment requires you to update the article, you may do so from \" +\n\t\"<a href='\"+gs.getProperty('glide.servlet.uri')+\"kb_knowledge.do?sys_id=\"+\tobj.latest_version_id +\"'>here.</a><br/>\";\n\t\n\tvar vars={\n\t\turl: gs.getProperty('glide.servlet.uri'),\n\t\tarticleobj : obj\n\t\t};\n    var extensionPoint = new GlideUIExtensionPoint().getExtensions(\"global.KMFeedbackNotification\", vars);\n    if(extensionPoint.length > 0){\n       emailContent.templateContent = extensionPoint[0];\n     }\n\temail.setSubject(obj.subject);\n\ttemplate.print(emailContent.templateContent);\n\t\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"655672d167603200d358bb2d07415a37","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/67dc6bfb04352210559073c06a02f738","value":"67dc6bfb04352210559073c06a02f738"},"sys_update_name":"sys_script_email_655672d167603200d358bb2d07415a37","sys_updated_by":"admin","sys_created_on":"2017-01-25 13:03:08","name":"Notification: Article commented","sys_name":"Notification: Article commented","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"30","sys_updated_on":"2020-04-01 07:56:54","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\t\n\tvar obj = new KBKnowledge().getNotificationObject(current);\n\tvar emailContent = {};\n\temailContent.templateContent = \n\t\t\"Hi  \"+obj.approver+\",<br/>\" + \n\t\"<br/>\" +\n\t\"<a href=\"+obj.article_link+\">\"+obj.number+\"</a> is awaiting approval.<br/>\" +\n\t\"<br/>\" +\n\t\"<b>Article Title</b>: \"+obj.short_desc+\"<br/>\" +\n\t\"<br/>\" +\n\t\"Please review the article and <a href=\"+obj.approval_link+\">Approve/Reject</a>\tit<br/>\" +\n\t\"<br/>\";\t\n\temail.setSubject(obj.number+\" is awaiting approval.\");\n\ttemplate.print(emailContent.templateContent);\n\t\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"658df9c6b7122300bc1308a9ee11a9c4","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2fe727ff04b12210559073c06a02f7dd","value":"2fe727ff04b12210559073c06a02f7dd"},"sys_update_name":"sys_script_email_658df9c6b7122300bc1308a9ee11a9c4","sys_updated_by":"admin","sys_created_on":"2018-12-12 05:19:17","name":"km_approval","sys_name":"km_approval","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"0","sys_updated_on":"2021-10-12 20:10:20","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n    var pipelineRunnerFailedEmail = new PipelineRunnerFailedEmail();\n\n    // subject\n    var subject = pipelineRunnerFailedEmail.getSubject();\n    email.setSubject(subject);\n\n    // email body\n    var recipientGroups = email_action.recipient_groups || '';\n    var body = pipelineRunnerFailedEmail.getFailedValidationEmailBody(recipientGroups, current);\n\n    template.print(body);\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"66205f9fc3033010a9f5e548fa40dd09","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e78853e9c3222010b83971e54440dd26","value":"e78853e9c3222010b83971e54440dd26"},"sys_update_name":"sys_script_email_66205f9fc3033010a9f5e548fa40dd09","sys_updated_by":"admin","sys_created_on":"2021-10-12 20:10:20","name":"pipeline_runner_failed_validation","sys_name":"pipeline_runner_failed_validation","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e78853e9c3222010b83971e54440dd26","value":"e78853e9c3222010b83971e54440dd26"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"2","sys_updated_on":"2016-05-22 07:58:23","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\t\tvar attachLink = '<a href=\"' + current.gsw_content_url +  '\">' + current.gsw_content.title + '</a>';\n\t\ttemplate.print(attachLink);\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"68056c25db231200edac3bc8f0b8f524","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5f4ef4ed9f401200b18a7feea57fcfbe","value":"5f4ef4ed9f401200b18a7feea57fcfbe"},"sys_update_name":"sys_script_email_68056c25db231200edac3bc8f0b8f524","sys_updated_by":"admin","sys_created_on":"2016-05-22 07:54:51","name":"attachLink","sys_name":"attachLink","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5f4ef4ed9f401200b18a7feea57fcfbe","value":"5f4ef4ed9f401200b18a7feea57fcfbe"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"20","sys_updated_on":"2023-06-14 20:22:09","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n    /**\n\t*   event - sn_cmdb_ws.attestationtask.reassign\n\t*   current - cmdb_data_management_task record\n\t*   parm1 - new assignee (email recipient)\n\t*   parm2 - assignment information object\n\t**/\n\t\n\tvar taskId = current.sys_id;\n\tvar assignmentInfo = event.parm2 ? JSON.parse(event.parm2) : null;\n\n\tif (taskId) {\n\t\tvar currentUser = \"\";\n\t\tvar assignedUser = \"\";\n\t\tvar assignmentGroup = \"\";\n\t\tvar isCurrentUserDMAdmin = false;\n\t\t\n\t\tif (assignmentInfo && Object.keys(assignmentInfo).length > 0) {\n\t\t\tif (assignmentInfo[\"currentUser\"])\n\t\t\t\tcurrentUser = assignmentInfo[\"currentUser\"];\n\t\t\t\n\t\t\tif (assignmentInfo[\"assignedUser\"])\n\t\t\t\tassignedUser = assignmentInfo[\"assignedUser\"];\n\n\t\t\tif (assignmentInfo[\"assignmentGroup\"])\n\t\t\t\tassignmentGroup = assignmentInfo[\"assignmentGroup\"];\n\t\t\t\n\t\t\tif (assignmentInfo[\"isCurrentUserDMAdmin\"])\n\t\t\t\tisCurrentUserDMAdmin = assignmentInfo[\"isCurrentUserDMAdmin\"];\n\t\t}\n\t\t\n\t\tvar reviewGr = new GlideRecord('cmdb_data_management_task');\n\t\treviewGr.get(taskId);\n\n\t\tvar url = '<a href=\"' + gs.getProperty('glide.servlet.uri') + 'now/cmdb/attestation-task/' + taskId + '\">' + reviewGr.getValue('number') + '</a>';\n\t\ttemplate.print(gs.getMessage('Attestation task {0} has been assigned to you by ', url));\n\t\t\n\t\tif (isCurrentUserDMAdmin) {\n\t\t\ttemplate.print(gs.getMessage('[admin: {0}].<br>', currentUser));\n\t\t} else {\n\t\t\ttemplate.print(gs.getMessage('[previous assignee: {0}].<br>', assignedUser));\n\t\t}\n\t\t\n\t\tif (assignmentGroup) {\n\t\t\ttemplate.print(gs.getMessage('If the task should not be assigned to you, use the task\\'s Reassign action to assign it to another member of the \\'{0}\\' group or send the task for reassignment.', assignmentGroup));\n\t\t} else {\n\t\t\ttemplate.print(gs.getMessage('If the task should not be assigned to you, use the task\\'s Reassign action to send the task for reassignment.'));\n\t\t}\n\t\t\n\t\treviewGr.setValue('last_notification_time', new GlideDateTime());\n\t\treviewGr.update();\n\t} else {\n\t\tgs.warn(\"CMDB attestation task reassign to user email notification script did not receive any associated task.\");\n\t}\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"6894cc1cb782011071b980408e11a953","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_update_name":"sys_script_email_6894cc1cb782011071b980408e11a953","sys_updated_by":"maint","sys_created_on":"2022-03-01 00:57:37","name":"cmdbattestationtask.reassigntouser","sys_name":"cmdbattestationtask.reassigntouser","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"6","sys_updated_on":"2017-08-20 21:59:32","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n          // Add your code here\n\t\ttemplate.print('Data Successfully Downloaded for the following Product category (s): <br>');\n\t    var categoryList= event.parm2.split();\n\t    var msg= '<br>' + categoryList.join('<br>');\n        template.print(msg);\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"6e30f7519f080300d23a7898f57fcff8","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_update_name":"sys_script_email_6e30f7519f080300d23a7898f57fcff8","sys_updated_by":"admin","sys_created_on":"2017-07-18 16:56:04","name":"bm_score_print_published_categories","sys_name":"bm_score_print_published_categories","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"20","sys_updated_on":"2019-08-20 09:01:50","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\tvar portal = gs.getProperty(\"sn_km_portal.glide.knowman.serviceportal.portal_url\",'kb');\n\t\n    template.print(\"Hi \"+current.assigned_to.first_name+\",<br/>\");\n\ttemplate.print(\"<br/>\");\n\ttemplate.print(\"A feedback requires your action \");\n\ttemplate.print(\"<a href='\"+gs.getProperty('glide.servlet.uri')+ \"kb_feedback_task.do?sys_id=\"+\tcurrent.sys_id + \"'>\"+ current.number +\"</a><br/><br/>\");\n\ttemplate.print(\"<b>Article: </b>\");\n\ttemplate.print(\"<a href='\"+gs.getProperty('glide.servlet.uri')+ \"kb_knowledge.do?sys_id=\"+current.feedback.article + \"'>\"+current.feedback.article.getDisplayValue()+\"</a><br/>\");\n\ttemplate.print(\"<b>Article Title</b>: \"+current.feedback.article.short_description+\"<br/>\");\n\ttemplate.print(\"<b>Reason:</b> \"+current.feedback.reason.getDisplayValue()+\"<br/>\");\n\ttemplate.print(\"<b>Description:</b> \"+current.description+\"<br/>\");\n\ttemplate.print(\"<b>Assigned by:</b> \"+event.parm2+\"<br/>\");\n\t\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"70b86abd67730300d358bb2d07415a45","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2fe727ff04b12210559073c06a02f7dd","value":"2fe727ff04b12210559073c06a02f7dd"},"sys_update_name":"sys_script_email_70b86abd67730300d358bb2d07415a45","sys_updated_by":"admin","sys_created_on":"2018-01-22 10:55:44","name":"Notification: Feedback Task Reassigned","sys_name":"Notification: Feedback Task Reassigned","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"1","sys_updated_on":"2016-01-29 17:20:43","sys_tags":"","script":"(function runMailScript(current, template, email, email_action, event) {\n\ttemplate.print('<p><font size=\"5\" color=\"#808080\" face=\"helvetica\"><strong>');\n\ttemplate.print(gs.getMessage('Incident has been closed.'));\n\ttemplate.print('</strong></font></p>');\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"78812770d751120035ae23c7ce610323","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9eb76f7f04b12210559073c06a02f78a","value":"9eb76f7f04b12210559073c06a02f78a"},"sys_update_name":"sys_script_email_78812770d751120035ae23c7ce610323","sys_updated_by":"admin","sys_created_on":"2016-01-29 17:19:35","name":"incident_has_been_closed","sys_name":"incident_has_been_closed","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"4","sys_updated_on":"2018-10-14 07:22:38","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n    var rosterSpanProposalGr = new GlideRecord(\"roster_schedule_span_proposal\");\n\tif (rosterSpanProposalGr.get(current.document_id + \"\")) {\n\t\tvar proposedCover = rosterSpanProposalGr.getDisplayValue(\"proposed_cover\");\n\t\tif (proposedCover)\n\t\t\ttemplate.print(gs.getMessage(\"During this time, the shifts will be covered by {0}.\", proposedCover));\n\t}\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"789fd60f53452300bf68ddeeff7b12c0","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_script_email_789fd60f53452300bf68ddeeff7b12c0","sys_updated_by":"admin","sys_created_on":"2018-10-14 07:01:49","name":"oc_proposed_cover_msg","sys_name":"oc_proposed_cover_msg","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"12","sys_updated_on":"2023-06-14 20:22:42","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n\t\t\t\t\t\t/* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n\t\t\t\t\t\t/* Optional GlideRecord */ event) {\n    \n\t/**\n\t*   event - sn_cmdb_ws.attestationtask.sendtoadmin\n\t*   current - cmdb_data_management_task record\n\t*   parm1 - list of cmdb data manager admins comma separated (email recipients)\n\t*   parm2 - assignment information object\n\t**/\n\t\n\tvar taskId = current.sys_id;\n\tvar assignmentInfo = event.parm2 ? JSON.parse(event.parm2) : null;\n\n\tif (taskId) {\n\t\tvar currentUser = \"\";\n\t\tvar assignmentGroup = \"\";\n\n\t\tif (assignmentInfo && Object.keys(assignmentInfo).length > 0) {\n\t\t\tif (assignmentInfo[\"currentUser\"])\n\t\t\t\tcurrentUser = assignmentInfo[\"currentUser\"];\n\n\t\t\tif (assignmentInfo[\"assignmentGroup\"])\n\t\t\t\tassignmentGroup = assignmentInfo[\"assignmentGroup\"];\n\t\t}\n\n\t\tvar reviewGr = new GlideRecord('cmdb_data_management_task');\n\t\treviewGr.get(taskId);\n\t\t\n\t\tvar url = '<a href=\"' + gs.getProperty('glide.servlet.uri') + 'now/cmdb/attestation-task/' + taskId + '\">' + reviewGr.getValue('number') + '</a>';\n\t\ttemplate.print(gs.getMessage('\\'{0}\\' has forwarded Attestation task {1} for reassignment. The task is related to policy \\'{2}\\' and ', [currentUser, url, reviewGr.policy_id.name]));\n\t\t\n\t\tif (assignmentGroup) {\n\t\t\ttemplate.print(gs.getMessage('was originally assigned to the \\'{0}\\' group.', assignmentGroup));\n\t\t} else {\n\t\t\ttemplate.print(gs.getMessage('there is no assignment group.'));\n\t\t}\n\t\t\n\t\treviewGr.setValue('last_notification_time', new GlideDateTime());\n\t\treviewGr.update();\n\t} else {\n\t\tgs.warn(\"CMDB attestation task send to admin email notification script did not receive any associated task.\");\n\t}\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"79d8dc93b771011071b980408e11a9d3","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_update_name":"sys_script_email_79d8dc93b771011071b980408e11a9d3","sys_updated_by":"maint","sys_created_on":"2022-02-25 23:42:24","name":"cmdbattestationtask.sendtoadmin","sys_name":"cmdbattestationtask.sendtoadmin","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"55","sys_updated_on":"2024-11-17 09:50:30","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n/* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n/* Optional GlideRecord */ event) {\n\t// Add all users with admin or antivirus_admin role in BCC\n\tvar adminRoleSysId = \"2831a114c611228501d4ea6c309d626d\";\n\tvar antivirusAdminRoleSysId = \"13a4cd4a73b2030052c11afe2ff6a7f1\";\n\tvar userRole = new GlideRecord(\"sys_user_has_role\");\n\tvar qc = userRole.addQuery(\"role\", adminRoleSysId);\n\tqc.addOrCondition(\"role\", antivirusAdminRoleSysId);\n\tuserRole.query();\n\twhile (userRole.next())\n\t\temail.addAddress(\"bcc\", userRole.user.email, userRole.getDisplayValue(\"user\"));\n\n\tvar templateBody = \"\";\n\t// Add key message\n\ttemplateBody += \"Attachment '\"+ current.file_name + \"' did not pass security scan\" + \"<hr/>\";\n\n\tvar parentRecord = new GlideRecord(current.table_name);\n\tparentRecord.get(current.table_sys_id);\n\tif (parentRecord.isValid()) {\n\t\t// Add table label\n\t\ttemplateBody += \"<br/>\" + parentRecord.getClassDisplayValue() + \": \";\n\t\t// Add record link\n\t\tvar parentRecordLink = gs.getProperty('glide.servlet.uri') + current.table_name + \".do?sys_id=\" + current.table_sys_id;\n\t\tvar recordURL = \"<a href='\" + parentRecordLink + \"'>\" + sn_snap.InfectedAttachmentNotifier.getDisplayNameOfParent(parentRecord) + \"</a>\";\n\t\ttemplateBody += recordURL + \"<br/>\";\n\t\t// Add short description if available\n\t\tif (parentRecord.isValidField('short_description'))\n\t\t\ttemplateBody += \"<br/>\" + GlideStringUtil.escapeHTML(parentRecord.short_description)+ \"<br/>\";\n\n\t\t// Add details of infected file\n\t\ttemplateBody += \"<br/>\" + \"The following attachment did not pass security scan: \" + current.file_name + \"<br/>\";\n\t\t// Add action details\n\t\ttemplateBody += \"<br/>\" + \"View this file from record \" + recordURL;\n\t}\n\n\t// Display content\n\ttemplate.print(templateBody);\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"7a5302f15300230019eeddeeff7b127b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3f7b23f304352210559073c06a02f7f6","value":"3f7b23f304352210559073c06a02f7f6"},"sys_update_name":"sys_script_email_7a5302f15300230019eeddeeff7b127b","sys_updated_by":"admin","sys_created_on":"2018-08-21 14:50:38","name":"notify_when_file_is_infected","sys_name":"notify_when_file_is_infected","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"9","sys_updated_on":"2024-07-12 11:46:02","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n    const creatorStudioEmail = new CreatorStudioEmailScript();\n    const viewTaskMessage = gs.getMessage(\"View task\");\n    creatorStudioEmail.addHeading(gs.getMessage(\"Youll need to manually add the requester as the app owner\"));\n    creatorStudioEmail.addText(gs.getMessage(\"Hi {0},\", current.getDisplayValue(\"assignment_group\")), false);\n    creatorStudioEmail.addText(gs.getMessage(\"You recently received a request to create a new app in Creator Studio.\"), false);\n    creatorStudioEmail.addInfo(gs.getMessage(\"Request\"), current.getDisplayValue(\"number\"));\n    creatorStudioEmail.addInfo(gs.getMessage(\"Person requesting app\"), current.getDisplayValue(\"requestor_name\"));\n    creatorStudioEmail.addInfo(gs.getMessage(\"App name\"), current.getDisplayValue(\"short_description\"));\n    creatorStudioEmail.addText(gs.getMessage(\"However, the system was unable to assign this person as the owner of the app. Instead, youll need to manually add them as an owner.\"), false);\n    const aemcService = new AEMCService();\n    if (aemcService.aemcInstalled()) {\n        creatorStudioEmail.addButton(viewTaskMessage, aemcService.aemcTasksUrl(current));\n    } else {\n        creatorStudioEmail.addButton(viewTaskMessage, creatorStudioEmail.getTasksUrl(current));\n    }\n    template.print(creatorStudioEmail.getBody());\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"7ce53d38eba002107dcf7bd6c152282c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/81ac5fe1c7442110408bc8d6f2c260d1","value":"81ac5fe1c7442110408bc8d6f2c260d1"},"sys_update_name":"sys_script_email_7ce53d38eba002107dcf7bd6c152282c","sys_updated_by":"admin","sys_created_on":"2024-02-21 17:29:51","name":"request_owner_error","sys_name":"request_owner_error","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/81ac5fe1c7442110408bc8d6f2c260d1","value":"81ac5fe1c7442110408bc8d6f2c260d1"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"0","sys_updated_on":"2015-04-27 07:06:33","sys_tags":"","script":"template.print(current.question);\ntemplate.print('<br/>')\ntemplate.print(current.question_details);","sys_class_name":"sys_script_email","sys_id":"7d24726fc32331006f333b0ac3d3ae8a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/11722b01473231007f47563dbb9a7154","value":"11722b01473231007f47563dbb9a7154"},"sys_update_name":"sys_script_email_7d24726fc32331006f333b0ac3d3ae8a","sys_updated_by":"admin","sys_created_on":"2015-04-27 07:06:33","name":"socialqa_question","sys_name":"socialqa_question","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/11722b01473231007f47563dbb9a7154","value":"11722b01473231007f47563dbb9a7154"},"new_lines_to_html":"true","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"19","sys_updated_on":"2024-04-16 05:18:08","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n    template.print('<br>');\n    if (current.caller_id.toString() !== current.opened_by.toString())\n        template.print('<div>Opened by: ' + '<span style=\"font-weight:600\">' +\n            current.opened_by.name + '</span></div>');\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"7dab72755362301001b2ddeeff7b12c8","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9eb76f7f04b12210559073c06a02f78a","value":"9eb76f7f04b12210559073c06a02f78a"},"sys_update_name":"sys_script_email_7dab72755362301001b2ddeeff7b12c8","sys_updated_by":"admin","sys_created_on":"2021-09-13 06:18:39","name":"incident_was_opened","sys_name":"incident_was_opened","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"12","sys_updated_on":"2019-04-02 10:08:15","sys_tags":"","script":"setMailHeaders();\n\nfunction setMailHeaders() {\n\tvar liveFeedApi = new SNC.LiveFeedApi();\n\tvar tableName = current.getTableName();\n\tvar from;\n\tvar message;\n\tif(tableName == 'live_message') {\n\t\tfrom = current.profile.name;\n\t\tif(current.reply_to)\n\t\t\tmessage = liveFeedApi.formatMessage(current.reply_to.message, 'TEXT');\n\t\telse\n\t\t\tmessage = liveFeedApi.formatMessage(current.message, 'TEXT');\n\t}\n\tif(tableName == 'live_message_like') {\n\t\tfrom = current.profile.name;\n\t\tif(current.message.reply_to)\n\t\t\tmessage = liveFeedApi.formatMessage(current.message.reply_to.message, 'TEXT');\n\t\telse\n\t\t\tmessage = liveFeedApi.formatMessage(current.message.message, 'TEXT');\n\t}\n\tif(tableName == 'live_mention') {\n\t\tfrom = current.message.profile.name;\n\t\tif(current.message.reply_to)\n\t\t\tmessage = liveFeedApi.formatMessage(current.message.reply_to.message, 'TEXT');\n\t\telse\n\t\t\tmessage = liveFeedApi.formatMessage(current.message.message, 'TEXT');\n\t}\n\tvar hasAt = from.indexOf(\"@\") >= 0;\n    if (from && !hasAt || (hasAt && (SNC.EmailAddressValidator.validate(from).length === 0))) {\n        email.setFrom(from);\n    }\n\tif(message) {\n\t\tvar subject;\n\t\tif(message.length <= 60)\n\t\t\tsubject = message;\n\t\telse {\n\t\t\tfor(var i=60;i>=0;i--) {\n\t\t\t\tvar c = message.charAt(i);\n\t\t\t\tif(c == ' ' || c == '\\t' || c == '\\n' || c == '\\r') {\n\t\t\t\t\tsubject = message.substring(0,i);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!subject)\n\t\t\t\tsubject = message.substring(0,60);\n\t\t\tsubject = subject + \" ...\";\n\t\t}\n\t\tsubject = gs.getMessage(\"Live Message\")+\": \"+subject;\n\t\temail.setSubject(subject);\n\t}\n}","sys_class_name":"sys_script_email","sys_id":"7ea3f31a378321009a80a0ffbe41f1d4","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/50442b7b04312210559073c06a02f7ef","value":"50442b7b04312210559073c06a02f7ef"},"sys_update_name":"sys_script_email_7ea3f31a378321009a80a0ffbe41f1d4","sys_updated_by":"admin","sys_created_on":"2014-09-11 21:47:15","name":"live_feed_message_headers","sys_name":"live_feed_message_headers","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"6","sys_updated_on":"2018-02-22 19:47:00","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\tvar portal = gs.getProperty(\"sn_km_portal.glide.knowman.serviceportal.portal_url\",'kb');\n\t\n    template.print(\"Hi \"+event.parm2+\",<br/>\");\n\ttemplate.print(\"<br/>\");\n\ttemplate.print(\"The resolution proposed for feedback \");\n\ttemplate.print(\"<a href='\"+gs.getProperty('glide.servlet.uri')+ \"kb_feedback_task.do?sys_id=\"+\tcurrent.sys_id + \"'>\"+ current.number +\"</a>\");\n\ttemplate.print(\" was rejected by \"+ current.opened_by.getDisplayValue() +\"<br/>\");\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"7f51e1d667001300d358bb2d07415a6b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2fe727ff04b12210559073c06a02f7dd","value":"2fe727ff04b12210559073c06a02f7dd"},"sys_update_name":"sys_script_email_7f51e1d667001300d358bb2d07415a6b","sys_updated_by":"admin","sys_created_on":"2018-02-05 05:16:45","name":"Notification: Feedback Task Resolution Rejected","sys_name":"Notification: Feedback Task Resolution Rejected","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"6","sys_updated_on":"2024-04-15 05:35:37","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n    template.print('<div style=\"font-size: 16px;\" ><span style=\"font-weight: 400;\">The state for </span>');\n    template.print('<span style=\"font-weight: 700; color: #181A1F;\">${number} </span>');\n    template.print('<span style=\"font-weight: 400; \">has changed to ' + current.state.getDisplayValue() + '.</span></div>');\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"808d74f487133200b4ae6c5837cb0b47","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/a80ca3b704352210559073c06a02f7ad","value":"a80ca3b704352210559073c06a02f7ad"},"sys_update_name":"sys_script_email_808d74f487133200b4ae6c5837cb0b47","sys_updated_by":"admin","sys_created_on":"2017-06-09 07:53:07","name":"incident_state_change_status","sys_name":"incident_state_change_status","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"50","sys_updated_on":"2017-09-07 22:35:35","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n\t\t\t\t\t\t\t\t\t\t   /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n\t\t\t\t\t\t\t\t\t\t   /* Optional GlideRecord */ event) {\n\n\t// Add your code here\n\tif(event.user_id=='system'){\n\t\t\tvar user = new GlideRecord(\"sn_publications_publication_contact_m2m\");\n\t\t\tuser.addQuery(\"publication\",current.getUniqueValue());\n\t\t\tuser.query();\n\t\t\twhile(user.next()){\n\t\t\t\temail.addAddress(\"bcc\",user.getValue('email_address'),user.getValue('name'));\n\t\t\t}\n\t}\n\t\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"81b6d890c341220071d07bfaa2d3aee2","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0fdd6483d72302004f1e82285e61033a","value":"0fdd6483d72302004f1e82285e61033a"},"sys_update_name":"sys_script_email_81b6d890c341220071d07bfaa2d3aee2","sys_updated_by":"admin","sys_created_on":"2016-07-31 23:12:01","name":"add_users_to_bcc_list","sys_name":"add_users_to_bcc_list","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/0fdd6483d72302004f1e82285e61033a","value":"0fdd6483d72302004f1e82285e61033a"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"0","sys_updated_on":"2021-07-13 18:02:40","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\tvar requestorName = current.getDisplayValue(\"requestor_name\");\n\tvar inviteeName = current.getDisplayValue(\"group_invitee_name\") || current.getDisplayValue(\"invitee_name\");\n\tvar appName = current.getDisplayValue(\"app_name\");\n\tvar descriptorUpperCase = (current.getDisplayValue(\"collaboration_descriptor_name\") || '').toLocaleUpperCase(gs.getSession().getLanguage());\n\t\n\tvar collabRequestEmail = new CollabRequestEmailScript();\n\t\n\tcollabRequestEmail.addHeading(gs.getMessage(\"Welcome to the team!\"));\n\tcollabRequestEmail.addText(gs.getMessage(\"Hi {0},\", inviteeName), false); // greeting\n\tcollabRequestEmail.addText(gs.getMessage(\"You have been added as a collaborator on the app, {0}. You have {1} privileges.\", [appName, descriptorUpperCase]), true); // message\n\tcollabRequestEmail.addButton(gs.getMessage(\"Go to your app\"), current.getValue(\"app_url\"));\n\t\n\temail.setSubject(gs.getMessage(\"You are now a collaborator\"));\n\ttemplate.print(collabRequestEmail.getBody());\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"81c9c28ec7913010408bc8d6f2c26075","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"sys_update_name":"sys_script_email_81c9c28ec7913010408bc8d6f2c26075","sys_updated_by":"admin","sys_created_on":"2021-07-13 18:02:40","name":"get_dev_collab_to_invitee_email","sys_name":"get_dev_collab_to_invitee_email","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"1","sys_updated_on":"2019-03-02 09:41:52","sys_tags":"","script":"(function runMailScript(event, template) {\n\tvar id = event.parm2;\n    var gr = new GlideRecord('vtb_card');\n    gr.addQuery('task', id);\n    gr.addQuery('removed', false);\n    gr.query();\n    if (gr.getRowCount() == 1) {\n        if (gr.next()) {\n            var data = 'If you are a member of the board, you can access the card from board ';\n            var vtbLink1 = '<a href=\"/$vtb.do?sysparm_board=' + gr.lane.board.sys_id + '&task=' + gr.task.sys_id + '\">' + gr.lane.board.name + '</a><br />';\n            template.print(data + vtbLink1);\n        }\n    } else if (gr.getRowCount() > 1) {\n        template.print('You can access the card, if you are a member of at least one of the boards below, <br>');\n        while (gr.next()) {\n            var vtbLink2 = '<a href=\"/$vtb.do?sysparm_board=' + gr.lane.board.sys_id + '&task=' + gr.task.sys_id + '\">' + gr.lane.board.name + '</a><br />';\n            template.print(vtbLink2);\n        }\n    }\n})(event, template);","sys_class_name":"sys_script_email","sys_id":"82c9b6f753332300bf6bddeeff7b12b6","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d334a77b04312210559073c06a02f7ff","value":"d334a77b04312210559073c06a02f7ff"},"sys_update_name":"sys_script_email_82c9b6f753332300bf6bddeeff7b12b6","sys_updated_by":"admin","sys_created_on":"2019-03-02 09:41:24","name":"vtb_additionalAssignee_details","sys_name":"vtb_additionalAssignee_details","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"62","sys_updated_on":"2022-03-04 17:39:22","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n    var portalSuffix = new sn_ex_emp_fd.FoundationNotificationUtil().getPortalSuffix();\n    var requestUrl = '/' + portalSuffix + '?id=order_status&table=sc_request&sys_id=' + current.sys_id;\n    var buttonText = gs.getMessage('View request');\n    //Generates primary action of view request\n    var requestNotificationJs = new global.RequestNotificationUtil();\n    requestNotificationJs.createNotificationPrimayAction(template, requestUrl, buttonText);\n\n    //request details required for notification template\n    var requestDetails = requestNotificationJs.getRequestDetails(current.sys_id, current);\n\n\n    template.print('<div style=\"font-size: 15pt; line-height:30px; padding-bottom:16px\"><b style=\"font-weight:600\">About this request</b></div>');\n\n    var priceDisplay = gs.getProperty('glide.sc.price.display');\n    var showRequestPrice = false;\n    if (requestDetails.totalTasks > 1 && priceDisplay !== 'never' && current.price > 0) {\n        showRequestPrice = true;\n    }\n    var showOpenedBy = false;\n    if (current.opened_by.toString() !== current.requested_for.toString()) {\n        showOpenedBy = true;\n    }\n    var requestItemsPadding = 'padding-top:16px;';\n    if (showOpenedBy || showRequestPrice) {\n        template.print('<div style=\"padding-bottom:16px\">');\n\n        if (showOpenedBy) {\n            if (requestDetails.showRequestedFor) {\n                template.print('<div>Requested for: ' + '<b style=\"font-weight:600\">' + current.requested_for.name + '</b></div>');\n            }\n            template.print('<div>Opened by: ' + '<b style=\"font-weight:600\">' + current.opened_by.name + '</b></div>');\n        }\n\n        if (showRequestPrice) {\n            var recurringPriceText = requestNotificationJs.gerRecurringPriceRollup(current.sys_id);\n            template.print('<div>Total price: ' + '<b style=\"font-weight:600\">' + current.price.getDisplayValue() + '</b><span style=\"font-size:14px;font-weight: 600\">' + recurringPriceText + '</span></div>');\n        }\n        template.print('</div>');\n    } else {\n        requestItemsPadding = '';\n    }\n\n    if (requestDetails.totalTasks > 1) {\n\n        template.print('<div style=\"font-size: 12pt;font-weight:600;' + requestItemsPadding + '\">Requested items (' + requestDetails.totalTasks + ')</div>');\n    }\n    requestDetails.tasks.forEach(function(task, index) {\n        var borderBottom = 'border-bottom:1px solid #DADDE2';\n        if (requestDetails.totalTasks > 1) {\n            template.print('<div style=\"padding-top:16px;padding-bottom:16px;');\n        } else {\n            template.print('<div style=\"padding-bottom:16px;');\n        }\n        if (requestDetails.totalTasks > requestDetails.tasks.length || (index + 1 < requestDetails.tasks.length)) {\n            template.print(borderBottom);\n        }\n        template.print('\">');\n        template.print('<div>Requested item number: <b style=\"font-weight:600\">' + task.requestNumber + '</b></div>');\n        template.print('<div>Short description: <b style=\"font-weight:600\">' + task.item + '</b></div>');\n        if (task.showItemRequestedFor) {\n            template.print('<div>Requested for: <b style=\"font-weight:600\">' + task.requestedFor + '</b></div>');\n        }\n        if (task.showQuantity) {\n            template.print('<div>Quantity: <b style=\"font-weight:600\">' + task.quantity + '</b></div>');\n        }\n        requestNotificationJs.setPricingtoTemplate(task, template);\n        template.print('</div>');\n    });\n    if (requestDetails.totalTasks > 3) {\n        template.print('<div style=\"padding-bottom:16px;padding-top:16px;color:#3C59E7\"><a href=\"' + requestUrl + '\">');\n        template.print(gs.getMessage('View all items'));\n        template.print('</a></div>');\n    }\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"8302faa7b4527410f87755e926c386a5","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3028ab3304f12210559073c06a02f7b7","value":"3028ab3304f12210559073c06a02f7b7"},"sys_update_name":"sys_script_email_8302faa7b4527410f87755e926c386a5","sys_updated_by":"admin","sys_created_on":"2021-09-06 05:50:30","name":"about_the_request","sys_name":"about_the_request","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"35","sys_updated_on":"2022-03-07 12:09:03","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n    var request = current.sysapproval;\n    var portalSuffix = new sn_ex_emp_fd.FoundationNotificationUtil().getPortalSuffix();\n    var requestUrl = '/' + portalSuffix + '?id=order_status&table=sc_request&sys_id=' + request;\n    var approvalRecUrl = '/' + portalSuffix + '?id=hrm_todo&sysparm_tableName=sysapproval_approver&sys_id=' + current.sys_id;\n    var colorTheme = 'color: #4F52BD;';\n    var fontSize = 'font-size: 16px;';\n    var lineHeight = 'line-height: 24px;';\n    var fontFamily = 'font-family: Lato, Arial, sans-serif;';\n    var display = 'display: inline-block;';\n    template.print('<div style=\"padding-bottom:32px\"> <span style=\"margin-right: 4px;\">View</span> <a href=\"' + approvalRecUrl + '\"');\n    template.print('style=\"' + colorTheme + fontSize + fontFamily + display);\n    template.print('\">');\n    template.print(gs.getMessage('approval request'));\n    template.print('</a></div>');\n\n    var notificationUtil = new RequestNotificationUtil();\n    var requestDetails = notificationUtil.getRequestDetails(request, request, true);\n    var showRequestedFor = requestDetails.showRequestedFor;\n    var tasks = requestDetails.tasks;\n    var totalTasks = requestDetails.totalTasks;\n\n\n    template.print('<div style=\"font-size: 15pt; line-height:30px; padding-bottom:16px\"><b>About this request</b></div>');\n\n    var priceDisplay = gs.getProperty('glide.sc.price.display');\n    var showRequestPrice = false;\n    if (requestDetails.totalTasks > 1 && priceDisplay !== 'never' && request.price > 0) {\n        showRequestPrice = true;\n    }\n    var showOpenedBy = false;\n\n    if (request.opened_by.toString() !== request.requested_for.toString()) {\n        showOpenedBy = true;\n    }\n    var requestItemsPadding = 'padding-top:16px;';\n    if (showOpenedBy || showRequestedFor || showRequestPrice) {\n        template.print('<div style=\"padding-bottom:16px\">');\n\n        if (showRequestedFor) {\n            template.print('<div style=\"' + fontSize + lineHeight + '\">Requested for: ' + '<b>' + request.requested_for.name + '</b></div>');\n        }\n        if (showOpenedBy) {\n            template.print('<div style=\"' + fontSize + lineHeight + '\">Opened by: ' + '<b>' + request.opened_by.name + '</b></div>');\n        }\n        if (showRequestPrice) {\n            var recurringPriceText = notificationUtil.gerRecurringPriceRollup(request);\n            template.print('<div style=\"' + fontSize + lineHeight + '\">Total price: ' + '<b>' + request.price.getDisplayValue() + '</b><span style=\"font-size:14px;font-weight: 600\">' + recurringPriceText + '</span></div>');\n        }\n        template.print('</div>');\n    } else {\n        requestItemsPadding = '';\n    }\n\n    if (requestDetails.totalTasks > 1) {\n        template.print('<div style=\"font-size: 12pt;font-weight:600;' + requestItemsPadding + '\">Requested items (' + requestDetails.totalTasks + ')</div>');\n    }\n    tasks.forEach(function(task, index) {\n        var borderBottom = 'border-bottom:1px solid #DADDE2';\n        if (requestDetails.totalTasks > 1) {\n            template.print('<div style=\"padding-top:16px;padding-bottom:16px;');\n        } else {\n            template.print('<div style=\"padding-bottom:16px;');\n        }\n        if (requestDetails.totalTasks > requestDetails.tasks.length || (index + 1 < requestDetails.tasks.length)) {\n            template.print(borderBottom);\n        }\n        template.print('\">');\n        template.print('<div style=\"' + fontSize + lineHeight + '\">Requested item number: <b>' + task.requestNumber + '</b></div>');\n        template.print('<div style=\"' + fontSize + lineHeight + '\">Short description: <b>' + task.item + '</b></div>');\n        if (task.variables.length > 0) {\n            notificationUtil.setRequestItemVariablestoTemplate(task, template);\n        }\n        if (!showRequestedFor) {\n            template.print('<div style=\"' + fontSize + lineHeight + '\">Requested for: <b style=\"font-weight:600\">' + task.requestedFor + '</b></div>');\n        }\n        if (task.showQuantity) {\n            template.print('<div style=\"' + fontSize + lineHeight + '\">Quantity: <b>' + task.quantity + '</b></div>');\n        }\n        notificationUtil.setPricingtoTemplate(task, template);\n        template.print('</div>');\n    });\n    if (totalTasks > 3) {\n        template.print('<div style=\"padding-bottom:16px;padding-top:16px' + fontSize + lineHeight + '\"><a style=\"color:#3C59E7\" href=\"' + requestUrl + '\">');\n        template.print(gs.getMessage('View all items'));\n        template.print('</a></div>');\n    }\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"8a078b7977623010f088a0e89e5a9917","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3028ab3304f12210559073c06a02f7b7","value":"3028ab3304f12210559073c06a02f7b7"},"sys_update_name":"sys_script_email_8a078b7977623010f088a0e89e5a9917","sys_updated_by":"admin","sys_created_on":"2021-09-13 07:08:49","name":"request_approval","sys_name":"request_approval","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"7","sys_updated_on":"2019-02-27 16:19:11","sys_tags":"","script":"(function runMailScript(template, event) {\n    var id = event.parm1;\n    var gr = new GlideRecord(\"sys_user\");\n    gr.get(id);\n    if (gr.isValidRecord()) {\n        var name = gr.getDisplayValue();\n        template.print(name);\n    }\n})(template, event);","sys_class_name":"sys_script_email","sys_id":"8b08a42853732300bf6bddeeff7b127b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d334a77b04312210559073c06a02f7ff","value":"d334a77b04312210559073c06a02f7ff"},"sys_update_name":"sys_script_email_8b08a42853732300bf6bddeeff7b127b","sys_updated_by":"admin","sys_created_on":"2019-02-19 20:56:13","name":"vtb_userName","sys_name":"vtb_userName","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"26","sys_updated_on":"2023-06-15 06:29:41","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n    var chatGr = new GlideRecord('sys_cs_collab_chat');\n    var title = \"\";\n    if (chatGr.get(event.parm2))\n        title = chatGr.getValue('title');\n    var fontSize = 'font-size: 16px;';\n    var fontFamily = 'font-family: Lato, Arial, sans-serif;';\n    template.print('<div style=\"' + fontSize + fontFamily + '\">');\n    var backgroundColor = 'background-color: #4F52BD;';\n    var color = 'color: #ffffff;';\n    var textDecoration = 'text-decoration: none; border-radius: 4px;';\n    var webKitBorder = '-webkit-border-radius: 4px;';\n    var mozBorder = '-moz-border-radius: 4px;';\n    var display = 'display: inline-block;';\n    var padding = 'padding: 6px 16px;';\n    var instanceUrl = gs.getProperty('glide.servlet.uri');\n    if (instanceUrl.substr(-1) != '/') instanceUrl += '/';\n\n    // The sidebar only works with the Polaris nav bar\n    instanceUrl += 'now/nav/ui/classic/params/target/';\n    template.print('<a href=\"' + instanceUrl + 'incident.do%3Fsys_id%3D' + current.getUniqueValue() + '%26open-collab-chat%3Dtrue%26collab_chat_id%3D' + event.parm2 + '\"');\n    template.print('style=\"' + backgroundColor + color + fontSize + fontFamily + textDecoration + webKitBorder + mozBorder + display + padding);\n    template.print('\">');\n    template.print(gs.getMessage('View discussion'));\n    template.print('</a><br><br>');\n    template.print(gs.getMessage('{0}About:{1}', ['<strong>', '</strong><br><br>']));\n    template.print(gs.getMessage('Title: {0}{1}{2}', ['<strong>', title, '</strong><br>']));\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"8df8044493fe2d105f5effbd1dba10c7","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fa27a0dd53423010bf68ddeeff7b12ac","value":"fa27a0dd53423010bf68ddeeff7b12ac"},"sys_update_name":"sys_script_email_8df8044493fe2d105f5effbd1dba10c7","sys_updated_by":"admin","sys_created_on":"2023-05-09 05:40:34","name":"open_sidebar_chat","sys_name":"open_sidebar_chat","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/fa27a0dd53423010bf68ddeeff7b12ac","value":"fa27a0dd53423010bf68ddeeff7b12ac"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"6","sys_updated_on":"2024-05-14 14:19:08","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n\n    var requestorName = current.requested_for.getRefRecord().getValue('name');\n    var developmentInstanceName = gs.getMessage(\"N/A\");\n    var developmentInstanceLink = developmentInstanceName;\n\n    var developmentInstanceID = current.variables.development_instance;\n    if (developmentInstanceID) {\n        var gr_pipeline_environment = new GlideRecord(\"sn_pipeline_environment\");\n        if (gr_pipeline_environment.get(developmentInstanceID)) {\n            developmentInstanceName = gr_pipeline_environment.getDisplayValue('name');\n            developmentInstanceLink = '<a style=\"color:inherit;\" href=\"' + gr_pipeline_environment.getValue('instance_url') + '\">' + developmentInstanceName + '</a>';\n        }\n    }\n\n    var requestEmail = new sn_app_eng_notify.AppEngineEmailScript();\n    requestEmail.addHeading(gs.getMessage(\"A user wants to create an app\"));\n\n    requestEmail.addText(gs.getMessage(\"Hi App Engine Admins,\"));\n\n    requestEmail.addText(gs.getMessage(\"{0} wants to create an app. However, it looks like they dont currently exist on {1}, the development instance automatically assigned to them.\", [requestorName, developmentInstanceLink]));\n    requestEmail.addText(gs.getMessage(\"Before you approve this request, youll need to either manually create this user on the instance or select a different development instance on the request item form.\"));\n\n    requestEmail.addButton(gs.getMessage(\"Review request\"), current.request.getRefRecord().getLink());\n\n    template.print(requestEmail.getBody());\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"8e7d67d3c7550110408bc8d6f2c26073","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3d3c2505c3e22010b83971e54440dd75","value":"3d3c2505c3e22010b83971e54440dd75"},"sys_update_name":"sys_script_email_8e7d67d3c7550110408bc8d6f2c26073","sys_updated_by":"admin","sys_created_on":"2022-02-01 18:42:33","name":"get_app_intake_request_no_user","sys_name":"get_app_intake_request_no_user","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3d3c2505c3e22010b83971e54440dd75","value":"3d3c2505c3e22010b83971e54440dd75"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"10","sys_updated_on":"2024-02-22 16:10:56","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n\n    var requestorName = current.requested_for.getRefRecord().getValue('name');\n    var developmentInstanceID = current.variables.development_instance;\n    var developmentInstanceName = gs.getMessage(\"N/A\");\n\n    var gr_pipeline_environment = new GlideRecord(\"sn_pipeline_environment\");\n    if (gr_pipeline_environment.get(developmentInstanceID)) {\n        developmentInstanceName = gr_pipeline_environment.getDisplayValue('name');\n    }\n\n    var requestEmail = new sn_app_eng_notify.AppEngineEmailScript();\n    requestEmail.addHeading(gs.getMessage(\"A user wants to create an app\"));\n\n    requestEmail.addText(gs.getMessage(\"Hi App Engine Admins,\"));\n\n    requestEmail.addText(gs.getMessage(\"{0} wants to create an app in App Engine Studio (AES)\", requestorName));\n    requestEmail.addText(gs.getMessage(\"If you approve their request, they will be given access to AES on Instance: {0}. You can also select another instance on the request item form.\", developmentInstanceName));\n\n    requestEmail.addButton(gs.getMessage(\"Review request\"), current.request.getRefRecord().getLink());\n\n    template.print(requestEmail.getBody());\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"8ed72511c7050110408bc8d6f2c2606f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3d3c2505c3e22010b83971e54440dd75","value":"3d3c2505c3e22010b83971e54440dd75"},"sys_update_name":"sys_script_email_8ed72511c7050110408bc8d6f2c2606f","sys_updated_by":"admin","sys_created_on":"2022-01-13 17:31:58","name":"get_app_intake_request_with_aes","sys_name":"get_app_intake_request_with_aes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3d3c2505c3e22010b83971e54440dd75","value":"3d3c2505c3e22010b83971e54440dd75"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"18","sys_updated_on":"2019-12-20 08:52:37","sys_tags":"","script":"var messages = event.parm2.split(\",\");\nvar grUser = new GlideRecord(\"sys_user\");\ngrUser.addQuery(\"sys_id\", event.parm1);\ngrUser.query();\ngrUser.next();\nvar userName = grUser.getDisplayValue(\"name\");\nvar utils = new LiveMessageUtils();\nvar liveMessagesGroup = utils.getGroup(messages[0]);\nvar queueID = utils.getQueueID(liveMessagesGroup.id);\nif(liveMessagesGroup) {\n\ttemplate.print(\"<h2 style='color: #424E5B;margin: 0 0 12px;line-height: 26px;margin-bottom: 12px'>Hello \" + userName + \",</h3>\");\n\temail.setSubject(\"New Message(s) in \" + liveMessagesGroup.displayValue);\n\tif(queueID)\n\t\ttemplate.print(\"<p style='font-size: 17px;margin: 0 0 16px;line-height: 24px'><a href='/$connect_redirect.do?sysparm_queueID=\" + queueID + \"&sysparm_channelID=\" + liveMessagesGroup.id + \"'>You have \");\n\telse\n\t\ttemplate.print(\"<p style='font-size: 17px;margin: 0 0 16px;line-height: 24px'><a href='/$connect_redirect.do?sysparm_channelID=\" + liveMessagesGroup.id + \"'>You have \");\n\n\tif(messages.length > 1) {\n\t\ttemplate.print(messages.length + \" new messages \");\n\t} else {\n\t\ttemplate.print(\"a new message \");\n\t}\n\n\ttemplate.print(\"in \" + liveMessagesGroup.displayValue + \".</a></p>\");\n}","sys_class_name":"sys_script_email","sys_id":"90c03f089f232100d5f9b3e2957fcf8e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d4442b7b04312210559073c06a02f7ee","value":"d4442b7b04312210559073c06a02f7ee"},"sys_update_name":"sys_script_email_90c03f089f232100d5f9b3e2957fcf8e","sys_updated_by":"admin","sys_created_on":"2014-09-29 18:22:20","name":"collaboration_group_message_body","sys_name":"collaboration_group_message_body","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"4","sys_updated_on":"2021-10-12 20:09:58","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n    var pipelineRunnerFailedEmail = new PipelineRunnerFailedEmail();\n\n    // subject\n    var subject = pipelineRunnerFailedEmail.getSubject();\n    email.setSubject(subject);\n\n    // email body\n    var recipientGroups = email_action.recipient_groups || '';\n    var body = pipelineRunnerFailedEmail.getFailedGenericEmailBody(recipientGroups, current);\n\n    template.print(body);\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"9135aec2c3433010a9f5e548fa40dd45","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e78853e9c3222010b83971e54440dd26","value":"e78853e9c3222010b83971e54440dd26"},"sys_update_name":"sys_script_email_9135aec2c3433010a9f5e548fa40dd45","sys_updated_by":"admin","sys_created_on":"2021-10-08 19:50:18","name":"pipeline_failed_generic","sys_name":"pipeline_failed_generic","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e78853e9c3222010b83971e54440dd26","value":"e78853e9c3222010b83971e54440dd26"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"5","sys_updated_on":"2021-08-25 15:28:58","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\tvar firstName = current.getDisplayValue(\"requestor_first_name\");\n\tvar lastName = current.getDisplayValue(\"requestor_last_name\");\n\tvar requestorName = (firstName + \" \" + lastName).trim();\n\tvar appName = current.getDisplayValue(\"app_name\");\n\t\n\tvar deploymentRequestEmail = new sn_app_eng_notify.AppEngineEmailScript();\n\t\n\tdeploymentRequestEmail.addHeading(gs.getMessage(\"Your admin is reviewing {0} app\", appName));\n\tdeploymentRequestEmail.addText(gs.getMessage(\"Hi {0},\", requestorName), false); // greeting\n\tdeploymentRequestEmail.addText(gs.getMessage(\"Your administrator is currently reviewing and testing your application. Once it's approved, your admin will publish your app and you will be notified of its approval. You do not need to do anything at this time.\"), false); // message\n\tdeploymentRequestEmail.addText(gs.getMessage(\"If you have questions on the status of your app, contact your administrator.\"), false);\n\t\n\temail.setSubject(gs.getMessage(\"{0} is being reviewed by your admin\", appName));\n\ttemplate.print(deploymentRequestEmail.getBody());\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"9157b5dfc7ce7010408bc8d6f2c260c3","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bb67ed7253e83010b846ddeeff7b1204","value":"bb67ed7253e83010b846ddeeff7b1204"},"sys_update_name":"sys_script_email_9157b5dfc7ce7010408bc8d6f2c260c3","sys_updated_by":"admin","sys_created_on":"2021-08-23 20:43:48","name":"get_deployment_request_created_email","sys_name":"get_deployment_request_created_email","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bb67ed7253e83010b846ddeeff7b1204","value":"bb67ed7253e83010b846ddeeff7b1204"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"1","sys_updated_on":"2013-10-25 17:50:20","sys_tags":"","script":"template.print(\"<br />\");  \nvar gr = new GlideRecord(\"kb_knowledge\");\ngr.addQuery('source', current.sys_id);\ngr.query();\nwhile (gr.next()) {\n\tvar link = new GlideSubstituteURL().generateURL(gr, '');\n\tvar title = gr.number;\n\tif (gr.short_description != '') {\n\t\ttitle+= \" - \" + gr.short_description;\n\t}\n\t\n\tvar anchor = \"<a href='\" + link +\"'>\" + title + \"</a>\";\n\ttemplate.print(anchor + \"<br />\");\n}","sys_class_name":"sys_script_email","sys_id":"930d2dc3972011005aa4390ddd2975c8","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8093a3f304312210559073c06a02f7f2","value":"8093a3f304312210559073c06a02f7f2"},"sys_update_name":"sys_script_email_930d2dc3972011005aa4390ddd2975c8","sys_updated_by":"maint","sys_created_on":"2013-10-25 17:05:23","name":"knowledge_articles_list","sys_name":"knowledge_articles_list","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"system","sys_policy":""},{"sys_mod_count":"5","sys_updated_on":"2024-08-04 19:37:12","sys_tags":"","script":"(function runMailScript(current, template, email, email_action, event) {\n\n    if (!current.isValidRecord()) return;\n\n    var link = new EmailNotificationRedirection().getLink(current.getTableName(), current.getUniqueValue());\n    template.print('<a href=\"' + link + '\">' + current.getDisplayValue() + '</a>');\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"93173e11ffe482101034ffffffffff83","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b81b6b3304352210559073c06a02f7e6","value":"b81b6b3304352210559073c06a02f7e6"},"sys_update_name":"sys_script_email_93173e11ffe482101034ffffffffff83","sys_updated_by":"admin","sys_created_on":"2024-02-23 11:32:52","name":"itsm_record_link","sys_name":"itsm_record_link","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"4","sys_updated_on":"2018-03-07 17:04:38","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n\tif (event.parm1 + \"\" === current.task.assigned_to.getValue())\n\t\ttemplate.print(gs.getMessage(\"SLA \\\"{0}\\\" associated with {1} has breached.\", [current.sla.name, current.task.number]));\n\telse\n\t\ttemplate.print(gs.getMessage(\"SLA \\\"{0}\\\" associated with {1}, assigned to {2}, has breached.\", [current.sla.name, current.task.number, current.task.assigned_to.getDisplayValue()]));\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"97d7b4bfcba01300dff9b9c0c24c9c32","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d19e7b704f12210559073c06a02f7da","value":"5d19e7b704f12210559073c06a02f7da"},"sys_update_name":"sys_script_email_97d7b4bfcba01300dff9b9c0c24c9c32","sys_updated_by":"admin","sys_created_on":"2018-03-06 14:37:41","name":"sla.breach_message.event_parm1","sys_name":"sla.breach_message.event_parm1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"12","sys_updated_on":"2024-07-12 11:46:16","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n    const creatorStudioEmail = new CreatorStudioEmailScript();\n    const viewTaskMessage = gs.getMessage(\"View task\");\n    const redirectTorecordPath = true;\n    creatorStudioEmail.addHeading(gs.getMessage(\"The app you approved wasnt created\"));\n    creatorStudioEmail.addText(gs.getMessage(\"Hi {0},\", current.getDisplayValue(\"assignment_group\")), false);\n    creatorStudioEmail.addText(gs.getMessage(\"You recently approved a request to create a new app in Creator Studio.\"), false);\n    creatorStudioEmail.addInfo(gs.getMessage(\"Request\"), current.getDisplayValue(\"number\"));\n    creatorStudioEmail.addInfo(gs.getMessage(\"Person requesting app\"), current.getDisplayValue(\"requestor_name\"));\n    creatorStudioEmail.addInfo(gs.getMessage(\"App name\"), current.getDisplayValue(\"short_description\"));\n    creatorStudioEmail.addText(gs.getMessage(\"However, after you approved the request an error occurred that prevented it from being created. Check the app scope before trying again.\"), false);\n    const aemcService = new AEMCService();\n    if (aemcService.aemcInstalled()) {\n        creatorStudioEmail.addButton(viewTaskMessage, aemcService.aemcRequestUrl(current));\n    } else {\n        creatorStudioEmail.addButton(viewTaskMessage, creatorStudioEmail.getTasksUrl(current));\n    }\n    template.print(creatorStudioEmail.getBody());\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"9ddfa1f0eba002107dcf7bd6c152287b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/81ac5fe1c7442110408bc8d6f2c260d1","value":"81ac5fe1c7442110408bc8d6f2c260d1"},"sys_update_name":"sys_script_email_9ddfa1f0eba002107dcf7bd6c152287b","sys_updated_by":"admin","sys_created_on":"2024-02-21 17:04:22","name":"request_template_error","sys_name":"request_template_error","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/81ac5fe1c7442110408bc8d6f2c260d1","value":"81ac5fe1c7442110408bc8d6f2c260d1"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"8","sys_updated_on":"2024-05-14 14:28:32","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n\tvar requestorName = current.requested_for.getRefRecord().getValue('name');\n    var requestEmail = new sn_app_eng_notify.AppEngineEmailScript();\n\n    requestEmail.addHeading(gs.getMessage(\"A user wants to create an app\"));\n\n    requestEmail.addText(gs.getMessage(\"Hi App Engine Admins,\"));\n\n    requestEmail.addText(gs.getMessage(\"{0} wants to create an app. You'll need to select the development instance for them and determine their permission type once you review their request.\", [requestorName]));\n\n\trequestEmail.addText(gs.getMessage('Once you set the permission type, close the Catalog Task so that you can approve or reject the request.'));\n\n    requestEmail.addButton(gs.getMessage(\"Review request\"), current.request.getRefRecord().getLink());\n\n    template.print(requestEmail.getBody());\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"9e0fd46c437f1110b846eb048ab8f206","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3d3c2505c3e22010b83971e54440dd75","value":"3d3c2505c3e22010b83971e54440dd75"},"sys_update_name":"sys_script_email_9e0fd46c437f1110b846eb048ab8f206","sys_updated_by":"admin","sys_created_on":"2022-12-12 17:42:55","name":"get_app_intake_request_no_permission_type","sys_name":"get_app_intake_request_no_permission_type","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3d3c2505c3e22010b83971e54440dd75","value":"3d3c2505c3e22010b83971e54440dd75"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"3","sys_updated_on":"2021-04-02 21:12:00","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n\t/**\n\t*   Event - cmdbdatamanager.task.failed\n\t*   current - cmdb_data_management_task record\n\t*   parm1 - run_as user sys_id and all cmdb data manager admins sys_id comma separated (email recipients)\n\t*   parm2 - policy sys_id\n\t**/\n\t\n\tvar policyId = current.policy_id ? current.policy_id : event.parm2;\n\tvar policyName;\n\t// BODY\n\tif (policyId) {\n\t\tvar policyRec = new GlideRecord(\"cmdb_data_management_policy\");\n\t\tpolicyRec.get(policyId);\n\t\tpolicyName = policyRec.name;\n\t} else {\n\t\tpolicyName = \"\";\n\t}\n\tvar url = '<a href=\"' + gs.getProperty('glide.servlet.uri') + '$ci_lifecycle_policy_workflow.do?sys_id=' + policyId + '\">' + policyName + '</a>';\n\ttemplate.print(\"Link to policy: \" + url + '<br><br>');\n\ttemplate.print(current.close_notes ? (\"Failure details: \" + current.close_notes) : \"No additional details were included\" + '<br>');\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"9f20300d0713201017b703767cd3006f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"sys_update_name":"sys_script_email_9f20300d0713201017b703767cd3006f","sys_updated_by":"admin","sys_created_on":"2021-04-01 23:21:00","name":"cmdbdatamanager.task.failure","sys_name":"cmdbdatamanager.task.failure","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"1","sys_updated_on":"2024-05-10 17:12:04","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template, /* Optional EmailOutbound */\n    email) {\n    var appName = current.variables.application_name;\n    var approvalEmail = new AppIntakeApprovalEmail();\n\n    template.print(approvalEmail.getEmailMessageToRequestorManualPermissionProvisioning(current.opened_by.getRefRecord().getValue(\"name\"), appName));\n\n})(current, template, email);","sys_class_name":"sys_script_email","sys_id":"9f377ee59fca8e100f8b65b23b0a1c54","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3d3c2505c3e22010b83971e54440dd75","value":"3d3c2505c3e22010b83971e54440dd75"},"sys_update_name":"sys_script_email_9f377ee59fca8e100f8b65b23b0a1c54","sys_updated_by":"admin","sys_created_on":"2024-05-08 19:46:47","name":"get_app_intake_message_to_requestor_manual_provisioning","sys_name":"get_app_intake_message_to_requestor_manual_provisioning","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3d3c2505c3e22010b83971e54440dd75","value":"3d3c2505c3e22010b83971e54440dd75"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"12","sys_updated_on":"2019-08-20 09:04:27","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\t\n\tvar portal = gs.getProperty(\"sn_km_portal.glide.knowman.serviceportal.portal_url\",'kb');\n\tvar article_link = new KBCommon().getArticleLink(current.feedback.article);\n    template.print(\"Hi \"+current.opened_by.first_name+\",<br/>\");\n\ttemplate.print(\"<br/>\");\n\ttemplate.print(\"We need more information in order to process your feedback on article \");\n\ttemplate.print(\"<a href='\"+article_link+\"'>\"+current.feedback.article.getDisplayValue()+\"</a><br/><br/>\");\n\ttemplate.print(\"<b>Article Title</b>: \"+current.feedback.article.short_description+\"<br/>\");\n\ttemplate.print(\"Please click <a href='\"+gs.getProperty('glide.servlet.uri')+ portal +\"?id=form&table=kb_feedback_task&sys_id=\"+\tcurrent.sys_id + \"'> here </a>\");\n\ttemplate.print(\" to proceed.\");\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"a05e9b2867101300d358bb2d07415a2e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2fe727ff04b12210559073c06a02f7dd","value":"2fe727ff04b12210559073c06a02f7dd"},"sys_update_name":"sys_script_email_a05e9b2867101300d358bb2d07415a2e","sys_updated_by":"admin","sys_created_on":"2018-02-12 14:08:59","name":"Notification: Feedback Task Info from Submitter","sys_name":"Notification: Feedback Task Info from Submitter","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"4","sys_updated_on":"2023-12-01 17:32:03","sys_tags":"","script":"(function runMailScript(current, template, email, email_action, event) {\n        var instanceURL = gs.getProperty('glide.servlet.uri');\n        template.print('A password reset was requested for your user account on the ServiceNow instance: ' + '<a href=' + instanceURL + '>' + instanceURL + '</a>' + \".\");\n\n    })(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"a0c5fe3193202200da8d37ae867ffb8d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/461beb3304352210559073c06a02f7ee","value":"461beb3304352210559073c06a02f7ee"},"sys_update_name":"sys_script_email_a0c5fe3193202200da8d37ae867ffb8d","sys_updated_by":"admin","sys_created_on":"2016-07-12 06:06:34","name":"password_reset_url_instance_link","sys_name":"password_reset_url_instance_link","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"24","sys_updated_on":"2023-06-15 06:29:41","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n    var incidentSysIds = event.parm1;\n    var incidentsData = {};\n    var incidentGr = new GlideRecord('incident');\n    incidentGr.addEncodedQuery('sys_idIN' + incidentSysIds);\n    incidentGr.query();\n    while (incidentGr.next()) {\n        incidentsData[incidentGr.getUniqueValue()] = {\n            'number': incidentGr.getValue('number'),\n            'short_description': incidentGr.getValue('short_description'),\n            'urgency': incidentGr.getValue('urgency')\n        };\n    }\n    incidentSysIds = incidentSysIds.split(',');\n    var chatSysIds = event.parm2;\n    var chatsData = {};\n    var chatGr = new GlideRecord('sys_cs_collab_chat');\n    chatGr.addEncodedQuery('sys_idIN' + chatSysIds);\n    chatGr.query();\n    while (chatGr.next()) {\n        chatsData[chatGr.getUniqueValue()] = {\n            'title': chatGr.getValue('title')\n        };\n    }\n    chatSysIds = chatSysIds.split(',');\n    for (var i = 0; i < chatSysIds.length; i++) {\n        var fontSize = 'font-size: 16px;';\n        var fontFamily = 'font-family: Lato, Arial, sans-serif;';\n        var lineBreakBorder = 'border: 0.5px solid #cdcdcd;';\n        template.print('<div style=\"' + fontSize + fontFamily + '\">');\n        template.print(gs.getMessage('There are unread message(s) on {0}{1}{2}', ['<strong>', incidentsData[incidentSysIds[i]].number, '</strong><br><br>']));\n        var backgroundColor = 'background-color: #4F52BD;';\n        var color = 'color: #ffffff;';\n        var textDecoration = 'text-decoration: none; border-radius: 4px;';\n        var webKitBorder = '-webkit-border-radius: 4px;';\n        var mozBorder = '-moz-border-radius: 4px;';\n        var display = 'display: inline-block;';\n        var padding = 'padding: 6px 16px;';\n        var instanceUrl = gs.getProperty('glide.servlet.uri');\n        if (instanceUrl.substr(-1) != '/') instanceUrl += '/';\n\n        // The sidebar only works with the Polaris nav bar\n        instanceUrl += 'now/nav/ui/classic/params/target/';\n        template.print('<a href=\"' + instanceUrl + 'incident.do%3Fsys_id%3D' + incidentSysIds[i] + '%26open-collab-chat%3Dtrue%26collab_chat_id%3D' + chatSysIds[i] + '\"');\n        template.print('style=\"' + backgroundColor + color + fontSize + fontFamily + textDecoration + webKitBorder + mozBorder + display + padding);\n        template.print('\">');\n        template.print(gs.getMessage('View discussion'));\n        template.print('</a><br><br>');\n        template.print(gs.getMessage('{0}About:{1}', ['<strong>', '</strong><br><br>']));\n        template.print(gs.getMessage('Title: {0}{1}{2}', ['<strong>', chatsData[chatSysIds[i]].title, '</strong><br><br>']));\n        template.print(gs.getMessage('Short description: {0}{1}{2}', ['<strong>', incidentsData[incidentSysIds[i]].short_description, '</strong><br><br>']));\n        template.print(gs.getMessage('Urgency: {0}{1}{2}', ['<strong>', incidentsData[incidentSysIds[i]].urgency, '</strong><br><br>']));\n        if (i != chatSysIds.length - 1)\n            template.print('<hr style=\"' + lineBreakBorder + '\"><br></div>');\n    }\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"a254a89f47b6a5503fbe9e25126d435d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fa27a0dd53423010bf68ddeeff7b12ac","value":"fa27a0dd53423010bf68ddeeff7b12ac"},"sys_update_name":"sys_script_email_a254a89f47b6a5503fbe9e25126d435d","sys_updated_by":"admin","sys_created_on":"2023-05-19 09:59:41","name":"sidebar_discussion_reminder","sys_name":"sidebar_discussion_reminder","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/fa27a0dd53423010bf68ddeeff7b12ac","value":"fa27a0dd53423010bf68ddeeff7b12ac"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"1","sys_updated_on":"2016-01-29 17:34:19","sys_tags":"","script":"(function runMailScript(current, template, email, email_action, event) {\n\ttemplate.print('<p><font size=\"4\" color=\"#999999\" face=\"helvetica\">');\n\ttemplate.print(gs.getMessage('We value your input. Please help us by taking the time to fill out this short survey:'));\n\ttemplate.print('</font></p>');\n\ttemplate.print('<p><font face=\"helvetica\">');\n\ttemplate.print('<a style=\"font-size: 16px; font-family: Helvetica, Arial, sans-serif; color: #ffffff; text-decoration: none; border-radius: 3px; -webkit-border-radius: 3px; -moz-border-radius: 3px; background-color: #278efc; border: 1px solid #0368d4; display: inline-block; padding: 5px\" href=\"${event.parm2}\">' + gs.getMessage('Click here to take the survey') + '</a>');\n\ttemplate.print('</font></p>');\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"a3b36b70d751120035ae23c7ce6103d2","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9eb76f7f04b12210559073c06a02f78a","value":"9eb76f7f04b12210559073c06a02f78a"},"sys_update_name":"sys_script_email_a3b36b70d751120035ae23c7ce6103d2","sys_updated_by":"admin","sys_created_on":"2016-01-29 17:29:20","name":"incident_survey","sys_name":"incident_survey","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"5","sys_updated_on":"2021-04-20 03:51:17","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n\t/**\n\t*   Event - cmdbdatamanager.evaluation.failed\n\t*   current - cmdb_data_management_policy_execution record\n\t*   parm1 - run_as user sys_id and call cmdb data manager admins comma separated (email recipients)\n\t*   parm2 - policy sys_id\n\t**/\n\t\n\t// BODY\n\tif (!current.cmdb_policy) {\n\t\t// get the policyId from parm2\n\t\tvar policyRec = new GlideRecord(\"cmdb_data_management_policy\");\n\t\tpolicyRec.get(event.parm2);\n\t\tcurrent.cmdb_policy = policyRec.getUniqueValue();\n\t\tcurrent.cmdb_poliy.name = policyRec.name;\n\t}\n\tvar url = '<a href=\"' + gs.getProperty('glide.servlet.uri') + '$ci_lifecycle_policy_workflow.do?sys_id=' + current.cmdb_policy + '\">' + current.cmdb_policy.name + '</a>';\n\ttemplate.print(\"Link to policy: \" + url + '<br><br>');\n\n\ttemplate.print(current.execution_summary ? (\"Summary details: \" + current.execution_summary) : \"No additional details were included\" + '<br>');\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"a51b55000753201017b703767cd3007e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"sys_update_name":"sys_script_email_a51b55000753201017b703767cd3007e","sys_updated_by":"admin","sys_created_on":"2021-03-29 23:25:55","name":"cmdbdatamanager.policy.execution","sys_name":"cmdbdatamanager.policy.execution","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"39","sys_updated_on":"2019-03-01 09:33:33","sys_tags":"","script":"(function runMailScript(current, template) {\n    var gr = new GlideRecord('vtb_card');\n    gr.addQuery('task', current.sys_id);\n    gr.addQuery('removed', false);\n    gr.query();\n    if (gr.getRowCount() == 1) {\n        if (gr.next()) {\n            var data = 'If you are a member of the board, you can access the card from board ';\n            var vtbLink1 = '<a href=\"/$vtb.do?sysparm_board=' + gr.lane.board.sys_id + '&task=' + gr.task.sys_id + '\">' + gr.lane.board.name + '</a><br />';\n            template.print(data + vtbLink1);\n        }\n    } else if (gr.getRowCount() > 1) {\n        template.print('You can access the card, if you are a member of at least one of the boards below, <br>');\n        while (gr.next()) {\n            var vtbLink2 = '<a href=\"/$vtb.do?sysparm_board=' + gr.lane.board.sys_id + '&task=' + gr.task.sys_id + '\">' + gr.lane.board.name + '</a><br />';\n            template.print(vtbLink2);\n        }\n    }\n})(current, template);","sys_class_name":"sys_script_email","sys_id":"a7b91be0b7732300bf6b68a9ee11a960","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d334a77b04312210559073c06a02f7ff","value":"d334a77b04312210559073c06a02f7ff"},"sys_update_name":"sys_script_email_a7b91be0b7732300bf6b68a9ee11a960","sys_updated_by":"admin","sys_created_on":"2019-02-20 09:40:58","name":"vtb_assignTo_details","sys_name":"vtb_assignTo_details","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"7","sys_updated_on":"2022-09-20 19:09:44","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n\n    var requestorName = current.requested_for.getRefRecord().getValue('name');\n    var developmentInstanceName = gs.getMessage(\"N/A\");\n    var developmentInstanceLink = developmentInstanceName;\n    var developmentInstanceID = current.variables.development_instance;\n\n    if (developmentInstanceID) {\n        var gr_pipeline_environment = new GlideRecord(\"sn_pipeline_environment\");\n        if (gr_pipeline_environment.get(developmentInstanceID)) {\n            developmentInstanceName = gr_pipeline_environment.getDisplayValue('name');\n            developmentInstanceLink = '<a style=\"color:inherit;\" href=\"' + gr_pipeline_environment.getValue('instance_url') + '\">' + developmentInstanceName + '</a>';\n        }\n    }\n\n    var requestEmail = new sn_app_eng_notify.AppEngineEmailScript();\n    requestEmail.addHeading(gs.getMessage(\"A user wants to create an app\"));\n\n    requestEmail.addText(gs.getMessage(\"Hi App Engine Admins,\"));\n\n    requestEmail.addText(gs.getMessage(\"{0} wants to create an app in App Engine Studio (AES). However, the development instance automatically assigned to them doesn't have AES.\", requestorName));\n    requestEmail.addText(gs.getMessage(\"Before you approve it, install the latest AES on {0}. Or, select another instance that has AES on it and which {1} has access to on the request item form.\", [developmentInstanceLink, requestorName]));\n\n    requestEmail.addButton(gs.getMessage(\"Review request\"), current.request.getRefRecord().getLink());\n\n    template.print(requestEmail.getBody());\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"a87ee955c7050110408bc8d6f2c260bb","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3d3c2505c3e22010b83971e54440dd75","value":"3d3c2505c3e22010b83971e54440dd75"},"sys_update_name":"sys_script_email_a87ee955c7050110408bc8d6f2c260bb","sys_updated_by":"admin","sys_created_on":"2022-01-13 18:00:48","name":"get_app_intake_request_without_aes","sys_name":"get_app_intake_request_without_aes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3d3c2505c3e22010b83971e54440dd75","value":"3d3c2505c3e22010b83971e54440dd75"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"17","sys_updated_on":"2019-08-20 09:04:06","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\tvar portal = gs.getProperty(\"sn_km_portal.glide.knowman.serviceportal.portal_url\",'kb');\n\t\n    template.print(\"Hi \"+current.assigned_to.first_name+\",<br/>\");\n\ttemplate.print(\"<br/>\");\n\ttemplate.print(\"A new feedback requires your action \");\n\ttemplate.print(\"<a href='\"+gs.getProperty('glide.servlet.uri')+ \"kb_feedback_task.do?sys_id=\"+\tcurrent.sys_id + \"'>\"+ current.number +\"</a><br/><br/>\");\n\ttemplate.print(\"<b>Article: </b>\");\n\ttemplate.print(\"<a href='\"+gs.getProperty('glide.servlet.uri')+ \"kb_knowledge.do?sys_id=\"+current.feedback.article + \"'>\"+current.feedback.article.getDisplayValue()+\"</a><br/>\");\n\ttemplate.print(\"<b>Article Title</b>: \"+current.feedback.article.short_description+\"<br/>\");\n\ttemplate.print(\"<b>Reason:</b> \"+current.feedback.reason.getDisplayValue()+\"<br/>\");\n\ttemplate.print(\"<b>Description:</b> \"+current.description+\"<br/>\");\n\t\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"abd6523167730300d358bb2d07415a90","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2fe727ff04b12210559073c06a02f7dd","value":"2fe727ff04b12210559073c06a02f7dd"},"sys_update_name":"sys_script_email_abd6523167730300d358bb2d07415a90","sys_updated_by":"admin","sys_created_on":"2018-01-22 09:37:49","name":"Notification: Feedback Task Created","sys_name":"Notification: Feedback Task Created","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"6","sys_updated_on":"2021-10-25 20:57:35","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n    var deploymentRequestFailedRequestorEmailUtil = new DeploymentRequestFailedRequestorEmailUtil();\n\n    // subject\n    var subject = deploymentRequestFailedRequestorEmailUtil.getSubject(current);\n    email.setSubject(subject);\n\n    var emailBody = deploymentRequestFailedRequestorEmailUtil.getPublishFailedEmailBodyForRequestor(current);\n\n    template.print(emailBody);\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"acd05779c3133010a9f5e548fa40dd14","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bb67ed7253e83010b846ddeeff7b1204","value":"bb67ed7253e83010b846ddeeff7b1204"},"sys_update_name":"sys_script_email_acd05779c3133010a9f5e548fa40dd14","sys_updated_by":"admin","sys_created_on":"2021-10-20 14:38:17","name":"get_deployment_request_failed_publish_fail_requestor_email","sys_name":"get_deployment_request_failed_publish_fail_requestor_email","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bb67ed7253e83010b846ddeeff7b1204","value":"bb67ed7253e83010b846ddeeff7b1204"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"10","sys_updated_on":"2024-02-23 18:42:56","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n    var creatorStudioEmail = new CreatorStudioEmailScript();\n    var redirectTorecordPath = false;\n    creatorStudioEmail.addHeading(gs.getMessage(\"Now you can start building this app\"));\n    creatorStudioEmail.addText(gs.getMessage(\"Hi {0},\", current.getDisplayValue(\"requestor_name\")), false);\n    creatorStudioEmail.addText(gs.getMessage(\"Your request to create a new app in Creator Studio has been approved.\"), false);\n    creatorStudioEmail.addInfo(gs.getMessage(\"App name\"), current.getDisplayValue(\"short_description\"));\n    creatorStudioEmail.addText(gs.getMessage(\"You can open the app from this email or the Creator Studio home page.\"), false);\n    creatorStudioEmail.addButton(gs.getMessage(\"Open app\"), creatorStudioEmail.getAppUrl(current));\n    template.print(creatorStudioEmail.getBody());\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"ae920eb4ebe002107dcf7bd6c152289a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/81ac5fe1c7442110408bc8d6f2c260d1","value":"81ac5fe1c7442110408bc8d6f2c260d1"},"sys_update_name":"sys_script_email_ae920eb4ebe002107dcf7bd6c152289a","sys_updated_by":"admin","sys_created_on":"2024-02-21 18:26:42","name":"request_user_success","sys_name":"request_user_success","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/81ac5fe1c7442110408bc8d6f2c260d1","value":"81ac5fe1c7442110408bc8d6f2c260d1"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"1","sys_updated_on":"2021-07-13 17:55:23","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\tvar requestorName = current.getDisplayValue(\"requestor_name\");\n\tvar inviteeName = current.getDisplayValue(\"group_invitee_name\") || current.getDisplayValue(\"invitee_name\");\n\tvar appName = current.getDisplayValue(\"app_name\");\n\tvar comment = getRejectedComment();\n\t\n\tvar collabRequestEmail = new CollabRequestEmailScript();\n\t\n\tcollabRequestEmail.addHeading(gs.getMessage(\"The collaborator you requested wasn't approved\"));\n\tcollabRequestEmail.addText(gs.getMessage(\"Hi {0},\", requestorName), false); // greeting\n\tcollabRequestEmail.addText(gs.getMessage(\"Your admin didn't approve adding {0} as a collaborator to the app, {1}.\", [inviteeName, appName]), true); // message\n\t\n\tif (comment) {\n\t\tcollabRequestEmail.addText(gs.getMessage(\"Comment from admin:\"));\n\t\tcollabRequestEmail.addComment(comment);\n\t}\n\t\n\tcollabRequestEmail.addText(gs.getMessage(\"For additional information, contact your admin.\"));\n\t\n\temail.setSubject(gs.getMessage(\"Your collaborator request wasn't approved\"));\n\ttemplate.print(collabRequestEmail.getBody());\n\t\n\tfunction getRejectedComment() {\n\t\tvar grApproval = new GlideRecord(\"sysapproval_approver\");\n\t\tgrApproval.addQuery(\"sysapproval\", current.getUniqueValue());\n\t\tgrApproval.addQuery(\"state\", \"rejected\");\n\t\tgrApproval.orderByDesc(\"updated\");\n\t\tgrApproval.setLimit(1);\n\n\t\tgrApproval.query();\n\n\t\tif (grApproval.hasNext()) {\n\t\t\tgrApproval.next();\n\t\t\tvar grJournalField = new GlideRecord(\"sys_journal_field\");\n\t\t\tgrJournalField.addQuery(\"element_id\", grApproval.getUniqueValue());\n\t\t\tgrJournalField.orderByDesc(\"sys_created_on\");\n\t\t\tgrJournalField.setLimit(1);\n\n\t\t\tgrJournalField.query();\n\n\t\t\tif (grJournalField.next()) {\n\t\t\t\treturn grJournalField.getDisplayValue(\"value\");\n\t\t\t}\n\t\t\treturn '';\n\t\t}\n\t\treturn '';\n\t}\n\t\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"aea6460ec7913010408bc8d6f2c260c1","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"sys_update_name":"sys_script_email_aea6460ec7913010408bc8d6f2c260c1","sys_updated_by":"admin","sys_created_on":"2021-07-13 17:51:33","name":"get_dev_collab_task_rejected_email","sys_name":"get_dev_collab_task_rejected_email","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"1","sys_updated_on":"2020-04-01 07:57:05","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\tif(event.parm1 && event.parm2){\n\t\tvar recepient = event.parm1;\n\t\tvar inputParams = JSON.parse(event.parm2);\n\t\tvar date = new GlideDate();\n\t\tdate.addMonths(1);\n\t\tvar monthName = date.getByFormat(\"MMMM\");\n\t\tvar articleIDs = inputParams.articleList;\n\t\tif(articleIDs){\n\t\t\tvar emailContent = new KBKnowledge().getArticleExpiryContent(recepient,inputParams);\n\t\t\ttemplate.print(emailContent.templateContent);\n\t\t\temail.setSubject(\"Knowledge articles expiring in \"+monthName);\n\t\t}\t\n\t}\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"aed17366cb6e00101b6b1a2df8076dd8","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2fe727ff04b12210559073c06a02f7dd","value":"2fe727ff04b12210559073c06a02f7dd"},"sys_update_name":"sys_script_email_aed17366cb6e00101b6b1a2df8076dd8","sys_updated_by":"admin","sys_created_on":"2020-01-28 05:37:19","name":"km_article_expiry_warning","sys_name":"km_article_expiry_warning","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"26","sys_updated_on":"2024-02-21 00:55:45","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template, /* Optional EmailOutbound */\n    email) {\n\tvar appName = current.variables.application_name;\n\tvar developmentInstanceSysID = current.variables.development_instance;\n\tvar permissionType = current.variables.permission_type ? current.variables.permission_type.toString() : AppIntakeConstants.permissionTypes.FULL;\n\n\tvar gr_pipeline_environment = new GlideRecord(\"sn_pipeline_environment\");\n\tgr_pipeline_environment.get(developmentInstanceSysID);\n\tvar devEnvURL = gr_pipeline_environment.getValue('instance_url');\n\n    var approvalEmail = new AppIntakeApprovalEmail();\n    email.setSubject(approvalEmail.getEmailSubject());\n\tif ( permissionType === AppIntakeConstants.permissionTypes.FULL ) {\n\t\ttemplate.print(approvalEmail.getEmailMessage(current.opened_by.getRefRecord().getValue(\"name\"), appName, devEnvURL));\n\t} else if ( permissionType === AppIntakeConstants.permissionTypes.LIMITED ) {\n\t\ttemplate.print(approvalEmail.getEmailMessageLimited(current.opened_by.getRefRecord().getValue(\"name\"), appName));\n\t}\n\n})(current, template, email);","sys_class_name":"sys_script_email","sys_id":"af18a1bdb71930100290b9708e11a912","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3d3c2505c3e22010b83971e54440dd75","value":"3d3c2505c3e22010b83971e54440dd75"},"sys_update_name":"sys_script_email_af18a1bdb71930100290b9708e11a912","sys_updated_by":"admin","sys_created_on":"2021-07-12 20:59:58","name":"get_app_intake_message","sys_name":"get_app_intake_message","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3d3c2505c3e22010b83971e54440dd75","value":"3d3c2505c3e22010b83971e54440dd75"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"7","sys_updated_on":"2016-01-29 16:46:49","sys_tags":"","script":"(function runMailScript(current, template, email, email_action, event) {\n\tvar i18nSummary = gs.getMessage('Summary details');\n\tvar i18nClosedBy = gs.getMessage('Closed by: {0}', '${closed_by}');\n\tvar i18nClosedNotes = gs.getMessage('Closed notes: {0}', '${close_notes}');\n\ttemplate.print('<p><font size=\"4\" color=\"#808080\" face=\"helvetica\"><strong>' + i18nSummary + '</strong></font></p>');\n\ttemplate.print('<p><font size=\"3\" color=\"#808080\" face=\"helvetica\">' + i18nClosedBy + '</font></p>');\n\ttemplate.print('<p><font size=\"3\" color=\"#808080\" face=\"helvetica\">' + i18nClosedNotes + '</font></p>');\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"af76dab0d711120035ae23c7ce6103e2","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9eb76f7f04b12210559073c06a02f78a","value":"9eb76f7f04b12210559073c06a02f78a"},"sys_update_name":"sys_script_email_af76dab0d711120035ae23c7ce6103e2","sys_updated_by":"admin","sys_created_on":"2016-01-29 11:55:25","name":"incident_closed_incident_details","sys_name":"incident_closed_incident_details","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"6","sys_updated_on":"2024-12-20 06:49:47","sys_tags":"","script":"(function runMailScript(current, template, email, email_action, event) {\n    template.print(sn_i18n.Message.getMessage(\"global\", \"{html0}{incidentNumber}{html1}{html2} was recently assigned to {html1}{html3}{assignmentGroup}{html1}{html2} group.{html4}\", {\n        incidentNumber: current.number,\n        assignmentGroup: current.assignment_group.name,\n        html0: '<div style=\"font-size: 16px;\"><span style=\"font-weight: 700; color: #181A1F\">',\n        html1: '</span>',\n        html2: '<span style=\"font-weight: 400;\">',\n        html3: '<span style=\"font-weight: 700;\">',\n        html4: '</span></div>'\n    }));\n})(current, template, email, email_action, event);\n","sys_class_name":"sys_script_email","sys_id":"afb0e370d751120035ae23c7ce6103d2","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9eb76f7f04b12210559073c06a02f78a","value":"9eb76f7f04b12210559073c06a02f78a"},"sys_update_name":"sys_script_email_afb0e370d751120035ae23c7ce6103d2","sys_updated_by":"admin","sys_created_on":"2016-01-29 17:16:14","name":"incident_assigned_to","sys_name":"incident_assigned_to","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"0","sys_updated_on":"2016-07-25 00:45:23","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n\tif (!event.parm1)\n\t\treturn;\n\t\n\tvar userGr = new GlideRecord(\"sys_user\");\n\tif (!userGr.get(event.parm1))\n\t\treturn;\n\t\n\tvar name = userGr.first_name;\n\tif (!name)\n\t\tname = userGr.getDisplayValue();\n\t\n\ttemplate.print(\"Hello \" + name + \",\\n\");\n\ttemplate.print(\"\\n\");\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"b0f8e44eebf022002a7a666cd206fedb","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_update_name":"sys_script_email_b0f8e44eebf022002a7a666cd206fedb","sys_updated_by":"admin","sys_created_on":"2016-07-25 00:45:23","name":"cab.change_request.delegate.hello","sys_name":"cab.change_request.delegate.hello","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"11","sys_updated_on":"2024-09-04 08:50:43","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n\n    var rosterSpanProposalGr = new GlideRecord(\"roster_schedule_span_proposal\");\n    if (rosterSpanProposalGr.get(current.document_id + \"\")) {\n        var rosterSpan = rosterSpanProposalGr.roster_schedule_span;\n        var contextualDate = new GlideScheduleDateTime(rosterSpan.start_date_time.getGlideObject())\n            .getGlideDateTime();\n        var emailNotifRedirect = new global.EmailNotificationRedirection();\n        var params = {\n            \"approval_sys_id\": current.getUniqueValue(),\n            \"group\": rosterSpan.group + \"\",\n            \"context_date\": contextualDate\n        };\n        var url = emailNotifRedirect.getLink(null, null, \"oc_approval\", params);\n        var link = \"<a href='\" + url + \"'>\" + gs.getMessage(\"LINK\") + \"</a>\";\n        template.print(gs.getMessage(\"Click here to view Approval Request: {0}\", link));\n    }\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"b3f3188a73331300d406168d4ef6a788","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_script_email_b3f3188a73331300d406168d4ef6a788","sys_updated_by":"admin","sys_created_on":"2018-08-09 14:58:20","name":"oc_approval_approver_cal_link","sys_name":"oc_approval_approver_cal_link","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"0","sys_updated_on":"2018-09-18 23:55:05","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\t\n\tvar sysExecutionTrackerGr = getErrorExecutionTracker(current);\n\tif (!JSUtil.nil(sysExecutionTrackerGr)) {\n\t\ttemplate.print('Failure State: ' + sysExecutionTrackerGr.name);\n\t\ttemplate.print('<br/><br/>');\n\t\ttemplate.print('Failure Message: ' + sysExecutionTrackerGr.message);\n\t}\n\t\n})(current, template, email, email_action, event);\n\nfunction getErrorExecutionTracker(mlSolutionGr) {\n\tvar gr = new GlideRecord('sys_execution_tracker');\n\tgr.addQuery('parent', mlSolutionGr.progress_tracker);\n\tgr.addQuery('state', 3); // 3 means failed\n\tgr.query();\n\treturn gr.next() ? gr : null;\n}","sys_class_name":"sys_script_email","sys_id":"b43592917320230080b29ca9faf6a708","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_script_email_b43592917320230080b29ca9faf6a708","sys_updated_by":"admin","sys_created_on":"2018-09-13 23:12:07","name":"solution_training_error","sys_name":"solution_training_error","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"3","sys_updated_on":"2024-09-09 23:38:13","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\t\t\n\t\tconst notificationUtil = sn_nowassist_diagn.MonitoringNotificationUtil;\n\t\ttemplate.print(notificationUtil.localize(notificationUtil.URL_MESSAGE, current.getValue('recipient'), [current.getValue('matched_records')]));\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"b578f5ed536cd210d84cddeeff7b1202","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7b67ecf7437042105947644c7ab8f21b","value":"7b67ecf7437042105947644c7ab8f21b"},"sys_update_name":"sys_script_email_b578f5ed536cd210d84cddeeff7b1202","sys_updated_by":"admin","sys_created_on":"2024-09-09 22:12:09","name":"matching_record_message","sys_name":"matching_record_message","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/7b67ecf7437042105947644c7ab8f21b","value":"7b67ecf7437042105947644c7ab8f21b"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"11","sys_updated_on":"2022-03-07 12:09:24","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n    var requestItemId = current.sysapproval;\n    var portalSuffix = new sn_ex_emp_fd.FoundationNotificationUtil().getPortalSuffix();\n    var requestUrl = portalSuffix + '?id=ticket&table=sc_req_item&sys_id=' + requestItemId;\n    var colorTheme = 'color: #4F52BD;';\n    var fontSize = 'font-size: 16px;';\n    var lineHeight = 'line-height: 24px;';\n    var fontFamily = 'font-family: Lato, Arial, sans-serif;';\n    var display = 'display: inline-block;';\n    template.print('<div style=\"padding-bottom:32px\"> <span style=\"margin-right: 4px;\">View</span> <a href=\"' + requestUrl + '\"');\n    template.print('style=\"' + colorTheme + fontSize + fontFamily + display);\n    template.print('\">');\n    template.print(gs.getMessage('approval request'));\n    template.print('</a></div>');\n    var request = {};\n    request.requested_for = current.sysapproval.request.requested_for;\n    request.opened_by = current.sysapproval.request.opened_by;\n\n    var notificationUtil = new global.RequestNotificationUtil();\n    var requestItemDetails = notificationUtil.getRequestItemDetails(requestItemId, request.requested_for, true);\n\n    template.print('<div style=\"padding-bottom:16px; line-height:30px; font-size: 15pt;\"><b style=\"font-weight: 600;\">About this request</b></div>');\n    template.print('<div style=\"padding-bottom:16px;\">');\n    if (requestItemDetails.showItemRequestedFor) {\n        template.print('<div style=\"' + fontSize + lineHeight + '\">Requested for: ' + '<b style=\"font-weight: 600;\">' + requestItemDetails.requestedFor + '</b></div>');\n    }\n    if (request.requested_for.toString() !== request.opened_by.toString()) {\n        template.print('<div style=\"' + fontSize + lineHeight + '\">Opened by: ' + '<b style=\"font-weight: 600;\">' + request.opened_by.name + '</b></div>');\n    }\n\n    template.print('<div style=\"' + fontSize + lineHeight + '\">Short description: <b style=\"font-weight: 600;\">' + requestItemDetails.item + '</b></div>');\n\n    if (requestItemDetails.variables.length > 0) {\n        notificationUtil.setRequestItemVariablestoTemplate(requestItemDetails, template);\n    }\n    if (requestItemDetails.showQuantity) {\n        template.print('<div style=\"' + fontSize + lineHeight + '\">Quantity: <b style=\"font-weight: 600;\">' + requestItemDetails.quantity + '</b></div>');\n    }\n    notificationUtil.setPricingtoTemplate(requestItemDetails, template);\n    template.print('</div>');\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"b5eb7ce8b4fe7050f87755e926c3862a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3028ab3304f12210559073c06a02f7b7","value":"3028ab3304f12210559073c06a02f7b7"},"sys_update_name":"sys_script_email_b5eb7ce8b4fe7050f87755e926c3862a","sys_updated_by":"admin","sys_created_on":"2021-09-21 10:03:21","name":"request_item_approval","sys_name":"request_item_approval","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"39","sys_updated_on":"2019-03-26 15:29:56","sys_tags":"","script":"//Get task record data\nvar gr = new GlideRecord('vtb_task');\ngr.addQuery('number', current.getDisplayValue(\"task\"));\ngr.query();\nwhile (gr.next()) {\n\n    template.print('<b>State:</b> ' + gr.getDisplayValue(\"state\") + '<br/>');\n    if (gr.priority) {\n        template.print('<b>Priority:</b> ' + gr.getDisplayValue(\"priority\") + '<br/>');\n    }\n    template.print('<b>Opened by:</b> ' + gr.getDisplayValue(\"opened_by\") + '<br/>');\n    template.print('<b>Assigned to:</b> ');\n    if (gr.assigned_to) {\n        template.print(gr.getDisplayValue(\"assigned_to\") + '<br/>');\n    } else {\n        template.print('unassigned<br/>');\n    }\n    if (gr.additional_assignee_list) {\n        template.print('<b>Additional assignees:</b> ' + gr.getDisplayValue(\"additional_assignee_list\") + '<br/>');\n        //for each additional assigneed, check if member of this board, if so add as CC\n        var additionalAssignees = gr.additional_assignee_list.split(\",\");\n\n        //get user records\n        var user = new GlideRecord(\"sys_user\");\n        user.addQuery(\"sys_id\", additionalAssignees);\n        user.addQuery(\"notification\", 2); //email\n        user.addQuery(\"email\", \"!=\", \"\");\n        user.query();\n\n        while (user.next()) {\n            if (new VTBBoardSecurity().canUserAccess(current.board, user.sys_id)) {\n                //add to cc list\n                email.addAddress(\"cc\", user.email, user.getDisplayValue());\n            }\n        }\n    }\n    if (gr.description) {\n        template.print('<p><b>Description:</b><br/>');\n        template.print(gr.getDisplayValue(\"description\") + '</p>');\n    }\n    if (gr.comments_and_work_notes) {\n        template.print('<p><b>Comments and Work notes:</b><br/>');\n        template.print(gr.getDisplayValue(\"comments_and_work_notes\") + '</p>');\n    }\n\n}","sys_class_name":"sys_script_email","sys_id":"b89bdaa49330020092ffb46b767ffb70","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d334a77b04312210559073c06a02f7ff","value":"d334a77b04312210559073c06a02f7ff"},"sys_update_name":"sys_script_email_b89bdaa49330020092ffb46b767ffb70","sys_updated_by":"admin","sys_created_on":"2015-06-19 00:53:36","name":"vtb_cardMove_details","sys_name":"vtb_cardMove_details","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"15","sys_updated_on":"2021-04-20 23:45:23","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n\t\t\t\t\t\t/* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n\t\t\t\t\t\t/* Optional GlideRecord */ event) {\n    // parm2 - Open tasks sysIds\n    var url = \"\";\n    var taskId = event.parm2;\n    if (!JSUtil.nil(taskId)) {\n        var reviewGr = new GlideRecord('cmdb_data_management_task');\n        reviewGr.addQuery('sys_id', taskId);\n        reviewGr.query();\n\t\tif(reviewGr.next()) {\n\t\ttemplate.print('<b>'+'Reminder: Task '+ reviewGr.getValue('number')+' assigned to you on '+reviewGr.getValue('sys_created_on')+' requires your attention.'+'</b><br><br>');\n            url = '<a href=\"' + gs.getProperty('glide.servlet.uri') + 'cmdb_data_management_task.do?sys_id=' + reviewGr.getValue('sys_id') + '\">' + reviewGr.policy_id.name + \" - \" + reviewGr.getValue(\"number\") + '</a>';\n            template.print(url + \"<br>\");\n            reviewGr.setValue('last_notification_time', gs.nowDateTime());\n            reviewGr.update();\n        }\n    }\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"b8a1be3a772320108043270bba106131","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"sys_update_name":"sys_script_email_b8a1be3a772320108043270bba106131","sys_updated_by":"admin","sys_created_on":"2021-04-20 05:00:14","name":"cmdbdatamanager.tasks.stale","sys_name":"cmdbdatamanager.tasks.stale","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"20","sys_updated_on":"2024-04-12 07:37:43","sys_tags":"","script":"(function runMailScript(current, template, email, email_action, event) {\n\n    template.print('<div style=\"font-size: 16px; padding-bottom: 16px;\"><span style=\"font-weight: 400;\">' + gs.getMessage('Comments: ') + '</span>');\n    template.print('<span style=\"font-weight: 600;\">' + gs.getMessage('${comments}') + '</span></div>');\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"b9e18370d711120035ae23c7ce61032a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9eb76f7f04b12210559073c06a02f78a","value":"9eb76f7f04b12210559073c06a02f78a"},"sys_update_name":"sys_script_email_b9e18370d711120035ae23c7ce61032a","sys_updated_by":"admin","sys_created_on":"2016-01-29 15:01:30","name":"incident_comments","sys_name":"incident_comments","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"4","sys_updated_on":"2021-07-13 17:43:01","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\tvar requestorName = current.getDisplayValue(\"requestor_name\");\n\tvar inviteeName = current.getDisplayValue(\"group_invitee_name\") || current.getDisplayValue(\"invitee_name\");\n\tvar appName = current.getDisplayValue(\"app_name\");\n\tvar descriptorUpperCase = (current.getDisplayValue(\"collaboration_descriptor_name\") || '').toLocaleUpperCase(gs.getSession().getLanguage());\n\t\n\tvar collabRequestEmail = new CollabRequestEmailScript();\n\t\n\tcollabRequestEmail.addHeading(gs.getMessage(\"The team just got bigger!\"));\n\tcollabRequestEmail.addText(gs.getMessage(\"Hi {0},\", requestorName), false); // greeting\n\tcollabRequestEmail.addText(gs.getMessage(\"Good news! {0} has been added to the app, {1}, as {2}. You can now start working with them.\", [inviteeName, appName, descriptorUpperCase]), true); // message\n\tcollabRequestEmail.addButton(gs.getMessage(\"Go to your app\"), current.getValue(\"app_url\"));\n\t\n\temail.setSubject(gs.getMessage(\"Your collaborator request was approved\"));\n\ttemplate.print(collabRequestEmail.getBody());\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"bad37542c7913010408bc8d6f2c26063","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"sys_update_name":"sys_script_email_bad37542c7913010408bc8d6f2c26063","sys_updated_by":"admin","sys_created_on":"2021-07-13 16:47:35","name":"get_dev_collab_task_approved_email","sys_name":"get_dev_collab_task_approved_email","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"4","sys_updated_on":"2019-08-20 08:40:04","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\tvar obj = new JSON().decode(event.parm2);\n\tvar article_link = new KBCommon().getArticleLink(obj.sys_id);\n\temail.setSubject(\"AQI Review for \"+obj.display_number);\n    template.print(\"Hi  \"+obj.ownership_group+\" member,<br/>\");\n\ttemplate.print(\"<br/>\");\n\ttemplate.print(\"An AQI review was performed on an article that you created/updated. The details are mentioned below.<br/>\");\n\ttemplate.print(\"<br/>\");\n\ttemplate.print(\"<b>Article</b> : <a href='\"+article_link+ \"'>\"+obj.display_number+\"</a><br/>\");\n\ttemplate.print(\"<b>Article Title</b> : \"+obj.short_desc+\"<br/>\");\n\ttemplate.print(\"<b>Authored/Updated</b> : \"+obj.receiver_full_name+\"<br/>\");\n\ttemplate.print(\"<b>Ownership Group</b> : \"+obj.ownership_group+\"<br/>\");\n\ttemplate.print(\"<b>AQI review performed on</b>: \"+obj.review_completed_on+\"<br/>\");\n\ttemplate.print(\"<b>AQI review performed by</b> : \"+obj.reviewer+\"<br/>\");\n\ttemplate.print(\"<br/>\");\n\ttemplate.print(\"<b>AQI Score</b> : \"+obj.aqi_score+\"<br/>\");\n\ttemplate.print(\"<b>Result</b> : \"+obj.status+\"<br/>\");\n\ttemplate.print(\"<b>Comments</b> : \"+obj.comments+\"<br/>\");\n\ttemplate.print(\"<br/>\");\t\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"bc00a85f67102300dbfdbb2d07415ae1","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/67dc6bfb04352210559073c06a02f738","value":"67dc6bfb04352210559073c06a02f738"},"sys_update_name":"sys_script_email_bc00a85f67102300dbfdbb2d07415ae1","sys_updated_by":"admin","sys_created_on":"2018-09-07 09:31:57","name":"Notification: Article Group Ownership Aqied","sys_name":"Notification: Article Group Ownership Aqied","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"2","sys_updated_on":"2014-10-25 08:26:11","sys_tags":"","script":"template.print(\"<br />\");\nvar url = \"/nav_to.do?uri=live_feed_launcher.do?sysparm_feed_type=msg_feed%26sysparm_msg_id=\";\nif(current.reply_to)\n\turl = url + current.reply_to;\nelse\n\turl = url + current.sys_id;\nvar htmlLink = '<a href=\"' + url + '\">View Message</a>';\ntemplate.print(htmlLink);\n","sys_class_name":"sys_script_email","sys_id":"bc1e1750470031007f47563dbb9a71d4","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e7e727ff04b12210559073c06a02f7de","value":"e7e727ff04b12210559073c06a02f7de"},"sys_update_name":"sys_script_email_bc1e1750470031007f47563dbb9a71d4","sys_updated_by":"admin","sys_created_on":"2014-10-25 08:07:55","name":"live_feed_mention_view_msg","sys_name":"live_feed_mention_view_msg","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"7","sys_updated_on":"2020-09-22 05:13:30","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n\t\ttemplate.print(email_action.name);\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"beb059935313101014dfddeeff7b1274","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aa76333f04b52210559073c06a02f764","value":"aa76333f04b52210559073c06a02f764"},"sys_update_name":"sys_script_email_beb059935313101014dfddeeff7b1274","sys_updated_by":"admin","sys_created_on":"2020-09-22 04:46:50","name":"po_getNotificationName","sys_name":"po_getNotificationName","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"1","sys_updated_on":"2024-05-10 17:11:59","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template, /* Optional EmailOutbound */\n    email) {\n    var appName = current.variables.application_name;\n    var approvalEmail = new AppIntakeApprovalEmail();\n\n    template.print(approvalEmail.getEmailMessageToAdminManualProvisioning(current.opened_by.getRefRecord().getValue(\"name\"), appName));\n\n})(current, template, email);","sys_class_name":"sys_script_email","sys_id":"c0c54e9d9f8e4e100f8b65b23b0a1c9a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3d3c2505c3e22010b83971e54440dd75","value":"3d3c2505c3e22010b83971e54440dd75"},"sys_update_name":"sys_script_email_c0c54e9d9f8e4e100f8b65b23b0a1c9a","sys_updated_by":"admin","sys_created_on":"2024-05-07 21:31:43","name":"get_app_intake_message_to_admin_manual_provisioning","sys_name":"get_app_intake_message_to_admin_manual_provisioning","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3d3c2505c3e22010b83971e54440dd75","value":"3d3c2505c3e22010b83971e54440dd75"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"2","sys_updated_on":"2024-05-14 14:42:25","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n\n    var requestorName = current.requested_for.getRefRecord().getValue('name');\n    var developmentInstanceID = current.variables.development_instance;\n    var developmentInstanceName = gs.getMessage(\"N/A\");\n\n    var gr_pipeline_environment = new GlideRecord(\"sn_pipeline_environment\");\n    if (gr_pipeline_environment.get(developmentInstanceID)) {\n        developmentInstanceName = gr_pipeline_environment.getDisplayValue('name');\n    }\n\n    var requestEmail = new sn_app_eng_notify.AppEngineEmailScript();\n    requestEmail.addHeading(gs.getMessage(\"A user wants to create an app\"));\n\n    requestEmail.addText(gs.getMessage(\"Hi App Engine Admins,\"));\n\n    requestEmail.addText(gs.getMessage(\"{0} wants to create an app.\", requestorName));\n    requestEmail.addText(gs.getMessage(\"Once you approve their request, they will have access to the development instance: {0}. At that time, you can also determine which app development tools in App Engine they will have access to.\", developmentInstanceName));\n\n    requestEmail.addButton(gs.getMessage(\"Review request\"), current.request.getRefRecord().getLink());\n\n    template.print(requestEmail.getBody());\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"c0ff8ffd9f42ce100f8b65b23b0a1c31","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3d3c2505c3e22010b83971e54440dd75","value":"3d3c2505c3e22010b83971e54440dd75"},"sys_update_name":"sys_script_email_c0ff8ffd9f42ce100f8b65b23b0a1c31","sys_updated_by":"admin","sys_created_on":"2024-05-09 16:15:35","name":"get_app_intake_request_with_intake","sys_name":"get_app_intake_request_with_intake","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3d3c2505c3e22010b83971e54440dd75","value":"3d3c2505c3e22010b83971e54440dd75"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"11","sys_updated_on":"2019-08-20 08:43:38","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n    var obj = new JSON().decode(event.parm2);\n\tvar article_link = new KBCommon().getArticleLink(obj.sys_id);\n\temail.setSubject(\"Reg: Article \"+obj.number+\" has been revised\");\n    template.print(\"Hi  \"+obj.receiver+\",<br/>\");\n\ttemplate.print(\"<br/>\");\n\ttemplate.print(\"An article has been revised in the \"+obj.knowledge_base+\" Knowledge Base.<br/>\");\n\ttemplate.print(\"<br/>\");\n\ttemplate.print(\"<b>Article Number</b>: <a href='\"+article_link+ \"'>\"+obj.number+\"</a><br/>\");\t\n\ttemplate.print(\"<b>Article Title</b>: \"+obj.short_desc+\"<br/>\");\n\ttemplate.print(\"<b>Revised Date</b>: \"+obj.updated_on+\".<br/>\");\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"c21ab52a67a03200d358bb2d07415a48","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/67dc6bfb04352210559073c06a02f738","value":"67dc6bfb04352210559073c06a02f738"},"sys_update_name":"sys_script_email_c21ab52a67a03200d358bb2d07415a48","sys_updated_by":"admin","sys_created_on":"2017-01-29 05:52:20","name":"Notification: Article revised in KB","sys_name":"Notification: Article revised in KB","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"3","sys_updated_on":"2018-02-01 00:33:49","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n/* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n/* Optional GlideRecord */ event) {\n\t\n\tvar gr = new GlideRecord(current.table);\n\tgr.get(current.master_ci);\n\tvar link = new GlideSubstituteURL().generateURL(gr, '');\n\tvar display = gr.getDisplayValue();\n\tvar anchor = \"<a href='\" + link +\"'>\" + display + \"</a>\";\n\ttemplate.print(anchor);\n\t\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"c39da3f0c700130039b82cdb8e976398","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_email_c39da3f0c700130039b82cdb8e976398","sys_updated_by":"admin","sys_created_on":"2018-01-31 23:45:37","name":"dedupe_task_master_link","sys_name":"dedupe_task_master_link","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"24","sys_updated_on":"2022-02-03 10:43:36","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template, /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action, /* Optional GlideRecord */ event) {\n\n    var state = current.getValue('state');\n    var emailBody = \"Data extraction for Process Mining project <a href='\" + current.getLink() +\"' target='_blank'>\" + current.getValue(\"number\") +\" - \" + current.getValue(\"name\") + \"</a> has been \";\n\n    if (state == 'AVAILABLE') {\n        emailBody += 'successfully completed.<br/><br/>' + getLinkForWorkbench() + ' to view in analyst workbench.';\n\n    } else if (state == 'ERROR') {\n        emailBody += 'completed with error. <br/> <br/>' + getLinkForProminProjectDef() + ' to view project definition.';\n    } else if (state == 'CANCELLED') {\n        emailBody += 'cancelled. <br/> <br/>' + getLinkForProminProjectDef() + ' to view project definition.';\n    }\n\n    template.print(emailBody);\n\n    function getLinkForProminProjectDef() {\n        return \"<a href='\" + current.getLink() + \"' target='_blank'>Click here</a>\";\n    }\n\n    function getLinkForWorkbench() {\n        var graphLink = gs.getProperty('glide.servlet.uri');\n\t\tgraphLink = graphLink.substring(0, graphLink.length - 1);\n\t\tvar workbenchLink = new global.ProminUtilsAJAX().getWorkBenchUrl(current.getUniqueValue());\n\t\tif(!gs.nil(workbenchLink)) {\n\t\t\tgraphLink += workbenchLink;\n\t\t}\n\t\treturn \"<a href='\" + graphLink + \"' target='_blank'>Click here</a>\";\n    }\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"c3f7b09653333300a980ddeeff7b1278","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aa76333f04b52210559073c06a02f764","value":"aa76333f04b52210559073c06a02f764"},"sys_update_name":"sys_script_email_c3f7b09653333300a980ddeeff7b1278","sys_updated_by":"admin","sys_created_on":"2019-09-12 04:33:56","name":"notify_on_promin_job_completion","sys_name":"notify_on_promin_job_completion","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"5","sys_updated_on":"2024-09-24 09:23:24","sys_tags":"","script":"(function runMailScript(current, template, email, email_action, event) {\n    var link = new EmailNotificationRedirection().getLink(current.getTableName(), current.getUniqueValue());\n\t\n    template.print('<span style=\"font-size: 16px; color:#181A1F;\">');\n    template.print(gs.getMessage('You can view the incident task to track updates and make changes.'));\n    template.print('</span>');\n\n    var backgroundColor = 'background-color: #4F52BD;';\n    var border = 'border: 1px solid #4F52BD;';\n    var color = 'color: #ffffff;';\n    var fontSize = 'font-size: 16px;';\n    var textDecoration = 'text-decoration: none; border-radius: 4px;';\n    var webKitBorder = '-webkit-border-radius: 4px;';\n    var mozBorder = '-moz-border-radius: 4px;';\n    var display = 'display: inline-block;';\n    var padding = 'padding: 6px 16px;';\n    var margin = 'margin-top:16px;';\n\n    template.print('<br><a href=\"' + link + '\"');\n    template.print('style=\"' + backgroundColor + border + color + fontSize + textDecoration + webKitBorder + mozBorder + display + padding + margin);\n    template.print('\">');\n    template.print(gs.getMessage('View incident task'));\n    template.print('</a>');\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"c461091c93749210c3bbf04e648918d0","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9eb76f7f04b12210559073c06a02f78a","value":"9eb76f7f04b12210559073c06a02f78a"},"sys_update_name":"sys_script_email_c461091c93749210c3bbf04e648918d0","sys_updated_by":"admin","sys_created_on":"2024-09-18 06:52:03","name":"incident_task_take_me_to_the_incident","sys_name":"incident_task_take_me_to_the_incident","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"3","sys_updated_on":"2021-10-25 21:02:13","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n    var deploymentRequestFailedAppEngineAdminEmailUtil = new DeploymentRequestFailedAppEngineAdminEmailUtil();\n\n    // subject\n    var subject = deploymentRequestFailedAppEngineAdminEmailUtil.getSubject(current);\n    email.setSubject(subject);\n\n    var emailBody = deploymentRequestFailedAppEngineAdminEmailUtil.getPublishFailedEmailBodyForAppEngineAdmin(current);\n\n    template.print(emailBody);\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"c4a07b31c3533010a9f5e548fa40ddbb","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bb67ed7253e83010b846ddeeff7b1204","value":"bb67ed7253e83010b846ddeeff7b1204"},"sys_update_name":"sys_script_email_c4a07b31c3533010a9f5e548fa40ddbb","sys_updated_by":"admin","sys_created_on":"2021-10-20 16:56:58","name":"get_deployment_request_failed_publish_fail_app_engine_admin_email","sys_name":"get_deployment_request_failed_publish_fail_app_engine_admin_email","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bb67ed7253e83010b846ddeeff7b1204","value":"bb67ed7253e83010b846ddeeff7b1204"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"37","sys_updated_on":"2019-08-20 08:30:44","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\tvar obj = new JSON().decode(event.parm2);\n\tvar article_link = new KBCommon().getArticleLink(obj.sys_id);\n\temail.setSubject(\"AQI Review for \"+obj.display_number);\n\tif(obj.cc_email != null && obj.cc_dv != null) {\n\t\temail.addAddress(\"cc\", obj.cc_email, obj.cc_dv);\n\t}\n    template.print(\"Hi  \"+obj.receiver_first_name+\",<br/>\");\n\ttemplate.print(\"<br/>\");\n\ttemplate.print(\"An AQI review was performed on an article that you created/updated. The details are mentioned below.<br/>\");\n\ttemplate.print(\"<br/>\");\n\ttemplate.print(\"<b>Article</b> : <a href='\"+article_link+ \"'>\"+obj.display_number+\"</a><br/>\");\n\ttemplate.print(\"<b>Article Title</b> : \"+obj.short_desc+\"<br/>\");\n\ttemplate.print(\"<b>Authored/Updated</b> : \"+obj.receiver_full_name+\"<br/>\");\n\ttemplate.print(\"<b>AQI review performed on</b>: \"+obj.review_completed_on+\"<br/>\");\n\ttemplate.print(\"<b>AQI review performed by</b> : \"+obj.reviewer+\"<br/>\");\n\ttemplate.print(\"<br/>\");\n\ttemplate.print(\"<b>AQI Score</b> : \"+obj.aqi_score+\"<br/>\");\n\ttemplate.print(\"<b>Result</b> : \"+obj.status+\"<br/>\");\n\ttemplate.print(\"<b>Comments</b> : \"+obj.comments+\"<br/>\");\n\ttemplate.print(\"<br/>\");\t\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"c821f6fd67133200d358bb2d07415a64","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/67dc6bfb04352210559073c06a02f738","value":"67dc6bfb04352210559073c06a02f738"},"sys_update_name":"sys_script_email_c821f6fd67133200d358bb2d07415a64","sys_updated_by":"admin","sys_created_on":"2017-06-12 18:50:00","name":"Notification: Article Aqied","sys_name":"Notification: Article Aqied","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"3","sys_updated_on":"2022-09-19 22:07:01","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template, /* Optional EmailOutbound */\n    email) {\t\n\tvar appName = current.variables.application_name;\n    var approvalEmail = new AppIntakeApprovalEmail();\n\n    template.print(approvalEmail.getEmailMessageAdminManualPermissionProvisioning(current.opened_by.getRefRecord().getValue(\"name\"), appName));\n\n})(current, template, email);","sys_class_name":"sys_script_email","sys_id":"c84dac6153861110b846ddeeff7b1265","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3d3c2505c3e22010b83971e54440dd75","value":"3d3c2505c3e22010b83971e54440dd75"},"sys_update_name":"sys_script_email_c84dac6153861110b846ddeeff7b1265","sys_updated_by":"admin","sys_created_on":"2022-09-19 21:12:06","name":"get_app_intake_message_admin_manual_permission_provisioning","sys_name":"get_app_intake_message_admin_manual_permission_provisioning","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3d3c2505c3e22010b83971e54440dd75","value":"3d3c2505c3e22010b83971e54440dd75"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"1","sys_updated_on":"2023-10-03 15:45:27","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n    email.setReplyTo(event.parm1);\n    var processOwner = event.parm1;\n    var gr = new GlideRecord(\"sys_user\");\n    if (gr.get(event.parm1)) {\n        processOwner = gr.getValue(\"name\");\n    }\n    var processOwnerName = processOwner.split(\"@\")[0];\n    var instanceUrl = gs.getProperty('glide.servlet.uri') + \"nav_to.do?uri=\";\n    var processes = JSON.parse(event.parm2);\n    var contentHTML = \"<p style='line-height: 1.5;'>Dear \" + processOwnerName + \",<br><br>Here're the latest security scores for your password processes on the instance <strong>\" + gs.getProperty('instance_name') + \"</strong>.<br><br>Heres a list of recommendations that might help you improve the security and overall score of your process. To make the appropriate changes, navigate to the process record. To know more about these recommendations, see <a href='https://docs.servicenow.com/?context=pwd-reset-process-recommend&version=latest'>Password Reset documentation.</a></p>\";\n    var tableHTML = \"<style>#processes {border-collapse: collapse;width: 100%;}, #processes th {border: 1px solid #ddd;padding: 8px;}#processes th { padding-top: 12px;padding-bottom: 12px;text-align: center;}tr { padding-top: 12px;padding-bottom: 12px;text-align: center;}</style>\";\n    tableHTML += \"<table style='border: 1px solid black;' id='processes' >\";\n    var rowHeadings = [\"Process Name\", \"Current Security Score\", \"Current Security Level\", \"Recommendations\"];\n    // insert row of headings\n    tableHTML += \"<tr>\";\n    for (var i = 0; i < rowHeadings.length; i++) {\n        tableHTML += \"<th style='border: 1px solid black;'>\" + rowHeadings[i] + \"</th>\";\n    }\n    tableHTML += \"</tr>\";\n    var formattedSuggestions = \"\";\n    for (var j = 0; j < processes.length; j++) {\n        tableHTML += \"<tr>\";\n        var url = instanceUrl + gs.generateURL(\"pwd_process\", processes[j].processID);\n        tableHTML += \"<td style='border: 1px solid black;'> <a href=\" + url + \">\" + processes[j].processName + \"</a></td>\";\n        tableHTML += \"<td style='border: 1px solid black;'>\" + processes[j].securityScore + \"/100 </td>\";\n        var currentSecurityLevel = processes[j].securityScore < 41 ? 'Low' : (processes[j].securityScore < 76 ? 'Medium' : 'High');\n        tableHTML += \"<td style='border: 1px solid black;'>\" + currentSecurityLevel + \"</td>\";\n        var currentProcessSuggestions = processes[j].suggestions;\n        for (var k = 0; k < currentProcessSuggestions.length; k++) {\n            formattedSuggestions += (k + 1) + \". \" + currentProcessSuggestions[k] + \"<br>\";\n        }\n        tableHTML += \"<td style='border: 1px solid black; text-align:left;'>\" + formattedSuggestions + \"</td>\";\n        formattedSuggestions = \"\";\n    }\n    // end of table\n    tableHTML += \"</table>\";\n    template.print(contentHTML + tableHTML);\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"cb9b166077513110ad2e53cf6b5a99de","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/421beb3304352210559073c06a02f7ef","value":"421beb3304352210559073c06a02f7ef"},"sys_update_name":"sys_script_email_cb9b166077513110ad2e53cf6b5a99de","sys_updated_by":"admin","sys_created_on":"2023-09-12 13:20:24","name":"pwd.security_score","sys_name":"pwd.security_score","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"2","sys_updated_on":"2017-07-03 07:07:22","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\tvar i18nSummary = gs.getMessage('Summary details');\n\tvar i18nResolvedBy = gs.getMessage('Resolved by: {0}', '${resolved_by}');\n\tvar i18nClosedNotes = gs.getMessage('Resolved notes: {0}', '${close_notes}');\n\ttemplate.print('<p><font size=\"4\" color=\"#808080\" face=\"helvetica\"><strong>' + i18nSummary + '</strong></font></p>');\n\ttemplate.print('<p><font size=\"3\" color=\"#808080\" face=\"helvetica\">' + i18nResolvedBy + '</font></p>');\n\ttemplate.print('<p><font size=\"3\" color=\"#808080\" face=\"helvetica\">' + i18nClosedNotes + '</font></p>');\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"cbb6d8640b333200ecfd818393673add","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9eb76f7f04b12210559073c06a02f78a","value":"9eb76f7f04b12210559073c06a02f78a"},"sys_update_name":"sys_script_email_cbb6d8640b333200ecfd818393673add","sys_updated_by":"admin","sys_created_on":"2017-07-03 06:55:15","name":"incident_resolved_incident_details","sys_name":"incident_resolved_incident_details","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"4","sys_updated_on":"2019-08-20 08:32:18","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\tvar obj = new JSON().decode(event.parm2);\n\tvar article_link = new KBCommon().getArticleLink(obj.sys_id);\n\temail.setSubject(\"Reg: Article \"+obj.number+ \" has been checked out for revision by \"+obj.revised_by);\n    template.print(\"Hi  \"+obj.ownership_group_name+\" member,<br/>\");\n\ttemplate.print(\"<br/>\");\n\ttemplate.print(\"An article for which you are the owner has been checked out for revision.<br/>\");\n\ttemplate.print(\"<br/>\");\n\ttemplate.print(\"<b>Article Number</b>: <a href='\"+article_link+ \"'>\"+obj.number+\"</a><br/>\");\n\ttemplate.print(\"<b>Article Title</b>: \"+obj.short_desc+\"<br/>\");\n\ttemplate.print(\"<b>Current Published Version</b>: \"+obj.latest_version+\"<br/>\");\n\ttemplate.print(\"<b>Checked Out By</b>: \"+obj.revised_by+\"<br/>\");\n\ttemplate.print(\"<b>Checked Out On</b>: \"+obj.created_on+\"<br/>\");\n\ttemplate.print(\"<br/>\");\n\ttemplate.print(\"This notification is for information purposes only. No action is required from you at this time.<br/>\");\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"cc83789367502300dbfdbb2d07415a8b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/67dc6bfb04352210559073c06a02f738","value":"67dc6bfb04352210559073c06a02f738"},"sys_update_name":"sys_script_email_cc83789367502300dbfdbb2d07415a8b","sys_updated_by":"admin","sys_created_on":"2018-09-07 10:57:06","name":"Notification Group: Article checkedout","sys_name":"Notification Group: Article checkedout","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"0","sys_updated_on":"2021-09-03 06:55:20","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n\t          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n\t          /* Optional GlideRecord */ event) {\n\t\n\t          template.print('<div><hr style=\"border: 1px solid #DADDE2;\"/></div>');\n\t\n\t})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"cd046722e51af010f8777565f90b2fa6","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9eb76f7f04b12210559073c06a02f78a","value":"9eb76f7f04b12210559073c06a02f78a"},"sys_update_name":"sys_script_email_cd046722e51af010f8777565f90b2fa6","sys_updated_by":"maint","sys_created_on":"2021-09-03 06:55:20","name":"horizontal_line","sys_name":"horizontal_line","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"maint","sys_policy":""},{"sys_mod_count":"5","sys_updated_on":"2024-03-19 19:31:01","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n    const creatorStudioEmail = new CreatorStudioEmailScript();\n    const viewRequestMessage = gs.getMessage(\"View request\");\n    creatorStudioEmail.addHeading(gs.getMessage(\"You've been assigned a request\"));\n    creatorStudioEmail.addText(gs.getMessage(\"Hi {0},\", current.getDisplayValue(\"assigned_to\")), false);\n    creatorStudioEmail.addText(gs.getMessage(\"You were recently assigned to a request.\"), false);\n    creatorStudioEmail.addInfo(gs.getMessage(\"Request\"), current.getDisplayValue(\"number\"));\n    creatorStudioEmail.addInfo(gs.getMessage(\"Submitted by\"), current.getDisplayValue(\"opened_by\"));\n    creatorStudioEmail.addInfo(gs.getMessage(\"Form name\"), current.getDisplayValue(\"request_type\"));\n    creatorStudioEmail.addInfo(gs.getMessage(\"App name\"), creatorStudioEmail.getAppNameFromTable(current.getValue(\"sys_class_name\")));\n    creatorStudioEmail.addText(gs.getMessage(\"You can access this request from the list view in the Workspace or directly from this email.\"), false);\n    creatorStudioEmail.addButton(viewRequestMessage, creatorStudioEmail.getWorkspaceUrl(current));\n    creatorStudioEmail.addFooter(gs.getMessage(\"You are receiving this email to update you about submitted requests.\"));\n    template.print(creatorStudioEmail.getBody());\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"d05d523a07a23110523bc41f0ad300cc","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/81ac5fe1c7442110408bc8d6f2c260d1","value":"81ac5fe1c7442110408bc8d6f2c260d1"},"sys_update_name":"sys_script_email_d05d523a07a23110523bc41f0ad300cc","sys_updated_by":"admin","sys_created_on":"2023-11-20 17:30:42","name":"request_assigned_to_user","sys_name":"request_assigned_to_user","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/81ac5fe1c7442110408bc8d6f2c260d1","value":"81ac5fe1c7442110408bc8d6f2c260d1"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"10","sys_updated_on":"2017-11-06 10:59:55","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\t\t  var instance_url = gs.getProperty('glide.servlet.uri');\n          template.print(\"<a title='View Question' href='\"+ instance_url + \"$social_qa.do?sysparm_view=question&amp;sysparm_question_id=\"+ current.question.sys_id + \"' target=_blank>View Question</a>\");\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"d0b5de3f67820300d358bb2d07415ada","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/11722b01473231007f47563dbb9a7154","value":"11722b01473231007f47563dbb9a7154"},"sys_update_name":"sys_script_email_d0b5de3f67820300d358bb2d07415ada","sys_updated_by":"admin","sys_created_on":"2017-11-02 14:52:22","name":"social_qa_question_url","sys_name":"social_qa_question_url","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/11722b01473231007f47563dbb9a7154","value":"11722b01473231007f47563dbb9a7154"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"11","sys_updated_on":"2022-09-22 02:15:02","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n          // Add your code here\n          var message_ids_list = current.messages.split(\",\");\n          var all_messages_gr = new GlideRecord('sys_cs_message');\n          all_messages_gr.addEncodedQuery(\"sys_id IN \" + message_ids_list);\n          all_messages_gr.orderBy('sys_created_on');\n          all_messages_gr.query();\n\n          while (all_messages_gr.next()) {\n             template.print(\"<br/>\");\n             template.print(all_messages_gr.getDisplayValue(\"sys_created_on\"));\n             template.print(\"<br/>\" + \"\\\"\");\n             template.print(sn_cs.VASystemObject.getTextValueFromMessageDetails(all_messages_gr.getValue(\"payload\"), all_messages_gr.getValue(\"message_type\")));\n             template.print(\"\\\"\" + \"<br/>\");\n          }\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"d1bdb9d94f71d110967a1a0ba1ce0b33","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_email_d1bdb9d94f71d110967a1a0ba1ce0b33","sys_updated_by":"admin","sys_created_on":"2022-09-06 22:07:41","name":"va_messsage_email_notification_script","sys_name":"va_messsage_email_notification_script","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"37","sys_updated_on":"2019-08-20 08:26:26","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\t\n\tvar number = current.number;\n\tvar short_desc = current.short_description;\n\tvar article_link = gs.getProperty('glide.servlet.uri')+\"nav_to.do?uri=kb_knowledge.do?sys_id=\"+current.sys_id;\n\tvar author;\n\tvar revisor = current.revised_by;\n\tif(revisor)\n\t\tauthor = revisor.first_name;\n\telse \n\t\tauthor = current.author.first_name;\n\t\n\tvar emailContent = {};\n\temailContent.templateContent = \n\t\t\"Hi  \"+author+\",<br/>\" + \n\t\"<br/>\" +\n\t\"<a href=\"+article_link+\">\"+number+\"</a> is approved.<br/>\" +\n\t\"<br/>\" +\t\n\t\"<b>Article Title</b>: \"+short_desc+\"<br/>\" +\n\t\"<br/>\";\t\n\temail.setSubject(number+\" is approved.\");\n\ttemplate.print(emailContent.templateContent);\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"d2e7f439b7122300bc1308a9ee11a939","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2fe727ff04b12210559073c06a02f7dd","value":"2fe727ff04b12210559073c06a02f7dd"},"sys_update_name":"sys_script_email_d2e7f439b7122300bc1308a9ee11a939","sys_updated_by":"admin","sys_created_on":"2018-12-11 05:32:19","name":"km_approved","sys_name":"km_approved","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"2","sys_updated_on":"2013-10-25 23:17:39","sys_tags":"","script":"template.print(\"<p></p>Requested items:<br />\");\n\nvar gr = new GlideRecord(\"sc_req_item\");\ngr.addQuery(\"request\", current.sys_id);\ngr.query();\nwhile(gr.next()) {\n\ttemplate.print(gr.number + \":  \" + gr.cat_item.getDisplayValue() + \", Stage: \" + gr.stage.getDisplayValue() + \"<br />\");\n}\n","sys_class_name":"sys_script_email","sys_id":"d30d2dc3972011005aa4390ddd2975c7","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8093a3f304312210559073c06a02f7f2","value":"8093a3f304312210559073c06a02f7f2"},"sys_update_name":"sys_script_email_d30d2dc3972011005aa4390ddd2975c7","sys_updated_by":"maint","sys_created_on":"2013-10-25 17:05:23","name":"requested_items_list","sys_name":"requested_items_list","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"system","sys_policy":""},{"sys_mod_count":"8","sys_updated_on":"2023-03-19 23:52:06","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n\tvar viewRecommendationsLink = global.AutoResolutionUtil.getViewRecommendationsLink(current.sys_class_name, current.sys_id);\n    template.print(viewRecommendationsLink + '&amp;action=iar_optout');\n\t\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"d46082caffe10110635f056d793bf12b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca4f3f704b52210559073c06a02f789","value":"aca4f3f704b52210559073c06a02f789"},"sys_update_name":"sys_script_email_d46082caffe10110635f056d793bf12b","sys_updated_by":"admin","sys_created_on":"2022-02-09 23:46:36","name":"getIAROptOutLink","sys_name":"getIAROptOutLink","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"5","sys_updated_on":"2024-03-19 19:31:33","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n    const creatorStudioEmail = new CreatorStudioEmailScript();\n    const viewRequestMessage = gs.getMessage(\"View request\");\n    creatorStudioEmail.addHeading(gs.getMessage(\"{0} was opened\", current.getDisplayValue(\"number\")));\n    creatorStudioEmail.addText(gs.getMessage(\"Hi {0},\", current.getDisplayValue(\"opened_by\")), false);\n\n    creatorStudioEmail.addText(gs.getMessage(\"The request you submitted has been opened.\"), false);\n    creatorStudioEmail.addInfo(gs.getMessage(\"Request\"), current.getDisplayValue(\"number\"));\n    creatorStudioEmail.addInfo(gs.getMessage(\"Submitted on\"), current.getDisplayValue(\"sys_created_on\"));\n    creatorStudioEmail.addButton(viewRequestMessage, creatorStudioEmail.getSubmittedRequestUrl(current));\n    creatorStudioEmail.addFooter(gs.getMessage(\"You are receiving this email because you submitted a request.\"));\n    template.print(creatorStudioEmail.getBody());\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"d4d9f23907623110523bc41f0ad3008b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/81ac5fe1c7442110408bc8d6f2c260d1","value":"81ac5fe1c7442110408bc8d6f2c260d1"},"sys_update_name":"sys_script_email_d4d9f23907623110523bc41f0ad3008b","sys_updated_by":"admin","sys_created_on":"2023-11-17 14:59:59","name":"request_opened_notification","sys_name":"request_opened_notification","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/81ac5fe1c7442110408bc8d6f2c260d1","value":"81ac5fe1c7442110408bc8d6f2c260d1"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"4","sys_updated_on":"2023-02-14 16:33:49","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\tvar firstName = current.deployment_request.getRefRecord().getDisplayValue(\"requestor_first_name\");\n\tvar lastName = current.deployment_request.getRefRecord().getDisplayValue(\"requestor_last_name\");\n\tvar requestorName = (firstName + \" \" + lastName).trim();\n\tvar appName = current.deployment_request.getRefRecord().getDisplayValue(\"app_name\");\n\tvar scheduledDateTime = current.getDisplayValue(\"scheduled_deployment_date\");\n\t\n\tvar deploymentRequestEmail = new sn_app_eng_notify.AppEngineEmailScript();\n\t\n\tdeploymentRequestEmail.addHeading(gs.getMessage(\"{0} app has been approved!\", appName));\n\tdeploymentRequestEmail.addText(gs.getMessage(\"Congrats, {0}\", requestorName), false); // greeting\n\tdeploymentRequestEmail.addText(gs.getMessage(\"Your app has been approved and scheduled for deployment on {0}.\", scheduledDateTime), false); // message\n\t\n\temail.setSubject(gs.getMessage(\"{0} app is scheduled for deployment\", appName));\n\ttemplate.print(deploymentRequestEmail.getBody());\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"d56b30e743386110fcbf9bf6cab8f25e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bb67ed7253e83010b846ddeeff7b1204","value":"bb67ed7253e83010b846ddeeff7b1204"},"sys_update_name":"sys_script_email_d56b30e743386110fcbf9bf6cab8f25e","sys_updated_by":"admin","sys_created_on":"2023-02-09 20:30:42","name":"get_queued_for_scheduled_deployment","sys_name":"get_queued_for_scheduled_deployment","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bb67ed7253e83010b846ddeeff7b1204","value":"bb67ed7253e83010b846ddeeff7b1204"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"14","sys_updated_on":"2022-08-01 06:20:02","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n\tvar obj = new JSON().decode(event.parm2);\n\tvar article_link = new KBCommon().getArticleLink(obj.sys_id);\n\temail.setSubject(\"Reg: A new article \"+obj.number+\" has been published in \"+obj.knowledge_base+\" Knowledge Base.\");\n    template.print(\"Hi  \"+obj.receiver+\",<br/>\");\n\ttemplate.print(\"<br/>\");\n\ttemplate.print(\"An article has been published in the \"+obj.knowledge_base+\" Knowledge Base.<br/>\");\n\ttemplate.print(\"<br/>\");\n\ttemplate.print(\"<b>Article Number</b>: <a href='\"+article_link+ \"'>\"+obj.number+\"</a><br/>\");\n\ttemplate.print(\"<b>Article Title</b>: \"+obj.short_desc+\"<br/>\");\n\ttemplate.print(\"<b>Published Date</b>: \"+obj.created_on+\"<br/>\");\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"d5da0fe167a03200d358bb2d07415a5c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/67dc6bfb04352210559073c06a02f738","value":"67dc6bfb04352210559073c06a02f738"},"sys_update_name":"sys_script_email_d5da0fe167a03200d358bb2d07415a5c","sys_updated_by":"maint","sys_created_on":"2017-01-26 09:11:29","name":"Notification: Article published","sys_name":"Notification: Article published","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"0","sys_updated_on":"2024-07-03 09:25:16","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n\t\t/* Optional EmailOutbound */\n\t\temail, /* Optional GlideRecord */ email_action,\n\t\t/* Optional GlideRecord */\n\t\tevent) {\n\n\n\t\ttemplate.print(new Date().getFullYear().toString());\n\n\t})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"d6628167070302104c73f5100ad300bd","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4f1782b511863010d3c9cf6239244623","value":"4f1782b511863010d3c9cf6239244623"},"sys_update_name":"sys_script_email_d6628167070302104c73f5100ad300bd","sys_updated_by":"admin","sys_created_on":"2024-07-03 09:25:16","name":"ec_mail_current_year","sys_name":"ec_mail_current_year","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/4f1782b511863010d3c9cf6239244623","value":"4f1782b511863010d3c9cf6239244623"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"2","sys_updated_on":"2016-01-15 22:31:47","sys_tags":"","script":"pubContent();\nfunction pubContent() {\n   var sysId = current.sys_id;\t\n   var content = '';\n   var pub = new GlideRecord('sn_publications_publication');\n   if(pub.get(sysId)){\n\t   if(pub.getValue('content_type')=='html'){\n\t\t   //Display html\n\t\t   content = pub.getValue('text');\n\t   }else if(pub.getValue('content_type')=='wiki'){\n\t\t   //Display wiki\n\t\t   content = pub.getValue('wiki');\n\t   }   \n\t   if(!gs.nil(content)){\n\t      template.print(content);\n\t    }\n   }\t\n}","sys_class_name":"sys_script_email","sys_id":"d671a4a8c30112004bd67bfaa2d3ae9f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0fdd6483d72302004f1e82285e61033a","value":"0fdd6483d72302004f1e82285e61033a"},"sys_update_name":"sys_script_email_d671a4a8c30112004bd67bfaa2d3ae9f","sys_updated_by":"admin","sys_created_on":"2016-01-15 22:29:08","name":"publication_content","sys_name":"publication_content","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/0fdd6483d72302004f1e82285e61033a","value":"0fdd6483d72302004f1e82285e61033a"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"4","sys_updated_on":"2021-04-19 03:49:57","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\t\n\t\t/**\n\t\t*  parm2 - needsReviewTasks is all sys_id of tasks that are open. automaticTasks are needs_review=false and are set to work in progress (and then closed) during the workflow\n\t\t*\n\t\t*/\n\t\tvar url = \"\";\n\t\tvar raw = event.parm2;\n\t\tif (!raw) {\n\t\t\tgs.warn(\"CMDB Data Manager task notification script did not receive any associated tasks.\");\n\t\t\ttemplate.print(\"**Error** There were no tasks created for this run.\");\n\t\t} else {\n\t\t\tvar taskObject = JSON.parse(raw);\n\t\t\tgs.log(taskObject);\n\t\t\tif (taskObject.needsReviewTasks && taskObject.needsReviewTasks.length > 0) {\n\t\t\t\tvar reviewGr = new GlideRecord('cmdb_data_management_task');\n\t\t\t\treviewGr.addQuery(\"sys_id\", \"IN\", taskObject.needsReviewTasks);\n\t\t\t\treviewGr.orderBy(\"policy_id\");\n\t\t\t\treviewGr.query();\n\t\t\t\ttemplate.print(\"<b>Tasks that need review:</b><br><br>\");\n\t\t\t\twhile (reviewGr.next()) {\n\t\t\t\t\turl = '<a href=\"' + gs.getProperty('glide.servlet.uri') + 'cmdb_data_management_task.do?sys_id=' + reviewGr.getValue(\"sys_id\") + '\">' + reviewGr.policy_id.name + \" - \" + reviewGr.getValue(\"number\") + '</a>';\n\t\t\t\t\ttemplate.print(url + \"<br>\");\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (taskObject.automaticTasks && taskObject.automaticTasks.length > 0) {\n\t\t\t\tvar autoGr = new GlideRecord('cmdb_data_management_task');\n\t\t\t\tautoGr.addQuery(\"sys_id\", \"IN\", taskObject.automaticTasks);\n\t\t\t\tautoGr.orderBy(\"policy_id\");\n\t\t\t\tautoGr.query();\n\t\t\t\ttemplate.print(\"<br><b>Tasks processed automatically:</b><br><br>\");\n\t\t\t\twhile (autoGr.next()) {\n\t\t\t\t\turl = '<a href=\"' + gs.getProperty('glide.servlet.uri') + 'cmdb_data_management_task.do?sys_id=' + autoGr.getValue(\"sys_id\") + '\">' + autoGr.policy_id.name + \" - \" + autoGr.getValue(\"number\") + '</a>';\n\t\t\t\t\ttemplate.print(url + \"<br>\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"d80abbd20723201017b703767cd3005b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"sys_update_name":"sys_script_email_d80abbd20723201017b703767cd3005b","sys_updated_by":"admin","sys_created_on":"2021-04-18 21:09:07","name":"cmdbdatamanager.tasks.created","sys_name":"cmdbdatamanager.tasks.created","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"16","sys_updated_on":"2022-03-07 06:43:41","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n\t/* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n\t/* Optional GlideRecord */ event) {\n\n\tvar width = 'width: 100%;';\n\tvar fontSize = 'font-size: 16px;';\n\tvar lineHeight = 'line-height: 24px;';\n\tvar paddingTop = 'padding-top: 16px;';\n\tvar marginBottom = 'margin-bottom: 16px;';\n\tvar notificationUtil = new RequestNotificationUtil();\n\tvar comment = notificationUtil.getComments(current.sys_id, 'sc_req_item');\n\tvar salutation = notificationUtil.setGreetingsMessage(current, email_action);\n\tvar portalSuffix = new sn_ex_emp_fd.FoundationNotificationUtil().getPortalSuffix();\n\tvar uri = gs.getProperty('glide.servlet.uri') + portalSuffix +'?id=ticket&table=' + current.sys_class_name + '&sys_id=' + current.sys_id;\n\tvar catalogItemJS = new sn_sc.CatItem(current.cat_item);\n\tvar catItemDetails = catalogItemJS.getItemSummary(true);\n\tvar desc = catItemDetails.name.toString();\n\n\ttemplate.print('<div style=\"font-size: 24px; line-height: 36px; text-align: center; padding-bottom: 16px; margin-bottom: 16px; border-bottom: 1px solid #DADDE2;\">' + comment.user + ' added a comment to your request</div>');\n\ttemplate.print('<div style=\"' + width + fontSize + lineHeight + '\">'+ salutation + '</div>');\n\ttemplate.print('<div style=\"' + width + fontSize + lineHeight + paddingTop + '\">' + comment.user + ' left a comment on <span style=\"font-weight: 600;\">' + current.number + ':</span></div>');\n\ttemplate.print('<div style=\"' + width + fontSize + lineHeight + paddingTop + marginBottom + '\"><span style=\"font-weight: 600;\">\"' + comment.val + '\"</span></div>');\n\tnotificationUtil.createNotificationPrimayAction(template, uri, 'View comments');\n\ttemplate.print('<div style=\"font-size: 20px; line-height: 30px; font-weight: 600; margin-bottom: 16px;\">About this request</div>');\n\ttemplate.print('<div style=\"' + fontSize + lineHeight + '\"><span>Request number: </span><span style=\"font-weight: 600;\">' + current.number + '</span></div>');\n\ttemplate.print('<div style=\"' + fontSize + lineHeight + ' margin-bottom: 16px;\"><span>Short description: </span><span style=\"font-weight: 600;\">' + desc + '</span></div>');\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"d8f27b0077f23010f088a0e89e5a9907","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3028ab3304f12210559073c06a02f7b7","value":"3028ab3304f12210559073c06a02f7b7"},"sys_update_name":"sys_script_email_d8f27b0077f23010f088a0e89e5a9907","sys_updated_by":"admin","sys_created_on":"2021-09-20 10:07:29","name":"comment_left_request","sys_name":"comment_left_request","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"4","sys_updated_on":"2024-03-19 19:31:22","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n    const creatorStudioEmail = new CreatorStudioEmailScript();\n    const viewRequestMessage = gs.getMessage(\"View request\");\n    creatorStudioEmail.addHeading(gs.getMessage(\"{0} was closed\", current.getDisplayValue(\"number\")));\n    creatorStudioEmail.addText(gs.getMessage(\"Hi {0},\", current.getDisplayValue(\"opened_by\")), false);\n\n    creatorStudioEmail.addText(gs.getMessage(\"The request you submitted has been closed.\"), false);\n    creatorStudioEmail.addInfo(gs.getMessage(\"Request\"), current.getDisplayValue(\"number\"));\n    creatorStudioEmail.addInfo(gs.getMessage(\"Submitted on\"), current.getDisplayValue(\"sys_created_on\"));\n    creatorStudioEmail.addButton(viewRequestMessage, creatorStudioEmail.getSubmittedRequestUrl(current));\n    creatorStudioEmail.addFooter(gs.getMessage(\"You are receiving this email because you submitted a request.\"));\n    template.print(creatorStudioEmail.getBody());\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"da9cade107623110523bc41f0ad300f1","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/81ac5fe1c7442110408bc8d6f2c260d1","value":"81ac5fe1c7442110408bc8d6f2c260d1"},"sys_update_name":"sys_script_email_da9cade107623110523bc41f0ad300f1","sys_updated_by":"admin","sys_created_on":"2023-11-16 15:08:52","name":"request_closed_notification","sys_name":"request_closed_notification","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/81ac5fe1c7442110408bc8d6f2c260d1","value":"81ac5fe1c7442110408bc8d6f2c260d1"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"5","sys_updated_on":"2014-07-30 12:09:21","sys_tags":"","script":"template.print(\"Summary of Requested items:<br />\");  \nvar gr = new GlideRecord(\"sc_req_item\");\ngr.addQuery(\"request\", current.sysapproval);\ngr.query();\nwhile(gr.next()) {\n  template.print(gr.number + \":  \" + gr.quantity + \" X \" + gr.cat_item.getDisplayValue() + \" at \" + gr.cat_item.price.getDisplayValue() + \" each <br />\");\n}","sys_class_name":"sys_script_email","sys_id":"db0d2dc3972011005aa4390ddd2975c7","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8093a3f304312210559073c06a02f7f2","value":"8093a3f304312210559073c06a02f7f2"},"sys_update_name":"sys_script_email_db0d2dc3972011005aa4390ddd2975c7","sys_updated_by":"admin","sys_created_on":"2013-10-25 17:05:23","name":"requested_items_summary","sys_name":"requested_items_summary","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"system","sys_policy":""},{"sys_mod_count":"2","sys_updated_on":"2022-03-03 23:16:12","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\t\n\tvar slaTimeLeft = AutoResolutionPortalHelper.getSLATimeLeft(current.sys_id);\n    if (slaTimeLeft) {\n        template.print(slaTimeLeft);\n    }\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"dbbb2ecd534e011031a5ddeeff7b1277","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca4f3f704b52210559073c06a02f789","value":"aca4f3f704b52210559073c06a02f789"},"sys_update_name":"sys_script_email_dbbb2ecd534e011031a5ddeeff7b1277","sys_updated_by":"admin","sys_created_on":"2022-03-03 20:53:06","name":"getIARSLATimeLeft","sys_name":"getIARSLATimeLeft","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"40","sys_updated_on":"2021-10-05 16:04:56","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n\n    var portalSuffix = new sn_ex_emp_fd.FoundationNotificationUtil().getPortalSuffix();\n    var viewAllUrl = '/'+ portalSuffix +'?id=order_status&table=sc_request&sys_id=' + current.sys_id;\n    var requestUrl = '';\n    var buttonText = '';\n    if (email_action.sys_name.toString() === 'Request survey') {\n        requestUrl = event.parm2;\n        buttonText = gs.getMessage('Take the survey');\n    } else {\n        requestUrl = viewAllUrl;\n        buttonText = gs.getMessage('View request');\n    }\n    \n    //Generates primary action of view request\n    var requestNotificationJs = new global.RequestNotificationUtil();\n    requestNotificationJs.createNotificationPrimayAction(template, requestUrl, buttonText);\n    if(email_action.sys_name.toString() === 'Request survey'){\n        template.print('<div style=\"font-size: 15pt; line-height: 30px; padding-bottom: 16px;\"><span style=\"font-weight:600\">About your recent request</span></div>');\n    }\n    else {\n        template.print('<div style=\"font-size: 15pt; line-height: 30px; padding-bottom: 16px;\"><span style=\"font-weight:600\">About this request</span></div>');\n    }\n\n    //request details required for notification template\n    var requestDetails = requestNotificationJs.getRequestDetails(current.sys_id, current);\n    var requestItemPadding = '';\n    if (email_action.sys_name.toString() === 'Request completed' && !current.close_notes.nil()) {\n        var comments = current.close_notes.toString();\n        comments = comments.replace(/\\n/g, '<br/>');\n        template.print('<div> Completed by : ' + '<b style=\"font-weight:600\">' + current.closed_by.name + '</b></div>');\n        template.print('<div> Completion notes : ' + '<b style=\"font-weight:600\">' + comments + '</b></div>');\n        requestItemPadding = 'padding-top:16px;';\n    }\n    \n    if (email_action.sys_name.toString() === 'Request approved') {\n\t\tvar comment = requestNotificationJs.getRequestComment(current.sys_id, 'approved');\n\t\tif(comment){\n            template.print('<div> Approval notes : ' + '<b style=\"font-weight:600\">' + comment + '</b></div>');\n            requestItemPadding = 'padding-top:16px;';\n        }\n    }\n\tif (requestDetails.totalTasks > 1) {\n        template.print('<div style=\"font-size: 12pt;font-weight:600;'+requestItemPadding +'\">Requested items (' +  requestDetails.totalTasks + ')</div>');\n        requestItemPadding = 'padding-top:16px;';\n    }\n    requestDetails.tasks.forEach(function(task, index) {\n        var borderBottom = 'border-bottom:1px solid #DADDE2';\n        template.print('<div style=\"padding-bottom:16px;'+ requestItemPadding);\n\t\tif(requestDetails.totalTasks > requestDetails.tasks.length || (index+1 < requestDetails.tasks.length)){\n\t\t\ttemplate.print(borderBottom);\n\t\t}\n        template.print('\">');\n        template.print('Requested item number: <b style=\"font-weight:600\">' + task.requestNumber + '</b><br/>' + 'Short description: <b style=\"font-weight:600\">' + task.item + '</b><br/>');\n        template.print('</div>');\n    });\n\n    if (requestDetails.totalTasks > 3) {\n        template.print('<div style=\"padding-bottom:18px;padding-top:16px;color:#3C59E7\"><a href=\"' + viewAllUrl + '\">');\n        template.print(gs.getMessage('View all items'));\n        template.print('</a></div>');\n    }\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"dd4381d8676630105f74e8a331b730d5","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3028ab3304f12210559073c06a02f7b7","value":"3028ab3304f12210559073c06a02f7b7"},"sys_update_name":"sys_script_email_dd4381d8676630105f74e8a331b730d5","sys_updated_by":"admin","sys_created_on":"2021-09-08 05:56:52","name":"About_The_Request_Req_Survey_Req_Completed","sys_name":"About_The_Request_Req_Survey_Req_Completed","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"2","sys_updated_on":"2013-10-30 20:28:21","sys_tags":"","script":"var msgUtil = new LiveMsgUtil(current); \n\n//get links\nif (current.has_links) {\n    template.print(\"<br />\"); //blank line\n    template.print(\"Links:<br />\");\n    var links = msgUtil.getLinks();\n    for (var i = 0; i < links.length; i++) {\n        var url = links[i].url;\n        var text = links[i].text;\n        var htmlLink = '<a href=\"' + url + '\">' + text + '</a>';\n        template.print(htmlLink);\n        template.print(\"<br />\");\n    }\n}\n\nif (!current.reply_to.nil()) {\n   template.print(\"<br />... to message:<br />\");\n   var replyToMsg = msgUtil.getReplyToMsgWithName();   \n   template.print(replyToMsg);\n   template.print(\"<br />\");\n}\n\nif (!current.in_reply_to.nil()) {\n    template.print(\"<br />\");\n    template.print(\"... in the thread:<br />\");\n    var baseMsg = msgUtil.getBaseMsgWithName();\n    template.print(baseMsg);\n}","sys_class_name":"sys_script_email","sys_id":"de5a9411eb020100d4360c505206fe59","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/50442b7b04312210559073c06a02f7ef","value":"50442b7b04312210559073c06a02f7ef"},"sys_update_name":"sys_script_email_de5a9411eb020100d4360c505206fe59","sys_updated_by":"maint","sys_created_on":"2013-06-17 17:57:57","name":"live_feed_message_and_reply_to_links","sys_name":"live_feed_message_and_reply_to_links","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"maint","sys_policy":""},{"sys_mod_count":"0","sys_updated_on":"2015-04-30 05:49:04","sys_tags":"","script":"var knowledgeUtil = new global.GlobalKnowledgeUtil();\nvar userId = knowledgeUtil.getSessionProfile();\nvar userDetails = knowledgeUtil.getProfileDetails(userId);\ntemplate.print(userDetails.name + ' has accepted the answer:');","sys_class_name":"sys_script_email","sys_id":"de8ef1a0c33331006f333b0ac3d3ae2c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/11722b01473231007f47563dbb9a7154","value":"11722b01473231007f47563dbb9a7154"},"sys_update_name":"sys_script_email_de8ef1a0c33331006f333b0ac3d3ae2c","sys_updated_by":"admin","sys_created_on":"2015-04-30 05:49:04","name":"socialqa_answer_accepted","sys_name":"socialqa_answer_accepted","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/11722b01473231007f47563dbb9a7154","value":"11722b01473231007f47563dbb9a7154"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"0","sys_updated_on":"2016-08-15 14:15:54","sys_tags":"","script":"var log = new GSLog(\"com.snc.on_call_rotation.log.level\", \"formatted_schedule_report_email\");\nlog.debug(\"[formatted_schedule_report_email] event.parm2: \" + event.parm2);\nvar gr = new GlideRecord(\"v_formatted_schedule_report\");\ngr.get(event.parm2);\nvar html = gr.getValue(\"html_report\");\nif (!JSUtil.nil(html))\n    template.print(html);","sys_class_name":"sys_script_email","sys_id":"dedb6330d7512200f2d224837e610336","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_script_email_dedb6330d7512200f2d224837e610336","sys_updated_by":"admin","sys_created_on":"2016-08-15 14:15:54","name":"formatted_schedule_report_email","sys_name":"formatted_schedule_report_email","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"3","sys_updated_on":"2014-07-10 10:58:15","sys_tags":"","script":"  template.print(\"Summary of Requested items:<br />\");  \n  var item = new GlideRecord(\"sc_req_item\");\n  item.addQuery(\"request\", current.sysapproval);\n  item.query();\n  while(item.next()) {\n      template.print(item.number + \":  \" + item.quantity + \" X \" + item.cat_item.getDisplayValue() + \" at \" + item.cat_item.price.getDisplayValue() + \" each <br />\");\n      template.print(\"    Options:<br />\");\n      var keys = [];\n      var set = new GlideappVariablePoolQuestionSet();\t\n      set.setRequestID(item.sys_id);\n      set.load();\n      var vs = set.getFlatQuestions();\n      for (var i=0; i < vs.size(); i++) {\n        if(vs.get(i).getLabel() != '') {\n           template.space(4);\n           template.print('     ' +  vs.get(i).getLabel() + \" = \" + vs.get(i).getDisplayValue() + \"<br />\");  \n        }\n      }\n  }\n","sys_class_name":"sys_script_email","sys_id":"df0d2dc3972011005aa4390ddd2975c7","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8093a3f304312210559073c06a02f7f2","value":"8093a3f304312210559073c06a02f7f2"},"sys_update_name":"sys_script_email_df0d2dc3972011005aa4390ddd2975c7","sys_updated_by":"admin","sys_created_on":"2013-10-25 17:05:23","name":"requested_items_summary_with_options","sys_name":"requested_items_summary_with_options","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"system","sys_policy":""},{"sys_mod_count":"0","sys_updated_on":"2018-02-14 17:05:12","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n\tvar emailMessage = \"\";\n\tvar chgSocName = \"\";\n\tvar data = JSON.parse(event.parm2);\n\tif (data) {\n\t\temailMessage = data.message || \"\";\n\t\tchgSocName = data.chgSocName || \"\";\n\t}\n\temail.setSubject(gs.getMessage(\"{0} change schedule has been shared with you\", chgSocName));\n\temail.setBody(emailMessage);\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"df89d29957501300532c3da73d94f9cd","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_update_name":"sys_script_email_df89d29957501300532c3da73d94f9cd","sys_updated_by":"admin","sys_created_on":"2018-02-14 17:05:12","name":"socShareInvitationScript","sys_name":"socShareInvitationScript","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"10","sys_updated_on":"2019-08-21 10:06:26","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n    var obj = new JSON().decode(event.parm2);\n\tvar article_link = new KBCommon().getArticleLink(obj.sys_id);\n\temail.setSubject(\"Reg: Article \"+obj.number+\" has been revised\");\n    template.print(\"Hi  \"+obj.receiver+\",<br/>\");\n\ttemplate.print(\"<br/>\");\n\ttemplate.print(\"A new version of \");\n\ttemplate.print(\"<a href='\"+article_link+ \"'>\"+obj.number+\"</a> ( \"+ obj.short_desc +\" )\");\n\ttemplate.print(\" has been published on \"+obj.updated_on+\".<br/>\");\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"e088222d67603200d358bb2d07415af0","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/67dc6bfb04352210559073c06a02f738","value":"67dc6bfb04352210559073c06a02f738"},"sys_update_name":"sys_script_email_e088222d67603200d358bb2d07415af0","sys_updated_by":"admin","sys_created_on":"2017-01-26 07:20:22","name":"Notification: Article revised","sys_name":"Notification: Article revised","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"1","sys_updated_on":"2016-04-12 14:20:48","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n          var link = gs.getProperty('glide.servlet.uri') + \"$dashboards.do?sysparm_dashboard=\" + current.sys_id;\n          var anchor = \"<a href='\" + link +\"'>\" + \"View dashboard\" + \"</a>\";\n          template.print(anchor + \"<br />\");\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"e1aa73609f32120053055ce2d57fcfdb","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/411bab3304352210559073c06a02f767","value":"411bab3304352210559073c06a02f767"},"sys_update_name":"sys_script_email_e1aa73609f32120053055ce2d57fcfdb","sys_updated_by":"admin","sys_created_on":"2016-04-12 14:07:19","name":"dashboard_link","sys_name":"dashboard_link","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"3","sys_updated_on":"2018-03-06 08:14:14","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n\tvar businessElapsedPerc = Math.round(current.business_percentage - 0);\n\ttemplate.print(businessElapsedPerc + \"%\");\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"e1ea9063cb601300dff9b9c0c24c9c4e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d19e7b704f12210559073c06a02f7da","value":"5d19e7b704f12210559073c06a02f7da"},"sys_update_name":"sys_script_email_e1ea9063cb601300dff9b9c0c24c9c4e","sys_updated_by":"admin","sys_created_on":"2018-03-05 18:13:30","name":"sla.nf.business_perc.zero","sys_name":"sla.nf.business_perc.zero","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"15","sys_updated_on":"2018-03-21 06:35:59","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\t\n\tvar portal = gs.getProperty(\"sn_km_portal.glide.knowman.serviceportal.portal_url\",'kb');\n\t\n    template.print(\"Hi \"+current.assigned_to.first_name+\",<br/>\");\n\ttemplate.print(\"<br/>\");\n\ttemplate.print(\"A new update was received to a feedback \");\n\ttemplate.print(\"<a href='\"+gs.getProperty('glide.servlet.uri')+ \"kb_feedback_task.do?sys_id=\"+\tcurrent.sys_id + \"'>\"+ current.number +\"</a>\");\n\ttemplate.print(\" you are handling:<br/><br/>\");\n\ttemplate.print(\"Comments: ${comments}\");\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"e3334b2e67001300d358bb2d07415afe","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2fe727ff04b12210559073c06a02f7dd","value":"2fe727ff04b12210559073c06a02f7dd"},"sys_update_name":"sys_script_email_e3334b2e67001300d358bb2d07415afe","sys_updated_by":"admin","sys_created_on":"2018-02-06 07:02:51","name":"Notification: Feedback Task Submitter Updated","sys_name":"Notification: Feedback Task Submitter Updated","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"8","sys_updated_on":"2014-10-08 21:27:46","sys_tags":"","script":"var option = new GlideRecord('live_poll_option');\noption.addQuery('poll', current.sys_id);\noption.orderBy('order');\noption.query();\ntemplate.print('<p><span style=\"font-size: 14pt;\">Result</span></p>');\nwhile(option.next()) {\n\ttemplate.print('<b>' + option.name + '</b>: ');\n\ttemplate.print((option.cast_count * 100/current.cast_count).toFixed(1) + '% (' + option.cast_count + ' vote(s))');\n\ttemplate.print('<br/>');\n}\ntemplate.print('<br/>');\nvar msg = new GlideRecord('live_message');\nmsg.addQuery('poll', current.sys_id);\nmsg.query();\nif(msg.next()){\n\ttemplate.print('<a href=\"/nav_to.do?uri=live_feed_launcher.do?sysparm_feed_type=msg_feed%26sysparm_msg_id=' + msg.sys_id + '\">View Poll</a>');\n}","sys_class_name":"sys_script_email","sys_id":"e396fb62472321007f47563dbb9a7164","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e7e727ff04b12210559073c06a02f7de","value":"e7e727ff04b12210559073c06a02f7de"},"sys_update_name":"sys_script_email_e396fb62472321007f47563dbb9a7164","sys_updated_by":"admin","sys_created_on":"2014-10-07 14:01:25","name":"live_feed_poll_result","sys_name":"live_feed_poll_result","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"7","sys_updated_on":"2023-03-17 19:06:37","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\t\t\n\ttemplate.print(global.AutoResolutionUtil.getViewRecommendationsLink(current.sys_class_name, current.sys_id));\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"e40cf5c6ffe10110635f056d793bf1e0","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca4f3f704b52210559073c06a02f789","value":"aca4f3f704b52210559073c06a02f789"},"sys_update_name":"sys_script_email_e40cf5c6ffe10110635f056d793bf1e0","sys_updated_by":"admin","sys_created_on":"2022-02-09 23:28:38","name":"getIARViewRecommendationsLink","sys_name":"getIARViewRecommendationsLink","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"1","sys_updated_on":"2024-05-10 17:12:08","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template, /* Optional EmailOutbound */\n    email) {\n    var appName = current.variables.application_name;\n    var developmentInstanceSysID = current.variables.development_instance;\n\n    var gr_pipeline_environment = new GlideRecord(\"sn_pipeline_environment\");\n    gr_pipeline_environment.get(developmentInstanceSysID);\n    var devEnvURL = gr_pipeline_environment.getValue('instance_url');\n\n    var approvalEmail = new AppIntakeApprovalEmail();\n    email.setSubject(approvalEmail.getEmailSubject());\n    template.print(approvalEmail.getApprovedEmailMessage(current.opened_by.getRefRecord().getValue(\"name\"), appName, devEnvURL));\n\n})(current, template, email);","sys_class_name":"sys_script_email","sys_id":"e43adff99f82ce100f8b65b23b0a1cb6","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3d3c2505c3e22010b83971e54440dd75","value":"3d3c2505c3e22010b83971e54440dd75"},"sys_update_name":"sys_script_email_e43adff99f82ce100f8b65b23b0a1cb6","sys_updated_by":"admin","sys_created_on":"2024-05-09 16:59:08","name":"get_app_intake_message_to_requestor_approved","sys_name":"get_app_intake_message_to_requestor_approved","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3d3c2505c3e22010b83971e54440dd75","value":"3d3c2505c3e22010b83971e54440dd75"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"2","sys_updated_on":"2016-07-22 12:38:10","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n\tcurrent.invite_sent = true;\n\tcurrent.update();\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"e4b6cbc1eb3022002a7a666cd206feae","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_update_name":"sys_script_email_e4b6cbc1eb3022002a7a666cd206feae","sys_updated_by":"admin","sys_created_on":"2016-07-22 09:44:23","name":"cab.meeting.attendee.set_invite_sent","sys_name":"cab.meeting.attendee.set_invite_sent","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"6","sys_updated_on":"2016-07-29 14:24:34","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n\tif (current.getTableName() != CAB.ATTENDEE)\n\t\treturn;\n\t\n\tif (!current.attending_for_tasks.nil())\n\t\ttemplate.print(\"You will be expected to discuss the following Change Requests as you are either the Assigned to user or the CAB Delegate: \" + current.attending_for_tasks.getDisplayValue() + \".\");\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"e5276844eb3022002a7a666cd206fe9a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_update_name":"sys_script_email_e5276844eb3022002a7a666cd206fe9a","sys_updated_by":"admin","sys_created_on":"2016-07-18 19:31:30","name":"cab.meeting.attendee.get_tasks","sys_name":"cab.meeting.attendee.get_tasks","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"17","sys_updated_on":"2019-08-20 08:33:23","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\tvar obj = new JSON().decode(event.parm2);\n\tvar article_link = new KBCommon().getArticleLink(obj.sys_id);\n\temail.setSubject(\"Reg: Article \"+obj.number+ \" has been checked out for revision by \"+obj.revised_by);\n    template.print(\"Hi  \"+obj.receiver+\",<br/>\");\n\ttemplate.print(\"<br/>\");\n\ttemplate.print(\"An article that you have created/updated in the past has been checked out for revision.<br/>\");\n\ttemplate.print(\"<br/>\");\n\ttemplate.print(\"<b>Article Number</b>: <a href='\"+article_link+ \"'>\"+obj.number+\"</a><br/>\");\n\ttemplate.print(\"<b>Article Title</b>: \"+obj.short_desc+\"<br/>\");\n\ttemplate.print(\"<b>Current Published Version</b>: \"+obj.latest_version+\"<br/>\");\n\ttemplate.print(\"<b>Checked Out By</b>: \"+obj.revised_by+\"<br/>\");\n\ttemplate.print(\"<b>Checked Out On</b>: \"+obj.created_on+\"<br/>\");\n\ttemplate.print(\"<br/>\");\n\ttemplate.print(\"This notification is for information purposes only. No action is required from you at this time.<br/>\");\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"e6295e5d67203200d358bb2d07415ac4","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/67dc6bfb04352210559073c06a02f738","value":"67dc6bfb04352210559073c06a02f738"},"sys_update_name":"sys_script_email_e6295e5d67203200d358bb2d07415ac4","sys_updated_by":"admin","sys_created_on":"2017-01-25 10:57:27","name":"Notification: Article checkedout","sys_name":"Notification: Article checkedout","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"10","sys_updated_on":"2024-07-12 11:45:42","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n    const creatorStudioEmail = new CreatorStudioEmailScript();\n    const viewTaskMessage = gs.getMessage(\"View task\");\n    creatorStudioEmail.addHeading(gs.getMessage(\"Youll need to manually add the requesters instance\"));\n    creatorStudioEmail.addText(gs.getMessage(\"Hi {0},\", current.getDisplayValue(\"assignment_group\")), false);\n    creatorStudioEmail.addText(gs.getMessage(\"You recently received a request to create a new app in Creator Studio.\"), false);\n    creatorStudioEmail.addInfo(gs.getMessage(\"Request\"), current.getDisplayValue(\"number\"));\n    creatorStudioEmail.addInfo(gs.getMessage(\"Person requesting app\"), current.getDisplayValue(\"requestor_name\"));\n    creatorStudioEmail.addInfo(gs.getMessage(\"App name\"), current.getDisplayValue(\"short_description\"));\n    creatorStudioEmail.addText(gs.getMessage(\"However, you dont have access to the instance of the person who submitted the request. Youll need to manually add their instance to the sn_pipeline_environment table to approve this request.\"), false);\n    const aemcService = new AEMCService();\n    if (aemcService.aemcInstalled()) {\n        creatorStudioEmail.addButton(viewTaskMessage, aemcService.aemcTasksUrl(current));\n    } else {\n        creatorStudioEmail.addButton(viewTaskMessage, creatorStudioEmail.getTasksUrl(current));\n    }\n    template.print(creatorStudioEmail.getBody());\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"e677b9b8eba002107dcf7bd6c15228fd","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/81ac5fe1c7442110408bc8d6f2c260d1","value":"81ac5fe1c7442110408bc8d6f2c260d1"},"sys_update_name":"sys_script_email_e677b9b8eba002107dcf7bd6c15228fd","sys_updated_by":"admin","sys_created_on":"2024-02-21 17:36:52","name":"request_origin_error","sys_name":"request_origin_error","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/81ac5fe1c7442110408bc8d6f2c260d1","value":"81ac5fe1c7442110408bc8d6f2c260d1"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"0","sys_updated_on":"2015-04-27 10:01:12","sys_tags":"","script":"if(current.up_vote)\n\ttemplate.print('up-voted');\nelse\n\ttemplate.print('down-voted');","sys_class_name":"sys_script_email","sys_id":"e69c5befc32331006f333b0ac3d3aeae","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/11722b01473231007f47563dbb9a7154","value":"11722b01473231007f47563dbb9a7154"},"sys_update_name":"sys_script_email_e69c5befc32331006f333b0ac3d3aeae","sys_updated_by":"admin","sys_created_on":"2015-04-27 10:01:12","name":"socialqa_voted","sys_name":"socialqa_voted","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/11722b01473231007f47563dbb9a7154","value":"11722b01473231007f47563dbb9a7154"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"44","sys_updated_on":"2015-01-14 20:22:04","sys_tags":"","script":"(function() {\n    var searchRequest = cxs_App.getActions(\"cxs_TableActions\", current).getEmailSearchRequest(email_action);\n    if (!searchRequest || searchRequest == null || !searchRequest.query.freetext || !searchRequest.meta.get(\"runAsUser\"))\n        return;\n\n    var imp = new GlideImpersonate();\n    var previousUserId = imp.impersonate(searchRequest.meta.get(\"runAsUser\"));\n    var searchResponse = SNC.SearchService.search(searchRequest);\n    var searchResponseObj = new JSON().decode(searchResponse.toJSON());\n    \n    template.print(cxs_App.getActions(\"cxs_FormatResults\", searchResponseObj).usingMacro({\n        \"result_header_macro\": \"cxs_results_header_email\",\n        \"result_macro\": \"cxs_result_email\"\n    }));\n\n    if (previousUserId)\n        imp.impersonate(previousUserId);\n})()","sys_class_name":"sys_script_email","sys_id":"e77f8b01eb2121003623666cd206febf","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5209e3b704f12210559073c06a02f734","value":"5209e3b704f12210559073c06a02f734"},"sys_update_name":"sys_script_email_e77f8b01eb2121003623666cd206febf","sys_updated_by":"admin","sys_created_on":"2014-06-25 17:13:51","name":"cxs_EmailSearchResults","sys_name":"cxs_EmailSearchResults","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"10","sys_updated_on":"2023-06-14 20:22:32","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n    /**\n\t*   event - sn_cmdb_ws.attestationtask.completed\n\t*   current - cmdb_data_management_task record\n\t*   parm1 - list of data manager admins comma separated (email recipients)\n\t*   parm2 - CI count summary object\n\t**/\n\n\tvar taskId = current.sys_id;\n\tvar cisSummaryObj = event.parm2 ? JSON.parse(event.parm2) : null;\n\n\tif (taskId) {\n\t\tvar totalCICount = 0;\n\t\tvar attestedCICount = 0;\n\t\tvar rejectedCICount = 0;\n\t\t\n\t\tif (cisSummaryObj && Object.keys(cisSummaryObj).length > 0) {\n\t\t\tif (cisSummaryObj[\"totalCICount\"])\n\t\t\t\ttotalCICount = cisSummaryObj[\"totalCICount\"];\n\n\t\t\tif (cisSummaryObj[\"attestedCICount\"])\n\t\t\t\tattestedCICount = cisSummaryObj[\"attestedCICount\"];\n\n\t\t\tif (cisSummaryObj[\"rejectedCICount\"])\n\t\t\t\trejectedCICount = cisSummaryObj[\"rejectedCICount\"];\n\t\t}\n\n\t\tvar reviewGr = new GlideRecord('cmdb_data_management_task');\n\t\treviewGr.get(taskId);\n\t\t\n\t\tvar url = '<a href=\"' + gs.getProperty('glide.servlet.uri') + 'now/cmdb/attestation-task/' + taskId + '\">' + reviewGr.getValue('number') + '</a>';\n\t\ttemplate.print(gs.getMessage('Attestation task {0} was completed on \\'{1}\\' by \\'{2}\\'.<br><br>', [url, reviewGr.getDisplayValue('closed_at'), reviewGr.getDisplayValue('assigned_to')]));\n\t\ttemplate.print(gs.getMessage('Total CIs: {0}<br>', totalCICount));\n\t\ttemplate.print(gs.getMessage('Attested CIs: {0}<br>', attestedCICount));\n\t\ttemplate.print(gs.getMessage('Rejected CIs: {0}<br>', rejectedCICount));\n\n\t\treviewGr.setValue('last_notification_time', new GlideDateTime());\n\t\treviewGr.update();\n\t} else {\n\t\tgs.warn(\"CMDB attestation task completed email notification script did not receive any associated task.\");\n\t}\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"e86211545382011071b9ddeeff7b12c5","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_update_name":"sys_script_email_e86211545382011071b9ddeeff7b12c5","sys_updated_by":"maint","sys_created_on":"2022-03-01 06:37:16","name":"cmdbattestationtask.completed","sys_name":"cmdbattestationtask.completed","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"0","sys_updated_on":"2021-09-15 09:05:00","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n    template.print('<b>' + JSON.parse(event.parm1).daysRemaining + '</b>');\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"e89a1d965322301017c3ddeeff7b1273","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/421beb3304352210559073c06a02f7ef","value":"421beb3304352210559073c06a02f7ef"},"sys_update_name":"sys_script_email_e89a1d965322301017c3ddeeff7b1273","sys_updated_by":"admin","sys_created_on":"2021-09-14 12:31:05","name":"password_expiration_remaining_days_script","sys_name":"password_expiration_remaining_days_script","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"2","sys_updated_on":"2014-10-02 14:25:24","sys_tags":"","script":"var liveFeedApi = new SNC.LiveFeedApi();\n\nvar message = liveFeedApi.formatMessage(current.message, 'TEXT');\ntemplate.print(message);","sys_class_name":"sys_script_email","sys_id":"e8d49723473221007f47563dbb9a7156","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e7e727ff04b12210559073c06a02f7de","value":"e7e727ff04b12210559073c06a02f7de"},"sys_update_name":"sys_script_email_e8d49723473221007f47563dbb9a7156","sys_updated_by":"admin","sys_created_on":"2014-09-03 06:29:34","name":"live_feed_message","sys_name":"live_feed_message","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"true","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"31","sys_updated_on":"2022-03-07 04:40:30","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n/* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n/* Optional GlideRecord */ event) {\n\n\tvar requestId = current;\n\tvar portalSuffix = new sn_ex_emp_fd.FoundationNotificationUtil().getPortalSuffix();\n\tvar requestUrl = '/' + portalSuffix + '?id=order_status&table=sc_request&sys_id=' + current.sys_id.toString();\n\tvar fontSize = 'font-size: 16px;';\n\tvar lineHeight = 'line-height: 24px;';\n\tvar notificationUtil = new RequestNotificationUtil();\n\n\tvar requestDetails = notificationUtil.getRequestDetails(current.sys_id, current);\n\tvar tasks = requestDetails.tasks;\n\tvar totalTasks = requestDetails.totalTasks;\n\n\tnotificationUtil.createNotificationPrimayAction(template, requestUrl, 'View request');\n\ttemplate.print('<div style=\"font-size: 15pt; line-height:30px;\"><b>About this request</b></div>');\n\n\tvar commentLeft = notificationUtil.getRequestComment(current.sys_id, current.approval);\n\tif (commentLeft) {\n\t\ttemplate.print('<div style=\"padding-top: 16px; ' + fontSize + lineHeight + '\"><span>Rejection notes: </span>' + '<span style=\"font-weight: 600;\">' + commentLeft + '</span></div>');\n\t}\n\tif (requestDetails.totalTasks > 1) {\n\t\ttemplate.print('<div style=\"font-size: 15pt;padding-top:16px;font-weight:600;\">Requested items (' + requestDetails.totalTasks + ')</div>');\n\t}\n\ttasks.forEach(function (task, index) {\n\t\tvar borderBottom = 'border-bottom:1px solid #DADDE2';\n\t\ttemplate.print('<div style=\"padding-top:16px;padding-bottom:16px;');\n\t\tif (requestDetails.totalTasks > requestDetails.tasks.length || (index + 1 < requestDetails.tasks.length)) {\n\t\t\ttemplate.print(borderBottom);\n\t\t}\n\t\ttemplate.print('\">');\n\t\ttemplate.print('<div style=\"' + fontSize + lineHeight + '\"><span>Requested item number:</span> <span style=\"font-weight: 600;\">' + task.requestNumber + '</span></div>');\n\t\ttemplate.print('<div style=\"' + fontSize + lineHeight + '\"><span>Short description: </span><span style=\"font-weight: 600;\">' + task.item + '</span></div>');\n\t\ttemplate.print('</div>');\n\t});\n\n\tif (totalTasks > 3) {\n\t\ttemplate.print('<div style=\"' + fontSize + lineHeight + 'padding-top:16px; padding-bottom:16px;\"><a style=\"color:#3C59E7\" href=\"' + requestUrl + '\">');\n\t\ttemplate.print(gs.getMessage('View all items'));\n\t\ttemplate.print('</a></div>');\n\t}\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"e979d3c777223010f088a0e89e5a992d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3028ab3304f12210559073c06a02f7b7","value":"3028ab3304f12210559073c06a02f7b7"},"sys_update_name":"sys_script_email_e979d3c777223010f088a0e89e5a992d","sys_updated_by":"admin","sys_created_on":"2021-09-17 05:41:12","name":"request_rejected","sys_name":"request_rejected","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"7","sys_updated_on":"2018-03-07 15:33:01","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n\tvar user = GlideUser.getUserByID(event.parm1);\n\tif (user.exists())\n\t\ttemplate.print(gs.getMessage(\"Hello {0},\", user.getDisplayName()));\n\telse\n\t\ttemplate.print(gs.getMessage(\"Hello,\"));\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"ea7be76bcb601300dff9b9c0c24c9c4e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d19e7b704f12210559073c06a02f7da","value":"5d19e7b704f12210559073c06a02f7da"},"sys_update_name":"sys_script_email_ea7be76bcb601300dff9b9c0c24c9c4e","sys_updated_by":"admin","sys_created_on":"2018-03-06 09:03:57","name":"sla.salutation.event_parm1","sys_name":"sla.salutation.event_parm1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"12","sys_updated_on":"2021-12-10 10:18:57","sys_tags":"","script":"(function runMailScript(current, template, email, email_action, event) {\n\n    var eventParameters = event.parm1 ? JSON.parse(event.parm1) : \"\";\n\n    var recipient = eventParameters? eventParameters.firstName : '';\n    var profileCount = eventParameters? eventParameters.count : 0;\n    var profileUrl = gs.getProperty('glide.servlet.uri') + \"sn_employee_profile_list.do\";\n    var profileUrlTxt = \"<a href='\" + profileUrl + \"'>\" + \"view all employee profile records\" + \"</a>\";\n\n    template.print(gs.getMessage(\"Dear {0},\", recipient));\n    template.print(\"<br/><br/>\");\n    template.print(gs.getMessage(\"We've finished creating {0} employee profiles for your organization. You can now {1} within the Employee Profile table.\", [profileCount, profileUrlTxt]));\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"ec24e856075c01108d6d78e99cd300b8","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1e95bac2738f001001b566b90ff6a7cd","value":"1e95bac2738f001001b566b90ff6a7cd"},"sys_update_name":"sys_script_email_ec24e856075c01108d6d78e99cd300b8","sys_updated_by":"admin","sys_created_on":"2021-12-10 08:37:30","name":"generate_employee_profiles","sys_name":"generate_employee_profiles","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1e95bac2738f001001b566b90ff6a7cd","value":"1e95bac2738f001001b566b90ff6a7cd"},"new_lines_to_html":"true","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"13","sys_updated_on":"2021-12-16 19:15:48","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n\n    var appName = current.getDisplayValue(\"app_name\");\n    var inviteeName = current.getDisplayValue(\"group_invitee_name\") || current.getDisplayValue(\"invitee_name\");\n    var env = current.originating_environment.getRefRecord();\n    var collabRequestEmail = new CollabRequestEmailScript();\n    collabRequestEmail.addHeading(gs.getMessage(\"A collaborator request has failed\"));\n    collabRequestEmail.addText(gs.getMessage(\"Hi, App Engine Admin\"));\n    if (env.sys_id) {\n        var envName = env.getDisplayValue('name');\n        collabRequestEmail.addText(gs.getMessage(\"The request failed for adding {0} as a collaborator to the app on {1}, {2}.\", [inviteeName, envName, appName]), true);\n    } else {\n        collabRequestEmail.addText(gs.getMessage(\"The request failed for adding {0} as a collaborator to the app, {1}.\", [inviteeName, appName]), true);\n    }\n\n    collabRequestEmail.addText(gs.getMessage(\"For additional information, contact your admin.\"));\n\n    email.setSubject(gs.getMessage(\"Your collaborator request failed\"));\n    template.print(collabRequestEmail.getBody());\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"ecd701589b6401100290af417ef04b21","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"sys_update_name":"sys_script_email_ecd701589b6401100290af417ef04b21","sys_updated_by":"maint","sys_created_on":"2021-12-16 16:18:09","name":"get_dev_collab_task_failed_email","sys_name":"get_dev_collab_task_failed_email","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"new_lines_to_html":"false","sys_created_by":"maint","sys_policy":"read"},{"sys_mod_count":"30","sys_updated_on":"2019-02-26 17:40:23","sys_tags":"","script":"var messageDetails = new LiveMessageUtils().getMessageDetails(event.parm2);\n\nif(messageDetails.length > 0) {\n\ttemplate.print(\"<table id='messages' style='margin-top: 15px; width: 100%; margin: 0 auto; border-collapse: collapse; mso-table-lspace: 0;'>\");\n\tvar lastUser = false;\n\t\n\tvar mentionRegex = new RegExp(\"@\\\\[[a-z0-9]{32}:([^\\\\]]+?)\\\\]\", \"g\");\n\t\n\tmessageDetails.forEach(function (messageDetail) {\n\t\t\n\t\tvar formattedMessage = messageDetail.message;\n\t\tformattedMessage = formattedMessage.replace(mentionRegex, \"@$1\");\n\n\t\tformattedMessage = new ConnectEmojiEncoder().encode(formattedMessage);\n\n\t\tif(lastUser && lastUser !== messageDetail.profileID) {\n\t\t   template.print(\"<tr class='message-spacing'><td colspan='2' style='padding: 5px 0 10px;border-collapse: collapse'/></tr>\");\n\t\t}\n\t\t\n\t\tif(!lastUser || lastUser !== messageDetail.profileID) {\n\t\t\ttemplate.print(\"<tr><td valign='top' style='width: 100%;font-weight: bold;padding: 0 0 10px;border-collapse: collapse'>\" + messageDetail.profile + \"</td></tr>\");\n\t\t}\n\t\ttemplate.print(\"<tr class='message-row'><td valign='top' class='message' style='padding: 0 0 10px;border-collapse: collapse;width: 100%;'>\" + formattedMessage + \"</td>\");\n\n\t\tlastUser = messageDetail.profileID;\n\t});\n\ttemplate.print(\"</table>\");\n}","sys_class_name":"sys_script_email","sys_id":"ed4d83849f232100d5f9b3e2957fcf2d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d4442b7b04312210559073c06a02f7ee","value":"d4442b7b04312210559073c06a02f7ee"},"sys_update_name":"sys_script_email_ed4d83849f232100d5f9b3e2957fcf2d","sys_updated_by":"admin","sys_created_on":"2014-09-29 15:54:24","name":"collaboration_message_parser","sys_name":"collaboration_message_parser","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"1","sys_updated_on":"2018-11-13 23:50:11","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\tvar approvers = new GlideRecord('sysapproval_approver');\n\tapprovers.addNotNullQuery('approver');\n\tapprovers.addQuery('approver', '!=', current.approver);\n\tif (!gs.nil(current.getValue(\"sysapproval\"))) {\n\t\tapprovers.addQuery('sysapproval', current.sysapproval);\n\t}\n\tapprovers.addQuery('document_id', current.document_id);\t\n\tapprovers.addQuery('state', 'IN', 'approved,rejected,requested');\n\tapprovers.orderBy('approver');\n\tapprovers.query();\n\tvar limit = 20; \n\tapprovers.setLimit(limit);\n\tif (approvers.getRowCount() > 0) {\n\t\twhile (approvers.next()) {\n\t\t\ttemplate.print(approvers.approver.getDisplayValue() + ' - ' + approvers.state.getDisplayValue() + '<br/>');\n\t\t}\n\t\tif (approvers.getRowCount() > limit) {\n\t\t\ttemplate.print('Additional approvers are available and require viewing the record.<br/>');\n\t\t}\n\t} else {\n\t\ttemplate.print('You are the sole approver.<br/>');\n\t}\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"edaf1c4967f12300312987cb5685efe8","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1a3927f704f12210559073c06a02f7be","value":"1a3927f704f12210559073c06a02f7be"},"sys_update_name":"sys_script_email_edaf1c4967f12300312987cb5685efe8","sys_updated_by":"admin","sys_created_on":"2018-11-13 23:19:46","name":"approval_activity_contract","sys_name":"approval_activity_contract","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"7","sys_updated_on":"2018-02-22 19:46:44","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\tvar portal = gs.getProperty(\"sn_km_portal.glide.knowman.serviceportal.portal_url\",'kb');\n\t\n    template.print(\"Hi \"+event.parm2+\",<br/>\");\n\ttemplate.print(\"<br/>\");\n\ttemplate.print(\"The resolution proposed for feedback \");\n\ttemplate.print(\"<a href='\"+gs.getProperty('glide.servlet.uri')+ \"kb_feedback_task.do?sys_id=\"+\tcurrent.sys_id + \"'>\"+ current.number +\"</a>\");\n\ttemplate.print(\" was accepted by \"+ current.opened_by.getDisplayValue() +\"<br/>\");\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"edd061d667001300d358bb2d07415a2b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2fe727ff04b12210559073c06a02f7dd","value":"2fe727ff04b12210559073c06a02f7dd"},"sys_update_name":"sys_script_email_edd061d667001300d358bb2d07415a2b","sys_updated_by":"admin","sys_created_on":"2018-02-05 05:14:24","name":"Notification: Feedback Task Resolution Accepted","sys_name":"Notification: Feedback Task Resolution Accepted","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"0","sys_updated_on":"2024-09-26 10:51:21","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n\n    var notificationUtil = new IncidentNotificationUtil();\n    var worknote = notificationUtil.getLatestCommentOrWorkNotes(current.getTableName(), current.getUniqueValue(), 'work_notes');\n    template.print('<div style=\"text-align: center; line-height: 36px; padding-bottom: 24px; border-bottom: 1px solid #DADDE2;\"><span style=\"font-size: 24px; font-weight: 600; color: #181A1f;\">' + worknote.user + ' added work notes to incident task</span></div>');\n    template.print('<div style=\"font-size: 16px; padding-top: 24px; padding-bottom: 16px; color: #181A1F\"><span style=\"font-weight: 700;\">' + worknote.user + ' </span>');\n    template.print('<span style=\"font-weight: 400;\">left work notes on </span>');\n    template.print('<span style=\"font-weight: 700;\">${number}:</span></div>');\n    template.print('<span style=\"font-weight: 600;color: #181A1F\">\"' + worknote.val + '\"</span>');\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"f055473643f8521062b11febb7b8f28f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9eb76f7f04b12210559073c06a02f78a","value":"9eb76f7f04b12210559073c06a02f78a"},"sys_update_name":"sys_script_email_f055473643f8521062b11febb7b8f28f","sys_updated_by":"admin","sys_created_on":"2024-09-26 10:51:21","name":"incident_task_latest_worknote","sys_name":"incident_task_latest_worknote","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"8","sys_updated_on":"2024-07-12 11:45:15","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n    var creatorStudioEmail = new CreatorStudioEmailScript();\n    creatorStudioEmail.addHeading(gs.getMessage(\"{0} was closed because it was rejected\", current.getDisplayValue(\"number\")), false);\n    creatorStudioEmail.addText(gs.getMessage(\"Hi {0},\", current.getDisplayValue(\"requestor_name\")), false);\n    creatorStudioEmail.addText(gs.getMessage(\"The request you submitted has been rejected.\"), false);\n    creatorStudioEmail.addInfo(gs.getMessage(\"Request\"), current.getDisplayValue(\"number\"));\n    creatorStudioEmail.addInfo(gs.getMessage(\"Submitted on\"), current.getDisplayValue(\"opened_at\"));\n    creatorStudioEmail.addText(gs.getMessage(\"Contact your admin if you have any questions about why this request was rejected.\"), false);\n    creatorStudioEmail.addFooter(gs.getMessage(\"You are receiving this email because you submitted a request.\"));\n    template.print(creatorStudioEmail.getBody());\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"f1c6f87eebec02107dcf7bd6c15228cd","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/81ac5fe1c7442110408bc8d6f2c260d1","value":"81ac5fe1c7442110408bc8d6f2c260d1"},"sys_update_name":"sys_script_email_f1c6f87eebec02107dcf7bd6c15228cd","sys_updated_by":"admin","sys_created_on":"2024-02-27 18:01:48","name":"request_approval_rejected","sys_name":"request_approval_rejected","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/81ac5fe1c7442110408bc8d6f2c260d1","value":"81ac5fe1c7442110408bc8d6f2c260d1"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":"read"},{"sys_mod_count":"27","sys_updated_on":"2024-04-12 06:54:05","sys_tags":"","script":"(function runMailScript(current, template, email, email_action, event) {\n    var link = new EmailNotificationRedirection().getLink(current.getTableName(), current.getUniqueValue());\n    if (email_action.name != \"Incident Resolved\") {\n        template.print('<span style=\"font-size: 16px; color:#181A1F;\">');\n        template.print(gs.getMessage('You can view the incident to track updates and make changes.'));\n        template.print('</span>');\n    } else {\n        template.print('<p><font size=\"16px\" color=\"#181A1F;\" face=\"Lato\">');\n        template.print(gs.getMessage('If you feel the issue is not resolved, please click the following link and reopen your incident:'));\n        template.print('</font></p>');\n    }\n\n    var backgroundColor = 'background-color: #4F52BD;';\n    var border = 'border: 1px solid #4F52BD;';\n    var color = 'color: #ffffff;';\n    var fontSize = 'font-size: 16px;';\n    var textDecoration = 'text-decoration: none; border-radius: 4px;';\n    var webKitBorder = '-webkit-border-radius: 4px;';\n    var mozBorder = '-moz-border-radius: 4px;';\n    var display = 'display: inline-block;';\n    var padding = 'padding: 6px 16px;';\n    var margin = 'margin-top:16px;';\n\n\n    if (email_action.name == \"Incident Survey\") {\n        color = 'color: #343d47;';\n        backgroundColor = 'background-color: #e6e8ea;';\n        border = 'border: 1px solid #bdc0c4;';\n    }\n    template.print('<br><a href=\"' + link + '\"');\n    template.print('style=\"' + backgroundColor + border + color + fontSize + textDecoration + webKitBorder + mozBorder + display + padding + margin);\n    template.print('\">');\n    template.print(gs.getMessage('View incident'));\n    template.print('</a>');\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"f25bc270d711120035ae23c7ce610323","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9eb76f7f04b12210559073c06a02f78a","value":"9eb76f7f04b12210559073c06a02f78a"},"sys_update_name":"sys_script_email_f25bc270d711120035ae23c7ce610323","sys_updated_by":"admin","sys_created_on":"2016-01-29 11:06:47","name":"incident_take_me_to_the_incident","sys_name":"incident_take_me_to_the_incident","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"17","sys_updated_on":"2024-04-16 04:29:15","sys_tags":"","script":"(function runMailScript(current, template, email, email_action, event) {\n\n    template.print('<div style=\"font-size: 20px; padding-bottom: 16px; line-height: 30px;\"><span style=\"font-weight:600;\">About this incident</span></div>');\n    template.print('<div style=\"font-size: 16px;\"><span style=\"font-weight: 400;\">' + gs.getMessage('Short description: ') + '</span>');\n    template.print('<span style=\"font-weight: 600;\">' + gs.getMessage('${short_description}') + '</span></div>');\n    template.print('<div style=\"font size:16px; color:#161B1C; face-family:lato\";><span style=\" font-weight:400;\" >' + gs.getMessage('Caller: ') + '</span>');\n    template.print('<span style=\"font-weight: 600;\">' + gs.getMessage('${caller_id}') + '</span><br>');\n    template.print('<span style=\" font-weight:400;\" >' + gs.getMessage('Category: ') + '</span>');\n    template.print('<span style=\"font-weight: 600;\">' + gs.getMessage('${category}') + '</span><br>');\n    template.print('<span style=\" font-weight:400;\" >' + gs.getMessage('Urgency: ') + '</span>');\n    template.print('<span style=\"font-weight: 600;\">' + gs.getMessage('${urgency}') + '</span><br>');\n    template.print('<span style=\" font-weight:400;\" >' + gs.getMessage('Priority: ') + '</span>');\n    template.print('<span style=\"font-weight: 600;\">' + gs.getMessage('${priority}') + '</span><br></div');\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"f2df02b0d711120035ae23c7ce6103a0","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9eb76f7f04b12210559073c06a02f78a","value":"9eb76f7f04b12210559073c06a02f78a"},"sys_update_name":"sys_script_email_f2df02b0d711120035ae23c7ce6103a0","sys_updated_by":"admin","sys_created_on":"2016-01-29 11:22:50","name":"incident_additional_details","sys_name":"incident_additional_details","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"12","sys_updated_on":"2024-04-15 16:23:46","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n    var inc = current.task_id ? current.task_id.getRefRecord() : current;\n    if (!inc.isValidRecord()) return;\n\n    var portalSuffix = new sn_ex_emp_fd.FoundationNotificationUtil().getPortalSuffix();\n    var link = '/' + portalSuffix + '?id=ticket&table=incident&sys_id=' + inc.sys_id;\n    var message = 'View incident';\n\n    if (email_action.sys_name.toString() === 'Incident Survey') {\n        link = event.parm2;\n        message = 'Take the survey';\n    } else if (email_action.sys_name.toString() === 'Comment left on incident')\n        message = 'View incident';\n\n    var backgroundColor = 'background-color: #4F52BD;';\n    var color = 'color: #ffffff;';\n    var fontSize = 'font-size: 16px;';\n    var textDecoration = 'text-decoration: none; border-radius: 4px;';\n    var webKitBorder = '-webkit-border-radius: 4px;';\n    var mozBorder = '-moz-border-radius: 4px;';\n    var display = 'display: inline-block;';\n    var padding = 'padding: 6px 16px 6px 16px;';\n\n    template.print('<div style=\"margin-top: 16px;\"><a href=\"' + link + '\"');\n    template.print('style=\"' + backgroundColor + color + fontSize + textDecoration + webKitBorder + mozBorder + display + padding + '\">');\n    template.print(message);\n    template.print('</a></div>');\n\n    if (email_action.sys_name.toString() === 'Incident closed') {\n        template.print('<div style=\"padding-top:16px\">');\n        template.print(gs.getMessage('Need something else? '));\n        template.print('<a style=\"color: #3c59e7;\" href=\"/' + portalSuffix + '?id=sc_cat_item&sys_id=3f1dd0320a0a0b99000a53f7604a2ef9\">');\n        template.print(gs.getMessage('Make another incident'));\n        template.print('</a></div>');\n    }\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"f2edb642e552b010f8777565f90b2fc9","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9eb76f7f04b12210559073c06a02f78a","value":"9eb76f7f04b12210559073c06a02f78a"},"sys_update_name":"sys_script_email_f2edb642e552b010f8777565f90b2fc9","sys_updated_by":"admin","sys_created_on":"2021-09-01 14:52:28","name":"incident_link","sys_name":"incident_link","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"maint","sys_policy":""},{"sys_mod_count":"1","sys_updated_on":"2023-02-13 16:57:24","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n\tvar recommendationsInfo = global.AutoResolutionAISearchHelper.getRecommendationInfoFromTaskId(current.sys_id);\n\t\n\tfor (var i = 0; i < recommendationsInfo.length; i++) {\n\n\t\tif (recommendationsInfo[i].className == global.AutoResolutionConstants.CATALOG_TABLE_NAME)\n\t\t\ttemplate.print(\"Catalog: \" + recommendationsInfo[i].title + \"<br />\");\n\t\telse if (recommendationsInfo[i].className == global.AutoResolutionConstants.KNOWLEDGE_TABLE_NAME)\n\t\t\ttemplate.print(\"KB: \" + recommendationsInfo[i].title + \"<br />\");\n\t\t\t\n\t}\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"f394daebeb3421102c672add085228a6","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca4f3f704b52210559073c06a02f789","value":"aca4f3f704b52210559073c06a02f789"},"sys_update_name":"sys_script_email_f394daebeb3421102c672add085228a6","sys_updated_by":"admin","sys_created_on":"2023-02-10 02:42:51","name":"getIARAISResultList","sys_name":"getIARAISResultList","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"8","sys_updated_on":"2020-04-13 04:05:04","sys_tags":"","script":"(function runMailScript(current, template, email, email_action, event) {\n\ttemplate.print('<p><font size=\"6\" color=\"#808080\" face=\"helvetica\">');\n\ttemplate.print('${task_effective_number} - ${short_description}');\n\ttemplate.print('</font></p>');\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"f53056b0d711120035ae23c7ce610348","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9eb76f7f04b12210559073c06a02f78a","value":"9eb76f7f04b12210559073c06a02f78a"},"sys_update_name":"sys_script_email_f53056b0d711120035ae23c7ce610348","sys_updated_by":"admin","sys_created_on":"2016-01-29 11:24:25","name":"incident_body_header","sys_name":"incident_body_header","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"3","sys_updated_on":"2015-04-07 22:53:24","sys_tags":"","script":"template.print(event.parm2);","sys_class_name":"sys_script_email","sys_id":"f63d657a6f223100e0ea82ee2c3ee44b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/05672bfb04b12210559073c06a02f7bc","value":"05672bfb04b12210559073c06a02f7bc"},"sys_update_name":"sys_script_email_f63d657a6f223100e0ea82ee2c3ee44b","sys_updated_by":"lawrence.tse@snc","sys_created_on":"2015-03-06 00:55:35","name":"approval_error_response","sys_name":"approval_error_response","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"lawrence.tse@snc","sys_policy":""},{"sys_mod_count":"7","sys_updated_on":"2024-08-08 10:05:45","sys_tags":"","script":"(function runMailScript( /* GlideRecord */ current, /* TemplatePrinter */ template,\n    /* Optional EmailOutbound */\n    email, /* Optional GlideRecord */ email_action,\n    /* Optional GlideRecord */\n    event) {\n\n    var rosterSpan = current.roster_schedule_span;\n    var contextualDate = new GlideScheduleDateTime(rosterSpan.start_date_time.getGlideObject())\n        .getGlideDateTime();\n    var emailNotifRedirect = new global.EmailNotificationRedirection();\n    var params = {\n        \"view\": \"week\",\n        \"group\": rosterSpan.group + \"\",\n        \"context_date\": contextualDate\n    };\n    var url = emailNotifRedirect.getLink(null, null, \"oc_cal\", params);\n    var link = \"<a href='\" + url + \"'>\" + gs.getMessage(\"LINK\") + \"</a>\";\n    template.print(gs.getMessage(\"Click on the link to view your On-Call schedule: {0}\", link));\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"f6f88f9573bb1300d406168d4ef6a786","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_script_email_f6f88f9573bb1300d406168d4ef6a786","sys_updated_by":"admin","sys_created_on":"2018-08-07 20:13:57","name":"oc_approval_cal_link","sys_name":"oc_approval_cal_link","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"3","sys_updated_on":"2019-09-11 06:00:54","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\t\n\t\tvar url = '';\n\t\tvar nav_to = '';\n\t\turl = gs.getProperty(\"glide.email.override.url\");\n\t\tif (!url) {\n\t\t\turl = gs.getProperty(\"glide.servlet.uri\");\n\t\t\tnav_to = 'nav_to.do';\n\t\t}\n\t\ttemplate.print('<a href=' + url + nav_to + '?uri=sn_ml_ui_AI_Landing_Page.do>Predictive Intelligence Home Page</a>');\n\t\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"fb80328cb7333300d4260f98ee11a9d3","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_script_email_fb80328cb7333300d4260f98ee11a9d3","sys_updated_by":"admin","sys_created_on":"2019-09-05 13:35:39","name":"solution_training_data","sys_name":"solution_training_data","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"2","sys_updated_on":"2024-04-16 07:07:17","sys_tags":"","script":"(function runMailScript(current, template, email, email_action, event) {\n\n    template.print('<div style=\"font-size: 16px; padding-bottom: 16px;\"><span style=\"font-weight: 400;\">' + gs.getMessage('Work notes: ') + '</span>');\n    template.print('<span style=\"font-weight: 600;\">' + gs.getMessage('${work_notes}') + '</span></div>');\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"fb864c17536270108b91ddeeff7b123d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9eb76f7f04b12210559073c06a02f78a","value":"9eb76f7f04b12210559073c06a02f78a"},"sys_update_name":"sys_script_email_fb864c17536270108b91ddeeff7b123d","sys_updated_by":"admin","sys_created_on":"2021-09-17 08:59:44","name":"incident_worknotes","sys_name":"incident_worknotes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"4","sys_updated_on":"2014-11-20 23:23:56","sys_tags":"","script":"var liveFeedApi = new SNC.LiveFeedApi();\n\n var message = liveFeedApi.formatMessage(current.message.message, 'TEXT');\n\n template.print(message);","sys_class_name":"sys_script_email","sys_id":"fc0d6730470321007f47563dbb9a71c0","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e7e727ff04b12210559073c06a02f7de","value":"e7e727ff04b12210559073c06a02f7de"},"sys_update_name":"sys_script_email_fc0d6730470321007f47563dbb9a71c0","sys_updated_by":"admin","sys_created_on":"2014-09-07 05:26:51","name":"live_feed_message_ref","sys_name":"live_feed_message_ref","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"new_lines_to_html":"true","sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"21","sys_updated_on":"2018-02-28 22:24:53","sys_tags":"","script":"(function runMailScript(/* GlideRecord */ current, /* TemplatePrinter */ template,\n          /* Optional EmailOutbound */ email, /* Optional GlideRecord */ email_action,\n          /* Optional GlideRecord */ event) {\n\n\tvar changed_kpis = (event.parm2 + '').split(',');\n\tvar changed_kpi_names = [];\n\n\tvar indicatorGR = new GlideRecord('sn_bm_common_indicator');\n\tindicatorGR.addActiveQuery();\n\tindicatorGR.addQuery('sys_id', 'IN', changed_kpis.join(','));\n\tindicatorGR.query();\n\twhile (indicatorGR.next())\n\t\tchanged_kpi_names.push(indicatorGR.getDisplayValue());\n\n\tvar body = '<ul>';\n\tchanged_kpi_names.forEach(function(kpi_name) {\n\t\tbody += '<li>' + kpi_name + '</li>';\n\t});\n\tbody += '</ul>';\n\n\ttemplate.print(body);\n\n})(current, template, email, email_action, event);","sys_class_name":"sys_script_email","sys_id":"fd4e3ef53ba01300b90c4bb534efc436","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_update_name":"sys_script_email_fd4e3ef53ba01300b90c4bb534efc436","sys_updated_by":"admin","sys_created_on":"2018-02-28 19:30:38","name":"changed_kpi_list","sys_name":"changed_kpi_list","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"new_lines_to_html":"false","sys_created_by":"admin","sys_policy":""}]}