{"result":[{"top_level_category":"false","renderer":"","roles":"","sys_mod_count":"232","active":"true","sys_updated_on":"2017-08-21 20:56:38","sys_tags":"","script":"var domainId = gs.getUser().getDomainID();\nif(GlideStringUtil.nil(domainId))\n\tdomainId = \"global\";\nvar sysDomainQuery = '^sys_domain=' + domainId;\n\nvar metrics = {\n\t'Correctness': 'bbb6e75137130200f212cc028e41f13d',\n\t'Duplicate': 'e0172b5137130200f212cc028e41f14c',\n\t'Orphan': 'c6272b5137130200f212cc028e41f168',\n\t'Stale': 'd4772b5137130200f212cc028e41f16c',\n\t'Completeness': 'e4972b5137130200f212cc028e41f1ca',\n\t'Recommended': 'c7d72b5137130200f212cc028e41f1bd',\n\t'Required': 'bac72b5137130200f212cc028e41f1b8',\n\t'Compliance': 'e3a72b5137130200f212cc028e41f152',\n\t'Audit': '24f72b5137130200f212cc028e41f155',\n\t'Relationship' : 'c6f692757f33020009fedf92bdfa916b',\n\t'Stale Relationships' : 'c6f692757f33020009fedf92bdfa916b',\n\t'Orphan Relationships' : '4be692757f33020009fedf92bdfa916a',\n\t'Duplicate Relationships' : '93c692757f33020009fedf92bdfa9173'\n};\n\n// Sections metadata by type\nvar meta = {\n\t'cmdb_scorecard_overall': {\n\t\turl: '/$cmdb_scorecard.do?sysparm_type=overall'\n\t},\n\t'cmdb_scorecard_completeness': {\n\t\turl: '/$cmdb_scorecard.do?sysparm_type=completeness'\n\t},\n\t'cmdb_scorecard_compliance': {\n\t\turl: '/$cmdb_scorecard.do?sysparm_type=compliance'\n\t},\n\t'cmdb_scorecard_correctness': {\n\t\turl: '/$cmdb_scorecard.do?sysparm_type=correctness'\n\t},\n\t'cmdb_scorecard_relationship': {\n\t\turl: '/$cmdb_scorecard.do?sysparm_type=relationship'\n\t},\n\t'cmdb_chart_class_breakdown': {\n\t\turl: '/report_viewer.do?sysparm_table=cmdb_ci%26sysparm_title=CI%20Classes%26sysparm_field=sys_class_name%26sysparm_type=bar%26sysparm_manual_labor=true%26sysparm_aggregate=COUNT%26sysparm_query=sys_class_nameINSTANCEOFcmdb_ci'\n\t},\n\n\t//failed ci by classes\n\t'cmdb_report_result_duplicate_cis': {\n\t\turl: buildTotalMetricReportUrl('Duplicate')\n\t},\n\t'cmdb_report_result_orphan_cis': {\n\t\turl: buildTotalMetricReportUrl('Orphan')\n\t},\n\t'cmdb_report_result_stale_cis': {\n\t\turl: buildTotalMetricReportUrl('Stale')\n\t},\n\t'cmdb_report_result_audit_cis': {\n\t\turl: buildTotalMetricReportUrl('Audit')\n\t},\n\t'cmdb_report_result_recommended_cis': {\n\t\turl: buildTotalMetricReportUrl('Recommended')\n\t},\n\t'cmdb_report_result_required_cis': {\n\t\turl: buildTotalMetricReportUrl('Required')\n\t},\n\n\n\t'cmdb_report_relation_stale': {\n\t\turl: buildTotalRelationReportUrl('Stale Relationships')\n\t},\n\t'cmdb_report_relation_duplicate': {\n\t\turl: buildTotalRelationReportUrl('Duplicate Relationships')\n\t},\n\t'cmdb_report_relation_orphan': {\n\t\turl: buildTotalRelationReportUrl('Orphan Relationships')\n\t},\n\n\t//trend\n\t'cmdb_report_score_correctness_trend': {\n\t\turl: buildMetricTrendReportUrl('Correctness', 'score')\n\t},\n\t'cmdb_report_score_duplicate_trend': {\n\t\turl: buildMetricTrendReportUrl('Duplicate', 'failed')\n\t},\n\t'cmdb_report_score_orphan_trend': {\n\t\turl: buildMetricTrendReportUrl('Orphan', 'failed')\n\t},\n\t'cmdb_report_score_stale_trend': {\n\t\turl: buildMetricTrendReportUrl('Stale', 'failed')\n\t},\n\t'cmdb_report_score_completeness_trend': {\n\t\turl: buildMetricTrendReportUrl('Completeness', 'score')\n\t},\n\t'cmdb_report_score_recommended_trend': {\n\t\turl: buildMetricTrendReportUrl('Recommended', 'failed')\n\t},\n\t'cmdb_report_score_required_trend': {\n\t\turl: buildMetricTrendReportUrl('Required', 'failed')\n\t},\n\t'cmdb_report_score_compliance_trend': {\n\t\turl: buildMetricTrendReportUrl('Compliance', 'score')\n\t},\n\t'cmdb_report_score_audit_trend': {\n\t\turl: buildMetricTrendReportUrl('Audit','failed')\n\t},\n\n\t'ci_scorecard_completeness': {\n\t\turl: '/$ci_scorecard.do?sysparm_type=completeness'\n\t},\n\t'ci_scorecard_compliance': {\n\t\turl: '/$ci_scorecard.do?sysparm_type=compliance'\n\t},\n\t'ci_scorecard_correctness': {\n\t\turl: '/$ci_scorecard.do?sysparm_type=correctness'\n\t},\n\t'ci_scorecard_relationship': {\n\t\turl: '/$ci_scorecard.do?sysparm_type=relationship'\n\t},\n\t'ci_scorecard_relation_formatter': {\n\t\turl: '/relation_formatter_widget.do?'\n\t},\n\t'ci_list_tasklist': {\n\t\turl: '/$ci_widget_tasklist.do?'\n\t},\n\t'ci_timeline' : {\n\t\turl:'/$ci_dashboard_timeline.do?sysparm_widget=true&sysparm_drilldown=false'\n\t},\n\t'cmdb_toplist_incident' : {\n\t\turl:'/$cmdb_widget_countlist.do?sysparm_task=incident'\n\t},\n\t'cmdb_toplist_alert' : {\n\t\turl:'/$cmdb_widget_countlist.do?sysparm_task=em_alert'\n\t},\n\t'cmdb_toplist_change' : {\n\t\turl:'/$cmdb_widget_countlist.do?sysparm_task=change_request'\n\t},\n\t'cmdb_task_table_compliance': {\n\t\turl: '/task_list.do?sysparm_query=sys_class_name=cert_follow_on_task^cmdb_ci.sys_class_nameINSTANCEOF$class$^state=-5^ORstate=1^ORstate=2&sysparm_rows_per_page=5'\n\t},\n\t'cmdb_task_table_completeness': {\n\t\turl: '/task_list.do?sysparm_query=sys_class_name=recommended_field_remediation^cmdb_ci.sys_class_nameINSTANCEOFcmdb_ci^state=-5^ORstate=1^ORstate=2'+sysDomainQuery+'^NQsys_class_name=required_field_remediation^cmdb_ci.sys_class_nameINSTANCEOFcmdb_ci^state=-5^ORstate=1^ORstate=2&sysparm_rows_per_page=5'\n\t},\n\t'cmdb_task_table_correctness': {\n\t\turl: '/task_list.do?sysparm_query=sys_class_name=reconcile_duplicate_task^ORsys_class_name=stale_ci_remediation^cmdb_ci.sys_class_nameINSTANCEOFcmdb_ci^state=-5^ORstate=1^ORstate=2^NQsys_class_name=orphan_ci_remediation^cmdb_ci.sys_class_nameINSTANCEOFcmdb_ci^state=-5^ORstate=1^ORstate=2'+sysDomainQuery+'&sysparm_rows_per_page^5'\n\t},\n\t'cmdb_report_result_compliance_list': {\n\t\turl: 'cmdb_health_result_list.do?sysparm_rows_per_page=5&sysparm_query=active=true^metric=24f72b5137130200f212cc028e41f155'+sysDomainQuery\n\t},\n\t'cmdb_report_result_completeness_list': {\n\t\turl: 'cmdb_health_result_list.do?sysparm_rows_per_page=5&sysparm_query=active=true^metric=c7d72b5137130200f212cc028e41f1bd^ORmetric=bac72b5137130200f212cc028e41f1b8'+sysDomainQuery\n\t},\n\t'cmdb_report_result_correctness_list': {\n\t\turl: 'cmdb_health_result_list.do?sysparm_rows_per_page=5&sysparm_query=active=true^metric=e0172b5137130200f212cc028e41f14c^ORmetric=c6272b5137130200f212cc028e41f168^ORmetric=d4772b5137130200f212cc028e41f16c'+sysDomainQuery\n\t},\n\t'cmdb_hierarchy' : {\n   \t\turl: '/$cmdb_service_hierarchy.do?'\n  \t}\n};\n\n// Function to return available widget types\nfunction sections() {\n  var obj = {};\n  // CMDB Scorecards\n  obj[gs.getMessage('CMDB Health Scorecard')] \t\t= { 'type': 'cmdb_scorecard_overall' };\n  obj[gs.getMessage('CMDB Compliance Scorecard')] \t= { 'type': 'cmdb_scorecard_compliance' };\n  obj[gs.getMessage('CMDB Correctness Scorecard')]\t= { 'type': 'cmdb_scorecard_correctness' };\n  obj[gs.getMessage('CMDB Completeness Scorecard')]\t= { 'type': 'cmdb_scorecard_completeness' };\n  obj[gs.getMessage('CMDB CI Relationship Scorecard')] = { 'type': 'cmdb_scorecard_relationship' };\n  obj[gs.getMessage('CMDB Class Breakdown')] = { 'type': 'cmdb_chart_class_breakdown' };\n\n  // CI Scorecards\n  obj[gs.getMessage('CI Compliance Scorecard')]  = { 'type': 'ci_scorecard_compliance' };\n  obj[gs.getMessage('CI Correctness Scorecard')] = { 'type': 'ci_scorecard_correctness' };\n  obj[gs.getMessage('CI Completeness Scorecard')] = { 'type': 'ci_scorecard_completeness' };\n  obj[gs.getMessage('CI Relationship Scorecard')] = { 'type': 'ci_scorecard_relationship' };\n  obj[gs.getMessage('CI Relationship Formatter')] = { 'type': 'ci_scorecard_relation_formatter' };\n\n  // CMDB Drill Down Charts\n  obj[gs.getMessage('Duplicate CIs')] = { 'type': 'cmdb_report_result_duplicate_cis' };\n  obj[gs.getMessage('Orphan CIs')] = { 'type': 'cmdb_report_result_orphan_cis' };\n  obj[gs.getMessage('Stale CIs')] = { 'type': 'cmdb_report_result_stale_cis' };\n  obj[gs.getMessage('Recommended CIs')] = { 'type': 'cmdb_report_result_recommended_cis' };\n  obj[gs.getMessage('Required CIs')] = { 'type': 'cmdb_report_result_required_cis' };\n  obj[gs.getMessage('Audit CIs')] = { 'type': 'cmdb_report_result_audit_cis' };\n\n  // CMDB Dashboard Relationship Charts\n  obj[gs.getMessage('Stale Relationships')] = { 'type': 'cmdb_report_relation_stale' };\n  obj[gs.getMessage('Orphan Relationships')] = { 'type': 'cmdb_report_relation_orphan' };\n  obj[gs.getMessage('Duplicate Relationships')] = { 'type': 'cmdb_report_relation_duplicate' };\n\n  // CMDB Dashboard List Widgets\n  obj[gs.getMessage('Top 10 Incident Generators')] = { 'type': 'cmdb_toplist_incident' };\n  obj[gs.getMessage('Top 10 Alert Generators')] = { 'type': 'cmdb_toplist_alert' };\n  obj[gs.getMessage('Top 10 Change Generators')] = { 'type': 'cmdb_toplist_change' };\n\n  // CMDB Trendlines\n  obj[gs.getMessage('Correct CI Trend')] = { 'type': 'cmdb_report_score_correctness_trend' };\n  obj[gs.getMessage('Duplicate CI Trend')] = { 'type': 'cmdb_report_score_duplicate_trend' };\n  obj[gs.getMessage('Orphan CI Trend')] = { 'type': 'cmdb_report_score_orphan_trend' };\n  obj[gs.getMessage('Stale CI Trend')] = { 'type': 'cmdb_report_score_stale_trend' };\n  obj[gs.getMessage('Complete CI Trend')] = { 'type': 'cmdb_report_score_completeness_trend' };\n  obj[gs.getMessage('Recommended CI Trend')] = { 'type': 'cmdb_report_score_recommended_trend' };\n  obj[gs.getMessage('Required CI Trend')] = { 'type': 'cmdb_report_score_required_trend' };\n  obj[gs.getMessage('Compliant CI Trend')] = { 'type': 'cmdb_report_score_compliance_trend' };\n  obj[gs.getMessage('Audited CI Trend')] = { 'type': 'cmdb_report_score_audit_trend' };\n\n  // CMDB Task Tables\n  obj[gs.getMessage('CMDB Compliance Tasks')] = { 'type': 'cmdb_task_table_compliance'};\n  obj[gs.getMessage('CMDB Completeness Tasks')] = { 'type': 'cmdb_task_table_completeness'};\n  obj[gs.getMessage('CMDB Correctness Tasks')] = { 'type': 'cmdb_task_table_correctness'};\n\n  // CMDB result list\n  obj[gs.getMessage('CMDB Compliance Result List')] = { 'type': 'cmdb_report_result_compliance_list'};\n  obj[gs.getMessage('CMDB Completeness Result List')] = { 'type': 'cmdb_report_result_completeness_list'};\n  obj[gs.getMessage('CMDB Correctness Result List')] = { 'type': 'cmdb_report_result_correctness_list'};\n\n  // CI Dashboard Widgets\n  obj[gs.getMessage('CI Tasks')] = { 'type': 'ci_list_tasklist' };\n  obj[gs.getMessage('CI Timeline')] = {'type' : 'ci_timeline'};\n\n  // CMDB Hierarchy Widgets\n  obj[gs.getMessage(\"CMDB Hierarchy\")] = { \"type\" : \"cmdb_hierarchy\" };\n  return obj;\n}\n\nfunction render() {\n\t// Get widget\n\tvar widget = renderer.getPreferences().get('type');\n\n\t// Get widget type and title\n\tvar type = null;\n\tvar title = null;\n\tif(widget.indexOf('cmdb_scorecard') == 0) {\n\t\ttype = 'cmdb_scorecard';\n\t\tif (widget == 'cmdb_scorecard_overall')\n\t\t\ttitle = gs.getMessage('CMDB Health Scorecard');\n\t\telse if (widget == 'cmdb_scorecard_compliance')\n\t\t\ttitle = gs.getMessage('CMDB Compliance Scorecard');\n\t\telse if (widget == 'cmdb_scorecard_correctness')\n\t\t\ttitle = gs.getMessage('CMDB Correctness Scorecard');\n\t\telse if (widget == 'cmdb_scorecard_completeness')\n\t\t\ttitle = gs.getMessage('CMDB Completeness Scorecard');\n\t\telse if (widget == 'cmdb_scorecard_relationship')\n\t\t\ttitle = gs.getMessage('CMDB CI Relationship Scorecard');\n\t} else if(widget.indexOf('cmdb_chart') == 0) {\n\t\ttype = 'cmdb_chart';\n\t\tif (widget == 'cmdb_chart_class_breakdown')\n\t\t\ttitle = gs.getMessage('CMDB Class Breakdown');\n\t} else if(widget.indexOf('ci_scorecard') == 0) {\n\t\ttype = 'ci_scorecard';\n\t\tif (widget == 'ci_scorecard_compliance')\n\t\t\ttitle = gs.getMessage('CI Compliance Scorecard');\n\t\telse if (widget == 'ci_scorecard_correctness' )\n\t\t\ttitle = gs.getMessage('CI Correctness Scorecard');\n\t\telse if (widget == 'ci_scorecard_completeness')\n\t\t\ttitle = gs.getMessage('CI Completeness Scorecard');\n\t\telse if (widget == 'ci_scorecard_relationship')\n\t\t\ttitle = gs.getMessage('CI Relationship Scorecard');\n\t\telse if (widget == 'ci_scorecard_relation_formatter')\n\t\t\ttitle = gs.getMessage('CI Relationship Formatter');\n\t} else if(widget.indexOf('cmdb_report_result') == 0) {\n\t\ttype = 'cmdb_report_result';\n\t\tif (widget == 'cmdb_report_result_duplicate_cis')\n\t\t\tgs.getMessage('Duplicate CIs');\n\t\telse if (widget == 'cmdb_report_result_orphan_cis')\n\t\t\ttitle = gs.getMessage('Orphan CIs');\n\t\telse if (widget == 'cmdb_report_result_stale_cis')\n\t\t\ttitle = gs.getMessage('Stale CIs');\n\t\telse if (widget == 'cmdb_report_result_recommended_cis')\n\t\t\ttitle = gs.getMessage('Recommended CIs');\n\t\telse if (widget == 'cmdb_report_result_required_cis')\n\t\t\ttitle = gs.getMessage('Required CIs');\n\t\telse if (widget == 'cmdb_report_result_audit_cis')\n\t\t\ttitle = gs.getMessage('Audit CIs');\n\t} else if(widget.indexOf('cmdb_report_score') == 0) {\n\t\ttype = 'cmdb_report_score';\n\t\tif (widget == 'cmdb_report_score_correctness_trend')\n\t\t\ttitle = gs.getMessage('Correct CI Trend');\n\t\telse if (widget == 'cmdb_report_score_duplicate_trend')\n\t\t\ttitle = gs.getMessage('Duplicate CI Trend');\n\t\telse if (widget == 'cmdb_report_score_orphan_trend')\n\t\t\ttitle = gs.getMessage('Orphan CI Trend');\n\t\telse if (widget == 'cmdb_report_score_stale_trend')\n\t\t\ttitle = gs.getMessage('Stale CI Trend');\n\t\telse if (widget == 'cmdb_report_score_completeness_trend')\n\t\t\ttitle = gs.getMessage('Complete CI Trend');\n\t\telse if (widget == 'cmdb_report_score_recommended_trend')\n\t\t\ttitle = gs.getMessage('Recommended CI Trend');\n\t\telse if (widget == 'cmdb_report_score_required_trend')\n\t\t\ttitle = gs.getMessage('Required CI Trend');\n\t\telse if (widget == 'cmdb_report_score_compliance_trend')\n\t\t\ttitle = gs.getMessage('Compliant CI Trend');\n\t\telse if (widget == 'cmdb_report_score_audit_trend')\n\t\t\ttitle = gs.getMessage('Audited CI Trend');\n\t} else if(widget.indexOf('cmdb_report_relation') == 0) {\n\t\ttype = 'cmdb_report_relation';\n\t\tif (widget == 'cmdb_report_relation_stale')\n\t\t\ttitle = gs.getMessage('Stale Relationships');\n\t\telse if (widget == 'cmdb_report_relation_orphan')\n\t\t\ttitle = gs.getMessage('Orphan Relationships');\n\t\telse if (widget == 'cmdb_report_relation_duplicate')\n\t\t\ttitle = gs.getMessage('Duplicate Relationships');\n\t} else if(widget.indexOf('ci_list') == 0) {\n\t\ttype = 'ci_list';\n\t\ttitle = gs.getMessage('CI Tasks');\n\t} else if(widget.indexOf('ci_timeline') == 0) {\n\t\ttype = 'ci_timeline';\n\t\ttitle = gs.getMessage('CI Timeline');\n\t} else if(widget.indexOf('cmdb_toplist') == 0) {\n\t\ttype = 'cmdb_toplist';\n\t\tif (widget == 'cmdb_toplist_incident')\n\t\t\ttitle = gs.getMessage('Top 10 Incident Generators');\n\t\telse if (widget == 'cmdb_toplist_alert')\n\t\t\ttitle = gs.getMessage('Top 10 Alert Generators');\n\t\telse if (widget == 'cmdb_toplist_change')\n\t\t\ttitle = gs.getMessage('Top 10 Change Generators');\n\t} else if(widget.indexOf('cmdb_task_table') == 0) {\n\t\ttype = 'cmdb_task_table';\n\t\tif (widget == 'cmdb_task_table_compliance')\n\t\t\ttitle = gs.getMessage('CMDB Compliance Tasks');\n\t\telse if (widget == 'cmdb_task_table_completeness')\n\t\t\ttitle = gs.getMessage('CMDB Completeness Tasks');\n\t\telse if (widget == 'cmdb_task_table_correctness')\n\t\t\ttitle = gs.getMessage('CMDB Correctness Tasks');\n\t} else if(widget.indexOf('cmdb_hierarchy') == 0) {\n\t\ttype = 'cmdb_hierarchy';\n\t\ttitle = gs.getMessage('CMDB Hierarchy');\n\t}\n\n\t// If type starts with CMDB scorecard...\n\tif(type == 'cmdb_scorecard' || type == 'cmdb_chart' || type == 'ci_scorecard'\n\t   || type == 'cmdb_report_result' || type == 'cmdb_report_score'\n\t   || type == 'cmdb_report_relation' || type == 'ci_list' || type == 'ci_timeline'\n\t   || type == 'cmdb_toplist' || type == 'cmdb_task_table' || type == 'cmdb_hierarchy') {\n\n\t\t// Get metadata for the widget\n\t\tvar m = meta[widget];\n\n\t\t// Create a jelly runner to insert an iframe\n\t\tvar jr = new GlideJellyRunner();\n\t\trenderer.getRenderProperties().setDeferInlineScripts(false);\n\t\tjr.setRenderProperties(renderer.getRenderProperties());\n\t\tjr.setTwoPhase(true);\n\n\t\t// Set the URL the iframe should have and other variables\n\t\tjr.setVariable('jvar_type', type);\n\t\tjr.setVariable('jvar_widget', widget);\n\t\tjr.setVariable('jvar_uid', randInt(100000, 999999) + '' + randInt(100000, 999999));\n\t\tjr.setVariable('jvar_url', m.url);\n\t\tjr.setVariable('jvar_title', title);\n\t\t// Get table and record context if provided\n\t\tvar url = new GlideURL(renderer.getRenderProperties().getReferringURL());\n\t\tjr.setVariable('jvar_table', url.get('sysparm_table'));\n\t\tjr.setVariable('jvar_record', url.get('sysparm_record'));\n\n\t\t// Run a template that returns the iframe\n\t\treturn jr.runFromTemplate('cmdb_widget_iframe.xml');\n\t} else {\n\t\t// Default to NOOP\n\t\treturn 'Invalid widget type';\n\t}\n}\n\nfunction randInt(min, max) {\n\treturn Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nfunction buildReportUrl(title, table, type, query, groupby) {\n\tvar AND = '&';\n\tvar params = '/report_viewer.do?';\n\tparams += 'sysparm_table=' + table;\n\tparams += AND + 'sysparm_type=' + type;\n\tparams += AND + 'sysparm_field=' + groupby;\n\tparams += AND + 'sysparm_title=' + title;\n\tparams += AND + 'sysparm_manual_labor=true';\n\tparams += AND + 'sysparm_aggregate=COUNT';\n\tparams += AND + 'sysparm_others=10';\n\tparams += AND + 'sysparm_show_other=false';\n\tparams += AND + 'sysparm_query=' + query;\n\n\treturn params;\n}\n\nfunction buildTrendReportUrl(title, table, type, query, sumField, trendField, trendInterval) {\n\tvar AND = '&';\n\tvar params = '/report_viewer.do?';\n\tparams += 'sysparm_table=' + table;\n\tparams += AND + 'sysparm_type=' + type;\n\tparams += AND + 'sysparm_field=';\n\tparams += AND + 'sysparm_title=' + title;\n\tparams += AND + 'sysparm_aggregate=AVG';\n\tparams += AND + 'sysparm_sumfield=' + sumField;\n\tparams += AND + 'sysparm_trend_field=' + trendField;\n\tparams += AND + 'sysparm_trend_interval=' + trendInterval;\n\tparams += AND + 'sysparm_manual_labor=true';\n\tparams += AND + 'sysparm_others=10';\n\tparams += AND + 'sysparm_show_other=false';\n\tparams += AND + 'sysparm_query=' + query;\n\n\treturn params;\n}\n\nfunction buildMetricTrendReportUrl(name, sumField) {\n\tvar metricSysId = metrics[name];\n\treturn buildTrendReportUrl(name + 'CIs trend', 'cmdb_health_scorecard', 'line', 'metric=' + metricSysId +'^status=HISTORIC^class=$class$'+sysDomainQuery, sumField, 'evaluated_on', 'date');\n}\n\nfunction buildTotalMetricReportUrl(name) {\n\tvar metricSysId = metrics[name];\n\treturn buildReportUrl('Total '+name+' CIs', 'cmdb_health_result', 'bar', 'metric='+metricSysId+'^active=true'+sysDomainQuery, 'class_name');\n}\n\nfunction buildTotalRelationReportUrl(name) {\n\tvar metricSysId = metrics[name];\n\treturn buildReportUrl('Total ' + name, 'relation_health_result', 'bar', 'active=true^metric='+metricSysId+sysDomainQuery, 'relation.type');\n}\n\nfunction getEditLink() {\n        return '';\n}\n","sys_class_name":"sys_widgets","renderer_type":"javascript","sys_id":"008e5d03d75302002f6d69418e6103b4","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_widgets_008e5d03d75302002f6d69418e6103b4","sys_updated_by":"admin","sys_created_on":"2015-10-28 21:27:56","name":"CMDB Widgets","sys_name":"CMDB Widgets","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","order":"100","sys_policy":""},{"top_level_category":"true","renderer":"com.glide.cms.RenderBlock","roles":"","sys_mod_count":"2","active":"true","sys_updated_on":"2015-12-22 16:04:34","sys_tags":"","script":"","sys_class_name":"sys_widgets","renderer_type":"java","sys_id":"084734310a0a0b120084eb4e8bbba6e3","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6ae7e3ff04b12210559073c06a02f768","value":"6ae7e3ff04b12210559073c06a02f768"},"sys_update_name":"sys_widgets_084734310a0a0b120084eb4e8bbba6e3","sys_updated_by":"admin","sys_created_on":"2008-10-17 00:49:49","name":"Content Blocks","sys_name":"Content Blocks","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"glide.maint","order":"6","sys_policy":""},{"top_level_category":"false","renderer":"","roles":"","sys_mod_count":"30","active":"false","sys_updated_on":"2018-01-16 14:54:13","sys_tags":"","script":"function sections() {\r\n   \r\n   var answer = {};\r\n\r\n   var gr = new GlideRecord('jrobin_graph');\r\n   gr.orderBy('title');\r\n   gr.query();\r\n   while (gr.next()) {\r\n      var title = gr.title + '';\r\n      var id = gr.sys_id + '';\r\n      \r\n      // get the databases that can be graphed with this graph\r\n      var hasDBs = false;\r\n      var dbNames = {};\r\n      var grDB = new GlideRecord('jrobin_database');\r\n      grDB.addQuery('definition', gr.jrobin_definition);\r\n      grDB.query();\r\n      while (grDB.next()) {\r\n         hasDBs = true;\r\n         var db = {};\r\n         db.db_id = grDB.sys_id + '';\r\n         db.db_name = grDB.name + '';\r\n         db.graph_id = gr.sys_id + '';\r\n         var t = grDB.name;\r\n         if (grDB.cmdb_ci) {\r\n            var g = new SncJRobinGraphDef(gr.sys_id, grDB.name);\r\n            t = g.getTitleText();\r\n         }\r\n         dbNames[t] = db;\r\n      }\r\n      if (hasDBs)\r\n         answer[title] = dbNames;\r\n   }\r\n   \r\n   return answer;\r\n   \r\n}\r\n\r\nfunction render() {\r\n   var gf = new GlideForm(renderer.getGC(), \"render_jrobin_graph\", 0);\r\n   gf.setDirect(true);\r\n   gf.setRenderProperties(renderer.getRenderProperties());\r\n   return gf.getRenderedPage();\r\n}\r\n\r\nfunction getEditLink() {\r\n        if (!gs.hasRole('admin'))\r\n             return '';\r\n\r\n        return \"sys_ui_page.do?sysparm_query=name=render_jrobin_graph\"; \r\n}","sys_class_name":"sys_widgets","renderer_type":"javascript","sys_id":"17045392c0a800150010d7ddcf39fc6b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bc83ebb304312210559073c06a02f792","value":"bc83ebb304312210559073c06a02f792"},"sys_update_name":"sys_widgets_17045392c0a800150010d7ddcf39fc6b","sys_updated_by":"glide.maint","sys_created_on":"2007-06-10 19:02:45","name":"Performance Graphs","sys_name":"Performance Graphs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"glide.maint","order":"","sys_policy":""},{"top_level_category":"true","renderer":"com.glide.ui.portal.RenderReport","roles":"","sys_mod_count":"5","active":"true","sys_updated_on":"2015-12-22 16:04:20","sys_tags":"","script":"","sys_class_name":"sys_widgets","renderer_type":"java","sys_id":"3983f601cb10120032a09371c24c9c19","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b753ab7304312210559073c06a02f7e6","value":"b753ab7304312210559073c06a02f7e6"},"sys_update_name":"sys_widgets_3983f601cb10120032a09371c24c9c19","sys_updated_by":"admin","sys_created_on":"2015-12-11 15:34:22","name":"Reports","sys_name":"Reports","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","order":"3","sys_policy":""},{"top_level_category":"false","renderer":"com.glideapp.servicecatalog.RenderCatalog","roles":"","sys_mod_count":"0","active":"true","sys_updated_on":"2013-09-18 11:10:34","sys_tags":"","script":"","sys_class_name":"sys_widgets","renderer_type":"java","sys_id":"45097903c3330100c8b837659bba8fe6","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3028ab3304f12210559073c06a02f7b7","value":"3028ab3304f12210559073c06a02f7b7"},"sys_update_name":"sys_widgets_45097903c3330100c8b837659bba8fe6","sys_updated_by":"admin","sys_created_on":"2013-09-18 11:10:34","name":"Catalogs","sys_name":"Catalogs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","order":"100","sys_policy":""},{"top_level_category":"false","renderer":"","roles":"pa_admin","sys_mod_count":"47","active":"false","sys_updated_on":"2018-04-02 06:26:38","sys_tags":"","script":"function sections() {\n\treturn {\n\t\t\t'Widgets' : {\n\t\t\t\t'name' : '$admin_console_reports',\n\t\t\t\t'type' : 'report',\n\t\t\t\t'report_id': '8bac43f1c7000300b0ea8b3c5c97632f',\n\t\t\t\t'target_table': 'pa_widgets',\n\t\t\t\t'applied_field': 'sys_id_filter_',\n\t\t\t\t'record_type': 'widgets',\n\t\t\t\t'sysparm_processor': 'getWidgetRecords',\n\t\t\t\t'renderer_name': 'com.snc.pa.ui.RenderPerformanceAnalytics'\n\t\t\t}, \n\t\t\t'Indicators' : {\n\t\t\t\t'name' : '$admin_console_reports',\n\t\t\t\t'type' : 'report',\n\t\t\t\t'report_id': '90899806c7400300b0ea8b3c5c976364',\n\t\t\t\t'applied_field': 'sys_id_filter_',\n\t\t\t\t'target_table': 'pa_indicators',\n\t\t\t\t'record_type': 'indicator',\n\t\t\t\t'sysparm_processor': 'getWidgetsDetails'\n\t\t\t}, \n\t\t\t'Indicator Sources' : {\n\t\t\t\t'name' : '$admin_console_reports',\n\t\t\t\t'type' : 'report',\n\t\t\t\t'report_id': '89cdd8e6c7100300b0ea8b3c5c9763fa',\n\t\t\t\t'applied_field': 'sys_id_filter_',\n\t\t\t\t'target_table': 'pa_cubes',\n\t\t\t\t'record_type': 'indicator_source',\n\t\t\t\t'sysparm_processor': 'getWidgetsDetails'\n\t\t\t},\n\t\t\t'Breakdowns': {\n\t\t\t\t'name' : '$admin_console_reports',\n\t\t\t\t'type' : 'report',\n\t\t\t\t'report_id': 'b7642c8ac7400300b0ea8b3c5c97630e',\n\t\t\t\t'target_table': 'pa_breakdowns',\n\t\t\t\t'applied_field': 'sys_id_filter_',\n\t\t\t\t'record_type': 'breakdown',\n\t\t\t\t'sysparm_processor': 'getWidgetsDetails'\n\t\t\t},\n\t\t\t'Breakdown Sources': {\n\t\t\t\t'name' : '$admin_console_reports',\n\t\t\t\t'type' : 'report',\n\t\t\t\t'report_id': '7bf73896c7800300b0ea8b3c5c97635e',\n\t\t\t\t'target_table': 'pa_dimensions',\n\t\t\t\t'applied_field': 'sys_id_filter_',\n\t\t\t\t'record_type': 'breakdown_source',\n\t\t\t\t'sysparm_processor': 'getWidgetsDetails'\n\t\t\t}, \n\t\t\t'Jobs' : {\n\t\t\t\t'name' : '$admin_console_reports',\n\t\t\t\t'type' : 'report',\n\t\t\t\t'report_id': '46cedce6c7100300b0ea8b3c5c976324',\n\t\t\t\t'applied_field': 'sys_id_filter_',\n\t\t\t\t'target_table': 'sysauto_pa',\n\t\t\t\t'record_type': 'indicator_jobs',\n\t\t\t\t'sysparm_processor': 'getWidgetsDetails'\n\t\t\t}, \n\t\t\t'Reports' : {\n\t\t\t\t'name' : '$admin_console_reports',\n\t\t\t\t'type' : 'report',\n\t\t\t\t'report_id': '2735180b0b2003002050eddc83673a6a',\n\t\t\t\t'applied_field': 'sys_id_filter_',\n\t\t\t\t'target_table': 'sys_report',\n\t\t\t\t'record_type': 'report',\n\t\t\t\t'sysparm_processor': 'getWidgetsDetails'\n\t\t\t}, \n\t\t\t'Interactive Filters' : {\n\t\t\t\t'name' : '$admin_console_reports',\n\t\t\t\t'type' : 'report',\n\t\t\t\t'report_id': '91c5980b0b2003002050eddc83673ac2',\n\t\t\t\t'applied_field': 'sys_id_filter_',\n\t\t\t\t'target_table': 'sys_ui_hp_publisher',\n\t\t\t\t'record_type': 'interactive_filter',\n\t\t\t\t'sysparm_processor': 'getWidgetsDetails'\n\t\t\t}, \n\t\t\t'Indicator - Table' : {\n\t\t\t\t'name' : 'homepage_publisher.xml',\n\t\t\t\t'type' : 'interactive_filter',\n\t\t\t\t'filter_type': 'indicator', \n\t\t\t\t'ui_control_type': 'select_multiple',\n\t\t\t\t'display_name': 'Fact Table',\n\t\t\t\t'default_values': '{}',\n\t\t\t\t'default_config': '{\\'config\\': []}',\n\t\t\t\t'sys_id': guid(),\n\t\t\t\t'is_custom_interactive_filter': \"true\"\n\t\t\t},\n\t\t\t'Report - Table' : {\n\t\t\t\t'name' : 'homepage_publisher.xml',\n\t\t\t\t'type' : 'interactive_filter',\n\t\t\t\t'filter_type': 'report', \n\t\t\t\t'ui_control_type': 'select_multiple',\n\t\t\t\t'display_name': 'Fact Table',\n\t\t\t\t'default_values': '{}',\n\t\t\t\t'default_config': '{\\'config\\': []}',\n\t\t\t\t'sys_id': guid(),\n\t\t\t\t'is_custom_interactive_filter': \"true\"\n\t\t\t}, \n\t\t\t'Breakdown - Table' : {\n\t\t\t\t'name' : 'homepage_publisher.xml',\n\t\t\t\t'type' : 'interactive_filter',\n\t\t\t\t'filter_type': 'breakdown',\n\t\t\t\t'ui_control_type': 'select_multiple',\n\t\t\t\t'display_name': 'Fact Table',\n\t\t\t\t'default_values': '{}',\n\t\t\t\t'default_config': '{\\'config\\': []}',\n\t\t\t\t'sys_id': guid(),\n\t\t\t\t'is_custom_interactive_filter': \"true\"\n\t\t\t}\n\t\t\n\t\t};\n\t}\n\t\n\tfunction render() {\n\t\tvar name = renderer.getPreferences().get(\"name\");\n\t\tvar type = renderer.getPreferences().get(\"type\");\n\t\tif(type == 'report') {\n\t\t\tvar reportId = renderer.getPreferences().get(\"report_id\");\n\t\t\tvar renderer_name = renderer.getPreferences().get(\"renderer_name\");\n\t\t\tvar targetTable = renderer.getPreferences().get(\"target_table\");\n\t\t\tvar sysparmProcessor = renderer.getPreferences().get(\"sysparm_processor\");\n\t\t\tvar appliedField = renderer.getPreferences().get(\"applied_field\");\n\t\t\tvar recordType = renderer.getPreferences().get(\"record_type\");\n\t\t\tvar jr = new GlideJellyRunner();\n\t\t\trenderer.getRenderProperties().setDeferInlineScripts(false);\n\t\t\tjr.setRenderProperties(renderer.getRenderProperties());\n\t\t\tjr.setTwoPhase(true);\n\t\t\tjr.setVariable('jvar_uid', randInt(100000, 999999) + '' + randInt(100000, 999999));\n\t\t\tjr.setVariable('jvar_report_id', reportId);\n\t\t\tjr.setVariable('jvar_target_table', targetTable);\n\t\t\tjr.setVariable('jvar_sysparm_processor', sysparmProcessor);\n\t\t\tjr.setVariable('jvar_renderer', renderer_name);\n\t\t\tjr.setVariable('jvar_applied_field', appliedField);\n\t\t\tjr.setVariable('jvar_record_type', recordType);\n\t\t\t\n\t\t\treturn jr.runFromTemplate(name);\n\t\t} else if(type == 'interactive_filter') {\n\t\t\tvar uiControlType = renderer.getPreferences().get(\"ui_control_type\");\n\t\t\tvar displayName = renderer.getPreferences().get(\"display_name\");\n\t\t\tvar sysId = renderer.getPreferences().get(\"sys_id\");\n\t\t\tvar filterType = renderer.getPreferences().get(\"filter_type\");\n\t\t\t\n\t\t\tvar jr2 = new GlideJellyRunner();\n\t\t\tvar tableString = new SNC.InteractiveFilterUtils().getTables();\n\t\t\tvar jsonData = new JSONParser();\n\t\t\tvar tables = jsonData.parse(tableString);\n\t\t\tvar glideRecord;\n\t\t\tvar publisherConfig;\n\t\t\tvar columnName = 'facts_table';\n\t\t\tif(filterType == \"indicator\") {\n\t\t\t\tpublisherConfig ='{\"isPublisher\":\"true\",\"filterType\":\"1\",\"config\":[{\"st\":\"pa_cubes\",\"sf\":\"facts_table\",\"id\":\"5a03494dc730030020508b3c5c9763ac\",\"allow_extended_table\":false},\t{\"st\":\"pa_indicators\",\"sf\":\"cube.facts_table\",\"id\":\"5a03494dc730030020108b3c5c9763ac\",\"allow_extended_table\":false}]}';\n\t\t\t\tglideRecord = new GlideAggregate(\"pa_cubes\");\n\t\t\t\tglideRecord.addAggregate('COUNT', 'facts_table');\n\t\t\t\tglideRecord.addQuery(\"benchmarking\", 0).addOrCondition(\"benchmarking\", 'null');\n\t\t\t\tglideRecord.query();\n\t\t\t} else if(filterType == \"breakdown\") {\n\t\t\t\tpublisherConfig ='{\"isPublisher\":\"true\",\"filterType\":\"1\",\"config\":[{\"st\":\"pa_dimensions\",\"sf\":\"facts_table\",\"id\":\"5a03494dc730030020508b3c5c9763ac\",\"allow_extended_table\":false},\t{\"st\":\"pa_breakdowns\",\"sf\":\"dimension.facts_table\",\"id\":\"5a03494dc730030020108b3c5c9763ac\",\"allow_extended_table\":false}]}';\n\t\t\t\tglideRecord = new GlideAggregate(\"pa_dimensions\");\n\t\t\t\tglideRecord.addAggregate('COUNT', 'facts_table');\n\t\t\t\tglideRecord.query();\n\t\t\t} else if(filterType == \"report\") {\n\t\t\t\tpublisherConfig ='{\"isPublisher\":\"true\",\"filterType\":\"1\",\"config\":[{\"st\":\"sys_report\",\"sf\":\"table\",\"id\":\"5a03494dc730030020508a3c5c9763ac\",\"allow_extended_table\":false}]}';\n\t\t\t\tglideRecord = new GlideAggregate(\"sys_report\");\n\t\t\t\tglideRecord.addAggregate('COUNT', 'table');\n\t\t\t\tglideRecord.query();\n\t\t\t\tcolumnName = 'table';\n\t\t\t}\n\t\t\t\n\t\t\tvar cl = new GlideChoiceList();\n\t\t\twhile(glideRecord.next()) {\n\t\t\t\tvar tableName = glideRecord[columnName];\n\t\t\t\tfor(var i = 0; i < tables.length; i++) {\n\t\t\t\t\tif(tableName == tables[i].name) {\n\t\t\t\t\t\tcl.add(tables[i].name, tables[i].label);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\trenderer.getRenderProperties().setDeferInlineScripts(false);\n\t\t\tjr2.setRenderProperties(renderer.getRenderProperties());\n\t\t\tjr2.setTwoPhase(true);\n\t\t\tjr2.setVariable('jvar_ui_control_type', uiControlType);\n\t\t\tjr2.setVariable('jvar_choices', cl);\n\t\t\tjr2.setVariable('jvar_name', displayName);\n\t\t\tjr2.setVariable('jvar_publisher_config', publisherConfig);\n\t\t\tjr2.setVariable('ref', sysId);\n\t\t\treturn jr2.runFromTemplate(name);\n\t\t} else {\n\t\t\tvar gf = new GlideForm(renderer.getGC(), name, 0);\n\t\t\tgf.setDirect(true);\n\t\t\tgf.setRenderProperties(renderer.getRenderProperties());\n\t\t\treturn gf.getRenderedPage();\n\t\t}\n\t}\n\t\n\tfunction getEditLink() {\n\t\tvar type = renderer.getPreferences().get(\"type\");\n\t\tif(type == 'report')\n\t\t\treturn \"sys_report_template.do?jvar_report_id=\" + renderer.getPreferences().get(\"report_id\");\n\t\telse\n\t\t\treturn \"sys_widgets.do?sys_id=48b4b4c0c7000300b0ea8b3c5c9763a1\";\n\t}\n\n\tfunction randInt(min, max) {\n\t\treturn Math.floor(Math.random() * (max - min + 1)) + min;\n\t}\n\tfunction guid() {\n\t  function s4() {\n\t\treturn Math.floor((1 + Math.random()) * 0x10000)\n\t\t  .toString(16)\n\t\t  .substring(1);\n\t  }\n\t  return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n\t\ts4() + '-' + s4() + s4() + s4();\n\t}","sys_class_name":"sys_widgets","renderer_type":"javascript","sys_id":"48b4b4c0c7000300b0ea8b3c5c9763a1","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d27eebf304752210559073c06a02f770","value":"d27eebf304752210559073c06a02f770"},"sys_update_name":"sys_widgets_48b4b4c0c7000300b0ea8b3c5c9763a1","sys_updated_by":"admin","sys_created_on":"2017-07-14 06:06:39","name":"Analytics Admin Console","sys_name":"Analytics Admin Console","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","order":"100","sys_policy":""},{"top_level_category":"true","renderer":"com.glide.cms.RenderBookmarks","roles":"","sys_mod_count":"14","active":"true","sys_updated_on":"2016-01-13 09:55:59","sys_tags":"","script":"","sys_class_name":"sys_widgets","renderer_type":"java","sys_id":"54a799119f32020092895ce2d57fcf9b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/411bab3304352210559073c06a02f767","value":"411bab3304352210559073c06a02f767"},"sys_update_name":"sys_widgets_54a799119f32020092895ce2d57fcf9b","sys_updated_by":"admin","sys_created_on":"2015-09-28 13:59:17","name":"<Favorites>","sys_name":"<Favorites>","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","order":"1","sys_policy":""},{"top_level_category":"true","renderer":"com.snc.pa.ui.RenderPerformanceAnalytics","roles":"pa_admin,pa_power_user","sys_mod_count":"4","active":"true","sys_updated_on":"2015-12-22 16:04:27","sys_tags":"","script":"","sys_class_name":"sys_widgets","renderer_type":"java","sys_id":"5f8ede9ad713010096614251ce6103d0","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/539a23bf04f12210559073c06a02f7aa","value":"539a23bf04f12210559073c06a02f7aa"},"sys_update_name":"sys_widgets_5f8ede9ad713010096614251ce6103d0","sys_updated_by":"admin","sys_created_on":"2013-08-22 09:27:59","name":"Performance Analytics","sys_name":"Performance Analytics","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","order":"4","sys_policy":""},{"top_level_category":"false","renderer":"","roles":"","sys_mod_count":"15","active":"true","sys_updated_on":"2014-12-12 00:02:49","sys_tags":"","script":"function sections() {\n    return {\n        'Outlier Finished Workflows for ERT (Percentage Outlier)' : { 'type' : 'wf_finished_ert' }, // references UI Page 'render_gadg//et_ert_parameters'\n        'Outlier Long Running Workflows for ERT (Percentage Outlier)' : { 'type' : 'wf_running_ert' }\n    };\n}\n\nfunction render() {\n    var type = renderer.getPreferences().get(\"type\")\n    var gf = new GlideForm(renderer.getGC(), \"render_gadget_\" + type, 0);\n    gf.setDirect(true);\n    gf.setRenderProperties(renderer.getRenderProperties());\n    return gf.getRenderedPage();\n}\n\nfunction getEditLink() {\n        if (!gs.hasRole('admin'))\n            return '';\n\n        return \"sys_ui_page.do?sysparm_query=name=render_gadget_\" + renderer.getPreferences().get(\"type\"); \n}","sys_class_name":"sys_widgets","renderer_type":"javascript","sys_id":"6a45fe69eb612100ec9a82810206feed","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d08efff04b12210559073c06a02f774","value":"5d08efff04b12210559073c06a02f774"},"sys_update_name":"sys_widgets_6a45fe69eb612100ec9a82810206feed","sys_updated_by":"shilpa.tisgaonkar","sys_created_on":"2014-06-26 19:44:04","name":"ERT Dashboard","sys_name":"ERT Dashboard","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"shilpa.tisgaonkar","order":"100","sys_policy":""},{"top_level_category":"true","renderer":"com.glideapp.home.RenderHomepagePublishers","roles":"","sys_mod_count":"3","active":"true","sys_updated_on":"2015-12-22 16:04:30","sys_tags":"","script":"","sys_class_name":"sys_widgets","renderer_type":"java","sys_id":"7541e323c331310038bf506adfba8f52","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/30e9e7fb04f12210559073c06a02f72a","value":"30e9e7fb04f12210559073c06a02f72a"},"sys_update_name":"sys_widgets_7541e323c331310038bf506adfba8f52","sys_updated_by":"admin","sys_created_on":"2015-01-30 10:31:15","name":"Interactive Filters","sys_name":"Interactive Filters","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","order":"5","sys_policy":""},{"top_level_category":"false","renderer":"","roles":"admin","sys_mod_count":"7","active":"false","sys_updated_on":"2021-06-03 13:01:47","sys_tags":"","script":"function sections() {\n    return {\n      'World Clocks' : { 'name' : 'example_cool_clock' }\n    };\n}\n\nfunction render() {\n  var name = renderer.getPreferences().get(\"name\")\n  var gf = new GlideForm(renderer.getGC(), name, 0);\n  gf.setDirect(true);\n  gf.setRenderProperties(renderer.getRenderProperties());\n  return gf.getRenderedPage();\n}\n\nfunction getEditLink() {\n  if (!gs.hasRole('admin'))\n     return '';\n\n  return \"sys_ui_page.do?sysparm_query=name=\" + renderer.getPreferences().get(\"name\");\n}","sys_class_name":"sys_widgets","renderer_type":"javascript","sys_id":"7c3525050a0a0ab8000968f6d8c87ea0","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/72532b7304312210559073c06a02f7c6","value":"72532b7304312210559073c06a02f7c6"},"sys_update_name":"sys_widgets_7c3525050a0a0ab8000968f6d8c87ea0","sys_updated_by":"admin","sys_created_on":"2007-05-11 17:34:56","name":"World Clocks","sys_name":"World Clocks","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"glide.maint","order":"","sys_policy":""},{"top_level_category":"false","renderer":"","roles":"","sys_mod_count":"8","active":"true","sys_updated_on":"2014-12-12 00:19:03","sys_tags":"","script":"function sections() {\n    return {\n              'Workflows Without Current Record' : { 'type' : 'wf_without_current' }\n             \n    };\n}\n\nfunction render() {\n\tvar type = renderer.getPreferences().get(\"type\")\n        var gf = new GlideForm(renderer.getGC(), \"render_gadget_\" + type, 0);\n        gf.setDirect(true);\n        gf.setRenderProperties(renderer.getRenderProperties());\n        return gf.getRenderedPage();\n}\n\nfunction getEditLink() {\n        if (!gs.hasRole('admin'))\n            return '';\n\n        return \"sys_ui_page.do?sysparm_query=name=render_gadget_\" + renderer.getPreferences().get(\"type\"); \n}","sys_class_name":"sys_widgets","renderer_type":"javascript","sys_id":"87abb535eb422100ec9a82810206fe00","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d08efff04b12210559073c06a02f774","value":"5d08efff04b12210559073c06a02f774"},"sys_update_name":"sys_widgets_87abb535eb422100ec9a82810206fe00","sys_updated_by":"shilpa.tisgaonkar","sys_created_on":"2014-07-22 06:42:12","name":"Workflow Dashboard","sys_name":"Workflow Dashboard","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"shilpa.tisgaonkar","order":"100","sys_policy":""},{"top_level_category":"false","renderer":"com.glide.ui.portal.RenderDashboard","roles":"admin","sys_mod_count":"2","active":"false","sys_updated_on":"2021-06-03 12:41:21","sys_tags":"","script":"","sys_class_name":"sys_widgets","renderer_type":"java","sys_id":"a0660eb60a0a0aa3005d1ccadbbcb233","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9543af3304312210559073c06a02f769","value":"9543af3304312210559073c06a02f769"},"sys_update_name":"sys_widgets_a0660eb60a0a0aa3005d1ccadbbcb233","sys_updated_by":"admin","sys_created_on":"2007-03-30 01:11:54","name":"Gauges","sys_name":"Gauges","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"glide.maint","order":"90","sys_policy":""},{"top_level_category":"false","renderer":"com.glide.ui.portal.RenderFilters","roles":"admin","sys_mod_count":"0","active":"false","sys_updated_on":"2007-03-30 01:12:18","sys_tags":"","script":"","sys_class_name":"sys_widgets","renderer_type":"java","sys_id":"a0666bc60a0a0aa300d784d7f61cd3c9","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9543af3304312210559073c06a02f769","value":"9543af3304312210559073c06a02f769"},"sys_update_name":"sys_widgets_a0666bc60a0a0aa300d784d7f61cd3c9","sys_updated_by":"glide.maint","sys_created_on":"2007-03-30 01:12:18","name":"Filters","sys_name":"Filters","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"glide.maint","order":"110","sys_policy":""},{"top_level_category":"false","renderer":"","roles":"admin","sys_mod_count":"20","active":"false","sys_updated_on":"2021-06-03 13:23:09","sys_tags":"","script":"function sections() {\n    return {\n              'Sticky Note' : { 'type' : 'sticky', 'content' : 'Default sticky note text here.' },\n              'System Information' : {\n                  'Overview' : { 'type' : 'system', 'action' : 'overview' },\n                  'Last Upgrade' : { 'type' : 'system', 'action' : 'upgrade_history' }\n              },\n              'Priority 1 Incidents' : { 'type' : 'priority_incidents' },\n              'Priority 1 Problems' : { 'type' : 'priority_problems' },\n              'Emergency Changes' : { 'type' : 'emergency_changes' }\n    };\n}\n\nfunction render() {\n\tvar type = renderer.getPreferences().get(\"type\");\n        var gf = new GlideForm(renderer.getGC(), \"render_gadget_\" + type, 0);\n        gf.setDirect(true);\n        gf.setRenderProperties(renderer.getRenderProperties());\n        return gf.getRenderedPage();\n}\n\nfunction getEditLink() {\n\t\tif (!gs.hasRole('admin'))\n            return '';\n\n        return \"sys_ui_page.do?sysparm_query=name=render_gadget_\" + renderer.getPreferences().get(\"type\"); \n}","sys_class_name":"sys_widgets","renderer_type":"javascript","sys_id":"a066bb690a0a0aa300d40d0cce7ed94f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9543af3304312210559073c06a02f769","value":"9543af3304312210559073c06a02f769"},"sys_update_name":"sys_widgets_a066bb690a0a0aa300d40d0cce7ed94f","sys_updated_by":"admin","sys_created_on":"2007-03-30 01:12:39","name":"Gadgets","sys_name":"Gadgets","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"glide.maint","order":"","sys_policy":""},{"top_level_category":"false","renderer":"com.glide.labels.RenderLabel","roles":"admin","sys_mod_count":"2","active":"false","sys_updated_on":"2021-06-03 13:08:47","sys_tags":"","script":"","sys_class_name":"sys_widgets","renderer_type":"java","sys_id":"a067150b0a0a0aa30075249a67524fec","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bd14ebf704312210559073c06a02f716","value":"bd14ebf704312210559073c06a02f716"},"sys_update_name":"sys_widgets_a067150b0a0a0aa30075249a67524fec","sys_updated_by":"admin","sys_created_on":"2007-03-30 01:13:01","name":"Labels","sys_name":"Labels","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"glide.maint","order":"","sys_policy":""},{"top_level_category":"false","renderer":"com.glide.ui.portal.RenderMenus","roles":"","sys_mod_count":"0","active":"true","sys_updated_on":"2007-03-30 01:13:42","sys_tags":"","script":"","sys_class_name":"sys_widgets","renderer_type":"java","sys_id":"a067b54e0a0a0aa3006b5cbf95c5a3c1","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9543af3304312210559073c06a02f769","value":"9543af3304312210559073c06a02f769"},"sys_update_name":"sys_widgets_a067b54e0a0a0aa3006b5cbf95c5a3c1","sys_updated_by":"glide.maint","sys_created_on":"2007-03-30 01:13:42","name":"System Applications","sys_name":"System Applications","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"glide.maint","order":"","sys_policy":""},{"top_level_category":"false","renderer":"com.glideapp.servicecatalog.RenderCategory","roles":"","sys_mod_count":"1","active":"true","sys_updated_on":"2013-11-19 17:20:51","sys_tags":"","script":"","sys_class_name":"sys_widgets","renderer_type":"java","sys_id":"a06919d90a0a0aa30052ea8b6d388a12","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3028ab3304f12210559073c06a02f7b7","value":"3028ab3304f12210559073c06a02f7b7"},"sys_update_name":"sys_widgets_a06919d90a0a0aa30052ea8b6d388a12","sys_updated_by":"admin","sys_created_on":"2007-03-30 01:15:14","name":"Catalog Categories","sys_name":"Catalog Categories","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"glide.maint","order":"100","sys_policy":""},{"top_level_category":"false","renderer":"","roles":"admin","sys_mod_count":"7","active":"false","sys_updated_on":"2021-06-03 13:18:22","sys_tags":"","script":"function sections() {\n   var widgetTypes = {};\n   widgetTypes[\"Top Searches\"] = topSearchSections();\n   // add any other types of text search widgets here\n   return widgetTypes;\n}\n\nfunction topSearchSections() {\n    var widgetTypes = {};\n    var widgetName = \"Top Searches - All\";\n    widgetTypes[widgetName] = generateTopSearchSectionObject(widgetName, \"top\", \"\");\n    var propertyName = \"glide.ts.widget.top_search_tables\";\n    var tablesProperty = gs.getProperty(propertyName);\n    if (tablesProperty != \"\") {\n       var tables = tablesProperty.split(\",\");\n       for (var i=0; i < tables.length; i++) {\n          var tableName = tables[i];\n          var gr = new GlideRecord(tableName);\n          if (!gr.isValid()) {\n             gs.log(\"Text Search table \\\"\" + tableName + \"\\\" specified by \" + propertyName + \" is not a valid table; skipping\");\n             continue;\n          }\n      \n          widgetName = \"Top Searches - \" + gr.getLabel();\n          widgetTypes[widgetName] = generateTopSearchSectionObject(widgetName, \"top\", tableName);\n       }\n    }\n    return widgetTypes;\n}\n\nfunction generateTopSearchSectionObject(widgetName, widgetType, tableName) {\n   return { \"type\" : widgetType, \"table\" : tableName };\n}\n\nfunction render() {\n\tvar type = renderer.getPreferences().get(\"type\");\n        var tableName = renderer.getPreferences().get(\"table\");\n        var gf = new GlideForm(renderer.getGC(), \"render_gadget_text_searches_\" + type, 0);\n        gf.setDirect(true);\n        gf.setRenderProperties(renderer.getRenderProperties());\n        return gf.getRenderedPage();\n}\n\nfunction getEditLink() {\n   return \"\"; // no edit\n}","sys_class_name":"sys_widgets","renderer_type":"javascript","sys_id":"a540d04307130000e8735720e1021e13","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7fc7e7bf04b12210559073c06a02f777","value":"7fc7e7bf04b12210559073c06a02f777"},"sys_update_name":"sys_widgets_a540d04307130000e8735720e1021e13","sys_updated_by":"admin","sys_created_on":"2011-06-20 22:18:02","name":"Text Search","sys_name":"Text Search","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"glide.maint","order":"100","sys_policy":""},{"top_level_category":"false","renderer":"","roles":"","sys_mod_count":"4","active":"true","sys_updated_on":"2017-08-10 18:38:50","sys_tags":"","script":"// Sections metadata by type\nvar meta = {\n  // Service Scorecard\n  'cmdb_service_scorecard_overall': {\n    url: '/$cmdb_scorecard.do?sysparm_type=overall'\n  },\n  'cmdb_service_scorecard_completeness': {\n    url: '/$cmdb_scorecard.do?sysparm_type=completeness'\n  },\n  'cmdb_service_scorecard_compliance': {\n    url: '/$cmdb_scorecard.do?sysparm_type=compliance'\n  },\n  'cmdb_service_scorecard_correctness': {\n    url: '/$cmdb_scorecard.do?sysparm_type=correctness'\n  },\n\n  // Service Top List\n  'cmdb_service_toplist_incident' : {\n    url:'/$cmdb_widget_countlist.do?sysparm_task=incident'\n  },\n  'cmdb_service_toplist_alert' : {\n    url:'/$cmdb_widget_countlist.do?sysparm_task=em_alert'\n  },\n  'cmdb_service_toplist_change' : {\n    url:'/$cmdb_widget_countlist.do?sysparm_task=change_request'\n  },\n  'cmdb_service_dashboard_class_hierarchy' : {\n    url: '/$cmdb_service_hierarchy.do?'\n  }\n};\n\n// Function to return available widget \nfunction sections() {\n  var obj = {};\n\n  // Service Scorecards\n  obj[gs.getMessage('CMDB Service Health Scorecard')] = { 'type': 'cmdb_service_scorecard_overall' };\n  obj[gs.getMessage('CMDB Compliance Scorecard')] = { 'type': 'cmdb_service_scorecard_compliance' };\n  obj[gs.getMessage('CMDB Correctness Scorecard')] = { 'type': 'cmdb_service_scorecard_correctness' };\n  obj[gs.getMessage('CMDB Completeness Scorecard')] = { 'type': 'cmdb_service_scorecard_completeness' };\n\n  // Service Count List\n  obj[gs.getMessage('Top 10 Incident Generators')] = { 'type': 'cmdb_service_toplist_incident' };\n  obj[gs.getMessage('Top 10 Alert Generators')] = { 'type': 'cmdb_service_toplist_alert' };\n  obj[gs.getMessage('Top 10 Change Generators')] = { 'type': 'cmdb_service_toplist_change' };\n   \n  // Service Hierarchy Tree\n  obj[gs.getMessage(\"CMDB Service Hierarchy\")] = { \"type\" : \"cmdb_service_dashboard_class_hierarchy\" };\n  \n  return obj;\n}\n\nfunction render() {\n  // Get widget\n  var widget = renderer.getPreferences().get('type');\n  \n  // Get widget type\n  var type = null;\n\n  if(widget.indexOf('cmdb_service_scorecard') == 0)\n    type = 'cmdb_service_scorecard';\n  else if(widget.indexOf('cmdb_service_toplist') == 0)\n    type = 'cmdb_service_toplist';\n  else if(widget.indexOf('cmdb_service_dashboard_class_hierarchy') == 0) {\n    type = 'cmdb_service_dashboard_class_hierarchy';\n  }\n  \n  // If type is valid\n  if(type == 'cmdb_service_scorecard' || type == 'cmdb_service_toplist' || type == 'cmdb_service_dashboard_class_hierarchy') {\n\n    // Get metadata for the widget\n    var m = meta[widget];\n\n    // Create a jelly runner to insert an iframe\n    var jr = new GlideJellyRunner();\n    renderer.getRenderProperties().setDeferInlineScripts(false);\n    jr.setRenderProperties(renderer.getRenderProperties());\n    jr.setTwoPhase(true);\n    \n    // Set the URL the iframe should have and other variables\n    jr.setVariable('jvar_type', type);\n    jr.setVariable('jvar_widget', widget);\n    jr.setVariable('jvar_uid', randInt(100000, 999999) + '' + randInt(100000, 999999));\n    jr.setVariable('jvar_url', m.url);\n    // Default is business service dashboard\n    jr.setVariable('jvar_service', 'cmdb_ci_service');  \n\n    // Run a template that returns the iframe\n    return jr.runFromTemplate('cmdb_service_widget_iframe.xml');\n  } else {\n    // Default to NOOP\n    return 'Invalid widget type';\n  }\n}\n\nfunction randInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nfunction getEditLink() {  \n        return '';  \n}\n","sys_class_name":"sys_widgets","renderer_type":"javascript","sys_id":"a71353b2eb231200aa784d3df106fe0e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_widgets_a71353b2eb231200aa784d3df106fe0e","sys_updated_by":"admin","sys_created_on":"2016-05-26 17:46:27","name":"CMDB Service Widgets","sys_name":"CMDB Service Widgets","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","order":"100","sys_policy":""},{"top_level_category":"false","renderer":"","roles":"admin","sys_mod_count":"3","active":"false","sys_updated_on":"2021-06-03 12:35:37","sys_tags":"","script":"function sections() {\n   return {\n      'Live Feed' : { 'type' : 'live_feed_small' }\n   };\n}\n\nfunction render() {\n   var type = renderer.getPreferences().get(\"type\");\n   var gf = new GlideForm(renderer.getGC(), \"render_gadget_\" + type, 0);\n   gf.setDirect(true);\n   gf.setRenderProperties(renderer.getRenderProperties());\n   return gf.getRenderedPage();\n}\n\nfunction getEditLink() {\n   if (!gs.hasRole('admin'))\n\t   return '';\n\n   return \"sys_ui_page.do?sysparm_query=name=render_gadget_\" + renderer.getPreferences().get(\"type\");\n}","sys_class_name":"sys_widgets","renderer_type":"javascript","sys_id":"ad1782c037612000ba138cdabebe5d5e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f159e33b04f12210559073c06a02f7c6","value":"f159e33b04f12210559073c06a02f7c6"},"sys_update_name":"sys_widgets_ad1782c037612000ba138cdabebe5d5e","sys_updated_by":"admin","sys_created_on":"2012-04-17 15:48:55","name":"Live Feed","sys_name":"Live Feed","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"fred.luddy","order":"100","sys_policy":""},{"top_level_category":"false","renderer":"","roles":"","sys_mod_count":"19","active":"true","sys_updated_on":"2017-08-10 19:25:27","sys_tags":"","script":"// Sections metadata by type\nvar meta = {\n  // Group Scorecard\n  'cmdb_group_scorecard_overall': {\n    url: '/$cmdb_scorecard.do?sysparm_type=overall'\n  },\n  'cmdb_group_scorecard_completeness': {\n    url: '/$cmdb_scorecard.do?sysparm_type=completeness'\n  },\n  'cmdb_group_scorecard_compliance': {\n    url: '/$cmdb_scorecard.do?sysparm_type=compliance'\n  },\n  'cmdb_group_scorecard_correctness': {\n    url: '/$cmdb_scorecard.do?sysparm_type=correctness'\n  },\n\n  // Group Top List\n  'cmdb_group_toplist_incident' : {\n    url:'/$cmdb_widget_countlist.do?sysparm_task=incident'\n  },\n  'cmdb_group_toplist_alert' : {\n    url:'/$cmdb_widget_countlist.do?sysparm_task=em_alert'\n  },\n  'cmdb_group_toplist_change' : {\n    url:'/$cmdb_widget_countlist.do?sysparm_task=change_request'\n  },\n  'cmdb_group_dashboard_class_hierarchy' : {\n    url: '/$cmdb_group_hierarchy.do?'\n  }\n};\n\n// Function to return available widget \nfunction sections() {\n  var obj = {};\n \n  // Group Scorecards\n  obj[gs.getMessage('CMDB Group Health Scorecard')] = { 'type': 'cmdb_group_scorecard_overall' };\n  obj[gs.getMessage('CMDB Group Compliance Scorecard')] = { 'type': 'cmdb_group_scorecard_compliance' };\n  obj[gs.getMessage('CMDB Group Correctness Scorecard')] = { 'type': 'cmdb_group_scorecard_correctness' };\n  obj[gs.getMessage('CMDB Group Completeness Scorecard')] = { 'type': 'cmdb_group_scorecard_completeness' };\n\n  // Group Count List\n  obj[gs.getMessage('Top 10 Incident Generators')] = { 'type': 'cmdb_group_toplist_incident' };\n  obj[gs.getMessage('Top 10 Alert Generators')] = { 'type': 'cmdb_group_toplist_alert' };\n  obj[gs.getMessage('Top 10 Change Generators')] = { 'type': 'cmdb_group_toplist_change' };\n   \n  // Group Hierarchy Tree\n  obj[gs.getMessage('CMDB Health Group List')] = { 'type' : 'cmdb_group_dashboard_class_hierarchy' };\n  \n  return obj;\n}\n\nfunction render() {\n  // Get widget\n  var widget = renderer.getPreferences().get('type');\n  \n  // Get widget type\n  var type = null;\n\n  if(widget.indexOf('cmdb_group_scorecard') == 0)\n    type = 'cmdb_group_scorecard';\n  else if(widget.indexOf('cmdb_group_toplist') == 0)\n    type = 'cmdb_group_toplist';\n  else if(widget.indexOf('cmdb_group_dashboard_class_hierarchy') == 0) {\n    type = 'cmdb_group_dashboard_class_hierarchy';\n  }\n  \n  // If type is valid\n  if(type == 'cmdb_group_scorecard' || type == 'cmdb_group_toplist') {\n\n    // Get metadata for the widget\n    var m = meta[widget];\n\t  \n\tvar firstGroupId = '';\n\t  \n\t// Get the first group\n\tvar gr = new GlideRecord('cmdb_group');\n\tgr.addQuery('group_type', 'health');\n\tgr.orderBy('group_name');\n\tgr.query();\n\t  \n\tif(gr.next()) {\n\t\tfirstGroupId = gr.getUniqueValue();\n\t}\n\n    // Create a jelly runner to insert an iframe\n    var jr = new GlideJellyRunner();\n    renderer.getRenderProperties().setDeferInlineScripts(false);\n    jr.setRenderProperties(renderer.getRenderProperties());\n    jr.setTwoPhase(true);\n    \n    // Set the URL the iframe should have and other variables\n    jr.setVariable('jvar_type', type);\n    jr.setVariable('jvar_widget', widget);\n    jr.setVariable('jvar_uid', randInt(100000, 999999) + '' + randInt(100000, 999999));\n    jr.setVariable('jvar_url', m.url); \n\tjr.setVariable('jvar_cmdb_group', firstGroupId);\n\n    // Run a template that returns the iframe\n    return jr.runFromTemplate('cmdb_group_widget_iframe.xml');\n  } else if(type == 'cmdb_group_dashboard_class_hierarchy') {\n\t  var jr = new GlideJellyRunner();\n\t  renderer.getRenderProperties().setDeferInlineScripts(false);\n\t  jr.setRenderProperties(renderer.getRenderProperties());\n\t  jr.setTwoPhase(true);\n\t  \n\t  return jr.runFromTemplate('cmdb_group_hierarchy_widget.xml');\n  } else {\n    // Default to NOOP\n    return 'Invalid widget type';\n  }\n}\n\nfunction randInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nfunction getEditLink() {  \n        return '';  \n}\n","sys_class_name":"sys_widgets","renderer_type":"javascript","sys_id":"c13fb4a8c7003200a210c1452e976322","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_widgets_c13fb4a8c7003200a210c1452e976322","sys_updated_by":"admin","sys_created_on":"2016-12-29 00:02:22","name":"CMDB Group Widgets","sys_name":"CMDB Group Widgets","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","order":"100","sys_policy":""},{"top_level_category":"false","renderer":"","roles":"","sys_mod_count":"2","active":"false","sys_updated_on":"2018-01-16 11:25:32","sys_tags":"","script":"function sections() {\n    return {\n              'Slow Performance Graphs' : { 'type' : 'slow_graph_set' }\n    };\n}\n\nfunction render() {\n\tvar type = renderer.getPreferences().get(\"type\")\n        var gf = new GlideForm(renderer.getGC(), \"render_gadget_\" + type, 0);\n        gf.setDirect(true);\n        gf.setRenderProperties(renderer.getRenderProperties());\n        return gf.getRenderedPage();\n}\n\nfunction getEditLink() {\n        if (!gs.hasRole('admin'))\n            return '';\n\n        return \"sys_ui_page.do?sysparm_query=name=render_gadget_\" + renderer.getPreferences().get(\"type\");\n}","sys_class_name":"sys_widgets","renderer_type":"javascript","sys_id":"c1fc3705cb110200a8d73426634c9cfe","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1cd467bf04312210559073c06a02f74e","value":"1cd467bf04312210559073c06a02f74e"},"sys_update_name":"sys_widgets_c1fc3705cb110200a8d73426634c9cfe","sys_updated_by":"maint","sys_created_on":"2015-07-15 17:46:49","name":"Slow Performance Graphs","sys_name":"Slow Performance Graphs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","order":"100","sys_policy":""},{"top_level_category":"false","renderer":"","roles":"","sys_mod_count":"2","active":"true","sys_updated_on":"2019-02-05 18:21:24","sys_tags":"","script":"function sections() {\n    return {\n      'Performance Dashboards' : { 'name' : 'performance_dashboards_iframe' }\n    };\n}\n\nfunction render() {\n  var name = renderer.getPreferences().get(\"name\");\n  var gf = new GlideForm(renderer.getGC(), name, 0);\n  gf.setDirect(true);\n  gf.setRenderProperties(renderer.getRenderProperties());\n  return gf.getRenderedPage();\n}\n\nfunction getEditLink() {\n  return \"\";\n}","sys_class_name":"sys_widgets","renderer_type":"javascript","sys_id":"dcfb23775b532300a9ad49ed5a62bc28","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f6e7e3ff04b12210559073c06a02f7e8","value":"f6e7e3ff04b12210559073c06a02f7e8"},"sys_update_name":"sys_widgets_dcfb23775b532300a9ad49ed5a62bc28","sys_updated_by":"james.capaldo@snc","sys_created_on":"2019-02-05 16:48:16","name":"Performance Dashboards","sys_name":"Performance Dashboards","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","order":"100","sys_policy":""},{"top_level_category":"false","renderer":"","roles":"","sys_mod_count":"34","active":"false","sys_updated_on":"2008-04-11 23:07:30","sys_tags":"","script":"function sections() {\r\n   \r\n   var answer = {};\r\n\r\n   var gr = new GlideAggregate('cmdb_ci');\r\n   gr.addAggregate('COUNT', 'category');\r\n   gr.query();\r\n   while (gr.next()) {\r\n      var title = gr.category;\r\n      var id = gr.category;\r\n      if (id == null || id == '')\r\n         continue;\r\n      answer[title] = id;\r\n   }\r\n   \r\n   return answer;\r\n   \r\n}\r\n\r\nfunction render() {\r\n  var name = renderer.getPreferences().get(\"name\")\r\n  var gf = new GlideForm(renderer.getGC(), \"render_category_counts\", 0);\r\n  gf.setDirect(true);\r\n  gf.setRenderProperties(renderer.getRenderProperties());\r\n  return gf.getRenderedPage();\r\n}","sys_class_name":"sys_widgets","renderer_type":"javascript","sys_id":"eca51aa20a0a0b5400b03940213024bd","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_widgets_eca51aa20a0a0b5400b03940213024bd","sys_updated_by":"glide.maint","sys_created_on":"2008-03-26 19:51:26","name":"Configuration Categories","sys_name":"Configuration Categories","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"david.loo","order":"","sys_policy":""}]}