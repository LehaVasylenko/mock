{"result":[{"before":"false","unloadable":"false","sys_mod_count":"11","description":"Clear default value from model Category for product model table.","sys_updated_on":"2019-09-17 12:36:02","sys_tags":"","record_for_rollback":"false","script":"updateDefaultValue('cmdb_model', 'cmdb_model_category', 'Bundle', '');\nfunction updateDefaultValue(table, columnName, currentValue, defaultValue){\n\tvar gr = new GlideRecord('sys_dictionary');\n\tgr.addQuery('name', table);\n\tgr.addQuery('default_value', currentValue);\n\tgr.addQuery('element', columnName);\n\tgr.query();\n\tif(gr.next()){\n\t\tgr.setValue('default_value',defaultValue);\n\t\tgr.update();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"000d4c0873400010c01ce234c4f6a738","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e325237304712210559073c06a02f7be","value":"e325237304712210559073c06a02f7be"},"sys_update_name":"sys_script_fix_000d4c0873400010c01ce234c4f6a738","sys_updated_by":"admin","sys_created_on":"2019-09-17 11:58:02","name":"Clear default value from model category","sys_name":"Clear default value from model category","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Move signing jobs from sys_mass_encryption_job table to sys_signing_job table that are in new state","sys_updated_on":"2023-04-05 19:01:03","sys_tags":"","record_for_rollback":"true","script":"(function() {\n    if (pm.isZboot())\n        return;\n    var oldSigningJobTable = 'sys_mass_encryption_job';\n    var newSigningJobTable = 'sys_signing_job';\n    var gr = new GlideRecord(oldSigningJobTable);\n    if (!gr.isValid())\n        return;\n    gr.addEncodedQuery('sys_class_name=sys_mass_encryption_job^type=mass_sign_records^ORtype=mass_sign_attachments^ORtype=sign_update_set^state=new');\n    gr.query();\n    while (gr.next()) {\n        gr.autoSysFields(false);\n        gr.setWorkflow(false);\n        gr.sys_class_name = newSigningJobTable;\n        gr.update();\n        gs.log(gs.getMessage('Migrated signing job record, name: {0}, sys_id: {1}, state: {2}, type: {3}', [gr.getValue('name'), gr.getUniqueValue(), gr.getValue('state'), gr.getValue('type')]));\n    }\n})();","sys_class_name":"sys_script_fix","sys_id":"0048f5a8c3422110de5da585b140dd05","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ffcd2b3304752210559073c06a02f779","value":"ffcd2b3304752210559073c06a02f779"},"sys_update_name":"sys_script_fix_0048f5a8c3422110de5da585b140dd05","sys_updated_by":"admin","sys_created_on":"2023-04-03 20:49:13","name":"Migrate signing jobs","sys_name":"Migrate signing jobs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"Populating the values for test_utterance and expected_intent columns by using the utterance reference","sys_updated_on":"2022-11-08 07:29:31","sys_tags":"","record_for_rollback":"false","script":"var testResultGr = new GlideRecord(\"nlu_batch_test_result\");\ntestResultGr.query();\nwhile (testResultGr.next()) {\n  testResultGr.setValue(\"test_utterance\", testResultGr.utterance.utterance);\n  testResultGr.setValue(\"expected_intent\", testResultGr.utterance.intent);\n  testResultGr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"004919daa3221110f066d78446fcda66","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_update_name":"sys_script_fix_004919daa3221110f066d78446fcda66","sys_updated_by":"admin","sys_created_on":"2022-10-17 04:51:00","name":"Update NLU Batch Test Result columns","sys_name":"Update NLU Batch Test Result columns","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"0","description":"Remove sys_plugins record for com.glide.automated_testing_framework.wbe as it was renamed to com.glide.automated_testing_impl.wce","sys_updated_on":"2018-02-27 17:15:59","sys_tags":"","record_for_rollback":"false","script":"if (!pm.isZboot()) {\n\tvar pluginGR = new GlideRecord(\"sys_plugins\");\n\tpluginGR.addQuery(\"source\", \"com.glide.automated_testing_framework.wbe\");\n\tpluginGR.query();\n\tif (pluginGR.next()) {\n\t\tpluginGR.deleteRecord();\n\t\tgs.info(\"Removed sys_plugins record with ID: com.glide.automated_testing_framework.wbe as it was renamed to com.glide.automated_testing_impl.wce\");\n\t} else\n\t\tgs.info(\"Did not find a sys_plugins record with ID: com.glide.automated_testing_framework.wbe\");\n}","sys_class_name":"sys_script_fix","sys_id":"008211196760130091d005225685ef5e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/da89277b04f12210559073c06a02f7d6","value":"da89277b04f12210559073c06a02f7d6"},"sys_update_name":"sys_script_fix_008211196760130091d005225685ef5e","sys_updated_by":"admin","sys_created_on":"2018-02-26 22:19:10","name":"Remove Whitelisted Browser Error plugin","sys_name":"Remove Whitelisted Browser Error plugin","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"This script is to delete the orphan records from Glide vars table if they weren't auto deleted with genius result virtual table record deletion","sys_updated_on":"2021-06-14 18:12:43","sys_tags":"","record_for_rollback":"false","script":"function pruneGeniusResultVariableRecords () {\n\tvar gr = new GlideRecord('sys_variable_value');\n\tgr.addEncodedQuery('document=v_search_genius_result^sys_created_on<javascript:gs.beginningOfLastMinute()');\n\tgr.deleteMultiple();\n}\n\npruneGeniusResultVariableRecords();","sys_class_name":"sys_script_fix","sys_id":"00dccda65b2030105b1eed35cc81c7ef","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/df99eb7b04f12210559073c06a02f7df","value":"df99eb7b04f12210559073c06a02f7df"},"sys_update_name":"sys_script_fix_00dccda65b2030105b1eed35cc81c7ef","sys_updated_by":"admin","sys_created_on":"2021-06-07 20:12:43","name":"Prune Genius Result Virtual Records","sys_name":"Prune Genius Result Virtual Records","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"","sys_updated_on":"2020-10-20 23:49:28","sys_tags":"","record_for_rollback":"false","script":"\nfunction updateCIReference() {\n\tvar gr = new GlideRecord('sys_dictionary');\n\tgr.addQuery('name', 'itam_ci_usage');\n\tgr.addQuery('element', 'resource');\n\tgr.addQuery('internal_type', 'reference');\n\tgr.addQuery('reference', 'cmdb_ci_hardware');\n\tgr.query();\n\tif (gr.next()) {\n\t\tgr.setValue('reference', 'cmdb_ci');\n\t\tgr.update();\n\t}\n}\nupdateCIReference();","sys_class_name":"sys_script_fix","sys_id":"019f556c1b446010fccd5468624bcbc9","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/45672bfb04b12210559073c06a02f7c5","value":"45672bfb04b12210559073c06a02f7c5"},"sys_update_name":"sys_script_fix_019f556c1b446010fccd5468624bcbc9","sys_updated_by":"admin","sys_created_on":"2020-10-20 23:45:07","name":"Update ITAM CI Usage Resource Reference","sys_name":"Update ITAM CI Usage Resource Reference","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"12","description":"This is a migration script to migrate from old sys props to a default record.","sys_updated_on":"2020-10-09 04:04:46","sys_tags":"","record_for_rollback":"false","script":"function getSysProperty(name){\n\tvar grProp = new GlideRecord('sys_properties');\n\tgrProp.addQuery('name', name);\n\tgrProp.query();\n\tif(grProp.next()){\n\t\treturn grProp.getValue('value');\n\t}\n\treturn null;\n}\n\nvar header_label = getSysProperty('com.glide.cs.branding.header_label');\nvar va_logo = getSysProperty('com.glide.cs.branding.va_logo');\nvar header_bg_color = getSysProperty('com.glide.cs.branding.header_bg_color');\nvar header_font_color = getSysProperty('com.glide.cs.branding.header_font_color');\nvar bg_color = getSysProperty('com.glide.cs.branding.bg_color');\nvar input_bg_color = getSysProperty('com.glide.cs.branding.input_bg_color');\nvar menu_icon_color = getSysProperty('com.glide.cs.branding.menu_icon_color');\n\nvar bubble_bg_color = getSysProperty('com.glide.cs.branding.bubble_bg_color');\nvar bubble_font_color = getSysProperty('com.glide.cs.branding.bubble_font_color');\nvar agent_bubble_bg_color = getSysProperty('com.glide.cs.branding.agent_bubble_bg_color');\nvar agent_bubble_font_color = getSysProperty('com.glide.cs.branding.agent_bubble_font_color');\nvar bot_bubble_bg_color = getSysProperty('com.glide.cs.branding.bot_bubble_bg_color');\nvar bot_bubble_font_color = getSysProperty('com.glide.cs.branding.bot_bubble_font_color');\nvar link_color = getSysProperty('com.glide.cs.branding.link_color');\nvar disabled_link_color = getSysProperty('com.glide.cs.branding.disabled_link_color');\nvar button_bg_color = getSysProperty('com.glide.cs.branding.button_bg_color');\nvar va_profile = getSysProperty('com.glide.cs.branding.va_profile');\n\nvar system_message_color = getSysProperty('com.glide.cs.branding.system_message_color');\nvar category_bg_color = getSysProperty('com.glide.cs.branding.category_bg_color');\nvar category_font_color = getSysProperty('com.glide.cs.branding.category_font_color');\nvar timestamp_color = getSysProperty('com.glide.cs.branding.timestamp_color');\nvar seperator_color = getSysProperty('name','com.glide.cs.branding.seperator_color');\nvar msg_delay = getSysProperty('com.glide.cs.branding.msg_delay');\nvar type_presence_delay = getSysProperty('com.glide.cs.branding.type_presence_delay');\nvar load_animation_color = getSysProperty('com.glide.cs.branding.load_animation_color');\n\nvar support_phone_label = getSysProperty('com.glide.cs.branding.support_phone_label');\nvar support_phone = getSysProperty('com.glide.cs.branding.support_phone');\nvar support_hours_label = getSysProperty('com.glide.cs.branding.support_hours_label');\nvar support_email_label = getSysProperty('com.glide.cs.branding.support_email_label');\nvar support_email = getSysProperty('com.glide.cs.branding.support_email');\n\nvar contact_live_agent = support_hours_label ? true : false;\nvar send_email = support_email_label ? true : false;\nvar phone_call = support_phone_label ? true : false;\n\nvar gr = new GlideRecord('sys_cs_branding_setup');\ngr.addQuery('branding_key','default_branding');\ngr.query();\nif(gr.next()) {\n\tif(va_logo){\n\t\t//Sys_property has image stored with .iix extension\n\t\tva_logo = va_logo.substring(0,va_logo.indexOf('.'));\n\t\tvar sys_att = new GlideRecord('sys_attachment');\n\t\tsys_att.get(va_logo);\n\t\tsys_att.setValue('table_name', 'ZZ_YYsys_cs_branding_setup');\n\t\tsys_att.setValue('table_sys_id',gr.getUniqueValue());\n\t\tsys_att.update();\n\t}\n\n\tgr.setValue('header_label',header_label);\n\tgr.setValue('va_logo',va_logo);\n\tgr.setValue('header_font_color',header_font_color);\n\tgr.setValue('bg_color',bg_color);\n\tgr.setValue('input_bg_color',input_bg_color);\n\tgr.setValue('menu_icon_color', menu_icon_color);\n\n\tgr.setValue('bubble_bg_color',bubble_bg_color);\n\tgr.setValue('bubble_font_color',bubble_font_color);\n\tgr.setValue('agent_bubble_bg_color',agent_bubble_bg_color);\n\tgr.setValue('agent_bubble_font_color',agent_bubble_font_color);\n\tgr.setValue('bot_bubble_bg_color',bot_bubble_bg_color);\n\tgr.setValue('bot_bubble_font_color',bot_bubble_font_color);\n\tgr.setValue('link_color',link_color);\n\tgr.setValue('disabled_link_color',disabled_link_color);\n\tgr.setValue('button_bg_color',button_bg_color);\n\tgr.setValue('va_profile',va_profile);\n\n\tif(system_message_color == '#7f8e9f') {\n\t\tgr.setValue('system_message_color','#666666');\n\t} else {\n\t\tgr.setValue('system_message_color',system_message_color);\n\t}\n\t\n\tif (header_bg_color == '#68A1AF')\n\t\tgr.setValue('header_bg_color','#4E7D88');\n\telse\n\t\tgr.setValue('header_bg_color', header_bg_color);\n\t\n\tgr.setValue('category_bg_color',category_bg_color);\n\tgr.setValue('category_font_color',category_font_color);\n\tgr.setValue('timestamp_color',timestamp_color);\n\tgr.setValue('seperator_color',seperator_color);\n\tgr.setValue('msg_delay',msg_delay);\n\tgr.setValue('type_presence_delay',type_presence_delay);\n\tgr.setValue('load_animation_color',load_animation_color);\n\n\tgr.setValue('support_phone_label',support_phone_label);\n\tgr.setValue('support_phone',support_phone);\n\tgr.setValue('support_hours_label',support_hours_label);\n\tgr.setValue('support_email_label',support_email_label);\n\tgr.setValue('support_email',support_email);\n\n\tgr.setValue('contact_live_agent',contact_live_agent);\n\tgr.setValue('send_email',send_email);\n\tgr.setValue('phone_call',phone_call);\n\tgr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"01ab3cfe530333009686ddeeff7b1235","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/24a3b33704b52210559073c06a02f7d4","value":"24a3b33704b52210559073c06a02f7d4"},"sys_update_name":"sys_script_fix_01ab3cfe530333009686ddeeff7b1235","sys_updated_by":"admin","sys_created_on":"2019-08-07 11:22:47","name":"brandingSetup","sys_name":"brandingSetup","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"29","description":"","sys_updated_on":"2019-11-11 20:16:59","sys_tags":"","record_for_rollback":"false","script":"if (!pm.isZboot()) {\n\t/*\n\tOOB Solution definitions need to be skipped if plugin uses other than com.glide.platform_ml plugin in the if folder to checkin OOB solution definition. There is problem of overriding the OOB solution definition sys_id with sequence in which plugins are installed.\n\tOOB Solution Definition\n\t\tNlU \n\t\t\t'ml_setup_topics_model', 'ml_sn_itsm_nlu_itsm_nlu_for_va', 'ml_sn_csm_nlu_customer_service_nlu_model', 'ml_sn_hr_nlu_hr_nlu'\n\t\t\t\n\t\tCSM contextual search \n\t\t\t'ml_sn_global_all_similar_cases', 'ml_sn_global_recommended_resolved_cases', 'ml_sn_global_major_issue_detector', 'ml_sn_global_recommended_open_cases', 'ml_sn_global_articles_similar_to_cases', 'ml_sn_global_knowledge_similar_articles'\n\t\t\n\t\tITSM contextual search\n\t\t\t'ml_sn_global_similar_open_incidents', 'ml_sn_global_similar_resolved_incidents', 'ml_sn_global_similar_incidents', 'ml_sn_global_articles_similar_to_incidents', 'ml_sn_global_major_incident_recommendation'\n\t\t\n\t\tMajor incident management 'ml_sn_global_similar_incidents_mim'\n\t\tIncident management 'ml_incident_categorization','ml_incident_assignment'\n\t\n\t*/\n\tvar solutionArr = ['ml_setup_topics_model', 'ml_sn_itsm_nlu_itsm_nlu_for_va', 'ml_sn_csm_nlu_customer_service_nlu_model', 'ml_sn_hr_nlu_hr_nlu', 'ml_sn_global_all_similar_cases', 'ml_sn_global_recommended_resolved_cases', 'ml_sn_global_major_issue_detector', 'ml_sn_global_recommended_open_cases', 'ml_sn_global_articles_similar_to_cases', 'ml_sn_global_knowledge_similar_articles','ml_sn_global_similar_open_incidents', 'ml_sn_global_similar_resolved_incidents', 'ml_sn_global_similar_incidents', 'ml_sn_global_articles_similar_to_incidents', 'ml_sn_global_major_incident_recommendation','ml_sn_global_similar_incidents_mim','ml_incident_categorization','ml_incident_assignment'];\n\tnew MLSchemaFixScriptHelper().fixMLSchemaforOrlandoUpgrade(solutionArr, 'exclude');\n}","sys_class_name":"sys_script_fix","sys_id":"0248a3cd5317b300d1dcddeeff7b1241","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_script_fix_0248a3cd5317b300d1dcddeeff7b1241","sys_updated_by":"admin","sys_created_on":"2019-08-15 17:53:45","name":"Move ML definition to new schema","sys_name":"Move ML definition to new schema","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"10","description":"Update help_guidance, interaction tables initial values","sys_updated_on":"2024-11-18 12:06:20","sys_tags":"","record_for_rollback":"true","script":"function updateInitialValuesForGuidanceAndInteractions() {\n    var constants = new sn_ads_setup.SNHelpSetupConstantProvider();\n    var player = new sn_ads_setup.SNHelpSetupPlayerController();\n    player.updateInitialValuesForGuidanceAndInteractions();\n    player.updateDefaultValueForSysDomainPathInExistingRecord(constants.tables.user_interaction, 'guidance.type=global_setup');\n    player.updateDefaultValueForSysDomainPathInExistingRecord(constants.tables.user_interaction_step, 'step.guidance.type=global_setup');\n}\n\nupdateInitialValuesForGuidanceAndInteractions();","sys_class_name":"sys_script_fix","sys_id":"027e1aab4344521050286548b9b8f2a8","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_update_name":"sys_script_fix_027e1aab4344521050286548b9b8f2a8","sys_updated_by":"admin","sys_created_on":"2024-08-22 09:20:51","name":"Update guided setup initial values","sys_name":"Update guided setup initial values","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"The execution column has been added to the chg_policy table, which is extended by chg_policy_approval. The default value of this field is Run all decisions that match, this supports the existing behavior of Change Approval Policies.\r\nThis Fix Script updates existing chg_policy records by setting the execution field to the default value of Run all decisions that match.","sys_updated_on":"2019-08-15 10:55:33","sys_tags":"","record_for_rollback":"false","script":"var chgPolApprGR = new GlideRecord(\"chg_policy\");\nchgPolApprGR.addNullQuery(\"execution\");\nchgPolApprGR.setValue(\"execution\", \"all\");\nchgPolApprGR.updateMultiple();","sys_class_name":"sys_script_fix","sys_id":"02babd59531733008ef67c2c0fc587bd","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/463c67f704352210559073c06a02f76b","value":"463c67f704352210559073c06a02f76b"},"sys_update_name":"sys_script_fix_02babd59531733008ef67c2c0fc587bd","sys_updated_by":"admin","sys_created_on":"2019-08-15 10:54:40","name":"Set execution on chg_policy_approval","sys_name":"Set execution on chg_policy_approval","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"This fix scripts ensure the metadata column of sys_one_extend_capability_definition to be of type json with max_length as 8000 ","sys_updated_on":"2024-08-12 12:11:39","sys_tags":"","record_for_rollback":"true","script":"gs.info(sn_i18n.Message.getMessage('glide-one-extend', 'Started executing the Fix script: Change CapabilityDef metadata column'));\nvar gr = new GlideRecord(\"sys_dictionary\");\ngr.addQuery(\"name\", \"sys_one_extend_capability_definition\");\ngr.addQuery(\"element\", \"metadata\");\ngr.query();\nif (gr.next()) {\n    var internalType = gr.getValue(\"internal_type\");\n    var maxLength = parseInt(gr.getValue(\"max_length\") || \"0\");\n    if (internalType != \"json\" || maxLength != 8000) {\n\t\tgs.info(internalType);\n\t\tgs.info(maxLength);\n        gr.setValue(\"internal_type\", \"json\");\n        gr.setValue(\"max_length\", \"8000\");\n        gr.update();\n        gs.info(sn_i18n.Message.getMessage('glide-one-extend', 'OneExtendCapabilityDefinition: Successfully ensured the type of column to json and maxLength to 8000.'));\n    }\n}\ngs.info(sn_i18n.Message.getMessage('glide-one-extend', 'Completed executing the Fix script: Change CapabilityDef metadata column'));","sys_class_name":"sys_script_fix","sys_id":"035e5b187f401210f465c3b76d8665dc","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7c84affb04312210559073c06a02f73d","value":"7c84affb04312210559073c06a02f73d"},"sys_update_name":"sys_script_fix_035e5b187f401210f465c3b76d8665dc","sys_updated_by":"admin","sys_created_on":"2024-08-12 11:29:19","name":"Change CapabilityDef metadata column","sys_name":"Change CapabilityDef metadata column","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"This fix script will add the element attribute:  SGElementParameterMapper from sys_sg_button.offline_template_field ","sys_updated_on":"2021-09-10 00:00:00","sys_tags":"","record_for_rollback":"false","script":"addSGElementParameterMapperAttribute();\n\nfunction addSGElementParameterMapperAttribute() {\n    var gr = new GlideRecord('sys_dictionary');\n    gr.addQuery('name', 'sys_sg_button');\n    gr.addQuery('element', 'offline_template_field');\n    gr.query();\n    if (!gr.next())\n        return;\n\n    gr.setValue('attributes', 'allow_journal=true,element_mapping_provider=com.glide.sg.parameter_mapping.SGElementParameterMapper');\n    gr.setWorkflow(false);\n    gr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"03f6f7717332201050f787086bf6a718","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/baa57f7b04b52210559073c06a02f754","value":"baa57f7b04b52210559073c06a02f754"},"sys_update_name":"sys_script_fix_03f6f7717332201050f787086bf6a718","sys_updated_by":"admin","sys_created_on":"2021-03-11 00:58:06","name":"Fix sys_sg_button field attributes","sys_name":"Fix sys_sg_button field attributes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Default NLU Model Category to virtual_agent as all existing models are of Virtual agent category.","sys_updated_on":"2020-08-23 13:03:59","sys_tags":"","record_for_rollback":"false","script":"function updateNLUModelCategory(category) {\n    var gr = new GlideRecord(\"sys_nlu_model\");\n    gr.addNullQuery(\"category\");\n    gr.query();\n    while (gr.next()) {\n        gr.setValue(\"category\",category);\n        gr.setWorkflow(false);\n\t\tgr.autoSysFields(false);\n        gr.update();\n    }\n}\n\nupdateNLUModelCategory(\"virtual_agent\");","sys_class_name":"sys_script_fix","sys_id":"041d24c1773210102f5a3882a91061d7","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_script_fix_041d24c1773210102f5a3882a91061d7","sys_updated_by":"admin","sys_created_on":"2020-08-21 05:58:31","name":"Default NLU Model Category","sys_name":"Default NLU Model Category","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Bulk updates the Full Category based on the localized value of the Category Labels across all Knowledge Bases.","sys_updated_on":"2016-04-06 16:44:37","sys_tags":"","record_for_rollback":"false","script":"var localizationHelper = new UpdateAllKnowledgeFullCategory();\nlocalizationHelper.updateFullCategoryForAllLocale(); ","sys_class_name":"sys_script_fix","sys_id":"041df4c35b1212007223286411f91a03","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2fe727ff04b12210559073c06a02f7dd","value":"2fe727ff04b12210559073c06a02f7dd"},"sys_update_name":"sys_script_fix_041df4c35b1212007223286411f91a03","sys_updated_by":"admin","sys_created_on":"2016-03-25 22:11:33","name":"BulkUpdateKnowledgeFullCategory","sys_name":"BulkUpdateKnowledgeFullCategory","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Enables favorite for employee center portal and provide a default favorite icon, to give user flexibility to favorite  knowledge article, catalog items, apps etc.","sys_updated_on":"2022-02-03 06:27:55","sys_tags":"","record_for_rollback":"false","script":"var EC_PORTAL_ID = '70cd9f3b734b13001fdae9c54cf6a72f';\nvar quickStartConfig = [{\n    \"favorite\": {\n        \"icon_checked\": \"fa-heart\",\n        \"icon_unchecked\": \"fa-heart-o\",\n        \"color\": \"primary\"\n    }\n}];\nvar grPortal = new GlideRecord('sp_portal');\ngrPortal.get(EC_PORTAL_ID);\ngrPortal.enable_favorites = true;\nvar existingConfig = grPortal.quick_start_config;\nif (!existingConfig) {\n    grPortal.quick_start_config = JSON.stringify(quickStartConfig);\n} else {\n    existingConfig = JSON.parse(existingConfig);\n    if (!existingConfig[0].hasOwnProperty(\"favorite\")) {\n        existingConfig[0].favorite = quickStartConfig[0].favorite;\n    }\n    grPortal.quick_start_config = JSON.stringify(existingConfig);\n}\ngrPortal.update();\n","sys_class_name":"sys_script_fix","sys_id":"044753bf531101104180ddeeff7b121a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3d1da2705b021200a4656ede91f91ab6","value":"3d1da2705b021200a4656ede91f91ab6"},"sys_update_name":"sys_script_fix_044753bf531101104180ddeeff7b121a","sys_updated_by":"admin","sys_created_on":"2022-02-03 06:27:55","name":"Enable favorites for Employee Center","sys_name":"Enable favorites for Employee Center","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3d1da2705b021200a4656ede91f91ab6","value":"3d1da2705b021200a4656ede91f91ab6"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Set com.snc.itsm.add_ci.no_query to true for zboot","sys_updated_on":"2023-11-27 19:12:25","sys_tags":"","record_for_rollback":"false","script":"(function() {\n    if (GlidePluginManager.isZboot())\n        gs.setProperty('com.snc.itsm.add_ci.no_query', 'true');\n})();","sys_class_name":"sys_script_fix","sys_id":"0455ba01437a3110736c3d1e2ab8f2f2","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/32b7af7f04b12210559073c06a02f7fb","value":"32b7af7f04b12210559073c06a02f7fb"},"sys_update_name":"sys_script_fix_0455ba01437a3110736c3d1e2ab8f2f2","sys_updated_by":"admin","sys_created_on":"2023-11-27 17:03:43","name":"Set add_ci.no_query to true on zboot","sys_name":"Set add_ci.no_query to true on zboot","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"There are couple of dashboards that would display empty due to a missing link between the sys_portal_page and its associated portal widgets.\r\nThis is a fix to copy sys_portal_page IDs to sys_portal and ensure backward compatibility for when Responsive Canvas is switched off. ","sys_updated_on":"2017-05-18 09:14:00","sys_tags":"","record_for_rollback":"false","script":"var grPortal = new GlideRecord(\"sys_portal\");\ngrPortal.addNullQuery(\"page\");\ngrPortal.query();\nwhile (grPortal.next()) {\n\tvar grCanvasPane = new GlideRecord(\"sys_grid_canvas_pane\");\n\tif (grCanvasPane.isValid()) {\n\t\tgrCanvasPane.addQuery(\"portal_widget\", grPortal.getUniqueValue());\n\t\tgrCanvasPane.query();\n\t\tif (grCanvasPane.next()) {\n\t\t\tvar grCanvas = new GlideRecord(\"sys_grid_canvas\");\n\t\t\tif (grCanvas.isValid() && grCanvas.get(grCanvasPane.getValue(\"grid_canvas\"))) {\n\t\t\t\tgrPortal.setValue(\"page\", grCanvas.getValue(\"legacy_page\"));\n\t\t\t\tgrPortal.update();\n\t\t\t}\n\t\t}\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"048abf61873232004ebe19fa84e3ec03","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/411bab3304352210559073c06a02f767","value":"411bab3304352210559073c06a02f767"},"sys_update_name":"sys_script_fix_048abf61873232004ebe19fa84e3ec03","sys_updated_by":"admin","sys_created_on":"2017-05-18 09:14:00","name":"Fix for blank dashboards","sys_name":"Fix for blank dashboards","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Change the default update_frequency to do_not_update in ml_solution","sys_updated_on":"2020-09-29 21:54:36","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('sys_dictionary');\ngr.addQuery('name', 'ml_solution');\ngr.addQuery('element', 'update_frequency');\ngr.query();\nif (gr.next()) {\n\tgr.setValue('default_value', 'do_not_update');\n\tgr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"04ba74fdc72310101845e1a58dc2606c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_script_fix_04ba74fdc72310101845e1a58dc2606c","sys_updated_by":"admin","sys_created_on":"2020-09-29 21:54:36","name":"Change default update_freq ml_solution","sys_name":"Change default update_freq ml_solution","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"schedules a job that will attempt to loop through ml_predictor_results table where incident are closed and predicted correctly is false and final output value is present in order to fix the 'Final Output Value' and 'Predicted Correctly' field values as needed. \r\n","sys_updated_on":"2024-02-26 16:17:59","sys_tags":"","record_for_rollback":"true","script":"var script = \"fixPredictedCorrectlyForRefField();\\\nfunction fixPredictedCorrectlyForRefField() { \\\n   var predGR = new GlideRecord('ml_predictor_results'); \\\n    predGR.addEncodedQuery('reason=On close^predicted_table=incident^predicted_correctly=false^final_output_valueISNOTEMPTY');\\\n    predGR.query();\\\n    //total rows returned \\\n    gs.info('PI :: Running Fix Script - ML Predicted Results data :: ML Predictor Results return = ' + predGR.getRowCount());\\\n    var count = 0; \\\n    while (predGR.next()) { \\\n        var predFieldName = predGR.getValue('predicted_output_value_name');\\\n        var predFieldValue = predGR.getValue('predicted_output_value');\\\n        var incSysID = predGR.getValue('source_sys_id');\\\n        var predictedTable = 'incident';\\\n        // Query incident table \\\n        var sourceGR = new GlideRecord(predictedTable);\\\n        sourceGR.get(incSysID);\\\n        var isReferenceField = sourceGR.isValid() && sourceGR.getElement(predFieldName).getED().isReference();\\\n        if (isReferenceField && !gs.nil(predFieldValue)) {\\\n            var predFieldValueArr = predFieldValue.split(',');\\\n            var finalOutputValue = (predFieldValueArr.length > 0 && GlideStringUtil.isEligibleSysID(predFieldValueArr[0])) ? \\\n                sourceGR.getValue(predFieldName) :\\\n                sourceGR.getDisplayValue(predFieldName);\\\n            // if the correct final_output_value matches with predicted_output_value and set predicted_correctly=TRUE\\\n            if (predFieldValueArr.indexOf(finalOutputValue) !== -1) {\\\n                predGR.setValue('predicted_correctly', true);\\\n                count++;\\\n            }\\\n            predGR.setValue('final_output_value', finalOutputValue);\\\n            predGR.setWorkflow(false);\\\n            predGR.update();\\\n        }\\\n    }\\\n    gs.info('PI :: Completed Fix Script - Updated ML Predictor Results predicted correctly to true for ' + count + ' rows');\\\n}\";\nGlideRunScriptJob.scheduleScript(script);","sys_class_name":"sys_script_fix","sys_id":"05070dfd771002104548d4f64b5a99cb","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_script_fix_05070dfd771002104548d4f64b5a99cb","sys_updated_by":"admin","sys_created_on":"2024-02-12 06:24:43","name":"Fix ML Predictor Results Records","sys_name":"Fix ML Predictor Results Records","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"6","description":"Change the column type for ip_address fields in glide-core-automation tables to the internal type  'ip_addr'","sys_updated_on":"2022-02-28 18:39:49","sys_tags":"","record_for_rollback":"false","script":"var totalStart = new Date().getTime();\nfixIPAddressColumnType();\nvar totalEnd = new Date().getTime();\n\ngs.debug('FIX_IPADDR_DISCO_CORE: [Total execution time = ' + (totalEnd - totalStart) + ' ms]');\n\nfunction fixIPAddressColumnType() {\n    gs.debug(\"FIX_IPADDR_DISCO_CORE: Starting the fix script 'fixIPAddressColumnType'\");\n\n    var ipFields = {\n        discovery_range_item: [{\n                'name': 'end_ip_address',\n                'ip_data_control': 'canonical'\n            },\n            {\n                'name': 'start_ip_address',\n                'ip_data_control': 'canonical'\n            },\n            {\n                'name': 'network_ip',\n                'ip_data_control': 'canonical'\n            }\n        ],\n        dscy_credentials_affinity: [{\n            'name': 'ip_address',\n            'ip_data_control': 'canonical'\n        }],\n        dscy_priv_command_affinity: [{\n            'name': 'ip_address',\n            'ip_data_control': 'canonical'\n        }],\n        ecc_agent: [{\n                'name': 'router',\n                'ip_data_control': 'canonical'\n            },\n            {\n                'name': 'ip_address',\n                'ip_data_control': 'canonical'\n            }\n        ],\n        ecc_agent_ip_address: [{\n            'name': 'ip_address',\n            'ip_data_control': 'canonical'\n        }],\n        ecc_agent_router: [{\n            'name': 'router',\n            'ip_data_control': 'canonical'\n        }],\n        ecc_agent_command_audit_log: [{\n            'name': 'target_device'\n        }],\n        ip_service_affinity: [{\n            'name': 'ip_address',\n            'ip_data_control': 'canonical'\n        }]\n    };\n\n    IPAddrFixScriptUtil.fixIPAddressColumnType('FIX_IPADDR_DISCO_CORE', ipFields);\n\n    gs.debug(\"FIX_IPADDR_TYPE: End of fix script 'fixIPAddressColumnType'\");\n}","sys_class_name":"sys_script_fix","sys_id":"057b92265b323010c7ca1e991e81c78c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/91d8237704f12210559073c06a02f73b","value":"91d8237704f12210559073c06a02f73b"},"sys_update_name":"sys_script_fix_057b92265b323010c7ca1e991e81c78c","sys_updated_by":"varsha.rao","sys_created_on":"2021-09-28 00:35:56","name":"Fix IP Address Column type in Disco-Core","sys_name":"Fix IP Address Column type in Disco-Core","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"varsha.rao","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"6","description":"","sys_updated_on":"2023-04-20 09:27:13","sys_tags":"","record_for_rollback":"true","script":"var gr = new GlideRecord('sn_ace_page');\ngr.addQuery('is_template', false);\ngr.addNotNullQuery('template');\ngr.addNotNullQuery('route');\ngr.addNotNullQuery('template.version');\ngr.query();\nwhile (gr.next()) {\n    gr.setValue('version', gr.template.version);\n    gr.update();\n    gs.info('FIX SCRIPT: \"Update version in ACE Page table\": ' + gr.getValue('name') + ' - ' + gr.getValue('version'));\n}","sys_class_name":"sys_script_fix","sys_id":"057dbd6677b12110bc5db5b27a5a991e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_update_name":"sys_script_fix_057dbd6677b12110bc5db5b27a5a991e","sys_updated_by":"admin","sys_created_on":"2023-03-28 15:34:16","name":"Patch ACE Page table","sys_name":"Patch ACE Page table","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"7","description":"Updates sys_app_scan_failure.reason's label to Error and adds the \"no_truncate\" attribute.","sys_updated_on":"2022-09-09 17:27:55","sys_tags":"","record_for_rollback":"true","script":"var scanFailureReasonDictGR = new GlideRecord('sys_dictionary');\nscanFailureReasonDictGR.addQuery('name', 'sys_app_scan_failure');\nscanFailureReasonDictGR.addQuery('element', 'reason');\nscanFailureReasonDictGR.query();\n\nif (scanFailureReasonDictGR.next()) {\n\t\n\t//Add no_truncate attribute\n\tvar attributes = scanFailureReasonDictGR.getValue('attributes');\n\tif (gs.nil(attributes)) {\n\t\tgs.info(\"Adding no_truncate attribute to sys_app_scan_failure.reason\");\n\t\tscanFailureReasonDictGR.setValue('attributes', 'no_truncate=true');\n\t} else if (attributes.indexOf('no_truncate') < 0) {\n\t\tgs.info(\"Adding no_truncate attribute to sys_app_scan_failure.reason\");\n\t\tscanFailureReasonDictGR.setValue('attributes', attributes + ',no_truncate=true');\n\t}\n\t\n\t//Set \"Reason\" column label to \"Error\"\n\tscanFailureReasonDictGR.setValue('column_label', 'Error');\n\tgs.info(\"Changing sys_app_scan_failure.reason column label to 'Error'\");\n\t\n\tif (scanFailureReasonDictGR.update()) {\n\t\tgs.info(\"Updated sys_app_scan_failure.reason dictionary record\");\n\t} else {\n\t\tgs.error(\"Failed to update sys_app_scan_failure.reason dictionary record\");\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"058325515371911076f0ddeeff7b1202","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2fbb6b3704352210559073c06a02f707","value":"2fbb6b3704352210559073c06a02f707"},"sys_update_name":"sys_script_fix_058325515371911076f0ddeeff7b1202","sys_updated_by":"admin","sys_created_on":"2022-09-06 20:15:36","name":"Scan Failure Table Updates","sys_name":"Scan Failure Table Updates","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2021-10-06 12:38:56","sys_tags":"","record_for_rollback":"false","script":"if (!pm.isZboot()) {\n    GlideTextIndexEvent().indexUpdate('sys_cs_topic', null);\n}","sys_class_name":"sys_script_fix","sys_id":"05ee2eddc3cf3010a86b4fb9c840ddfd","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/dec3fb3704b52210559073c06a02f782","value":"dec3fb3704b52210559073c06a02f782"},"sys_update_name":"sys_script_fix_05ee2eddc3cf3010a86b4fb9c840ddfd","sys_updated_by":"admin","sys_created_on":"2021-10-06 12:37:34","name":"Re-index sys_cs_topic during app upgrade","sys_name":"Re-index sys_cs_topic during app upgrade","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"true","sys_mod_count":"6","description":"Sets 'com.snc.problem.create_from_interaction.save' property to false on upgrade .","sys_updated_on":"2022-05-18 11:10:56","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tif (GlidePluginManager.isZboot())\n\t\treturn;\n\tvar prevWF = gs.getSession().getWorkflow();\n\ttry {\n\t\tgs.getSession().setWorkflow(true);\n\t\tgs.setProperty('com.snc.problem.create_from_interaction.save', false);\n\t}\n\tfinally{\n\t\tgs.getSession().setWorkflow(prevWF);\n\t}\n})();","sys_class_name":"sys_script_fix","sys_id":"05ff254253873010f073ddeeff7b12a2","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8ddc67fb04352210559073c06a02f70d","value":"8ddc67fb04352210559073c06a02f70d"},"sys_update_name":"sys_script_fix_05ff254253873010f073ddeeff7b12a2","sys_updated_by":"admin","sys_created_on":"2021-10-08 16:00:03","name":"Set Interaction to Problem properties","sys_name":"Set Interaction to Problem properties","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"","sys_updated_on":"2021-08-26 16:08:26","sys_tags":"","record_for_rollback":"false","script":"var fTargetField = 'trigger';\nvar fTargetTable = 'ais_rule';\n\nvar fReplacements = {\n    'domain=': 'domains_id=',\n    'location=': 'location_id=',\n    'roles=': 'roles_id='\n};\n\nvar keys = Object.keys(fReplacements);\n\n\n// Find rules using old condition values\nvar gr = new GlideRecord(fTargetTable);\nvar grOr = gr.addORQuery(fTargetField, \"CONTAINS\", keys[0]);\nfor (var i = 1; i < keys.length; i++)\n    grOr.addORQuery(fTargetField, \"CONTAINS\", keys[i]);\ngr.query();\n\nvar profileIdsToPublish = [];\nvar profileNamesToPublish = [];\n\nwhile (gr.next()) {\n    // Find already published profiles to republish later\n    var profileId = gr.getValue('profile');\n    if (!profileIdsToPublish.includes(profileId)) {\n        var profile = new GlideRecord('ais_search_profile');\n        profile.get(profileId);\n        if (profile.getValue('state') == \"PUBLISHED\")\n            profileNamesToPublish.push(profile.getValue('name'));\n    }\n\n    // Replace old condition values to new\n    var newCondition = gr.getValue(fTargetField);\n    for (var i = 0; i < keys.length; i++)\n        newCondition = newCondition.replace(keys[i], fReplacements[keys[i]]);\n    gr.setValue(fTargetField, newCondition);\n    gr.update();\n}\n\n// Republish already published profiles\nif (profileNamesToPublish.length > 0) {\n    var synchronizer = new sn_ais.Synchronizer();\n    for (var i = 0; i < profileNamesToPublish.length; i++)\n        synchronizer.publishProfile(profileNamesToPublish[i])\n}","sys_class_name":"sys_script_fix","sys_id":"061ec418b71230109fa9b381de11a9fd","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/76946b3f04312210559073c06a02f73b","value":"76946b3f04312210559073c06a02f73b"},"sys_update_name":"sys_script_fix_061ec418b71230109fa9b381de11a9fd","sys_updated_by":"admin","sys_created_on":"2021-08-26 15:33:49","name":"Migrate AIS Context  Names","sys_name":"Migrate AIS Context  Names","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"34","description":"Previously objects in \"Item view JSON\" field have no identifiers. This cause problem that you have no opportunities to manipulate them. This script go through all values inside \"item view JSON\" field and add identifiers to all elements.","sys_updated_on":"2019-02-18 10:41:17","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tvar gr = new GlideRecord('sys_sg_item_view');\n\tgr.query();\n\twhile (gr.next()) {\n\t\tvar itemViewJson = gr.getValue('item_view_json');\n\t\tif (!itemViewJson)\n\t\t\tcontinue;\n\n\t\ttry {\n\t\t\tvar elementProcessor = new ItemViewElementProcessor();\n\t\t\tvar item_view_json = elementProcessor.identifyItemViewElements(itemViewJson);\n\t\t\tgr.setValue('item_view_json', item_view_json);\n\t\t\tsetDependencyFields(gr, item_view_json);\n\t\t\tvar result = gr.update('Add identifiers to item view JSON');\n\t\t\tif (result)\n\t\t\t\tgs.warn(gs.getMessage('ItemView {0} updated successfully', gr.getUniqueValue()));\n\t\t} catch (err) {\n\t\t\tgs.warn(gs.getMessage('Error while processing ItemView {0}: {1}', [gr.getUniqueValue(), err.message]));\n\t\t}\n\t}\n\n\tgs.warn(gs.getMessage('Execution finished'));\n\t\n\tfunction setDependencyFields(glideRecord, item_view_json){\n\t\telementList = elementProcessor.getItemViewElementsIds(item_view_json);\n\t\tvar dependency_fields = [];\n\t\tfor(var index=0;index<elementList.length;index++) {\n\t\t\tif(!elementList[index].cellId)\n\t\t\t\tcontinue;\n\t\t\t\n\t\t\tdependency_fields.push(elementList[index].cellId+\"-\"+elementList[index].id);\n\t\t}\n\t\tglideRecord.dependency_fields = dependency_fields.join(\",\");\n\t}\t\n\t\n})();\n","sys_class_name":"sys_script_fix","sys_id":"063014ba73232300b8d77a2f1bf6a71f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/75d42bbf04312210559073c06a02f78d","value":"75d42bbf04312210559073c06a02f78d"},"sys_update_name":"sys_script_fix_063014ba73232300b8d77a2f1bf6a71f","sys_updated_by":"admin","sys_created_on":"2019-02-14 08:44:26","name":"Add identifiers to Item Views","sys_name":"Add identifiers to Item Views","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Deprecate legacy sys_trigger \"Calculate Availability\"","sys_updated_on":"2023-03-17 04:35:02","sys_tags":"","record_for_rollback":"true","script":"(function () {\n\tgs.info('Deprecating legacy sys_trigger: \"Calculate Availability\"');\n\tvar availTrigger = new GlideRecord('sys_trigger');\n\tif (availTrigger.get('402cdf0c0a0a0b2b0029bfaea25969f3')) {\n\t\tvar availJob = new GlideRecord('sysauto_script');\n\t\tavailJob.get('745b9b7743dd2110a6dfaff3fab8f226');\n\t\tavailJob.setValue('time_zone', availTrigger.time_zone);\n\t\tavailJob.setValue('run_time', availTrigger.run_time);\n\t\tavailJob.update();\n\t\tavailTrigger.deleteRecord();\n\t}\n})();","sys_class_name":"sys_script_fix","sys_id":"064b4af743d92110a6dfaff3fab8f2db","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4a39e3f704f12210559073c06a02f7f9","value":"4a39e3f704f12210559073c06a02f7f9"},"sys_update_name":"sys_script_fix_064b4af743d92110a6dfaff3fab8f2db","sys_updated_by":"admin","sys_created_on":"2023-03-07 17:11:19","name":"Replace legacy \"Calculate Availability\" ","sys_name":"Replace legacy \"Calculate Availability\" ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"","sys_updated_on":"2024-04-26 05:42:00","sys_tags":"","record_for_rollback":"true","script":"(function updateParentCoumn() {\n\tvar dictGr = new GlideRecord('sys_dictionary');\n\tdictGr.addQuery('name', 'alm_asset');\n\tdictGr.addQuery('element', 'parent');\n\tdictGr.addNotNullQuery('attributes');\n\tdictGr.query();\n\tif (dictGr.next()) {\n\t\tvar prevValue = dictGr.getValue('attributes');\n\t\tvar values = prevValue.split(',');\n\t\tvar newValues = [];\n\t\tnewValues = values.filter(function (prop) {\n\t\t\treturn prop.indexOf('no_audit') === -1;\n\t\t});\n\t\tdictGr.setValue('attributes', newValues.toString());\n\t\tdictGr.update();\n\t}\n}());","sys_class_name":"sys_script_fix","sys_id":"067df96175f10610f8779b56905d5df6","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/45672bfb04b12210559073c06a02f7c5","value":"45672bfb04b12210559073c06a02f7c5"},"sys_update_name":"sys_script_fix_067df96175f10610f8779b56905d5df6","sys_updated_by":"admin","sys_created_on":"2024-04-26 05:28:27","name":"ITAM: Audit parent changes","sys_name":"ITAM: Audit parent changes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"8","description":"As part of a new security directive in Y, the platform introduced a new Deny Unless decision typed ACL in addition to regular ACLs which now default to Allow If. Allow Ifs grant access to a resource as long as one of them passes. Whereas Deny Unlesses restrict access as soon as one of them fails. Deny Unlesses also run before Allow Ifs. \r\n\r\nFor new customers we have added new complementary Deny Unlesses for our out of box tables. For upgrading customers we have decided to deactivate the new Deny Unlesses so we don't break any features in case a customer has added custom Allow Ifs to our tables.","sys_updated_on":"2024-10-16 22:28:18","sys_tags":"","record_for_rollback":"true","script":"var tables = [\n    'sys_pd_activity',\n    'sys_pd_activity_context',\n    'sys_pd_activity_definition',\n    'sys_pd_activity_m2m_app_object',\n    'sys_pd_activity_override',\n    'sys_pd_activity_start_rule_definition',\n    'sys_pd_activity_start_rule_var',\n    'sys_pd_activity_type',\n    'sys_pd_activity_type_prop',\n    'sys_pd_asset_configuration',\n    'sys_pd_context',\n    'sys_pd_context_chunk',\n    'sys_pd_context_log',\n    'sys_pd_derivative',\n    'sys_pd_lane',\n    'sys_pd_lane_context',\n    'sys_pd_lane_start_rule_definition',\n    'sys_pd_lane_start_rule_var',\n    'sys_pd_panel_override',\n    'sys_pd_process_definition',\n    'sys_pd_process_type',\n    'sys_pd_process_variant',\n    'sys_pd_snapshot',\n    'sys_pd_snapshot_chunk',\n    'sys_pd_swim_lane',\n    'sys_pd_swim_lane_image',\n    'sys_pd_timer_attributes',\n    'sys_pd_trigger_definition',\n    'sys_pd_trigger_execution',\n    'sys_pd_trigger_input',\n    'sys_pd_trigger_instance',\n    'sys_pd_trigger_license',\n    'sys_pd_trigger_type',\n    'v_pd_activity_condition_to_run',\n    'v_pd_lane_condition_to_run'\n];\nfunction deactivate() {\n    if (!isAPIPresent() || !isSystemReady())\n        return;\n    var denyACLIds = getDenyACLs();\n    var batchId = gs.generateGUID();\n    gs.info(\n        'BatchId [' + batchId + ']. \\n' +\n        'Playbook Designer deactivate Deny Unless ACLs on upgrade. \\n' +\n        'Attempting to deactivate [' + denyACLIds.join(',') + '].'\n    );\n    var skippedIds = [];\n    try {\n        var api = getAPI();\n        skippedIds =\n            new api().deactivateACLsAndFiltersOnUpgrade(denyACLIds);\n    } catch (err) {\n        gs.info(\n            'BatchId [' + batchId + ']. \\n' +\n            'Exception occurred while attempting to deactivate Deny Unless ACLs on upgrade. \\n' +\n            'Error is [' + err + ']. \\n'\n        );\n        return;\n    }\n    gs.info(\n        'BatchId [' + batchId + ']. \\n' +\n        'Finished deactivating Deny Unless ACLs on upgrade. \\n' +\n        'ACLs skipped [' + skippedIds.join(',') + '].'\n    );\n}\nfunction isAPIPresent() {\n    try {\n        return !!getAPI();\n    } catch (err) {\n        return false;\n    }\n}\nfunction getAPI() {\n    try {\n        return sn_data_filter.SlowRolloutUpgradeHelperAPI ||\n            sn_security_upgrade_utils.SlowRolloutUpgradeHelperAPI;\n    } catch (err) {\n        return undefined;\n    }\n}\nfunction isSystemReady() {\n    return !GlidePluginManager.isZboot() &&\n        GlidePluginManager.isUpgradeSystemBusy();\n}\nfunction getDenyACLs() {\n    var gr = new GlideRecord('sys_security_acl');\n    gr.addQuery('name', 'IN', tables.join(','));\n    gr.addQuery('decision_type', 'deny');\n    gr.addActiveQuery();\n    gr.query();\n    var ids = [];\n    while (gr.next()) {\n        ids.push(gr.getUniqueValue());\n    }\n    return ids;\n}\ndeactivate();","sys_class_name":"sys_script_fix","sys_id":"06c95ddda3811210b5911aaaf31e61d0","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/903e67b304752210559073c06a02f757","value":"903e67b304752210559073c06a02f757"},"sys_update_name":"sys_script_fix_06c95ddda3811210b5911aaaf31e61d0","sys_updated_by":"admin","sys_created_on":"2024-10-03 21:32:20","name":"[PAD] Deactivate deny unless on upgrade","sys_name":"[PAD] Deactivate deny unless on upgrade","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":"read"},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Add ACC-Visibility discovery source","sys_updated_on":"2021-03-29 19:25:11","sys_tags":"","record_for_rollback":"false","script":"var dsUtil = new global.CMDBDataSourceUtil();\ndsUtil.addDataSource(\"ACC-Visibility\");","sys_class_name":"sys_script_fix","sys_id":"0764a0885353a410d0c4ddeeff7b12ed","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_0764a0885353a410d0c4ddeeff7b12ed","sys_updated_by":"mitali.sahoo","sys_created_on":"2021-03-29 19:25:11","name":"Add ACC-Visibility source","sys_name":"Add ACC-Visibility source","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"mitali.sahoo","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"9","description":"Reinstall Platform Analytics Administration application menu for upgraded customer affected by DEF0598574","sys_updated_on":"2024-11-22 14:10:20","sys_tags":"","record_for_rollback":"true","script":"var applicationMenu = new GlideRecord(\"sys_app_application\"); \nif(!applicationMenu.get(\"c27d2864e9693110f877eebc1a3288ff\")) {\n\tvar updateRecord = new GlideRecord(\"sys_update\"); \n\tupdateRecord.addQuery(\"name\", \"sys_app_application_c27d2864e9693110f877eebc1a3288ff.xml\"); \n\tupdateRecord.query();\n\twhile (updateRecord.next()){\n\t\tupdateRecord.deleteRecord(); \n\t}\n}\n","sys_class_name":"sys_script_fix","sys_id":"07681c91a3021210c9a4a5de241e619a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/143b677304352210559073c06a02f7e2","value":"143b677304352210559073c06a02f7e2"},"sys_update_name":"sys_script_fix_07681c91a3021210c9a4a5de241e619a","sys_updated_by":"admin","sys_created_on":"2024-11-22 09:54:40","name":"Reinstall Application Menu","sys_name":"Reinstall Application Menu","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"27","description":"Fix script performs following updates:-\r\n1. Updates the annotation representation from word indexes to starting and ending character positions.\r\n2. Updates the lookup type NLU Vocabulary records\r\n3. Auto trains the table lookups","sys_updated_on":"2020-11-06 07:50:49","sys_tags":"","record_for_rollback":"false","script":"/*\n * Pre-Quebec annotation Format  - [{\"indexes\":[3,4,5],\"annotatedString\":\"I want to {{phrase=\\\"reset my password\\\"}}\"}]\n * Quebec annotation Format - [{\"annotatedString\":\"I want to {{phrase=\\\"reset my password\\\"}}\",\"start\":10,\"end\":26}]\n */\n\nvar tables = NLUConstants.tables;\nvar vocabTypes = NLUConstants.VOCAB_TYPES;\nvar arrayUtil = new ArrayUtil();\n\nfunction updateAnnotationRepresentation() {\n\n    var entityUtteranceGlideRecord = new GlideRecord(tables.M2M_SYS_NLU_UTTERANCE_ENTITY);\n    entityUtteranceGlideRecord.query();\n\n    while (entityUtteranceGlideRecord.next()) {\n        try {\n            var annotationObjectArray = JSON.parse(entityUtteranceGlideRecord.getValue('annotation'));\n            var utterance = entityUtteranceGlideRecord.utterance.getRefRecord().getValue('utterance');\n            if (gs.nil(utterance))\n                throw new Error('Empty utterance');\n\n            var j = 0;\n            for (j; j < annotationObjectArray.length; j++) {\n\n                var annotationObject = annotationObjectArray[j];\n                var annotationObjectIndexArray = annotationObject.indexes;\n\n                if (gs.nil(annotationObjectIndexArray))\n                    throw new Error('Invalid Annotation Format');\n\n                var annotationWordStartIndex = annotationObjectIndexArray[0];\n                var annotationWordEndIndex = annotationObjectIndexArray[annotationObjectIndexArray.length - 1];\n\n                var annotationCharacterStartIndex;\n                var annotationCharacterEndIndex;\n\n                var utteranceTokens = utterance.split(/(\\s+)/);\n\n                var i = 0;\n                var annotationCharacterPosition = 0;\n                var annotationWordCount = 0;\n                var whitespaceRegex = /\\s+/;\n                for (i; i < utteranceTokens.length; i++) {\n                    var token = utteranceTokens[i];\n                    annotationCharacterPosition += token.length;\n                    if (token.match(whitespaceRegex) != null)\n                        continue;\n\n                    if (annotationWordStartIndex === annotationWordCount)\n                        annotationCharacterStartIndex = annotationCharacterPosition - token.length;\n                    if (annotationWordEndIndex === annotationWordCount) {\n                        annotationCharacterEndIndex = annotationCharacterPosition - 1;\n                        break;\n                    }\n                    annotationWordCount += 1;\n                }\n\n                annotationObject.start = annotationCharacterStartIndex;\n                annotationObject.end = annotationCharacterEndIndex;\n\n                delete annotationObject.indexes;\n\n            }\n            entityUtteranceGlideRecord.setValue('annotation', JSON.stringify(annotationObjectArray));\n            entityUtteranceGlideRecord.setWorkflow(false);\n            entityUtteranceGlideRecord.autoSysFields(false);\n            entityUtteranceGlideRecord.update();\n            gs.info('Updated the annotation value of M2M_SYS_NLU_UTTERANCE_ENTITY table for the record ' + entityUtteranceGlideRecord.getUniqueValue());\n        } catch (e) {\n            gs.error('Error while updating the annotation of M2M_SYS_NLU_UTTERANCE_ENTITY table for the record ' + entityUtteranceGlideRecord.getUniqueValue() + ' ' + e.message);\n\n        }\n\n    }\n\n}\n\nfunction getUniqueHandleName(handleName) {\n    var sequence = 0;\n    var vocabGR = new GlideRecord(tables.SYS_NLU_VOCABULARY);\n    vocabGR.addNullQuery('model');\n    vocabGR.addQuery('type', vocabTypes.lookup);\n    vocabGR.addQuery('name', 'LIKE', handleName + '%');\n    vocabGR.query();\n\n    while (vocabGR.next()) {\n        var recordHandle = vocabGR.getValue('name');\n        var vocabularyDuplicateHandleSuffixRegex = new RegExp(handleName + '([0-9]+)$');\n        if (vocabularyDuplicateHandleSuffixRegex.test(recordHandle)) {\n            var recordHandleSequence = parseInt(recordHandle.match(vocabularyDuplicateHandleSuffixRegex)[1]);\n            if (recordHandleSequence > sequence)\n                sequence = recordHandleSequence;\n        }\n    }\n\n    sequence += 1;\n    return handleName + sequence;\n}\n\nfunction updateUtteranceEntityAnnotationHandleName(utteranceID, oldHandleName, newHandleName) {\n    var annotationRegex = new RegExp('(^|\\\\s|\\\\\")' + oldHandleName + '($|\\\\s|\\\\\")');\n    var annotationGR = new GlideRecord(tables.M2M_SYS_NLU_UTTERANCE_ENTITY);\n    annotationGR.addQuery('utterance', utteranceID);\n    annotationGR.query();\n    while (annotationGR.next()) {\n        var recordUpdated = false;\n        var annotationArray = JSON.parse(annotationGR.getValue('annotation'));\n        for (var i = 0; i < annotationArray.length; i++) {\n            var annotation = annotationArray[i];\n            var annotatedString = annotation.annotatedString;\n            while ((annotationRegex.test(annotatedString))) {\n                annotatedString = annotatedString.replace(annotationRegex, function(match) {\n                    return match.replace(oldHandleName, newHandleName);\n                });\n                recordUpdated = true;\n            }\n            annotation.annotatedString = annotatedString;\n        }\n\n        if (recordUpdated) {\n            annotationGR.setValue('annotation', JSON.stringify(annotationArray));\n            annotationGR.setWorkflow(false);\n            annotationGR.autoSysFields(false);\n            annotationGR.update();\n        }\n    }\n}\n\nfunction updateUtteranceHandleName(modelID, oldHandleName, newHandleName) {\n    var utteranceRegex = new RegExp('(^|\\\\s)' + oldHandleName + '($|\\\\s)');\n    var utteranceGR = new GlideRecord(tables.SYS_NLU_UTTERANCE);\n    utteranceGR.addQuery('intent.model', modelID);\n    var query = utteranceGR.addQuery('utterance', 'CONTAINS', ' ' + oldHandleName + ' ');\n    query.addOrCondition('utterance', 'STARTSWITH', oldHandleName + ' ');\n    query.addOrCondition('utterance', 'ENDSWITH', ' ' + oldHandleName);\n    query.addOrCondition('utterance', oldHandleName);\n    utteranceGR.query();\n\n    while (utteranceGR.next()) {\n        var utterance = utteranceGR.getValue('utterance');\n        if (utteranceRegex.test(utterance)) {\n            updateUtteranceEntityAnnotationHandleName(utteranceGR.getUniqueValue(), oldHandleName, newHandleName);\n            while ((utteranceRegex.test(utterance))) {\n                utterance = utterance.replace(utteranceRegex, function(match) {\n                    return match.replace(oldHandleName, newHandleName);\n                });\n            }\n            utteranceGR.setValue('utterance', utterance);\n            utteranceGR.setWorkflow(false);\n            utteranceGR.autoSysFields(false);\n            utteranceGR.update();\n        }\n    }\n}\n\nfunction getLookupHandleNamesFromVocabularyTable() {\n    var handleNames = [];\n    var lookupGR = new GlideRecord(tables.SYS_NLU_VOCABULARY);\n    lookupGR.addQuery('type', 'IN', vocabTypes.lookup + ',' + vocabTypes.static_lookup);\n    lookupGR.addNullQuery('model');\n    lookupGR.query();\n    while (lookupGR.next()) {\n        handleNames.push(lookupGR.getValue('name'));\n    }\n    return handleNames;\n}\n\nfunction updateLookUpTypeVocabularyRecords() {\n    var lookupIdsToBeTrained = [];\n    var uniqueHandleNames = getLookupHandleNamesFromVocabularyTable();\n    var lookupGR = new GlideRecord(tables.SYS_NLU_VOCABULARY);\n    lookupGR.addQuery('type', vocabTypes.lookup);\n    lookupGR.addNotNullQuery('model');\n    lookupGR.query();\n    while (lookupGR.next()) {\n        try {\n            var oldHandleName = lookupGR.getValue('name');\n            var newHandleName = null;\n            if (oldHandleName.indexOf('_') > -1)\n                newHandleName = oldHandleName.replace(/_/g, '');\n\n            if (newHandleName || arrayUtil.contains(uniqueHandleNames, oldHandleName)) {\n\n                if (newHandleName) {\n                    if (arrayUtil.contains(uniqueHandleNames, newHandleName))\n                        newHandleName = getUniqueHandleName(newHandleName);\n                } else\n                    newHandleName = getUniqueHandleName(oldHandleName);\n                updateUtteranceHandleName(lookupGR.getValue('model'), '@' + oldHandleName, '@' + newHandleName);\n                lookupGR.setValue('name', newHandleName);\n                uniqueHandleNames.push(newHandleName);\n            } else\n                uniqueHandleNames.push(oldHandleName);\n            lookupGR.setValue('vocabulary_json', JSON.stringify({\n                fields: [{\n                    name: lookupGR.getValue('field_name'),\n                    enable_lookup: true,\n                    multiple_values: false\n                }],\n                options: {\n                    enable_fuzzy_matching: true,\n                    language: 'en',\n                    case_sensitive: false,\n                    lookup_fields_appear_together: false,\n                    sync_frequency: 'run_once',\n                },\n            }));\n\n            lookupGR.setValue('model', '');\n            lookupGR.setValue('field_name', '');\n            lookupGR.setWorkflow(false);\n            lookupGR.autoSysFields(false);\n            lookupGR.update();\n            lookupIdsToBeTrained.push(lookupGR.getUniqueValue());\n            gs.info('Succesfully updated lookup type NLU vocabulary record : ' + lookupGR.getUniqueValue());\n        } catch (e) {\n            gs.error('Error in updating lookup type NLU vocabulary reocrd : ' + lookupGR.getUniqueValue());\n        }\n    }\n\n    var lookupTrainScript = \"gs.info('Post Upgrade Table lookup train result' + JSON.stringify(NLULookup.trainMultipleLookups(['\" + lookupIdsToBeTrained.join(\"','\") + \"'], { 'autoTrain': true })))\";\n    var solutionSysTrigger = new GlideRecord(\"sys_trigger\");\n    solutionSysTrigger.initialize();\n    solutionSysTrigger.setValue(\"name\", 'NLU Post Upgrade Lookup Training');\n    solutionSysTrigger.setValue(\"script\", lookupTrainScript);\n    solutionSysTrigger.setValue(\"trigger_type\", 0);\n    solutionSysTrigger.insert();\n}\n\n(function() {\n    updateLookUpTypeVocabularyRecords();\n    updateAnnotationRepresentation();\n})();","sys_class_name":"sys_script_fix","sys_id":"086ee815736210103bb6a4fa54f6a751","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_script_fix_086ee815736210103bb6a4fa54f6a751","sys_updated_by":"admin","sys_created_on":"2020-08-09 15:15:11","name":"Update NLU Annotation and Vocabulary","sys_name":"Update NLU Annotation and Vocabulary","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2024-09-10 09:01:56","sys_tags":"","record_for_rollback":"true","script":"const TABLE_SYS_UX_LIB_ASSET = \"sys_ux_lib_asset\";\n// Define the list of keys to ignore and replace\nconst IGNORE_LIST = [\n  'SAUCE_USERNAME',\n  'NPM_AUTH_PASS',\n  'JENKINS_NODE_COOKIE',\n  'glide_it_external_storage_access_key',\n  'glide_it_external_storage_secret_key',\n  'BT1_LOGIN_PASS',\n  'SONARQUBE_USER_TOKEN',\n  'JENKINS_SECRET',\n  'JENKINS_SERVER_COOKIE',\n  'SAUCE_ACCESS_KEY',\n  'HUDSON_COOKIE',\n  'GITHUB_BUILD_TOKEN',\n];\nconst logGsInfo = (message) => gs.info('[ENV_VAR_SANITIZATION]'+message);\nconst updateAffectedRecords = () => {\n  logGsInfo('# # # updateAffectedRecords | START # # #');\n  /* \n   * # DESCRIPTION #\n   * * As part of some Tectonic@24 release, the assets built contained the ENV variables.\n   * The Issue was fixed with Tectonic@25 & all the components,assets were rebuilt to ensure no asset contains the ENV variables.\n   * However, there are some dependencies that were updated by component/application/library teams between v24 & v25 of Tectonic\n     - For eg: `sn-sample-component` was using `axios@0.9` when Tectonic@24 was released & `axios@1.0.0` was updated by the component when Tectonic@25 was released.\n     - Tectonic@24, would have created a record in `sys_ux_lib_asset` for `axios/0.9`\n     - Tectonic@25, would have created a record in `sys_ux_lib_asset` for `axios/1.0.0`\n   * So even though all the components are rebuilt, there may be asset records which were built earlier containing environment variables  & are not being consumed(Orphan assets). \n     - Eg: `axios/0.9` in the above example.\n   * The intent of the current Fix Script is to check all the `sys_ux_lib_assets` records for sensitive ENV variables., flag the usage & optionally set them to empty values.\n   *\n   * # SCRIPT DETAILS #\n   * Script to list all the `SYS_UX_LIB_ASSET` tables js records, \n   * which contain the keys defined in IGNORE_LIST array.\n   * \n   * By default, the script does the below\n   * #1. Gets the total count of SYS_UX_LIB_ASSET\n   * #2. Looks for keys defined in the IGNORE_LIST array in the `content` column of the table\n   * #3. Lists all the occurences of the following pattern `IGNORE_LIST_KEY:\"IGNORE_LIST_KEY_VALUE\"`,(eg: if 'SAUCE_USERNAME' is an entry in IGNORE_LIST, the pattern will be `SAUCE_USERNAME:\"SAUCE_USERNAME_VALUE\"`)\n   * #4. Logs, all the occurance along with the name of the asset.\n   * #5. The above list can be used to validate before running the update\n   * #6. Once, the logged list is validated `UPDATE_RECORDS` variable in the below script can be set to value `true` & the script can be run again\n   * #7. If `UPDATE_RECORDS` is set to `true`, the script will replace the value of each pattern with empty string(eg: `SAUCE_USERNAME:\"SAUCE_USERNAME_VALUE\"` will be replaced with `SAUCE_USERNAME:\"\"`) & updates the `content` column.\n   * \n  */\n  const UPDATE_RECORDS = true;\n  const MAX_ROWS_LENGTH = 10000;\n\n  // Define the table name and query filters\n  var tableName = TABLE_SYS_UX_LIB_ASSET;\n  var queryFilters = {\n    'mime_type': 'application/javascript'\n  };\n\n  // Create a new GlideRecord object for the specified table\n  var gr = new GlideRecord(tableName);\n\n  // Add the query filters\n  for (var field in queryFilters) {\n    gr.addQuery(field, queryFilters[field]);\n  }\n\n  // Add the condition where category should not be equal to 'Source map'\n  gr.addQuery('category', '!=', 'Source map');\n\n  // Add the condition where content contains any of the unsafe ENV variables\n  gr.addQuery('content', 'CONTAINS', 'NPM_AUTH_PASS');\n  \n  gr.setWorkflow(false);\n  // gr.setLimit(MAX_ROWS_LENGTH); \n\n  // Query the table \n  gr.query();\n  var totalRecords = gr.getRowCount(); // Total record count\n  logGsInfo('* Total number of records in table \"' + tableName + '\" : ' + totalRecords);\n\n\n\n  // Define the function to update the 'content' column\n  function updateContentColumn(record, newContentValue) {\n    record.setValue('content', newContentValue);\n    record.update(); // Save the changes to the record\n  }\n\n  // Define the function to replace ignored keys\n  function replaceIgnoredKeys(gr, nameValue, input, keys) {\n    var output = input;\n    var foundKeys = {}; // Using an object to keep track of found keys\n\n    keys.forEach(function (key) {\n      // Create a regular expression to match the key and its value\n      var regex = new RegExp('(' + key + '):\"[^\"]+\"', 'g');\n      var match;\n      while ((match = regex.exec(input)) !== null) {\n        foundKeys[key] = true; // Mark the key as found\n        // Log the original key-value pair\n        logGsInfo('* ENV_EXPOSED_ENTRY * ' + nameValue + ' | Found key: ' + match[1] + ' with non-empty value ');\n        // Replace the matched key-value pair with the key and an empty value\n        output = output.replace(match[0], match[1] + ':\"\"');\n      }\n    });\n\n    // Log the found keys\n    var foundKeysArray = Object.keys(foundKeys);\n    if (foundKeysArray.length > 0) {\n      if (UPDATE_RECORDS) {\n        logGsInfo('+ ' + nameValue + ' | Updating the record with updated content');\n        updateContentColumn(gr, output);\n      }\n    }\n  }\n\n  logGsInfo(`# Looking for JS Assets for environment variables in ${totalRecords} records of ${tableName}`);\n  // Iterate through the records\n  while (gr.next()) {\n    // Get the 'name' column value\n    var nameValue = gr.getValue('name');\n    // Get the 'content' column value\n    var contentValue = gr.getValue('content');\n    // logGsInfo('Name: ' + nameValue);\n    if (contentValue) {\n      // Replace ignored keys in the 'content' value\n      var updatedContentValue = replaceIgnoredKeys(gr, nameValue, contentValue, IGNORE_LIST);\n      // logGsInfo('Content (with ignored keys replaced): ' + updatedContentValue);\n    }\n  }\n  logGsInfo('# # # updateAffectedRecords | FINISHED # # #');\n}\n\n\nfunction doAssetsHaveSensitiveData() {\n  logGsInfo('# # # doAssetsHaveSensitiveData | START # # #');\n  var gr = new GlideRecord(TABLE_SYS_UX_LIB_ASSET);\n  gr.addQuery(\"mime_type\", \"application/javascript\");\n  gr.addQuery('category', '!=', 'Source map');\n  gr.addQuery('content', 'CONTAINS', 'NPM_AUTH_PASS');\n\n  gr.setLimit(1);\n  //prevents business rules from running\n  gr.setWorkflow(false);\n  gr.query();\n  logGsInfo('# # # doAssetsHaveSensitiveData | FINISH # # # ' + gr.hasNext());\n  return gr.hasNext();\n}\nconst isInstanceAffected = doAssetsHaveSensitiveData();\n\nif (isInstanceAffected) {\n  logGsInfo('# # # UPDATE | ASSETS HAVE SENSITIVE DATA: # # # ');\n  updateAffectedRecords();\n} else {\n  logGsInfo('# # # No Change needed # # # ');\n}","sys_class_name":"sys_script_fix","sys_id":"0884c6639f0012105c0a618dea0a1cbb","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f193e7f304312210559073c06a02f725","value":"f193e7f304312210559073c06a02f725"},"sys_update_name":"sys_script_fix_0884c6639f0012105c0a618dea0a1cbb","sys_updated_by":"admin","sys_created_on":"2024-08-22 07:17:27","name":"SanitizeEnvVariables","sys_name":"SanitizeEnvVariables","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"","sys_updated_on":"2023-07-21 19:17:34","sys_tags":"","record_for_rollback":"false","script":"executeFix();\n\nfunction executeFix() {\n    var templates = [{\n            tableName: \"sys_cs_context_profile_topic\",\n            columnName: \"topic\",\n            referenceQualValue: \"javascript:new global.CsContextProfile().filterSetupTopics()\"\n        },\n        {\n            tableName: \"sys_cs_context_profile_promotion\",\n            columnName: \"topic\",\n            referenceQualValue: \"javascript:new global.CsContextProfile().filterPromotedTopics()\"\n        }\n    ];\n\n    templates.forEach(function(template) {\n        var gr = new GlideRecord(\"sys_dictionary\");\n        gr.addQuery(\"name\", template.tableName);\n        gr.addQuery(\"element\", template.columnName);\n        gr.query();\n        if (gr.next()) {\n            gr.setValue(\n                \"reference_qual\",\n                template.referenceQualValue\n            );\n            gr.update();\n        }\n    });\n\n}","sys_class_name":"sys_script_fix","sys_id":"0891879fc3c03110cb4c1f820c40dd51","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_0891879fc3c03110cb4c1f820c40dd51","sys_updated_by":"admin","sys_created_on":"2023-07-21 00:48:55","name":"Update Setup Topics reference_qual","sys_name":"Update Setup Topics reference_qual","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"5","description":"","sys_updated_on":"2023-03-29 21:46:44","sys_tags":"","record_for_rollback":"true","script":"var glideRecord = new GlideRecord(\"sys_search_context_config\");\n  glideRecord.addQuery(\"search_engine\", \"ai_search\");\n  glideRecord.query();\n  while (glideRecord.next()) {\n    glideRecord.enable_exact_match = true;\n    glideRecord.update();\n  }","sys_class_name":"sys_script_fix","sys_id":"08b91047733121105afea11cff148bab","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0a99ab7b04f12210559073c06a02f746","value":"0a99ab7b04f12210559073c06a02f746"},"sys_update_name":"sys_script_fix_08b91047733121105afea11cff148bab","sys_updated_by":"admin","sys_created_on":"2023-03-29 21:31:28","name":"Set default enable exact match to true","sys_name":"Set default enable exact match to true","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"1","description":"Remove reference cascade 'delete' from Mobile","sys_updated_on":"2019-06-11 22:19:18","sys_tags":"","record_for_rollback":"false","script":"\n\t\t\tvar fields = [{'name': 'sys_sg_master_item', 'element': 'screen'},\n\t{'name': 'sys_sg_related_list_map', 'element': 'destination_screen'},\n\t{'name': 'sys_sg_ui_parameter', 'element': 'screen'},\n\t{'name': 'sys_sg_screen_param_map', 'element': 'screen'}];\n\tfor (var i = 0; i < fields.length; i++) {\n\t\tvar gr = new GlideRecord('sys_dictionary');\n\t\tgr.addQuery('name', fields[i].name);\n\t\tgr.addQuery('element', fields[i].element);\n\t\tgr.query();\n\t\tif (gr.next()) {\n\t\t\tgr.setValue('reference_cascade_rule', 'clear');\n\t\t\tgr.update();\n\t\t}\n\t}","sys_class_name":"sys_script_fix","sys_id":"08bcad644f4afb005c98e4928110c79b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/75d42bbf04312210559073c06a02f78d","value":"75d42bbf04312210559073c06a02f78d"},"sys_update_name":"sys_script_fix_08bcad644f4afb005c98e4928110c79b","sys_updated_by":"admin","sys_created_on":"2019-06-11 22:17:13","name":"Remove cascade deletes from Mobile","sys_name":"Remove cascade deletes from Mobile","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"42","description":"Upgrade to Local Password Reset Flows","sys_updated_on":"2024-09-16 09:00:37","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tvar local_cred_store_type = 'e611433fbf020100710071a7bf073921';\n\t//Don't the order of workflow names and ids.\n    var workflow_names = [\"passd_reset_wf\", \"pwd_change_wf\", \"unlock_user_wf\", \"conn_test_wf\", \"get_lock_state_wf\"];\n    var workflows = [\"b4887ebbbf020100710071a7bf07398c\", \"a5974473eb2311006a668c505206fe84\", \"1bcbfe1bbf111100c7e39058ff07390f\", \"e32c1131eb5201002db7648d9106feae\", \"6ac8de43bf111100c7e39058ff0739b3\"];\n\t\n    function wasWfModified(storetypeGr, wf_name, wfid) {\n        var currentWfid = storetypeGr.getValue(wf_name);\n        if (!gs.nil(currentWfid) && currentWfid != wfid)\n            return true;\n\n        var wf_update = new GlideRecord('sys_update_xml');\n        wf_update.addQuery('name', 'wf_workflow_' + wfid);\n        wf_update.query();\n        if (wf_update.hasNext())\n            return true;\n\n        return false;\n    }\n\n    var storetypeGr = new GlideRecord('pwd_cred_store_type');\n    storetypeGr.get(local_cred_store_type);\n    var switchToFlows = true;\n\n    for (var i in workflows)\n        switchToFlows = switchToFlows && (!wasWfModified(storetypeGr, workflow_names[i], workflows[i]));\n\n    if (!switchToFlows) {\n        storetypeGr.setValue('use_flow', false);\n        storetypeGr.update();\n    }\n\n})();","sys_class_name":"sys_script_fix","sys_id":"08c6bcd40f013300c11583fa68767e7c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/421beb3304352210559073c06a02f7ef","value":"421beb3304352210559073c06a02f7ef"},"sys_update_name":"sys_script_fix_08c6bcd40f013300c11583fa68767e7c","sys_updated_by":"admin","sys_created_on":"2019-04-22 06:35:50","name":"Upgrade to Local Password Reset Flows","sys_name":"Upgrade to Local Password Reset Flows","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Add SNAssetManagement discovery source","sys_updated_on":"2020-09-25 00:44:21","sys_tags":"","record_for_rollback":"false","script":"var dsUtil = new global.CMDBDataSourceUtil();\ndsUtil.addDataSource(\"SNAssetManagement\");","sys_class_name":"sys_script_fix","sys_id":"08e533800f2310108397fc91ff767e4d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_08e533800f2310108397fc91ff767e4d","sys_updated_by":"admin","sys_created_on":"2020-09-25 00:44:21","name":"Add SNAssetManagement source","sys_name":"Add SNAssetManagement source","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"16","description":"","sys_updated_on":"2024-04-05 13:05:22","sys_tags":"","record_for_rollback":"false","script":"gs.include(\"ScheduleOnce\");\n\nvar LOG_SOURCE = \"CRITICAL_UPDATE_GLIDEENCRYPTER_FIX\";\ngs.log(\"Fix Script execution started!\", LOG_SOURCE);\n\nvar script = \"runFixScript();\\n\"\n+ \"function runFixScript() {\\n\"\n    + \"var CRITICAL_UPDATE_SYS_ID = \\\"8eade0d9ffd03110684fffffffffffef\\\";\\n\"\n    + \"var PROCESS_DEFINITION_SYS_ID = \\\"cf8e24e743907110adf71f062bb8f2ba\\\";\\n\"\n    + \"var LOG_SOURCE = \\\"CRITICAL_UPDATE_GLIDEENCRYPTER_FIX\\\";\\n\"\n\t+ \"gs.log(\\\"Schedule Job execution started!\\\", LOG_SOURCE);\\n\"\n    + \"var variableGr = new GlideRecord('sys_variable_value');\\n\"\n    + \"variableGr.addEncodedQuery('variable.label=Description^document=sys_pd_activity_context^valueCONTAINSDeprecated API: GlideEncrypter^valueCONTAINSDeprecated APIs');\\n\"\n    + \"variableGr.query();\\n\"\n    + \"var variableUpdated = false;\\n\"\n    + \"while (variableGr.next()) {\\n\"\n        + \"variableGr.value = \\\"<ul style=\\\\\\\"font-family: lato; font-size: 16px; font-weight: 400;\\\\\\\">\\\\n<li>Navigate to <strong>All</strong> &gt; <strong>Instance Scan</strong> &gt; <strong>Suites</strong>.</li>\\\\n<li style=\\\\\\\"font-family: lato; font-size: 16px; font-weight: 400;\\\\\\\">In the <strong>Suites</strong> list, select <strong>Deprecated APIs</strong></li>\\\\n<li style=\\\\\\\"font-family: lato; font-size: 16px; font-weight: 400;\\\\\\\">In the <strong>Suites</strong> record, select <strong>GlideEncrypter</strong> from the <strong>Child Suites</strong> related list.\\\\n<ul style=\\\\\\\"list-style-type: circle; font-family: lato; font-size: 16px; font-weight: 400;\\\\\\\">\\\\n<li style=\\\\\\\"font-family: lato; font-size: 16px; font-weight: 400;\\\\\\\">In the <strong>Suite</strong> record, select <strong>Execute Suite Scan</strong> to run the scan.\\\\n<ul style=\\\\\\\"list-style-type: circle; font-family: lato; font-size: 16px; font-weight: 400;\\\\\\\">\\\\n<li style=\\\\\\\"font-family: lato; font-size: 16px; font-weight: 400;\\\\\\\">During the scan execution a <strong>Execute Suite Scan</strong> window displays the progress of the scan.</li>\\\\n<li style=\\\\\\\"font-family: lato; font-size: 16px; font-weight: 400;\\\\\\\"><strong>Note:</strong> This scan checks only records that have been created or modified by the customer. ServiceNow handled removal of <strong>GlideEncrypter</strong>usages for any records created byServiceNow.</li>\\\\n</ul>\\\\n</ul>\\\\n</li>\\\\n\\\\n</li>\\\\n<li style=\\\\\\\"font-family: lato; font-size: 16px; font-weight: 400;\\\\\\\">When the scan is complete, select <strong>Go to Result</strong>to view the<strong>Scan Result</strong>record.\\\\n<ul style=\\\\\\\"list-style-type: circle; font-family: lato; font-size: 16px; font-weight: 400;\\\\\\\">\\\\n<li style=\\\\\\\"font-family: lato; font-size: 16px; font-weight: 400;\\\\\\\">In the<strong>Scan Result</strong>record, the <strong>Scan Findings</strong>list displays a list of records on your instance that are using the<strong>GlideEncrypter<strong>API.</li>\\\\n</ul>\\\\n</li>\\\\n<li style=\\\\\\\"font-family: lato; font-size: 16px; font-weight: 400;\\\\\\\">Select the <strong>Count</strong> field on the <strong>Scan Findings</strong> list to navigate to a record.</li>\\\\n<li style=\\\\\\\"font-family: lato; font-size: 16px; font-weight: 400;\\\\\\\">Modify any scripts in the record that uses the <strong>GlideEncrypter</strong> API.\\\\n<ul style=\\\\\\\"list-style-type: circle; font-family: lato; font-size: 16px; font-weight: 400;\\\\\\\">\\\\n<li style=\\\\\\\"font-family: lato; font-size: 16px; font-weight: 400;\\\\\\\">For details on alternatives to<strong>GlideEncrypter</strong>, see <a href=\\\\\\\"https://support.servicenow.com/kb?id=kb_article_view&sysparm_article=KB1320986\\\\\\\" target=\\\\\\\"_blank\\\\\\\" rel=\\\\\\\"nofollow noopener noreferrer\\\\\\\">Alternatives to deprecated GlideEncrypter APIs.</a></li>\\\\n</ul>\\\\n</li>\\\\n<li style=\\\\\\\"font-family: lato; font-size: 16px; font-weight: 400;\\\\\\\">After removing<strong>GlideEncrypter</strong>calls from your scripts, run the scan again to ensure that there are no remaining calls to the API.</li>\\\\n</ul>\\\";\\n\"\n        + \"variableUpdated = variableGr.update();\\n\"\n    + \"}\\n\"\n    + \"if (variableUpdated) {\\n\"\n        + \"// Update the Status of Critical Update record to Open.\\n\"\n       + \" var criticalUpdateGr = new GlideRecord('sn_critical_update');\\n\"\n        + \"if (!criticalUpdateGr.isValid()) {\\n\"\n            + \"gs.log(\\\"Table sn_critical_update is not Valid. Schedule Job cannnot update the Status.\\\", LOG_SOURCE);\\n\"\n            + \"return;\\n\"\n        + \"}\\n\"\n        + \"criticalUpdateGr.get(CRITICAL_UPDATE_SYS_ID);\\n\"\n        + \"if (!criticalUpdateGr.isValidRecord()) {\\n\"\n            + \"gs.log(\\\"sn_critical_update record \\\" + CRITICAL_UPDATE_SYS_ID + \\\" is not Valid. Schedule Job cannnot update the Status.\\\", LOG_SOURCE);\\n\"\n            + \"return;\\n\"\n        + \"}\\n\"\n        + \"criticalUpdateGr.up_update_status = \\\"open\\\";\\n\"\n        + \"criticalUpdateGr.update();\\n\"\n        + \"// Update the state of Process Execution\\n\"\n        + \"var pdContextGr = new GlideRecord('sys_pd_context');\\n\"\n        + \"if (!pdContextGr.isValid()) {\\n\"\n            + \"gs.log(\\\"Table sys_pd_context is not Valid. Schedule Job cannnot update the state of the process execution.\\\", LOG_SOURCE);\\n\"\n            + \"return;\\n\"\n        + \"}\\n\"\n        + \"pdContextGr.addQuery('input_record', CRITICAL_UPDATE_SYS_ID);\\n\"\n        + \"pdContextGr.query();\\n\"\n        + \"if (pdContextGr.next()) {\\n\"\n            + \"if (!pdContextGr.isValidRecord()) {\\n\"\n                + \"gs.log(\\\"sys_pd_context record with input_record sys_id\\\" + CRITICAL_UPDATE_SYS_ID + \\\" is not Valid. Schedule Job cannnot update the state of the process execution.\\\", LOG_SOURCE);\\n\"\n                + \"return;\\n\"\n            + \"}\\n\"\n            + \"pdContextGr.state = \\\"IN_PROGRESS\\\";\\n\"\n            + \"pdContextGr.update();\\n\"\n        + \"}\\n\"\n        + \"// Update the state of Activity Contexts\\n\"\n        + \"var activityGr = new GlideRecord('sys_pd_activity');\\n\"\n        + \"if (!activityGr.isValid()) {\\n\"\n            + \"gs.log(\\\"Table sys_pd_activity is not Valid. Schedule Job cannnot update the state of the activity context's flow data.\\\", LOG_SOURCE);\\n\"\n            + \"return;\\n\"\n        + \"}\\n\"\n        + \"activityGr.addQuery('process_definition', PROCESS_DEFINITION_SYS_ID);\\n\"\n        + \"activityGr.query();\\n\"\n        + \"while (activityGr.next()) {\\n\"\n            + \"var activityContextGr = new GlideRecord('sys_pd_activity_context');\\n\"\n            + \"activityContextGr.addQuery('activity_id', activityGr.getValue('sys_id'));\\n\"\n            + \"activityContextGr.query();\\n\"\n            + \"while (activityContextGr.next()) {\\n\"\n                + \"var sysFlowDataSysId = activityContextGr.getValue('associated_record');\\n\"\n                + \"var flowDataGr = new GlideRecord('sys_flow_data');\\n\"\n                + \"if (!flowDataGr.isValid()) {\\n\"\n                    + \"gs.log(\\\"Table sys_flow_data is not Valid. Schedule Job cannnot update the state of the activity context's flow data.\\\", LOG_SOURCE);\\n\"\n                    + \"return;\\n\"\n                + \"}\\n\"\n                + \"flowDataGr.get(sysFlowDataSysId);\\n\"\n                + \"flowDataGr.state = \\\"IN_PROGRESS\\\";\\n\"\n                + \"flowDataGr.update();\\n\"\n            + \"}\\n\"\n        + \"}\\n\"\n    + \"}\\n\"\n\t+ \"gs.log(\\\"Schedule Job execution completed!\\\", LOG_SOURCE);\\n\"\n+ \"}\";\n\nvar sched = new ScheduleOnce();\nsched.script = script;\nsched.label = 'Update GlideEncrypterAPI security center';\nsched.schedule();\ngs.log(\"Fix Script execution completed!\", LOG_SOURCE);","sys_class_name":"sys_script_fix","sys_id":"0937b8daff5142107497ffffffffff4e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/983e67b304752210559073c06a02f755","value":"983e67b304752210559073c06a02f755"},"sys_update_name":"sys_script_fix_0937b8daff5142107497ffffffffff4e","sys_updated_by":"admin","sys_created_on":"2024-04-03 11:35:30","name":"Update GlideEncrypterAPI security center","sys_name":"Update GlideEncrypterAPI security center","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":"read"},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Copies sys_update_set id to new field set_id and drops sys_update_set column","sys_updated_on":"2014-06-05 19:05:49","sys_tags":"","record_for_rollback":"false","script":"\n\tvar script = \"deleteUpdateSetField();\\\n\tfunction deleteUpdateSetField() {\\\n\t\tvar logTable = 'sys_update_log';\\\n\t\tvar logSource = 'Delete UpdateSet FixScript';\\\n\t\tif (!GlideTableDescriptor.fieldExists(logTable, 'sys_update_set'))\\\n\t\t\treturn;\\\n\t\tif (!(GlideTableDescriptor.fieldExists(logTable, 'set_table') && GlideTableDescriptor.fieldExists(logTable, 'set_id'))) {\\\n\t\t\tgs.log('sys_update_log table does not have required fileds (set_table and set_id) to perform this fix script', 'Delete UpdateSet FixScript');\\\n\t\t\treturn;\\\n\t\t}\\\n\t\tgs.log('Updating sys_update_log with document_id', logSource);\\\n\t\tvar updateLog = new GlideRecord(logTable);\\\n\t\tupdateLog.addNotNullQuery('sys_update_set');\\\n\t\tupdateLog.query();\\\n\t\tgs.log('Found ' + updateLog.getRowCount() + ' rows to update', logSource);\\\n\t\tvar count = 0;\\\n\t\twhile (updateLog.next()) {\\\n\t\t\tupdateLog.setValue('set_table', 'sys_update_set');\\\n\t\t\tupdateLog.setValue('set_id', updateLog.getValue('sys_update_set'));\\\n\t\t\tupdateLog.update();\\\n\t\t\tcount++;\\\n\t\t\tif (count % 1000 == 0) {\\\n\t\t\t  gs.log('Completed ' + count + ' rows, yielding for 100ms', logSource);\\\n\t\t\t  gs.sleep(100);\\\n\t\t\t}\\\n\t\t}\\\n\t\t//now drop the column\\\n\t\tGlideSystemUtilDB.dropColumn(logTable, 'sys_update_set');\\\n\t\t//drop any remaining indexes\\\n\t\tvar dbi = GlideDBConfiguration.getDBI(logTable);\\\n\t\tnew GlideIndexUtils().dropIndexes(dbi, logTable);\\\n\t\t//create index for new columns\\\n\t\tgs.log('Adding a new index for new columns', logSource);\\\n\t\tvar indexfields = ['set_table', 'set_id', 'sequence'];\\\n\t\tvar indexName = 'index0';\\\n\t\tGlideSystemUtilDB.ensureCompositeIndex(logTable, indexfields, indexName);\\\n\t\tgs.log('Done adding indexes', logSource);\\\n\t}\";\n\t\n\t//Make sure the trigger does not already exist.  Only should be running once.\n\tvar triggerGR = new GlideRecord('sys_trigger');\n\ttriggerGR.addQuery('script', 'CONTAINS', script);\n\ttriggerGR.query();\n\tif(!triggerGR.next())\n\t\tGlideRunScriptJob.scheduleScript(script);\n\t\n","sys_class_name":"sys_script_fix","sys_id":"099fdab297012100a61d10aa1c297557","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6154e3bb04312210559073c06a02f7f0","value":"6154e3bb04312210559073c06a02f7f0"},"sys_update_name":"sys_script_fix_099fdab297012100a61d10aa1c297557","sys_updated_by":"admin","sys_created_on":"2014-06-05 19:01:38","name":"Delete UpdateSet Field from Update Log","sys_name":"Delete UpdateSet Field from Update Log","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"35","description":"Migrates the data from sys_prop(com.glide.cs.multiple_conversations_per_consumer_channels) to column in cs_channel (multiple_conversation_support).","sys_updated_on":"2023-02-08 22:29:12","sys_tags":"","record_for_rollback":"false","script":"migrateData();\n\nfunction migrateData(){\n\t//If the sys_prop is not found, the sys_id for the \"CC voice\" channel will be used as default.\n\tvar sysProp = gs.getProperty(\"com.glide.cs.multiple_conversations_per_consumer_channels\", \"991f3f81b7031110b6e8bc15ae11a912\");\n\tvar channels = sysProp.split(\",\");\n\tfor(var i = 0; i < channels.length; i++) {\n\t\tvar sysChannelGr = new GlideRecord(\"sys_cs_channel\");\n\t\tsysChannelGr.setWorkflow(false);\n\t\tif(sysChannelGr.get(channels[i])){\n\t\t\tsysChannelGr.supports_multiple_conversations = true;\n\t\t\tsysChannelGr.update();\n\t\t}\n\t}\n}\n","sys_class_name":"sys_script_fix","sys_id":"09a6a809433021108aa06a6f5bb8f2dc","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_09a6a809433021108aa06a6f5bb8f2dc","sys_updated_by":"admin","sys_created_on":"2023-02-02 00:15:13","name":"Migrate data from sys_prop to cs_channel","sys_name":"Migrate data from sys_prop to cs_channel","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Update column type to string fro translated text.","sys_updated_on":"2023-04-11 07:28:33","sys_tags":"","record_for_rollback":"true","script":"var gr = new GlideRecord(\"sys_dictionary\");\ngr.addQuery(\"name\", \"sys_one_extend_builder_config\");\ngr.addQuery(\"element\", \"name\");\ngr.query();\nif (gr.next()) {\n    gr.setValue(\"internal_type\", \"string\");\n\tgr.setValue(\"attributes\", \"\");\n    gr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"09d39c8b53022110c271ddeeff7b1278","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7c84affb04312210559073c06a02f73d","value":"7c84affb04312210559073c06a02f73d"},"sys_update_name":"sys_script_fix_09d39c8b53022110c271ddeeff7b1278","sys_updated_by":"admin","sys_created_on":"2023-04-11 07:28:33","name":"FixBuilderConfigColumnType","sys_name":"FixBuilderConfigColumnType","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"0","description":"Revises the dynamic IRE table schema for Xanadu","sys_updated_on":"2023-12-12 00:00:05","sys_tags":"","record_for_rollback":"false","script":"gs.dropColumn('cmdb_dynamic_ire_feature', 'cmdb_class');\ngs.dropColumn('cmdb_dynamic_ire_feature', 'feature');\ngs.dropColumn('cmdb_dynamic_ire_feature', 'name');\ngs.dropColumn('cmdb_dynamic_ire_feature', 'filter_condition_id');\n\ngs.dropColumn('cmdb_dynamic_ire_filter_condition','description');\ngs.dropColumn('cmdb_dynamic_ire_filter_condition','name');\ngs.dropColumn('cmdb_dynamic_ire_filter_condition','model_id');\ngs.dropColumn('cmdb_dynamic_ire_filter_condition','maximum_filtered_records');\n\ngs.dropColumn('cmdb_dynamic_ire_model','description');\ngs.dropColumn('cmdb_dynamic_ire_model','maximum_match_records');\ngs.dropColumn('cmdb_dynamic_ire_model','ml_model_bias');\ngs.dropColumn('cmdb_dynamic_ire_model','ml_model_class_label');\ngs.dropColumn('cmdb_dynamic_ire_model','model');\ngs.dropColumn('cmdb_dynamic_ire_model','precision');\ngs.dropColumn('cmdb_dynamic_ire_model','version');\n","sys_class_name":"sys_script_fix","sys_id":"0a89d0fd5383351010c2ddeeff7b1254","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_0a89d0fd5383351010c2ddeeff7b1254","sys_updated_by":"admin","sys_created_on":"2023-12-12 00:00:05","name":"Dynamic IRE Xanadu Schema","sys_name":"Dynamic IRE Xanadu Schema","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Rename the Service Baseline exclusion table in G-Release","sys_updated_on":"2015-06-26 21:40:23","sys_tags":"","record_for_rollback":"false","script":"renameTable();\n\nfunction renameTable(){\n\t//Rename Sys Db Object\n\tvar dbObj = new GlideRecord(\"sys_db_object\");\n\tdbObj.addQuery(\"name\",\"svc_baseline_exclusion\");\n\tdbObj.query();\n\tif(dbObj.next()){\n\t\tdbObj.setValue(\"label\",\"Exclusion List\");\n\t\tdbObj.update();\n\t}\n\t\n\tvar docObj = new GlideRecord(\"sys_documentation\");\n\tdocObj.addQuery(\"name\",\"svc_baseline_exclusion\");\n\tdocObj.addNullQuery(\"element\");\n\tdocObj.query();\n\tif(docObj.next()){\n\t\tdocObj.setValue(\"plural\",\"Exclusion Lists\");\n\t\tdocObj.update();\n\t}\n\t\n}","sys_class_name":"sys_script_fix","sys_id":"0aa517abd7010200c1ed0fbc5e61031d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_0aa517abd7010200c1ed0fbc5e61031d","sys_updated_by":"admin","sys_created_on":"2015-06-26 21:40:23","name":"Update Service Baseline Table Name","sys_name":"Update Service Baseline Table Name","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"15","description":"","sys_updated_on":"2023-12-15 00:16:39","sys_tags":"","record_for_rollback":"false","script":"function updateSamEnterpriseLicensingHistory() {\n\tvar gr = new GlideRecord(SAMLicensingUtility.ITAM_LICENSING_TABLE);\n\tgr.addQuery('application', SAMLicensingUtility.SAM_ENT_APP);\n\tgr.addQuery('resource_category', SAMLicensingUtility.SERVERS_CATEGORY);\n\tgr.addQuery('is_aggregated', false);\n\tgr.setWorkflow(false);\n\tgr.deleteMultiple();\n\n\tgr = new GlideRecord(SAMLicensingUtility.ITAM_LICENSING_TABLE);\n\tgr.addQuery('application', SAMLicensingUtility.CI_APP);\n\tgr.addQuery('resource_category', SAMLicensingUtility.SERVERS_CATEGORY);\n\tgr.addQuery('is_aggregated', false);\n\tgr.query();\n\twhile (gr.next()) {\n\t\tvar newGr = new GlideRecord(SAMLicensingUtility.ITAM_LICENSING_TABLE);\n\t\tnewGr.setValue('application', SAMLicensingUtility.SAM_ENT_APP);\n\t\tnewGr.setValue('resource_category', SAMLicensingUtility.SERVERS_CATEGORY);\n\t\tnewGr.setValue('is_aggregated', false);\n\t\tnewGr.setValue('resource_count', gr.getValue('resource_count'));\n\t\tnewGr.setValue('su_count', gr.getValue('su_count'));\n\t\tnewGr.setValue('su_ratio', gr.getValue('su_ratio'));\n\t\tnewGr.setValue('sys_domain', gr.getValue('sys_domain'));\n\t\tnewGr.setWorkflow(false);\n\t\tvar sysId = newGr.insert();\n\t\tvar newGr1 = new GlideRecord(SAMLicensingUtility.ITAM_LICENSING_TABLE);\n\t\tnewGr1.get(sysId);\n\t\tnewGr1.setValue('sys_created_on', gr.getValue('sys_created_on'));\n\t\tnewGr1.setWorkflow(false);\n\t\tnewGr1.update();\n\t}\n}\nupdateSamEnterpriseLicensingHistory();","sys_class_name":"sys_script_fix","sys_id":"0be97dc753c13110fe5cddeeff7b1222","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/45672bfb04b12210559073c06a02f7c5","value":"45672bfb04b12210559073c06a02f7c5"},"sys_update_name":"sys_script_fix_0be97dc753c13110fe5cddeeff7b1222","sys_updated_by":"admin","sys_created_on":"2023-09-07 17:56:29","name":"Update SAM Enterprise Licensing history","sys_name":"Update SAM Enterprise Licensing history","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"5","description":"For DEF0428142, script include attributes will be corrected on the encryption job table","sys_updated_on":"2023-08-24 22:21:13","sys_tags":"","record_for_rollback":"true","script":"repairScriptIncludeCall(\"table\", \"PlatformEncryptedTables\");\nrepairScriptIncludeCall(\"field\", \"PlatformEncryptedFields\");\nrepairScriptIncludeCall(\"module\", \"PlatformEncryptionModules\");\n\nfunction repairScriptIncludeCall(fieldName, scriptName) {\n    var oldScriptCall = \"choice_script=new global.\" + scriptName + \"().process(dependent_value)\";\n    var newScript = \"\";\n\n    var gr = new GlideRecord('sys_dictionary');\n    gr.addQuery('name', 'sys_mass_encryption_job');\n    gr.addQuery('element', fieldName);\n    gr.query();\n\n    if (gr.next()) {\n        var attributesString = gr.getValue(\"attributes\");\n        if (attributesString.contains(oldScriptCall)) {\n            var attributesArray = attributesString.split(\",\");\n\n            for (var i = 0; i < attributesArray.length; i++) {\n                if (attributesArray[i].contains(oldScriptCall)) {\n                    var fullAttribute = attributesArray[i];\n                    attributesArray[i] = fullAttribute.replace(\"dependent_value\", \"typeof dependent_value !== 'undefined' ? dependent_value : null\");\n                }\n            }\n\n            attributesString = attributesArray.join(\",\");\n            gr.setValue(\"attributes\", attributesString);\n            gr.update();\n        }\n\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"0caccae277b03110d21bd84b8c5a995e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e2d36b7704312210559073c06a02f7f4","value":"e2d36b7704312210559073c06a02f7f4"},"sys_update_name":"sys_script_fix_0caccae277b03110d21bd84b8c5a995e","sys_updated_by":"admin","sys_created_on":"2023-08-24 21:50:00","name":"Correct Attributes on Encryption Jobs","sys_name":"Correct Attributes on Encryption Jobs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2020-11-16 22:56:47","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord(\"sys_dictionary\");\n    gr.addQuery(\"name\", \"open_nlu_predict_log\");\n    gr.addQuery(\"element\", \"utterance\");\n    gr.setWorkflow(false);\n    gr.query();\n\n    if(gr.next()) {\n        gr.setValue(\"max_length\", \"512\");\n        gr.update();\n    }","sys_class_name":"sys_script_fix","sys_id":"0cb918197320201042281188caf6a7cb","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1ac3fb3704b52210559073c06a02f785","value":"1ac3fb3704b52210559073c06a02f785"},"sys_update_name":"sys_script_fix_0cb918197320201042281188caf6a7cb","sys_updated_by":"admin","sys_created_on":"2020-11-16 22:56:47","name":"update NLU utterance length in logs","sys_name":"update NLU utterance length in logs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Update the default value for the data loader","sys_updated_on":"2024-04-11 18:54:26","sys_tags":"","record_for_rollback":"true","script":"var gr = new GlideRecord('sys_dictionary');\ngr.addQuery('name','sys_data_source');\ngr.addQuery('element', 'data_loader');\ngr.query();\n\nif (gr.next()){\n\tgr.default_value = '(function loadData(import_set_table, data_source, import_log, last_success_import_time, partition_info) {\\n\\n // Add your code here to insert data to import_set_table \\n\\n})(import_set_table, data_source, import_log, last_success_import_time, partition_info);';\n\tgr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"0cf62f70ff210210fe6343d0653bf133","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8893a3f304312210559073c06a02f7ce","value":"8893a3f304312210559073c06a02f7ce"},"sys_update_name":"sys_script_fix_0cf62f70ff210210fe6343d0653bf133","sys_updated_by":"admin","sys_created_on":"2024-04-11 18:52:33","name":"Change data loader default value","sys_name":"Change data loader default value","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"13","description":"Initializes the 'Version' column for all the non-versioned articles in the kb_knowledge table. All the articles with the state as Published/Retired are initialized to version 1.0, and the rest are initialized to version 0.1","sys_updated_on":"2019-11-20 09:40:52","sys_tags":"","record_for_rollback":"false","script":"initializeVersions();\npopulateSummaryFromArticle('kb_feedback','article_summary','article');\n\n// Uncomment following line to populate kb_use synchronously\n// populateSummaryFromArticle('kb_use','article_summary','article');\n\n// Let's start the async job to populate kb_use table with the summary field\nstartAsyncPopulateSummaryForUse();\n\nfunction initializeVersions(){\n\tvar helper = new SNC.KnowledgeHelper();\n\tvar count = helper.initializeVersions();\n\tgs.log(\"Initialized versions for \" + count + \" articles\");\n}\n\nfunction startAsyncPopulateSummaryForUse(){\n\tvar rec = new GlideRecord('sysauto_script');\n\trec.get('name', 'Populate Summary field on Knowledge Use');\n\tSncTriggerSynchronizer.executeNow(rec);\n}\n\nfunction populateSummaryFromArticle(table, summaryField, articleField) {\n\n    var gr = new GlideAggregate(table);\n    gr.addNullQuery(summaryField);\n    gr.addNotNullQuery(articleField);\n    gr.groupBy(articleField);\n    gr.query();\n    while (gr.next()) {\n        var summary = gr.getElement(articleField).getRefRecord();\n        if (summary.summary) {\n            updateAllWithSummary(gr.getValue(articleField), summary.summary);\n        }\n    }\n\n    function updateAllWithSummary(sysId, summaryId) {\n        var gr = new GlideMultipleUpdate(table);\n        gr.addQuery(articleField, sysId);\n        gr.query();\n        gr.setValue(summaryField, summaryId);\n        gr.execute();\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"0cf858f1db532200a042f278f0b8f55d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/67dc6bfb04352210559073c06a02f738","value":"67dc6bfb04352210559073c06a02f738"},"sys_update_name":"sys_script_fix_0cf858f1db532200a042f278f0b8f55d","sys_updated_by":"admin","sys_created_on":"2016-11-25 11:35:51","name":"Initialize Versions on Articles","sys_name":"Initialize Versions on Articles","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Disables the 'Extend' UI Action on ast_contract","sys_updated_on":"2019-03-20 11:12:35","sys_tags":"","record_for_rollback":"false","script":"(function(){\n\tvar uia = new GlideRecord(\"sys_ui_action\");\n\tif (uia.get(\"b6fd9e04bf6030007a6d257b3f073959\")) {\n\t\tuia.active = false;\n\t\tuia.update();\n\t}\t\n})();","sys_class_name":"sys_script_fix","sys_id":"0d0a77a5c710330034d1f8d07a976385","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ce692b3b04f12210559073c06a02f7e6","value":"ce692b3b04f12210559073c06a02f7e6"},"sys_update_name":"sys_script_fix_0d0a77a5c710330034d1f8d07a976385","sys_updated_by":"admin","sys_created_on":"2019-03-20 11:10:43","name":"Contract: Disable Extend UI Action ","sys_name":"Contract: Disable Extend UI Action ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Update help field in v_ws_creator table in sys_documentation","sys_updated_on":"2018-06-26 18:39:00","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord(\"sys_documentation\");\ngr.addQuery('name','v_ws_creator');\ngr.addQuery('label','Create Web Service');\ngr.addQuery('help', '');\ngr.query();\nif(gr.getRowCount() == 1 && gr.next()) {\ngr.setValue('help','This type of web service will transform the incoming data synchronously based on the associated transform maps by default. Web Service Import Sets complement Direct Web Services and Scripted Web Services in providing a web service interface to Import Set tables.');\ngr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"0da0eebb9fba1300487df84bc42e7041","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ed77233f04b12210559073c06a02f752","value":"ed77233f04b12210559073c06a02f752"},"sys_update_name":"sys_script_fix_0da0eebb9fba1300487df84bc42e7041","sys_updated_by":"admin","sys_created_on":"2018-06-26 18:39:00","name":"fix_update_missing_help_field","sys_name":"fix_update_missing_help_field","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Update Quick Actions Toolbar Controls to Configurable Toolbar Controls","sys_updated_on":"2021-07-27 10:42:06","sys_tags":"","record_for_rollback":"false","script":"renameTable(\"quickactions_workspace_action\", \"Quick Action Toolbar Control\", \"Configurable Toolbar Control\", \"Configurable Toolbar Controls\");\n\nfunction renameTable(tableName, previousLabel, targetLabel, plural){\n\n\tif (pm.isZboot())\n\t  return;\n\n\t//Rename Sys Db Object\n\tgs.log(\"About to change label of \" + tableName + \" from \" + previousLabel + \" to \" + targetLabel);\n\tvar dbObj = new GlideRecord(\"sys_db_object\");\n\tdbObj.addQuery(\"name\",tableName);\n\tdbObj.query();\n\tif(dbObj.next()){\n\t\tvar currentLabel = dbObj.getValue(\"label\");\n\t\tif (currentLabel != previousLabel) {\n\t\t\tgs.log(\"No need to change label: current label=\" + currentLabel +\", expected=\" + previousLabel);\n\t\t\treturn;\n\t\t}\n\t\tdbObj.setValue(\"label\",targetLabel);\n\t\tdbObj.update();\n\t\tgs.log(\"Changed label of \" + tableName + \" to \" + targetLabel);\n\t} else {\n\t\tgs.log(\"Table \" + tableName + \" not found in sys_db_object\");\n\t}\n\t\n\t// Modify plural in sys_documentation table\n\tvar docObj = new GlideRecord(\"sys_documentation\");\n\tdocObj.addQuery(\"name\",tableName);\n\tdocObj.addNullQuery(\"element\");\n\tdocObj.query();\n\tif(docObj.next()){\n\t\tvar currentPlural = docObj.getValue(\"plural\");\n\t\tif (currentPlural != plural) {\n\t\t\tgs.log(\"Changing plural to \" + plural);\n\t\t\tdocObj.setValue(\"plural\", plural);\n\t\t\tdocObj.update();\n\t\t}\n\t} else {\n\t\tgs.log(\"Table \" + tableName + \" not found in sys_documentation\");\n\t}\n\t\n\tgs.log(\"Done changing label of \" + tableName);\n}","sys_class_name":"sys_script_fix","sys_id":"0e3b3e0253613010d3d5ddeeff7b1223","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0ec3fb3704b52210559073c06a02f72e","value":"0ec3fb3704b52210559073c06a02f72e"},"sys_update_name":"sys_script_fix_0e3b3e0253613010d3d5ddeeff7b1223","sys_updated_by":"admin","sys_created_on":"2021-07-26 07:56:58","name":"Update Quick Actions Label","sys_name":"Update Quick Actions Label","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"3","description":"Delete Duplicate Report View ACL and Roles for Mobile Offline Result Table, which was created due to backport","sys_updated_on":"2022-06-24 00:03:55","sys_tags":"","record_for_rollback":"false","script":"var aclGR = new GlideRecord('sys_security_acl');\nif (aclGR.get('51ef5b80733110106c1ddb5f24f6a72f') && aclGR.getValue('sys_mod_count') === '1') {\n\t// if duplicate ACL record hasn't been modified, it should be safe to delete\n\t// because it was set to inactive when backported\n\taclGR.deleteRecord();\n\t\n\t// after removing the duplicate ACL, we should remove the ACL Role associated with it as well\n\tvar aclRoleGR = new GlideRecord('sys_security_acl_role');\n\tif (aclRoleGR.get('c15167c0733110106c1ddb5f24f6a76a') && aclRoleGR.getValue('sys_mod_count') === '0') {\n\t\taclRoleGR.deleteRecord();\n\t}\n}\n\n","sys_class_name":"sys_script_fix","sys_id":"0e592b055bd85110da168d8fa881c750","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/baa57f7b04b52210559073c06a02f754","value":"baa57f7b04b52210559073c06a02f754"},"sys_update_name":"sys_script_fix_0e592b055bd85110da168d8fa881c750","sys_updated_by":"admin","sys_created_on":"2022-06-23 21:49:12","name":"Delete Duplicate Offline Report View ACL","sys_name":"Delete Duplicate Offline Report View ACL","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"1","description":"","sys_updated_on":"2024-11-28 13:00:11","sys_tags":"","record_for_rollback":"true","script":"var recordSysId = '75ec476a43012110b7652ecd2ab8f200'; \n\t\tvar gr = new GlideRecord('sys_ux_client_script_include');\n\t\tif (gr.get(recordSysId)) {\n\t\t\tgr.deleteRecord();\n\t\t\tgs.info('Legacy ListControllerUtils script include deleted, sysId is {0}', recordSysId );\n\t\t} else {\n\t\t\tgs.info('Legacy ListControllerUtils script not found with sysId {0}', recordSysId );\n\t\t}\n\n\t\t","sys_class_name":"sys_script_fix","sys_id":"0e8c3f8743061210c3e62ecd2ab8f23d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/015dd2fa796d247253ef940e685b9ebd","value":"015dd2fa796d247253ef940e685b9ebd"},"sys_update_name":"sys_script_fix_0e8c3f8743061210c3e62ecd2ab8f23d","sys_updated_by":"admin","sys_created_on":"2024-11-28 12:49:48","name":"DeleteLegacyListControllerUtilsRecord","sys_name":"DeleteLegacyListControllerUtilsRecord","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/015dd2fa796d247253ef940e685b9ebd","value":"015dd2fa796d247253ef940e685b9ebd"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"13","description":"CMDB - Updating CMDB Health Staleness Rule (cmdb_health_staleness_rule) attribute to allow scoped entries to be available publically","sys_updated_on":"2021-07-19 17:44:06","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tif (pm.isZboot())\n\t\treturn;\n\tvar gr = new GlideRecord('sys_dictionary');\n\tvar ALLOW_PUBLIC_ATTRIB = 'allow_public';\n\tgr.addQuery('name', 'cmdb_health_staleness_rule');\n\tgr.addQuery('element', 'applies_to');\n\tgr.query();\n\n\twhile (gr.next()) {\n\t\t// If customer does not already have attribute then add\n\t\tif (!gr.getValue('attributes').includes(ALLOW_PUBLIC_ATTRIB)) {\n\t\t\tvar attributesStr = gr.getValue('attributes');\n\t\t\tattributesStr = attributesStr + ',' + ALLOW_PUBLIC_ATTRIB + '=true';\n\t\t\tgr.setValue('attributes', attributesStr);\n\t\t\tgr.update();\n\t\t}\n\t}\n})();\n","sys_class_name":"sys_script_fix","sys_id":"0ecb95475311301084dfddeeff7b120c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_0ecb95475311301084dfddeeff7b120c","sys_updated_by":"admin","sys_created_on":"2021-07-16 17:13:10","name":"CMDB - Health Staleness Rule update","sys_name":"CMDB - Health Staleness Rule update","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Update Min Word Count value with default value in Gen Ai config","sys_updated_on":"2023-12-18 09:38:45","sys_tags":"","record_for_rollback":"true","script":"var gr = new GlideRecord(\"sys_generative_ai_config\");\ngr.addNullQuery(\"min_word_count\");\ngr.query();\nwhile(gr.next()){\n\tgr.setValue(\"min_word_count\",\"-1\");\n\tgr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"0f39dd3fc3c3b150f09fbee015013143","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7c84affb04312210559073c06a02f73d","value":"7c84affb04312210559073c06a02f73d"},"sys_update_name":"sys_script_fix_0f39dd3fc3c3b150f09fbee015013143","sys_updated_by":"rahul.kumar@snc","sys_created_on":"2023-12-18 09:38:45","name":"Update Min word count in Gen Ai config","sys_name":"Update Min word count in Gen Ai config","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"rahul.kumar@snc","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"For upgrade instances, this script will move all CI Classes to be included to match previous functionality","sys_updated_on":"2020-08-13 16:31:54","sys_tags":"","record_for_rollback":"false","script":"if (!pm.isZboot()) {\n\tvar tables = new UnauthorizedChangeRequest().getExtensions();\n\n\t//Need to convert to a string from ArrayList\n\tvar strArr = tables.toString();\n\tstrArr = strArr.replace('[','');\n\tstrArr = strArr.replace(']','');\n\tstrArr = strArr.replace(' ','');\n\n\tvar prop = new GlideRecord('unauth_chg_prop');\n\tif (prop.get('bdaaf92f231650101488dc1756bf6543')) {\n\t\tprop.setValue('include_ci_class', strArr);\n\t\tprop.update();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"0f3c21a2236210101488dc1756bf652b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/32b7af7f04b12210559073c06a02f7fb","value":"32b7af7f04b12210559073c06a02f7fb"},"sys_update_name":"sys_script_fix_0f3c21a2236210101488dc1756bf652b","sys_updated_by":"admin","sys_created_on":"2020-08-13 16:31:54","name":"Include all CI Classes for Unauth Change","sys_name":"Include all CI Classes for Unauth Change","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"4","description":"Set the \"mandatory\" field for records in pwd_map_proc_to_verification. This field is new in Helsinki and defaults to \"Yes\" unless the verification type has auto_enroll set to true. \r\nAlso set the min_verification number for active processes, to match the number of assigned verifications.","sys_updated_on":"2015-10-27 17:19:25","sys_tags":"","record_for_rollback":"false","script":"fixMandatory();\nfixMinVerifications();\n\nfunction fixMandatory() {\n\tvar mapGr = new GlideRecord('pwd_map_proc_to_verification');\n\tmapGr.query();\n\t\n\twhile (mapGr.next()) {\n\t\tmapGr.mandatory = true;\n\t\tmapGr.update();\n\t}\n}\n\nfunction fixMinVerifications() {\n\tvar processGr = new GlideRecord('pwd_process');\n\tprocessGr.addQuery('active', true);\n\tprocessGr.query();\n\twhile (processGr.next()) {\n\t\tvar count = new GlideAggregate('pwd_map_proc_to_verification');\n\t\tcount.addQuery('process', processGr.sys_id);\n\t\tcount.addAggregate('COUNT');\n\t\tcount.query();\n\t\tif (count.next()) {\n\t\t\tprocessGr.min_verifications = count.getAggregate('COUNT');\n\t\t\tprocessGr.update();\n\t\t}\n\t}\n}\n","sys_class_name":"sys_script_fix","sys_id":"0f5a801887020200cfab91abe3e3ec56","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/421beb3304352210559073c06a02f7ef","value":"421beb3304352210559073c06a02f7ef"},"sys_update_name":"sys_script_fix_0f5a801887020200cfab91abe3e3ec56","sys_updated_by":"admin","sys_created_on":"2015-08-18 23:01:30","name":"ProcessVerificationMandatory","sys_name":"ProcessVerificationMandatory","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"michael.riha","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"","sys_updated_on":"2020-03-03 13:51:49","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tvar adder = new AddValueToCsvProperty();\n\tadder.add('event.limited.queues', 'process_automation');\n})();","sys_class_name":"sys_script_fix","sys_id":"1092f90e0f130010f5bf5ae9c4767e10","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5c3e67b304752210559073c06a02f757","value":"5c3e67b304752210559073c06a02f757"},"sys_update_name":"sys_script_fix_1092f90e0f130010f5bf5ae9c4767e10","sys_updated_by":"david.airmet","sys_created_on":"2020-03-03 13:50:55","name":"Add PAD to event.limited.queues property","sys_name":"Add PAD to event.limited.queues property","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"david.airmet","sys_policy":"read"},{"before":"false","unloadable":"false","sys_mod_count":"11","description":"Fix script for modifying labels and hints of service_availability table","sys_updated_on":"2022-08-11 05:27:28","sys_tags":"","record_for_rollback":"true","script":"renameTableLabel(\"service_availability\", \"absolute_count\", \"Total outages\", \"Total outage periods\", \"Total outage periods\");\nchangeHint(\"service_availability\", \"absolute_count\", \"Total number of outages in this interval (independent of schedule)\", \"Number of continuous outage periods for the entire availability interval\");\n\nrenameTableLabel(\"service_availability\", \"scheduled_count\", \"Commitment outages\", \"Commitment outage periods\", \"Commitment outage periods\");\nchangeHint(\"service_availability\", \"scheduled_count\", \"Number of outages against this commitment's schedule in this interval\", \"Number of continuous outage periods within the commitment's schedule\");\n\nchangeHint(\"service_availability\", \"absolute_downtime\", \"Wall clock downtime (independent of schedule)\", \"Total downtimefor the entire availability interval (independent of schedule)\");\n\nchangeHint(\"service_availability\", \"scheduled_downtime\", \"Downtime that counts against this commitment's schedule\", \"Downtime within the commitment's schedule\");\n\nchangeHint(\"service_availability\", \"ast\", \"Total expected service availability for this commitment\", \"Expected uptime within the commitment's schedule\");\nchangeHint(\"service_availability\", \"allowed_downtime\", \"Acceptable amount of downtime againt this commitment's schedule for this interval\", \"Acceptable amount of downtime against the commitment's schedule for this interval\");\n\n//Execution time from background script\n//[0:00:02.369] Script completed in scope global: script i.e. 2369 ms\n\nfunction renameTableLabel(tableName, elementName, previousLabel, targetLabel, plural) {\n    gs.log(\"About to change label\", \" SPM Service Availability Fix Script\");\n    var dbObj = new GlideRecord(\"sys_documentation\");\n    dbObj.addQuery(\"name\", tableName);\n    dbObj.addQuery(\"element\", elementName);\n    dbObj.query();\n    if (dbObj.next()) {\n        var currentLabel = dbObj.getValue(\"label\");\n        if (currentLabel != previousLabel) {\n            gs.log(\"No need to change label\", \"SPM Service Availability  Fix Script\");\n            return;\n        }\n        dbObj.setValue(\"label\", targetLabel);\n        dbObj.update();\n        gs.log(targetLabel, \"SPM Service Availability  Fix Script : Changed lable\");\n    } else {\n        gs.log(tableName, \"SPM Service Availability Fix Script : Table not found in sys_documentation\");\n    }\n\n    // Modify plural in sys_documentation table\n    var docObj = new GlideRecord(\"sys_documentation\");\n    docObj.addQuery(\"name\", tableName);\n    docObj.addQuery(\"element\", elementName);\n    docObj.query();\n    if (docObj.next()) {\n        var currentPlural = docObj.getValue(\"plural\");\n        if (currentPlural != plural) {\n            gs.log(plural, \"SPM Service Availability Fix Script : Changing plural\");\n            docObj.setValue(\"plural\", plural);\n            docObj.update();\n        }\n    } else {\n        gs.log(tableName, \"SPM Service Availability Fix Script : Table not found in sys_documentation\");\n    }\n\n    gs.log(tableName, \"SPM Service Availability Fix Script : Done changing label of table\");\n}\n\nfunction changeHint(tableName, elementName, previousHint, targetHint) {\n    gs.log(\"About to change hint\", \" SPM Service Availability Fix Script\");\n    var docObj = new GlideRecord(\"sys_documentation\");\n    docObj.addQuery(\"name\", tableName);\n    docObj.addQuery(\"element\", elementName);\n    docObj.query();\n    if (docObj.next()) {\n        var currentHint = docObj.getValue(\"hint\");\n        if (currentHint != previousHint) {\n            gs.log(\"No need to change hint\", \"SPM Service Availability  Fix Script\");\n            return;\n        }\n        docObj.setValue(\"hint\", targetHint);\n        docObj.update();\n    }\n\n}","sys_class_name":"sys_script_fix","sys_id":"10aaf7c6eb01111003fbb9e12a52284f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4a39e3f704f12210559073c06a02f7f9","value":"4a39e3f704f12210559073c06a02f7f9"},"sys_update_name":"sys_script_fix_10aaf7c6eb01111003fbb9e12a52284f","sys_updated_by":"admin","sys_created_on":"2022-08-03 08:29:04","name":"Update Service Availability Table Labels","sys_name":"Update Service Availability Table Labels","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Enable text indexing on contract table for upgrading customers","sys_updated_on":"2022-10-11 09:52:46","sys_tags":"","record_for_rollback":"true","script":"(function() {\n\tvar dictGr = new GlideRecord('sys_dictionary');\n\tdictGr.addQuery('name', 'ast_contract');\n\tdictGr.addQuery('internal_type', 'collection');\n\tdictGr.addQuery('text_index', false);\n\tdictGr.query();\n\tif (dictGr.next()) {\n\t\tdictGr.setValue('text_index', true);\n\t\tdictGr.update();\n\t\t// Trigger event to generate index for existing data\n\t\tGlideTextIndexEvent().indexAll('ast_contract', '');\n\t}\n}());","sys_class_name":"sys_script_fix","sys_id":"113e139cf8661110f877f2eb35455972","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1a3927f704f12210559073c06a02f7be","value":"1a3927f704f12210559073c06a02f7be"},"sys_update_name":"sys_script_fix_113e139cf8661110f877f2eb35455972","sys_updated_by":"admin","sys_created_on":"2022-10-11 09:21:01","name":"Contract: Enable text index","sys_name":"Contract: Enable text index","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"Not all screen types could be embedded.\r\nAdded ref qual to \"embedded screen\" field, form_segment table to provide a selection of relevant screens.","sys_updated_on":"2021-04-29 09:15:41","sys_tags":"","record_for_rollback":"false","script":"var sysDictionaryGr = new GlideRecord(\"sys_dictionary\");\n\tsysDictionaryGr.addQuery(\"name\", \"sys_sg_form_segment\");\n\tsysDictionaryGr.addQuery(\"element\", \"embedded_screen\");\n\tsysDictionaryGr.query();\n\n\tif(sysDictionaryGr.next()) {\n\t\tsysDictionaryGr.setValue(\"reference_qual\", \"javascript: new SgReferenceQualifiers().filterEmbeddedScreensForFormSegment()\");\n\t\tsysDictionaryGr.update();\n\t\tgs.info(gs.getMessage(\"{0}: a new value for reference_qual was set\", \"[addRefQualToEmbeddedScreen]\"));\n\t}","sys_class_name":"sys_script_fix","sys_id":"114839a37323201002ef7a2f1bf6a792","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/75d42bbf04312210559073c06a02f78d","value":"75d42bbf04312210559073c06a02f78d"},"sys_update_name":"sys_script_fix_114839a37323201002ef7a2f1bf6a792","sys_updated_by":"admin","sys_created_on":"2021-04-22 08:55:30","name":"Add ref qual to embeded screen form_segm","sys_name":"Add ref qual to embeded screen form_segm","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Clear the read-only flag on the wf_context.workflow column so that context variables of types that check for write-permissions (password2) will be editable","sys_updated_on":"2017-08-21 16:25:52","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord(\"sys_dictionary\");\ngr.addQuery(\"name\", \"wf_context\");\ngr.addQuery(\"element\", \"workflow\");\ngr.query();\nif (gr.next()) {\n\tgr.setValue(\"read_only\", false);\n\tgr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"117a261453300300455d435723dc342b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/41672bfb04b12210559073c06a02f7c6","value":"41672bfb04b12210559073c06a02f7c6"},"sys_update_name":"sys_script_fix_117a261453300300455d435723dc342b","sys_updated_by":"russ.sarbora","sys_created_on":"2017-08-21 16:25:20","name":"Make context variables editable","sys_name":"Make context variables editable","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"russ.sarbora","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Remove calculation from time taken field. Time taken will now be populated through a script include.","sys_updated_on":"2023-10-12 20:46:51","sys_tags":"","record_for_rollback":"true","script":"var gr = new GlideRecord(\"sys_dictionary\");\ngr.addQuery(\"name\", \"sys_generative_ai_log\");\ngr.addQuery(\"element\", \"time_taken\");\ngr.setValue('virtual', true);\ngr.query();\n\nif(gr.next()) {\n  gr.setValue('virtual', false);\n  gr.setValue('calculation', null);\n  gr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"11adee9243f13110073084b49bb8f273","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7c84affb04312210559073c06a02f73d","value":"7c84affb04312210559073c06a02f73d"},"sys_update_name":"sys_script_fix_11adee9243f13110073084b49bb8f273","sys_updated_by":"admin","sys_created_on":"2023-10-12 20:45:34","name":"Remove calculation from time taken field","sys_name":"Remove calculation from time taken field","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Updates the labels for a Function's preconditions","sys_updated_on":"2021-01-19 19:10:23","sys_tags":"","record_for_rollback":"false","script":"var choiceValues = new GlideRecord(\"sys_choice\");\nchoiceValues.addQuery(\"value\", \"credentials\");\nchoiceValues.addQuery(\"name\", \"sys_sg_button\");\nchoiceValues.addQuery(\"element\", \"preconditions\");\nchoiceValues.addQuery(\"language\", \"en\");\nchoiceValues.query();\nwhile(choiceValues.next()) {\n  choiceValues.label = \"HR Task Credentials\";\n  choiceValues.setWorkflow(false);\n  choiceValues.update();\n}\n\nchoiceValues = new GlideRecord(\"sys_choice\");\nchoiceValues.addQuery(\"value\", \"signature\");\nchoiceValues.addQuery(\"name\", \"sys_sg_button\");\nchoiceValues.addQuery(\"element\", \"preconditions\");\nchoiceValues.addQuery(\"language\", \"en\");\nchoiceValues.query();\nwhile(choiceValues.next()) {\n  choiceValues.label = \"HR Task Signature\";\n  choiceValues.setWorkflow(false);\n  choiceValues.update();\n}","sys_class_name":"sys_script_fix","sys_id":"11ba857517f92010f2b43b9fadb95973","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/eec96fbb04f12210559073c06a02f711","value":"eec96fbb04f12210559073c06a02f711"},"sys_update_name":"sys_script_fix_11ba857517f92010f2b43b9fadb95973","sys_updated_by":"admin","sys_created_on":"2021-01-19 19:10:23","name":"Update labels for preconditions","sys_name":"Update labels for preconditions","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"This script is to insert genius results into Search Signal Genius Result Triggered Event(sys_search_signal_genius_result_triggered_event) table that were triggered prior to Tokyo\r\n\t\t","sys_updated_on":"2022-04-12 19:22:09","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('sys_search_signal_event');\ngr.addQuery('search_results', 'CONTAINS', 'genius');\ngr.addQuery('sys_created_on', '>=', gs.daysAgo(90));\ngr.query();\n\nwhile (gr.next()) {\n    var rawResults = gr.getValue('search_results');\n    var resultsJson = JSON.parse(rawResults);\n\n    for (var results in resultsJson.results) {\n        var result = resultsJson.results[results];\n        if (result.resultType === 'GENIUS') {\n            var glideRecord = new GlideRecord('sys_search_signal_genius_result_triggered_event');\n\n            glideRecord.initialize();\n            glideRecord.autoSysFields(false);\n            glideRecord.setValue('search_signal_event', gr.getUniqueValue());\n            glideRecord.setValue('source_table', result.tableName);\n            glideRecord.setValue('card_type', result.cardType);\n            glideRecord.setValue('result_doc_id', result.id);\n            glideRecord.setValue('sys_created_on', gr.getValue('sys_created_on'));\n            glideRecord.setValue('sys_created_by', gr.getValue('sys_created_by'));\n            glideRecord.setValue('sys_updated_on', gr.getValue('sys_updated_on'));\n            glideRecord.setValue('sys_updated_by', gr.getValue('sys_updated_by'));\n\n            glideRecord.insert();\n        }\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"11e7f6e153b20110dfe7ddeeff7b12bb","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/be946b3f04312210559073c06a02f73b","value":"be946b3f04312210559073c06a02f73b"},"sys_update_name":"sys_script_fix_11e7f6e153b20110dfe7ddeeff7b12bb","sys_updated_by":"admin","sys_created_on":"2022-04-11 18:06:31","name":"Update AIS Triggered Genius ResultsTable","sys_name":"Update AIS Triggered Genius ResultsTable","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"5","description":"","sys_updated_on":"2023-10-11 09:29:49","sys_tags":"","record_for_rollback":"true","script":"(function() {\n\tvar ootbCatIds = [\n\t\t'0200c954c3031000b959fd251eba8fb9',\n\t\t'04e9f054c3031000b959fd251eba8f2f',\n\t\t'06d6fc14c3031000b959fd251eba8fc9',\n\t\t'0afc3890c3031000b959fd251eba8f8b',\n\t\t'0dfe3890c3031000b959fd251eba8f5c',\n\t\t'18eaf054c3031000b959fd251eba8f9c',\n\t\t'18fdf454c3031000b959fd251eba8fc8',\n\t\t'1beb7454c3031000b959fd251eba8f82',\n\t\t'218323293743100044e0bfc8bcbe5d61',\n\t\t'21e9f054c3031000b959fd251eba8f03',\n\t\t'23ff7854c3031000b959fd251eba8fe7',\n\t\t'2dd5bc14c3031000b959fd251eba8f32',\n\t\t'32eb7454c3031000b959fd251eba8f35',\n\t\t'35bf2d4137101000deeabfc8bcbe5dbd',\n\t\t'37d57c14c3031000b959fd251eba8fad',\n\t\t'3dfe3854c3031000b959fd251eba8f42',\n\t\t'42fe3854c3031000b959fd251eba8f76',\n\t\t'43eaf054c3031000b959fd251eba8f82',\n\t\t'46fdb814c3031000b959fd251eba8f5e',\n\t\t'4dfe7854c3031000b959fd251eba8f73',\n\t\t'4dffb854c3031000b959fd251eba8f36',\n\t\t'51fdf454c3031000b959fd251eba8fd4',\n\t\t'53e9b054c3031000b959fd251eba8ffc',\n\t\t'55d57c14c3031000b959fd251eba8fa6',\n\t\t'57d5bc14c3031000b959fd251eba8fd7',\n\t\t'58fdb454c3031000b959fd251eba8ff0',\n\t\t'5fea3454c3031000b959fd251eba8f3d',\n\t\t'5ffcb454c3031000b959fd251eba8f82',\n\t\t'5ffe7854c3031000b959fd251eba8f4c',\n\t\t'60eaf054c3031000b959fd251eba8fe3',\n\t\t'65eaf054c3031000b959fd251eba8f42',\n\t\t'6800c954c3031000b959fd251eba8f85',\n\t\t'68d5f814c3031000b959fd251eba8f0f',\n\t\t'69d57c14c3031000b959fd251eba8fc7',\n\t\t'69fdf454c3031000b959fd251eba8fc1',\n\t\t'6ae9b054c3031000b959fd251eba8fe1',\n\t\t'6ffd3854c3031000b959fd251eba8f3b',\n\t\t'6ffdf454c3031000b959fd251eba8ffa',\n\t\t'73d479803713100044e0bfc8bcbe5d79',\n\t\t'7900c954c3031000b959fd251eba8f7e',\n\t\t'7a00c954c3031000b959fd251eba8f77',\n\t\t'7ad6fc14c3031000b959fd251eba8f90',\n\t\t'7efe7854c3031000b959fd251eba8f53',\n\t\t'7feb7454c3031000b959fd251eba8fb4',\n\t\t'80d6fc14c3031000b959fd251eba8fd7',\n\t\t'80ffb854c3031000b959fd251eba8f15',\n\t\t'81feb9c137101000deeabfc8bcbe5dc4',\n\t\t'82ff7854c3031000b959fd251eba8fee',\n\t\t'82ffb854c3031000b959fd251eba8f1c',\n\t\t'84ffb854c3031000b959fd251eba8fe8',\n\t\t'85ffb854c3031000b959fd251eba8fe1',\n\t\t'88d6fc14c3031000b959fd251eba8f89',\n\t\t'88ffb854c3031000b959fd251eba8f93',\n\t\t'89d5f814c3031000b959fd251eba8f08',\n\t\t'8cd5bc14c3031000b959fd251eba8fbc',\n\t\t'8cfdf454c3031000b959fd251eba8ff3',\n\t\t'8ffdf454c3031000b959fd251eba8f1c',\n\t\t'90eaf054c3031000b959fd251eba8f7b',\n\t\t'90fe3854c3031000b959fd251eba8f6f',\n\t\t'91ff7854c3031000b959fd251eba8fe0',\n\t\t'92fe7854c3031000b959fd251eba8fd9',\n\t\t'94028b6a1b5310002502fbcd2c071315',\n\t\t'96ffb854c3031000b959fd251eba8fef',\n\t\t'98b44470d7311100158ba6859e610353',\n\t\t'9bffb854c3031000b959fd251eba8f9a',\n\t\t'9bfff054c3031000b959fd251eba8ff9',\n\t\t'9cfcb454c3031000b959fd251eba8f7b',\n\t\t'9dea3454c3031000b959fd251eba8f36',\n\t\t'9f00c954c3031000b959fd251eba8fb1',\n\t\t'a0d5bc14c3031000b959fd251eba8f0d',\n\t\t'a1d5bc14c3031000b959fd251eba8f5f',\n\t\t'a4d6fc14c3031000b959fd251eba8fee',\n\t\t'a5d63890c3031000b959fd251eba8f75',\n\t\t'a5ffb854c3031000b959fd251eba8fda',\n\t\t'a800c954c3031000b959fd251eba8f70',\n\t\t'a9fdb454c3031000b959fd251eba8fe9',\n\t\t'aad57c14c3031000b959fd251eba8fc0',\n\t\t'aafcb454c3031000b959fd251eba8f96',\n\t\t'abfd3854c3031000b959fd251eba8f08',\n\t\t'adea3454c3031000b959fd251eba8f44',\n\t\t'ae963be4d7311100158ba6859e61030a',\n\t\t'b1eaf054c3031000b959fd251eba8fdc',\n\t\t'b1fdf454c3031000b959fd251eba8fcd',\n\t\t'b1ff7854c3031000b959fd251eba8ff5',\n\t\t'b2d5bc14c3031000b959fd251eba8f96',\n\t\t'b7d5bc14c3031000b959fd251eba8fd0',\n\t\t'b9eb7414c3031000b959fd251eba8fe5',\n\t\t'bbe9b054c3031000b959fd251eba8fda',\n\t\t'bbfe3854c3031000b959fd251eba8ff2',\n\t\t'bceb7454c3031000b959fd251eba8f42',\n\t\t'c4d4fe4937101000deeabfc8bcbe5d91',\n\t\t'c5e93890c3031000b959fd251eba8f7d',\n\t\t'c6eaf054c3031000b959fd251eba8f95',\n\t\t'c7d6fc14c3031000b959fd251eba8ff5',\n\t\t'c7fcb454c3031000b959fd251eba8f9d',\n\t\t'c8eb7454c3031000b959fd251eba8f62',\n\t\t'c8ffb854c3031000b959fd251eba8f2f',\n\t\t'c9d5bc50c3031000b959fd251eba8fbc',\n\t\t'cceb7454c3031000b959fd251eba8f2d',\n\t\t'cdfe7854c3031000b959fd251eba8f25',\n\t\t'ceeab490c3031000b959fd251eba8f52',\n\t\t'd1d6fc14c3031000b959fd251eba8fd0',\n\t\t'd4fe3854c3031000b959fd251eba8f89',\n\t\t'd5fd3854c3031000b959fd251eba8f28',\n\t\t'd7eaf054c3031000b959fd251eba8fa3',\n\t\t'd9fd3854c3031000b959fd251eba8f01',\n\t\t'd9fdf454c3031000b959fd251eba8f23',\n\t\t'dafcb454c3031000b959fd251eba8fe2',\n\t\t'dd411ee03734200044e0bfc8bcbe5d50',\n\t\t'ddd5bc14c3031000b959fd251eba8fb5',\n\t\t'ddeb7454c3031000b959fd251eba8f3b',\n\t\t'df7c5918c3031000b959fd251eba8fa5',\n\t\t'dffe7854c3031000b959fd251eba8f2c',\n\t\t'e0fdf454c3031000b959fd251eba8f37',\n\t\t'e1008d14c3031000b959fd251eba8f18',\n\t\t'e200c954c3031000b959fd251eba8f5d',\n\t\t'e3008d14c3031000b959fd251eba8f1f',\n\t\t'e3eaf054c3031000b959fd251eba8f33',\n\t\t'e3ffb854c3031000b959fd251eba8f4a',\n\t\t'ece9b054c3031000b959fd251eba8ff4',\n\t\t'eefe7854c3031000b959fd251eba8f1e',\n\t\t'eeffb854c3031000b959fd251eba8fc6',\n\t\t'f9d63054c3031000b959fd251eba8f21',\n\t\t'83c92540732623008b516cb63cf6a7b1',\n\t\t'9cd8f9b7b94b2300964fbb6da89f2ff3',\n\t];\n\tvar modelCatGr = new GlideRecord('cmdb_model_category');\n\tmodelCatGr.addQuery('sys_id', 'IN', ootbCatIds);\n\tvar qc = modelCatGr.addQuery('ootb_category', '!=', 'y');\n\tqc.addOrCondition('ootb_category', '');\n\tmodelCatGr.setValue('ootb_category', 'y');\n\tmodelCatGr.updateMultiple();\n\t// For contract model category, there is a BR to prevent any updates\n\t// Hence while setting the flag, disabling BR\n\tmodelCatGr = new GlideRecord('cmdb_model_category');\n\tmodelCatGr.addQuery('sys_id', '996b568ec3102000b959fd251eba8f19');\n\tqc = modelCatGr.addQuery('ootb_category', '!=', 'y');\n\tqc.addOrCondition('ootb_category', '');\n\tmodelCatGr.query();\n\tif (modelCatGr.next()) {\n\t\tmodelCatGr.setValue('ootb_category', 'y');\n\t\tmodelCatGr.setWorkflow(false);\n\t\tmodelCatGr.update();\n\t}\n}());","sys_class_name":"sys_script_fix","sys_id":"11facb1acd303110fa9baa617c80e041","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e325237304712210559073c06a02f7be","value":"e325237304712210559073c06a02f7be"},"sys_update_name":"sys_script_fix_11facb1acd303110fa9baa617c80e041","sys_updated_by":"admin","sys_created_on":"2023-08-24 05:40:47","name":"Set OOTB on shipped model categories","sys_name":"Set OOTB on shipped model categories","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Analytics Migrate User Consent Decisions with corrected known issues","sys_updated_on":"2024-05-20 15:17:48","sys_tags":"","record_for_rollback":"true","script":"gs.info(\"Analytics User Consent Decisions Migration Started\");\nvar startTime = new GlideDateTime();\ngs.info(\"Start Time: \" + startTime);\n\n// Query old consent records ordered by username\nvar sourceConsentGR = new GlideRecord('m2m_user_consent_info');\nsourceConsentGR.orderBy('username');\nsourceConsentGR.query();\n\nvar userConsentDecisionMap = new Packages.java.util.HashMap();\nvar usernameList = [];\nvar maxtime;\nvar prevUserName = null;\n\nwhile (sourceConsentGR.next()) {\n    var currUserName = sourceConsentGR.username.toString();\n\n    if (currUserName !== prevUserName) {\n        // Assign current values to previous record.\n        maxtime = sourceConsentGR.getValue('consented_date');\n        \n        // Save user's first decision that is found\n        var newUserDecision = {};\n        newUserDecision.user_name = sourceConsentGR.username.toString();\n        newUserDecision.region = sourceConsentGR.region.toString();\n        newUserDecision.user_consent_decision = sourceConsentGR.getValue('user_consented_to_tracking_usage');\n        newUserDecision.user_consented_date = sourceConsentGR.getValue('consented_date');\n        userConsentDecisionMap.put(sourceConsentGR.username.toString(), newUserDecision);\n\n        // Add to list of names as this is the first appearance of this username\n        usernameList.push(sourceConsentGR.username.toString());\n    } else {\n        var currUserConsentDate = sourceConsentGR.getValue('consented_date').toString();\n\n        // Use most recent entry available for the user\n        if (new GlideDateTime(currUserConsentDate).after(new GlideDateTime(maxtime))) {\n            maxtime = currUserConsentDate;\n\n            var replaceUserDecision = {};\n            replaceUserDecision.user_name = sourceConsentGR.username.toString();\n            replaceUserDecision.region = sourceConsentGR.region.toString();\n            replaceUserDecision.user_consent_decision = sourceConsentGR.getValue('user_consented_to_tracking_usage');\n            replaceUserDecision.user_consented_date = currUserConsentDate;\n            userConsentDecisionMap.put(sourceConsentGR.username.toString(), replaceUserDecision);\n        }\n    }\n\n    // Assign current name for next iteration.\n    prevUserName = currUserName;\n}\n\n// Create set of usernames  which are already migrated OR  given consent i.e user are present in sys_analytics_user_consent_decision table\nvar migratedUsers = new Packages.java.util.HashSet();\nvar consentDecisionGR = new GlideRecord('sys_analytics_user_consent_decision');\n    consentDecisionGR.query();\n    while (consentDecisionGR.next()) {\n            var userName = consentDecisionGR.user.user_name.toString();\n    \t\tmigratedUsers.add(userName);\n    }\n\n\n// Skip insertion logic if there are no records to migrate\nif (usernameList.length > 0) {\n    var sysUserGR = new GlideRecord('sys_user');\n    sysUserGR.addQuery('user_name', 'IN', usernameList);\n    sysUserGR.query();\n\n    var migratedUsersCount = 0;\n    var targetConsentDecisionGR = new GlideRecord('sys_analytics_user_consent_decision');\n    targetConsentDecisionGR.setWorkflow(false);\n    targetConsentDecisionGR.initialize();\n\n    while (sysUserGR.next()) {\n        var userName = sysUserGR.user_name.toString();\n        var userConsentDecisionForInsert = userConsentDecisionMap.get(userName);\n\n        if(userConsentDecisionForInsert != null && !migratedUsers.contains(userName)) {\n          targetConsentDecisionGR.user = sysUserGR.sys_id;\n          targetConsentDecisionGR.analytics_consent_policy = getPolicy(userConsentDecisionForInsert.region);\n          targetConsentDecisionGR.decision = getDecision(userConsentDecisionForInsert.user_consent_decision);\n          targetConsentDecisionGR.date = userConsentDecisionForInsert.user_consented_date;\n          targetConsentDecisionGR.migrated_consent_date = userConsentDecisionForInsert.user_consented_date;\n          targetConsentDecisionGR.insertLazy();\n          migratedUsersCount++;\n        }\n    }\n\n    gs.info(\"Analytics User Consent Decisions Migration: If not already migrated, \" + migratedUsersCount + \" users would be migrated shortly in the background\");\n}\n\nvar endTime = new GlideDateTime();\ngs.info(\"End Time: \" + endTime);\ngs.info(\"Time Taken: \" + gs.dateDiff(startTime, endTime, true));\ngs.info(\"Analytics User Consent Decisions Migration Ended\");\n\n\nfunction getPolicy(region) {\n    if (region === \"EU\") {\n        return \"87f9b519773311105679bcc8ca5a9922\"; // Explicit Opt In\n    } else if (region === \"US\") {\n        return \"ef0bb519773311105679bcc8ca5a99ad\"; // No Consent Required\n    } else {\n        return \"562bf159773311105679bcc8ca5a9983\"; // Notice\n    }\n}\n\n\nfunction getDecision(consentNeeded) {\n    return consentNeeded === \"Y\";\n}","sys_class_name":"sys_script_fix","sys_id":"123def917f120210cf428c711d8665ad","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/07d4abbf04312210559073c06a02f7f6","value":"07d4abbf04312210559073c06a02f7f6"},"sys_update_name":"sys_script_fix_123def917f120210cf428c711d8665ad","sys_updated_by":"maint","sys_created_on":"2024-05-20 15:17:48","name":"Analytics Migrate User Consent Decisions","sys_name":"Analytics Migrate User Consent Decisions","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"4","description":"This fix script is used to populate the newly introduced order column for existing records of sys_generative_ai_prompt_config and sys_one_extend_capability_definition","sys_updated_on":"2024-06-06 16:11:10","sys_tags":"","record_for_rollback":"true","script":"gs.info(sn_i18n.Message.getMessage(\"one_extend\", \"Started executing fix script: Fill order in definition & prompt_config\"));\n\n// Populate order field for existing genAIPromptConfigs(sys_generative_ai_prompt_config) records.\nvar genAIPromptConfigGr = new GlideRecord(\"sys_generative_ai_prompt_config\");\ngenAIPromptConfigGr.query();\ngenAIPromptConfigGr.addNullQuery('order');\ngenAIPromptConfigGr.setValue('order', 0);\ngenAIPromptConfigGr.updateMultiple();\n\ngs.info(sn_i18n.Message.getMessage(\"one_extend\", \"Successfully populated order field for existing GenAIPromptConfig records\"));\n\n// Populate order field for existing capabilityDefinition(sys_one_extend_capability_definition) records.\n\nvar capabilityDefinitionGr = new GlideRecord(\"sys_one_extend_capability_definition\");\ncapabilityDefinitionGr.query();\ncapabilityDefinitionGr.addNullQuery('order');\ncapabilityDefinitionGr.setValue('order', 0);\ncapabilityDefinitionGr.updateMultiple();\n\ngs.info(sn_i18n.Message.getMessage(\"one_extend\", \"Successfully populated order field for existing CapabilityDefinition records\"));\n\ngs.info(sn_i18n.Message.getMessage(\"one_extend\", \"Successfully completed executing fix script: Fill order in definition & prompt_config\"));","sys_class_name":"sys_script_fix","sys_id":"128384597f660210f465c3b76d8665f2","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7c84affb04312210559073c06a02f73d","value":"7c84affb04312210559073c06a02f73d"},"sys_update_name":"sys_script_fix_128384597f660210f465c3b76d8665f2","sys_updated_by":"admin","sys_created_on":"2024-06-01 08:43:50","name":"Fill order in definition & prompt_config","sys_name":"Fill order in definition & prompt_config","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Alter the attributes of State and substate of Contract","sys_updated_on":"2022-05-18 11:33:09","sys_tags":"","record_for_rollback":"true","script":"(function() {\n\tvar gr = new GlideRecord('sys_dictionary');\n\tif (!gr.isValid()) { return; }\n\tgr.addQuery('name', 'ast_contract');\n\tgr.addQuery('element', 'state').addOrCondition('element', 'substate');\n\tgr.query();\n\tgs.info('add ignore_filter_on_new=true attribute to state & substate of ast_contract');\n\twhile (gr.next()) {\n\t\tvar filter = gr.getValue('attributes');\n\t\tif (gs.nil(filter)) {\n\t\t\tgr.setValue('attributes', 'ignore_filter_on_new=true');\n\t\t\tgr.update();\n\t\t} else if (!filter.includes('ignore_filter_on_new')) {\n\t\t\tgr.setValue('attributes', filter + ',ignore_filter_on_new=true');\n\t\t\tgr.update();\n\t\t}\n\t}\n}());","sys_class_name":"sys_script_fix","sys_id":"12893e51e167c510fa9ba00f776c2d17","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1a3927f704f12210559073c06a02f7be","value":"1a3927f704f12210559073c06a02f7be"},"sys_update_name":"sys_script_fix_12893e51e167c510fa9ba00f776c2d17","sys_updated_by":"admin","sys_created_on":"2022-05-18 06:10:47","name":"Set attributes for Contract State","sys_name":"Set attributes for Contract State","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"For DEF0317011, For field context and summary in sys_mass_encryption_job needs to be marked as no_audit to avoid exposive grow on sys_audit table when running migration job.","sys_updated_on":"2022-07-27 18:02:31","sys_tags":"","record_for_rollback":"true","script":"(function() {\n\tvar gr = new GlideRecord('sys_dictionary');\n    gr.addQuery('name', 'sys_mass_encryption_job');\n    gr.addQuery('element', 'IN', \"summary,context\");\n    gr.query();\n    while (gr.next()) {\n\t\tvar oldValue = gr.getValue(\"attributes\");\n\t\tif (gs.nil(oldValue))\n\t\t\toldValue = \"\";\n\t\telse\n\t\t\toldValue += \",\";\n\t\tvar newValue = oldValue + \"no_audit=true\";\n\t\tgr.setWorkflow(false);\n\t\tgr.setValue(\"attributes\",newValue);\n\t\tgr.update();\n\t\tgs.info(\"Added no_audit = true to sys_mass_encryption_job.\" + gr.getValue('element') + \" in sys_dictionary\");\n\t}\n})();","sys_class_name":"sys_script_fix","sys_id":"12a5f5c073011110fa4be27bcaf6a736","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e2d36b7704312210559073c06a02f7f4","value":"e2d36b7704312210559073c06a02f7f4"},"sys_update_name":"sys_script_fix_12a5f5c073011110fa4be27bcaf6a736","sys_updated_by":"admin","sys_created_on":"2022-07-27 17:51:52","name":"Add No Audit For Job Table","sys_name":"Add No Audit For Job Table","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Disable all click metrics scheduled triggers(across nodes) if they have been enabled by setting this property com.glide.cs.click_metrics.event_enabled to true","sys_updated_on":"2023-03-01 00:31:05","sys_tags":"","record_for_rollback":"true","script":"disableClickMetricsSysTriggers();\n\nfunction disableClickMetricsSysTriggers() {\n\tglobal.VAClickMetrics.updateClickMetricsScheduleJobTriggerType(false);\n}","sys_class_name":"sys_script_fix","sys_id":"133bc06177d16110f14a24f1cd5a9919","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_133bc06177d16110f14a24f1cd5a9919","sys_updated_by":"admin","sys_created_on":"2023-02-28 08:13:08","name":"Disable click metrics scheduled triggers","sys_name":"Disable click metrics scheduled triggers","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"12","description":"Populates the 'Meta Description' for all published articles.\r\n","sys_updated_on":"2018-01-19 21:37:08","sys_tags":"","record_for_rollback":"false","script":"// Let's start the async job to populate kb_knowledge table with the meta description field\nif (pm.isActive('com.snc.knowledge_serviceportal'))\n\tstartAsyncPopulateMetaDescription();\n\nfunction startAsyncPopulateMetaDescription(){\n\tvar rec = new GlideRecord('sysauto_script');\n\trec.get('name', 'Populate Meta Description on KB Articles');\n\tSncTriggerSynchronizer.executeNow(rec);\n}\n","sys_class_name":"sys_script_fix","sys_id":"142a304523b30300cc4bcb0a56bf65e8","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2fe727ff04b12210559073c06a02f7dd","value":"2fe727ff04b12210559073c06a02f7dd"},"sys_update_name":"sys_script_fix_142a304523b30300cc4bcb0a56bf65e8","sys_updated_by":"admin","sys_created_on":"2018-01-19 18:57:12","name":"Populate Meta Description on KB Articles","sys_name":"Populate Meta Description on KB Articles","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Removed the Service Baseline feature. This feature was introduced in Fuji but is deprecated in Geneva because this functionality is incorporated in the Service Model","sys_updated_on":"2015-06-26 21:40:23","sys_tags":"","record_for_rollback":"false","script":"removeData();\n\nfunction removeData(){\n\t//Remove left hand menu item\n\tvar menu = new GlideRecord(\"sys_app_module\");\n\tif(menu.get(\"356876133723210052e2cc028e41f163\"))\n\t\tmenu.deleteRecord();\n\n\tvar exclusionMenu = new GlideRecord(\"sys_app_module\");\n\tif(exclusionMenu.get(\"e03f5851d7403100c1ed0fbc5e610395\"))\n\t\texclusionMenu.deleteRecord();\n\t\n\t//Remove Processor Record\n\tvar processor = new GlideRecord(\"sys_processor\");\n\tif(processor.get(\"58d32ac33763210052e2cc028e41f1e3\"))\n\t\tprocessor.deleteRecord();\n\t\n\t//Delete Baseline Dump table\n\tGlideSystemUtilDB.dropTable(\"svc_baseline_dump\");\n\n\t//Delete Baseline CI table \n\tGlideSystemUtilDB.dropTable(\"svc_baseline_ci\");\n\n\t//Delete Baseline Dirty table \n\tGlideSystemUtilDB.dropTable(\"svc_baseline_dirty\");\n}","sys_class_name":"sys_script_fix","sys_id":"142cfe03d7300200c1ed0fbc5e61031a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_142cfe03d7300200c1ed0fbc5e61031a","sys_updated_by":"admin","sys_created_on":"2015-06-26 21:40:23","name":"Deprecate Service Baseline Feature","sys_name":"Deprecate Service Baseline Feature","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"9","description":"Fix wording for hint","sys_updated_on":"2020-10-14 16:11:10","sys_tags":"","record_for_rollback":"false","script":"function renameProductTypeLabel() {\n\tvar newlabel = gs.getMessage('Allow as main');\n\tvar newPluralLabel = gs.getMessage('Allow as mains');\n\tvar newHint = gs.getMessage('When true, assets of this category can be'\n\t\t+ ' the main components of a bundle, with other components attaching to them');\n\n\tvar grUpdate = new GlideRecord('sys_documentation');\n\tgrUpdate.addQuery('name', 'cmdb_model_category');\n\tgrUpdate.addQuery('element', 'allow_as_master');\n\tgrUpdate.addQuery('label', '!=', newlabel);\n\tgrUpdate.query();\n\tif (grUpdate.next()) {\n\t\tgrUpdate.setValue('label', newlabel);\n\t\tgrUpdate.setValue('plural', newPluralLabel);\n\t\tgrUpdate.setValue('hint', newHint);\n\t\tgrUpdate.update();\n\t}\n\n\t// update dictionary entry for product_type field\n\tvar dictGr = new GlideRecord('sys_dictionary');\n\tdictGr.addQuery('name', 'cmdb_model_category');\n\tdictGr.addQuery('element', 'allow_as_master');\n\tdictGr.addQuery('column_label', '!=', newlabel);\n\tdictGr.query();\n\tif (dictGr.next()) {\n\t\tdictGr.setValue('column_label', newlabel);\n\t\tdictGr.update();\n\t}\n}\n\nrenameProductTypeLabel();","sys_class_name":"sys_script_fix","sys_id":"14845eb1c3bb5010c4f48ca4aff57e8c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e325237304712210559073c06a02f7be","value":"e325237304712210559073c06a02f7be"},"sys_update_name":"sys_script_fix_14845eb1c3bb5010c4f48ca4aff57e8c","sys_updated_by":"admin","sys_created_on":"2020-10-12 14:36:27","name":"SAM - Update Label wording","sys_name":"SAM - Update Label wording","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"This fix script migrates the users having permission to create external chat from the \"sys_cs_collab_user\" table to the \"sys_cs_collab_config\" table.","sys_updated_on":"2023-03-15 05:42:54","sys_tags":"","record_for_rollback":"false","script":"migrateUsersForSidebar();\nfunction migrateUsersForSidebar() {\n    gs.info('Sidebar Users migration started');\n    var collabUser = new GlideRecord('sys_cs_collab_user');\n    var CHANNEL_TEAMS = 'a812eaf8c32111100f24c87af040dd59';\n    var USER_TABLE = 'sys_user';\n    collabUser.addQuery('create_external_conversation', 'true');\n    collabUser.addQuery('external_user', 'false');\n    collabUser.query();\n    while(collabUser.next()) {\n\tvar collabConfig = new GlideRecord('sys_cs_collab_config');\n\tcollabConfig.setValue('channel', CHANNEL_TEAMS);\n\tcollabConfig.setValue('create_external_conversation', 'true');\n\tcollabConfig.setValue('parent_table', USER_TABLE);\n\tcollabConfig.setValue('parent_document', collabUser.getValue('user'));\n\tcollabConfig.insert();\n    }\n    gs.info('Sidebar Users migration completed');\n}","sys_class_name":"sys_script_fix","sys_id":"1491a01e5b212110e4334bbca881c7bd","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/53b1b0e79761011018b2fa98c253afcc","value":"53b1b0e79761011018b2fa98c253afcc"},"sys_update_name":"sys_script_fix_1491a01e5b212110e4334bbca881c7bd","sys_updated_by":"admin","sys_created_on":"2023-03-15 04:32:06","name":"Users Migration for Sidebar","sys_name":"Users Migration for Sidebar","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/53b1b0e79761011018b2fa98c253afcc","value":"53b1b0e79761011018b2fa98c253afcc"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"true","sys_mod_count":"1","description":"Sets 'com.snc.on_call_rotation.notification.voice.use_notify_call' property to false on upgrade.","sys_updated_on":"2021-11-08 10:41:30","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tif (GlidePluginManager.isZboot())\n\t\treturn;\n\tvar prevWF = gs.getSession().getWorkflow();\n\ttry {\n\t\tgs.getSession().setWorkflow(true);\n\t\tgs.setProperty('com.snc.on_call_rotation.notification.voice.use_notify_call', false);\n\t}\n\tfinally{\n\t\tgs.getSession().setWorkflow(prevWF);\n\t}\n})();","sys_class_name":"sys_script_fix","sys_id":"1496fa0aeb9f70106de683402a522843","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_script_fix_1496fa0aeb9f70106de683402a522843","sys_updated_by":"admin","sys_created_on":"2021-10-21 07:31:42","name":"Set On-Call Notify properties","sys_name":"Set On-Call Notify properties","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Update integration semaphore pool to include clotho rest transactions","sys_updated_on":"2018-01-29 17:40:11","sys_tags":"","record_for_rollback":"false","script":"if (!pm.isZboot()) {\n\tGlideSysSemaphore.get().reload();\n\tGlideClusterMessage.post(\"script\", \"GlideSysSemaphore.get().reload();\");\n}\n","sys_class_name":"sys_script_fix","sys_id":"14c1ab73c3313200e9e31f3292d3ae8b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7d93e7f304312210559073c06a02f725","value":"7d93e7f304312210559073c06a02f725"},"sys_update_name":"sys_script_fix_14c1ab73c3313200e9e31f3292d3ae8b","sys_updated_by":"admin","sys_created_on":"2017-04-05 14:02:10","name":"Update integration semaphore","sys_name":"Update integration semaphore","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"In order to encrypt the password on list/form load, this fix script will change the 'type' of sys_property from 'string' to 'password2'.","sys_updated_on":"2018-12-08 20:26:42","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\n\t\t//This Fix script should only run for Upgrade not for Zboot.\n\t\tif (pm.isZboot()) \n\t\t\treturn;\n\n\t\tGlidePropertiesDB.invalidate();\n\t\tvar defaultPwdSysProperty = new GlideRecord(\"sys_properties\");\n\t\tif (!defaultPwdSysProperty.get(\"name\", \"glide.user.default_password\")) {\n\t\t\tgs.info(\"Sys Property 'glide.user.default_password' does not exists. Sys Property will not be updated\");\n\t\t\treturn;\n\t\t}\n\n\t\t// Not need to change the type if its 'password2'\n\t\tif (defaultPwdSysProperty.getValue(\"type\") == \"password2\") {\n\t\t\tgs.info(\"The type for Default Password Sys Property will not be updated as its already 'password2'\");\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tdefaultPwdSysProperty.setValue(\"type\", \"password2\");\n\t\t// Overriding the property value only if its the default password.\n\t\tif (gs.getProperty(\"glide.user.default_password\") == \"MyComp@ny123!\")\n\t\t\tdefaultPwdSysProperty.setValue(\"value\", GlidePropertiesDB.encryptValue(GlideSecureRandomUtil.getSecureRandomString(13)));\n\t\tdefaultPwdSysProperty.update();\n}());","sys_class_name":"sys_script_fix","sys_id":"14f368c953122300eb7c0a1806dc347c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b259273b04f12210559073c06a02f7fa","value":"b259273b04f12210559073c06a02f7fa"},"sys_update_name":"sys_script_fix_14f368c953122300eb7c0a1806dc347c","sys_updated_by":"admin","sys_created_on":"2018-12-08 20:16:58","name":"Change type for Default Pwd Sys Property","sys_name":"Change type for Default Pwd sys Property","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"3","description":"Set sys_highlighted_value_condition.conditions field's max_length to 4000","sys_updated_on":"2020-11-13 09:54:54","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('sys_dictionary');\ngr.addEncodedQuery('name=sys_highlighted_value_condition^element=conditions^max_length!=4000');\ngr.query();\nif (gr.next()){\n\tgr.setValue('max_length', 4000);\n\tgr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"1535cec8c7202010c230337bf4c26046","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/72ac63bb04352210559073c06a02f754","value":"72ac63bb04352210559073c06a02f754"},"sys_update_name":"sys_script_fix_1535cec8c7202010c230337bf4c26046","sys_updated_by":"admin","sys_created_on":"2020-11-13 09:48:50","name":"Set conditions field max length","sys_name":"Set conditions field max length","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"6","description":"Set Mappedin as the map_provider for existing records in sys_sg_custom_map_provider","sys_updated_on":"2022-01-26 20:29:18","sys_tags":"","record_for_rollback":"true","script":"(function(){\n\tvar customMapProvider = new GlideRecord(\"sys_sg_custom_map_provider\");\n\n\tif (!customMapProvider.isValid())\n\t\treturn;\n\t\n\tcustomMapProvider.addEncodedQuery(\"map_providerISEMPTY\");\n\tcustomMapProvider.query();\n\tcustomMapProvider.setValue(\"map_provider\", \"mappedin\");\t\n\tcustomMapProvider.updateMultiple();\n})();\n","sys_class_name":"sys_script_fix","sys_id":"15573895531101103738ddeeff7b127d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6af46bff04312210559073c06a02f7e8","value":"6af46bff04312210559073c06a02f7e8"},"sys_update_name":"sys_script_fix_15573895531101103738ddeeff7b127d","sys_updated_by":"admin","sys_created_on":"2022-01-26 00:25:45","name":"Set default mobile map provider","sys_name":"Set default mobile map provider","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"6","description":"Hide who columns form the condition builder in new Retry policy from, It Seems that dictionary attributes filed does not work on bootstrap.","sys_updated_on":"2019-04-10 09:43:45","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('sys_dictionary');\ngr.addEncodedQuery('name=sys_retry_policy^element=condition');\ngr.query();\nif(gr.hasNext()){\n\tgr.next();\n\tgr.attributes='restrictTo=restrict_to';\n\tgr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"156841f353e0330034c6ddeeff7b12b8","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fdd8237704f12210559073c06a02f787","value":"fdd8237704f12210559073c06a02f787"},"sys_update_name":"sys_script_fix_156841f353e0330034c6ddeeff7b12b8","sys_updated_by":"admin","sys_created_on":"2019-04-08 08:21:39","name":"Restrict Retry Policy Conditions Choices","sys_name":"Restrict Retry Policy Conditions Choices","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Update the hint for 'Recipients in fields' column of sys_notification from \"..... an email notification\" to \"..... a notification\"","sys_updated_on":"2021-09-28 19:44:06","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tif (pm.isZboot())\n\t\treturn;\n\n\tvar doc = new GlideRecord('sys_documentation');\n\tdoc.addQuery('name', 'sys_notification');\n\tdoc.addQuery('element','recipient_fields');\n\tdoc.addQuery('hint', 'Field in the currently-selected table that contains a reference to a user that will receive an email notification');\n\tdoc.query();\n\tif (!doc.next())\n\t\treturn;\n\t\n\tdoc.setValue('hint', 'Field in the currently-selected table that contains a reference to a user that will receive a notification');\n\tdoc.setWorkflow(false);\n\tdoc.update();\n\n})();","sys_class_name":"sys_script_fix","sys_id":"158187365332301092f0ddeeff7b1222","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4c93a3f304312210559073c06a02f7f1","value":"4c93a3f304312210559073c06a02f7f1"},"sys_update_name":"sys_script_fix_158187365332301092f0ddeeff7b1222","sys_updated_by":"admin","sys_created_on":"2021-09-28 19:42:14","name":"Update hints for recipients in fields","sys_name":"Update hints for recipients in fields","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"This fix script repairs data after upgrades to tables in order to support breakdowns such as the MSP Cohort breakdown.","sys_updated_on":"2019-02-20 23:20:19","sys_tags":"","record_for_rollback":"false","script":"var sysids = new BenchmarkUtil().breakdownRecordSysIDs;\nvar targeted_tables = ['sn_bm_client_score', 'sn_bm_client_company_history', 'sn_bm_client_document'];\nvar breakdowns = \t[{\n\t\t\t\t\t\ttable: 'sn_bm_common_industry',\n\t\t\t\t\t\tsys_id: sysids.industry\n\t\t\t\t\t }, {\n\t\t\t\t\t\ttable: 'sn_bm_common_size_bucket',\n\t\t\t\t\t\tsys_id: sysids.sizeBucket\n\t\t\t\t\t }, {\n\t\t\t\t\t\ttable: 'sn_bm_client_region',\n\t\t\t\t\t\tsys_id: sysids.region\n\t\t\t\t\t }\n\t\t\t\t\t];\n\nfunction fixSchema(targeted_table, breakdown_table, sysid) {\n\tvar gr = new GlideRecord(targeted_table);\n\tgr.addQuery('breakdown', breakdown_table);\n\tgr.setValue('breakdown_type', 'reference');\n\tgr.setValue('breakdown_table', breakdown_table);\n\tgr.setValue('breakdown_reference', sysid);\n\tgr.updateMultiple();\n}\n\nfor (var i in targeted_tables)\n\tfor (var j in breakdowns)\n\t\tfixSchema(targeted_tables[i], breakdowns[j].table, breakdowns[j].sys_id);\n","sys_class_name":"sys_script_fix","sys_id":"161c8ef0777323000f7a72f9691061a3","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_update_name":"sys_script_fix_161c8ef0777323000f7a72f9691061a3","sys_updated_by":"admin","sys_created_on":"2019-02-20 22:44:05","name":"Fix schema changes to Benchmarks tables","sys_name":"Fix schema changes to tables","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"This script is to update the field type of ais_search_profile column in sys_search_event_table to a reference field in ais_search_profile","sys_updated_on":"2020-11-20 00:07:22","sys_tags":"","record_for_rollback":"false","script":"if (!pm.isZboot()) {\n    var gr = new GlideRecord(\"sys_dictionary\");\n    gr.addQuery(\"name\", \"sys_search_event\");\n    gr.addQuery(\"element=ais_profile\");\n    gr.query();\n    if (gr.next()) {\n        gr.setValue(\"internal_type\", \"reference\");\n        gr.setValue(\"reference\", \"ais_search_profile\");\n        gr.update();\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"16c133c25b2020105b1eed35cc81c7dc","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ae99ab7b04f12210559073c06a02f7e1","value":"ae99ab7b04f12210559073c06a02f7e1"},"sys_update_name":"sys_script_fix_16c133c25b2020105b1eed35cc81c7dc","sys_updated_by":"admin","sys_created_on":"2020-11-20 00:07:22","name":"Update AIS Search Profile Field Type","sys_name":"Update AIS Search Profile Field Type","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"","sys_updated_on":"2023-03-03 23:47:09","sys_tags":"","record_for_rollback":"true","script":"// Update capability field for existing records for attributes.\nvar attributeGr = new GlideRecord(\"sys_one_extend_definition_attribute\");\n\nattributeGr.query();\n\nwhile(attributeGr.next()) {\n\tattributeGr.setValue(\"capability\", attributeGr.definition.capability);\n\tattributeGr.update();\n}\n\n\n// Update capability field for existing records for builder capability.\nvar builderCapGr = new GlideRecord(\"sys_one_extend_builder_capability\");\n\nbuilderCapGr.query();\n\nwhile(builderCapGr.next()) {\n\tbuilderCapGr.setValue(\"capability\", builderCapGr.definition.capability);\n\tbuilderCapGr.update();\n}\n","sys_class_name":"sys_script_fix","sys_id":"1704b26a53112110c271ddeeff7b1207","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7c84affb04312210559073c06a02f73d","value":"7c84affb04312210559073c06a02f73d"},"sys_update_name":"sys_script_fix_1704b26a53112110c271ddeeff7b1207","sys_updated_by":"admin","sys_created_on":"2023-03-03 23:25:15","name":"Map Capability to Builder and Attribute","sys_name":"Map Capability to Builder and Attribute","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"3","description":"This fix script will do the following:\r\n1. Prevent installing the proeprty \"com.glide.par.v_table_join.enabled\", sys_properties_6def1e844f13311024856f2efdce0b84, on upgrade\r\n2. Prevent installing the property if it is already been installing (moving the file from unload to appky_once folder)\r\n3. Delete the property for upgraded customers from V directly to X+ who mistakenly had that property installed already","sys_updated_on":"2024-10-10 12:09:28","sys_tags":"","record_for_rollback":"true","script":"gs.info('Running sys_script_fix_17403e13534d52102974ddeeff7b1278 to handle v_table_enabled - Start');\nexecuteScript();\ngs.info('Running sys_script_fix_17403e13534d52102974ddeeff7b1278 to handle v_table_enabled - End');\n\n\n\nfunction executeScript() {\n    var V_TABLE_JOIN_ENABLED_PROPERTY_FILE_NAME = \"sys_properties_6def1e844f13311024856f2efdce0b84.xml\";\n\n    if (!pm.isZboot()) {\n        //On upgrade refrain from installing the property com.glide.par.v_table_join.enabled\n        sn_applyonce.ApplyOnce.doNotUpdate(V_TABLE_JOIN_ENABLED_PROPERTY_FILE_NAME);\n        gs.info('Property \"com.glide.par.v_table_join.enabled\", sys_properties_6def1e844f13311024856f2efdce0b84, will not be installed as it is upgrade flow');\n\n        DeleteVtableEnabledPropertyIfNeeded();\n    }\n}\n\n\n/**\n * This function will check if I am in the situation where I have the combination of unified analytics=false and also \n * v_table.enable=false, which represent a wrong state that upgraded custonmers from V to X+ will be in.\n * When in this state, we will delete the property v_table.enable as this indicates that those customers are \n * upgrading customers and thefoere they should not have this property installed from the first place.\n */\nfunction DeleteVtableEnabledPropertyIfNeeded() {\n    var UNIFIED_ANALYTICS_PROPERTY_SYSID = 'ff06f38543302110f711f05ba9b8f2d2';\n    var V_TABLE_JOIN_ENABLED_PROPERTY_SYSID = '6def1e844f13311024856f2efdce0b84';\n    var gr = new GlideRecord('sys_properties');\n\n    if (gr.get(UNIFIED_ANALYTICS_PROPERTY_SYSID) && gr.getValue('value') == 'false' && gr.get(V_TABLE_JOIN_ENABLED_PROPERTY_SYSID) && gr.getValue('value') == 'false') {\n        gr.deleteRecord();\n        gs.info('Property \"com.glide.par.v_table_join.enabled\", sys_properties_6def1e844f13311024856f2efdce0b84, will be deleted as it was mistakenly installed on upgrade from V(-) to X(+) release');\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"17403e13534d52102974ddeeff7b1278","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/453ba77304352210559073c06a02f7f0","value":"453ba77304352210559073c06a02f7f0"},"sys_update_name":"sys_script_fix_17403e13534d52102974ddeeff7b1278","sys_updated_by":"admin","sys_created_on":"2024-10-10 09:01:48","name":"prevent installing v_table plugin","sys_name":"prevent installing v_table plugin","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"true","sys_mod_count":"0","description":"","sys_updated_on":"2019-10-14 19:49:35","sys_tags":"","record_for_rollback":"false","script":"deactivateUnsupportedPublicKeyOptionFromSCP();\n\n        function deactivateUnsupportedPublicKeyOptionFromSCP() {\n            var choiceGlideRecord = new GlideRecord('sys_choice');\n            choiceGlideRecord.addQuery('name','sys_data_source');\n            choiceGlideRecord.addQuery('element', 'scp_authentication');\n            choiceGlideRecord.addQuery('value','Public key');\n            choiceGlideRecord.setLimit(1);\n            choiceGlideRecord.query();\n            if(choiceGlideRecord.next())\t{\n                choiceGlideRecord.setValue('inactive', 1);\n                choiceGlideRecord.update();\n            }\n}","sys_class_name":"sys_script_fix","sys_id":"182cb4f0772000107b2380733b106120","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8893a3f304312210559073c06a02f7ce","value":"8893a3f304312210559073c06a02f7ce"},"sys_update_name":"sys_script_fix_182cb4f0772000107b2380733b106120","sys_updated_by":"admin","sys_created_on":"2019-10-14 19:49:35","name":"De-Activate Public Key Auth in SCP","sys_name":"De-Activate Public Key Auth in SCP","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Schedules an asynchronous job that tries to populate issuer_distinguished_name field in the sys_kmf_certificate table.","sys_updated_on":"2024-01-23 18:54:49","sys_tags":"","record_for_rollback":"true","script":"(function() {\n    if (GlidePluginManager.isZboot())\n        return; //skip for zboot\n    var JOB = \"Populate issuer DN in Certificates table\";\n    var JOB_EXECUTION_TIME = new GlideDateTime();\n    var SCRIPT = \"SNC.KMFFixes.populateIssuerDistinguishedNameInCertificatesTable();\";\n    GlideRunScriptJob.scheduleScript(SCRIPT, JOB, JOB_EXECUTION_TIME);\n    gs.info(\"Successfully scheduled a new job to populate the issuer_distinguished_name field on Certificates table\");\n})();","sys_class_name":"sys_script_fix","sys_id":"1840845743333110d57b9473bbb8f2a9","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7f83a3f304312210559073c06a02f787","value":"7f83a3f304312210559073c06a02f787"},"sys_update_name":"sys_script_fix_1840845743333110d57b9473bbb8f2a9","sys_updated_by":"admin","sys_created_on":"2024-01-22 20:35:02","name":"Populate IssuerDN for Certificates table","sys_name":"Populate IssuerDN for Certificates table","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"This script checks if the user sharedservice.worker is present and active along with required roles.","sys_updated_on":"2023-08-22 13:26:10","sys_tags":"","record_for_rollback":"true","script":"validateAndRepair();\n\nfunction validateAndRepair() {\n    var ssworkerUser = \"sharedservice.worker\";\n    var roles = [\"platform_ml_read\", \"platform_ml_write\", \"platform_ml_create\"];\n    var userGR = getUserGR(ssworkerUser);\n    if (!userGR.next()) { //user does not exist\n        userGR = createUser(ssworkerUser);\n        assignRolesToUser(userGR, roles);\n        return;\n    }\n    if (!userGR.active) { // Activating user if user is not active\n        activateAndUnlockUser(userGR);\n    }\n    // Identify missing roles\n    var missingRoles = activateInactiveRolesAndGetMissingRoles(userGR, roles);\n    if (missingRoles.length != 0) { // Adding missing roles if any\n        assignRolesToUser(userGR, missingRoles);\n    }\n}\n\nfunction getUserGR(userName) {\n    var userGR = new GlideRecord(\"sys_user\");\n    userGR.addQuery(\"user_name\", userName);\n    userGR.query();\n    return userGR;\n}\n\nfunction createUser(userName) {\n    var userGR = new GlideRecord(\"sys_user\");\n    userGR.user_name = userName;\n    userGR.first_name = \"sharedservice.worker\";\n    userGR.last_name = \"Agent Intelligence Plug-in\";\n    userGR.active = true;\n    userGR.edu_status = \"faculty\";\n    userGR.enable_multifactor_authn = false;\n    userGR.internal_integration_user = false;\n    userGR.locked_out = false;\n    userGR.name = \"sharedservice.worker Agent Intelligence Plug-in\";\n    userGR.password_needs_reset = false;\n    userGR.vip = false;\n    userGR.web_service_access_only = true;\n    if (userGR.insert() == null) {\n        gs.info(\"Unable to create record with user name: {0}\", userName);\n    }\n    return userGR;\n}\n\nfunction activateAndUnlockUser(userGR) {\n    userGR.active = true;\n\tuserGR.locked_out = false;\n    userGR.update();\n    gs.info(\"sharedservice.worker user has been activated and unlocked.\");\n}\n\nfunction activateInactiveRolesAndGetMissingRoles(userGR, roles) {\n    var userHasRoleGR = new GlideRecord(\"sys_user_has_role\");\n    userHasRoleGR.addQuery(\"role.name\", \"IN\", roles.toString());\n    userHasRoleGR.addQuery(\"user\", userGR.getUniqueValue());\n    userHasRoleGR.query();\n    var missingRoles = [\"platform_ml_read\", \"platform_ml_write\", \"platform_ml_create\"];\n    while (userHasRoleGR.next()) {\n        var roleName = userHasRoleGR.role.name.toString();\n        if (missingRoles.indexOf(roleName) != -1) {\n            var index = missingRoles.indexOf(roleName);\n            missingRoles.splice(index, 1);\n        }\n        if (userHasRoleGR.state != \"active\") {\n            userHasRoleGR.state = \"active\";\n            if (userHasRoleGR.update() == null)\n                gs.info(\"Unable to activate role {0} for the user {1}\", userHasRoleGR.role.name, userHasRoleGR.user_name);\n        }\n    }\n    return missingRoles;\n}\n\nfunction assignRolesToUser(userGR, roles) {\n    var index = 0;\n    while (index < roles.length) {\n        var roleName = roles[index++];\n        var roleGR = new GlideRecord(\"sys_user_role\");\n        roleGR.addQuery(\"name\", roleName);\n        roleGR.query();\n        if (roleGR.next()) {\n            var userHasRoleGR = new GlideRecord(\"sys_user_has_role\");\n            userHasRoleGR.user = userGR.getUniqueValue();\n            userHasRoleGR.role = roleGR.getUniqueValue();\n            userHasRoleGR.state = \"active\";\n            if (userHasRoleGR.insert() == null) {\n                gs.info(\"Unable to add role {0} to the user {1}\", roleName, userGr.user_name);\n            }\n        }\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"18593d19534431106e33ddeeff7b12f4","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_script_fix_18593d19534431106e33ddeeff7b12f4","sys_updated_by":"admin","sys_created_on":"2023-07-14 14:22:13","name":"ML User Validation","sys_name":"ML User Validation","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"46","description":"Running this script will update your Employee Center with the latest release from the ServiceNow store. Please ensure that you've first downloaded the latest version of our store application before running this script. Any changes made to the Employee Center sp_portal record and associated search application will be overwritten.\r\n\r\nNote: If admin want to run the script manually, he need to make \"runManually\" value on script to \"true\", and then can run it using UI action on fix script record.","sys_updated_on":"2021-07-28 05:09:53","sys_tags":"","record_for_rollback":"true","script":"(function() {\n\n\tvar runManually = false; // Update this to true to run manually\n\n\tnew sn_hr_sp.EmployeeCenterEasyInstall().runEasyInstall(runManually);\n})();","sys_class_name":"sys_script_fix","sys_id":"18683626735d3010c94f54eb7df6a795","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3d1da2705b021200a4656ede91f91ab6","value":"3d1da2705b021200a4656ede91f91ab6"},"sys_update_name":"sys_script_fix_18683626735d3010c94f54eb7df6a795","sys_updated_by":"admin","sys_created_on":"2021-07-15 11:05:18","name":"Employee Center Easy Install","sys_name":"Employee Center Easy Install","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3d1da2705b021200a4656ede91f91ab6","value":"3d1da2705b021200a4656ede91f91ab6"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Creates the property which enables the creation of users with default password as a part of inbound email action flow.\n    ","sys_updated_on":"2021-03-30 13:13:58","sys_tags":"","record_for_rollback":"false","script":"if (!pm.isZboot()) {\n    gs.log(\"Creating the property glide.email.inbound.use_default_password\");\n    createUseDefaultPasswordProperty();\n} else {\n    gs.log(\"Zboot process and hence not creating glide.email.inbound.use_default_password\");\n}\n\nfunction createUseDefaultPasswordProperty() {\n    var USE_DEFAULT_PASSWORD = \"glide.email.inbound.use_default_password\";\n    var DESCRIPTION = \"when true, it enables the creation of users with default password as a part of inbound email action.\";\n    if (gs.getProperty(USE_DEFAULT_PASSWORD) == null) {\n        var sysProperty = new GlideRecord(\"sys_properties\");\n        sysProperty.setValue('name', USE_DEFAULT_PASSWORD);\n        sysProperty.setValue('description', DESCRIPTION);\n        sysProperty.setValue('type', 'boolean');\n        sysProperty.setValue('value', true);\n        sysProperty.insert();\n    } else {\n        gs.log(\"glide.email.inbound.use_default_password property already exists\");\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"18a6501c0fd32010036a83fa68767eda","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b259273b04f12210559073c06a02f7fa","value":"b259273b04f12210559073c06a02f7fa"},"sys_update_name":"sys_script_fix_18a6501c0fd32010036a83fa68767eda","sys_updated_by":"admin","sys_created_on":"2021-03-30 13:13:58","name":"Use default password in user creation","sys_name":"Use default password in user creation","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"4","description":"From Kingston there are two new fields called use_display_value and use_label used in generating the export file out put. Should set default values as of using in Jakarta.","sys_updated_on":"2017-06-08 17:06:22","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('sys_export_set');\ngr.query();\n\nwhile (gr.next()){\n\tgr.setWorkflow(false);\n\tgr.setUseEngines(false);\n\tif (gr.format == 'CSV'){\n\t\tvar csv_display_value = !GlideProperties.getBoolean('glide.export.csv.raw.value', false);\n\t\tgr.use_display_value = csv_display_value.toString();\n\t\tgr.use_label = \"false\";\n\t} else if (gr.format == 'Excel' || gr.format == 'XLSX'){\n\t\tgr.use_display_value = \"true\";\n\t\tgr.use_label = \"true\";\n\t} else if (gr.format == 'JSON'){\n\t\tgr.use_display_value = GlideProperties.get('glide.json.return_displayValue', 'false');\n\t\tgr.use_label = \"false\";\n\t} else if (gr.format == 'XML'){\n\t\tgr.use_display_value = \"false\";\n\t\tgr.use_label = \"false\";\n\t}\n\tgr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"18bead049f0332005cf3ffa4677fcfda","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b3686bb304f12210559073c06a02f732","value":"b3686bb304f12210559073c06a02f732"},"sys_update_name":"sys_script_fix_18bead049f0332005cf3ffa4677fcfda","sys_updated_by":"admin","sys_created_on":"2017-05-25 17:23:48","name":"Set display value and use label fields","sys_name":"Set display value and use label fields","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"5","description":"","sys_updated_on":"2024-04-09 10:39:19","sys_tags":"","record_for_rollback":"true","script":"function queryGlideRecord(encodedQuery) {\n    var gr = new GlideRecord(\"sys_ui_context_menu\");\n    gr.addEncodedQuery(encodedQuery);\n    gr.query();\n    return gr;\n}\n\nfunction updateActiveField(gr, activeValue) {\n    while (gr.next()) {\n        gr.active = activeValue;\n        gr.update();\n    }\n}\n\nif (!pm.isZboot()) {\n    var coreContextMenuQuery = 'sys_idINcc97e1240a0a0b3e004a493f398feef8,ccb397090a0a0b3e00b2ce638f5d6df0';\n    var nextContextMenuQuery = 'sys_idIN4e844f3f431502108db8ac4b96b8f2eb,8ca4cf3f431502108db8ac4b96b8f225';\n    var unifiedAnalyticsProp = gs.getProperty(\"com.glide.par.unified_analytics.enabled\", \"false\");\n\n    var coreContextMenus;\n    var nextExpContextMenus;\n\n    if (unifiedAnalyticsProp === \"true\") {\n        coreContextMenus = queryGlideRecord(coreContextMenuQuery);\n        nextExpContextMenus = queryGlideRecord(nextContextMenuQuery);\n\n        updateActiveField(coreContextMenus, false);\n        updateActiveField(nextExpContextMenus, true);\n    } else {\n        coreContextMenus = queryGlideRecord(coreContextMenuQuery);\n        nextExpContextMenus = queryGlideRecord(nextContextMenuQuery);\n\n        updateActiveField(coreContextMenus, true);\n        updateActiveField(nextExpContextMenus, false);\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"18df1708436102108db8ac4b96b8f22c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/453ba77304352210559073c06a02f7f0","value":"453ba77304352210559073c06a02f7f0"},"sys_update_name":"sys_script_fix_18df1708436102108db8ac4b96b8f22c","sys_updated_by":"admin","sys_created_on":"2024-04-09 10:21:40","name":"Toggle PAR Pie/Bar Context Menus","sys_name":"Toggle PAR Pie/Bar Context Menus","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Reset the default value for Article Knowledgebase","sys_updated_on":"2016-02-05 20:22:07","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord(\"sys_dictionary\");\ngr.addQuery(\"name\", \"kb_knowledge\");\ngr.addQuery(\"element\", \"kb_knowledge_base\");\ngr.query();\ngr.next();\nif(gr.default_value == \"dfc19531bf2021003f07e2c1ac0739ab\"){\n\tgr.setValue(\"default_value\" , \"\");\n\tgr.update();\n}\n","sys_class_name":"sys_script_fix","sys_id":"1a2dc8179f9112003be01050a57fcf71","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2fe727ff04b12210559073c06a02f7dd","value":"2fe727ff04b12210559073c06a02f7dd"},"sys_update_name":"sys_script_fix_1a2dc8179f9112003be01050a57fcf71","sys_updated_by":"admin","sys_created_on":"2016-02-05 20:22:07","name":"Reset Article KB default value","sys_name":"Reset Article KB default value","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"5","description":"Make sure user can only select ServiceNow scopes for the source scope is target scope is global. Also make sure that user can't select global scope as the target scope if source scope is not ServiceNow scope.","sys_updated_on":"2021-10-02 00:35:51","sys_tags":"","record_for_rollback":"false","script":"function addQualifiers() {\n    // add qualifier for source scope\n    var gr = new GlideRecord(\"sys_dictionary\");\n    gr.addQuery(\"name\", \"sys_restricted_caller_access\");\n    gr.addQuery(\"element\", \"source_scope\");\n    gr.query();\n    gr.next();\n    gr.setValue(\"use_reference_qualifier\", \"advanced\");\n    gr.setValue(\"reference_qual\", \"javascript:new GlobalRCAScopeReferenceQualifier().sourceQualifier(current)\");\n    gr.update();\n\n    // add qualifier for target scope\n    gr = new GlideRecord(\"sys_dictionary\");\n    gr.addQuery(\"name\", \"sys_restricted_caller_access\");\n    gr.addQuery(\"element\", \"target_scope\");\n    gr.query();\n    gr.next();\n    gr.setValue(\"use_reference_qualifier\", \"advanced\");\n    gr.setValue(\"reference_qual\", \"javascript:new GlobalRCAScopeReferenceQualifier().targetQualifier(current)\");\n    gr.update();\n}\n\naddQualifiers();","sys_class_name":"sys_script_fix","sys_id":"1abfdf7b77323010129c478c4f5a9945","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e23b2b7304352210559073c06a02f735","value":"e23b2b7304352210559073c06a02f735"},"sys_update_name":"sys_script_fix_1abfdf7b77323010129c478c4f5a9945","sys_updated_by":"admin","sys_created_on":"2021-10-02 00:25:26","name":"Add reference qualifiers for GRCA","sys_name":"Add reference qualifiers for GRCA","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"7","description":"This fix script  does the following:\r\n1. Deletes the old OOB scheduled job for CMDB QueryBuilder Suggested Relations computation.\r\n2. Deletes the old CMDB QueryBuilder Suggested Relations computation record from cmdb_class_relations table","sys_updated_on":"2024-12-05 01:27:01","sys_tags":"","record_for_rollback":"true","script":"if (!pm.isZboot()) {\n    gs.info(\"Fix Script: Started CMDBQueryBuilderSuggestedRels Upgrade Cleanup\");\n\n    var sysAutoGr = new GlideRecord(\"sysauto_script\");\n    if (sysAutoGr.isValid()) {\n        sysAutoGr.addQuery(\"sys_id\", \"ce1fd1d3c700220039b82cdb8e9763c6\");\n        sysAutoGr.query();\n        if (sysAutoGr.next()) {\n            sysAutoGr.deleteRecord();\n            gs.info(\"Fix Script: CMDBQueryBuilderSuggestedRels - Deleted Old Suggested Relations Scheduled job\");\n\n        }\n    }\n\n    var sysTriggerGr = new GlideRecord(\"sys_trigger\");\n    if (sysTriggerGr.isValid()) {\n        sysTriggerGr.addQuery(\"name\", \"CMDB Query Builder suggested relationships cache refresh\");\n        sysTriggerGr.query();\n        if (sysTriggerGr.next()) {\n            sysTriggerGr.deleteRecord();\n            gs.info(\"Fix Script: CMDBQueryBuilderSuggestedRels - Deleted Old Suggested Relations SysTrigger job\");\n        }\n    }\n\n    var suggestedRelsGr = new GlideRecord(\"cmdb_class_relationships\");\n    if (suggestedRelsGr.isValid()) {\n        suggestedRelsGr.addNullQuery(\"parent\");\n        suggestedRelsGr.query();\n        if (suggestedRelsGr.next()) {\n            suggestedRelsGr.deleteRecord();\n            gs.info(\"Fix Script: CMDBQueryBuilderSuggestedRels - Deleted Old Suggested Relations table records\");\n        }\n    }\n    gs.info(\"Fix Script: Completed CMDB Query Builder Suggested Rels Upgrade Cleanup\");\n\n}","sys_class_name":"sys_script_fix","sys_id":"1af7546277430210f9db10ed9f5a992a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_1af7546277430210f9db10ed9f5a992a","sys_updated_by":"admin","sys_created_on":"2024-06-30 03:54:39","name":"CMDB Query Builder Suggested Rels","sys_name":"CMDB Query Builder Suggested Rels","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"For Upgrade instances, remove the ref_ac_order_by attribute from Task table's cmdb_ci field","sys_updated_on":"2024-10-15 12:05:51","sys_tags":"","record_for_rollback":"true","script":"var TABLE_NAME = \"task\";\nvar FIELD_NAME = \"cmdb_ci\";\nvar ORDER_BY_ATTRIBUTE_NAME = 'ref_ac_order_by';\nvar ORDER_BY_ATTRIBUTE_VALUE = 'sys_class_name';\n\nif (!pm.isZboot()) {\n    gs.info(\"[Update Task CI Attributes]: Execution started\");\n    removeAttribute(TABLE_NAME, FIELD_NAME, ORDER_BY_ATTRIBUTE_NAME, ORDER_BY_ATTRIBUTE_VALUE);\n    gs.info(\"[Update Task CI Attributes]: Execution finished\");\n}\n\nfunction removeAttribute(tableName, fieldName, attributeName, attributeValue) {\n    var dictionaryGr = new GlideRecord('sys_dictionary');\n    dictionaryGr.addQuery('name', tableName);\n    dictionaryGr.addQuery('element', fieldName);\n    dictionaryGr.setLimit(1);\n    dictionaryGr.query();\n    if (dictionaryGr.next() && !isRecordCustomized(dictionaryGr)) {\n        updateAttributes(dictionaryGr, attributeName, attributeValue);\n    } else {\n        gs.info(\"[Update Task CI Attributes]: Either the Task doesn't have Configuration item field or it has been customized\");\n    }\n}\n\nfunction isRecordCustomized(recordGr) {\n    return !sn_collision.CollisionAPI.willBeReplacedOnUpgrade(recordGr);\n}\n\nfunction updateAttributes(dictionaryGr, attributeName, attributeValue) {\n    var currentAttributes = new GlideAttributes(dictionaryGr.getValue(\"attributes\"));\n    if (attributeValue == currentAttributes.getAttribute(attributeName)) {\n        currentAttributes.removeAttribute(attributeName);\n        dictionaryGr.setValue(\"attributes\", currentAttributes.serializeAttributes());\n        if (dictionaryGr.update()) {\n            gs.info(\"[Update Task CI Attributes]: Successfully updated the attributes\");\n        } else {\n            gs.info(\"[Update Task CI Attributes]: Failed to update the attributes\");\n        }\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"1b73852753c112103d65ddeeff7b12e6","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1734e77b04312210559073c06a02f70c","value":"1734e77b04312210559073c06a02f70c"},"sys_update_name":"sys_script_fix_1b73852753c112103d65ddeeff7b12e6","sys_updated_by":"admin","sys_created_on":"2024-10-10 19:48:38","name":"Update Task CI Attributes","sys_name":"Update Task CI Attributes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"11","description":"Upgrade to UTAH will re-generate the asym key pairs with right padding specification. ","sys_updated_on":"2022-08-19 06:50:15","sys_tags":"","record_for_rollback":"true","script":"(function() {\n    if (GlidePluginManager.isZboot())\n        return;\n\n\t// 1. Create a sys_trigger so that we can prevent stress on the vault.\n    gs.info('Creating a sys_trigger event for regenerating the vault keys based on the vault health');\n\tvar gr = new GlideRecord(\"sys_trigger\");\n    gr.initialize();\n    gr.setValue(\"name\", \"ASYNC: Regenerate the asym keys on upgrade\");\n    gr.setValue(\"trigger_class\", \"RunScriptJob\");\n    gr.setValue(\"trigger_type\", 0);\n    gr.setValue(\"job_context\", \"fcRunAs=system\\nfcScriptName=ScriptID\\\\:1d59de3677911110797c6909be5a997e\");\n\n    // Find some time between 2 hrs from now and 10 hrs\n    var delay = 7200 + GlideSecureRandomUtil.getSecureRandomIntBound(36001); // 10hrs = 36000 seconds\n\t\n    var gdt = new GlideDateTime();\n    gdt.addSeconds(delay);\n    gr.setValue(\"next_action\", gdt);\n    gr.insert();\n    gs.info(\"Scheduling regenration of asym keys job in \" + delay + \" seconds.\");\n})();","sys_class_name":"sys_script_fix","sys_id":"1bb3eb2677111110797c6909be5a99a4","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7f83a3f304312210559073c06a02f787","value":"7f83a3f304312210559073c06a02f787"},"sys_update_name":"sys_script_fix_1bb3eb2677111110797c6909be5a99a4","sys_updated_by":"maint","sys_created_on":"2022-08-17 06:15:03","name":"regenerate the asym keys on upgrade","sys_name":"regenerate the asym keys on upgrade","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"Set the DISCOVERABLE field to runtime VA  topics (new field for Quebec release).","sys_updated_on":"2021-01-14 10:18:13","sys_tags":"","record_for_rollback":"false","script":"// Live Agent Support, Virtual Agent Feedback and Show Notification\n    var discoverableTopics = ['b18df45853130010cf8cddeeff7b12fd', 'ce2ee85053130010cf8cddeeff7b12bf', '7c3c819073a3101066c7e9344ef6a7e4'];\nvar nonDiscoverableTopics = ['a428e4e05b721010a76b04d13d81c705','86cf6a4e5316101055eeddeeff7b12ba'];\nvar gr = new GlideRecord('sys_cs_topic');\ngr.query();\nwhile (gr.next()) {\n    var isVisible = !gs.nil(gr.visible) ? gr.visible : false;\n    var isActive = !gs.nil(gr.active) ? gr.active : false;\n    var isSystemTopic = !gs.nil(gr.is_system_topic) ? gr.is_system_topic : false;\n    var isLibrary = !gs.nil(gr.library) ? gr.library : false;\n    if((!isSystemTopic && !isLibrary && (isActive || isVisible) && nonDiscoverableTopics.indexOf(gr.getValue('sys_id')) == -1) || discoverableTopics.indexOf(gr.getValue('sys_id')) != -1){\n       gr.setValue('discoverable', true);\n    } else {\n        gr.setValue('discoverable', false);\n    }\n    gr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"1bea65c853261010ad82ddeeff7b1257","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_1bea65c853261010ad82ddeeff7b1257","sys_updated_by":"admin","sys_created_on":"2020-08-05 21:56:00","name":"Set DISCOVERABLE for runtime VA topic","sys_name":"Set DISCOVERABLE for runtime VA topic","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Generate Unique SN App Service ID","sys_updated_on":"2020-02-24 19:10:53","sys_tags":"","record_for_rollback":"false","script":"\t\tvar tableName = \"cmdb_ci_service_auto\";\n\t\tvar columnName = \"number\";\n\t\tvar gr = new GlideRecord(tableName);\n\t\tif(gr.isValid()){\n\t\tgr.addNullQuery(columnName);\n\t\tgr.orderBy(\"sys_created_on\");\n\t\tgr.query();\n\t\twhile(gr.next()){\n\t\t\tvar mgr = new NumberManager();\n\t\t\tgr.setValue(columnName, mgr.getNextNumber(tableName));\n\t\t\tgr.update();\n\t\t}}","sys_class_name":"sys_script_fix","sys_id":"1c8e69a3b743001012ec2970ee11a9eb","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_1c8e69a3b743001012ec2970ee11a9eb","sys_updated_by":"admin","sys_created_on":"2020-02-24 19:10:53","name":"Generate Unique SN App Service ID","sys_name":"Generate Unique SN App Service ID","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"6","description":"Update Metric Resource Attribute Script execute signature to use currentInputs and context","sys_updated_on":"2024-09-25 15:48:11","sys_tags":"","record_for_rollback":"true","script":"var updatedProcessedResponse =\n    '(function execute(currentInputs, context) {\\n    return new global.OneExtendEvaluationServiceUtil().getProcessedResponse(currentInputs);\\n})(currentInputs, context);';\n\nvar updatedPredcitedResponse = '(function execute(currentInputs, context) {\\n return new global.OneExtendEvaluationServiceUtil().getPredictedResponse(currentInputs); \\n})(currentInputs, context);';\n\nvar updatedGoldenResponse = \"(function execute(currentInputs, context) {\\n     \\n    // return value for the attribute  \\n    return '';\\n})(currentInputs, context);\";\n\nvar updatedGroundedPrompt = '(function execute(currentInputs, context) {\\n return new global.OneExtendEvaluationServiceUtil().getGroundedPrompt(currentInputs); \\n})(currentInputs, context);';\n\nvar PROCESSED_RESPONSE_FIELD = \"processed_response\";\nvar GOLDEN_RESPONSE_FIELD = \"golden_response\";\nvar GENERATED_RESPONSE_FIELD = \"generated_response\";\nvar GROUNDED_PROMPT_FIELD = \"grounded_prompt\";\n\n\nfunction updateResourceAttributeMappingScript(attributeName, updatedScript) {\n    var gr = new GlideRecord(\"sys_one_extend_resource_attribute_mapping\");\n    gr.addQuery(\"resource_attribute_name.name\", attributeName);\n    gr.addQuery(\"resource_mapping.resource_capability.type\", \"metric\");\n    gr.addQuery(\"attribute_value_type\", \"script\");\n    gr.query();\n    gr.setValue(\"attribute_value_script\", updatedScript);\n    gr.updateMultiple();\n\tgs.info(sn_i18n.Message.getMessage(\"glide-one-extend\", \"Successfully updated 'sys_one_extend_resource_attribute_mapping' attribute {attributeName} script of metrics for rows {rowCount}\", {\"attributeName\": attributeName, \"rowCount\": gr.getRowCount()} ));\n}\nupdateResourceAttributeMappingScript(PROCESSED_RESPONSE_FIELD, updatedProcessedResponse);\nupdateResourceAttributeMappingScript(GOLDEN_RESPONSE_FIELD, updatedGoldenResponse);\nupdateResourceAttributeMappingScript(GENERATED_RESPONSE_FIELD, updatedPredcitedResponse);\nupdateResourceAttributeMappingScript(GROUNDED_PROMPT_FIELD, updatedGroundedPrompt);\n\ngs.info(sn_i18n.Message.getMessage(\"glide-one-extend\", \"Successfully completed executing fix script: Update Metric Resource Attribute Script\"));","sys_class_name":"sys_script_fix","sys_id":"1cad71807f78121046719fbefc86655a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7c84affb04312210559073c06a02f73d","value":"7c84affb04312210559073c06a02f73d"},"sys_update_name":"sys_script_fix_1cad71807f78121046719fbefc86655a","sys_updated_by":"admin","sys_created_on":"2024-09-17 16:39:02","name":"Update Metric Resource Attribute Script","sys_name":"Update Metric Resource Attribute Script","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"9","description":"Fix script for modifying labels of CMDB tables for I release","sys_updated_on":"2016-08-22 12:51:47","sys_tags":"","record_for_rollback":"false","script":"//API: renameTable(tableName, previousLabel, targetLabel, plural)\n//     changeHint(tableName, previousHint, targetHint);\n\ngs.log(\"Changing labels of CMDB tables for I release\");\n\n//PRB667569\nrenameTable(\"cmdb_ci_endpoint_xenapp\", \"XenApp or Presentation Server\", \"XenApp or Presentation Server Endpoint\", \"XenApp or Presentation Server Endpoints\");\n\n//PRB702089\nrenameTable(\"cmdb_ci_endpoint_sap\", \"SAP Application Server\", \"SAP Application Server EP\", \"SAP Application Server EPs\");\nchangeHint(\"cmdb_ci_endpoint_sap\", \"SAP Application Server\", \"SAP Application Server EP\");\nrenameTable(\"cmdb_ci_endpoint_ems_queue\", \"EMS Queue\", \"EMS Queue EP\", \"EMS Queue EPs\");\nrenameTable(\"cmdb_ci_endpoint_ent_vault\", \"Enterprise Vault\", \"Enterprise Vault EP\", \"Enterprise Vault EPs\");\nrenameTable(\"cmdb_ci_endpoint_itam\", \"ITAM Asset Center\", \"ITAM Asset Center EP\", \"ITAM Asset Center EPs\");\nrenameTable(\"cmdb_ci_endpoint_ldap_db\", \"LDAP DB\", \"LDAP DB EP\", \"LDAP DB EPs\");\nrenameTable(\"cmdb_ci_endpoint_ms_sql_server\", \"MS SQL Server\", \"MS SQL Server EP\", \"MS SQL Server EPs\");\nrenameTable(\"cmdb_ci_endpoint_network\", \"Network\", \"Network EP\", \"Network EPs\");\nrenameTable(\"cmdb_ci_endpoint_oracle_tns\", \"Oracle App TNS Service\", \"Oracle App TNS Service EP\", \"Oracle App TNS Service EPs\");\nrenameTable(\"cmdb_ci_endpoint_peoplesoft\", \"Peoplesoft Application Server\", \"Peoplesoft Application Server EP\", \"Peoplesoft Application Server EPs\");\nrenameTable(\"cmdb_ci_endpoint_rabbitmq\", \"RabbitMQ\", \"RabbitMQ EP\", \"RabbitMQ EPs\");\nrenameTable(\"cmdb_ci_endpoint_rabbitmq_queu\", \"RabbitMQ Queue\",\"RabbitMQ Queue EP\", \"RabbitMQ Queue EPs\");\nrenameTable(\"cmdb_ci_endpoint_sap_db\", \"SAP HANA DB\", \"SAP HANA DB EP\", \"SAP HANA DB EPs\");\nrenameTable(\"cmdb_ci_endpoint_sharepoint_service\", \"SharePoint Service\", \"SharePoint Service EP\", \"SharePoint Service EPs\");\nrenameTable(\"cmdb_ci_endpoint_tibco_hawk\", \"Tibco Hawk\", \"Tibco Hawk EP\", \"Tibco Hawk EPs\");\nrenameTable(\"cmdb_ci_endpoint_wmb_flow\", \"WMB Flow\", \"WMB Flow EP\", \"WMB Flow EPs\");\nrenameTable(\"cmdb_ci_appl_sap_bo\", \"SAP Business Objects\", \"SAP Business Objects CMS server\", \"SAP Business Objects CMS servers\");\n\n//PRB675914\nrenameTable(\"cmdb_ci_app_server_weblogic\", \"BEA Weblogic\", \"Weblogic\", \"Weblogics\");\nrenameTable(\"cmdb_ci_appl_ora_jms_queue\", \"Oracle Weblogic JMS Queue\", \"Weblogic JMS Queue\", \"Weblogic JMS Queues\");\n\ngs.log(\"Done changing labels for CMDB tables\");\n\n\n//PRB711807 - Endpoint labels are not expressing the fact these are endpoint.\n\nrenameTable(\"cmdb_ci_endpoint_mysql_cl_dn\", \"MySQL Cluster Data Node\", \"MySQL Cluster Data Node Endpoint\", \"MySQL Cluster Data Node Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_msmq\", \"MSMQ Flow\", \"MSMQ Flow Endpoint\", \"MSMQ Flow Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_ent_vault\", \"Enterprise Vault EP\", \"Enterprise Vault Endpoint\", \"Enterprise Vault Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_ldap\", \"LDAP\", \"LDAP Endpoint\", \"LDAP Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_sap_app\", \"SAP APP EP\", \"SAP APP Endpoint\", \"SAP APP Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_fromcluster_t\", \"FromCluster_to_RabbitMQ\", \"FromCluster_to_RabbitMQ Endpoint\", \"FromCluster_to_RabbitMQ Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_f5\", \"F5 Mirror\", \"F5 Mirror Endpoint\", \"F5 Mirror Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_postgresql\", \"PostgreSQL DB\", \"PostgreSQL DB Endpoint\", \"PostgreSQL DB Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_dctm_broker\", \"DCTM Connection to broker\", \"DCTM Connection to broker Endpoint\", \"DCTM Connection to broker Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_ejb\", \"EJB\", \"EJB Endpoint\", \"EJB Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_ctg\", \"CTG\", \"CTG Endpoint\", \"CTG Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_ssas\", \"SSAS\", \"SSAS Endpoint\", \"SSAS Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_fastsearch\", \"Fast Search\", \"Fast Search Endpoint\", \"Fast Search Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_mq\", \"MQ\", \"MQ Endpoint\", \"MQ Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_mapi_hub\", \"MAPI-HUB\", \"MAPI-HUB Endpoint\", \"MAPI-HUB Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_hpom\", \"HPOM\", \"HPOM Endpoint\", \"HPOM Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_db2sql\", \"DB2 UDB\", \"DB2 UDB Endpoint\", \"DB2 UDB Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_ad_domain\", \"Active Directory Domain to Domain Controllers\", \"Active Directory Domain to Domain Controllers Endpoint\", \"Active Directory Domain to Domain Controllers Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_xenapp_comp\", \"XenApp or Presentation Server Components\", \"XenApp or Presentation Server Components Endpoint\", \"XenApp or Presentation Server Components Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_ajp\", \"AJP\", \"AJP Endpoint\", \"AJP Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_ssas_mssql\", \"SSAS for MSSQL\", \"SSAS for MSSQL Endpoint\", \"SSAS for MSSQL Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_imap\", \"IMAP\", \"IMAP Endpoint\", \"IMAP Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_smtp\", \"SMTP\", \"SMTP Endpoint\", \"SMTP Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_app_storage\", \"Application To Storage\", \"Application To Storage Endpoint\", \"Application To Storage Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_tbco_confile\", \"Tibco Conf File\", \"Tibco Conf File Endpoint\", \"Tibco Conf File Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_storage_fc\", \"Storage FC Connectivity\", \"Storage FC Connectivity Endpoint\", \"Storage FC Connectivity Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_rabbitmq\", \"RabbitMQ EP\", \"RabbitMQ Endpoint\", \"RabbitMQ Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_docbase\", \"DocBase Connection\", \"DocBase Connection Endpoint\", \"DocBase Connection Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_ems_jndi\", \"EMS JNDI\", \"EMS JNDI Endpoint\", \"EMS JNDI Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_tcp\", \"TCP\", \"TCP Endpoint\", \"TCP Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_ssis_mssql\", \"SSIS for MSSQL\", \"SSIS for MSSQL Endpoint\", \"SSIS for MSSQL Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_mysql_server\", \"MySQL Server\", \"MySQL Server Endpoint\", \"MySQL Server Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_dctm_index\", \"DCTM Index Agent Connection\", \"DCTM Index Agent Connection Endpoint\", \"DCTM Index Agent Connection Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_nntp\", \"NNTP\", \"NNTP Endpoint\", \"NNTP Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_ms_sql_server\", \"MS SQL Server EP\", \"MS SQL Server Endpoint\", \"MS SQL Server Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_dctm_job\", \"DCTM Job Processor\", \"DCTM Job Processor Endpoint\", \"DCTM Job Processor Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_oracle_rac\", \"Oracle RAC DB\", \"Oracle RAC DB Endpoint\", \"Oracle RAC DB Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_sybase\", \"Sybase\", \"Sybase Endpoint\", \"Sybase Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_iifp\", \"IIFP\", \"IIFP Endpoint\", \"IIFP Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_network\", \"Network EP\", \"Network Endpoint\", \"Network Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_itam\", \"ITAM Asset Center EP\", \"ITAM Asset Center Endpoint\", \"ITAM Asset Center Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_tibco_file\", \"Tibco File Listener\", \"Tibco File Listener Endpoint\", \"Tibco File Listener Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_mq_mem\", \"MQ Cross-memory\", \"MQ Cross-memory Endpoint\", \"MQ Cross-memory Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_ftp\", \"FTP\", \"FTP Endpoint\", \"FTP Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_aq\", \"Advanced Queue\", \"Advanced Queue Endpoint\", \"Advanced Queue Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_biztalk\", \"BizTalk Connection\", \"BizTalk Connection Endpoint\", \"BizTalk Connection Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_tibco_hawk\", \"Tibco Hawk EP\", \"Tibco Hawk Endpoint\", \"Tibco Hawk Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_mq_flow\", \"MQ Flow\", \"MQ Flow Endpoint\", \"MQ Flow Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_rfc\", \"RFC\", \"RFC Endpoint\", \"RFC Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_oracle_db\", \"Oracle DB\", \"Oracle DB Endpoint\", \"Oracle DB Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_sap\", \"SAP Application Server EP\", \"SAP Application Server Endpoint\", \"SAP Application Server Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_sp_connection\", \"Sharepoint connection\", \"Sharepoint connection Endpoint\", \"Sharepoint connection Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_rabbitmq_queu\", \"RabbitMQ Queue EP\", \"RabbitMQ Queue Endpoint\", \"RabbitMQ Queue Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_ems\", \"EMS\", \"EMS Endpoint\", \"EMS Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_tibco_bw\", \"Tibco BW\", \"Tibco BW Endpoint\", \"Tibco BW Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_remote_tcp\", \"Remote TCP Cross-memory\", \"Remote TCP Cross-memory Endpoint\", \"Remote TCP Cross-memory Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_peoplesoft\", \"Peoplesoft Application Server EP\", \"Peoplesoft Application Server Endpoint\", \"Peoplesoft Application Server Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_jms_server\", \"JMS Server\", \"JMS Server Endpoint\", \"JMS Server Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_wmb_depend\", \"WMB Dependency\", \"WMB Dependency Endpoint\", \"WMB Dependency Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_mysql_slave\", \"MySQL Slave Server\", \"MySQL Slave Server Endpoint\", \"MySQL Slave Server Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_obj_cms_srv\", \"Business Objects CMS Server\", \"Business Objects CMS Server Endpoint\", \"Business Objects CMS Server Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_ad_forest\", \"Active Directory Forest\", \"Active Directory Forest Endpoint\", \"Active Directory Forest Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_oracle_esb\", \"Oracle ESB Connection\", \"Oracle ESB Connection Endpoint\", \"Oracle ESB Connection Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_mapi\", \"MAPI\", \"MAPI Endpoint\", \"MAPI Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_vm_esx\", \"VirtualMachine to ESX Storage\", \"VirtualMachine to ESX Storage Endpoint\", \"VirtualMachine to ESX Storage Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_pop3\", \"POP3\", \"POP3 Endpoint\", \"POP3 Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_mysql_cl_mg\", \"MySQL Cluster MGM\", \"MySQL Cluster MGM Endpoint\", \"MySQL Cluster MGM Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_ssis_file\", \"SSIS file\", \"SSIS file Endpoint\", \"SSIS file Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_listener_wmb\", \"HTTP Listener to WMB Dependency\", \"HTTP Listener to WMB Dependency Endpoint\", \"HTTP Listener to WMB Dependency Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_ssis\", \"SSIS\", \"SSIS Endpoint\", \"SSIS Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_crm\", \"CRM Component\", \"CRM Component Endpoint\", \"CRM Component Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_jms_flow\", \"JMS Flow\", \"JMS Flow Endpoint\", \"JMS Flow Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_http\", \"HTTP(S)\", \"HTTP(S) Endpoint\", \"HTTP(S) Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_dliver_cnrl\", \"Citrix Delivery Controller\", \"Citrix Delivery Controller Endpoint\", \"Citrix Delivery Controller Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_sap_db\", \"SAP HANA DB EP\", \"SAP HANA DB Endpoint\", \"SAP HANA DB Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_exchange\", \"Exchange 2013\", \"Exchange 2013 Endpoint\", \"Exchange 2013 Endpoints\");\n\n// PRB819768\nrenameTable(\"cmdb_ci_kvm_storage_pool\", \"Storage Pool\", \"KVM Storage Pool\", \"KVM Storage Pools\");\nrenameTable(\"cmdb_ci_kvm_storage_volume\", \"Storage Volume\", \"KVM Storage Volume\", \"KVM Storage Volumes\");\n\n//PRB818879\nrenameTable(\"cmdb_ci_endpoint_rabbitmq_queu\", \"RabbitMQ Queue Endpoint\", \"(Deprecated) RabbitMQ Queue Endpoint\", \"(Deprecated) RabbitMQ Queue Endpoints\")\n\nfunction renameTable(tableName, previousLabel, targetLabel, plural){\n\t//Rename Sys Db Object\n\tgs.log(\"About to change label of \" + tableName + \" from \" + previousLabel + \" to \" + targetLabel);\n\tvar dbObj = new GlideRecord(\"sys_db_object\");\n\tdbObj.addQuery(\"name\",tableName);\n\tdbObj.query();\n\tif(dbObj.next()){\n\t\tvar currentLabel = dbObj.getValue(\"label\");\n\t\tif (currentLabel != previousLabel) {\n\t\t\tgs.log(\"No need to change label: current label=\" + currentLabel +\", expected=\" + previousLabel);\n\t\t\treturn;\n\t\t}\n\t\tdbObj.setValue(\"label\",targetLabel);\n\t\tdbObj.update();\n\t\tgs.log(\"Changed label of \" + tableName + \" to \" + targetLabel);\n\t} else {\n\t\tgs.log(\"Table \" + tableName + \" not found in sys_db_object\");\n\t}\n\t\n\t// Modify plural in sys_documentation table\n\tvar docObj = new GlideRecord(\"sys_documentation\");\n\tdocObj.addQuery(\"name\",tableName);\n\tdocObj.addNullQuery(\"element\");\n\tdocObj.query();\n\tif(docObj.next()){\n\t\tvar currentPlural = docObj.getValue(\"plural\");\n\t\tif (currentPlural != plural) {\n\t\t\tgs.log(\"Changing plural to \" + plural);\n\t\t\tdocObj.setValue(\"plural\", plural);\n\t\t\tdocObj.update();\n\t\t}\n\t} else {\n\t\tgs.log(\"Table \" + tableName + \" not found in sys_documentation\");\n\t}\n\t\n\tgs.log(\"Done changing label of \" + tableName);\n}\n\nfunction changeHint(tableName, previousHint, targetHint){\n\t// Modifying hint in sys_documentation table\n\tgs.log(\"Changing hint of \" + tableName + \" from \" + previousHint + \" to \" + targetHint);\n\tvar docObj = new GlideRecord(\"sys_documentation\");\n\tdocObj.addQuery(\"name\",tableName);\n\tdocObj.addNullQuery(\"element\");\n\tdocObj.query();\n\tif(docObj.next()){\n\t\tvar currentHint = docObj.getValue(\"hint\");\n\t\tif (currentHint != previousHint) {\n\t\t\tgs.log(\"No need to change hint: current=\" + currentHint + \", expected=\" + previousHint);\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tgs.log(\"Changing hint to \" + targetHint);\n\t\tdocObj.setValue(\"hint\", targetHint);\n\t\tdocObj.update();\n\t}\n\t\n\tgs.log(\"Done changing hint of \" + tableName);\n}","sys_class_name":"sys_script_fix","sys_id":"1d6ee287c3d12200ab8f9624a1d3ae2b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_1d6ee287c3d12200ab8f9624a1d3ae2b","sys_updated_by":"admin","sys_created_on":"2016-08-22 09:44:47","name":"I Release: Update CMDB Table Labels","sys_name":"I Release: Update CMDB Table Labels","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"There was a screen condition shipped for conditional visibility of collaborate tab on SOW. With 3.0 this screen condition is not needed and if not deleted can break the new flow.","sys_updated_on":"2023-05-30 15:47:03","sys_tags":"","record_for_rollback":"true","script":"deleteCollaborateTabScreenCondition();\n\nfunction deleteCollaborateTabScreenCondition() {\n    var gr = new GlideRecord('sys_ux_screen_condition');\n    if (gr.get('2c73656353d00110b569ddeeff7b1232'))\n        gr.deleteRecord();\n}","sys_class_name":"sys_script_fix","sys_id":"1dad283a53832110ad0fddeeff7b12de","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fa27a0dd53423010bf68ddeeff7b12ac","value":"fa27a0dd53423010bf68ddeeff7b12ac"},"sys_update_name":"sys_script_fix_1dad283a53832110ad0fddeeff7b12de","sys_updated_by":"admin","sys_created_on":"2023-05-30 08:39:48","name":"Delete old collaborate screen condition","sys_name":"Delete old collaborate screen condition","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/fa27a0dd53423010bf68ddeeff7b12ac","value":"fa27a0dd53423010bf68ddeeff7b12ac"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"sys_generative_ai_request_validator:\r\nWhen the Document Id and Document Table is empty:\r\nCopy the value in Definition (Deprecated) to Document Id and set the value of the Document Table to \"sys_one_extend_capability_definition\"","sys_updated_on":"2024-05-15 12:10:16","sys_tags":"","record_for_rollback":"false","script":"var gr = GlideRecord(\"sys_generative_ai_request_validator\");\ngr.query();\nwhile (gr.next()) {\n    var documentId = gr.getValue('document_id');\n    var documentTable = gr.getValue('document_table');\n    if (!documentId && !documentTable) {\n        gr.setValue(\"document_id\", gr.getValue(\"definition\"));\n        gr.setValue(\"document_table\", \"sys_one_extend_capability_definition\");\n        gr.update();\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"1e04c9b3778a8210d694c1bfbd5a99c2","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7c84affb04312210559073c06a02f73d","value":"7c84affb04312210559073c06a02f73d"},"sys_update_name":"sys_script_fix_1e04c9b3778a8210d694c1bfbd5a99c2","sys_updated_by":"admin","sys_created_on":"2024-05-15 11:14:52","name":"Fill empty document in request validator","sys_name":"Fill empty document in request validator","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"6","description":"Sets the reference qualifier (for Crypto Spec) based on the  current selected crypto module and the proper display for the crypto spec field (should use alias, not crypto_module).  This behavior was introduced in San Diego, but required this fix script for upgrade cases.","sys_updated_on":"2021-10-07 17:09:45","sys_tags":"","record_for_rollback":"false","script":"// Reference Qualifier, advanced.\nvar grCryptoSpec = new GlideRecord('sys_dictionary');\ngrCryptoSpec.addQuery('element', 'crypto_spec');\ngrCryptoSpec.addQuery('name', 'sys_kmf_crypto_caller_policy');\ngrCryptoSpec.query();\n\nif (grCryptoSpec.next()) {\n\tif (grCryptoSpec.getValue('use_reference_qualifier') == \"simple\") {\n\t\tgrCryptoSpec.setValue(\"choice\", 0);\n\t\tgrCryptoSpec.setValue(\"use_reference_qualifier\", \"advanced\");\n\t\tgrCryptoSpec.setValue(\"reference_qual\", \"javascript: 'crypto_module=' + current.crypto_module;\");\n\t\tgrCryptoSpec.update();\n\t}\n}\n\n// Set crypto_module - display to false; alias which was added in San Diego has display set to true, already. \nvar grCryptoMod = new GlideRecord('sys_dictionary');\ngrCryptoMod.addQuery('element', 'crypto_module');\ngrCryptoMod.addQuery('name', 'sys_kmf_module_crypto_spec');\ngrCryptoMod.query();\nif (grCryptoMod.next()) {\n\tif (grCryptoMod.getValue('display') == true){\n\t\tgrCryptoMod.setValue(\"display\", false);\n\t\tgrCryptoMod.update();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"1e539fd5c3c730100367fc6c9d40dd02","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7f83a3f304312210559073c06a02f787","value":"7f83a3f304312210559073c06a02f787"},"sys_update_name":"sys_script_fix_1e539fd5c3c730100367fc6c9d40dd02","sys_updated_by":"admin","sys_created_on":"2021-10-06 15:22:51","name":"Set CryptoSpec Ref Qual and Display","sys_name":"Set CryptoSpec Ref Qual and Display","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Set the VISIBLE field to runtime VA  topics (new field for NY release).","sys_updated_on":"2019-04-17 22:12:05","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('sys_cs_topic');\ngr.query();\nwhile (gr.next()) {\n\tvar fields = gr.getFields();\n\n\tvar isSystemTopicValue;\n\tvar isVisibleValue;\n\tvar isPublishedValue = false;\n\tfor (var i = 0; i < fields.size(); i++) {\n\t\tvar f = fields.get(i);\n\t\tif (f.getName() === 'is_system_topic') {\n\t\t\tisSystemTopicValue = (gs.nil(f) ? null : f);\n\t\t} else if (f.getName() === 'visible') {\n\t\t\tisVisibleValue = (gs.nil(f) ? null : f);\n\t\t} else if (f.getName() === 'published') {\n\t\t\tisPublishedValue = (gs.nil(f) ? false : f);\n\t\t}\n\t}\n\n\tif (isSystemTopicValue) {\n\t\tgr.setValue('visible', false);\n\t\tgr.update();\n\t} else if (gs.nil(isVisibleValue)) {\n\t\tgr.setValue('visible', (isPublishedValue && (gs.nil(isSystemTopicValue) || !isSystemTopicValue)));\n\t\tgr.update();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"1e8e9e7e3b70330074bc456993efc4ec","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_1e8e9e7e3b70330074bc456993efc4ec","sys_updated_by":"admin","sys_created_on":"2019-04-17 22:12:05","name":"Set VISIBLE field to runtime VA  topics","sys_name":"Set VISIBLE field to runtime VA  topics","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Starting Rome, we are dispatching and handling the IAR events using Java class (AutoResolutionEventDispatcher & AutoResolutionEventHandler). Deleting the records if it already installed in Quebec","sys_updated_on":"2021-07-02 19:49:57","sys_tags":"","record_for_rollback":"false","script":"executeFix();\n\nfunction executeFix() {\n\t\n\tgs.info('1. Executing IAR Delete sysevent and script action: Deleting sysevent register record');\n\tvar sysEventRegGr = new GlideRecord('sysevent_register');\n\tsysEventRegGr.addQuery('event_name', 'task.assigned_to.virtual_agent');\n\tsysEventRegGr.query();\n\t\n\tif (sysEventRegGr.next()) {\n\t\tgs.info('Deleting sysevent register record: ' + sysEventRegGr.getValue('event_name'));\n\t\tsysEventRegGr.deleteRecord();\n\t}\n\t\n\tgs.info('2. Executing IAR Delete sysevent and script action: Deleting script action record for the associated IAR sysevent');\n\tvar scriptActionGr = new GlideRecord('sysevent_script_action');\n\tscriptActionGr.addQuery('event_name', 'task.assigned_to.virtual_agent');\n\tscriptActionGr.query();\n\t\n\tif (scriptActionGr.next()) {\n\t\tgs.info('Deleting sysevent script action record: ' + scriptActionGr.getValue('event_name'));\n\t\tscriptActionGr.deleteRecord();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"1eb7f9a273013010f14a063f34f6a766","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca4f3f704b52210559073c06a02f789","value":"aca4f3f704b52210559073c06a02f789"},"sys_update_name":"sys_script_fix_1eb7f9a273013010f14a063f34f6a766","sys_updated_by":"admin","sys_created_on":"2021-07-02 19:49:57","name":"IAR Delete sysevent and script action","sys_name":"IAR Delete sysevent and script action","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Set attribute for current version in std_change_record_producer","sys_updated_on":"2024-08-19 14:51:28","sys_tags":"","record_for_rollback":"true","script":"(function() {\n    var stdChgRecDictionary = new GlideRecord('sys_dictionary');\n    stdChgRecDictionary.addQuery('name', 'std_change_record_producer');\n    stdChgRecDictionary.addQuery('element', 'current_version');\n    stdChgRecDictionary.query();\n    if (stdChgRecDictionary.next()) {\n        var gAttr = new GlideAttributes(stdChgRecDictionary.getValue('attributes'));\n        gAttr.setAttribute('readonly_clickthrough', 'true');\n        stdChgRecDictionary.setValue('attributes', gAttr.serializeAttributes());\n        stdChgRecDictionary.update();\n    }\n})();","sys_class_name":"sys_script_fix","sys_id":"1ec72c719f8c565059d088e1ba0a1c54","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b80be33304352210559073c06a02f76b","value":"b80be33304352210559073c06a02f76b"},"sys_update_name":"sys_script_fix_1ec72c719f8c565059d088e1ba0a1c54","sys_updated_by":"admin","sys_created_on":"2024-08-16 14:03:15","name":"Set Attribute for current version ","sys_name":"Set Attribute for current version ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"2","description":"Delete old form sections and elements. Its not safe to use DELETE records for UI sections because the way they are coalesced by the update manager can cause future upgrades to delete records you didn't want deleted.","sys_updated_on":"2016-12-16 21:36:48","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tvar gr = new GlideRecord(\"sys_ui_section\");\n\tgr.addQuery(\"name\", \"var_dictionary\");\n\tgr.addQuery(\"view\", \"Default view\");\n\tgr.deleteMultiple();\n})();","sys_class_name":"sys_script_fix","sys_id":"1ed86ae4533b2200566d435723dc34be","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d78363f304312210559073c06a02f766","value":"d78363f304312210559073c06a02f766"},"sys_update_name":"sys_script_fix_1ed86ae4533b2200566d435723dc34be","sys_updated_by":"russ.sarbora","sys_created_on":"2016-12-16 21:31:52","name":"remove_old_var_default_form","sys_name":"remove_old_var_default_form","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"russ.sarbora","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Training Frequency choices to depend on the Capability","sys_updated_on":"2019-06-07 19:34:07","sys_tags":"","record_for_rollback":"false","script":"if (!pm.isZboot()) {\n\tvar dependent = \"trainer.name\";\n\t\n\t\n\t//update dependent, dependent_on_field, use_dependent_field values for training frequency field on solution defintion.\n\tvar sys_dict = new GlideRecord(\"sys_dictionary\");\n\tsys_dict.addEncodedQuery('name=ml_solution_definition^element=training_frequency');\n\tsys_dict.query();\n\tif (sys_dict.next()) {\n\t\tsys_dict.setValue('dependent','trainer.name');\n\t\tsys_dict.setValue('dependent_on_field','trainer.name');\n\t\tsys_dict.setValue('use_dependent_field','true');\n\t\tsys_dict.update();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"1ef16497b7313300d1dcf8b8ee11a972","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_script_fix_1ef16497b7313300d1dcf8b8ee11a972","sys_updated_by":"admin","sys_created_on":"2019-06-07 19:34:07","name":"Training Freq to dependent on Capability","sys_name":"Training Freq to dependent on Capability","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"9","description":"Update sys_one_extend_definition_attribute.name from translated_text to string type. Also removing associated TranslatedTextXMLSerializer attribute.","sys_updated_on":"2023-09-20 21:14:45","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord(\"sys_dictionary\");\ngr.addQuery(\"name\", \"sys_one_extend_definition_attribute\");\ngr.addQuery(\"element\", \"name\");\ngr.addQuery('internal_type', 'translated_text');\ngr.query();\nif (gr.next()) {\n    gr.setValue('internal_type', 'string');\n    gr.update();\n\n    var attribute = new GlideRecord(\"sys_schema_attribute_m2m\");\n    attribute.addQuery(\"schema\", gr.getUniqueValue());\n    attribute.addQuery(\"attribute\", \"095b70b3eb321100d4360c505206fee5\"); //serializer attribute\n    attribute.addQuery(\"value\", \"com.glide.script.TranslatedTextXMLSerializer\");\n    attribute.query();\n    if (attribute.next()) {\n        attribute.deleteRecord();\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"1f47fc1f431131104b7184b49bb8f267","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7c84affb04312210559073c06a02f73d","value":"7c84affb04312210559073c06a02f73d"},"sys_update_name":"sys_script_fix_1f47fc1f431131104b7184b49bb8f267","sys_updated_by":"admin","sys_created_on":"2023-09-20 18:14:49","name":"Update Definition Attribute name type","sys_name":"Update Definition Attribute name type","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"All the existing records in nlq_synonym table prior to San Diego should have synonym_type set to \"Table or Column\".  The following fix script will handle the upgrade scenario to San Diego.","sys_updated_on":"2021-09-02 05:49:16","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tvar nlqSynonymTable = 'nlq_synonym';\n\tvar nlqSynonymTypeColumn = 'synonym_type';\n\tvar nlqTableOrColumnType = 'table_or_column';\n\tvar nlqRecordColumn = 'record';\n\tvar nlqSynonymGR = new GlideRecord(nlqSynonymTable);\n\tnlqSynonymGR.addNullQuery(nlqSynonymTypeColumn);\n\tnlqSynonymGR.addNullQuery(nlqRecordColumn);\n\tnlqSynonymGR.query();\n\twhile (nlqSynonymGR.next()) { \n\t\tnlqSynonymGR.setValue(nlqSynonymTypeColumn,nlqTableOrColumnType);\n\t\tnlqSynonymGR.setWorkflow(false);\n\t\tnlqSynonymGR.update();\n\t}\n})();","sys_class_name":"sys_script_fix","sys_id":"2132ba8753023010df5fddeeff7b1299","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cebd633304752210559073c06a02f7f7","value":"cebd633304752210559073c06a02f7f7"},"sys_update_name":"sys_script_fix_2132ba8753023010df5fddeeff7b1299","sys_updated_by":"admin","sys_created_on":"2021-08-23 06:50:03","name":"Set nlq synonym type to Table or Column","sys_name":"Set nlq synonym type to Table or Column","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"add attribute to type field in sys_cs_channel","sys_updated_on":"2020-08-29 20:49:33","sys_tags":"","record_for_rollback":"false","script":"SNC.DictionaryAttribute.set('sys_cs_channel', 'type', 'ref_contributions', 'Cs Channel Type Field Help');\ngs.log(\"Added help note on sys_cs_channel type.\");","sys_class_name":"sys_script_fix","sys_id":"21364dfb53be9010ad82ddeeff7b12ef","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_21364dfb53be9010ad82ddeeff7b12ef","sys_updated_by":"admin","sys_created_on":"2020-08-29 20:49:33","name":"Add Help Note to Chat Channel Type","sys_name":"Add Help Note to Chat Channel Type","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Updates the internal type on Activity related tables ","sys_updated_on":"2022-01-21 19:58:30","sys_tags":"","record_for_rollback":"false","script":"(function() {\n    if (pm.isZboot())\n        return;\n\n    var activityTables = getActivityTables();\n    gs.log('Running fix script \"Activity Form Dictionary Updates\"', 'ActivityFormDictionaryUpdates');\n\n    activityTables.forEach(updateActivityShard);\n\n    function updateActivityShard(shardName) {\n        truncateTable(shardName);\n        updateDocumentId(shardName);\n        updateEventCreatedBy(shardName);\n        updatePayload(shardName);\n    }\n\n    function updateDocumentId(table) {\n        var docIdDictionary = getDictionary(table, 'document_id');\n        if (docIdDictionary) {\n            gs.log('Updating document_id internal type to Document ID on shard ' + table, 'ActivityFormDictionaryUpdates');\n            docIdDictionary.setValue('internal_type', 'document_id');\n            docIdDictionary.setValue('use_dependent_field', true);\n            docIdDictionary.setValue('dependent', 'document_table');\n            docIdDictionary.update();\n        }\n    }\n\n    function updateEventCreatedBy(table) {\n        var eventCreatedByDictionary = getDictionary(table, 'event_created_by');\n        if (eventCreatedByDictionary) {\n            gs.log('Updating field event_created_by internal type to String on shard ' + table, 'ActivityFormDictionaryUpdates');\n            eventCreatedByDictionary.setValue('internal_type', 'string');\n            eventCreatedByDictionary.setValue('max_length', 100);\n            eventCreatedByDictionary.update();\n        }\n    }\n\n    function updatePayload(table) {\n        var payloadDictionary = getDictionary(table, 'payload');\n        if (payloadDictionary) {\n            gs.log('Updating field payload internal type to String on shard ' + table, 'ActivityFormDictionaryUpdates');\n            payloadDictionary.setValue('internal_type', 'string');\n            payloadDictionary.setValue('max_length', 8000);\n            payloadDictionary.update();\n        }\n    }\n\n    var userSysIdDictionary = getDictionary('sys_activity_supplemental', 'user_sys_id');\n    if (userSysIdDictionary) {\n        gs.log('Updating field user_sys_id internal type to Reference', 'ActivityFormDictionaryUpdates');\n        userSysIdDictionary.setValue('internal_type', 'reference');\n        userSysIdDictionary.setValue('reference', 'sys_user');\n        userSysIdDictionary.update();\n    }\n\n    var suppPayloadDictionary = getDictionary('sys_activity_supplemental', 'payload');\n    if (suppPayloadDictionary) {\n        gs.log('Updating field payload internal type to String', 'ActivityFormDictionaryUpdates');\n        suppPayloadDictionary.setValue('internal_type', 'string');\n        suppPayloadDictionary.setValue('max_length', 4000);\n        suppPayloadDictionary.update();\n    }\n\n    function getDictionary(table, field) {\n        var dictionaryGr = new GlideRecord('sys_dictionary');\n        dictionaryGr.addQuery('name', table);\n        dictionaryGr.addQuery('element', field);\n        dictionaryGr.query();\n\n        return dictionaryGr.next() ? dictionaryGr : null;\n    }\n\n    function truncateTable(table) {\n        var tableRotation = new SncTableRotation(table);\n        tableRotation.truncateTable(table);\n    }\n\n    function getActivityTables() {\n        var tableRotation = new SncTableRotation('sys_activity');\n        var tables = tableRotation.getTablesInRotation();\n\n        var tablesArray = ['sys_activity'];\n\n        for (var i = 0; i < tables.size(); i++) {\n            tablesArray.push(tables.get(i));\n        }\n        return tablesArray;\n    }\n})();","sys_class_name":"sys_script_fix","sys_id":"21588bf7c301011082c603db7940ddaf","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bb08e33304f12210559073c06a02f7ac","value":"bb08e33304f12210559073c06a02f7ac"},"sys_update_name":"sys_script_fix_21588bf7c301011082c603db7940ddaf","sys_updated_by":"admin","sys_created_on":"2022-01-21 19:02:15","name":"Activity Form Dictionary Updates","sys_name":"Activity Form Dictionary Updates","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Activating cmdb_health_score secondary db category","sys_updated_on":"2022-03-31 18:27:55","sys_tags":"","record_for_rollback":"false","script":"activateCMDBHealthSecondaryDBCategory();\n\nfunction activateCMDBHealthSecondaryDBCategory() {\n    var fixName = 'CMDBHealth fix';\n\n    if (pm.isZboot())\n        return;\n\n    // Plugin is not installed\n    if (!pm.isActive('com.glide.secondary_db_pools'))\n        return;\n\n    // sys_db_category table does not exist\n    var gr = new GlideRecord('sys_db_category');\n    if (!gr.isValid())\n        return;\n    // Record already exists\n    if (gr.get('e5f078afeb12201007d5a1c628522814')) {\n        var gcd = GlideCollisionDetector.get();\n        // Record is customized\n        if (gcd.containsKey('sys_db_category_e5f078afeb12201007d5a1c628522814'))\n            return;\n        gs.info(fixName + \": updating un customized db category\");\n        gr.setWorkflow(false);\n        gr.active = true;\n        gr.update();\n    } else {\n        gs.info(fixName + \": loading db category from unload\");\n        var um = new GlideUpdateManager2();\n        um.setInstalling(true);\n        um.loadFile(gs.getGlideHome() + \"/plugins/com.glide.secondary_db_pools/unload/sys_db_category_e5f078afeb12201007d5a1c628522814.xml\");\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"215afd4e73e2011007d56ad9af148b26","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_215afd4e73e2011007d56ad9af148b26","sys_updated_by":"admin","sys_created_on":"2022-03-31 18:19:02","name":"CMDB Health DB Category Activation","sys_name":"CMDB Health db category activation","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"6","description":"","sys_updated_on":"2025-01-10 22:24:46","sys_tags":"","record_for_rollback":"true","script":"try {\n\tupdateHermesDiagMetricsCollection();\n} catch (e) {\n\tgs.log(\"updateHermesDiagMetricsCollection: \" + e);\n}\n\n/**\n * Update existing hermes_app_services records associated to 'hermes-internal'\n * hermes-internal will have diagnostics/metrics enabled\n */\nfunction updateHermesDiagMetricsCollection() {\n\tvar diagMetricsGr = new GlideRecord(\"hermes_app_services\");\n\tdiagMetricsGr.addQuery(\"service_id\", \"bfe548804320311041a0e8625ab8f242\");\n\tdiagMetricsGr.query();\n\twhile (diagMetricsGr.next()) {\n\t\tdiagMetricsGr.setValue(\"recurring_diagnostics\",true);\n\t\tdiagMetricsGr.setValue(\"collect_metadata\",true);\n\t\tdiagMetricsGr.update();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"21d45b054303121071e01daa5ab8f2f7","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/03d4abbf04312210559073c06a02f7f9","value":"03d4abbf04312210559073c06a02f7f9"},"sys_update_name":"sys_script_fix_21d45b054303121071e01daa5ab8f2f7","sys_updated_by":"admin","sys_created_on":"2025-01-10 21:53:25","name":"UpdateHermesDiagMetricCollectionFlags","sys_name":"UpdateHermesDiagMetricCollectionFlags","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"6","description":"Make cmdb_ci entry active for custom retirement status","sys_updated_on":"2023-05-04 20:55:58","sys_tags":"","record_for_rollback":"true","script":"if (!GlidePluginManager.isZboot() && GlidePluginManager.isActive('com.snc.cmdb.csdm.activation')) {\n    var grRetDef = new GlideRecord('cmdb_retirement_custom_definitions');\n    grRetDef.addQuery('table', 'cmdb_ci');\n    grRetDef.query();\n    if (grRetDef.getRowCount() == 1 && grRetDef.next()) {\n        gs.log(\"Making cmdb_ci entry active for definition of 'Retired'\");\n        grRetDef.setValue('active', true);\n        grRetDef.update();\n\n        var grBusRule = new GlideRecord('sys_script');\n        //Following sys_id is for Business Rule \"Cascade retire for custom definitions\"\n        var ruleSysId = '402709a0b72695102455c3fdde11a9d5';\n        if(grBusRule.get(ruleSysId)) {\n            grBusRule.setValue('active', true);\n            grBusRule.update();\n        }\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"22256eaeb7e21110af64055bee11a9c7","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"sys_update_name":"sys_script_fix_22256eaeb7e21110af64055bee11a9c7","sys_updated_by":"admin","sys_created_on":"2022-10-18 05:05:23","name":"CMDB Data Manager Use Custom Fields","sys_name":"CMDB Data Manager Use Custom Fields","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"This fix script set the \"active\" field in \"sys_hub_trigger_definition\" to \"true\", which will allow all trigger definition to be visible in flow designer UI.","sys_updated_on":"2019-03-08 19:03:02","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tvar triggerDefinition = new GlideRecord(\"sys_hub_trigger_definition\");\n\ttriggerDefinition.query();\n\twhile (triggerDefinition.next()) {\n\t\tif (!triggerDefinition.isValidField(\"active\") || triggerDefinition.getValue(\"active\") == \"true\")\n\t\t\tcontinue;\n\t\ttriggerDefinition.setValue(\"active\", \"true\");\n\t\ttriggerDefinition.update();\n\t}\n}());","sys_class_name":"sys_script_fix","sys_id":"222bc9f553003300eb7c0a1806dc34fc","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fd4b2f7304352210559073c06a02f77a","value":"fd4b2f7304352210559073c06a02f77a"},"sys_update_name":"sys_script_fix_222bc9f553003300eb7c0a1806dc34fc","sys_updated_by":"admin","sys_created_on":"2019-03-08 06:56:27","name":"Trigger definition should be active","sys_name":"Trigger definition should be active","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Updated the reference_qual on the sys_playbook_activity_renderer's activity definition's field to \"javascript:'active=true^activity_type=' + current.type;\"","sys_updated_on":"2024-07-13 03:02:42","sys_tags":"","record_for_rollback":"true","script":"var gr = GlideRecord(\"sys_dictionary\");\ngr.addQuery(\"name\", \"sys_playbook_activity_renderer\");\ngr.addQuery(\"element\", \"activity_definition\");\ngr.query();\n\nwhile(gr.next()) {\n\tgr.setValue(\"reference_qual\", \"javascript:'active=true^activity_type=' + current.type;\");\n\tgr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"22a55666439302106fb39c7385b8f2c0","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/055e23f304752210559073c06a02f753","value":"055e23f304752210559073c06a02f753"},"sys_update_name":"sys_script_fix_22a55666439302106fb39c7385b8f2c0","sys_updated_by":"admin","sys_created_on":"2024-07-12 23:23:54","name":"Activity Definition Field Ref Qual Fix","sys_name":"Activity Definition Field Ref Qual Fix","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":"read"},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Name of model category was not being translated, hence changing column type to translated text","sys_updated_on":"2024-09-24 06:09:48","sys_tags":"","record_for_rollback":"true","script":"(function() {\n    if (pm.isZboot())\n        return;\n\n    var dictGr = new GlideRecord('sys_dictionary');\n    dictGr.addQuery('name', 'cmdb_model_category');\n    dictGr.addQuery('element', 'name');\n    dictGr.addQuery('internal_type', 'string');\n    dictGr.query();\n\n    if (dictGr.next()) {\n        new TranslationUtils().convert(\"cmdb_model_category\", [\"name\"]);\n        gs.info('cmdb_model_category.name internal type changed to \"translated_text\"');\n    }\n}());","sys_class_name":"sys_script_fix","sys_id":"22ac6b8e9ff09210d46d8292ba0a1c26","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e325237304712210559073c06a02f7be","value":"e325237304712210559073c06a02f7be"},"sys_update_name":"sys_script_fix_22ac6b8e9ff09210d46d8292ba0a1c26","sys_updated_by":"admin","sys_created_on":"2024-09-24 06:09:48","name":"Make model category name translatable","sys_name":"Make model category name translatable","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"80","description":"This fix script applies from SD to Tokyo upgrade. \r\nThere is schema changes on sys_cs_auto_resolution_configuration table which will require backward compatibilty, so updating the newly introduced columns for any existing IAR configuration using this fix script","sys_updated_on":"2022-05-25 22:48:37","sys_tags":"","record_for_rollback":"true","script":"executeFix();\n\nfunction executeFix() {\n\tvar configGr = new GlideRecord(AutoResolutionConstants.CONFIG_TABLE_NAME);\n\tconfigGr.addNotNullQuery(AutoResolutionConstants.CONFIGURATION_TABLENAME_FIELD_NAME);\n\tconfigGr.query();\n\n\tvar shouldUpdate = false;\n\t\n\twhile (configGr.next()) {\n\n\t\tvar fieldNameValueArr = [];\n\n\t\tvar fieldNameValueMap = {};\n\t\tfieldNameValueMap[AutoResolutionConstants.IAR_INVOCATION_FIELD_NAME] = AutoResolutionConstants.IAR_INVOCATION_BUSINESS_RULE;\n\t\tfieldNameValueArr.push(fieldNameValueMap);\n\n\t\tfieldNameValueMap = {};\n\t\tfieldNameValueMap[AutoResolutionConstants.IAR_PREDICTION_TABLE_FIELD_NAME] = AutoResolutionConstants.PREDICTION_TABLE_NAME;\n\t\tfieldNameValueArr.push(fieldNameValueMap);\n\n\t\tfieldNameValueMap = {};\n\t\tfieldNameValueMap[\"use_sla\"] = false;\n\t\tfieldNameValueArr.push(fieldNameValueMap);\n\t\t\n\t\tshouldUpdate = AutoResolutionFixScriptUtil.updateFieldValue(fieldNameValueArr, configGr);\n\n\t\tif (shouldUpdate)\n\t\t\tconfigGr.update();\n\t\t\n\t\tAutoResolutionFixScriptUtil.addResponseChannelsWithActiveChatbot(configGr);\n\t}\n}\n","sys_class_name":"sys_script_fix","sys_id":"2323ed4177c10110f14a24f1cd5a9956","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca4f3f704b52210559073c06a02f789","value":"aca4f3f704b52210559073c06a02f789"},"sys_update_name":"sys_script_fix_2323ed4177c10110f14a24f1cd5a9956","sys_updated_by":"admin","sys_created_on":"2022-01-12 22:34:38","name":"Update columns on existing IAR config","sys_name":"Update columns on existing IAR config","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2022-10-21 07:14:45","sys_tags":"","record_for_rollback":"false","script":"if (!pm.isZboot()) {\n    GlideTextIndexEvent().indexUpdate('sys_cs_topic', null);\n}","sys_class_name":"sys_script_fix","sys_id":"23f0626397ea5510c4f335b71153af90","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/dec3fb3704b52210559073c06a02f782","value":"dec3fb3704b52210559073c06a02f782"},"sys_update_name":"sys_script_fix_23f0626397ea5510c4f335b71153af90","sys_updated_by":"admin","sys_created_on":"2022-10-21 07:14:45","name":"Re-index sys_cs_topic during app upgrade","sys_name":"Re-index sys_cs_topic during app upgrade","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"62","description":"This script performs cleanup of svc_ci_assoc and svc_rel_assoc in order to remove duplicate records (same ci_id/relation_id and service_id) before setting unique composite index","sys_updated_on":"2015-08-13 11:23:33","sys_tags":"","record_for_rollback":"false","script":"processAssocTable('svc_ci_assoc', 'ci_id');\nprocessAssocTable('svc_rel_assoc', 'relation_id');\n\nfunction processAssocTable(tableName, keyAttr) {\n\tif (isTableExist(tableName)) {\n\t\tif (!isCompositeIndexExist(tableName, keyAttr)) {\n\t\t\tvar agg = getDuplications(tableName, keyAttr);\n\t\t\tdeleteDuplications(agg, tableName);\n\t\t}else\n\t\t\tgs.log('Composite unique index already exists for ' + tableName);\n\t}\n}\n\n//This boolean function checks if given table exists in DB\nfunction isTableExist(tableName) {\n\tvar gr = new GlideRecord(tableName);\n\treturn gr.isValid();\n}\n\n//This boolean function checks if unique composite index\n//with field 'service_id' and given field (either 'ci_id' or 'relation_id')\n//exists in DB table\nfunction isCompositeIndexExist(tableName, keyAttr) {\n\tvar td = GlideTableDescriptor.get(tableName);\n\tvar allIndexDescrMap = td.getIndexDescriptors();\n\tvar res = 0;\n\t\n\tvar indexDescriptor;\n\tvar indexFields;\n\tvar indexField;\n\tvar attrCount;\n\tvar i;\n\t\n\tfor (var iter = allIndexDescrMap.values().iterator(); iter.hasNext();) {\n\t\tindexDescriptor = iter.next();\n\t\tindexFields = indexDescriptor.getFields();\n\n\t\tif (!indexDescriptor.isUnique() || indexFields.size() != 2)\n\t\t\tcontinue;\n\t\t\n\t\tattrCount = 0;\n\t\tfor (i = 0; i < indexFields.size(); i++) {\n\t\t\tindexField = indexFields.get(i).toLowerCase();\n\t\t\tif (indexField == 'service_id' || indexField == keyAttr)\n\t\t\t\tattrCount++;\n\t\t}\n\t\tif (attrCount == 2)\n\t\t\tres = 1;\n\t}\n\treturn res;\n}\n\n//This function obtains all duplication (i.e. same service_id and ci_id/relation_id)\n//that weill prevent from applying new unique index\n//It issues SQL query: select service_id, ci_id, count(*) from svc_ci_id group by (service_id, ci_id) having (count(*) > 1)\nfunction getDuplications(tableName, keyAttr) {\n\tvar agg = new GlideAggregate(tableName);\n\tagg.addAggregate('COUNT', null);\n\tagg.groupBy('service_id');\n\tagg.groupBy(keyAttr);\n\tagg.addHaving('COUNT', '>', '1');\n\tagg.query();\n    return agg;\n}\n\n//This function deletes all duplication (i.e. same service_id and ci_id/relation_id)\n//that weill prevent from applying new unique index\n//It leaves only one of each such group\nfunction deleteDuplications(agg, tableName) {\n\tvar toDelete = [];\n\tvar count = 0;\n\tvar total = 0;\n\t\n\tvar allFields;\n\tvar gr, grToProcess;\n\tvar limit;\n\tvar field;\n\tvar i,n;\n\n\twhile (agg.next()){\n\t\tallFields = agg.getFields();\n\t\tgr = new GlideRecord(tableName);\n\t\tlimit = parseInt(agg.getAggregate('COUNT', null))-1;\n\t\ttotal += limit;\n\t\tgr.setLimit(limit);\n\t\tfor (i = 0; i < allFields.size(); i++) {\n\t\t\tfield = allFields.get(i);\n\t\t\tif (!field.hasValue())\n\t\t\t\tcontinue;\n\t\t\tgr.addQuery(field.getName(), agg.getValue(field.getName()));\n\t\t}\n\t\ttoDelete[count++] = gr;\n\t}\n\n\tfor (n = 0; n < count; n++) {\n\t\tgrToProcess = toDelete[n];\n\t\tgrToProcess.query();\n\t\tgrToProcess.deleteMultiple();\n\t}\n\tif (total > 0)\n\t\tgs.log(total.toString() + ' records deleted from ' + tableName);\n}","sys_class_name":"sys_script_fix","sys_id":"24013a82f33102002e6bae4716612be2","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_24013a82f33102002e6bae4716612be2","sys_updated_by":"admin","sys_created_on":"2015-08-12 11:52:54","name":"Remove duplications from assoc. tables","sys_name":"Cleanup of svc tables","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Remove reference_types=cmn_location attribute from location column in sys_sg_location_item_stream.","sys_updated_on":"2021-03-19 16:36:19","sys_tags":"","record_for_rollback":"false","script":"function removeLocationAttribute() {\n\tvar locationColumn = new GlideRecord(\"sys_dictionary\");\n\tlocationColumn.setLimit(1);\n\tlocationColumn.addQuery(\"name\", \"sys_sg_location_item_stream\");\n\tlocationColumn.addQuery(\"element\", \"location\");\n\tlocationColumn.addQuery(\"internal_type\", \"field_name\");\n\tlocationColumn.addQuery(\"attributes\", \"allow_references=true,reference_types=cmn_location\");\n\tlocationColumn.query();\n\t\n\tif(!locationColumn.next())\n\t\treturn;\n\t\n\tlocationColumn.setValue(\"attributes\", \"allow_references=true\");\n\tlocationColumn.update();\n}\n\nremoveLocationAttribute();","sys_class_name":"sys_script_fix","sys_id":"240b4cb45b0320103738af151581c75a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6af46bff04312210559073c06a02f7e8","value":"6af46bff04312210559073c06a02f7e8"},"sys_update_name":"sys_script_fix_240b4cb45b0320103738af151581c75a","sys_updated_by":"admin","sys_created_on":"2021-03-19 15:19:44","name":"Remove reference type for location item","sys_name":"Remove reference type for location item","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"true","sys_mod_count":"0","description":"Upgrade existing Slack team to Slack enterprise.","sys_updated_on":"2018-09-24 21:44:37","sys_tags":"","record_for_rollback":"false","script":"new sn_cs_adapter.SlackEnterpriseUpgrader().upgrade();","sys_class_name":"sys_script_fix","sys_id":"2439a6f00b3023000e83c71437673a3c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/14c37b3704b52210559073c06a02f782","value":"14c37b3704b52210559073c06a02f782"},"sys_update_name":"sys_script_fix_2439a6f00b3023000e83c71437673a3c","sys_updated_by":"admin","sys_created_on":"2018-09-24 21:44:37","name":"Slack Enterprise Upgrade","sys_name":"Slack Enterprise Upgrade","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"After upgrade finishes, this fix script automatically updates codesigning jobs that were skipped during upgrade.","sys_updated_on":"2023-11-08 21:19:27","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\t\tif (pm.isZboot())\n\t\t\treturn;\n\t\tvar jobScript = \"new CodeSigningUpgradeResolver().updateRecords();\";\n\t\tnew GlideRunScriptJob().scheduleScriptOnThisNode(jobScript, \"Resolve Skipped Turn on Code Signing Property Record\", 40, new GlideDateTime());\n\t\tgs.info(\"Submitted job to resolve skipped codesigning records\");\n\t\t})();","sys_class_name":"sys_script_fix","sys_id":"247bb147285a3910f877ccff2660a5a6","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ffcd2b3304752210559073c06a02f779","value":"ffcd2b3304752210559073c06a02f779"},"sys_update_name":"sys_script_fix_247bb147285a3910f877ccff2660a5a6","sys_updated_by":"maint","sys_created_on":"2023-11-08 21:19:27","name":"Resolve skipped codesigning records","sys_name":"Resolve skipped codesigning records","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Remove all dashboards permissions that contain no dashboard reference.","sys_updated_on":"2017-07-31 10:00:18","sys_tags":"","record_for_rollback":"false","script":"/* Delete dashboard permissions records that have no referenced dashboard */\nvar grDashboardPermissions = new GlideRecord(\"pa_dashboards_permissions\");\ngrDashboardPermissions.addNullQuery(\"dashboard\");\ngrDashboardPermissions.query();\nwhile(grDashboardPermissions.next()) {\n  grDashboardPermissions.deleteRecord();\n}","sys_class_name":"sys_script_fix","sys_id":"24ec01adb71003003b67c50eee11a97d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/411bab3304352210559073c06a02f767","value":"411bab3304352210559073c06a02f767"},"sys_update_name":"sys_script_fix_24ec01adb71003003b67c50eee11a97d","sys_updated_by":"admin","sys_created_on":"2017-07-31 09:59:05","name":"Clean Dashboards Permissions Table","sys_name":"Clean Dashboards Permissions Table","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"true","sys_mod_count":"0","description":"Adding default topic change prompt message","sys_updated_on":"2021-03-15 15:07:53","sys_tags":"","record_for_rollback":"false","script":"setPromptMessage();\n\nfunction setPromptMessage() {\n    var gr = new GlideRecord('sys_cs_general_settings');\n    gr.addQuery('sys_domain', 'global');\n    gr.query();\n    while (gr.next()) {\n        gr.setValue('auto_select_prompt_message', \"You'd like help with {Topic name}. Is that right?\");\n        gr.update();\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"2503a797c3722010d81b6e221f40dd57","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9ec3fb3704b52210559073c06a02f784","value":"9ec3fb3704b52210559073c06a02f784"},"sys_update_name":"sys_script_fix_2503a797c3722010d81b6e221f40dd57","sys_updated_by":"admin","sys_created_on":"2021-03-15 15:07:53","name":"Swith Topic Prompt Message","sys_name":"Switch Topic Prompt Message","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"This fix script will update the 'Portal' field for 'Get support' records","sys_updated_on":"2024-01-22 11:24:31","sys_tags":"","record_for_rollback":"true","script":"var runManually = false;  //update this to true before manually executing the fix script\n\tvar only_ootb_records = true;  //set this to false if all the records (except the new ones shipped as part of EC Pro kiosk) in the 'Get support' table need the update\n\tvar portal = '70cd9f3b734b13001fdae9c54cf6a72f';  //sys_id of the Portal to which records need to be mapped. Default is the sys_id of 'Employee center' Portal\n\tvar ec_ootbRecords = ['7aa65c8843bcfd107d2f52cba5b8f2c6', '66b69c8843bcfd107d2f52cba5b8f225', 'fa0f6ffb43e4fd107d2f52cba5b8f2ec', '3e86ecc443f431507d2f52cba5b8f283', '4a96e00843f431507d2f52cba5b8f2e6'];\n\tvar eck_ootbRecords = ['7002ee8e34d00210f877fa4fa5a8cb0b','3d9e7ac234940210f877fa4fa5a8cbcd','925eb6c234940210f877fa4fa5a8cb59'];   //OOB records shipped as part of EC Pro kiosk\n\n\tif(runManually)\n\t\tupdateRecords(portal, eck_ootbRecords, ec_ootbRecords, only_ootb_records);\n\n\tfunction updateRecords(portal, eck_ootbRecords, ec_ootbRecords, only_ootb_records) {\n\t\tgs.info(gs.getMessage('Starting execution of Fix script: Update portal for Get support records'));\n\t\tvar ootbGetSupportGr = new GlideRecord('sn_ex_sp_get_support');\n\n\t\tif(only_ootb_records)\n\t\t\tootbGetSupportGr.addQuery('sys_id', ec_ootbRecords);\n\t\telse\n\t\t\tootbGetSupportGr.addQuery('sys_id', 'NOT IN', eck_ootbRecords);\n\n\t\tootbGetSupportGr.query();\n\t\tvar record_count = 0;\n\t\twhile(ootbGetSupportGr.next()) {\n\t\t\tvar curr_portal = ootbGetSupportGr.portal;\n\t\t\tif(curr_portal == '')\n\t\t\t\tootbGetSupportGr.portal = portal;\n\t\t\telse if(curr_portal.indexOf(portal) == -1)\n\t\t\t\tootbGetSupportGr.portal = curr_portal + ',' + portal;\n\t\t\telse\n\t\t\t\tcontinue;\n\t\t\tootbGetSupportGr.update();\n\t\t\t++record_count;\n\t\t}\n\t\tgs.info(gs.getMessage('Fix script: Update portal for Get support records : Number of records updated : {0}', record_count));\n\t\tgs.info(gs.getMessage('Ending execution of Fix script: Update portal for Get support records'));\n\t}","sys_class_name":"sys_script_fix","sys_id":"256ebdc371f33110f877b7bd9058a821","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4249e63a28d54d61bb6fbf61fd86cccb","value":"4249e63a28d54d61bb6fbf61fd86cccb"},"sys_update_name":"sys_script_fix_256ebdc371f33110f877b7bd9058a821","sys_updated_by":"admin","sys_created_on":"2024-01-22 11:24:31","name":"Update portal for Get support records","sys_name":"Update portal for Get support records","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/4249e63a28d54d61bb6fbf61fd86cccb","value":"4249e63a28d54d61bb6fbf61fd86cccb"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"13","description":"Update ui_parameters reference_qual of grouped input dictionary to use a script include to dynamically change it so that only QR/Barcodes can be added.","sys_updated_on":"2019-11-01 21:55:00","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\t\n\tvar sysDictionaryGr = new GlideRecord(\"sys_dictionary\");\n\tsysDictionaryGr.addQuery(\"name\", \"sys_sg_grouped_input\");\n\tsysDictionaryGr.addQuery(\"element\", \"ui_parameters\");\n\tsysDictionaryGr.query();\n\t\n\tif(sysDictionaryGr.next()) {\n\t\tsysDictionaryGr.setValue(\"reference_qual\", \"javascript:new SgReferenceQualifiers().getGroupedInputReferenceQualifier();\");\n\t\tsysDictionaryGr.update();\n\t}\n})();\n        ","sys_class_name":"sys_script_fix","sys_id":"257eb12af7300010f6d1aabe048dffbe","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/75d42bbf04312210559073c06a02f78d","value":"75d42bbf04312210559073c06a02f78d"},"sys_update_name":"sys_script_fix_257eb12af7300010f6d1aabe048dffbe","sys_updated_by":"admin","sys_created_on":"2019-11-01 21:27:02","name":"Limit UI Params in Grouped Input","sys_name":"Limit UI Params in Grouped Input","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Reloads semaphores after installation of com.snc.integration.trino that adds a new TRINO_REST semaphore.","sys_updated_on":"2025-06-06 17:38:59","sys_tags":"","record_for_rollback":"false","script":"if (!pm.isZboot()) {\n\tGlideSysSemaphore.get().reload();\n\tGlideClusterMessage.post(\"script\", \"GlideSysSemaphore.get().reload();\");\n}","sys_class_name":"sys_script_fix","sys_id":"259cdfd43742221064ca001964924b96","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c7a5dc03c3222210ed4bd50d050131a7","value":"c7a5dc03c3222210ed4bd50d050131a7"},"sys_update_name":"sys_script_fix_259cdfd43742221064ca001964924b96","sys_updated_by":"admin","sys_created_on":"2025-06-06 17:38:59","name":"Reload semaphores for TRINO_REST","sys_name":"Reload semaphores for TRINO_REST","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"DEF0220828: Dashboard Properties: strings are not picked up by the translation string extraction tool","sys_updated_on":"2021-11-26 21:15:10","sys_tags":"","record_for_rollback":"true","script":"//property 1\nvar newProp1 = new GlideRecord('sys_properties');\n\n//property 2\nvar newProp2 = new GlideRecord('sys_properties');\n\n//property 3\nvar newProp3 = new GlideRecord('sys_properties');\n\n//property 4\nvar newProp4 = new GlideRecord('sys_properties');\n\n//run only if all 4 newly created properties are available \nif (newProp1.get('19a6f2ec6ff3701094b40168e25b3631') && newProp2.get('f789fe206f37701094b40168e25b3695') && newProp3.get('ece932606f37701094b40168e25b3631') && newProp4.get('b21a36606f37701094b40168e25b3622')) {\n\n    //want following code to only run on upgrade \n    if (!pm.isZboot()) {\n        var previousRecords = new GlideRecord('sys_properties');\n        //getting all 4 records existing records to update \n        gs.info(\"inside upgrade\");\n        previousRecords.addEncodedQuery('name=glide.canvas.grid.widget_performance_threshold^ORname=glide.canvas.grid.widget_cache_ttl^ORname=glide.canvas.grid.widget_render_concurrent_max^ORname=glide.cms.enable.responsive_grid_layout');\n        previousRecords.query();\n\n        while (previousRecords.next()) {\n\n            gs.info(\"previous record is \" + previousRecords.name);\n            //changing the value of all 4 newly created records(with similar name just added sufix \"_fix\") to  the value of old records\n\n            var record = previousRecords.getValue('name') + '_fix';\n            if (record == newProp1.name) {\n                newProp1.value = previousRecords.value;\n                newProp1.update();\n            } else if (record == newProp2.name) {\n                newProp2.value = previousRecords.value;\n                newProp2.update();\n            } else if (record == newProp3.name) {\n                newProp3.value = previousRecords.value;\n                newProp3.update();\n            } else if (record == newProp4.name) {\n                newProp4.value = previousRecords.value;\n                newProp4.update();\n            }\n\n        }\n\n        // point the categories of the old records to the new records by changing its property attribute\n        var categoryTableProp1 = new GlideRecord('sys_properties_category_m2m');\n        if (categoryTableProp1.get('0cb35892b310030037c482ff86a8dca4')) {\n            categoryTableProp1.property = newProp1.sys_id;\n            categoryTableProp1.update();\n        }\n\n        //repeat the steps for all 4 \n        //property 2\n        var categoryTableProp2 = new GlideRecord('sys_properties_category_m2m');\n        if (categoryTableProp2.get('04b35892b310030037c482ff86a8dca6')) {\n            categoryTableProp2.property = newProp2.sys_id;\n            categoryTableProp2.update();\n        }\n\n        //property 3\n        var categoryTableProp3 = new GlideRecord('sys_properties_category_m2m');\n        if (categoryTableProp3.get('88b3d492b310030037c482ff86a8dca4')) {\n            categoryTableProp3.property = newProp3.sys_id;\n            categoryTableProp3.update();\n        }\n\n        //property 4\n        var categoryTableProp4 = new GlideRecord('sys_properties_category_m2m');\n        if (categoryTableProp4.get('0cb35892b310030037c482ff86a8dca7')) {\n            categoryTableProp4.property = newProp4.sys_id;\n            categoryTableProp4.update();\n        }\n\n        //delete the all old 4 records \n        previousRecords.deleteMultiple();\n        gs.info(\"records has been deleted\");\n    }\n    //update the name of new records to the old records \n    newProp1.name = 'glide.canvas.grid.widget_performance_threshold';\n    newProp1.update();\n    newProp2.name = 'glide.canvas.grid.widget_render_concurrent_max';\n    newProp2.update();\n    newProp3.name = 'glide.cms.enable.responsive_grid_layout';\n    newProp3.update();\n    newProp4.name = 'glide.canvas.grid.widget_cache_ttl';\n    newProp4.update();\n}","sys_class_name":"sys_script_fix","sys_id":"25cd03b96f00011043d30168e25b3661","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/411bab3304352210559073c06a02f767","value":"411bab3304352210559073c06a02f767"},"sys_update_name":"sys_script_fix_25cd03b96f00011043d30168e25b3661","sys_updated_by":"admin","sys_created_on":"2021-11-26 21:15:10","name":"Fix dashboard properties txt translation","sys_name":"Fix dashboard properties txt translation","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2021-03-30 05:08:10","sys_tags":"","record_for_rollback":"false","script":"var choiceGR = new GlideRecord('sys_choice');\nchoiceGR.addQuery('name', 'sys_sg_native_client');\nchoiceGR.query();\nwhile (choiceGR.next())\nchoiceGR.deleteRecord();\n\nvar gr = new GlideRecord('sys_dictionary');\ngr.addQuery('name', 'sys_sg_native_client');\ngr.addQuery('element','type');\ngr.query();\nif (gr.next()) {\ngr.setValue('default_value','');\ngr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"260aa2805b1320103ab5216fa881c76f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fdd42bbf04312210559073c06a02f7a6","value":"fdd42bbf04312210559073c06a02f7a6"},"sys_update_name":"sys_script_fix_260aa2805b1320103ab5216fa881c76f","sys_updated_by":"admin","sys_created_on":"2021-03-30 05:08:10","name":"Remove mobile native client choice types","sys_name":"Remove mobile native client choice types and default value","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"4","description":"Schedule a job which will create property \"com.glide.engine.event_handler_system_id\", This property control where Flow designer job should get created. Default is ALL_NODES, creating this property will change those to PRIMARY NODES to avoid upgrade issues.","sys_updated_on":"2022-09-19 20:30:34","sys_tags":"","record_for_rollback":"true","script":"\nvar map = { 'name': 'com.glide.engine.event_handler_system_id',\n'value': 'PRIMARY NODES',\n'sys_policy': 'read',\n'ignore_cache': true,\n'description': 'This property controls flow designer parent job System ID. The value of this property should be PRIMARY NODES. Please contact Service Now before deleting or changing this property.'};\nif(GlidePluginManager.isZboot()){\n\tvar property = new GlideRecord('sys_properties');\n\n        for (var entry in map) {\n         property.setValue(entry,map[entry]);\n        }\n\tproperty.insert();\n} else {\nvar script = \"var property = new GlideRecord('sys_properties'); \\n\";\n\n\n        for (var entry in map) {\n         script = script +  \"property.setValue('\"+entry+\"', '\"+map[entry]+\"'); \\n\";\n        }\n\nscript = script + \"property.insert(); \\n\";\n\nvar when = new GlideDateTime();\n when.addSeconds(60 * 60); // An hour\nGlideRunScriptJob.scheduleScript(script,'FlowDesigner: Change Job SystemId', when);\n}\n","sys_class_name":"sys_script_fix","sys_id":"26a984614f021110b599a2e552ce0bb6","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/063be77304352210559073c06a02f7e4","value":"063be77304352210559073c06a02f7e4"},"sys_update_name":"sys_script_fix_26a984614f021110b599a2e552ce0bb6","sys_updated_by":"sunil.kumar@snc","sys_created_on":"2022-09-19 18:53:00","name":"Flow designer : Change System Id","sys_name":"Flow designer : Change System Id","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"sunil.kumar@snc","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"4","description":"Add cascade delete to Relevant Doc Detail table: cxs_rel_doc_detail","sys_updated_on":"2023-04-18 14:12:50","sys_tags":"","record_for_rollback":"true","script":"(function() {\n\tvar gr = new GlideRecord('sys_dictionary');\n\tgr.addQuery('name', 'cxs_rel_doc_detail');\n\tgr.addQuery('element', 'cxs_relevant_doc');\n\tgr.addNullQuery('reference_cascade_rule');\n\tgr.setWorkflow(false);\n\tgr.query();\n\tif (gr.next()) {\n\t\tgr.setValue('reference_cascade_rule', 'delete');\n\t\tgr.setWorkflow(false);\n\t\tgr.update();\n\t}\n    return;\n})();","sys_class_name":"sys_script_fix","sys_id":"276bed19b7122110d3ebf2b1de11a96a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5209e3b704f12210559073c06a02f734","value":"5209e3b704f12210559073c06a02f734"},"sys_update_name":"sys_script_fix_276bed19b7122110d3ebf2b1de11a96a","sys_updated_by":"admin","sys_created_on":"2023-04-18 13:30:07","name":"Add cascade delete to Rel Doc Detail","sys_name":"Add cascade delete to Rel Doc Detail","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Populate icon names for CI types to be used by CMDB Unified Node components","sys_updated_on":"2022-12-15 19:03:54","sys_tags":"","record_for_rollback":"true","script":"(function() {\n  if (pm.isZboot())\n        return;\n\n    //check if the column exists\n\tvar gr = new GlideRecord('sys_dictionary');\n\tgr.addQuery('name', 'ngbsm_ci_type_icon');\n\tgr.addQuery('element', 'icon_name');\n\tgr.query();\n\tif(!gr.next()){\n\t\treturn;\n\t}\t\t\n//mapping for ngbsm_ci_type_icon record sys_id -> new icon name \nvar map = {\n '0b96fe519fa20200ee6219eb552e7048':'tree-workflow-outline',\n '0b96fe519fa20200ee6219eb552e7049':'serverbox-outline',\n '0f96fe519fa20200ee6219eb552e7048':'globe-outline',\n '0f96fe519fa20200ee6219eb552e704a':'serverbox-outline',\n '15d36892c32122003263bea192d3ae0e':'inventory-outline',\n '1987b60b53103200859ca638cec58798':'globe-outline',\n '229c80370b703200639be0d425673a9f':'tree-workflow-outline',\n '26183a0b53103200859ca638cec5872d':'database-outline',\n '30742dd69fb00200eb3919eb552e708b':'globe-outline',\n '30742dd69fb00200eb3919eb552e708c':'database-outline',\n '30742dd69fb00200eb3919eb552e7091':'database-outline',\n '30742dd69fb00200eb3919eb552e7092':'tree-workflow-outline',\n '3296fe519fa20200ee6219eb552e7044':'monitor-outline',\n '34742dd69fb00200eb3919eb552e708e':'folder-outline',\n '34742dd69fb00200eb3919eb552e7092':'save-outline',\n '38742dd69fb00200eb3919eb552e708b':'database-outline',\n '38742dd69fb00200eb3919eb552e708e':'tree-workflow-outline',\n '38742dd69fb00200eb3919eb552e7090':'globe-outline',\n '38742dd69fb00200eb3919eb552e7092':'serverbox-outline',\n '3a96fe519fa20200ee6219eb552e7044':'tree-workflow-outline',\n '3a96fe519fa20200ee6219eb552e7045':'folder-outline',\n '3c342c92c32122003263bea192d3aed0':'image-outline',\n '3c742dd69fb00200eb3919eb552e708b':'database-outline',\n '3e96fe519fa20200ee6219eb552e7043':'serverbox-outline',\n '3e96fe519fa20200ee6219eb552e7045':'serverbox-outline',\n '3e96fe519fa20200ee6219eb552e7046':'serverbox-outline',\n '4b96fe519fa20200ee6219eb552e7048':'tree-workflow-outline',\n '4b96fe519fa20200ee6219eb552e7049':'tree-workflow-outline',\n '4b96fe519fa20200ee6219eb552e704a':'tree-workflow-outline',\n '4b96fe519fa20200ee6219eb552e704b':'folder-outline',\n '4f96fe519fa20200ee6219eb552e7049':'serverbox-outline',\n '63ec0cf70b703200639be0d425673a79':'database-outline',\n '70742dd69fb00200eb3919eb552e708c':'tree-workflow-outline',\n '70742dd69fb00200eb3919eb552e708e':'headset-outline',\n '70742dd69fb00200eb3919eb552e7093':'serverbox-outline',\n '7296fe519fa20200ee6219eb552e7045':'database-outline',\n '74742dd69fb00200eb3919eb552e708b':'database-outline',\n '74742dd69fb00200eb3919eb552e708d':'folder-outline',\n '74742dd69fb00200eb3919eb552e708e':'folder-outline',\n '74742dd69fb00200eb3919eb552e7090':'globe-outline',\n '7696fe519fa20200ee6219eb552e7046':'tree-workflow-outline',\n '78742dd69fb00200eb3919eb552e7090':'globe-outline',\n '78742dd69fb00200eb3919eb552e7092':'phone-user-outline',\n '7c742dd69fb00200eb3919eb552e708b':'database-outline',\n '7e96fe519fa20200ee6219eb552e7043':'tree-workflow-outline',\n '8396fe519fa20200ee6219eb552e7049':'database-outline',\n '8796fe519fa20200ee6219eb552e7048':'folder-outline',\n '8796fe519fa20200ee6219eb552e7049':'database-outline',\n '8b96fe519fa20200ee6219eb552e7048':'tree-workflow-outline',\n '8b96fe519fa20200ee6219eb552e704a':'cd-outline',\n '8b96fe519fa20200ee6219eb552e704b':'serverbox-outline',\n '8f96fe519fa20200ee6219eb552e7047':'serverbox-outline',\n '8f96fe519fa20200ee6219eb552e704a':'cd-outline',\n '8f96fe519fa20200ee6219eb552e704c':'plug-outline',\n '8f96fe519fa20200ee6219eb552e704e':'globe-outline',\n 'b0742dd69fb00200eb3919eb552e708b':'database-outline',\n 'b0742dd69fb00200eb3919eb552e7091':'comment-outline',\n 'b296fe519fa20200ee6219eb552e7045':'database-outline',\n 'b4742dd69fb00200eb3919eb552e7091':'database-outline',\n 'b4742dd69fb00200eb3919eb552e7092':'plug-outline',\n 'b696fe519fa20200ee6219eb552e7044':'tree-workflow-outline',\n 'b696fe519fa20200ee6219eb552e7046':'tree-workflow-outline',\n 'b8742dd69fb00200eb3919eb552e708b':'database-outline',\n 'b8742dd69fb00200eb3919eb552e7091':'dashboard-dial-outline',\n 'b8742dd69fb00200eb3919eb552e7092':'cd-outline',\n 'ba96fe519fa20200ee6219eb552e7043':'tree-workflow-outline',\n 'be96fe519fa20200ee6219eb552e7046':'serverbox-outline',\n 'c796fe519fa20200ee6219eb552e7048':'tree-workflow-outline',\n 'c796fe519fa20200ee6219eb552e7049':'folder-outline',\n 'c796fe519fa20200ee6219eb552e704c':'database-outline',\n 'c854ac92c32122003263bea192d3ae17':'image-outline',\n 'cb96fe519fa20200ee6219eb552e7048':'tree-workflow-outline',\n 'cb96fe519fa20200ee6219eb552e7049':'folder-outline',\n 'cf96fe519fa20200ee6219eb552e704b':'cd-outline',\n 'cf96fe519fa20200ee6219eb552e704e':'globe-outline',\n 'f0742dd69fb00200eb3919eb552e7088':'tree-workflow-outline',\n 'f0742dd69fb00200eb3919eb552e708b':'database-outline',\n 'f0742dd69fb00200eb3919eb552e7091':'monitor-outline',\n 'f296fe519fa20200ee6219eb552e7045':'database-outline',\n 'f4742dd69fb00200eb3919eb552e7089':'globe-outline',\n 'f4742dd69fb00200eb3919eb552e708b':'database-outline',\n 'f4742dd69fb00200eb3919eb552e708f':'headset-outline',\n 'f4742dd69fb00200eb3919eb552e7091':'serverbox-outline',\n 'f4742dd69fb00200eb3919eb552e7092':'printer-outline',\n 'f696fe519fa20200ee6219eb552e7044':'tree-workflow-outline',\n 'f696fe519fa20200ee6219eb552e7046':'tree-workflow-outline',\n 'f8742dd69fb00200eb3919eb552e708b':'database-outline',\n 'f8742dd69fb00200eb3919eb552e708c':'headset-outline',\n 'f8742dd69fb00200eb3919eb552e7090':'harddrive-outline',\n 'f8742dd69fb00200eb3919eb552e7091':'lightning-outline',\n 'f8742dd69fb00200eb3919eb552e7092':'serverbox-outline',\n 'f96e13049f920200ee6219eb552e7007':'database-outline',\n 'fa96fe519fa20200ee6219eb552e7043':'tree-workflow-outline',\n 'fa96fe519fa20200ee6219eb552e7045':'globe-outline',\n 'fa96fe519fa20200ee6219eb552e7046':'folder-outline',\n 'fc07357193100200e4e4705bb47ffb72':'database-outline',\n 'fc07357193100200e4e4705bb47ffb77':'database-outline',\n 'fc742dd69fb00200eb3919eb552e7087':'tree-workflow-outline',\n 'fc742dd69fb00200eb3919eb552e7090':'sync-outline',\n 'fc742dd69fb00200eb3919eb552e7092':'globe-outline',\n 'fd64ac92c32122003263bea192d3aedf':'tag-outline',\n 'fe96fe519fa20200ee6219eb552e7045':'serverbox-outline'\n };\n\nfor (var key in map) {\n    var gr = new GlideRecord('ngbsm_ci_type_icon');\n    gr.addQuery('sys_id', key);\n    gr.query();\n    if(gr.next()){\n        gr.setValue('icon_name', map[key]);\n        gr.update();\n    }\n}\n})()","sys_class_name":"sys_script_fix","sys_id":"27b8ccd553f351108cabddeeff7b12ff","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b9d7abbf04b12210559073c06a02f7c9","value":"b9d7abbf04b12210559073c06a02f7c9"},"sys_update_name":"sys_script_fix_27b8ccd553f351108cabddeeff7b12ff","sys_updated_by":"admin","sys_created_on":"2022-12-14 23:57:14","name":"Populate icon names for CI types","sys_name":"Populate icon names for CI types","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Change transfer_message and no_agent_available_message columns from string to translated_text","sys_updated_on":"2020-02-01 16:33:59","sys_tags":"","record_for_rollback":"false","script":"updateColumnType(\"transfer_message\");\nupdateColumnType(\"no_agent_available_message\");\n\nfunction updateColumnType(element) {\n    var gr = new GlideRecord(\"sys_dictionary\");\n    gr.addQuery(\"name\", \"sys_cs_live_agent_setup\");\n    gr.addQuery(\"internal_type\", \"string\");\n    gr.addQuery(\"element\", element);\n    gr.setWorkflow(false);\n    gr.query();\n    if(gr.next()) {\n        gr.setValue(\"internal_type\", \"translated_text\");\n        gr.update();\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"282ea240533200101fdbddeeff7b12d1","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_282ea240533200101fdbddeeff7b12d1","sys_updated_by":"admin","sys_created_on":"2020-02-01 16:33:59","name":"Modify sys_cs_live_agent_setup columns","sys_name":"Modify sys_cs_live_agent_setup columns","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"5","description":"Update labels for sys_upgrade_history_log change type fields","sys_updated_on":"2020-04-06 13:34:57","sys_tags":"","record_for_rollback":"false","script":"runFixLabelsAndDefault();\n\nfunction runFixLabelsAndDefault() {\n    var labels = {\n        \"no_code\": \"Code unchanged\",\n        \"code\": \"Code changed\"\n    };\n\n    for (var value in labels)\n        updateChoiceLabel('change_type', 'sys_upgrade_history_log', 'en', value, labels[value]);\n\n    updateDefault('change_type', 'sys_upgrade_history_log', 'not_evaluated');\n}\n\nfunction updateChoiceLabel(element, table, language, value, newLabel) {\n    var choiceEntry = new GlideRecord('sys_choice');\n    choiceEntry.addQuery('name', table);\n    choiceEntry.addQuery('element', element);\n    choiceEntry.addQuery('value', value);\n    choiceEntry.addQuery('language', language);\n    choiceEntry.setLimit(1);\n    choiceEntry.query();\n\n    if (choiceEntry.next()) {\n        choiceEntry.setValue('label', newLabel);\n        choiceEntry.update();\n        gs.info(\"Updated \" + table + \" \" + element + \" label to \" + newLabel);\n    } else\n        gs.info(\"Did not find the choice record for \" + element + \" in \" + table);\n}\n\nfunction updateDefault(element, table, newDefault) {\n    var dictEntry = new GlideRecord('sys_dictionary');\n    dictEntry.addQuery('name', table);\n    dictEntry.addQuery('element', element);\n    dictEntry.setLimit(1);\n    dictEntry.query();\n\n    if (dictEntry.next()) {\n        dictEntry.setValue('default_value', newDefault);\n        dictEntry.update();\n        gs.info(\"Updated \" + table + \" \" + element + \" default to \" + newDefault);\n    } else\n        gs.info(\"Did not find the dictionary record for \" + element + \" in \" + table);\n}","sys_class_name":"sys_script_fix","sys_id":"283660810f441010e2c9c6b1df767e6c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4f54a7bb04312210559073c06a02f7de","value":"4f54a7bb04312210559073c06a02f7de"},"sys_update_name":"sys_script_fix_283660810f441010e2c9c6b1df767e6c","sys_updated_by":"admin","sys_created_on":"2020-04-06 12:41:44","name":"Fix History Log Change Type Labels","sys_name":"Fix History Log Change Type Labels","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Remove incorrectly migrated User Consent Decisions from the previous version.","sys_updated_on":"2025-03-03 09:58:47","sys_tags":"","record_for_rollback":"true","script":"\t\tgs.info(\"Started deleting incorrect migrated User Consent Decisions from the previous release.\");\n\t\tvar sourceConsentGR = new GlideRecord('m2m_user_consent_info');\n\t\tsourceConsentGR.addQuery('user_consented_to_tracking_usage!=N^user_consented_to_tracking_usage!=Y');\n\t\tsourceConsentGR.setWorkflow(false);\n\t\tsourceConsentGR.query();\n\n\t\tvar usernameList = [];\n\t\twhile (sourceConsentGR.next()) {\n\t\t    var currUserName = sourceConsentGR.username.toString();\n\t\t    usernameList.push(currUserName);\n\t\t}\n\n\t\t//Delete only migrated ucm data, whoes decesion are  not modified\n\t\tvar consentDecisionGR = new GlideRecord('sys_analytics_user_consent_decision');\n\t\tconsentDecisionGR.addQuery('sys_created_on', 'SAMEAS', 'sys_updated_on');\n\t\tconsentDecisionGR.addQuery('user.user_name', 'IN', usernameList);\n\t\tconsentDecisionGR.addQuery('user.active=true^decision=false^sys_updated_by=system^migrated_consent_date!=NULL');\n\t\tconsentDecisionGR.setWorkflow(false);\n\t\tconsentDecisionGR.query();\n\t\tvar deleteCount = consentDecisionGR.getRowCount();\n\t\tconsentDecisionGR.deleteMultiple();\n\t\tgs.info('Complete the deletion of ' + deleteCount + ' incorrectly migrated User Consent Decisions from the previous release.');","sys_class_name":"sys_script_fix","sys_id":"28e1e471ffc02210c592ffffffffff1b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/07d4abbf04312210559073c06a02f7f6","value":"07d4abbf04312210559073c06a02f7f6"},"sys_update_name":"sys_script_fix_28e1e471ffc02210c592ffffffffff1b","sys_updated_by":"admin","sys_created_on":"2025-03-03 09:47:24","name":"Fix the in migrate User Consent Decision","sys_name":"Fix the in migrate User Consent Decision","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"true","sys_mod_count":"3","description":"This script is to update search configurations on Now Mobile to get search results from content associated to taxonomy.","sys_updated_on":"2021-07-30 11:08:46","sys_tags":"","record_for_rollback":"true","script":"/**\n * This script makes 5 changes.\n * 1. Removes 'Category is not empty' condition from AIS search source filter for catalogs\n * 2. Replaces the mapping betwen 'Services' Zing search source and 'NowMobile App Search Configurations' with a mapping between 'Services' Zing search source present in Now Mobile scope and 'NowMobile App Search Configurations'.\n * 3. Replaces the mapping betwen 'Articles' Zing search source and 'NowMobile App Search Configurations' with a mapping between 'Articles' Zing search source present in Now Mobile scope and 'NowMobile App Search Configurations'.\n * 4. Replace the 'category' field from card element attribute for Search Result Service Catalog with 'taxonomy_topic'.\n * 5. Replace the 'kb_category' field from card element attribute for Knowledge AIS search result with 'taxonomy_topic'.\n **/\n\nvar runManually = false; // Update this to true to run manually (forced updation even on customised records)\n\nvar EMPLOYEE_TAXONOMY = '1f5d5a40c3203010069aec4b7d40dd93';\nvar MESP = '26f2fffb77322300454792718a1061e5';\nvar M2M_NOWMOBILE_SEARCHCONFIG_SERVICES = '7351749673032300c342d5fdbdf6a750';\nvar ZING_SEARCH_SOURCE_TAXONOMY_SERVICES = '336ab1c5c7313010fedf0bcbe2c2601f';\nvar M2M_NOWMOBILE_SEARCHCONFIG_ARTICLES = '0a51749673032300c342d5fdbdf6a75a';\nvar ZING_SEARCH_SOURCE_TAXONOMY_ARTICLES = '2b6cc681c7713010fedf0bcbe2c2606c';\nvar CATALOG_CARD_ELEMENT_ATTRIBUTE = 'c46814af53231010f1c8ddeeff7b1267';\nvar KNOWLEDGE_CARD_ELEMENT_ATTRIBUTE = 'd4488f0474b71010f877de4112351625';\n\nvar taxonomySysPropRecord = new GlideRecord('sys_properties');\ntaxonomySysPropRecord.addQuery('name','sn_me.taxonomy_enabled');\ntaxonomySysPropRecord.setLimit(1);\ntaxonomySysPropRecord.query();\nvar isTaxonomyEnabled = (taxonomySysPropRecord.next() && taxonomySysPropRecord.getValue('value') === 'true') ? true : false;\n\nif (isTaxonomyEnabled) {\n    gs.info(gs.getMessage(\"Enabling taxonomy portal and search configurations for mobile\"));\n    new sn_scmobile.MobileCatalogUtil().removeCategoryFilterCondition(runManually);\n    this.updateCatlaogZingSearch();\n    this.updateKnowledgeZingSearch();\n    this.updateCatalogCardElementAttribute();\n    this.updateKnowledgeCardElementAttribute();\n} else\n    gs.info(gs.getMessage(\"Taxonomy for mobile is not enabled, please run the fix script manually after setting the property 'sn_me.taxonomy_enabled' to true\"));\n\nfunction updateCatlaogZingSearch() {\n    var gr = new GlideRecord('m2m_search_context_config_search_source');\n    if (!gr.canWrite()) {\n        gs.info(gs.getMessage(\"User {0} does not have write access to 'm2m_search_context_config_search_source' table.\", [gs.getUserID()]));\n        return;\n    }\n    if (gr.get(M2M_NOWMOBILE_SEARCHCONFIG_SERVICES)) {\n        if (!this.isCustomised('m2m_search_context_config_search_source_' + M2M_NOWMOBILE_SEARCHCONFIG_SERVICES) || runManually) {\n            gr.setValue('source', ZING_SEARCH_SOURCE_TAXONOMY_SERVICES);\n            gr.update();\n        }\n    } else\n        gs.info(gs.getMessage(\"Enable Taxonomy for Mobile: Mapping between 'NowMobile App Search Configurations' and 'Services' search source not found\"));\n}\n\nfunction updateKnowledgeZingSearch() {\n    var gr = new GlideRecord('m2m_search_context_config_search_source');\n    if (!gr.canWrite())\n        return;\n    if (gr.get(M2M_NOWMOBILE_SEARCHCONFIG_ARTICLES)) {\n        if (!this.isCustomised('m2m_search_context_config_search_source_' + M2M_NOWMOBILE_SEARCHCONFIG_ARTICLES) || runManually) {\n            gr.setValue('source', ZING_SEARCH_SOURCE_TAXONOMY_ARTICLES);\n            gr.update();\n        }\n    } else\n        gs.info(gs.getMessage(\"Enable Taxonomy for Mobile: Mapping between 'NowMobile App Search Configurations' and 'Articles' search source not found\"));\n}\n\nfunction updateCatalogCardElementAttribute() {\n    var gr = new GlideRecord('sys_sg_view_config_element_attribute');\n    if (!gr.canWrite())\n        return;\n    if (gr.get(CATALOG_CARD_ELEMENT_ATTRIBUTE)) {\n        if (!this.isCustomised('sys_sg_view_config_element_attribute_' + CATALOG_CARD_ELEMENT_ATTRIBUTE) || runManually) {\n            gr.setValue('value', 'taxonomy_topic');\n            gr.update();\n        }\n    } else\n        gs.info(gs.getMessage(\"Enable Taxonomy for Mobile: Card Element attribute for Catalog Search Item Category not found\"));\n}\n\nfunction updateKnowledgeCardElementAttribute() {\n    var gr = new GlideRecord('sys_sg_view_config_element_attribute');\n    if (!gr.canWrite())\n        return;\n    if (gr.get(KNOWLEDGE_CARD_ELEMENT_ATTRIBUTE)) {\n        if (!this.isCustomised('sys_sg_view_config_element_attribute_' + KNOWLEDGE_CARD_ELEMENT_ATTRIBUTE) || runManually) {\n            gr.setValue('value', 'taxonomy_topic');\n            gr.update();\n        }\n    } else\n        gs.info(gs.getMessage(\"Enable Taxonomy for Mobile: Card Element attribute for Knowledge AIS search result category not found\"));\n}\n\nfunction isCustomised(name) {\n    var updateGr = new GlideRecord('sys_update_xml');\n    updateGr.addQuery('name', name);\n    updateGr.setLimit(1);\n    updateGr.query();\n    return updateGr.hasNext();\n}","sys_class_name":"sys_script_fix","sys_id":"2901753d458d7410f877982bc07cd6aa","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5cfbdaac77eb2300454792718a106157","value":"5cfbdaac77eb2300454792718a106157"},"sys_update_name":"sys_script_fix_2901753d458d7410f877982bc07cd6aa","sys_updated_by":"admin","sys_created_on":"2021-06-30 11:21:13","name":"Enable Taxonomy For Mobile","sys_name":"Enable Taxonomy For Mobile","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5cfbdaac77eb2300454792718a106157","value":"5cfbdaac77eb2300454792718a106157"},"sys_created_by":"maint","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Force \"parent\" sys_trigger job to spawn jobs on active nodes upon plugin activation.","sys_updated_on":"2022-07-15 19:05:27","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord(\"sys_trigger\");\ngr.get(\"c7631c1c0f3011105e78cde2ff767ed8\");\nvar s = new Scheduler();\ns.propagateRANodesForTrigger(gr);","sys_class_name":"sys_script_fix","sys_id":"2905909c0f3011105e78cde2ff767ef2","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/142e63b304752210559073c06a02f76e","value":"142e63b304752210559073c06a02f76e"},"sys_update_name":"sys_script_fix_2905909c0f3011105e78cde2ff767ef2","sys_updated_by":"admin","sys_created_on":"2022-07-15 19:05:27","name":"Fix Populate Cache Metrics Active Nodes","sys_name":"Fix Populate Cache Metrics Active Nodes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"113","description":"Updating the correct/incorrect logic for nlu_batch_test_result table","sys_updated_on":"2021-06-29 12:35:55","sys_tags":"","record_for_rollback":"false","script":"/*\n* This script was initially added in \"Version 2.0.5 - May 2021\"\n* Is made \"Run Once\" in \"Aug 2021\" release. \n\n* Modifications to nlu_batch_test_result table: \n\t1. Following fields are not being used:\n\t\t- predicted_intent\n\t\t- prediction_model\n\t\t- confidence_threshold\n\t2. 'predictions' json is updated with: \n\t\t- filter the ones above threshold only\n\t\t- Also add modelId in each object of the array\n\t3. Updated outcome:\n\t\t- correctly_skipped is changed to correct\n\t\t- Updated the logic of outcome. \n\n* Modifications to nlu_batch_test_run_execution\n\t1. 'models_data' \n\t\t- Aggregate counts of (correct, incorrect, incorrectly_skipped)\n\t\t- Intents Covered: intents_count (covered, total)\n*/\n\n(function() {\n    var tables = NLUWorkbenchConstants.tables;\n    var RESULT_TYPE = NLUWorkbenchConstants.BATCHTEST_RESULT_TYPE;\n\n    var solutionNameToModelName = {};\n\n    function getModelNameFromSolutionName(solutionName) {\n        if (!solutionNameToModelName[solutionName]) {\n            var mlGr = new GlideRecord('ml_solution');\n            if (mlGr.get('solution_name', solutionName)) {\n                solutionNameToModelName[solutionName] = mlGr.ml_capability_definition.solution_label + '';\n            }\n        }\n        return solutionNameToModelName[solutionName];\n    }\n\n    var executionGr = new GlideRecord(tables.NLU_BATCH_TEST_RUN_EXECUTION);\n    executionGr.addQuery('status', 'success');\n    executionGr.query();\n    while (executionGr.next()) {\n        try {\n            var executionId = executionGr.getUniqueValue();\n            gs.info('Fix: Update NLU Batch Test Result - Processing execution: ' + executionId);\n\n            var modelSnapshot = JSON.parse(executionGr.getValue('models_data') || '[]');\n            modelSnapshot && modelSnapshot.forEach(function(snapshot) {\n                // previously, name field has solutionName, \n                // now name will have modelName & solutionName will have solution name.\n                var solutionName = snapshot.name;\n                snapshot.name = getModelNameFromSolutionName(snapshot.name) || snapshot.name;\n                if (!snapshot.solutionName)\n                    snapshot.solutionName = solutionName;\n            });\n\n            var testExecution = new NLUBatchTestExecution(null, executionGr);\n            var resultsHelper = new NLUBatchTestResults(testExecution);\n            resultsHelper.initDataMap();\n\n            var testResultGr = new GlideRecord(tables.NLU_BATCH_TEST_RESULT);\n            testResultGr.addQuery('test_run_execution', executionId);\n            testResultGr.query();\n            while (testResultGr.next()) {\n                var intentsData = JSON.parse(testResultGr.getValue('predictions') || '[]');\n                var predictionData = {\n                    utterance: testResultGr.utterance.utterance.toString(),\n                    intents: intentsData\n                };\n\n                testResultGr.setValue('predicted_intent', '');\n                testResultGr.setValue('prediction_model', '');\n                testResultGr.setValue('confidence_threshold', '');\n                var result = resultsHelper.addResult(predictionData, RESULT_TYPE.CURRENT, testResultGr);\n                if (!result) {\n                    gs.error('Fix: Update NLU Batch Test Result - Failed to update NLU Batch test result: ' + testResultGr.getUniqueValue());\n                }\n            }\n\n            resultsHelper.updateSnapshot();\n        } catch (e) {\n            gs.error('Fix: Update NLU Batch Test Result - Failed to process execution: ' + executionId);\n        }\n    }\n\n})();","sys_class_name":"sys_script_fix","sys_id":"2950e583c34620100bf407720f40dd03","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_update_name":"sys_script_fix_2950e583c34620100bf407720f40dd03","sys_updated_by":"admin","sys_created_on":"2021-02-05 05:07:08","name":"Update NLU Batch Test Result","sys_name":"Update NLU Batch Test Result","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"26","description":"Applies for Utah upgrades.\r\n\r\nRemoves the positive and negative choices for the feedback type columns if they exist.\r\nRemoves the read-only status on the feedback_type column of an AI Search Result Line Item record.\r\nRenames feedback_type column label from \"User feedback type\" to \"Feedback\".\r\nUpdates the values  of the Feedback column from positive and negative to helpful and not_helpful, respectively.","sys_updated_on":"2023-01-28 00:42:46","sys_tags":"","record_for_rollback":"true","script":"removeOutdatedFeedbackChoices();\nrenameExistingFeedbackValues();\nupdateFeedbackTypeColumn();\n\n/**\n * Removes the positive and negative choices for the feedback type columns if they exist.\n */\nfunction removeOutdatedFeedbackChoices() {\n\tvar choiceGr = new GlideRecord(\"sys_choice\");\n\tchoiceGr.addQuery(\"name\", AutoResolutionConstants.AI_SEARCH_RESULT_LINE_ITEM_TABLE_NAME);\n\tchoiceGr.addQuery(\"element\", AutoResolutionConstants.IAR_LINE_ITEM_FEEDBACK_TYPE_FIELD_NAME);\n\tchoiceGr.addQuery(\"inactive\", false);\n\tvar queryCondition = choiceGr.addQuery(\"value\", \"positive\");\n\tqueryCondition.addOrCondition(\"value\", \"negative\");\n\t\n\tchoiceGr.setValue(\"inactive\", true);\n\tchoiceGr.updateMultiple();\n\n\tgs.info(\"Executing IAR Fix Script: Deactivated the positive and negative choices for the {0} element on the {1} table.\", \n\t\t\tAutoResolutionConstants.IAR_LINE_ITEM_FEEDBACK_TYPE_FIELD_NAME,\n\t\t\tAutoResolutionConstants.AI_SEARCH_RESULT_LINE_ITEM_TABLE_NAME);\n}\n\n/**\n * Updates sys_dictionary record for the feedback_type column\n */\nfunction updateFeedbackTypeColumn() {\n\tvar dictionaryGr = new GlideRecord(\"sys_dictionary\");\n\tdictionaryGr.addQuery(\"name\", AutoResolutionConstants.AI_SEARCH_RESULT_LINE_ITEM_TABLE_NAME);\n\tdictionaryGr.addQuery(\"element\", AutoResolutionConstants.IAR_LINE_ITEM_FEEDBACK_TYPE_FIELD_NAME);\n\tdictionaryGr.query();\n\t\n\tif (!dictionaryGr.next()) {\n\t\tgs.error(\"Executing IAR Fix Script: Failed to update the read_only dictionary field for the {0} element on the {1} table to false because the element does not exist\", \n\t\t\tAutoResolutionConstants.IAR_LINE_ITEM_FEEDBACK_TYPE_FIELD_NAME,\n\t\t\tAutoResolutionConstants.AI_SEARCH_RESULT_LINE_ITEM_TABLE_NAME);\n\t\treturn;\n\t}\n\t\n\tremoveReadOnlyStatusOnFeedbackTypeColumn(dictionaryGr);\n\trenameFeedbackTypeColumnLabel(dictionaryGr);\n\t\n\tvar dictionarySysId = dictionaryGr.update();\n\tif (gs.nil(dictionarySysId)) {\n\t\tgs.error(\"Executing IAR Fix Script: Failed to update the sys_dictionary record {0} for the {1} element on the {2} table.\",\n\t\t\tdictionarySysId,\n\t\t\tAutoResolutionConstants.IAR_LINE_ITEM_FEEDBACK_TYPE_FIELD_NAME,\n\t\t\tAutoResolutionConstants.AI_SEARCH_RESULT_LINE_ITEM_TABLE_NAME);\n\t\treturn;\n\t}\n\t\n\tgs.info(\"Executing IAR Fix Script: Successfully updated the sys_dictionary record {0} for the {1} element on the {2} table.\",\n\t\t\tdictionarySysId,\n\t\t\tAutoResolutionConstants.IAR_LINE_ITEM_FEEDBACK_TYPE_FIELD_NAME,\n\t\t\tAutoResolutionConstants.AI_SEARCH_RESULT_LINE_ITEM_TABLE_NAME);\n}\n\n/**\n * Removes the read-only status on the Feedback column of an AI Search Result Line Item record. \n */\nfunction removeReadOnlyStatusOnFeedbackTypeColumn(dictionaryGr) {\n\tif (!dictionaryGr.read_only) {\n\t\tgs.info(\"Executing IAR Fix Script: Skipping update on setting the read_only dictionary field for the {0} element on the {1} table to false because the element is already false\", \n\t\t\tAutoResolutionConstants.IAR_LINE_ITEM_FEEDBACK_TYPE_FIELD_NAME,\n\t\t\tAutoResolutionConstants.AI_SEARCH_RESULT_LINE_ITEM_TABLE_NAME);\n\t\treturn;\n\t}\n\t\n\tdictionaryGr.read_only = false;\n\tgs.info(\"Executing IAR Fix Script: Setting the read_only dictionary field for the {0} element on the {1} table to false\", \n\t\t\tAutoResolutionConstants.IAR_LINE_ITEM_FEEDBACK_TYPE_FIELD_NAME,\n\t\t\tAutoResolutionConstants.AI_SEARCH_RESULT_LINE_ITEM_TABLE_NAME);\n}\n\n/**\n * Renames feedback_type values of existing records from positive and negative to helpful and not_helpful, respectively.\n */\nfunction renameExistingFeedbackValues() {\n\tvar lineItemGr = new GlideRecord(AutoResolutionConstants.AI_SEARCH_RESULT_LINE_ITEM_TABLE_NAME);\n\tvar queryCondition = lineItemGr.addQuery(AutoResolutionConstants.IAR_LINE_ITEM_FEEDBACK_TYPE_FIELD_NAME, \"positive\");\n\tqueryCondition.addOrCondition(AutoResolutionConstants.IAR_LINE_ITEM_FEEDBACK_TYPE_FIELD_NAME, \"negative\");\n\tlineItemGr.query();\n\t\n\twhile (lineItemGr.next()) {\n\t\tvar originalFeedbackValue = lineItemGr.getValue(AutoResolutionConstants.IAR_LINE_ITEM_FEEDBACK_TYPE_FIELD_NAME);\n\t\tvar updatedFeedbackValue = originalFeedbackValue;\n\t\tswitch (originalFeedbackValue) {\n\t\t\tcase \"positive\":\n\t\t\t\tupdatedFeedbackValue = AutoResolutionConstants.FEEDBACK_HELPFUL;\n\t\t\t\tbreak;\n\t\t\tcase \"negative\":\n\t\t\t\tupdatedFeedbackValue = AutoResolutionConstants.FEEDBACK_NOT_HELPFUL;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\tlineItemGr.setValue(AutoResolutionConstants.IAR_LINE_ITEM_FEEDBACK_TYPE_FIELD_NAME, updatedFeedbackValue);\n\t\tvar lineItemSysId = lineItemGr.update();\n\t\tif (gs.nil(lineItemSysId)) {\n\t\t\tgs.error(\"Executing IAR Fix Script: Failed to update the feedback value from {0} to {1} on the {2} record {3}\", \n\t\t\t\toriginalFeedbackValue, updatedFeedbackValue, AutoResolutionConstants.AI_SEARCH_RESULT_LINE_ITEM_TABLE_NAME, \n\t\t\t\tlineItemSysId);\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tgs.info(\"Executing IAR Fix Script: Successfully updated the feedback value from {0} to {1} on the {2} record {3}\", \n\t\t\toriginalFeedbackValue, updatedFeedbackValue, AutoResolutionConstants.AI_SEARCH_RESULT_LINE_ITEM_TABLE_NAME,\n\t\t\tlineItemSysId);\n\t}\n}\n\n/**\n * Renames feedback_type column label from \"User feedback type\" to \"Feedback\".\n */\nfunction renameFeedbackTypeColumnLabel(dictionaryGr) {\n\tif (dictionaryGr.getValue(\"column_label\") != \"User Feedback type\") {\n\t\tgs.info(\"Executing IAR Fix Script: Skipping the renaming of the {0} column label from 'User Feedback type' to 'Feedback' on the {1} table since the column label was not 'User feedback type' initially\", \n\t\t\tAutoResolutionConstants.IAR_LINE_ITEM_FEEDBACK_TYPE_FIELD_NAME,\n\t\t\tAutoResolutionConstants.AI_SEARCH_RESULT_LINE_ITEM_TABLE_NAME);\n\t\treturn;\n\t}\n\t\n\tdictionaryGr.setValue(\"column_label\", \"Feedback\");\n\tgs.info(\"Executing IAR Fix Script: Renaming the {0} column label from 'User feedback type' to 'Feedback' on the {1} table\", \n\t\t\tAutoResolutionConstants.IAR_LINE_ITEM_FEEDBACK_TYPE_FIELD_NAME,\n\t\t\tAutoResolutionConstants.AI_SEARCH_RESULT_LINE_ITEM_TABLE_NAME);\n}","sys_class_name":"sys_script_fix","sys_id":"2984cd6853a511100b6fddeeff7b12a0","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca4f3f704b52210559073c06a02f789","value":"aca4f3f704b52210559073c06a02f789"},"sys_update_name":"sys_script_fix_2984cd6853a511100b6fddeeff7b12a0","sys_updated_by":"admin","sys_created_on":"2022-08-22 23:45:22","name":"Update IAR AIS Result Line Item schema","sys_name":"Update IAR AIS Result Line Item schema","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Change the 'sentiment_normalized' column of sys_cs_message table from integer to decimal","sys_updated_on":"2022-05-03 20:02:36","sys_tags":"","record_for_rollback":"true","script":"new GlideCSFixStuff().fixMessageSentimentNormalized();","sys_class_name":"sys_script_fix","sys_id":"29a0a8f4c79b4110967a34c91dc26009","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_29a0a8f4c79b4110967a34c91dc26009","sys_updated_by":"admin","sys_created_on":"2022-05-03 19:26:42","name":"Change Message column type","sys_name":"Change Message column type","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"true","sys_mod_count":"21","description":"The 'com.glide.interaction.attachments.copy' is set according to the value present in 'com.snc.problem.create_from_interaction.copy_attachments' and 'com.snc.incident.create_from_interaction.copy_attachments'.","sys_updated_on":"2022-05-31 07:55:03","sys_tags":"","record_for_rollback":"false","script":"executeScript();\n\nfunction executeScript() {\n    if (pm.isZboot())\n        return;\n    var properties = [{\n        name: 'com.snc.problem.create_from_interaction.copy_attachments',\n        table: 'problem'\n    }, {\n        name: 'com.snc.incident.create_from_interaction.copy_attachments',\n        table: 'incident'\n    }];\n    var prevWF = gs.getSession().getWorkflow();\n    try {\n        gs.getSession().setWorkflow(true);\n        properties.forEach(function(property) {\n            var propertyValue = gs.getProperty(property.name);\n            if (propertyValue !== null) {\n                updateNewProperty(propertyValue, property.table);\n                deleteOldProperty(property.name);\n            }\n        });\n    } finally {\n        gs.getSession().setWorkflow(prevWF);\n    }\n}\n\nfunction updateNewProperty(propertyValue, table) {\n    var glideProperty = gs.getProperty('com.glide.interaction.attachments.copy');\n    if (propertyValue !== 'true') {\n        if (glideProperty.includes(table)) {\n            glideProperty = glideProperty.replace(table, \"\").split(\",\").filter(function(prop) {\n                return prop.length > 1;\n            }).join();\n            gs.setProperty('com.glide.interaction.attachments.copy', glideProperty);\n        }\n    }\n}\n\nfunction deleteOldProperty(propertyName) {\n    var props = new GlideRecord(\"sys_properties\");\n    props.addQuery('name', propertyName);\n    props.query();\n    if (props.next())\n        props.deleteRecord();\n}","sys_class_name":"sys_script_fix","sys_id":"29cd108787a38d50c91640c7dabb3570","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/dec3fb3704b52210559073c06a02f782","value":"dec3fb3704b52210559073c06a02f782"},"sys_update_name":"sys_script_fix_29cd108787a38d50c91640c7dabb3570","sys_updated_by":"admin","sys_created_on":"2022-05-23 05:50:08","name":"Set glide copy attachment property","sys_name":"Set glide copy attachment property","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Allows the tables for cmdb_ci to be references from cross scoped tables that are in the cmdb_ci heirarchy","sys_updated_on":"2021-05-27 19:41:15","sys_tags":"","record_for_rollback":"false","script":"(function () {\n\tif (pm.isZboot())\n\t\treturn;\n\n\tSNC.DictionaryAttribute.set('ngbsm_related_item', 'configuration_item', 'allow_public', 'true');\n\tSNC.DictionaryAttribute.set('ngbsm_related_item', 'related_item', 'allow_public', 'true');\n\tgs.info(\"Set 'allow_public' to true for table 'ngbsm_related_item' columns\");\n})();","sys_class_name":"sys_script_fix","sys_id":"2a22d00b0790b01017b703767cd3003e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b9d7abbf04b12210559073c06a02f7c9","value":"b9d7abbf04b12210559073c06a02f7c9"},"sys_update_name":"sys_script_fix_2a22d00b0790b01017b703767cd3003e","sys_updated_by":"admin","sys_created_on":"2021-05-27 19:41:15","name":"Map Related Items allow_public reference","sys_name":"Map Related Items allow_public reference","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"9","description":"Rename job lateness to job wait time for column labels and hints of v_pending_scheduled_job, sys_scheduler_job_history_node and sys_scheduler_job_history tables.","sys_updated_on":"2024-11-18 20:56:55","sys_tags":"","record_for_rollback":"true","script":"if (!pm.isZboot()) {\n\t// pending scheduled jobs table changes\n\tvar PENDING_SCHEDULED_JOB = 'v_pending_scheduled_job';\n\tvar AVG_LATENESS = 'avg_lateness';\n\tvar avgWaitTime = 'Average Wait Time (ms)';\n\tvar avgHourWaitTimeHint = \"Classification's Average Wait Time in Past Hour in ms\";\n\n\tupdateColumnLabel(PENDING_SCHEDULED_JOB, AVG_LATENESS, avgWaitTime);\n\tupdateHintAndPlural(PENDING_SCHEDULED_JOB, AVG_LATENESS, avgHourWaitTimeHint, avgWaitTime);\n\n\t// scheduled job history table and scheduled job history by node table changes\n\tvar SCHEDULED_JOB_HISTORY = 'sys_scheduler_job_history';\n\tvar TOTAL_LATENESS = 'total_lateness';\n\tvar totalWaitTime = 'Total Wait Time (ms)';\n\tvar totalWaitTimeHint = \"Classification's Total Wait Time in ms\";\n\tvar avgWaitTimeHint = \"Classification's Average Wait Time in ms\";\n\tvar MAX_LATENESS = 'max_lateness';\n\tvar maxWaitTime = 'Max Wait Time (ms)';\n\tvar maxWaitTimeHint = \"Classification's Maximum Wait Time in ms\";\n\n\tupdateColumnLabel(SCHEDULED_JOB_HISTORY, TOTAL_LATENESS, totalWaitTime);\n\tupdateHintAndPlural(SCHEDULED_JOB_HISTORY, TOTAL_LATENESS, totalWaitTimeHint, totalWaitTime);\n\n\tupdateColumnLabel(SCHEDULED_JOB_HISTORY, AVG_LATENESS, avgWaitTime);\n\tupdateHintAndPlural(SCHEDULED_JOB_HISTORY, AVG_LATENESS, avgWaitTimeHint, avgWaitTime);\n\n\tupdateColumnLabel(SCHEDULED_JOB_HISTORY, MAX_LATENESS, maxWaitTime);\n\tupdateHintAndPlural(SCHEDULED_JOB_HISTORY, MAX_LATENESS, maxWaitTimeHint, maxWaitTime);\n}\n\nfunction updateColumnLabel(tableName, fieldName, newLabel) {\n\tvar dictGr = new GlideRecord('sys_dictionary');\n\tvar qc = dictGr.addQuery('name', tableName);\n\tqc.addOrCondition('name', 'STARTSWITH', tableName);\n\tdictGr.addQuery('element', fieldName);\n\tdictGr.addQuery('column_label', '!=', newLabel);\n\tdictGr.query();\n\twhile (dictGr.next()) {\n\t\tdictGr.column_label = newLabel;\n\t\tdictGr.update();\n\t\tgs.log('Updated column label of ' + fieldName + ' on ' + tableName, 'RenameLatenessToWaitTime');\n\t}\n}\n\nfunction updateHintAndPlural(tableName, fieldName, newHint, newPlural) {\n\tvar docGr = new GlideRecord('sys_documentation');\n\tvar qc = docGr.addQuery('name', tableName);\n\tqc.addOrCondition('name', 'STARTSWITH', tableName);\n\tdocGr.addQuery(\"language\", \"en\");\n\tdocGr.addQuery('element', fieldName);\n\tdocGr.addNullQuery('hint').addOrCondition('hint', '!=', newHint);\n\tdocGr.query();\n\twhile (docGr.next()) {\n\t\tdocGr.hint = newHint;\n\t\tdocGr.plural = newPlural;\n\t\tdocGr.update();\n\t\tgs.log('Updated hint and plural of ' + fieldName + ' on ' + tableName, 'RenameLatenessToWaitTime');\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"2a39ac6237311210427bde4174924b06","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/75e7a3ff04b12210559073c06a02f737","value":"75e7a3ff04b12210559073c06a02f737"},"sys_update_name":"sys_script_fix_2a39ac6237311210427bde4174924b06","sys_updated_by":"admin","sys_created_on":"2024-11-13 21:58:10","name":"Rename lateness to wait time for jobs","sys_name":"Rename lateness to wait time for jobs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"These were platform-added reference field indexes made redundant by the application-added indexes on [child,type] and [parent,type]","sys_updated_on":"2024-05-16 21:34:45","sys_tags":"","record_for_rollback":"false","script":"new GlideIndexUtils().dropByExactElementSequence('cmdb_rel_ci', false, ['child']);\nnew GlideIndexUtils().dropByExactElementSequence('cmdb_rel_ci', false, ['parent']);","sys_class_name":"sys_script_fix","sys_id":"2a5c945853d246103c6fddeeff7b121f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_2a5c945853d246103c6fddeeff7b121f","sys_updated_by":"admin","sys_created_on":"2024-05-16 21:34:45","name":"Drop cmdb_rel_ci redundant indexes","sys_name":"Drop rel_ci redundant indexes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Set \"change.conflict.allow_contiguous_changes\" system property to true for Zboot instances.\r\n\r\nWhen conflict checking for similar change requests (by Affected CIs or Assigned to) find records that overlap with the current change request only. \r\n\r\nOld behavior did not allow change requests that start at the same time as the end time of the current change request or a change request that ends at the same time as the start time of the current change request.\r\n\r\nAs an example the following change requests apply to the same configuration item.\r\n\r\nCHG01, start: 2019-01-01 03:00:00 end: 2019-01-01 04:00:00.\r\nCHG02, start: 2019-01-01 04:00:00 end: 2019-01-01 05:00:00.\r\n\r\nIf this property is set to true these contiguous change requests will not conflict,  if the property is set to false they will conflict.","sys_updated_on":"2019-09-09 10:55:06","sys_tags":"","record_for_rollback":"false","script":"(function () {\n\tif (pm.isZboot())\n\t\tgs.setProperty(\"change.conflict.allow_contiguous_changes\", true);\n})();","sys_class_name":"sys_script_fix","sys_id":"2a8f621d73b333008ef62d2b04f6a7e2","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d00ba33304352210559073c06a02f77e","value":"d00ba33304352210559073c06a02f77e"},"sys_update_name":"sys_script_fix_2a8f621d73b333008ef62d2b04f6a7e2","sys_updated_by":"admin","sys_created_on":"2019-09-09 10:53:58","name":"Allow contiguous change requests zboot","sys_name":"Allow contiguous change requests zboot","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"18","description":"This fix script activate the REST and JSON Catch All quota rule if an active integration quota rule exists.","sys_updated_on":"2016-08-29 19:45:38","sys_tags":"","record_for_rollback":"false","script":"// this is the REST and JSON Catch All quota rule. \nvar catchAll = new GlideRecord('sysrule_quota');\ncatchAll.get('84622fa19f1122005cf3ffa4677fcf1f');\n\n// if there is an active integration quota rule (i.e old or new) we make catchAll rule active\n\n// for instances which started REST functionality from geneva or later (i.e zbooted from geneva or upgraded from dublin directly to geneva or later) \n// new integration rules comes direcly from unload folder. we check for such rules using sys_id\n\n// for instances which started REST functionality from fuji (i.e zbooted from fuji or upgraded from dublin to fuji) old integration rule\n// is added and from geneva we add four quota rules programatically uisng a fix script. we check for such rules using name.\n\n// for instances which started REST functionality from eureka (i.e zbooted from eureka or upgraded from dublin to eureka) catch all \n// rule should not be active.\n\nvar integration = new GlideRecord('sysrule_quota'); \nvar qc = integration.addQuery('sys_id','IN','55841f53ff2102003434ffffffffff39,20c02b419f232100ef4afa7dc67fcf9e,4f807f12ff2102003434ffffffffff80,bb207f12ff2102003434ffffffffffa8,f17b97d2ff2102003434ffffffffff52');\nqc.addOrCondition('name','IN','REST Table API request timeout,REST Import Set API request timeout,REST Aggregate API request timeout,REST Attachment API request timeout');\nintegration.addQuery('active',true);\nintegration.query();\nif (integration.next()){\n    catchAll.active = true;\n    catchAll.setWorkflow(false);\n    catchAll.setUseEngines(false);\n    catchAll.update();\n}\n    ","sys_class_name":"sys_script_fix","sys_id":"2ab03be19f1122005cf3ffa4677fcf1b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7d93e7f304312210559073c06a02f725","value":"7d93e7f304312210559073c06a02f725"},"sys_update_name":"sys_script_fix_2ab03be19f1122005cf3ffa4677fcf1b","sys_updated_by":"admin","sys_created_on":"2016-08-17 22:41:17","name":"Update REST and JSON Catch All","sys_name":"Update REST and JSON Catch All","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"5","description":"fix type of group field on cmn_rota_escalation_set table","sys_updated_on":"2021-04-21 04:49:42","sys_tags":"","record_for_rollback":"false","script":"var SCRIPT_NAME = 'fix_cmn_rota_escalation_set_group_field: ';\nfunction processFixScript() {\n\tif (pm.isZboot())\n\t\treturn;\n\n\tgs.log(SCRIPT_NAME + 'Started populating group field for escalation sets');\n\n\tvar escSetGr = new GlideRecord('cmn_rota_escalation_set');\n\tif (!escSetGr.isValidField('group')) {\n\t\tgs.log(SCRIPT_NAME + 'group column is invalid in cmn_rota_escalation_set');\n\t\treturn;\n\t}\n\n\tvar dictionaryGr = new GlideRecord('sys_dictionary');\n\tdictionaryGr.addQuery('name', 'cmn_rota_escalation_set');\n\tdictionaryGr.addQuery('internal_type', 'collection');\n\tdictionaryGr.setLimit(1);\n\tdictionaryGr.query();\n\n\tif (dictionaryGr.next()) {\n\t\tvar gAttr = new GlideAttributes(dictionaryGr.getValue('attributes'));\n\t\tgAttr.setAttribute('domain_master', 'group');\n\t\tdictionaryGr.setValue('attributes', gAttr.serializeAttributes());\n\t\tdictionaryGr.update();\n\t}\n\n\tvar contactPrefDictionaryGr = new GlideRecord('sys_dictionary');\n\tcontactPrefDictionaryGr.addQuery('name', 'cmn_rota_contact_preference');\n\tcontactPrefDictionaryGr.addQuery('internal_type', 'collection');\n\tcontactPrefDictionaryGr.setLimit(1);\n\tcontactPrefDictionaryGr.query();\n\n\tif (contactPrefDictionaryGr.next()) {\n\t\tvar attributes = new GlideAttributes(contactPrefDictionaryGr.getValue('attributes'));\n\t\tattributes.setAttribute('domain_master', 'cmn_rota_escalation_set');\n\t\tcontactPrefDictionaryGr.setValue('attributes', attributes.serializeAttributes());\n\t\tcontactPrefDictionaryGr.update();\n\t}\n\t\n\tvar escSetGr = new GlideRecord('cmn_rota_escalation_set');\n\tescSetGr.initialize();\n\tescSetGr.addNotNullQuery('cmn_rota');\n\tescSetGr.query();\n\n\twhile (escSetGr.next()) {\n\t\tvar groupId = escSetGr.cmn_rota.group + '';\n\t\tif (groupId && escSetGr.isValidField('group')) {\n\t\t\tescSetGr.group = groupId;\n\t\t\tescSetGr.setWorkflow(false);\n\t\t\tescSetGr.update();\n\t\t} else\n\t\t\tgs.log(SCRIPT_NAME + 'group column is not a valid field on ' + escSetGr.getUniqueValue());\n\t}\n}\n\ntry {\n\tprocessFixScript();\n} catch (err) {\n\tgs.error(SCRIPT_NAME + err);\n} finally {\n\tgs.log(SCRIPT_NAME + 'Finished populating group field for escalation sets');\n}","sys_class_name":"sys_script_fix","sys_id":"2ac5da9153a36010200addeeff7b12f5","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_script_fix_2ac5da9153a36010200addeeff7b12f5","sys_updated_by":"admin","sys_created_on":"2021-04-15 11:08:29","name":"Fix escalation set group field","sys_name":"Fix escalation set group field","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"In Madrid, we are splitting the scheduleBenchmarkTasks scheduled job into two new scheduled job and deleting the old one since its added into the customers update set during opt in.","sys_updated_on":"2018-09-10 20:09:41","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('sysauto_bm_script');\ngr.get('sys_id', 'c755b62f5b0322003d1c484c11f91a2a');\ngr.deleteRecord();","sys_class_name":"sys_script_fix","sys_id":"2ad9a7d3731023005e4a73a24ff6a7d6","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_update_name":"sys_script_fix_2ad9a7d3731023005e4a73a24ff6a7d6","sys_updated_by":"admin","sys_created_on":"2018-09-08 00:15:02","name":"Delete benchmark scheduled job on madrid","sys_name":"Delete benchmark scheduled job on madrid","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"5","description":"Increase max length for field sys_sg_screen_field.data_item_field_name to 200.","sys_updated_on":"2024-11-10 10:36:56","sys_tags":"","record_for_rollback":"false","script":"increaseScreenFieldMaxLength();\n\nfunction increaseScreenFieldMaxLength() {\n\tvar dict = new GlideRecord(\"sys_dictionary\");\n\tdict.addQuery(\"name\", \"sys_sg_screen_field\");\n\tdict.addQuery(\"element\", \"data_item_field_name\");\n\tdict.query();\n\twhile(dict.next() && dict.getValue(\"max_length\") < 200) {\n\t\tdict.setValue(\"max_length\", 200);\n\t\tdict.update();\t\t\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"2ae74a0f7f211210f0880a76cc866501","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/75d42bbf04312210559073c06a02f78d","value":"75d42bbf04312210559073c06a02f78d"},"sys_update_name":"sys_script_fix_2ae74a0f7f211210f0880a76cc866501","sys_updated_by":"admin","sys_created_on":"2024-11-03 07:57:01","name":"Increase Form Field size of Screen Field","sys_name":"Increase Form Field size of Screen Field","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Update the Active flag of the Workspace Record Type Selectors to the default value of true","sys_updated_on":"2020-03-11 11:29:49","sys_tags":"","record_for_rollback":"false","script":"if (GlidePluginManager.isActive('com.snc.agent_workspace.itsm')) {\n\tvar typesGR = new GlideRecord('aw_record_type_selector');\n\ttypesGR.addNullQuery('active');\n\ttypesGR.query();\n\n\ttypesGR.setWorkflow(false);\n\twhile (typesGR.next()) {\n\t\ttypesGR.setValue('active', true);\n\t\ttypesGR.update();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"2b14a29423ab00101488dc1756bf6536","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/06e4ef0d87130300ada4046787cb0b08","value":"06e4ef0d87130300ada4046787cb0b08"},"sys_update_name":"sys_script_fix_2b14a29423ab00101488dc1756bf6536","sys_updated_by":"admin","sys_created_on":"2020-03-10 17:20:12","name":"Set Workspace Type selectors active","sys_name":"Set Workspace Type selectors active","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/06e4ef0d87130300ada4046787cb0b08","value":"06e4ef0d87130300ada4046787cb0b08"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"This fix script makes the filter_group field of sys_gen_ai_filter table non mandatory for upgrade scenarios. ","sys_updated_on":"2024-08-08 09:26:40","sys_tags":"","record_for_rollback":"true","script":"var gr = new GlideRecord(\"sys_dictionary\");\ngr.addQuery(\"name\", \"sys_gen_ai_filter\");\ngr.addQuery(\"element\", \"filter_group\");\ngr.setWorkflow(false);\ngr.query();\nif (gr.next()) {\n    gr.setValue(\"mandatory\", false);\n    gr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"2b5b164b7f3b021056059c5cfc86659d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7c84affb04312210559073c06a02f73d","value":"7c84affb04312210559073c06a02f73d"},"sys_update_name":"sys_script_fix_2b5b164b7f3b021056059c5cfc86659d","sys_updated_by":"admin","sys_created_on":"2024-08-08 09:26:40","name":"Mark filtor group as non mandatory","sys_name":"Mark filtor group as non mandatory","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"6","description":"Update the \"feedback value\" column from a choice list to a string column. This for Tokyo upgrades.","sys_updated_on":"2022-11-02 17:36:08","sys_tags":"","record_for_rollback":"true","script":"updateIARFeedbackValue();\n\nfunction updateIARFeedbackValue() {\n\tvar choiceGr = new GlideRecord('sys_choice');\n\tchoiceGr.addQuery('name', AutoResolutionConstants.PREDICTION_OUTPUT_TABLE_NAME);\n\tchoiceGr.addQuery('element', 'feedback_value');\n\tchoiceGr.setValue(\"inactive\", true);\n\tchoiceGr.updateMultiple();\n\t\n\tvar columnGr = new GlideRecord('sys_dictionary');\n\tcolumnGr.addQuery('name', AutoResolutionConstants.PREDICTION_OUTPUT_TABLE_NAME);\n\tcolumnGr.addQuery('element', 'feedback_value');\n\tcolumnGr.query();\n\t\n\t//No need to update value if field doesn't exist or it is already a String type\n\tif (!columnGr.next() || columnGr.getValue('internal_type') === 'string'){\n\t\treturn;\n\t}\n\t\n\tcolumnGr.setValue('internal_type', 'string');\n\tcolumnGr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"2ba3504843f91110a8ea143d9ab8f23b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca4f3f704b52210559073c06a02f789","value":"aca4f3f704b52210559073c06a02f789"},"sys_update_name":"sys_script_fix_2ba3504843f91110a8ea143d9ab8f23b","sys_updated_by":"admin","sys_created_on":"2022-09-02 17:35:42","name":"Update prediction output feedback value","sys_name":"Update prediction output feedback value","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"6","description":"Property \"com.snc.on_call_rotation.pto.approval.required\" won't be available on zboot instances and has been replaced with \"com.snc.on_call_rotation.pto.configuration\" for upgraded instances, so update the value of \"com.snc.on_call_rotation.pto.configuration\" based on the property value of \"com.snc.on_call_rotation.pto.approval.required\" so that it does not impact on upgrades","sys_updated_on":"2018-08-08 10:16:37","sys_tags":"","record_for_rollback":"false","script":"var ptoPropGr = new GlideRecord(\"sys_properties\");\nptoPropGr.addQuery(\"name\", \"com.snc.on_call_rotation.pto.approval.required\");\nptoPropGr.query();\n\nif (ptoPropGr.next()) {\n    if (ptoPropGr.getValue(\"value\") == \"true\")\n        gs.setProperty(\"com.snc.on_call_rotation.pto.configuration\", \"with_approval\");\n    else\n        gs.setProperty(\"com.snc.on_call_rotation.pto.configuration\", \"not_allowed\");\n}","sys_class_name":"sys_script_fix","sys_id":"2c9dde6073f71300d406168d4ef6a703","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_script_fix_2c9dde6073f71300d406168d4ef6a703","sys_updated_by":"admin","sys_created_on":"2018-08-05 09:12:12","name":"On-Call Map deprecated PTO Approval prop","sys_name":"On-Call Map deprecated PTO Approval prop","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Make sure that there is only one column in sys_cs_topic with display=true","sys_updated_on":"2021-10-07 00:55:09","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tvar gr = new GlideRecord('sys_dictionary');\n\tgr.addEncodedQuery('name=sys_cs_topic^element=name^ORelement=title');\n\tgr.orderBy('element');\n\tgr.query();\n\tgr.next();\n\t//check the display property of 'name' column\n\tvar nameDisplay = gr.getDisplayValue('display');\n\t//set the display property of 'title' column\n\tif (gr.next()) {\n         if (nameDisplay === 'true') {\n             gr.setValue('display', 'false');\n             gr.update();\n         }\n\t}\n})();","sys_class_name":"sys_script_fix","sys_id":"2ca3d161c7433010dbbf79a988c260c1","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_2ca3d161c7433010dbbf79a988c260c1","sys_updated_by":"admin","sys_created_on":"2021-10-07 00:55:09","name":"Set sys_cs_topic.title display to False","sys_name":"Set sys_cs_topic.title display to False","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"","sys_updated_on":"2019-03-12 23:58:07","sys_tags":"","record_for_rollback":"false","script":"var templates = new GlideRecord(\"sn_templated_snip_note_template\");\ntemplates.addNullQuery(\"short_name\");\ntemplates.query();\nwhile(templates.next()){\n\ttemplates.setWorkflow(false);\n\ttemplates.setValue(\"short_name\", templates.getValue(\"name\"));\n\ttemplates.update();\n}","sys_class_name":"sys_script_fix","sys_id":"2cb699d393003300a9bc1d1e867ffbca","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2d3597c80b67320036e62c7885673a43","value":"2d3597c80b67320036e62c7885673a43"},"sys_update_name":"sys_script_fix_2cb699d393003300a9bc1d1e867ffbca","sys_updated_by":"admin","sys_created_on":"2019-03-12 23:32:23","name":"Populate short name on response template","sys_name":"Populate short name on response template","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/2d3597c80b67320036e62c7885673a43","value":"2d3597c80b67320036e62c7885673a43"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"5","description":"","sys_updated_on":"2021-10-13 06:15:16","sys_tags":"","record_for_rollback":"true","script":"var taskutil = new global.TaskUtils();\ntaskutil.activateVirtualAgentContactType('incident',true);","sys_class_name":"sys_script_fix","sys_id":"2ce0a00f77833010949878dabd5a990d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d2b76f7f04b12210559073c06a02f78a","value":"d2b76f7f04b12210559073c06a02f78a"},"sys_update_name":"sys_script_fix_2ce0a00f77833010949878dabd5a990d","sys_updated_by":"admin","sys_created_on":"2021-10-11 12:46:34","name":"activateVAContactTypeForIncident","sys_name":"activateVAContactTypeForIncident","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Allow cross scope deletion of record from cmdb_rel_ci and cmdb_rel_attributes tables.","sys_updated_on":"2019-04-22 22:53:59","sys_tags":"","record_for_rollback":"false","script":"function provideDeleteAccess(tableName) {\n \tvar gr = new GlideRecord('sys_db_object');\n \tgr.addQuery('name', tableName);\n \tgr.query();\n \tgs.info(\"Fix Script: Allow Delete for CMDB REL tables - Querying for \"+ tableName);\n \tif(gr.next()){\n \t\tgs.info(\"Fix Script: Allow Delete for CMDB REL tables - Delete access for \"+ tableName + \" is \"+ gr.getValue('delete_access'));\n \t\tif(gr.getValue('delete_access') === '0'){\n \t\t\tgr.setValue('delete_access', '1');\n \t\t\tgr.update();\n \t\t\tgs.info(\"Fix Script: Allow Delete for CMDB REL tables - Providing the delete access for the table \" + tableName);\n \t\t}\n \t}\n }\n \n provideDeleteAccess('cmdb_rel_ci');\n provideDeleteAccess('cmdb_rel_attributes');\n gs.info(\"Fix Script: Allow Delete for CMDB REL tables - Finished Execution \");","sys_class_name":"sys_script_fix","sys_id":"2d145c287301330061b79c0c6df6a7e8","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_2d145c287301330061b79c0c6df6a7e8","sys_updated_by":"admin","sys_created_on":"2019-04-22 22:53:59","name":"Allow deletion on CI Relationship","sys_name":"Allow deletion on CI Relationship","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Decrease the shazzam batch size from 5000 to 1000 to allow the TLS payload.","sys_updated_on":"2019-09-26 04:56:54","sys_tags":"","record_for_rollback":"false","script":"var dictionaryGR = new GlideRecord('sys_dictionary');\ndictionaryGR.addQuery('name', 'discovery_schedule');\ndictionaryGR.addQuery('element', 'shazzam_batch_size');\ndictionaryGR.addQuery('default_value', '5000');\ndictionaryGR.query();\n\nif (dictionaryGR.next()) {\n\tdictionaryGR.setValue('default_value', '1000');\n\tdictionaryGR.update();\n}\n","sys_class_name":"sys_script_fix","sys_id":"2d5301ba770c0010660eb8a42b1061bc","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/91d8237704f12210559073c06a02f73b","value":"91d8237704f12210559073c06a02f73b"},"sys_update_name":"sys_script_fix_2d5301ba770c0010660eb8a42b1061bc","sys_updated_by":"admin","sys_created_on":"2019-09-26 04:56:54","name":"Change default for shazzam batch size","sys_name":"Change default for shazzam batch size","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Determine which version of the flow designer execution engine is used","sys_updated_on":"2023-08-30 05:22:59","sys_tags":"","record_for_rollback":"true","script":"\n\t\tvar script = \"new FlowEnginePostUpgrade().process();\";\n\n\t\tschedulePropertyChange();\n\n\t\tfunction schedulePropertyChange() {\n\t\t\tvar fourHoursInMs = 4*60*60*1000;\n\t\t\tvar fourHoursInSeconds = 4*60*60;\n\n\t\t\tvar gr = new GlideRecord(\"sys_trigger\");\n\t\t\tgr.initialize();\n\t\t\tgr.setValue(\"state\", \"ready\");\n\t\t\tgr.setValue(\"trigger_type\", \"1\"); // trigger_repeat\n\t\t\tgr.setValue(\"name\", \"Set_engine_major_version_to_2\");\n\t\t\tgr.setValue(\"repeat\", new GlideDuration(fourHoursInMs));\n\t\t\tgr.setValue(\"script\", script);\n\t\t\tvar startTime = new GlideDateTime();\n\t\t\t// start time.\n\t\t\tstartTime.addSeconds(fourHoursInSeconds);\n\t\t\tgr.setValue(\"next_action\", startTime);\n\t\t\treturn gr.insert();\n\t\t}\n\n\t\t","sys_class_name":"sys_script_fix","sys_id":"2dbd3ddc09c9b510f8776c8bb2d128dc","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/063be77304352210559073c06a02f7e4","value":"063be77304352210559073c06a02f7e4"},"sys_update_name":"sys_script_fix_2dbd3ddc09c9b510f8776c8bb2d128dc","sys_updated_by":"maint","sys_created_on":"2023-08-30 05:08:02","name":"Set engine_major_version to 2","sys_name":"Set engine_major_version to 2","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"11","description":"Migrate icon field to new reference icon field of design system icon table.","sys_updated_on":"2019-08-20 17:47:57","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord(\"sys_declarative_action_assignment\");\n      gr.query();\n      while (gr.next()) {\n        var iconName = gr.getValue(\"icon\");\n        var iconSysId;\n        var vr = new GlideRecord(\"st_sys_design_system_icon\");\n        vr.addQuery(\"name\", iconName);\n        vr.query();\n        if (vr.next()) {\n            iconSysId = vr.getUniqueValue();\n            gr.setValue(\"design_icon\", iconSysId);\n            gr.setWorkflow(false);\n            gr.update();\n        }\n      }\n","sys_class_name":"sys_script_fix","sys_id":"2dd863b953d3330063ddddeeff7b121e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f39caf7b04352210559073c06a02f73f","value":"f39caf7b04352210559073c06a02f73f"},"sys_update_name":"sys_script_fix_2dd863b953d3330063ddddeeff7b121e","sys_updated_by":"admin","sys_created_on":"2019-08-17 07:53:09","name":"Migrate Declarative Action Icon Field","sys_name":"Migrate Declarative Action Icon Filed","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"26","description":"This fix script activates the UI REST Transaction quota rule if UI Transaction quota rule is present and active","sys_updated_on":"2016-08-23 18:58:30","sys_tags":"","record_for_rollback":"false","script":"// This is the existing UI Transactions quota rule. We active the UI REST Transaction quota rule if this exits.\nvar uiTransQuota = new GlideRecord('sysrule_quota');\nuiTransQuota.get('88fe39123701200024d1973ebebe5dfd');\n\nif (uiTransQuota.isValid() && uiTransQuota.active){\n    var uiRestTransQuota = new GlideRecord('sysrule_quota');\n    uiRestTransQuota.get('1a5115e39f1122005cf3ffa4677fcfaa');\n    uiRestTransQuota.active = true;\n    uiRestTransQuota.setWorkflow(false);\n    uiRestTransQuota.setUseEngines(false);\n    uiRestTransQuota.update();\n\n}\n\n\n\n\n \n\n","sys_class_name":"sys_script_fix","sys_id":"2dddb6599f1122005cf3ffa4677fcfe5","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7d93e7f304312210559073c06a02f725","value":"7d93e7f304312210559073c06a02f725"},"sys_update_name":"sys_script_fix_2dddb6599f1122005cf3ffa4677fcfe5","sys_updated_by":"admin","sys_created_on":"2016-08-17 00:15:31","name":"Active UI REST Transaction Quota","sys_name":"Update UI REST Transaction","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"This Fix script run only for upgrade customers.\r\nIt sets \"Security level\" field for Verification Type records .","sys_updated_on":"2023-08-17 09:47:47","sys_tags":"","record_for_rollback":"false","script":"(function() {\n    if (GlidePluginManager.isZboot())\n        return;\n    var gr = new GlideRecord(\"pwd_verification_type\");\n    gr.query();\n    while (gr.next()) {\n        var currentSysId = gr.getUniqueValue();\n        if (currentSysId === 'c7835ab787773200cfab6dd207cb0b88' || currentSysId === '58a2f398eb6001006a668c505206fed3' || currentSysId === '47cf0e830b233200572a6f3ef6673a00') {\n            gr.setValue('security_level', 300);\n        } else if (currentSysId === 'a67585845302011017c3ddeeff7b1267' || currentSysId === '39b15343eb10010045e1a5115206feb7') {\n            gr.setValue('security_level', 200);\n        } else {\n            gr.setValue('security_level', 100);\n        }\n        gr.setWorkflow(false);\n        gr.setUseEngines(false);\n        gr.update();\n    }\n})();","sys_class_name":"sys_script_fix","sys_id":"2e5a2bc877703110ad2e53cf6b5a99dc","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/421beb3304352210559073c06a02f7ef","value":"421beb3304352210559073c06a02f7ef"},"sys_update_name":"sys_script_fix_2e5a2bc877703110ad2e53cf6b5a99dc","sys_updated_by":"admin","sys_created_on":"2023-08-17 09:29:11","name":"Set security level field for OOB records","sys_name":"Set security level field for OOB records","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"If the customer has not customized the Applies To base_table attribute in the Schedule Conditions table, this script set the attributes required to add Change Request (and extending tables) to the choice list.","sys_updated_on":"2017-11-01 12:34:14","sys_tags":"","record_for_rollback":"false","script":"var table = 'cmn_schedule_condition';\nvar column = 'applies_to';\n\nvar dictionaryRecord = new GlideRecord('sys_dictionary');\ndictionaryRecord.addQuery('name', table);\ndictionaryRecord.addQuery('element', column);\ndictionaryRecord.query();\nif (dictionaryRecord.next()) {\n\tvar attributes = new GlideAttributes(dictionaryRecord.getValue('attributes'));\n\tvar baseTableAttr = attributes.getAttribute('base_table');\n\t// if keeps the default base_table (not overwritten by the customer), we set the script to retrieve tables choices including Change Request tables\n\tif (baseTableAttr == 'cmdb_ci') {\n\t\tgs.debug('Modifying applies_to Schedule Conditions dictionary entry to enable Change Request choice');\n\t\tSNC.DictionaryAttribute.remove(table, column, 'base_table');\n\t\tSNC.DictionaryAttribute.set(table, column, 'tableChoicesScript', 'ConditionScheduleAppliesToTables');\n\t\tSNC.DictionaryAttribute.set(table, column, 'show_table_names_on_label', 'true');\n\t\tSNC.DictionaryAttribute.set(table, column, 'includeNone', 'true');\n\t} else \n\t\tgs.info('Change Requests choice will not be enabled in applies_to in Schedule Conditions because dictionary entry is not using default cmdb_ci base table');\n}\n","sys_class_name":"sys_script_fix","sys_id":"2ee44cab670203006e6eadab9485ef06","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d00ba33304352210559073c06a02f77e","value":"d00ba33304352210559073c06a02f77e"},"sys_update_name":"sys_script_fix_2ee44cab670203006e6eadab9485ef06","sys_updated_by":"admin","sys_created_on":"2017-11-01 12:34:14","name":"Enable Change Request in schedule conds","sys_name":"Enable Change Request in schedule conds","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Mark auto_resolution_enabled column label as *Deprecated* in sys_cs_topic and sys_cb_topic tables. \r\nApplies for Quebec to Rome upgrade","sys_updated_on":"2021-05-11 20:24:31","sys_tags":"","record_for_rollback":"false","script":"changeColumnLabel('sys_cs_topic', 'auto_resolution_enabled');\nchangeColumnLabel('sys_cb_topic', 'auto_resolution_enabled');\n\nfunction changeColumnLabel(tableName, columnName) {\n\tvar dictionaryGr = new GlideRecord('sys_dictionary');\n\tdictionaryGr.addQuery('name', tableName);\n\tdictionaryGr.addQuery('element', columnName);\n\tdictionaryGr.query();\n\t\n\tif (dictionaryGr.next()) {\n\t\tvar currentLabel = dictionaryGr.getValue('column_label');\n\t\tif (currentLabel && currentLabel.length > 0 && !(currentLabel.indexOf('Deprecated') >= 0)) {\n\t\t\tcurrentLabel += ' (Deprecated)';\n\t\t\tdictionaryGr.setValue('column_label', currentLabel);\n\t\t\tdictionaryGr.update();\n\t\t\tgs.info('{0} column label has been updated to be deprecated in table {1}.', currentLabel, tableName);\n\t\t}\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"2f2e86bd73883010f14a063f34f6a7d3","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_2f2e86bd73883010f14a063f34f6a7d3","sys_updated_by":"admin","sys_created_on":"2021-05-11 20:24:06","name":"Deprecate Auto Resolution enabled column","sys_name":"Deprecate Auto Resolution enabled column","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Add type choice: model to change form type choices, to help identify custom model types","sys_updated_on":"2024-09-06 14:08:44","sys_tags":"","record_for_rollback":"true","script":"(function() {\n    if (!GlidePluginManager.isZboot()) {\n        var modelChoiceSysId = 'c1aded169f98521065fe946eda0a1c14';\n        var gr = new GlideRecord('sys_choice');\n        if (!gr.get(modelChoiceSysId)) {\n            gs.log('Creating sys_choice for change_request.type: model', '[com.snc.change_management.change_model][Fix Script: Add type choice: model]');\n            var newTypeChoicegr = new GlideRecord('sys_choice');\n            newTypeChoicegr.setNewGuidValue('c1aded169f98521065fe946eda0a1c14');\n            newTypeChoicegr.setValue('name', 'change_request');\n            newTypeChoicegr.setValue('element', 'type');\n            newTypeChoicegr.setValue('value', 'model');\n            newTypeChoicegr.setValue('inactive', 'false');\n            newTypeChoicegr.setValue('label', 'Model');\n            newTypeChoicegr.setValue('language', 'en');\n            newTypeChoicegr.setValue('sequence', '4');\n            newTypeChoicegr.setWorkFlow(false);\n            newTypeChoicegr.insert();\n        } else\n            gs.log('sys_choice for change_request.type: model already exists', '[com.snc.change_management.change_model][Fix Script: Add type choice: model]');\n    }\n})();","sys_class_name":"sys_script_fix","sys_id":"2f616fc49fe0121065fe946eda0a1c0e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/323ca7f704352210559073c06a02f7ad","value":"323ca7f704352210559073c06a02f7ad"},"sys_update_name":"sys_script_fix_2f616fc49fe0121065fe946eda0a1c0e","sys_updated_by":"admin","sys_created_on":"2024-09-05 13:41:26","name":"Add type choice: model","sys_name":"Add type choice: model","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Remove pending user reference from sys_user_license_source table.","sys_updated_on":"2020-04-18 22:25:22","sys_tags":"","record_for_rollback":"false","script":"removeLicenseSoureForPendingUser();\n\nfunction removeLicenseSoureForPendingUser() {\n    if (GlidePluginManager.isZboot())\n        return;\n\n    try {\n\t\tif(!GlideTableDescriptor.isValid('sys_user_license_source') || !GlideTableDescriptor.isValid('sys_user_pending_license'))\n\t\t\treturn;\n\n\t\tvar userSetSubSyncHelp = new UserSetSubscriptionSyncHelper();\n\t\tvar usrLicGR = userSetSubSyncHelp._getAllUserBasedLicense();\n\t\tif (!usrLicGR.hasNext()) {\n\t\t\tgs.log('No user based subscription');\n\t\t\treturn;\n\t\t}\n\t\twhile(usrLicGR.next()) {\n\t\t\tgs.log('Removing pending user refrence for subscription: ' + usrLicGR.getValue('name'));\n\t\t\tremovePendingRef(usrLicGR);\n\t\t}\n    } catch (ex) {\n         gs.print(\"Failed to remove license soure refrence for pending user: \" + ex);\n      }\n}\n\nfunction removePendingRef(licenseGR) {\n\n\ttry{\n\t\tvar licenseSysId = licenseGR.getValue('sys_id');\n\t\tvar pendingUserIds = getPendingUsersForLicense(licenseSysId);\n\t\tif (pendingUserIds.length > 0) {\n\t\t\tgs.log('Removing pending user reference from source for '+pendingUserIds.length+' users.');\n\t\t\tvar licSrcGR = new GlideRecord('sys_user_license_source');\n\t\t\tlicSrcGR.addQuery('license', licenseSysId);\n\t\t\tlicSrcGR.addQuery('user', 'IN', pendingUserIds);\n\t\t\tlicSrcGR.query();\n\t\t\tlicSrcGR.deleteMultiple();\n\t\t}\n\t} catch (ex) {\n         gs.print(\"Error processing for \"+licenseGR.getValue('name')+\" - \"+ex);\n    }\n}\n\nfunction getPendingUsersForLicense(licenseSysID) {\n\tvar pendingUserSysIds = [];\n\n\tvar userpendingGR = new GlideRecord('sys_user_pending_license');\n\tuserpendingGR.addQuery('license', licenseSysID);\n\tuserpendingGR.query();\n\twhile (userpendingGR.next()) {\n\t\tpendingUserSysIds.push(userpendingGR.getValue('user'));\n\t}\n\n\treturn pendingUserSysIds;\n}","sys_class_name":"sys_script_fix","sys_id":"2f868005771010100afbf62ad9106101","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8bc96fbb04f12210559073c06a02f755","value":"8bc96fbb04f12210559073c06a02f755"},"sys_update_name":"sys_script_fix_2f868005771010100afbf62ad9106101","sys_updated_by":"admin","sys_created_on":"2020-04-18 21:14:37","name":"Remove pending user reference","sys_name":"Remove pending user reference","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"4","description":"This script is to get new native mobile \"Employee Profile\" cards compatible with the next experience theme. This script should be run only if the instance is on Utah or post Utah family release.","sys_updated_on":"2022-08-25 10:10:22","sys_tags":"","record_for_rollback":"true","script":"//Switch runManually to true in order to run this script\nvar runManually = false;\nif (runManually) {\n    var util = new sn_me.MobileNextExpUpgradeUtil();\n    upgradeEmployeeProfileCard();\n}\n\nfunction upgradeEmployeeProfileCard() {\n    var ep = [\n        //Coworker List Item Config\n        {\n            \"masterItem\": \"47a5c9051b3fb010322f0fe0604bcb44\",\n            \"newCard\": \"8049edec07c95910264f78e99cd30031\",\n            \"oldCard\": \"b2ac74891bfbb010322f0fe0604bcb4e\",\n            \"table\": \"sys_sg_master_item\"\n        },\n        //Direct Reports List Item Config\t\n        {\n            \"masterItem\": \"b0e209411b3fb010322f0fe0604bcb01\",\n            \"newCard\": \"8049edec07c95910264f78e99cd30031\",\n            \"oldCard\": \"b2ac74891bfbb010322f0fe0604bcb4e\",\n            \"table\": \"sys_sg_master_item\"\n        },\n        //Manager List Item Config\t\n        {\n            \"masterItem\": \"bc2f344d1bfbb010322f0fe0604bcb0c\",\n            \"newCard\": \"8049edec07c95910264f78e99cd30031\",\n            \"oldCard\": \"b2ac74891bfbb010322f0fe0604bcb4e\",\n            \"table\": \"sys_sg_master_item\"\n        },\n        //Selected User Profile\t\n        {\n            \"masterItem\": \"7c3945c8535001106d79ddeeff7b1240\",\n            \"newCard\": \"ffbaec1107459910264f78e99cd300a1\",\n            \"oldCard\": \"813e4100539001106d79ddeeff7b12d7\",\n            \"table\": \"sys_sg_form_screen\"\n        }\n    ];\n\n    ep.forEach(function revertEachLink(link) {\n        util.switchConnection(link.table, \"view_config\", link.masterItem, link.oldCard, link.newCard);\n    });\n}","sys_class_name":"sys_script_fix","sys_id":"2f95a03c53651110fedfddeeff7b1285","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1e95bac2738f001001b566b90ff6a7cd","value":"1e95bac2738f001001b566b90ff6a7cd"},"sys_update_name":"sys_script_fix_2f95a03c53651110fedfddeeff7b1285","sys_updated_by":"admin","sys_created_on":"2022-08-23 16:09:05","name":"Mobile Next Exp - EP","sys_name":"Mobile Next Exp - EP","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1e95bac2738f001001b566b90ff6a7cd","value":"1e95bac2738f001001b566b90ff6a7cd"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"4","description":"Remove master text in label and replace it with main text","sys_updated_on":"2020-11-10 02:21:02","sys_tags":"","record_for_rollback":"false","script":"(function () {\n\tvar sgr = new GlideRecord(\"sys_dictionary\");\n\tsgr.addQuery(\"name\", \"sys_hub_flow\");\n\tsgr.addQuery(\"element\", \"master_snapshot\");\n\tsgr.query();\n\tif (sgr.next()) {\n\t\tsgr.column_label = \"Main snapshot\";\n\t\tsgr.setWorkflow(false);\n\t\tsgr.update();\n\t}\n\tsgr = new GlideRecord(\"sys_dictionary\");\n\tsgr.addQuery(\"name\", \"sys_hub_action_type_definition\");\n\tsgr.addQuery(\"element\", \"master_snapshot\");\n\tsgr.query();\n\tif (sgr.next()) {\n\t\tsgr.column_label = \"Main snapshot\";\n\t\tsgr.setWorkflow(false);\n\t\tsgr.update();\n\t}\n\tsgr = new GlideRecord(\"sys_dictionary\");\n\tsgr.addQuery(\"name\", \"sys_hub_flow_snapshot\");\n\tsgr.addQuery(\"element\", \"master\");\n\tsgr.query();\n\tif (sgr.next()) {\n\t\tsgr.column_label = \"Main\";\n\t\tsgr.setWorkflow(false);\n\t\tsgr.update();\n\t}\n\tsgr = new GlideRecord(\"sys_dictionary\");\n\tsgr.addQuery(\"name\", \"sys_hub_action_type_snapshot\");\n\tsgr.addQuery(\"element\", \"master\");\n\tsgr.query();\n\tif (sgr.next()) {\n\t\tsgr.column_label = \"Main\";\n\t\tsgr.setWorkflow(false);\n\t\tsgr.update();\n\t}\n})();","sys_class_name":"sys_script_fix","sys_id":"2fa764c3ff1020107f944ee9453bf1a4","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0a3be77304352210559073c06a02f7e3","value":"0a3be77304352210559073c06a02f7e3"},"sys_update_name":"sys_script_fix_2fa764c3ff1020107f944ee9453bf1a4","sys_updated_by":"admin","sys_created_on":"2020-11-10 00:12:15","name":"Fix Rename Master to Main","sys_name":"Fix Rename Master to Main","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"0","description":"This script identifies sys_user_preference records where system is true (eg., global preferences) and which have duplicate records (same name) and deletes them.  Only the most recent (sys_updated_on) copy is kept.","sys_updated_on":"2024-01-10 17:11:43","sys_tags":"","record_for_rollback":"true","script":"(function() {\n    if (pm.isZboot())\n        return;\n\n    cleanupGlobalPreferences();\n\n    function cleanupGlobalPreferences() {\n        var ga = new GlideAggregate('sys_user_preference');\n        ga.setWorkflow(false);\n        ga.addQuery('system', '=', 1);\n        ga.addNullQuery('user');\n        ga.addAggregate('COUNT', 'name');\n        ga.orderByAggregate('COUNT', 'name');\n        ga.addHaving('COUNT', '>', '1');\n        ga.query();\n        while (ga.next()) {\n            var preferenceName = ga.getValue('name');\n            var latestSysID = getLatestUpdatedRecord(preferenceName);\n            deleteDuplicates(preferenceName, latestSysID);\n        }\n    }\n\n    function getLatestUpdatedRecord(preferenceName) {\n        var gr = new GlideRecord('sys_user_preference');\n        gr.addQuery('system', '=', 1);\n        gr.addQuery('name', '=', preferenceName);\n        gr.addNullQuery('user');\n        gr.orderByDesc('sys_updated_on');\n        gr.setLimit(1);\n        gr.query();\n        if (gr.next()) {\n            return gr.getUniqueValue();\n        }\n    }\n\n    function deleteDuplicates(preferenceName, latestSysID) {\n        var gr = new GlideRecord('sys_user_preference');\n        gr.addQuery('system', '=', 1);\n        gr.addNullQuery('user');\n        gr.addQuery('name', '=', preferenceName);\n        gr.addQuery('sys_id', '!=', latestSysID);\n        gr.query();\n        gr.deleteMultiple();\n    }\n    \n})();\n","sys_class_name":"sys_script_fix","sys_id":"3014159b77e33110a6c9e96a8c5a99ee","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/eec96fbb04f12210559073c06a02f711","value":"eec96fbb04f12210559073c06a02f711"},"sys_update_name":"sys_script_fix_3014159b77e33110a6c9e96a8c5a99ee","sys_updated_by":"admin","sys_created_on":"2024-01-10 17:11:43","name":"Remove duplicate sys_user_preferences","sys_name":"Remove duplicate sys_user_preferences","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Prevent upgraded customers that has already this workflow insralled from overwriting it","sys_updated_on":"2024-01-22 11:47:58","sys_tags":"","record_for_rollback":"true","script":"if (!pm.isZboot()) {\n    var gr = new GlideRecord('sys_hub_flow');\n    if (gr.get('sys_update_name', 'sys_hub_flow_a0363aca4f21711054e85e8330ce0b7a')) {\n        sn_applyonce.ApplyOnce.doNotUpdate('sys_hub_flow_a0363aca4f21711054e85e8330ce0b7a.xml');\n        gs.info('Workflow sys_hub_flow_a0363aca4f21711054e85e8330ce0b7a was migrated to apply_once');\n    }\n\n}","sys_class_name":"sys_script_fix","sys_id":"3076cec3533331102485ddeeff7b124f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/143b677304352210559073c06a02f7e2","value":"143b677304352210559073c06a02f7e2"},"sys_update_name":"sys_script_fix_3076cec3533331102485ddeeff7b124f","sys_updated_by":"admin","sys_created_on":"2024-01-22 11:47:58","name":"Migrate workflow to apply_once folder","sys_name":"Migrate workflow to apply_once folder","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Migrates next experience filters that have a modern datasource payload (post-Tokyo) but are\n\t\t\tconfigured for a reference field on a Table. Reference fields in datasourses are not fully supported in\n\t\t\tthese modern payloads, especially in cascading filter scenarios.\n\t\t","sys_updated_on":"2024-06-25 11:57:40","sys_tags":"","record_for_rollback":"true","script":"\n\t\tfunction fixMigratedFilters() {\n\t\t\tif (pm.isZboot()) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar fixScript = \"Migrate ref. field datasource filters\";\n\n\t\t\tfunction getReferenceTable(table, field) {\n\t\t\t\tvar gr = new GlideRecord(table);\n\t\t\t\tif (gr.isValid()) {\n\t\t\t\t\tvar ge = gr.getElement(field);\n\t\t\t\t\tif (ge != null) {\n\t\t\t\t\t\tvar ed = ge.getED();\n\t\t\t\t\t\tif (ed != null && ed.isReference())\n\t\t\t\t\t\t\treturn ed.getReference();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tgs.error(table + '.' + field + ' is not valid or not a reference field', fixScript);\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tfunction migrateDatasource(oldDatasource) {\n\t\t\t\t// only update if the datasource is a reference field, in which case we need to convert to table source.\n\n\t\t\t\t// migration for filters configurations pre-Xanadu\n\t\t\t\tif (oldDatasource.type === 'table' &&\n\t\t\t\t\toldDatasource.table && oldDatasource.table.id &&\n\t\t\t\t\toldDatasource.field && oldDatasource.field.id &&\n\t\t\t\t\toldDatasource.field.type === 'reference' && !oldDatasource.field.reference) {\n\n\t\t\t\t\tvar reference = getReferenceTable(oldDatasource.table.id, oldDatasource.field.id);\n\t\t\t\t\tif (reference) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttype: oldDatasource.type,\n\t\t\t\t\t\t\ttable: {\n\t\t\t\t\t\t\t\tid: reference\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tencodedQuery: oldDatasource.encodedQuery,\n\t\t\t\t\t\t\temptyOption: oldDatasource.emptyOption,\n\t\t\t\t\t\t\tchoices: oldDatasource.choices\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// migration for Xanadu filters that may have been converted from an reference field configuration\n\t\t\t\tif (oldDatasource.type === 'table' &&\n\t\t\t\t\toldDatasource.payload &&\n\t\t\t\t\toldDatasource.payload.table &&\n\t\t\t\t\toldDatasource.payload.field &&\n\t\t\t\t\toldDatasource.payload.fieldType === 'reference'\n\t\t\t\t) {\n\t\t\t\t\treference = getReferenceTable(oldDatasource.payload.table, oldDatasource.payload.field);\n\t\t\t\t\tif (reference) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttype: oldDatasource.type,\n\t\t\t\t\t\t\tpayload: {\n\t\t\t\t\t\t\t\ttable: reference\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tencodedQuery: oldDatasource.encodedQuery,\n\t\t\t\t\t\t\temptyOption: oldDatasource.emptyOption,\n\t\t\t\t\t\t\tchoices: oldDatasource.choices\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn oldDatasource;\n\t\t\t}\n\n\t\t\tfunction updateFilterConfiguration(gr, table, field) {\n\t\t\t\tgr.query();\n\n\t\t\t\tgs.log(gr.getRowCount() + ' filters found in table ' + table + '. Updating filters in need of migration.', fixScript);\n\t\t\t\twhile (gr.next()) {\n\t\t\t\t\tvar properties = gr.getValue(field);\n\t\t\t\t\tif (properties) {\n\t\t\t\t\t\tvar parsedProperties = JSON.parse(properties);\n\t\t\t\t\t\tvar oldDatasource = parsedProperties.datasource;\n\t\t\t\t\t\tif (oldDatasource) {\n\t\t\t\t\t\t\tvar migratedDatasource = migrateDatasource(oldDatasource);\n\t\t\t\t\t\t\tif (migratedDatasource !== oldDatasource) {\n\t\t\t\t\t\t\t\tparsedProperties.datasource = migratedDatasource;\n\t\t\t\t\t\t\t\tgs.log('Migrating datasource for filter ' + gr.getUniqueValue() + ' stored in ' + table, fixScript);\n\t\t\t\t\t\t\t\tgr.setValue(field, JSON.stringify(parsedProperties));\n\t\t\t\t\t\t\t\tgr.update();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tgs.log('Filter datasource update started', fixScript);\n\t\t\t// Update filters in par_dashboard_widget\n\t\t\tvar table = 'par_dashboard_widget';\n\t\t\tvar filterGr = new GlideRecord(table);\n\t\t\tif (filterGr.isValid()) {\n\t\t\t\tfilterGr.addQuery('component.name', 'Filter');\n\t\t\t\tupdateFilterConfiguration(filterGr, table, 'component_props');\n\t\t\t}\n\n\t\t\t// Update filters in par_component_filter\n\t\t\ttable = 'par_component_filter';\n\t\t\tfilterGr = new GlideRecord(table);\n\t\t\tif (filterGr.isValid()) {\n\t\t\t\tfilterGr.addQuery('macroponent.name', 'Filter');\n\t\t\t\tupdateFilterConfiguration(filterGr, table, 'properties');\n\t\t\t}\n\t\t\tgs.log('Filter datasource update completed', fixScript);\n\t\t}\n\n\t\tfixMigratedFilters();","sys_class_name":"sys_script_fix","sys_id":"3123aeac4303021020cd4824c9b8f265","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/013ba77304352210559073c06a02f7f1","value":"013ba77304352210559073c06a02f7f1"},"sys_update_name":"sys_script_fix_3123aeac4303021020cd4824c9b8f265","sys_updated_by":"admin","sys_created_on":"2024-06-24 08:53:19","name":"Migrate ref. field datasource filters","sys_name":"Migrate ref. field datasource filters","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"41","description":"Let's migrate disabled action assignments with non-global table to action exclusion table.","sys_updated_on":"2019-09-18 11:17:50","sys_tags":"","record_for_rollback":"false","script":"var grAssignmentDisabled = new GlideRecord(\"sys_declarative_action_assignment\");\n\n// Delete dummy disabled records which have global as table name.\ngrAssignmentDisabled.addQuery(\"enabled\", false);\ngrAssignmentDisabled.addQuery(\"table\", 'global');\ngrAssignmentDisabled.query();\ngrAssignmentDisabled.deleteMultiple();\n\ngrAssignmentDisabled = new GlideRecord(\"sys_declarative_action_assignment\");\ngrAssignmentDisabled.addQuery(\"enabled\", false);\ngrAssignmentDisabled.addQuery(\"table\", '!=', 'global');\ngrAssignmentDisabled.query();\n\nwhile (grAssignmentDisabled.next()) {\n    var immutableTableList = GlideDBObjectManager.get().getTables(grAssignmentDisabled.getValue(\"table\"));\n\tvar tableList = [];\n\tfor (var i = 0; i < immutableTableList.size(); i++)\n\t\ttableList.push(immutableTableList.get(i));\n\n\ttableList.push(\"global\");\n    for (i = 0; i < tableList.length; i++) {\n        var grAssignmentEnabled = new GlideRecord(\"sys_declarative_action_assignment\");\n        grAssignmentEnabled.addQuery(\"action_name\", grAssignmentDisabled.getValue(\"action_name\"));\n        grAssignmentEnabled.addQuery(\"enabled\", true);\n        grAssignmentEnabled.addQuery(\"table\", tableList[i]);\n        grAssignmentEnabled.query();\n        if (grAssignmentEnabled.next()) {\n            var grExclusion = new GlideRecord(\"sys_workspace_declarative_action_exclusion\");\n            grExclusion.initialize();\n            grExclusion.setValue(\"action_assignment\", grAssignmentEnabled.getUniqueValue());\n            grExclusion.setValue(\"table\", grAssignmentDisabled.getValue(\"table\"));\n            grExclusion.setValue(\"exclude_self\", true);\n            grExclusion.setValue(\"exclude_all_child_tables\", true);\n            grExclusion.insert();\n            break;\n        }\n    }\n    grAssignmentDisabled.deleteRecord();\n}","sys_class_name":"sys_script_fix","sys_id":"31d0ccbb87333300db20eaa688cb0b96","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f39caf7b04352210559073c06a02f73f","value":"f39caf7b04352210559073c06a02f73f"},"sys_update_name":"sys_script_fix_31d0ccbb87333300db20eaa688cb0b96","sys_updated_by":"admin","sys_created_on":"2019-09-16 16:24:54","name":"Migrate disabled action assignments","sys_name":"Migrate disabled action assignments","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2022-04-12 00:43:02","sys_tags":"","record_for_rollback":"true","script":"var table = 'cmn_rota';\n\nvar dictionaryRecord = new GlideRecord('sys_dictionary');\ndictionaryRecord.addQuery('name', table);\ndictionaryRecord.addQuery('internal_type', \"collection\");\ndictionaryRecord.addQuery(\"text_index\", false);\ndictionaryRecord.query();\nif (dictionaryRecord.next()) {\n    dictionaryRecord.text_index = true;\n    dictionaryRecord.setWorkflow(false); //turn off workflow so cache is not flushed each time\n    dictionaryRecord.update();\n    GlideTextIndexEvent().indexAll(table, '');\n}","sys_class_name":"sys_script_fix","sys_id":"31d514b95b320110d17d0b83cc81c789","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_script_fix_31d514b95b320110d17d0b83cc81c789","sys_updated_by":"admin","sys_created_on":"2022-04-12 00:43:02","name":"Enable text indexing on On Call Shift","sys_name":"Enable text indexing on On Call Shift","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2022-05-26 23:30:51","sys_tags":"","record_for_rollback":"false","script":"GlideRunScriptJob.scheduleScript(\"new global.ServiceAvailabilityDomainMigration().start()\");","sys_class_name":"sys_script_fix","sys_id":"31ee227fc7670110a6dff2327ec2608c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4a39e3f704f12210559073c06a02f7f9","value":"4a39e3f704f12210559073c06a02f7f9"},"sys_update_name":"sys_script_fix_31ee227fc7670110a6dff2327ec2608c","sys_updated_by":"admin","sys_created_on":"2022-05-25 23:53:40","name":"Fix availability domain separation","sys_name":"Fix availability domain separation","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":" Set the active flag (to true) on existing records in the sys_update_set_source table, if it is set to NULL.\r\n","sys_updated_on":"2013-12-17 01:48:39","sys_tags":"","record_for_rollback":"false","script":"/**\n *  Set the active flag (to true) on existing records in the sys_update_set_source table\n *  if it is set to NULL.\n */\nfixUpdateSetSourceActive();\n\nfunction fixUpdateSetSourceActive() {\n\tvar src = new GlideRecord('sys_update_set_source');\n\tif(src.isValid()) {\n\t\tsrc.addNullQuery('active');\n\t\tsrc.query();\n\t\twhile (src.next()) {\n\t\t\tsrc.active = true;\n\t\t\tif (src.update()) {\n\t\t\t\tgs.log('Updated sys_update_set_source, name: '+src.name+', url: '+src.url+'active: '+src.active);\n\t\t\t}\n\t\t}\n\t}\n}\n","sys_class_name":"sys_script_fix","sys_id":"31f093333721110056cd2f3c8e41f153","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6154e3bb04312210559073c06a02f7f0","value":"6154e3bb04312210559073c06a02f7f0"},"sys_update_name":"sys_script_fix_31f093333721110056cd2f3c8e41f153","sys_updated_by":"admin","sys_created_on":"2013-12-17 01:24:54","name":"Fix Update Set Source Active","sys_name":"Fix Update Set Source Active","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"11","description":"This script removes unique attribute from tour_id column of sys_embedded_tour_guide table ","sys_updated_on":"2020-05-26 08:01:16","sys_tags":"","record_for_rollback":"false","script":"// set unique false\nvar gr = new GlideRecord(\"sys_dictionary\");\ngr.addQuery(\"element\", \"tour_id\");\ngr.addQuery(\"name\", \"sys_embedded_tour_guide\");\ngr.query();\ngr.next();\ngr.setValue(\"unique\", false);\ngr.setWorkflow(false);\ngr.update();\n\n// remove from DB \nvar tableName = 'sys_embedded_tour_guide';\nvar isUniqueIndex = true;\nvar columnsInIndex = ['tour_id'];\nvar util = new GlideIndexUtils();\nutil.dropByExactElementSequence(tableName, isUniqueIndex, columnsInIndex);","sys_class_name":"sys_script_fix","sys_id":"320d43ea532010109c22ddeeff7b128d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/183b677304352210559073c06a02f7e1","value":"183b677304352210559073c06a02f7e1"},"sys_update_name":"sys_script_fix_320d43ea532010109c22ddeeff7b128d","sys_updated_by":"admin","sys_created_on":"2020-05-06 13:08:16","name":"Remove unique from tour_id","sys_name":"Remove unique from tour_id","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Alters the name field on the cmdb_policy_type field for data manager policies to be translated_text","sys_updated_on":"2023-10-31 16:18:07","sys_tags":"","record_for_rollback":"true","script":"(function () {\n\tif (pm.isZboot()) {\n\t\tgs.info('zbooting, not running cmdb_policy_type alter name to translate fix');\n\t\treturn;\n\t}\n\n\tvar gr = new GlideRecord('sys_dictionary');\n\tgr.addQuery('name', 'cmdb_policy_type');\n\tgr.addQuery('element', 'name');\n\tgr.addQuery('internal_type', 'string');\n\tgr.query();\n\t\n\tif(gr.next()) {\n\t\tnew TranslationUtils().convert(\"cmdb_policy_type\",[\"name\"]);\n\t\tgs.info('cmdb_policy_type.name internal type changed to \"translated_text\"');\n\t}\n})();","sys_class_name":"sys_script_fix","sys_id":"322923104396711017b739603ab8f2c4","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"sys_update_name":"sys_script_fix_322923104396711017b739603ab8f2c4","sys_updated_by":"admin","sys_created_on":"2023-10-31 16:18:07","name":"cmdb_policy_type alter name to translate","sys_name":"cmdb_policy_type alter name to translate","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Delete NLU model - \"NLU to track UR status\" because the intent present in the model is merged in the \"UR: NLU Model for VA\" model.","sys_updated_on":"2021-10-07 10:29:45","sys_tags":"","record_for_rollback":"false","script":"deleteTrackURStatusModel();\n\nfunction deleteTrackURStatusModel() {\n    if (GlidePluginManager().isActive(\"com.snc.universal_request.nlu\")) {\n        var modelGr = new GlideRecord(\"sys_nlu_model\");\n        if (modelGr.get(\"95d979c253b22010b87bddeeff7b12c8\")) //sys_id of NLU model: NLU to track UR status\n            modelGr.deleteRecord();\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"3270be2553833010f155ddeeff7b12cf","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2c672bfb04b12210559073c06a02f70a","value":"2c672bfb04b12210559073c06a02f70a"},"sys_update_name":"sys_script_fix_3270be2553833010f155ddeeff7b12cf","sys_updated_by":"admin","sys_created_on":"2021-10-07 07:33:50","name":"Delete model: NLU to track UR status","sys_name":"Delete model: NLU to track UR status","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"This will update proper value for multiple_elements_view column in pa_widgets table. \r\nto compute multiple_elements_view we need indicator aggregate type and widget type.","sys_updated_on":"2019-03-14 18:49:00","sys_tags":"","record_for_rollback":"false","script":"SNC.PAMultiElementUtil.updateMultipleElementViewColumnInWidgets();","sys_class_name":"sys_script_fix","sys_id":"329af7635fc03300ed3926e6ee73131f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/539a23bf04f12210559073c06a02f7aa","value":"539a23bf04f12210559073c06a02f7aa"},"sys_update_name":"sys_script_fix_329af7635fc03300ed3926e6ee73131f","sys_updated_by":"admin","sys_created_on":"2019-03-14 06:18:08","name":"Update aggregate type in widgets","sys_name":"Update aggregate type in widgets","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"2","description":"sys_ux_form_action.name cannot be localized because it is type string. This fix script changes it to translated_text to fix that.","sys_updated_on":"2022-05-11 20:20:21","sys_tags":"","record_for_rollback":"false","script":"\n//run only on upgrades\nif (!pm.isZboot()) {\n    new TranslationUtils().convert(\"sys_ux_form_action\", [\"name\"]);\n    gs.info('sys_ux_form_action.name internal type changed to \"translated_text\"');\n}\n","sys_class_name":"sys_script_fix","sys_id":"32a77d5753130110ee22ddeeff7b12f8","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b2936bf304312210559073c06a02f759","value":"b2936bf304312210559073c06a02f759"},"sys_update_name":"sys_script_fix_32a77d5753130110ee22ddeeff7b12f8","sys_updated_by":"admin","sys_created_on":"2022-05-11 20:15:00","name":"UXFormAction name to translated_text typ","sys_name":"UXFormAction name to translated_text typ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"- Check if all the Models are of same language \r\n- Check if all the models are part of a group.","sys_updated_on":"2021-06-07 16:09:17","sys_tags":"","record_for_rollback":"false","script":"(function() {\n    var tables = NLUConstants.tables;\n    var sysProps = NLUConstants.SYS_PROPS;\n    var primaryField = NLUImportUtil.FIELDS_DATA[tables.SYS_NLU_MODEL].primaryField;\n\n    var allSameLanguage = true;\n    var foundUngroupedModel = false;\n\n    var modelLang = null;\n    var modelGr = new GlideRecord(tables.SYS_NLU_MODEL);\n    modelGr.query();\n    while (modelGr.next()) {\n        var language = NLUModel.getLanguage(modelGr);\n        if (!modelLang) modelLang = language;\n        if (modelLang !== language) allSameLanguage = false;\n\n        if (!modelGr.getValue(primaryField)) {\n            var otherModelGr = new GlideRecord(tables.SYS_NLU_MODEL);\n            if (!otherModelGr.get(primaryField, modelGr.getUniqueValue())) {\n                gs.info('Found an ungrouped model: ' + modelGr.getUniqueValue());\n                foundUngroupedModel = true;\n                break;\n            }\n        }\n    }\n\n    if (!allSameLanguage && foundUngroupedModel) {\n        gs.info('NLU Model migration is complete!');\n        gs.setProperty(sysProps.MIGRATION_COMPLETED, 'true');\n    }\n\n})();","sys_class_name":"sys_script_fix","sys_id":"32c45f130726201028ef0a701ad300e4","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_script_fix_32c45f130726201028ef0a701ad300e4","sys_updated_by":"admin","sys_created_on":"2021-03-03 03:54:14","name":"Check NLU Model Migration is Complete","sys_name":"Check NLU Model Migration is Complete","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Remove definitions with empty definition IDs from usageanalytics_count_cfg","sys_updated_on":"2022-03-15 21:35:20","sys_tags":"","record_for_rollback":"true","script":"var gr = new GlideRecord('usageanalytics_count_cfg');\ngr.addEncodedQuery('definition_idISEMPTY');\ngr.addQuery('count_type','Licensing');\ngr.setWorkflow(false);\ngr.deleteMultiple(); ","sys_class_name":"sys_script_fix","sys_id":"3377244dc3d28110aea12ed8b540dd2f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8bc96fbb04f12210559073c06a02f755","value":"8bc96fbb04f12210559073c06a02f755"},"sys_update_name":"sys_script_fix_3377244dc3d28110aea12ed8b540dd2f","sys_updated_by":"admin","sys_created_on":"2022-03-15 21:35:20","name":"Remove Empty Definition IDs","sys_name":"Remove Empty Definition IDs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":"read"},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"*Removes the ReleaseProduct.number as it has only public - read\r\n*Removes the ReleaseProject.number as it has only public - read\r\n*Removes the ReleaseProject.relase_history as it has only public - read","sys_updated_on":"2017-06-21 07:00:50","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\t\n\tvar _isACLCustomized = function(aclRoleRecord) {\n\t\t\n\t\tvar isAvailable;\n\t\tvar fileId = aclRoleRecord.sys_security_acl.sys_id;\n\t\tvar gr = new GlideRecord('sys_update_xml');\n\t\tgr.addQuery('name', 'sys_security_acl_'+fileId);\n\t\tgr.query();\n\t\tif(gr.getRowCount() > 0)\n\t\t\tisAvailable = true;\n\t\treturn isAvailable;\n\t};\n\t\n\tvar _isACLRolesCustomized = function(aclRoleRecord) {\n\t\t\n\t\tvar isAvailable;\n\t\t\n\t\tvar gr = new GlideRecord('sys_update_xml');\n\t\tgr.addQuery('type', 'Access Roles');\n\t\tgr.addQuery('target_name', 'CONTAINS', aclRoleRecord.sys_security_acl.name);\n\t\tgr.query();\n\t\tif(gr.getRowCount() > 0)\n\t\t\tisAvailable = true;\n\t\t\n\t\treturn isAvailable;\n\t};\n\t\n\tvar _deleteACL = function(aclRoleRecord) {\n\t\t\n\t\tif(_isACLCustomized(aclRoleRecord)) {\n\t\t\treturn;\n\t\t} else {\n\t\t\tif(_isACLRolesCustomized(aclRoleRecord))\n\t\t\t\taclRoleRecord.deleteRecord();\n\t\t\telse\n\t\t\t\taclRoleRecord.sys_security_acl.getRefRecord().deleteRecord();\n\t\t}\n\t};\n\t\n\t\n\tvar role = new GlideRecord('sys_security_acl_role');\n\tvar roleCondition = role.addQuery('sys_security_acl.name', 'release_product.number');\n\troleCondition.addOrCondition('sys_security_acl.name', 'release_project.number');\n\troleCondition.addOrCondition('sys_security_acl.name', 'release_project.release_history');\n\trole.addQuery('sys_user_role.name', 'public');\n\trole.addQuery('sys_security_acl.operation.name', 'read');\n\trole.query();\n\t\n\twhile(role.next()) {\n\t\t_deleteACL(role);\n\t}\n})();","sys_class_name":"sys_script_fix","sys_id":"33ecb9d0872332008b9b3a0548cb0b90","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bca7e37f04b12210559073c06a02f733","value":"bca7e37f04b12210559073c06a02f733"},"sys_update_name":"sys_script_fix_33ecb9d0872332008b9b3a0548cb0b90","sys_updated_by":"admin","sys_created_on":"2017-06-20 09:27:53","name":"ReleaseProduct & ReleaseProject ACL Fix","sys_name":"ReleaseProduct & ReleaseProject ACL Fix","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"14","description":"Update 'CC Notifications' label  to 'All notifications' in sys_user_delegate","sys_updated_on":"2020-08-11 17:30:00","sys_tags":"","record_for_rollback":"false","script":"if (!pm.isZboot()) {\n\tgs.print(\"Update notifications label for sys_user_delegate\");\n\tupdateNotificationLabel('sys_user_delegate');\n}\n\nfunction updateNotificationLabel(tableName) {\n\tif(!GlideTableDescriptor.isValid(tableName))\n\t\treturn;\n\tvar gr = new GlideRecord('sys_dictionary');\n\tgr.addQuery('name', tableName);\n\tgr.addQuery('element', 'notifications');\n\tgr.addQuery('column_label', 'CC Notifications');\n\tgr.query();\n\tif (gr.next()) {\n\t\tgr.setValue('column_label', 'All notifications');\n\t\tgr.setWorkflow(false);\n\t\tgr.update();\n\t}\n\tgr = new GlideRecord('sys_documentation');\n\tgr.addQuery('name', tableName);\n\tgr.addQuery('element', 'notifications');\n\tgr.addQuery('language', 'en');\n\tgr.addQuery('label', 'CC Notifications');\n\tgr.query();\n\tif (gr.next()) {\n\t\tgr.setValue('label', 'All notifications');\n\t\tgr.setValue('plural', 'All notifications');\n\t\tgr.setWorkflow(false);\n\t\tgr.update();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"342711bd5b22101037ab33f43381c753","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/19c7e3bf04b12210559073c06a02f74b","value":"19c7e3bf04b12210559073c06a02f74b"},"sys_update_name":"sys_script_fix_342711bd5b22101037ab33f43381c753","sys_updated_by":"admin","sys_created_on":"2020-08-11 07:04:00","name":"Update Delegation Notification Label","sys_name":"Update Delegation Notification Label","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"9","description":"Update the trigger class on Flow Engine Event Handler Jobs","sys_updated_on":"2020-03-13 15:00:13","sys_tags":"","record_for_rollback":"false","sys_class_name":"sys_script_fix","sys_id":"34816cfb0f130010f5bf5ae9c4767ed4","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/063be77304352210559073c06a02f7e4","value":"063be77304352210559073c06a02f7e4"},"sys_update_name":"sys_script_fix_34816cfb0f130010f5bf5ae9c4767ed4","sys_updated_by":"admin","sys_created_on":"2020-03-08 18:32:14","name":"Update PFJob to EventHandlerJob","sys_name":"Update PFJob to EventHandlerJob","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"russ.sarbora","sys_policy":"protected"},{"before":"false","unloadable":"false","sys_mod_count":"6","description":"","sys_updated_on":"2018-10-05 19:59:46","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tfunction updateLabelAndHint(table, field) {\n\t\tvar doc = new GlideRecord('sys_documentation');\n\t\tdoc.addQuery('name', table);\n\t\tdoc.addQuery('element', field);\n\t\tdoc.addQuery('language', 'en');\n\t\tdoc.query();\n\n\t\tif (!doc.next()) {\n\t\t\tgs.warn('Update email account security: unable to find documentation for ' + field);\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tvar currentLabel = doc.getValue('label');\n\t\tif (currentLabel && currentLabel.length > 0) {\n\t\t\tdoc.setValue('label', currentLabel + ' (Deprecated)');\n\t\t} else {\n\t\t\tgs.warn('Update email account security: existing label was empty');\n\t\t}\n\t\t\n\t\tdoc.setValue('hint', 'This field has been deprecated, use Connection Security field to configure the security of the connection');\n\t\tdoc.update();\n\t\tgs.info('Update email account security: updated hint for ' + field);\n\t}\n\t\n\tfunction setCompletionProperty() {\n\t\tgs.setProperty('glide.email.account_security_upgrade_complete', true);\n\t}\n\t\n\tif (pm.isZboot()) {\n\t\tsetCompletionProperty();\n\t\treturn;\n\t}\n\t\n\tupdateLabelAndHint('sys_email_account', 'enable_ssl');\n\tupdateLabelAndHint('sys_email_account', 'enable_tls');\n\t\n\tvar emailAccountSecurity = new EmailAccountSecurity();\n\tvar account = new GlideRecord('sys_email_account');\n\taccount.query();\n\twhile (account.next()) {\n\t\temailAccountSecurity.migrate(account);\n\t\taccount.update();\n\t}\n\t\n\tsetCompletionProperty();\n\tgs.info('Update email account security: updating email accounts complete');\n})();","sys_class_name":"sys_script_fix","sys_id":"34cca214572023007f004758ef94f993","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8308a33304f12210559073c06a02f7a9","value":"8308a33304f12210559073c06a02f7a9"},"sys_update_name":"sys_script_fix_34cca214572023007f004758ef94f993","sys_updated_by":"admin","sys_created_on":"2018-09-10 22:27:14","name":"Update email account security","sys_name":"Update email account security","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"For exsiting IAR notifications, add category","sys_updated_on":"2023-01-20 07:53:05","sys_tags":"","record_for_rollback":"true","script":"updateCategory();\n\nfunction updateCategory() {\n\t\n\tvar chatCategorySysId = \"624ff8fe532230103296ddeeff7b121f\"; //Sys Id for Chat Notification Category\n\t\n\tvar iarNotificationSysIds = [\"a30544195377101055eeddeeff7b123b\" /*IAR*/, \"24bc920653510110af71ddeeff7b1207\" /*IAR Reminder*/];\n\t\n\tvar gr = new GlideRecord(\"sys_notification\");\n\tgr.addQuery(\"sys_id\", \"IN\", iarNotificationSysIds);\n\t\n\tgr.setValue(\"category\", chatCategorySysId);\n\tgr.updateMultiple();\n\tgs.info(\"Executing IAR fix script: Updated IAR notification's category to be Chat\");\n}","sys_class_name":"sys_script_fix","sys_id":"34fe473877602110f14a24f1cd5a991e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca4f3f704b52210559073c06a02f789","value":"aca4f3f704b52210559073c06a02f789"},"sys_update_name":"sys_script_fix_34fe473877602110f14a24f1cd5a991e","sys_updated_by":"admin","sys_created_on":"2023-01-20 07:44:06","name":"Update  IAR Notification Category","sys_name":"Update  IAR Notification Category","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"4","description":"Read the property value and set the correct trigger type of click-metrics scheduled jobs.\r\nThis is to make sure the trigger types are in sync with the property value.","sys_updated_on":"2022-05-06 20:27:14","sys_tags":"","record_for_rollback":"true","script":"var val = gs.getProperty(global.VAClickMetricsConstants.CLICK_METRICS_EVENT_ENABLED_PROP_NAME);\n\nif (!gs.nil(val)) {\n\tvar eventEnabled = (val === 'true');\n\tglobal.VAClickMetrics.updateClickMetricsScheduleJobTriggerType(eventEnabled);\n}","sys_class_name":"sys_script_fix","sys_id":"350713a9eb5b011054009861eb522879","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_350713a9eb5b011054009861eb522879","sys_updated_by":"admin","sys_created_on":"2022-05-06 17:08:47","name":"Sync Click-Metrics Schedule Trigger Type","sys_name":"Sync Click-Metrics Schedule Trigger Type","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"","sys_updated_on":"2023-08-29 06:49:14","sys_tags":"","record_for_rollback":"true","script":"updateSmAccess();\n\nfunction updateSmAccess() {\n\tvar pm = new GlidePluginManager();\n    if (pm.isZboot())\n        return;\n    var ob = new GlideRecord(\"sys_db_object\");\n    ob.addQuery(\"name\", \"sn_sm_secret\");\n    ob.query();\n    if (ob.next()) {\n        ob.create_access = \"false\";\n        ob.delete_access = \"false\";\n        ob.update_access = \"false\";\n        ob.ws_access = \"false\";\n        ob.alter_access = \"false\";\n        ob.actions_access = \"false\";\n        ob.client_scripts_access = \"false\";\n        ob.setWorkflow(false);\n        ob.update();\n        gs.log(\"Updated sn_sm_secret table's application access. \");\n        return;\n    }\n    gs.log(\"Table sn_sm_secret does not exist.\");\n}","sys_class_name":"sys_script_fix","sys_id":"35b90580530131106cdbddeeff7b12e4","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fff9affb04f12210559073c06a02f79b","value":"fff9affb04f12210559073c06a02f79b"},"sys_update_name":"sys_script_fix_35b90580530131106cdbddeeff7b12e4","sys_updated_by":"admin","sys_created_on":"2023-08-29 06:46:09","name":"updateSmAccess","sys_name":"updateSmAccess","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Remove Audit attribute for sys_atf_performance_repetitive_timeout","sys_updated_on":"2024-10-15 20:17:26","sys_tags":"","record_for_rollback":"true","script":"var tablesList = [\"sys_atf_performance_repetitive_timeout\"];\n\t\tdisableAudit();\n\n\t\tfunction disableAudit() {\n\t\tgs.info(\"Executing PI fix script: Reduce audit footprint \" + tablesList);\n\t\tvar gr = new GlideRecord('sys_dictionary');\n\t\tgr.addQuery('name', 'IN', tablesList);\n\t\tgr.addQuery('internal_type', 'collection');\n\t\tgr.addQuery(\"audit\", true);\n\n\t\tgr.setValue(\"audit\", false);\n\t\tgr.updateMultiple();\n\t\t}","sys_class_name":"sys_script_fix","sys_id":"35dc3ac9ff111210870bffffffffff49","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/98992b7b04f12210559073c06a02f70d","value":"98992b7b04f12210559073c06a02f70d"},"sys_update_name":"sys_script_fix_35dc3ac9ff111210870bffffffffff49","sys_updated_by":"admin","sys_created_on":"2024-10-15 20:17:26","name":"Remove Audit for sys_atf_performance_rep","sys_name":"Remove Audit for sys_atf_performance_rep","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"This fix script deletes existing indexes on the name column from sys_cb_topic and sys_cs_topic tables. ","sys_updated_on":"2020-12-18 18:46:35","sys_tags":"","record_for_rollback":"false","script":"var util = new GlideIndexUtils();\nutil.dropByExactElementSequence('sys_cs_topic', true, ['name']);\nutil.dropByExactElementSequence('sys_cb_topic', true, ['name']);","sys_class_name":"sys_script_fix","sys_id":"3631dc6bc70120105a06145bf4c2604b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_3631dc6bc70120105a06145bf4c2604b","sys_updated_by":"admin","sys_created_on":"2020-12-18 18:46:35","name":"Delete old VA topic indexes","sys_name":"Delete old VA topic indexes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"53","description":"Updates Dirty, LastPublishedOn and LastTrainedOn in nlu_model_status table.\r\nModel is dirty if: \r\n- Neither published or trained.\r\n- Model is updated after published / trained.","sys_updated_on":"2020-09-25 13:44:18","sys_tags":"","record_for_rollback":"false","script":"var tables = NLUConstants.tables;\n\nfunction updateModelStateDict() {\n    var dictGr = new GlideRecord(tables.SYS_DICTIONARY);\n    dictGr.addQuery('name', tables.SYS_NLU_MODEL);\n    dictGr.addQuery('element', 'state');\n    dictGr.query();\n    if (dictGr.next()) {\n        dictGr.setValue('calculation', 'var nluModel = new global.NLUModel(current.sys_id);current.state = nluModel.getState();');\n        dictGr.update();\n        gs.info('NLU Model: Upgraded state virtual column');\n    }\n}\n\nfunction updateEntityDict() {\n    var dictGr = new GlideRecord(tables.SYS_DICTIONARY);\n    dictGr.addQuery('name', tables.SYS_NLU_ENTITY);\n    dictGr.addQuery('element', 'field_name');\n    dictGr.query();\n    if (dictGr.next()) {\n        dictGr.setValue('internal_type', 'string');\n        dictGr.setValue('max_length', '100');\n        dictGr.setValue('dependent_on_field', '');\n        dictGr.update();\n        gs.info('NLU Entity: Upgraded field_name column details');\n    }\n}\n\n(function() {\n\n    var modelId, modelGr, parloIntegrator, result, lastPublishedOrTrained, modelUpdatedOn;\n\n    updateModelStateDict();\n    updateEntityDict();\n\n    var gr = new GlideRecord(tables.SYS_NLU_MODEL_STATUS);\n    gr.query();\n    while (gr.next()) {\n        modelId = gr.getValue('model');\n        modelGr = new GlideRecord(tables.SYS_NLU_MODEL);\n        if (!modelGr.get(modelId)) {\n            gs.info('NLU Model: ' + modelId + ' - ERROR: nlu_model record does not exist!');\n            continue;\n        }\n        parloIntegrator = new NLUParloIntegrator(modelGr);\n        lastPublishedOrTrained = null;\n\n        result = parloIntegrator.getModelStatus();\n        if (result && result.status === 'success') {\n            if (result.lastPublishedOn) {\n                lastPublishedOrTrained = new GlideDateTime(result.lastPublishedOn);\n                gs.info('NLU Model: ' + modelId + ' - Updating published on: ' + lastPublishedOrTrained.getDisplayValueInternal());\n                gr.setValue('last_published_on', lastPublishedOrTrained);\n            }\n\n            if (result.lastTrainedOn) {\n                var lastTrainedOn = new GlideDateTime(result.lastTrainedOn);\n                lastPublishedOrTrained = NLUHelper.getLatestDate(lastPublishedOrTrained, lastTrainedOn);\n                gs.info('NLU Model: ' + modelId + ' - Updating trained on: ' + lastTrainedOn.getDisplayValueInternal());\n                gr.setValue('last_trained_on', lastTrainedOn);\n            }\n        }\n\n        modelUpdatedOn = NLUModel.getLastUpdatedOn(modelId);\n        gs.info('NLU Model: ' + modelId + ' - Updated on: ' + modelUpdatedOn.getDisplayValueInternal());\n        var dirty = !lastPublishedOrTrained || (modelUpdatedOn.getNumericValue() > lastPublishedOrTrained.getNumericValue());\n        gs.info('NLU Model: ' + modelId + ' - Updating dirty: ' + dirty);\n        gr.setValue('dirty', dirty);\n        gr.setValue('model_updated_on', modelUpdatedOn);\n        gr.update();\n    }\n})();","sys_class_name":"sys_script_fix","sys_id":"373beaab07b11010220b0a701ad3002e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_script_fix_373beaab07b11010220b0a701ad3002e","sys_updated_by":"admin","sys_created_on":"2020-07-10 18:25:54","name":"Update NLU Model Status Table","sys_name":"Update NLU Model Status Table","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"6","description":"","sys_updated_on":"2021-08-18 12:41:22","sys_tags":"","record_for_rollback":"false","script":"var tables = global.NLUConstants.tables;\n\nfunction getTrainedModels() {\n    var solutionNames;\n    var aggr = new GlideAggregate(tables.ML_SOLUTION);\n    aggr.addQuery('capability', 'nlu_trainer');\n    aggr.addQuery('state', 'solution_complete');\n    aggr.groupBy('solution_name');\n    aggr.query();\n    while (aggr.next()) {\n        var solName = aggr.getValue('solution_name');\n        solutionNames = (solutionNames ? solutionNames + ',' : '') + solName + ',' + solName.substring(3);\n    }\n\n    var gr = new GlideRecord(tables.SYS_NLU_MODEL);\n    gr.addQuery('name', 'IN', solutionNames);\n    gr.addQuery('oob', false);\n    gr.query();\n    return gr;\n}\n\nvar modelGr = getTrainedModels();\nvar count = 0;\nwhile (modelGr.next()) {\n    try {\n        var modelId = modelGr.getUniqueValue();\n        var executionGr = sn_nlu_workbench.NLUConflictExecution.getLatestExecution(modelId);\n        var nluModel = new global.NLUModel(modelId);\n        var modelStatus = nluModel.syncStatus();\n        var lastTrainedTimestamp = !gs.nil(modelStatus) && !gs.nil(modelStatus.lastTrainedOn) ?\n            new GlideDateTime(modelStatus.lastTrainedOn).getValue() : null;\n        if (!executionGr || (lastTrainedTimestamp > executionGr.getValue('sys_created_on'))) {\n            sn_nlu_workbench.NLUConflictDefinition.analyseConflicts([modelId], executionGr && executionGr.getValue('conflict_definition'));\n            count = count + 1;\n        }\n\n    } catch (e) {\n        gs.error('NLU Conflict : Unable to run conflcit analysis on model with sysId {0}', modelId);\n    }\n}\ngs.info('NLU Conflict : Conflict analysis ran on {0} models', count);","sys_class_name":"sys_script_fix","sys_id":"37a9e8edebce30105de665fcc8522818","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_update_name":"sys_script_fix_37a9e8edebce30105de665fcc8522818","sys_updated_by":"admin","sys_created_on":"2021-08-18 04:31:32","name":"Trigger conflict analysis","sys_name":"Trigger conflict analysis","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"7","description":"Checks to see Dependent CI policies are actively used (typically a Closed Complete policy task in the last 6 months). Then, investigate whether sys_properties record cmdb.dependent.ci.cascade.op.enabled is present. If the property isn't present create a new one with a fixed sys_id.","sys_updated_on":"2024-05-15 04:18:15","sys_tags":"","record_for_rollback":"true","script":"(function() {\n    var PROP_NAME = 'cmdb.dependent.ci.cascade.op.enabled';\n\n    gs.log(\"CMDB Data Manager - dependent ci property fix script - checking for existence of \" + PROP_NAME);\n    var grSysProp = new GlideRecord('sys_properties');\n    grSysProp.addQuery('name', PROP_NAME);\n    grSysProp.query();\n    if (grSysProp.hasNext()) {\n        gs.log(\"CMDB Data Manager - dependent ci property fix script - Found \" + PROP_NAME + \" customized on instance, doing nothing\");\n        return;\n    }\n\n    var grTask = new GlideRecord('cmdb_data_management_task');\n    grTask.addEncodedQuery('policy_id=523284e87301011026f6aa114df6a753^ORpolicy_id=e23d4a9973f2701026f6aa114df6a741^ORpolicy_id=54618b76533130108cabddeeff7b12c2^state=3');\n    grTask.setLimit(1);\n    grTask.query();\n    var isDependentCiPolicyInUse = grTask.hasNext();\n    gs.log(\"CMDB Data Manager - dependent ci property fix script - \" + (isDependentCiPolicyInUse ? \"FOUND\" : \"DID NOT FIND\") + \" at least 1 dependent CI task\");\n\n    createDependentCiSysProp(isDependentCiPolicyInUse);\n\n    function createDependentCiSysProp(value) {\n        var newSysProp = new GlideRecord('sys_properties');\n        newSysProp.setValue('name', PROP_NAME);\n        newSysProp.setValue('value', value + \"\");\n        newSysProp.setValue('description', 'Enables the dependent CI cleanup features of CMDB Data Manager'); // description is Translated Text type field\n        newSysProp.setNewGuidValue('5ce87fb04302021002f939603ab8f2a5'); // OOB sys_id for the cmdb.dependent.ci.cascade.op.enabled system property\n        var newSysId = newSysProp.insert();\n        gs.log(\"CMDB Data Manager - dependent ci property fix script - Inserted new record \" + PROP_NAME + \" with value \" + value + \" and sysId \" + newSysId);\n    }\n\n})();","sys_class_name":"sys_script_fix","sys_id":"3806df5d438e421002f939603ab8f2b0","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"sys_update_name":"sys_script_fix_3806df5d438e421002f939603ab8f2b0","sys_updated_by":"admin","sys_created_on":"2024-05-08 03:40:34","name":"CMDB Data Manager - add dependent prop","sys_name":"CMDB Data Manager - add dependent prop","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Guided Tours has one script include being duplicated in couple customer instances.. Mark duplicate script include \"Active=False\"","sys_updated_on":"2023-04-19 06:04:36","sys_tags":"","record_for_rollback":"true","script":"\tvar VALID_SYS_ID = '4f359da087733200b38c0f4c59cb0b78';\n\tvar gr = new GlideRecord(\"sys_script_include\");\n\tgr.addQuery(\"api_name\", \"sn_tourbuilder.GTAutoLaunchController\");\n\tgr.query();\n\twhile(gr.next()) {\n\t\tif(gr.getUniqueValue() !== VALID_SYS_ID) {\n\t\t\tgs.info(gr.getUniqueValue());\n\t\t\tgr.active = \"false\";\n\t\t\tgr.setWorkflow(false);\n\t\t\tgr.autoSysFields(false);\n\t\t\tgr.update();\n\t\t} else {\n\t\t\tif(!!gr.getValue('active')) {\n\t\t\t\tgr.active = \"true\";\n\t\t\t\tgr.setWorkflow(false);\n\t\t\t\tgr.autoSysFields(false);\n\t\t\t\tgr.update();\n\t\t\t}\n\t\t}\n\t}\n\n\t","sys_class_name":"sys_script_fix","sys_id":"380a24f053022110db8fddeeff7b128d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_update_name":"sys_script_fix_380a24f053022110db8fddeeff7b128d","sys_updated_by":"admin","sys_created_on":"2023-04-04 09:11:27","name":"Fix Tours duplicate Script Include issue","sys_name":"Fix Tours duplicate Script Include issue","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"","sys_updated_on":"2020-09-09 11:49:23","sys_tags":"","record_for_rollback":"false","script":"var choiceValues = new GlideRecord(\"sys_choice\");\nchoiceValues.addQuery(\"value\", \"master_screen_parameter\");\nchoiceValues.addQuery(\"name\", \"sys_sg_embedded_screen_map\");\nchoiceValues.addQuery(\"element\", \"type\");\nchoiceValues.query();\n\nwhile(choiceValues.next()) {\n\tvar language = choiceValues.language;\n\tif (!language)\n\t\tcontinue;\n\t\t\n\tif (language != \"en\") {\n\t\tvar translation = new GlideRecord(\"sys_ui_message\");\n\t\ttranslation.addQuery(\"key\", \"Main screen parameter\");\n\t\ttranslation.addQuery(\"language\", language);\n\t\ttranslation.setLimit(1);\n\t\ttranslation.query();\n\n\t\t// Skip if no sys_message translation so we don't replace with the English translation\n\t\tif(!translation.hasNext()) {\n\t\t\tgs.log(\"No translation exists for Main screen parameter in \" + language);\n\t\t\tcontinue;\n\t\t}\n\t}\n\n\tchoiceValues.label = gs.getMessageLang(\"Main screen parameter\", language);\n\tchoiceValues.setWorkflow(false);\n\tchoiceValues.update();\n}","sys_class_name":"sys_script_fix","sys_id":"38143bcb5b071010a175309fb681c731","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/eec96fbb04f12210559073c06a02f711","value":"eec96fbb04f12210559073c06a02f711"},"sys_update_name":"sys_script_fix_38143bcb5b071010a175309fb681c731","sys_updated_by":"admin","sys_created_on":"2020-09-09 11:47:36","name":"sys_script_fix","sys_name":"sys_script_fix","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Add \"Software\" to Model Category field in Software Model table","sys_updated_on":"2018-10-01 18:28:28","sys_tags":"","record_for_rollback":"false","script":"addSoftwareToModelCategoryInSoftwareModel();\n\nfunction addSoftwareToModelCategoryInSoftwareModel() {\n\tvar MODEL_CATEGORY_SOFTWARE = 'eefe7854c3031000b959fd251eba8f1e';\n\tvar gr = new GlideRecord('cmdb_software_product_model');\n\tgr.query();\n\twhile (gr.next()) {\n\t\tvar modelCatList = gr.getValue('cmdb_model_category');\n\t\tif (gs.nil(modelCatList)) {\n\t\t\tgr.setValue('cmdb_model_category', MODEL_CATEGORY_SOFTWARE);\n\t\t\tgr.setWorkflow(false);\n\t\t\tgr.update();\n\t\t} else if (!modelCatList.includes(MODEL_CATEGORY_SOFTWARE)) {\n\t\t\tgr.setValue('cmdb_model_category', modelCatList + ',' + MODEL_CATEGORY_SOFTWARE);\n\t\t\tgr.setWorkflow(false);\n\t\t\tgr.update();\n\t\t}\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"387d3d0b533023009961ddeeff7b1213","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e325237304712210559073c06a02f7be","value":"e325237304712210559073c06a02f7be"},"sys_update_name":"sys_script_fix_387d3d0b533023009961ddeeff7b1213","sys_updated_by":"admin","sys_created_on":"2018-10-01 18:28:28","name":"Add Software to Model Category in SW Mdl","sys_name":"Add Software to Model Category in SW Mdl","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"34","description":"Change credential tag field type from string to glide list. Migrate tag field in credential table to credential tag table, and update the tag field in credentials with credential tag reference.\r\n","sys_updated_on":"2017-06-13 03:46:49","sys_tags":"","record_for_rollback":"false","script":"gs.log(\"Start to migrate credential tags in discover_credential table ...\");\nchangeCredTagTypeToGlideList();\nmigrateCredTags();\n\n\nfunction changeCredTagTypeToGlideList() {\n\tvar gr = new GlideRecord(\"sys_dictionary\");\n\tgr.addQuery(\"name\", \"discovery_credentials\");\n\tgr.addQuery(\"element\", \"tag\");\n\tgr.query();\n\tif (gr.next()) {\n\t\tgr.setValue(\"internal_type\", \"glide_list\");\n\t\tgr.setValue(\"reference\", \"sys_alias\");\n\t\tgr.update();\n\t}\n}\n\nfunction migrateCredTags() {\n\tvar credGr = new GlideRecord(\"discovery_credentials\");\n\tcredGr.addNotNullQuery(\"tag\");\n\tcredGr.query();\n\t\n\tgs.log(\"Credential tag migration: Find \" + credGr.getRowCount() + \" credential records have tags\");\n\t\n\twhile(credGr.next()) {\n\t\tgs.log(\"Credential \" + credGr.name + \" has tag:  \"  +  credGr.tag );\n\t\t\n\t\tvar tagSysIds = \"\";\n\t\tvar tags = credGr.tag.split(\",\");\n\t\t\n\t\tfor (var i in tags) {\n\t\t\tvar tag = tags[i].trim();\n\t\t\tvar tagSysId = \"\";\n\t\t\t\n\t\t\tvar credTagGr = new GlideRecord(\"sys_alias\");\n\t\t\tcredTagGr.addEncodedQuery(\"name=\"+tag+\"^ORsys_id=\"+tag);\n\t\t\tcredTagGr.query();\n\t\t\t\n\t\t\tif (credTagGr.next())\n\t\t\t\ttagSysId = credTagGr.getUniqueValue();\n\t\t\telse {\n\t\t\t\tvar newTagGr = new GlideRecord(\"sys_alias\");\t\t\t\t\n\t\t\t\tnewTagGr.initialize();\n\t\t\t\tnewTagGr.setWorkflow(false);\n\t\t\t\tnewTagGr.name = tag;\n\t\t\t\tnewTagGr.type = 'credential';\n\t\t\t\tnewTagGr.insert();\n\t\t\t\t\n\t\t\t\ttagSysId = newTagGr.getUniqueValue();\n\t\t\t}\n\t\t\t\n\t\t\ttagSysIds += (tagSysIds == \"\") ? tagSysId : \",\" + tagSysId;\n\t\t}\n\t\t\n\t\tcredGr.tag =  tagSysIds;\n\t\tcredGr.update();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"38e3e297d7d22200977660affd610371","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fdd8237704f12210559073c06a02f787","value":"fdd8237704f12210559073c06a02f787"},"sys_update_name":"sys_script_fix_38e3e297d7d22200977660affd610371","sys_updated_by":"admin","sys_created_on":"2016-10-11 20:29:31","name":"Migrate credential tags","sys_name":"Migrate credential tags","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"jun.zhou","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2024-09-02 08:00:03","sys_tags":"","record_for_rollback":"true","script":"\n     if (!GlidePluginManager.isZboot()) {\n\n     var table = 'sys_analytics_config';\n     var field = 'config';\n     var dictEntry = new GlideRecord('sys_dictionary');\n     dictEntry.addQuery('name', table);\n     dictEntry.addQuery('element', field);\n     dictEntry.setLimit(1);\n     dictEntry.query();\n     if (dictEntry.next()) {\n         dictEntry.setValue('internal_type', 'json');\n         dictEntry.update();\n         gs.info('Updated ' + table + ' ' + field + ' label and type');\n     } else {\n         gs.info('Did not find the dictionary record for ' + field + ' in ' + table);\n     }\n }\n   ","sys_class_name":"sys_script_fix","sys_id":"38e73ec77f501210998097b17d86654c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/07d4abbf04312210559073c06a02f7f6","value":"07d4abbf04312210559073c06a02f7f6"},"sys_update_name":"sys_script_fix_38e73ec77f501210998097b17d86654c","sys_updated_by":"admin","sys_created_on":"2024-09-02 08:00:03","name":"Update sys_analytics_config ","sys_name":"Update sys_analytics_config ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"5","description":"This fix script is run during the upgrade of the Targeted Communication plugin. ","sys_updated_on":"2018-10-17 23:00:05","sys_tags":"","record_for_rollback":"false","script":"var recipientListGlideRecord = new GlideRecord(\"sn_publications_recipients_list\");\nrecipientListGlideRecord.query();\nrecipientListGlideRecord.setValue(\"method\", \"dynamic\"); \nrecipientListGlideRecord.updateMultiple();\n\nvar recipientslistM2MTables = [\"sn_publications_recipientslist_user_m2m\"];\nvar isCSMActive = GlidePluginManager.isActive('com.sn_customerservice');\nif (isCSMActive)\n\trecipientslistM2MTables.push(\"sn_publications_recipientslist_consumer_m2m\");\nfor(var i=0;i<recipientslistM2MTables.length;i++){\nvar recipientListGlideRecord = new GlideRecord(recipientslistM2MTables[i]);\nrecipientListGlideRecord.query();\nrecipientListGlideRecord.setValue(\"dynamically_added\", true); \nrecipientListGlideRecord.updateMultiple();\n}","sys_class_name":"sys_script_fix","sys_id":"38f3284493a01300ac40f5be867ffb5c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0fdd6483d72302004f1e82285e61033a","value":"0fdd6483d72302004f1e82285e61033a"},"sys_update_name":"sys_script_fix_38f3284493a01300ac40f5be867ffb5c","sys_updated_by":"admin","sys_created_on":"2018-02-22 23:24:03","name":"Recipient List Upgrade","sys_name":"Recipient List Upgrade","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/0fdd6483d72302004f1e82285e61033a","value":"0fdd6483d72302004f1e82285e61033a"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Populates the applicable_taxes field for ast_contract","sys_updated_on":"2019-02-22 19:08:25","sys_tags":"","record_for_rollback":"false","script":"(function() {\n    var astContract = new GlideMultipleUpdate(\"ast_contract\");\n    astContract.addQuery(\"tax_exempt\", \"1\");\n\tastContract.setValue(\"applicable_taxes\", \"exempt\");\n\tastContract.execute();\n\n\t// Sales flag has priority\n    astContract = new GlideMultipleUpdate(\"ast_contract\");\n\tastContract.addQuery(\"sales_tax\", \"1\");\n\tastContract.setValue(\"applicable_taxes\", \"sales\");\n\tastContract.execute();\n})();","sys_class_name":"sys_script_fix","sys_id":"38fcafd5b733230034d1da23ee11a968","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1a3927f704f12210559073c06a02f7be","value":"1a3927f704f12210559073c06a02f7be"},"sys_update_name":"sys_script_fix_38fcafd5b733230034d1da23ee11a968","sys_updated_by":"admin","sys_created_on":"2019-02-22 19:04:16","name":"Contract: Populate tax applicable","sys_name":"Populate tax applicable","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"","sys_updated_on":"2021-09-27 21:54:56","sys_tags":"","record_for_rollback":"false","script":"(function () {\n\tvar ownerDescriptorId = '8b0cbfc2c7132010d447c17cf4c26053';\n\tvar ownerSynchronizer = new sn_appcollab.CollabPermissionSynchronizer(ownerDescriptorId);\n\townerSynchronizer.syncCollaboratorPermissions();\n\n\tvar editorDescriptorId = '3bb75c9ec7132010d447c17cf4c2605a';\n\tvar editorSynchronizer = new sn_appcollab.CollabPermissionSynchronizer(editorDescriptorId);\n\teditorSynchronizer.syncCollaboratorPermissions();\n})();\n\n","sys_class_name":"sys_script_fix","sys_id":"39a046a6c7723010d447c17cf4c2608f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/global","value":"global"},"sys_update_name":"sys_script_fix_39a046a6c7723010d447c17cf4c2608f","sys_updated_by":"admin","sys_created_on":"2021-09-27 20:18:42","name":"Sync Collaborator Permissions For PAD","sys_name":"Sync Collaborator Permissions For PAD","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":"read"},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Increases max length for sys_sg_redirect_dest_field.source_field to 200.","sys_updated_on":"2020-10-16 19:13:48","sys_tags":"","record_for_rollback":"false","script":"increaseRedirectSourceFieldMaxLength();\n\nfunction increaseRedirectSourceFieldMaxLength() {\n\tvar dict = new GlideRecord(\"sys_dictionary\");\n\tdict.setWorkflow(false);\n\tdict.addQuery(\"name\", \"sys_sg_redirect_dest_field\");\n\tdict.addQuery(\"element\", \"source_field\");\n\tdict.query()\n\twhile(dict.next() && dict.getValue(\"max_length\") !== \"200\") {\n\t\tdict.setValue(\"max_length\", 200);\n\t\tdict.update();\n\t\tgs.info(\"updated sys_sg_redirect_dest_field.source_field max_length to 200\");\n\t\tbreak;\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"39a37e43533310103738ddeeff7b12f0","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/75d42bbf04312210559073c06a02f78d","value":"75d42bbf04312210559073c06a02f78d"},"sys_update_name":"sys_script_fix_39a37e43533310103738ddeeff7b12f0","sys_updated_by":"admin","sys_created_on":"2020-10-16 13:53:08","name":"Increase max length for redirect source","sys_name":"Increase max length for redirect source","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"","sys_updated_on":"2024-02-16 17:44:40","sys_tags":"","record_for_rollback":"true","script":"try {\n    updateServiceId();\n} catch (exception) {\n    gs.info(\"Unable to update service id for hermes_topics_state: \" + exception);\n}\n\nfunction updateServiceId() {\n\tvar topicStateRecord = new GlideRecord('hermes_topics_state');\n\ttopicStateRecord.query();\n\twhile (topicStateRecord.next()) {\n\t\ttopicStateRecord.setValue(\"service_id\", \"bfe548804320311041a0e8625ab8f242\"); // hermes-internal service\n\t\ttopicStateRecord.update();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"39c84493431002102790827cfbb8f2cb","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/03d4abbf04312210559073c06a02f7f9","value":"03d4abbf04312210559073c06a02f7f9"},"sys_update_name":"sys_script_fix_39c84493431002102790827cfbb8f2cb","sys_updated_by":"admin","sys_created_on":"2024-02-16 17:42:14","name":"UpgradeHermesTopicsState","sys_name":"UpgradeHermesTopicsState","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"8","description":"","sys_updated_on":"2020-10-19 18:41:38","sys_tags":"","record_for_rollback":"false","script":"(function() {\n    var overrideGr = new GlideRecord(\"sys_dictionary_override\");\n    overrideGr.addQuery(\"base_table\", \"task\");\n    overrideGr.addQuery(\"name\", \"incident\");\n    overrideGr.addQuery(\"element\", \"assignment_group\");\n    overrideGr.query();\n\n    if (overrideGr.next()) {\n        var attributes = new GlideAttributes(overrideGr.getValue(\"attributes\"));\n        var attributeValue = attributes.getAttribute(\"ref_contributions\");\n\n        if (!attributeValue) {\n            attributeValue = \"on_call_escalation_tracking\";\n        } else if (attributeValue && attributeValue.indexOf(\"on_call_escalation_tracking\") == -1) {\n            attributeValue += \";\" + \"on_call_escalation_tracking\";\n        }\n\n        attributes.setAttribute(\"ref_contributions\", attributeValue);\n        overrideGr.setValue(\"attributes\", attributes.serializeAttributes());\n        overrideGr.update();\n    } else {\n        overrideGr.initialize();\n        overrideGr.base_table = 'task';\n        overrideGr.name = \"incident\";\n        overrideGr.element = 'assignment_group';\n        overrideGr.attributes_override = 'true';\n        overrideGr.attributes = \"ref_contributions=on_call_escalation_tracking\";\n        overrideGr.insert();\n    }\n\n})();","sys_class_name":"sys_script_fix","sys_id":"3a1511b4c3b71010779e61a83640dd1c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d2b76f7f04b12210559073c06a02f78a","value":"d2b76f7f04b12210559073c06a02f78a"},"sys_update_name":"sys_script_fix_3a1511b4c3b71010779e61a83640dd1c","sys_updated_by":"admin","sys_created_on":"2020-10-09 07:33:04","name":"fix_assignment_group_attribute","sys_name":"fix_assignment_group_attribute","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Fix script to block creation of new homepages for upgrading customers.\r\n\r\n- Fix script to set the property value to TRUE for \"com.glideapp.home.deprecate_homepages\"\r\n- If the property exists and is already set to TRUE do not do anything\r\n- if the property record was customized do not change the value (sys_update_xml)\r\n- if it does not exist, do not create it, is already considered as TRUE","sys_updated_on":"2022-07-07 12:41:45","sys_tags":"","record_for_rollback":"true","script":"gs.log('START - Deprecate homepage creation');\nvar gr = new GlideRecord('sys_properties');\ngr.addQuery('name', 'com.glideapp.home.deprecate_homepages');\ngr.addQuery('value', 'false');\ngr.query();\n\nif (gr.next()) {\n    gs.log('com.glideapp.home.deprecate_homepages with value false is found.');\n    var fileName = gr.getValue('sys_update_name');\n    var grCustomerUpdate = new GlideRecord('sys_update_xml');\n    if (!grCustomerUpdate.get('name', fileName)) {\n        gr.setValue('value', 'true');\n        gr.update();\n        gs.log('Updated com.glideapp.home.deprecate_homepages property to true.');\n    }\n}\ngs.log('END - Deprecate homepage creation');","sys_class_name":"sys_script_fix","sys_id":"3aeaa9ed772011108154f4640b5a99cd","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f514ebf704312210559073c06a02f717","value":"f514ebf704312210559073c06a02f717"},"sys_update_name":"sys_script_fix_3aeaa9ed772011108154f4640b5a99cd","sys_updated_by":"admin","sys_created_on":"2022-07-07 12:41:45","name":"Deprecate homepage creation","sys_name":"Deprecate homepage creation","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2025-01-05 16:46:40","sys_tags":"","record_for_rollback":"true","script":"var gr = new GlideRecord(\"sys_analytics_app\");\ngr.addQuery('application_name','undefined');\ngr.addQuery('table_name','sp_portal');\ngr.query();\n\nwhile(gr.next()) {\n\tvar portalRecord = new GlideRecord(\"sp_portal\");\n\tportalRecord.addQuery('sys_id', gr.getValue('app_sys_id'));\n\tportalRecord.query();\n\tif(portalRecord.next()) {\n\t    gr.setWorkflow(false);\n        gr.autoSysFields(false);\n\t\tgr.setValue('application_name',portalRecord.getValue('title'));\n\t\tgr.update();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"3b14102793b21210794fef4c64891825","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/07d4abbf04312210559073c06a02f7f6","value":"07d4abbf04312210559073c06a02f7f6"},"sys_update_name":"sys_script_fix_3b14102793b21210794fef4c64891825","sys_updated_by":"maint","sys_created_on":"2025-01-05 16:46:40","name":"bucket table undefined fix","sys_name":"bucket table undefined fix","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"This script is used to migrate messaging content notification fields provider, provider application, send to field to new table delivery channel","sys_updated_on":"2021-05-10 10:16:25","sys_tags":"","record_for_rollback":"false","script":"removeMandatoryCondition(\"connection\");\nremoveMandatoryCondition(\"from_identity\");\n\nvar grNotificationContent = new GlideRecord('sys_notification_va_content_messaging');\ngrNotificationContent.query();\nwhile (grNotificationContent.next()) {\n    var grDeliveryChannel = new GlideRecord('sys_cs_notification_delivery_channel');\n    grDeliveryChannel.intialize();\n    grDeliveryChannel.setValue('notification_content', grNotificationContent.getUniqueValue());\n    grDeliveryChannel.setValue('connection', grNotificationContent.getValue('connection'));\n    grDeliveryChannel.setValue('from_identity', grNotificationContent.getValue('from_identity'));\n    grDeliveryChannel.setValue('to_table', 'sys_user');\n    grDeliveryChannel.setValue('to_field', grNotificationContent.getValue('to_field'));\n    grDeliveryChannel.setValue('active', true);\n    grDeliveryChannel.insert();\n\n    grNotificationContent.setValue('connection', '');\n    grNotificationContent.setValue('from_identity', '');\n    grNotificationContent.setValue('to_field', '');\n    grNotificationContent.update();\n}\n\n\nfunction removeMandatoryCondition(fieldName) {\n    var gr = new GlideRecord(\"sys_dictionary\");\n    gr.addQuery(\"name\", \"sys_notification_va_content_messaging\");\n    gr.addQuery(\"element\", fieldName);\n    gr.query();\n    if (gr.next()) {\n        gr.setValue(\"mandatory\", false);\n        gr.update();\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"3babd20253db60102b57ddeeff7b1264","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9cc37b3704b52210559073c06a02f78f","value":"9cc37b3704b52210559073c06a02f78f"},"sys_update_name":"sys_script_fix_3babd20253db60102b57ddeeff7b1264","sys_updated_by":"admin","sys_created_on":"2021-04-05 09:13:35","name":"VA Msg Notification Content Migration","sys_name":"VA Msg Notification Content Migration","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Update reference cascade rule for sys_flow_context_inputs_chunk document_id field from delete to none","sys_updated_on":"2023-11-29 01:40:43","sys_tags":"","record_for_rollback":"true","script":"var dic = new GlideRecord(\"sys_dictionary\");\ndic.addQuery(\"name\", \"sys_flow_context_inputs_chunk\");\ndic.addQuery(\"element\", \"document_id\");\ndic.query();\n\nif (dic.next()) {\n\tgs.info(\"reference_cascade_rule of sys_flow_context_inputs_chunk before change is \" + dic.getValue(\"reference_cascade_rule\"));\n\tdic.setValue(\"reference_cascade_rule\", \"none\");\n\tdic.setWorkflow(false);\n\tdic.update();\n\tgs.info(\"reference_cascade_rule of sys_flow_context_inputs_chunk after change is \" + dic.getValue(\"reference_cascade_rule\"));\n}","sys_class_name":"sys_script_fix","sys_id":"3bb535e94332311027d274d6ebb8f2e5","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/063be77304352210559073c06a02f7e4","value":"063be77304352210559073c06a02f7e4"},"sys_update_name":"sys_script_fix_3bb535e94332311027d274d6ebb8f2e5","sys_updated_by":"maint","sys_created_on":"2023-11-29 01:40:43","name":"Update Input Chunk Reference Cascade Rul","sys_name":"Update Input Chunk Reference Cascade Rule","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"0","description":"Prevent installing workflow on zboot starting from Xanadu","sys_updated_on":"2024-01-22 11:51:23","sys_tags":"","record_for_rollback":"true","script":"sn_applyonce.ApplyOnce.doNotUpdate('sys_hub_flow_a0363aca4f21711054e85e8330ce0b7a.xml');","sys_class_name":"sys_script_fix","sys_id":"3c388a47533331102485ddeeff7b1278","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/143b677304352210559073c06a02f7e2","value":"143b677304352210559073c06a02f7e2"},"sys_update_name":"sys_script_fix_3c388a47533331102485ddeeff7b1278","sys_updated_by":"admin","sys_created_on":"2024-01-22 11:51:23","name":"Prevent installing WF on zboot","sys_name":"Prevent installing WF on zboot","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Need to check and remove any duplicate snmp credential affinities that may have been created from DEF0555993.","sys_updated_on":"2024-07-24 20:57:04","sys_tags":"","record_for_rollback":"true","script":"removeDuplicateSnmpCredAffinities();\n\nfunction removeDuplicateSnmpCredAffinities() {\n\tvar batchSize = 100;\n\tvar currentIP = \"\";\n\tvar previousIP = \"\";\n\tvar affinityObject = {};\n\tvar affinityObjectList = [];\n\tvar affinitiesToRemove = [];\n\tvar affinityGr = new GlideRecord('dscy_credentials_affinity');\n\taffinityGr.addQuery('type', 'snmp');\n\taffinityGr.orderBy('ip_address');\n\taffinityGr.orderByDesc('sys_updated_on');\n\taffinityGr.query();\n\n\twhile (affinityGr.next()) {\n\t\tcurrentIP = affinityGr.getValue('ip_address');\n\t\taffinityObject = {};  \n\t\taffinityObject.domain = affinityGr.getValue('sys_domain'); \n\t\taffinityObject.mid = affinityGr.getValue('agent');\n\t\taffinityObject.credId = affinityGr.getValue('credential_id');\n\t\t\n\t\t// If we find new IP, start over with new IP and reset values in arrays\n\t\tif (currentIP != previousIP) {\n\t\t\tpreviousIP = currentIP;\n\t\t\taffinityObjectList = [];\n\t\t\taffinityObjectList.push(affinityObject);\n\t\t\tcontinue;\n\t\t}\n\n\t\t// Else, we are still on same IP, so check to see if we have value already that matches\n\t\t// on MID, Credential ID, and Domain. If we don't, then add to array and check next record\n\t\tvar foundMatch = affinityObjectList.some(function(arrayObj) {\n\t\t\tif (arrayObj.domain == affinityObject.domain && arrayObj.mid == affinityObject.mid && \n\t\t\tarrayObj.credId == affinityObject.credId)\n\t\t\t\treturn true;\n\t\t});\n\n\t\tif (!foundMatch) {\n\t\t\taffinityObjectList.push(affinityObject);\n\t\t\tcontinue;\n\t\t}\n\n\t\t// If we reach here, then we have a duplicate, so we can remove this affinity record\n\t\taffinitiesToRemove.push(affinityGr.getValue('sys_id'));\n\t\t// Remove duplicate records in batches\n\t\tif (affinitiesToRemove.length >= batchSize) {\n\t\t\tbatchDeleteAffinityRecords(affinitiesToRemove);\n\t\t\taffinitiesToRemove = [];\n\t\t}\n\t}\n\t// Remove any remaining records\n\tbatchDeleteAffinityRecords(affinitiesToRemove);\n}\n\nfunction batchDeleteAffinityRecords(list) {\n\tif (list.length > 0) {\n\t\tvar affinityTable = new GlideMultipleDelete('dscy_credentials_affinity');\n\t\taffinityTable.addQuery('sys_id', 'IN', list);\n\t\taffinityTable.execute();\n\t\tgs.debug(\"Deleted batch of \" + affinityTable.getUpdateCount() + \" duplicate SNMP Credential Affinity records\");\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"3ca82f5e772b46103882d14b8d5a9998","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/91d8237704f12210559073c06a02f73b","value":"91d8237704f12210559073c06a02f73b"},"sys_update_name":"sys_script_fix_3ca82f5e772b46103882d14b8d5a9998","sys_updated_by":"now.discovery_infra","sys_created_on":"2024-07-24 20:57:04","name":"Remove Duplicate SNMP Cred Affinities","sys_name":"Remove Duplicate SNMP Cred Affinities","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"now.discovery_infra","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Make the Sequence field on Model State editable","sys_updated_on":"2024-08-22 10:33:44","sys_tags":"","record_for_rollback":"true","script":"(function() {\n    if (pm.isZboot())\n        return;\n\n    var table = \"sttrm_state\";\n    var column = \"state_sequence\";\n\n    var dictGr = new GlideRecord(\"sys_dictionary\");\n    dictGr.addQuery(\"name\", table);\n    dictGr.addQuery(\"element\", column);\n    dictGr.query();\n    if (dictGr.next()) {\n        dictGr.setValue(\"read_only\", false);\n        dictGr.update();\n    }\n})();","sys_class_name":"sys_script_fix","sys_id":"3cd07eab0b881210ced5480b38374989","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/130be73304352210559073c06a02f7dc","value":"130be73304352210559073c06a02f7dc"},"sys_update_name":"sys_script_fix_3cd07eab0b881210ced5480b38374989","sys_updated_by":"admin","sys_created_on":"2024-08-22 10:33:44","name":"Sttrm - Set Sequence editable","sys_name":"Sttrm - Enable Sequence","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"6","description":"","sys_updated_on":"2020-10-01 11:50:01","sys_tags":"","record_for_rollback":"false","script":"var laneRules = {\n\tafter_previous : '3f030dc5bd8842aebc1fa64716545da2',\n\twith_condition : '77ebf7a3533110108b45ddeeff7b125a',\n\twith_previous : 'aed74dc26c714cb3a1d3ed263a04b3da',\n\timmediate : 'b823830967fc41ddb84959d97897b1ae'\n};\n\nvar activityRules = {\n\t\twith_condition : '4d197b23533110108b45ddeeff7b129c',\n\t\twith_previous : '7c1ac084f80d4ed9be5a7b3df939463b',\n\t\tafter_previous : 'eb98b4955ba74acab978af26ad083f61',\n\t\timmediate: 'ef8ab8c0a3f04bceb117263f51401070'\n};\n\nfor (var laneRule in laneRules) {\n\tupdateRule(\"sys_pd_lane\", laneRule, laneRules[laneRule]);\n}\nfor (var actRule in activityRules) {\n\tupdateRule(\"sys_pd_activity\", actRule, activityRules[actRule]);\n}\n\nfunction updateRule(table, rule, id) {\n  var gr = new GlideRecord(table);\n  gr.setWorkflow(false);\n  gr.addQuery(\"start_rule\", rule);\n  gr.setValue(\"start_rule\", id);\n  gr.updateMultiple();\n}","sys_class_name":"sys_script_fix","sys_id":"3e1ce28ac3231010f5bfea1c8d40ddcc","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd5e23f304752210559073c06a02f753","value":"cd5e23f304752210559073c06a02f753"},"sys_update_name":"sys_script_fix_3e1ce28ac3231010f5bfea1c8d40ddcc","sys_updated_by":"russ.sarbora","sys_created_on":"2020-10-01 00:31:02","name":"Update PAD Activity and Lane start rule","sys_name":"Update PAD Activity and Lane start rule","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"russ.sarbora","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Creates missing suggestion reader groups for custom SACs, for which reader groups can't be shipped OOTB","sys_updated_on":"2022-04-19 18:12:06","sys_tags":"","record_for_rollback":"true","script":"// We already ship necessary suggestion reader groups for these records OOTB\nvar OOTB_AIS_SACS = [\n    '00731b9d5b231010d9a5ce1a8581c7dd', // Service Portal Default Search Application\n    '7296910f53171010069addeeff7b12e7', // ESC Portal Default Search Application\n    '9feafee55b7120109779b9a23381c768', // Help Panel Search Application\n    '6ebf8fe1531201107f03ddeeff7b122b', // Global search (SAC: [AIS] Now Experience Search Configuration)\n\n    // These don't get any Suggestion Readers\n    '2963a5fa530020103296ddeeff7b129f', // Virtual Agent Default Search Application\n    '2056f9de67621010b3d782f45685efd0', // [AI Search Assist] - Incident Deflection\n];\n\nvar USER_SEARCH_TERM_READER = '4b1cb27053231010dda1ddeeff7b12b8';\nvar USER_HISTORY_AND_CLICK_READER = 'f8495b9077210110be280d892c5a9986';\nvar QUERY_CONTENT_READER = 'c41365e077020110be280d892c5a99f2';\n\nvar READER_GROUPS_TO_ADD = [{\n        suggestion_type: 'User History Reader Group for ',\n        section_header: 'Recently viewed',\n        limit: 5,\n        click_in_mode: false,\n        order: 500,\n        readers: [{\n                sys_suggestion_reader_id: USER_SEARCH_TERM_READER,\n                order: 100,\n            },\n            {\n                sys_suggestion_reader_id: USER_HISTORY_AND_CLICK_READER,\n                order: 200,\n            }\n        ],\n        autoLink: false\n    },\n    {\n        suggestion_type: 'Search-based Suggested Results Reader Group for ',\n        section_header: 'Suggested',\n        limit: 5,\n        click_in_mode: false,\n        order: 600,\n        readers: [{\n            sys_suggestion_reader_id: QUERY_CONTENT_READER,\n            order: 100,\n        }, ],\n        autoLink: false\n    }\n];\n\nfunction readerGroupHasBeenCreatedForSAC(groupJson, sacGR) {\n    var targetReaderGroupName = groupJson.suggestion_type + sacGR.getValue('name');\n    var readerGroupGR = new GlideRecord('sys_suggestion_reader_group');\n    readerGroupGR.addQuery('suggestion_type', targetReaderGroupName);\n    readerGroupGR.query();\n    return readerGroupGR.hasNext();\n}\n\nfunction createReaderGroupForSAC(groupJson, sacGR) {\n    var readerGroupUtils = new SuggestionReaderGroupUtils();\n    readerGroupUtils.createSingleSuggestionReaderGroup(groupJson, sacGR.getValue('sys_id'), sacGR.getValue('name'));\n}\n\nvar sacGR = new GlideRecord('sys_search_context_config');\nsacGR.addQuery('search_engine', 'ai_search');\nsacGR.query();\nwhile (sacGR.next()) {\n    if (OOTB_AIS_SACS.indexOf(sacGR.getValue('sys_id')) == -1) {\n        for (var i = 0; i < READER_GROUPS_TO_ADD.length; i++) {\n            var groupJson = READER_GROUPS_TO_ADD[i];\n            if (!readerGroupHasBeenCreatedForSAC(groupJson, sacGR)) {\n                createReaderGroupForSAC(groupJson, sacGR);\n            }\n        }\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"3e3750275b160110d9a5ce1a8581c7a4","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0e99ab7b04f12210559073c06a02f745","value":"0e99ab7b04f12210559073c06a02f745"},"sys_update_name":"sys_script_fix_3e3750275b160110d9a5ce1a8581c7a4","sys_updated_by":"admin","sys_created_on":"2022-03-23 15:47:41","name":"Add Suggestion Groups for Custom SACs","sys_name":"Add Suggestion Groups for Custom SACs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Remove redundant wizard answers for child tables that extend sys_mass_encryption_job","sys_updated_on":"2023-11-28 21:30:42","sys_tags":"","record_for_rollback":"true","script":"var SECRETS_MANAGEMENT_JOB_WIZARD_ANSWER_ID = '472869c753d031106cdbddeeff7b1292';\nvar SIGNING_JOB_WIZARD_ANSWER_ID = '87e77ef949063110ce41c8d4b027c95d';\nvar SYS_WIZARD_ANSWER = 'sys_wizard_answer';\nvar NAME = 'name';\nvar ANSWER = 'answer';\nvar SECRETS_MANAGEMENT_JOB = 'Secrets Management Job';\nvar SIGNING_JOB = 'Signing Job';\nvar DOES_NOT_EQUAL = '!=';\nvar SYS_ID = 'sys_id';\n\n// delete redundant secrets management job wizard\nvar gr0 = new GlideRecord(SYS_WIZARD_ANSWER);\ngr0.addQuery(NAME, SECRETS_MANAGEMENT_JOB);\ngr0.addQuery(ANSWER, SECRETS_MANAGEMENT_JOB);\ngr0.addQuery(SYS_ID, DOES_NOT_EQUAL, SECRETS_MANAGEMENT_JOB_WIZARD_ANSWER_ID);\ngr0.query();\nwhile (gr0.next()) {\n    gr0.deleteRecord();\n}\n\n// delete redundant signing job wizard\nvar gr1 = new GlideRecord(SYS_WIZARD_ANSWER);\ngr1.addQuery(NAME, SIGNING_JOB);\ngr1.addQuery(ANSWER, SIGNING_JOB);\ngr1.addQuery(SYS_ID, DOES_NOT_EQUAL, SIGNING_JOB_WIZARD_ANSWER_ID);\ngr1.query();\nwhile (gr1.next()) {\n    gr1.deleteRecord();\n}\n","sys_class_name":"sys_script_fix","sys_id":"3e53109d77b231108287cffbae5a991b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e2d36b7704312210559073c06a02f7f4","value":"e2d36b7704312210559073c06a02f7f4"},"sys_update_name":"sys_script_fix_3e53109d77b231108287cffbae5a991b","sys_updated_by":"admin","sys_created_on":"2023-11-28 00:24:04","name":"Remove extra wizards for encryption jobs","sys_name":"Remove extra wizards for encryption jobs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"7","description":"Deprecate  \"connect.retrieve_external_link_content\" sys property. Two new sys properties \"glide.ui.url.external\" and \"glide.ui.url.external.content\" are created for rendering external link and content in Connect.","sys_updated_on":"2019-02-13 23:03:15","sys_tags":"","record_for_rollback":"false","script":"var oldProperty = new GlideRecord('sys_properties');\nif (oldProperty.get('fa1adf46d733020023c84f80de610361')) {\n\tvar dscrp = 'DEPRECATED, use \\\"glide.ui.url.external\\\" and \"glide.ui.url.external.content\" instead';\n\tif (oldProperty.getValue('description') != dscrp) {\n\t\toldProperty.setValue('description', dscrp);\n\t\toldProperty.update();\n\n\t\tvar newExternalURLProperty = new GlideRecord('sys_properties');\n\t\tnewExternalURLProperty = oldProperty;\n\t\tnewExternalURLProperty.name = 'glide.ui.url.external';\n\t\tvar URLDscrpt = 'Enable Connect to render external links';\n\t\tnewExternalURLProperty.description = URLDscrpt;\n\t\tnewExternalURLProperty.insert();\n\n\t\tvar newExternalContentProperty = new GlideRecord('sys_properties');\n\t\tnewExternalContentProperty = oldProperty;\n\t\tnewExternalContentProperty.name = 'glide.ui.url.external.content';\n\t\tvar contentDscrpt = 'Enable Connect to retrieve external link metadata in order to render richer content in messages with links to Youtube, news articles, images, etc.';\n\t\tnewExternalContentProperty.description = contentDscrpt;\n\t\tnewExternalContentProperty.insert();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"3e8dd616eb1323000c2c0c505206fe29","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d4442b7b04312210559073c06a02f7ee","value":"d4442b7b04312210559073c06a02f7ee"},"sys_update_name":"sys_script_fix_3e8dd616eb1323000c2c0c505206fe29","sys_updated_by":"admin","sys_created_on":"2019-01-31 20:08:49","name":"Replace retrieve external link property","sys_name":"Replace retrieve external link property","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"6","description":"fix sys_highlighted_value to set display field","sys_updated_on":"2020-06-05 01:52:21","sys_tags":"","record_for_rollback":"false","script":"var dictionaryRecord = new GlideRecord(\"sys_dictionary\");\ndictionaryRecord.addQuery(\"name\", \"sys_highlighted_value\");\ndictionaryRecord.addQuery(\"element\", \"field\");\ndictionaryRecord.query();\nif (dictionaryRecord.next()){\n\tdictionaryRecord.setValue(\"display\", true);\n\tdictionaryRecord.update();\n}\n","sys_class_name":"sys_script_fix","sys_id":"3ed287c453111010ac9bddeeff7b12bd","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/72ac63bb04352210559073c06a02f754","value":"72ac63bb04352210559073c06a02f754"},"sys_update_name":"sys_script_fix_3ed287c453111010ac9bddeeff7b12bd","sys_updated_by":"admin","sys_created_on":"2020-06-05 00:56:05","name":"fix sys_highlighted_value  display field","sys_name":"fix sys_highlighted_value  display field","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"7","description":"Marks all existing sys_cs_adapter_card_templates as active.","sys_updated_on":"2021-03-29 22:53:34","sys_tags":"","record_for_rollback":"false","script":"executeFix();\n\nfunction executeFix() {\n\tactivateAllTemplates();\n\t\n\tvar mobileTemplates = [\n\t\t{id: '', htmlTemplateId: '366ddc93b7b3101038a12b04ae11a971'}, // PersonCard\n\t\t{id: '', htmlTemplateId: '4c50c908b733101038a12b04ae11a9f6'}, // CatalogCard\n\t\t{id: '', htmlTemplateId: 'c7114548b733101038a12b04ae11a94d'}  // QACard\n\t];\n\t\n\tfor (var i in mobileTemplates) {\n\t\t// De-activate the new mobile template if there are customer updates to the\n\t\t// existing html templates\n\t\tif (hasUpdate(mobileTemplates[i].htmlTemplateId))\n\t\t\tdeActivateTemplate(mobileTemplates[i].id);\n\t}\n}\n\nfunction activateAllTemplates() {\n\tvar gr = new GlideRecord('sys_cs_adapter_card_template');\n\tgr.query();\n\tgr.setValue('active', true);\n\tgr.updateMultiple();\n}\n\nfunction hasUpdate(id) {\n\tvar gr = new GlideRecord('sys_update_xml');\n\tgr.addQuery('name', 'sys_cs_adapter_card_template_' + id);\n\tgr.query();\n\treturn gr.hasNext();\n}\n\nfunction deActivateTemplate(id) {\n\tvar gr = new GlideRecord('sys_cs_adapter_card_template');\n\tgr.get(id);\n\tgr.setValue('active', false);\n\tgr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"3ed404625332201055eeddeeff7b129f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_3ed404625332201055eeddeeff7b129f","sys_updated_by":"admin","sys_created_on":"2021-03-12 15:01:35","name":"Mark All Card templates Active","sys_name":"Mark All Card templates Active","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"When you add a field to store the date and time on when the latitude and longitudes were updated on any record. This field won't get pre-populated. to populate the field value, this is a one time script which populates the field with current time, or you can update the script to populate with a different date/time based on any criteria on the record.","sys_updated_on":"2020-06-24 16:57:00","sys_tags":"","record_for_rollback":"false","script":"(function(TABLE_NAME, FIELD_NAME) {\n    if (!TABLE_NAME || !FIELD_NAME) {\n        return;\n    }\n\tvar gr = new GlideRecord(TABLE_NAME);\n\tgr.addEncodedQuery(FIELD_NAME + \"ISEMPTY\");\n\tgr.query();\n\twhile(gr.next()) {\n\t\tgr.setValue(FIELD_NAME, (new GlideDateTime().getDisplayValue()));\n\t\tgr.update();\n\t}\n})(TABLE_NAME, FIELD_NAME);","sys_class_name":"sys_script_fix","sys_id":"3ed79ce293e510106b543511e57ffbf9","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7b186b3304f12210559073c06a02f733","value":"7b186b3304f12210559073c06a02f733"},"sys_update_name":"sys_script_fix_3ed79ce293e510106b543511e57ffbf9","sys_updated_by":"admin","sys_created_on":"2020-06-24 16:57:00","name":"Update coordinates updated on field","sys_name":"Update coordinates updated on field","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"true","sys_mod_count":"17","description":"This fix script is to revert back to old native mobile \"Recommended for you\" cards from the new cards shipped as part of Utah next experience. This script is only for the customers who have upgraded to Utah and want to go back to old mobile views.","sys_updated_on":"2022-08-25 10:10:52","sys_tags":"","record_for_rollback":"true","script":"//Switch runManually to true in order to run this script\nvar runManually = false;\nif (runManually) {\n    var util = new sn_me.MobileNextExpUpgradeUtil();\n    revertRFYCard();\n}\n\nfunction revertRFYCard() {\n    var rfy = [\n        //Recommended For You Articles\t\n        {\n            \"masterItem\": \"f92d2b2feb3101103d6b2ff2a25228f7\",\n            \"newCard\": \"3b0dbd55534d1110fedfddeeff7b1252\",\n            \"oldCard\": \"5650b3efeb3101103d6b2ff2a2522884\"\n        },\n        //Recommended For You Request\n        {\n            \"masterItem\": \"8e21bbefeb3101103d6b2ff2a252281f\",\n            \"newCard\": \"528cca51538d1110fedfddeeff7b12c8\",\n            \"oldCard\": \"0c31fbefeb3101103d6b2ff2a25228ec\"\n        },\n        //Recommended For You Request without image\n        {\n            \"masterItem\": \"7d470fa4eb0201103d6b2ff2a2522818\",\n            \"newCard\": \"228e4ad1538d1110fedfddeeff7b122b\",\n            \"oldCard\": \"a8484be4eb0201103d6b2ff2a25228a3\"\n        }\n    ];\n\n    rfy.forEach(function revertEachLink(link) {\n        util.switchConnection(\"sys_sg_master_item\", \"view_config\", link.masterItem, link.newCard, link.oldCard);\n    });\n}","sys_class_name":"sys_script_fix","sys_id":"3ef36c6653915110fedfddeeff7b12a5","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3d1da2705b021200a4656ede91f91ab6","value":"3d1da2705b021200a4656ede91f91ab6"},"sys_update_name":"sys_script_fix_3ef36c6653915110fedfddeeff7b12a5","sys_updated_by":"admin","sys_created_on":"2022-08-16 16:14:51","name":"Mobile Revert Next Exp - EC Core","sys_name":"Mobile Revert Next Exp - EC Core","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3d1da2705b021200a4656ede91f91ab6","value":"3d1da2705b021200a4656ede91f91ab6"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"active, default, definition and buider_properties should be read only in sys_one_extend_builder_capability ","sys_updated_on":"2023-07-03 23:26:46","sys_tags":"","record_for_rollback":"true","script":"updateColumn([\"active\",\"default\",\"builder_properties\",\"definition\"]);\nfunction updateColumn(elements) {\n\tfor (var i = 0; i < elements.length; i++) {\n\t\tvar gr = new GlideRecord(\"sys_dictionary\");\n\t\tgr.addQuery(\"name\", \"sys_one_extend_builder_capability\");\n\t\tgr.addQuery(\"element\", elements[i]);\n\t\tgr.query();\n\t\tif (gr.next()) {\n\t\t\tgr.setValue(\"read_only\", \"true\");\n\t\t\tgr.update();\n\t\t}\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"3ef73517c3122110634cdb450a40ddce","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7c84affb04312210559073c06a02f73d","value":"7c84affb04312210559073c06a02f73d"},"sys_update_name":"sys_script_fix_3ef73517c3122110634cdb450a40ddce","sys_updated_by":"admin","sys_created_on":"2023-04-24 19:35:10","name":"Make builder capability columns readonly","sys_name":"Make builder capability columns readonly","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Remove ACLs for Change comments write role and Problem comments write role","sys_updated_on":"2022-05-06 09:09:42","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tif (pm.isZboot())\n\t\treturn;\n\t\n\tvar aclToRemove = [\n\t\t\t'411372e2c3223010a282a539e540dd1f',\n\t\t\t'4a68f896c3e13010a282a539e540ddba',\n\t\t\t'37e27492c3e13010a282a539e540dd1b',\n\t\t\t'79c6e89ac3a13010a282a539e540ddd1'\n\t\t];\n\n\t\tvar aclCheckGR = new GlideRecord('sys_security_acl');\n\t\taclCheckGR.addQuery('sys_id', 'IN', aclToRemove);\n\t\taclCheckGR.deleteMultiple();\n})();","sys_class_name":"sys_script_fix","sys_id":"3f6ea9a5c313011005aea539e540dd2c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/43fc273f04352210559073c06a02f797","value":"43fc273f04352210559073c06a02f797"},"sys_update_name":"sys_script_fix_3f6ea9a5c313011005aea539e540dd2c","sys_updated_by":"admin","sys_created_on":"2022-05-06 09:07:53","name":"Remove comments write ACLs","sys_name":"Remove comments write ACLs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Migration fix script for Incident Overview Landing Page","sys_updated_on":"2019-10-20 18:09:54","sys_tags":"","record_for_rollback":"false","script":"(function(){\n\tgs.debug(\"Attempting OOB NY landing page migration.\");\n\n\tvar nyCCRE = '8a58283f532c330083f3ddeeff7b12c3';\n\tvar nyTree = {\n\t\t\"8a58283f532c330083f3ddeeff7b12c3\": [\n\t\t\t\"b678283f532c330083f3ddeeff7b12b4\",\n\t\t\t\"d789a87f532c330083f3ddeeff7b12c0\"\n\t\t],\n\t\tb678283f532c330083f3ddeeff7b12b4: [\n\t\t\t\"77f8a07f532c330083f3ddeeff7b1220\",\n\t\t\t\"99b8ac3f532c330083f3ddeeff7b127f\",\n\t\t\t\"a039647f532c330083f3ddeeff7b128f\",\n\t\t\t\"b959a47f532c330083f3ddeeff7b129b\"\n\t\t],\n\t\td789a87f532c330083f3ddeeff7b12c0: [\"5fb96c7f532c330083f3ddeeff7b1200\"]\n\t};\n\tvar nyPermissions = ['4114ce4753703300e4e9ddeeff7b1203'];\n\tvar orlandoCCRE = 'd287f749232000100e4bc50947bf6596';\n\n\tUXFMigrationUtils.fixOOBNYLandingPage(nyCCRE, JSON.stringify(nyTree), nyPermissions, orlandoCCRE);\n})();","sys_class_name":"sys_script_fix","sys_id":"3f999366236000109fdec50947bf6514","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/a08206c85370330083f3ddeeff7b123a","value":"a08206c85370330083f3ddeeff7b123a"},"sys_update_name":"sys_script_fix_3f999366236000109fdec50947bf6514","sys_updated_by":"admin","sys_created_on":"2019-10-20 17:47:25","name":"OOB ITSM Landing Page 1 migration","sys_name":"OOB ITSM Landing Page 1 migration","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/a08206c85370330083f3ddeeff7b123a","value":"a08206c85370330083f3ddeeff7b123a"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"4","description":"Following labels will be updated\r\nOn Auto-Resolution Configuration:\r\n   - Target table name will be renamed to Table\r\nOn Your recent request table:\r\n   - NLU intent will be renamed to Intent","sys_updated_on":"2022-01-11 18:18:01","sys_tags":"","record_for_rollback":"false","script":"renameColumnLabels();\n\nfunction renameColumnLabels() {\n\trenameColumnLabel(AutoResolutionConstants.CONFIG_TABLE_NAME, 'target_table_name', 'Target table name', 'Table');\n\trenameColumnLabel(AutoResolutionConstants.CONTEXT_TABLE_NAME, 'nlu_intent', 'NLU Intent', 'Intent');\n}\n\nfunction renameColumnLabel(tableName, columnName, existingLabel, replaceWith) {\n\tvar sysDictionaryGr = new GlideRecord('sys_dictionary');\n\tsysDictionaryGr.addQuery('name', tableName);\n\tsysDictionaryGr.addQuery('element', columnName);\n\tsysDictionaryGr.addQuery('column_label', existingLabel);\n\tsysDictionaryGr.query();\n\t\n\tif (sysDictionaryGr.next()) {\n\t\tsysDictionaryGr.setValue('column_label', replaceWith);\n\t\tsysDictionaryGr.update();\n\t\t\n\t\tgs.info('Replaced the label of column ' + columnName + ' from ' + existingLabel + ' with ' + replaceWith + ' on the table ' + tableName);\n\t} else {\n\t\tgs.warn('Could not replace the label of column ' + columnName + ' from ' + existingLabel + ' with ' + replaceWith + ' on the table ' + tableName);\n\t}\t\n}","sys_class_name":"sys_script_fix","sys_id":"3fe89476ff832010635f056d793bf121","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca4f3f704b52210559073c06a02f789","value":"aca4f3f704b52210559073c06a02f789"},"sys_update_name":"sys_script_fix_3fe89476ff832010635f056d793bf121","sys_updated_by":"admin","sys_created_on":"2021-03-25 21:25:55","name":"Rename field labels related to IAR","sys_name":"Rename field labels related to IAR","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"true","sys_mod_count":"3","description":"This fix script is to revert back to old native mobile \"Genius Result\" card from the new \"Genius Result v2\" cards shipped as part of Utah next experience. This script is only for the customers who have upgraded to Utah and want to go back to old mobile views.","sys_updated_on":"2022-08-26 04:40:39","sys_tags":"","record_for_rollback":"true","script":"//Switch runManually to true in order to run this script\nvar runManually = false;\nif (runManually) {\n    var util = new sn_me.MobileNextExpUpgradeUtil();\n    revertPeopleGeniusResultCard();\n    revertUserProfileItemView();\n}\n\nfunction revertUserProfileItemView() {\n    util.switchLegacyView(\"sys_sg_form_screen\", \"37917d004d0c2010f87749679b47748f\", \"a006ed9707b81910264f78e99cd300a6\", false);\n}\n\nfunction revertPeopleGeniusResultCard() {\n    util.switchConnection(\"sys_sg_master_item\", \"view_config\", \"e4aa87ccc7331010d558c943c7c260ee\", \"5231be0c772511109033bfeacf5a99c6\", \"3eeacbccc7331010d558c943c7c26049\");\n}","sys_class_name":"sys_script_fix","sys_id":"4005551153e15110fedfddeeff7b128e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b3f3303477232300454792718a1061df","value":"b3f3303477232300454792718a1061df"},"sys_update_name":"sys_script_fix_4005551153e15110fedfddeeff7b128e","sys_updated_by":"admin","sys_created_on":"2022-08-25 09:03:14","name":"Mobile Revert Next Exp - NowMobileSearch","sys_name":"Mobile Revert Next Exp - NowMobileSearch","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/b3f3303477232300454792718a1061df","value":"b3f3303477232300454792718a1061df"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"0","description":"As part of Security P0 issue, a write audit updated all the empty ACLs in the customer farm. This fix script removes all the write audit updates for affected security center ACLs, so that the upgrades can overwrite those ACLs with the OOB ACLs.","sys_updated_on":"2024-03-13 08:43:04","sys_tags":"","record_for_rollback":"true","script":"var writeAuditOOBACLList = ['749f759453fb3010af76ddeeff7b123a','d2d0b6df53000110a487ddeeff7b12bc', 'f949756a003f7410f877f4fb60521b08'];\nempty_acl_fix(writeAuditOOBACLList);\nfunction empty_acl_fix(writeAuditOOBACLList) {\n\tnew global.AccessControlUtils().deleteCustomerUpdatesForAuditedEmptyACLs(writeAuditOOBACLList);\n}","sys_class_name":"sys_script_fix","sys_id":"4036806393fcc210bee512f98489188c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7e3c2481539260100c54ddeeff7b127b","value":"7e3c2481539260100c54ddeeff7b127b"},"sys_update_name":"sys_script_fix_4036806393fcc210bee512f98489188c","sys_updated_by":"admin","sys_created_on":"2024-03-13 08:43:04","name":"De-customize SC ACLs","sys_name":"De-customize SC ACLs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/7e3c2481539260100c54ddeeff7b127b","value":"7e3c2481539260100c54ddeeff7b127b"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"4","description":"It will update the write acl script for pa_score_notes for customers who zbooted on quebec onwards.\r\nCustomers that upgraded from before quebec will not get the write ACL updated on upgrade.\r\n\r\nThe update will be removing the condition that allows anyone to update a comment without user role specified.\r\nBasically we need to remove this condition from the script: \"!current.user ||\"\r\n\r\nWrite acl from quebec onwards that needs an update must meet the following requirement:\r\n1- The ACL was not customized\r\n2- The ACL script has the following 3 lines:\r\n 2.1 - \"answer = new SNC.PADomainUtils().isWriteable(\"pa_score_notes\", current.sys_id);\"\r\n 2.2 - \"if (!gs.hasRole('pa_admin') && !gs.hasRole('pa_power_user') && !gs.hasRole('pa_viewer') && !gs.hasRole('pa_contributor'))\"\r\n 2.3- \"answer = answer && (!current.user || gs.getUser().getID() == current.user);\"\r\n\r\n","sys_updated_on":"2021-10-13 13:28:42","sys_tags":"","record_for_rollback":"true","script":"UpdateWriteACL();\n\nfunction UpdateWriteACL() {\n    if (pm.isZboot())\n        return;\n\n    var grCustomerUpdate = new GlideRecord('sys_update_xml');\n    if (grCustomerUpdate.get('name', 'sys_security_acl_8663b798bf201100b96dac808c073999')) {\n        gs.warn('Write ACL for pa_score_notes with sys_id 8663b798bf201100b96dac808c073999 was not updated on upgrade since it was already customised.');\n    } else {\n        var gr = new GlideRecord('sys_security_acl');\n        gr.addEncodedQuery('sys_id=8663b798bf201100b96dac808c073999^scriptLIKEanswer = new SNC.PADomainUtils().isWriteable(\"pa_score_notes\", current.sys_id);^scriptLIKEif (!gs.hasRole(\\'pa_admin\\') && !gs.hasRole(\\'pa_power_user\\') && !gs.hasRole(\\'pa_viewer\\') && !gs.hasRole(\\'pa_contributor\\'))^scriptLIKEanswer = answer && (!current.user || gs.getUser().getID() == current.user);');\n        gr.query();\n        if (!gr.next()) {\n            gs.warn('Write ACL for pa_score_notes with sys_id 8663b798bf201100b96dac808c073999 and relevant script was not found in DB. no further action is required.');\n        } else {\n            var scriptText = 'answer = new SNC.PADomainUtils().isWriteable(\"pa_score_notes\", current.sys_id);' + '\\n';\n            scriptText += 'if (!gs.hasRole(\\'pa_admin\\') && !gs.hasRole(\\'pa_power_user\\') && !gs.hasRole(\\'pa_viewer\\') && !gs.hasRole(\\'pa_contributor\\'))' + '\\n';\n            scriptText += '\\tanswer = answer && (gs.getUser().getID() == current.user);';\n            gr.setValue('script', scriptText);\n            gr.update();\n            gs.info('The script for the Write ACL for pa_score_notes with sys_id 8663b798bf201100b96dac808c073999 was updated successfuly');\n        }\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"405d2e23c34330103695e0dd9740ddd1","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/539a23bf04f12210559073c06a02f7aa","value":"539a23bf04f12210559073c06a02f7aa"},"sys_update_name":"sys_script_fix_405d2e23c34330103695e0dd9740ddd1","sys_updated_by":"admin","sys_created_on":"2021-10-13 13:03:22","name":"Update pa_scores write acl script","sys_name":"Update pa_scores write acl script","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"All the existing records in nlq_synonym table prior to Tokyo should have extend_to_all_child_tables set to false. The following fix script will handle the upgrade scenario to Tokyo.","sys_updated_on":"2022-02-23 09:51:44","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tvar nlqSynonymTable = 'nlq_synonym';\n\tvar nlqExtendToAllChildTablesColumn = 'extend_to_all_child_tables';\n\tvar nlqSynonymGR = new GlideRecord(nlqSynonymTable);\n\tnlqSynonymGR.addNullQuery(nlqExtendToAllChildTablesColumn);\n\tnlqSynonymGR.query();\n\twhile (nlqSynonymGR.next()) { \n\t\tnlqSynonymGR.setValue(nlqExtendToAllChildTablesColumn,false);\n\t\tnlqSynonymGR.setWorkflow(false);\n\t\tnlqSynonymGR.update();\n\t}\n})();","sys_class_name":"sys_script_fix","sys_id":"40754b5253310110df5fddeeff7b12d3","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cebd633304752210559073c06a02f7f7","value":"cebd633304752210559073c06a02f7f7"},"sys_update_name":"sys_script_fix_40754b5253310110df5fddeeff7b12d3","sys_updated_by":"admin","sys_created_on":"2022-02-23 09:51:44","name":"Set Extend To All Child Tables to False","sys_name":"Set Extend To All Child Tables to False","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"7","description":"This scripts will remove the value for AISearch fallback option if the property is set after upgrade.\r\nThis is for DEF0203714","sys_updated_on":"2021-04-20 17:54:04","sys_tags":"","record_for_rollback":"false","script":"var LOG_ID = '[Remove OOB AISearch Fallback Option]';\nvar PROP_NAME ='remove_oob_ai_search_fallback_option_after_upgrade';\nvar OOB_CONTEXT_PROFILE_ID = '3a33973653211010a813ddeeff7b125a';\n\nprocess();\n\nfunction process() {\n\t\n\tif (!foundProperty(PROP_NAME)) {\n\t\tgs.info('{0}:The property {1} is not found. The process will be disregarded',[LOG_ID, PROP_NAME]);\n\t\treturn;\n\t}\n\t\n\tif (shouldRemove(PROP_NAME)) {\n\t\t\n\t\tif(removeAISearchFallbackOption(OOB_CONTEXT_PROFILE_ID))\n\t\t\tgs.info('{0}:- AISearch Fallback Option for the profile:{1} got successfully removed',[LOG_ID, OOB_CONTEXT_PROFILE_ID]);\n\t\t\n\t\tif(removeProperty(PROP_NAME))\n\t\t\tgs.info('{0}:- Successfully removed the property -\"{1}\"', [LOG_ID, PROP_NAME]);\n\t}\n}\n\nfunction foundProperty(propertyName) {\n\treturn !gs.nil(gs.getProperty(propertyName));\n}\n\nfunction shouldRemove(propertyName) {\n\tvar val = gs.getProperty(propertyName);\n\treturn !gs.nil(val) && val === 'true';\n}\n\nfunction removeAISearchFallbackOption(contextProfileId) {\n\t\n\tvar gr = new GlideRecord('sys_cs_context_profile_topic');\n\tgr.addQuery('context_profile', contextProfileId);\n\tgr.addQuery('topic_type','ai_search_fallback');\n\tgr.query();\n\t\n\tif(gr.next()) {\n\t\tgr.setValue('topic','');\n\t\treturn !gs.nil(gr.update());\n\t}\n\tgs.info('{0}:-Record is not found for contxt_profile:{1} , topic_type:{2}', [LOG_ID, contextProfileId, 'ai_search_fallback']);\n\treturn false;\n}\n\nfunction removeProperty(PROP_NAME) {\n\tvar gr = new GlideRecord('sys_properties');\n\tgr.addQuery('name', PROP_NAME);\n\tgr.query();\n\t\n\tif(gr.next())\n\t\treturn gr.deleteRecord();\n\t\n\treturn false;\n}","sys_class_name":"sys_script_fix","sys_id":"40ab4df653a32010c440ddeeff7b1298","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/79d37f3704b52210559073c06a02f7ed","value":"79d37f3704b52210559073c06a02f7ed"},"sys_update_name":"sys_script_fix_40ab4df653a32010c440ddeeff7b1298","sys_updated_by":"admin","sys_created_on":"2021-04-20 00:12:11","name":"Remove OOB AISearch Fallback Option","sys_name":"Remove OOB AISearch Fallback Option","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"It updates dashboard widgets from 12 columns to 48 columns if the previous store app version was not 1.1","sys_updated_on":"2022-12-20 15:03:51","sys_tags":"","record_for_rollback":"true","script":"gs.info('par_dashboards Update widgets to 48 columns. Start');\n\nvar dashboardLayoutUtil = new SNC.DashboardLayoutUtilScriptable();\nvar dashboardsMigrated = dashboardLayoutUtil.migrateAllDashboardsTo48Column();\ngs.info('dashboards Migrated to 48 columns = [' + dashboardsMigrated + ']');\ngs.info('par_dashboards Update widgets to 48 columns. End');","sys_class_name":"sys_script_fix","sys_id":"40eb0d07357b1110f877698a667c49aa","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/143b677304352210559073c06a02f7e2","value":"143b677304352210559073c06a02f7e2"},"sys_update_name":"sys_script_fix_40eb0d07357b1110f877698a667c49aa","sys_updated_by":"admin","sys_created_on":"2022-12-20 15:03:51","name":"It updates dashboard widgets from 12 col","sys_name":"It updates dashboard widgets from 12 col","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"Update help_guidance calculate field for interaction_status column","sys_updated_on":"2024-11-16 18:31:58","sys_tags":"","record_for_rollback":"true","script":"function updateInteractionStatusCalculation() {\n    var gr = new GlideRecord(\"sys_dictionary\");\n    gr.addQuery(\"name\", \"help_guidance\");\n    gr.addQuery(\"element\", \"interaction_status\");\n    gr.query();\n    if (gr.next()) {\n        gr.setValue(\"calculation\", \"(function calculatedFieldValue(current) { var process_sys_id = current.process_definition; if (process_sys_id) { var playerController = new sn_ads_setup.SNHelpSetupPlayerController(); return playerController.getInteractionStatus(current.getUniqueValue()); } else { return current.interaction_status; } })(current);\");\n        gr.setWorkflow(false);\n        gr.update();\n    }\n}\n\nfunction setDefaultValueForSysDomainPathColumn(table) {\n    var gr = new GlideRecord(\"sys_dictionary\");\n    gr.addQuery('name', table);\n    gr.addQuery(\"element\", \"sys_domain_path\");\n    gr.query();\n    gs.info(gr.getRowCount());\n    if (gr.next()) {\n        gr.setValue(\"default_value\", \"/\");\n        gr.setWorkflow(false);\n        gr.update();\n    }\n}\n\nupdateInteractionStatusCalculation();\nsetDefaultValueForSysDomainPathColumn('help_guidance');\nsetDefaultValueForSysDomainPathColumn('help_user_interaction');\nsetDefaultValueForSysDomainPathColumn('help_user_interaction_step');","sys_class_name":"sys_script_fix","sys_id":"414dabe9e72012102deb055992f80c54","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/562ba37304352210559073c06a02f751","value":"562ba37304352210559073c06a02f751"},"sys_update_name":"sys_script_fix_414dabe9e72012102deb055992f80c54","sys_updated_by":"admin","sys_created_on":"2024-09-10 06:20:28","name":"Update guided setup column field","sys_name":"Update guided setup column field","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Set \"change.conflict.consolidated_conflicts\" system property to true for Zboot instances.\r\n\r\nConsolidate conflicts so a conflict is only registered for each unique combination of conflict type and schedule or conflicting-change.\r\n\r\nThis will result in less conflicts but the Maintenance/Blackout schedules and conflicting changes will each be denoted as a conflict,  if the property is set to false the original Change Conflict behaviour will continue.","sys_updated_on":"2020-03-12 14:58:17","sys_tags":"","record_for_rollback":"false","script":"(function () {\n\tif (pm.isZboot())\n\t\tgs.setProperty(\"change.conflict.consolidated_conflicts\", true);\n})();","sys_class_name":"sys_script_fix","sys_id":"41530a94736300102eb52d2b04f6a7ef","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d00ba33304352210559073c06a02f77e","value":"d00ba33304352210559073c06a02f77e"},"sys_update_name":"sys_script_fix_41530a94736300102eb52d2b04f6a7ef","sys_updated_by":"admin","sys_created_on":"2020-03-10 14:50:28","name":"Consolidate CHG conflicts default zboot","sys_name":"Consolidate CHG conflicts default zboot","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"true","sys_mod_count":"4","description":"Converts existing Test Steps from the the extended table model to the variables model.","sys_updated_on":"2016-07-17 23:13:28","sys_tags":"","record_for_rollback":"false","script":"var extensions = new GlideRecord('sys_db_object');\nextensions.addEncodedQuery(\"GOTOsuper_class.name=sys_atf_step^ORsuper_class.name=sys_atf_record\");\nextensions.query();\nwhile (extensions.next()) {\n\tpopulateInputsFromColumns(extensions.name);\n}\n\nfunction isConvertedConfig(elem) {\n    var convertedConfigs = [\n        '02be4a935332120028bc29cac2dc3456', '05317cd10b10220050192f15d6673af8', '071ee5b253331200040729cac2dc348d',\n        '14872288df60220062fe6c7a4df26319', '17a72288df60220062fe6c7a4df26397', '1b97cd31872022008182c9ded0e3ece5',\n        '1dfece935332120028bc29cac2dc3478', '1f39a288df60220062fe6c7a4df2639d', '5f2e0e535332120028bc29cac2dc34d3',\n        '8df72288df60220062fe6c7a4df2636d', 'be8e0a935332120028bc29cac2dc34e4', 'd8fdf5e10b1022009cfdc71437673adc',\n        'fcae4a935332120028bc29cac2dc340e', '7f49ec32532022008aaec57906dc3473', '0f4a128297202200abe4bb7503ac4af0',\n        '41de4a935332120028bc29cac2dc349a'\n    ];\n    for (var i in convertedConfigs) {\n        if (convertedConfigs[i] == elem)\n            return true;\n    }\n    return false;\n}\n\nfunction populateInputsFromColumns(tableName) {\n\tvar step = new GlideRecord(tableName);\n\tstep.query();\n\twhile(step.next()) {\n\t\tvar migrate = new GlideRecord(tableName);\n        migrate.get(step.sys_id);\n\t\tgs.print('Considering migrating record ' + migrate.sys_id + ' from table ' + tableName +\n\t\t         ' with step config ' + migrate.step_config.name + ' [' + migrate.step_config + ']');\n\t\tif (!isConvertedConfig(migrate.step_config)) {\n    \t\tgs.print('Record ' + migrate.sys_id + ' is not associated with a converted step config. Skipping.');\n\t\t    continue;\n\t\t}\n   \t\tgs.print('Converting record ' + migrate.sys_id);\n\t\tvar inputs = {};\n\t\tvar names = migrate.inputs.getVariableNames();\n\n\t\t//read the column values into memory\n\t\tfor(var i=0; i<names.length; i++) {\n\t\t\tgs.print(\"R : \"+tableName + \":\" + names[i] + \"=\" + migrate[names[i]]);\n\t\t\tinputs[names[i]] = migrate[names[i]];\n\t\t}\n\n\t\t//change the record type\n\t\tmigrate.sys_class_name = 'sys_atf_step';\n\t\tmigrate.setWorkflow(false);\n\t\tmigrate.update();\n\n\n\t\t//write the var values from memory\n\t\tmigrate = new GlideRecord('sys_atf_step');\n\t\tmigrate.get(step.sys_id);\n\t\tfor(i=0; i<names.length; i++) {\n\t\t\tmigrate.inputs[names[i]] = inputs[names[i]];\n\t\t}\n\t\tmigrate.setWorkflow(false);\n\t\tmigrate.order = migrate.order + 1; // force dirtiness. forceUpdate() isn't enough.\n        migrate.update();\n\t\tmigrate.order = migrate.order - 1;\n\t\tmigrate.setWorkflow(true);\n        migrate.update();\n\t}\n}\n","sys_class_name":"sys_script_fix","sys_id":"4175b1175320220002c6435723dc34ad","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18792f3b04f12210559073c06a02f71d","value":"18792f3b04f12210559073c06a02f71d"},"sys_update_name":"sys_script_fix_4175b1175320220002c6435723dc34ad","sys_updated_by":"admin","sys_created_on":"2016-07-16 17:19:44","name":"sn_atf: config columns to vars","sys_name":"sn_atf: config columns to vars","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"russ.sarbora","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2025-02-19 23:02:29","sys_tags":"","record_for_rollback":"true","script":"var g = new GlideRecord('sys_dictionary');\ng.addQuery('name', 'IN', ['cmdb_ire_output_comparison','cmdb_ire_output_comparison_item']);\ng.addQuery('internal_type', 'compressed');\ng.query();\nwhile(g.next()) {\n\tg.setValue('internal_type', 'json');\n\tg.update();\n}","sys_class_name":"sys_script_fix","sys_id":"4183e9c2ff7312107293ffffffffff91","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_4183e9c2ff7312107293ffffffffff91","sys_updated_by":"admin","sys_created_on":"2025-02-19 23:02:29","name":"IRE Comparison json fields","sys_name":"IRE Comparison json fields","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2022-12-15 10:05:09","sys_tags":"","record_for_rollback":"true","script":"var uiSectionGr = new GlideRecord(\"sys_ui_section\");\nif (uiSectionGr.get(\"0676ae78733200104a905ee515f6a726\"))\n    uiSectionGr.deleteRecord();","sys_class_name":"sys_script_fix","sys_id":"41875a1977731110b6a0cf6dbd5a99ef","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9cc37b3704b52210559073c06a02f781","value":"9cc37b3704b52210559073c06a02f781"},"sys_update_name":"sys_script_fix_41875a1977731110b6a0cf6dbd5a99ef","sys_updated_by":"admin","sys_created_on":"2022-12-15 10:05:09","name":"Remove sys_cs_provider ui_section record","sys_name":"Remove sys_cs_provider ui_section record","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Since the updates for IAR configuration and related tables records doesn't go into sys_updates table, enable auditing on the same. ","sys_updated_on":"2023-04-24 19:32:59","sys_tags":"","record_for_rollback":"true","script":"var tablesList = [\"sys_cs_auto_resolution_configuration\",\n\t\t\t\t\"sys_cs_auto_resolution_configuration_language\",\n\t\t\t\t\"sys_cs_auto_resolution_intent_topic_map\",\n\t\t\t\t\"sys_cs_auto_resolution_reminder\",\n\t\t\t\t\"sys_cs_auto_resolution_response_channel\",\n\t\t\t\t\"sys_cs_auto_resolution_simulation_configuration\"];\nenabledAudit();\n\nfunction enabledAudit() {\n\tgs.info(\"Executing IAR fix script: Starting enabling audit on IAR config tables \" + tablesList);\n\tvar gr = new GlideRecord('sys_dictionary');\n\tgr.addQuery('name', 'IN', tablesList);\n\tgr.addQuery('internal_type', 'collection');\n\tgr.addQuery(\"audit\", false);\n\n\tgr.setValue(\"audit\", true);\n\tgr.updateMultiple();\n\tgs.info(\"Executing IAR fix script: Ending enabling audit on IAR config tables\");\n}","sys_class_name":"sys_script_fix","sys_id":"41a6fddb775a2110f14a24f1cd5a99e7","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca4f3f704b52210559073c06a02f789","value":"aca4f3f704b52210559073c06a02f789"},"sys_update_name":"sys_script_fix_41a6fddb775a2110f14a24f1cd5a99e7","sys_updated_by":"admin","sys_created_on":"2023-04-24 19:30:24","name":"Enable Audit on IAR Config tables","sys_name":"Enable Audit on IAR Config tables","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Update default value for assign_to field on IAR configuration to be Virtual Agent user\r\nApplies for Quebec/Rome --> San Diego upgrade","sys_updated_on":"2021-10-22 18:05:47","sys_tags":"","record_for_rollback":"true","script":"executeFix();\n\nfunction executeFix() {\n\tvar configGr = new GlideRecord(AutoResolutionConstants.CONFIG_TABLE_NAME);\n\tconfigGr.query();\n\t\n\twhile (configGr.next()) {\n\t\tif (configGr.isValidField(AutoResolutionConstants.CONFIGURATION_ASSIGN_TO_FIELD_NAME)) {\n\t\t\tvar vaUserId = new AutoResolutionContextHelper()._getVAUserID();\n\t\t\tconfigGr.setValue(AutoResolutionConstants.CONFIGURATION_ASSIGN_TO_FIELD_NAME, vaUserId);\n\t\t\tconfigGr.update();\n\t\t\tgs.info('Executing IAR Fix script: Successfully updated assign_to field on Issue Auto-Resolution configuration={0} to Virtual Agent user={1}', configGr.getUniqueValue(), vaUserId);\n\t\t}\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"425e8a6277133010f14a24f1cd5a9922","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca4f3f704b52210559073c06a02f789","value":"aca4f3f704b52210559073c06a02f789"},"sys_update_name":"sys_script_fix_425e8a6277133010f14a24f1cd5a9922","sys_updated_by":"admin","sys_created_on":"2021-10-22 17:50:04","name":"Update assign_to field on IAR Config","sys_name":"Update assign_to field on IAR Config","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Update the hints and labels for provider notifications v2","sys_updated_on":"2021-10-04 09:09:09","sys_tags":"","record_for_rollback":"false","script":"updateEventParmFieldHint();\nfunction updateEventParmFieldHint() {\n\tif (pm.isZboot())\n\t\treturn;\n\tupdateIncludeOriginatorLabel();\n\tupdateTriggeredByLabel();\n\tupdateEventParm1FieldHint();\n\tupdateEventParm2FieldHint();\n}\n\nfunction updateIncludeOriginatorLabel() {\n\n\tvar newlabel = gs.getMessage('Include the person whose action triggered the notification');\n\n\tvar grUpdate = new GlideRecord('sys_documentation');\n\tgrUpdate.addQuery('name', 'sys_notification');\n\tgrUpdate.addQuery('element', 'include_originator');\n\tgrUpdate.addQuery('label', '!=', newlabel);\n\tgrUpdate.query();\n\tif (grUpdate.next()) {\n\t\tgrUpdate.setValue('label', newlabel);\n\t\tgrUpdate.setValue('plural', newlabel);\n\t\tgrUpdate.setWorkflow(false);\n\t\tgrUpdate.update();\n\t}\n\n\tvar dictGr = new GlideRecord('sys_dictionary');\n\tdictGr.addQuery('name', 'sys_notification');\n\tdictGr.addQuery('element', 'include_originator');\n\tdictGr.addQuery('column_label', '!=', newlabel);\n\tdictGr.query();\n\tif (dictGr.next()) {\n\t\tdictGr.setValue('column_label', newlabel);\n\t\tdictGr.setWorkflow(false);\n\t\tdictGr.update();\n\t}\n}\n\nfunction updateTriggeredByLabel() {\n\n\tvar newlabel = gs.getMessage('Trigger');\n\tvar newPlural = gs.getMessage('Triggers');\n\n\tvar grUpdate = new GlideRecord('sys_documentation');\n\tgrUpdate.addQuery('name', 'sys_notification');\n\tgrUpdate.addQuery('element', 'triggered_by');\n\tgrUpdate.addQuery('label', '!=', newlabel);\n\tgrUpdate.query();\n\tif (grUpdate.next()) {\n\t\tgrUpdate.setValue('label', newlabel);\n\t\tgrUpdate.setValue('plural', newPlural);\n\t\tgrUpdate.setWorkflow(false);\n\t\tgrUpdate.update();\n\t}\n\n\tvar dictGr = new GlideRecord('sys_dictionary');\n\tdictGr.addQuery('name', 'sys_notification');\n\tdictGr.addQuery('element', 'triggered_by');\n\tdictGr.addQuery('column_label', '!=', newlabel);\n\tdictGr.query();\n\tif (dictGr.next()) {\n\t\tdictGr.setValue('column_label', newlabel);\n\t\tdictGr.setWorkflow(false);\n\t\tdictGr.update();\n\t}\n}\n\n\nfunction updateEventParm1FieldHint() {\n\n\tvar newHint = gs.getMessage('Their sys_ids appear in a comma-separated list in event parm1');\n\n\tvar doc = new GlideRecord('sys_documentation');\n\tdoc.addQuery('name', 'sys_notification');\n\tdoc.addQuery('element','event_parm_1');\n\tdoc.query();\n\tif (!doc.next())\n\t\treturn;\n\t\n\tdoc.setValue('hint', newHint);\n\tdoc.setWorkflow(false);\n\tdoc.update();\n}\n\nfunction updateEventParm2FieldHint() {\n\n\tvar newHint = gs.getMessage('Their sys_ids appear in a comma-separated list in event parm2');\n\t\n\tvar doc = new GlideRecord('sys_documentation');\n\tdoc.addQuery('name', 'sys_notification');\n\tdoc.addQuery('element','event_parm_2');\n\tdoc.query();\n\tif (!doc.next())\n\t\treturn;\n\t\n\tdoc.setValue('hint', newHint);\n\tdoc.setWorkflow(false);\n\tdoc.update();\n}","sys_class_name":"sys_script_fix","sys_id":"42824cff07323010e102982d0ad3008d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4c93a3f304312210559073c06a02f7f1","value":"4c93a3f304312210559073c06a02f7f1"},"sys_update_name":"sys_script_fix_42824cff07323010e102982d0ad3008d","sys_updated_by":"admin","sys_created_on":"2021-10-01 08:21:55","name":"Update lable/hints for sys_notification","sys_name":"Update lable/hints for sys_notification","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Set \"read-only\" to false of product and publisher columns of software product lifecycle table without activating SAM related plugin.","sys_updated_on":"2024-06-27 00:24:35","sys_tags":"","record_for_rollback":"true","script":"function setReadOnlyFalse(field) {\n\tvar gr = new GlideRecord('sys_dictionary');\n\tgr.addQuery('name', 'sam_sw_product_lifecycle');\n\tgr.addQuery('element', field);\n\tgr.addQuery('read_only', 'true');\n\tgr.query();\n\n\tif (gr.next()) {\n\t\tgr.setValue('read_only', 'false');\n\t\tgr.setWorkflow(false);\n\t\tgr.update();\n\t}\n}\nsetReadOnlyFalse('publisher');\nsetReadOnlyFalse('product_name');","sys_class_name":"sys_script_fix","sys_id":"42f1086d7c438250f877a0ffaf2aa297","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e325237304712210559073c06a02f7be","value":"e325237304712210559073c06a02f7be"},"sys_update_name":"sys_script_fix_42f1086d7c438250f877a0ffaf2aa297","sys_updated_by":"admin","sys_created_on":"2024-06-27 00:13:20","name":"Set read only to false for lifecycle","sys_name":"Set read only to false for lifecycle","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"6","description":"","sys_updated_on":"2022-10-27 09:23:12","sys_tags":"","record_for_rollback":"true","script":"(function() {\n    var modelGr = new GlideRecord('sys_nlu_model');\n    modelGr.addNullQuery('threshold_type');\n    modelGr.addQuery('oob', false);\n    modelGr.setValue('threshold_type', 'automatic');\n    modelGr.updateMultiple();\n})();","sys_class_name":"sys_script_fix","sys_id":"4323f673c7061110c59d3d9c95c260a7","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_script_fix_4323f673c7061110c59d3d9c95c260a7","sys_updated_by":"admin","sys_created_on":"2022-09-27 06:44:11","name":"Set threshold type for pre-Utah NLU mode","sys_name":"Set threshold type for pre-Utah NLU mode","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2021-09-30 22:18:11","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('ais_search_profile_ais_dictionary_m2m');\ngr.addQuery('marked_for_deletion', null);\ngr.query();\nwhile (gr.next()) {\n    gr.setValue('marked_for_deletion', false);\n    gr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"433af92bc8bab010f8770f55d7bbd36b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/76946b3f04312210559073c06a02f73b","value":"76946b3f04312210559073c06a02f73b"},"sys_update_name":"sys_script_fix_433af92bc8bab010f8770f55d7bbd36b","sys_updated_by":"maint","sys_created_on":"2021-09-30 22:18:11","name":"Fix null marked_for_deletion","sys_name":"Fix null marked_for_deletion","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Updates the Std Change Properties to original values if the properties have not been modified.","sys_updated_on":"2024-10-18 13:28:43","sys_tags":"","record_for_rollback":"false","script":"updateProperties();\n\nfunction updateProperties() {\n    //Do not run if this is a zboot instance\n    if (!pm.isZboot()) {\n        //Fetch the property record and if modifed then return\n        var propGr = new GlideRecord('std_change_properties');\n        if (propGr.get('527b5dafff700200b18affffffffff89')) {\n            if (!sn_collision.CollisionAPI.willBeReplacedOnUpgrade(propGr))\n                return;\n        }\n        //Exit if the Jakarta Plugin is not active as that sets the two-step to true\n        if (!GlidePluginManager().isActive(\"com.snc.best_practice.change.jakarta\"))\n            return;\n\n        var um = new GlideUpdateManager2();\n        um.setInstalling(true);\n        um.loadFile(gs.getGlideHome() + \"/plugins/com.snc.best_practice.change.jakarta/unload/std_change_properties_527b5dafff700200b18affffffffff89.xml\");\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"434814b1b75d5210dc59807cae11a9a3","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b80be33304352210559073c06a02f76b","value":"b80be33304352210559073c06a02f76b"},"sys_update_name":"sys_script_fix_434814b1b75d5210dc59807cae11a9a3","sys_updated_by":"admin","sys_created_on":"2024-10-17 16:14:36","name":"Reset Std change properties","sys_name":"Reset Std change properties","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"5","description":"","sys_updated_on":"2020-10-01 21:06:14","sys_tags":"","record_for_rollback":"false","script":"var dictionaryRecord = new GlideRecord(\"sys_dictionary\");\ndictionaryRecord.addQuery(\"name\", \"sys_declarative_action_assignment\");\ndictionaryRecord.addQuery(\"element\", \"action_attributes\");\ndictionaryRecord.query();\nif (dictionaryRecord.next()){\n\tdictionaryRecord.setValue(\"max_length\", 4000);\n\tdictionaryRecord.update();\n}","sys_class_name":"sys_script_fix","sys_id":"4366c316c7231010099a308dc7c26027","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9693e7f304312210559073c06a02f7f5","value":"9693e7f304312210559073c06a02f7f5"},"sys_update_name":"sys_script_fix_4366c316c7231010099a308dc7c26027","sys_updated_by":"admin","sys_created_on":"2020-10-01 21:03:47","name":"Set Max length on action_attributes ","sys_name":"Set Max length on action_attributes ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"19","description":"Save legacy dashboards permissions\r\n> Give read access to all the entities (groups, users and roles) which are currently defined in pa_dashboards\r\n       >> Give pa_viewer and pa_contributor - view rights to the existing dashboards\r\n       >> Give pa_admin and pa_power_user  write and delete rights to the existing dashboards\r\n\r\n>>> If the dashboardbelongs to a group and there are no permissions defined on the pa_dashboards and pa_dashboards_group tables, then\r\n * we transfer pa_viewer and pa_contributor roles to pa_dashboard_group and we give pa_power_user and pa_admin role, writting access to pa_dashboards.\r\n * Else we give pa_viewer and pa_contributor read access on pa_dashboards and pa_power_user and pa_admin writting access on the same table - pa_dashboards.","sys_updated_on":"2018-04-06 09:35:12","sys_tags":"","record_for_rollback":"false","script":"var ROLE_TYPE_PERMISSION = 1;\nvar GROUP_TYPE_PERMISSION = 2;\nvar USER_TYPE_PERMISSION = 3;\nvar VISIBLE_TO_EVERYONE = 2;\nvar VISIBLE_TO_GROUPS_AND_USERS = 3;\n\n//By default all the entities (group, users and roles) which currently have an entry in pa_dashboards, will receive read access on the specified dashboards;\n//Pa power users roles (pa_admin and pa_power_user) will receive edit rights to all existing dashboards\nfunction saveDashboardPermissions(identitiesList, permissionType, dashboardSysId, canView, canEdit) {\n\tfor (var i = 0; i < identitiesList.length; i++) {\n\t\tvar identitySysId = identitiesList[i];\n\t\tvar dashboardPermissions = new GlideRecord('pa_dashboards_permissions');\n\t\tdashboardPermissions.addQuery('type', permissionType);\n\t\tdashboardPermissions.addQuery('identity', identitySysId);\n\t\tdashboardPermissions.addQuery('dashboard', dashboardSysId);\n\t\tdashboardPermissions.query();\n\t\tif (dashboardPermissions.next()) { //Update if exists\n\t\t\tdashboardPermissions.setValue('read', canView);\n\t\t\tif (canEdit) {\n\t\t\t\tdashboardPermissions.setValue('write', true);\n\t\t\t\tdashboardPermissions.setValue('delete', true);\n\t\t\t}\n\n\t\t\tdashboardPermissions.update();\n\t\t\t//gs.log(\"Update permission identity (canEdit:\" + canEdit + \"): \" + identitySysId + \", dashboard - \" + dashboardSysId + \", permissionsType: \" + permissionType);\n\t\t} else { //Save\n\t\t\tdashboardPermissions.initialize();\n\t\t\tdashboardPermissions.setValue('identity', identitySysId);\n\t\t\tdashboardPermissions.setValue('type', permissionType);\n\t\t\tdashboardPermissions.setValue('dashboard', dashboardSysId);\n\t\t\tdashboardPermissions.setValue('read', canView);\n\t\t\tif (canEdit) {\n\t\t\t\tdashboardPermissions.setValue('write', true);\n\t\t\t\tdashboardPermissions.setValue('delete', true);\n\t\t\t}\n\n\t\t\tdashboardPermissions.insert();\n\t\t\t//gs.log(\"Save permission identity (canEdit:\" + canEdit + \"): \" + identitySysId + \", dashboard - \" + dashboardSysId + \", permissionsType: \" + permissionType);\n\t\t}\n\t}\n}\n\nfunction saveLegacyDashboardsPermissions(dashboardsWithNewPermissions) {\n\t//Get all dashboards that have no owner and no new permissions\n\tvar dashboards = new GlideRecord('pa_dashboards');\n\tdashboards.addNullQuery('owner');\n\tdashboards.addQuery('sys_id', 'NOT IN', dashboardsWithNewPermissions);\n\tdashboards.query();\n\twhile (dashboards.next()) {\n\t\t//Pa roles definition\n\t\tvar paPowerUsersRoles = ['pa_admin', 'pa_power_user'];\n\t\tvar paViewersRoles = ['pa_viewer', 'pa_contributor'];\n\t\tvar noExplicitDashboardPermissions = false;\n\n\t\tdashboards.setValue('restrict_to_roles', 'pa_viewer, pa_contributor');\n\t\tdashboards.setValue('should_migrate_permissions', false);\n\t\tdashboards.update();\n\n\t\t//Step 1: Give read access to all the entities (groups, users and roles) are currently defined in pa_dashboards; if none defined - give read access to pa viewers\n\t\tvar dashboardSysId = dashboards.getUniqueValue();\n\t\tvar dashboardVisibility = dashboards.getValue('visible_to'); //2-everyone; 3-groups and users; [1-was me, but it is now obsolete]\n\n\t\tif (dashboardVisibility == VISIBLE_TO_GROUPS_AND_USERS) { //Dashboard visible to certain groups and users\n\t\t\tvar groupsList = dashboards.groups ? dashboards.groups.split(',') : '';\n\t\t\tvar usersList = dashboards.users ? dashboards.users.split(',') : '';\n\t\t\t//Save read access for all defined groups if any\n\t\t\tif (groupsList != '')\n\t\t\t\tsaveDashboardPermissions(groupsList, GROUP_TYPE_PERMISSION, dashboardSysId, /*canView*/true, /*canEdit*/false);\n\t\t\t//Save read access for all defined users if any\n\t\t\tif (usersList != '')\n\t\t\t\tsaveDashboardPermissions(usersList, USER_TYPE_PERMISSION, dashboardSysId, /*canView*/true, /*canEdit*/false);\n\t\t\t//If there are any groups or users defined\n\t\t\tif (groupsList != '' || usersList != '')\n\t\t\t\t//Give also pa power users roles (pa_admin and pa_power_user)  read and write rights\n\t\t\t\tsaveDashboardPermissions(paPowerUsersRoles, ROLE_TYPE_PERMISSION, dashboardSysId, /*canView*/true, /*canEdit*/true);\n\t\t\telse  // No groups or users defined\n\t\t\t\tnoExplicitDashboardPermissions = true;\n\t\t} else if (dashboardVisibility == VISIBLE_TO_EVERYONE) { //Dashboard visible by everyone\n\t\t\tvar rolesList = dashboards.roles ? dashboards.roles.split(',') : '';\n\t\t\tif (rolesList.length > 0) { //Dashboard shared with specific roles\n\t\t\t\t//Save read access for all defined roles in Dashboard Permissions table\n\t\t\t\tsaveDashboardPermissions(rolesList, ROLE_TYPE_PERMISSION, dashboardSysId, /*canView*/true, /*canEdit*/false);\n\t\t\t\t//Save write access for pa power users [pa_admin and pa_power_user] in Dashboard Permissions table\n\t\t\t\tsaveDashboardPermissions(paPowerUsersRoles, ROLE_TYPE_PERMISSION, dashboardSysId, /*canView*/true, /*canEdit*/true);\n\t\t\t} else { //Dashboard was shared with all pa viewers\n\t\t\t\tnoExplicitDashboardPermissions = true;\n\t\t\t}\n\t\t}\n\n\t\tif (noExplicitDashboardPermissions) {\n\t\t\t//Check if dashboard is associated with a group\n\t\t\tvar dashboardGroupSysId = dashboards.getValue('group');\n\t\t\tvar hasGroupPermissions = false;\n\t\t\tif (dashboardGroupSysId != null) { //If dashboard belongs to a group\n\t\t\t\tvar dashboardGroup = new GlideRecord('pa_dashboards_group');\n\t\t\t\tif (dashboardGroup.get(dashboardGroupSysId)) {\n\t\t\t\t\t//Check dashboard's group permissions\n\t\t\t\t\tvar dashboardGroupVisibility = dashboardGroup.getValue('visible_to'); //2-Everyone; 3-Groups and Users\n\t\t\t\t\thasGroupPermissions = (dashboardGroupVisibility == VISIBLE_TO_EVERYONE && dashboardGroup.getValue('roles') != null) || (dashboardGroupVisibility == VISIBLE_TO_GROUPS_AND_USERS && (dashboardGroup.getValue('groups') != null || dashboardGroup.getValue('users') != null));\n\t\t\t\t}\n\t\t\t\tif (!hasGroupPermissions) { //No group permissions defined\n\t\t\t\t\t//Transfer pa viewers rights to Dashboard table\n\t\t\t\t\tsaveDashboardPermissions(paViewersRoles, ROLE_TYPE_PERMISSION, dashboardSysId, /*canView*/true, /*canEdit*/false);\n\t\t\t\t\t//Save write permissions for pa power users in Dashboard Permissions table; read is given by Dashboard Group (pa_dashboards_group) ACLs\n\t\t\t\t\tsaveDashboardPermissions(paPowerUsersRoles, ROLE_TYPE_PERMISSION, dashboardSysId, /*canView*/true, /*canEdit*/true);\n\t\t\t\t}  else\n\t\t\t\t\t//Follow Dashboard Group permissions\n\t\t\t\t\t//And give pa power users write access only; read is given by pa_dashboards_group ACLs\n\t\t\t\t\tsaveDashboardPermissions(paPowerUsersRoles, ROLE_TYPE_PERMISSION, dashboardSysId, /*canView*/false, /*canEdit*/true);\n\t\t\t} else { //No explicit permissions set and dashboard belongs to no group\n\t\t\t\t//Give read access to all pa viewers roles and pa power users R&W access on Dashboard table\n\t\t\t\tsaveDashboardPermissions(paViewersRoles, ROLE_TYPE_PERMISSION, dashboardSysId, /*canView*/true, /*canEdit*/false);\n\t\t\t\tsaveDashboardPermissions(paPowerUsersRoles, ROLE_TYPE_PERMISSION, dashboardSysId, /*canView*/true, /*canEdit*/true);\n\t\t\t}\n\t\t}\n\t}\n}\n\n// This script should run only during an upgrade\nif (!pm.isZboot()) {\n\tif (pm.isActive('com.glideapp.canvas') && gs.getProperty('glide.cms.enable.responsive_grid_layout', 'true') === 'true') { // Responsive dashboards enabled\n\t\t// Check if any dashboards were already migrated\n\t\tvar dashboardsWithNewPermissions = [];\n\t\tvar grDashboardsPermissions = new GlideRecord('pa_dashboards_permissions');\n\t\tgrDashboardsPermissions.query();\n\t\twhile(grDashboardsPermissions.next()) {\n\t\t\tvar dashSysId = grDashboardsPermissions.getValue('dashboard');\n\t\t\tif (dashboardsWithNewPermissions.indexOf(dashSysId) < 0) {\n\t\t\t\tdashboardsWithNewPermissions.push(dashSysId);\n\t\t\t}\n\t\t}\n\n\t\t// If there are dashboards that were migrated, make sure that migrated field reflects that\n\t\tif (dashboardsWithNewPermissions.length) {\n\t\t\tvar grDashboards = new GlideRecord('pa_dashboards');\n\t\t\tgrDashboards.addQuery('sys_id', 'IN', dashboardsWithNewPermissions);\n\t\t\tgrDashboards.addQuery('should_migrate_permissions', true);\n\t\t\tgrDashboards.setValue('should_migrate_permissions', false);\n\t\t\tgrDashboards.updateMultiple();\n\t\t}\n\n\t\t// Save legacy dashboard permissions and exclude any possible already migrated ones.\n\t\tsaveLegacyDashboardsPermissions(dashboardsWithNewPermissions);\n\t} else { // If canvas is off we need to make sure no dashboards permissions are stored in the new dashboard table and that all dashboards are ready for future migration\n\t\tvar grPermissions = new GlideRecord('pa_dashboards_permissions');\n\t\tgrPermissions.query();\n\t\tgrPermissions.deleteMultiple();\n\n\t\tvar grDashboards = new GlideRecord('pa_dashboards');\n\t\tgrDashboards.addQuery('should_migrate_permissions', false);\n\t\tgrDashboards.setValue('should_migrate_permissions', true);\n\t\tgrDashboards.updateMultiple();\n\t}\n}\n","sys_class_name":"sys_script_fix","sys_id":"43c5238f873312001ac119fa84e3ecf7","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/411bab3304352210559073c06a02f767","value":"411bab3304352210559073c06a02f767"},"sys_update_name":"sys_script_fix_43c5238f873312001ac119fa84e3ecf7","sys_updated_by":"admin","sys_created_on":"2016-06-09 00:14:24","name":"Save legacy dashboards permissions","sys_name":"Save legacy dashboards permissions","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2024-10-02 11:39:39","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord(\"sys_trigger\");\ngr.initialize();\ngr.setValue(\"script\", \"SNC.MigrationServiceScriptable.migrateIncompatibleArtifacts();\");\ngr.setValue(\"job_id\", \"81c92ce9c0a8016400e5f0d2f784ea78\");\ngr.setValue(\"trigger_type\", 0);\ngr.setValue(\"name\", \"Remigrate widgets in compatibility mode\");\ngr.insert();","sys_class_name":"sys_script_fix","sys_id":"43e9c6b8534112102974ddeeff7b12fc","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/013ba77304352210559073c06a02f7f1","value":"013ba77304352210559073c06a02f7f1"},"sys_update_name":"sys_script_fix_43e9c6b8534112102974ddeeff7b12fc","sys_updated_by":"admin","sys_created_on":"2024-10-02 11:39:39","name":"Scheduled compatibility migration to run","sys_name":"Scheduled compatibility migration to run","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"CMDB - Activate Related Items Performance plugin","sys_updated_on":"2019-11-21 19:38:38","sys_tags":"","record_for_rollback":"false","script":"//Check if CMDB Related Items Performance Accelerator not activated yet\nvar start = new Date().getTime();\ngs.info(\"CMDB Related Items Performance Accelerator activation: started.\");\nif (!new GlidePluginManager().isRegistered(\"com.snc.cmdb.perf.acc\")){\n    if(isValidToUpgrade(\"cmdb_fc_initiator\") && isValidToUpgrade(\"cmdb_fc_target\") && isValidToUpgrade(\"cmdb_print_queue_instance\") && isValidToUpgrade(\"cmdb_software_instance\") && isValidToUpgrade(\"samp_client_access\") && isValidToUpgrade(\"samp_oracle_options\")){\n        new GlidePluginManager().registerPlugin(\"com.snc.cmdb.relateditems.perf.acc\");\n        gs.info(\"CMDB Related Items Performance Accelerator activated\");\n    }\n}\nvar end = new Date().getTime();\nvar duration = end - start;\ngs.info(\"CMDB Related Items Performance Accelerator activation took \" + duration + \" ms.\");\n//Return true/false. Check is table valid to upgrade\nfunction isValidToUpgrade(tableName) {\n\tvar maxSize = GlideProperties.getInt(\"cmdb.plugin_activation.table_max_size\", 5000000);\n    var count = new GlideAggregate(tableName);\n    //if isValid() == false - the table doesn't exists.\n    if(!count.isValid()){\n        gs.info(\"CMDB Related Items Performance Accelerator activation: table \" + tableName + \" doesn't exists\");\n        return false;\n    }\n    count.setWorkflow(false);\n    count.addAggregate('COUNT');\n    count.query();\n    if(count.next()){\n        var tableSize = count.getAggregate('COUNT');\n        if(tableSize >= maxSize){\n            gs.info(\"CMDB Related Items Performance Accelerator activation: table \" + tableName + \" has size more than \" + maxSize);\n            return false;\n        }\n    }\n    return true;\n}","sys_class_name":"sys_script_fix","sys_id":"4405e485b7110010c5f22970ee11a928","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_4405e485b7110010c5f22970ee11a928","sys_updated_by":"admin","sys_created_on":"2019-11-21 19:38:38","name":"CMDB - Related Items Performance plugin","sys_name":"CMDB - Related Items Performance plugin","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"true","sys_mod_count":"2","description":"Shows the KB field on Form Search Results","sys_updated_on":"2016-12-07 09:10:06","sys_tags":"","record_for_rollback":"false","script":"if(!GlidePluginManager.isZboot())\n\tgs.setProperty(\"com.snc.contextual_search.widget.form.show_meta_data\", false);","sys_class_name":"sys_script_fix","sys_id":"44ae9d3e0bd322005775aabcb4673a69","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5209e3b704f12210559073c06a02f734","value":"5209e3b704f12210559073c06a02f734"},"sys_update_name":"sys_script_fix_44ae9d3e0bd322005775aabcb4673a69","sys_updated_by":"admin","sys_created_on":"2016-11-28 19:14:13","name":"Active KB Fields on Form Search Results","sys_name":"Active KB Fields on Form Search Results","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"10","description":"This change will remove the mandatory attribute from the mail_subject, mail_content, link_label, confirmation_message, confirm_label, cancel_label fields associated to sys_sg_button.","sys_updated_on":"2019-10-17 14:49:29","sys_tags":"","record_for_rollback":"false","script":"var elementList = ['mail_subject', 'mail_content', 'link_label', 'confirmation_message', 'confirm_label', 'cancel_label'];\ndisableMandatoryAttributeOnDictionaryItem(\"sys_sg_button\", elementList);\n\nfunction disableMandatoryAttributeOnDictionaryItem(tableName, elementList) {\n\tvar gr = new GlideRecord('sys_dictionary');\n\n\tgr.addQuery('name', tableName);\n\tgr.addQuery('element', 'IN', elementList);\n\tgr.query();\n\n\twhile (gr.next()) {\n\t\tgr.setValue('mandatory', false);\n\t\tgr.setWorkflow(false);\n\t\tgr.update();\n\t}\n}\n","sys_class_name":"sys_script_fix","sys_id":"44fd8bdd0f200010e70a4abec4767e9e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/75d42bbf04312210559073c06a02f78d","value":"75d42bbf04312210559073c06a02f78d"},"sys_update_name":"sys_script_fix_44fd8bdd0f200010e70a4abec4767e9e","sys_updated_by":"admin","sys_created_on":"2019-10-16 19:42:59","name":"Remove Mandatory Attribute","sys_name":"Remove Mandatory Attribute","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"4","description":"Applies to V upgrades \r\n- update feedback_type choice list positive and negative choices to inactive\r\n- update existing values for positive and negtive to helpful and not helpful","sys_updated_on":"2023-01-30 19:23:59","sys_tags":"","record_for_rollback":"true","script":"removeOutdatedFeedbackChoices();\nrenameExistingFeedbackValues();\n\n/**\n * Removes the positive and negative choices for the feedback type columns if they exist.\n */\nfunction removeOutdatedFeedbackChoices() {\n\tvar choiceGr = new GlideRecord(\"sys_choice\");\n\tchoiceGr.addQuery(\"name\", AutoResolutionConstants.AI_SEARCH_RESULT_TABLE_NAME);\n\tchoiceGr.addQuery(\"element\", AutoResolutionConstants.IAR_LINE_ITEM_FEEDBACK_TYPE_FIELD_NAME);\n\tchoiceGr.addQuery(\"inactive\", false);\n\tvar queryCondition = choiceGr.addQuery(\"value\", \"positive\");\n\tqueryCondition.addOrCondition(\"value\", \"negative\");\n\n\tchoiceGr.setValue(\"inactive\", true);\n\tchoiceGr.updateMultiple();\n\n\tgs.info(\"Executing IAR Fix Script: Deactivated the positive and negative choices for the {0} element on the {1} table.\", \n\t\t\tAutoResolutionConstants.IAR_LINE_ITEM_FEEDBACK_TYPE_FIELD_NAME,\n\t\t\tAutoResolutionConstants.AI_SEARCH_RESULT_TABLE_NAME);\n}\n\n/**\n * Renames feedback_type values of existing records from positive and negative to helpful and not_helpful, respectively.\n */\nfunction renameExistingFeedbackValues() {\n\tvar lineItemGr = new GlideRecord(AutoResolutionConstants.AI_SEARCH_RESULT_TABLE_NAME);\n\tvar queryCondition = lineItemGr.addQuery(AutoResolutionConstants.IAR_LINE_ITEM_FEEDBACK_TYPE_FIELD_NAME, \"positive\");\n\tqueryCondition.addOrCondition(AutoResolutionConstants.IAR_LINE_ITEM_FEEDBACK_TYPE_FIELD_NAME, \"negative\");\n\tlineItemGr.query();\n\t\n\twhile (lineItemGr.next()) {\n\t\tvar originalFeedbackValue = lineItemGr.getValue(AutoResolutionConstants.IAR_LINE_ITEM_FEEDBACK_TYPE_FIELD_NAME);\n\t\tvar updatedFeedbackValue = originalFeedbackValue;\n\t\tswitch (originalFeedbackValue) {\n\t\t\tcase \"positive\":\n\t\t\t\tupdatedFeedbackValue = AutoResolutionConstants.FEEDBACK_HELPFUL;\n\t\t\t\tbreak;\n\t\t\tcase \"negative\":\n\t\t\t\tupdatedFeedbackValue = AutoResolutionConstants.FEEDBACK_NOT_HELPFUL;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\tlineItemGr.setValue(AutoResolutionConstants.IAR_LINE_ITEM_FEEDBACK_TYPE_FIELD_NAME, updatedFeedbackValue);\n\t\tvar lineItemSysId = lineItemGr.update();\n\t\tif (gs.nil(lineItemSysId)) {\n\t\t\tgs.error(\"Executing IAR Fix Script: Failed to update the feedback value from {0} to {1} on the {2} record {3}\", \n\t\t\t\toriginalFeedbackValue, updatedFeedbackValue, AutoResolutionConstants.AI_SEARCH_RESULT_TABLE_NAME, \n\t\t\t\tlineItemSysId);\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tgs.info(\"Executing IAR Fix Script: Successfully updated the feedback value from {0} to {1} on the {2} record {3}\", \n\t\t\toriginalFeedbackValue, updatedFeedbackValue, AutoResolutionConstants.AI_SEARCH_RESULT_TABLE_NAME,\n\t\t\tlineItemSysId);\n\t}\n}\n","sys_class_name":"sys_script_fix","sys_id":"456932d777202110f14a24f1cd5a994b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca4f3f704b52210559073c06a02f789","value":"aca4f3f704b52210559073c06a02f789"},"sys_update_name":"sys_script_fix_456932d777202110f14a24f1cd5a994b","sys_updated_by":"admin","sys_created_on":"2023-01-28 00:38:44","name":"Update AIS result feedback type column","sys_name":"Update AIS result feedback type column","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"CMDB - Update unique index whitelist_entry of cmdb_dedup_default_rel_item table to non-unique","sys_updated_on":"2020-10-21 19:53:01","sys_tags":"","record_for_rollback":"false","script":"var tableName = 'cmdb_dedup_default_rel_item';\nvar indexName = 'whitelist_entry';\n\nvar start = new Date().getTime();\ngs.info(\"CMDB - Update index of Default Rel Item: started.\");\n\nif (isUnique(tableName, indexName) && isValidToUpdate(tableName)){\n  dropIndex(tableName, indexName);\n  gs.info(\"CMDB - Update index of Default Rel Item: Index dropped for table \" + tableName);\n  addIndex(tableName, indexName);\n  gs.info(\"CMDB - Update index of Default Rel Item: Index added for table \" + tableName);\n}\n\nvar end = new Date().getTime();\nvar duration = end - start;\ngs.info(\"CMDB - Update index of Default Rel Item: took \" + duration + \" ms.\");\n\nfunction isValidToUpdate(tableName) {\n  var maxSize = 5000000;\n  var count = new GlideAggregate(tableName);\n  //if isValid() == false - the table doesn't exists.\n  if(!count.isValid()){\n    gs.info(\"CMDB - Update index of Default Rel Item: table \" + tableName + \" doesn't exists\");\n    return false;\n  }\n  count.setWorkflow(false);\n  count.addAggregate('COUNT');\n  count.query();\n  if(count.next()){\n    var tableSize = count.getAggregate('COUNT');\n    if(tableSize >= maxSize){\n      gs.logWarning(\"CMDB - Update index of Default Rel Item: table \" + tableName + \" has size more than \" + maxSize);\n      gs.logWarning(\"CMDB - Update index of Default Rel Item: Skipped modifying index for \" + tableName + \" and column \" + indexName);\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction isUnique(tableName, indexName) {\n  var isUnique = false;\n  var td = new GlideTableDescriptor(tableName);\n  td.getSchema();\n  var indexes = td.getIndexDescriptors();\n  for (var iter = indexes.values().iterator(); iter.hasNext();) {\n    var idx = iter.next();\n    if (idx.isPrimary())\n    continue;\n    var idxname = idx.getName();\n    var unique = idx.isUnique();\n    if (idxname == indexName && unique) {\n      gs.info(\"CMDB - Update index of Default Rel Item: Unique Index \" + indexName + \" found\");\n      isUnique = true;\n    }\n    else {\n      gs.info(\"CMDB - Update index of Default Rel Item: Index \" + indexName + \" is already non-unique\");\n    }\n    td.close();\n  }\n  return isUnique;\n}\n\nfunction dropIndex(tableName, indexName) {\n  var td = new GlideTableDescriptor(tableName);\n  td.getSchema();\n  var indexes = td.getIndexDescriptors();\n  for (var iter = indexes.values().iterator(); iter.hasNext();) {\n    var idx = iter.next();\n    if (idx.isPrimary())\n    continue;\n    var idxname = idx.getName();\n    if (idxname == indexName) {\n      gs.info(\"CMDB - Update index of Default Rel Item: Index \" + indexName + \" found and will be dropped\");\n      var dbi = new GlideDBConfiguration.getDBI(tableName);\n      gs.info(new GlideDBIndex(dbi).drop(idx));\n      dbi.close();\n    }\n    td.close();\n  }\n}\n\nfunction addIndex(appliesTo, attributes) {\n  var columns = attributes.split(',');\n  var grAppliesTo = new GlideRecord(appliesTo);\n  for (var i in columns) {\n    var column = columns[i];\n    var elem = grAppliesTo.getElement(column);\n    if (elem != null) {\n      var table = elem.getTableName();\n      var index = new IndexCreator(table, column, false, null, \"identification\");\n      index.execute();\n    } else {\n      gs.logWarning(\"CMDB - Update index of Default Rel Item: Index not created for attribute '\" + column + \"' as it doesn't yet exist on table '\" + appliesTo + \"'\");\n    }\n  }\n}\n","sys_class_name":"sys_script_fix","sys_id":"457d99700f402010ba6bfc91ff767e17","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_457d99700f402010ba6bfc91ff767e17","sys_updated_by":"admin","sys_created_on":"2020-10-21 18:10:42","name":"CMDB - Update index of Default Rel Item","sys_name":"CMDB - Update index of Default Rel Item","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"18","description":"Align indicators within bsm_indicator table between the BSM Legacy & Dependencies View by updating the  tooltip columns fields","sys_updated_on":"2016-03-02 15:49:43","sys_tags":"","record_for_rollback":"false","script":"gs.log(\"**********************************************************************************\");\ngs.log(\"Start Indicators Migration started: updating bsm_indicator table tooltip,icon,label columns fields \");\ngs.log(\"**********************************************************************************\");\nprocessTable('bsm_indicator');\ngs.log(\"**********************************************************************************\");\ngs.log(\"End Indicators\");\ngs.log(\"**********************************************************************************\");\n\nfunction processTable(tableName) {\n\tif (isTableExist(tableName)) {\n\t\tpopulateNewTableData(tableName);\n\t}else{\n\t\tgs.log('Verification if table exists failed -' + tableName);\n\t}\n}\n\n//This boolean function checks if given table exists in DB\nfunction isTableExist(tableName) {\n\tvar gr = new GlideRecord(tableName);\n\treturn gr.isValid();\n}\n\n\n//This boolean function checks if given table exists in DB\nfunction populateNewTableData(tableName) {\n\tvar name\t\t        = \"\";\n\tvar label\t\t        = \"\";\n\tvar tooltip_label\t\t= \"\";\n\tvar tooltip_info\t\t= \"\";\n\tvar description_field\t= \"\";\n\t\n\tvar gr = new GlideRecord(tableName);\n\tgr.query();\n\n\tgs.log('bsm_indicator records count: ' + gr.getRowCount());\n\tgs.log('Set tooltip_info to description_field:');\n\twhile (gr.next()){\n\t\tname\t\t        = gr.getValue('name');\n\t\tlabel\t\t        = gr.getValue('label');\n\t\ttooltip_label\t\t= gr.getValue('tooltip_label');\n\t\ttooltip_info\t\t= gr.getValue('tooltip_info');\n\t\tdescription_field\t= gr.getValue('description_field');\n\t\t\n\t\tgs.log('Current-> '+label+'['+label+'], name['+name+']');\n\n\t\t//In case the customer choosed already another field to be used as tooltip\n\t\t//Then use the same field also in the new way of presenting tooltips\n\t\tif (description_field!==tooltip_info){\n\t\t\tgs.log('Set '+label+' ['+tooltip_info+'] -> ['+description_field+']');\n\t\t\tgr.setValue('tooltip_info', description_field);\n\t\t\tgr.update();\n\t\t}\n\n\t\tswitch (name) {\n\t\t  case \"outages_current\":\n\t\t  \tsetIcon(gr,'images/app.ngbsm/indicators/outages-current.svg');\n\t\t  \tsetLabel(gr, 'Outages - current');\n\t\t    break;\n\t\t  case \"outages_planned\":\n\t\t  \tsetIcon(gr,'images/app.ngbsm/indicators/outages-planned.svg');\n\t\t  \tsetLabel(gr, 'Outages - planned');\n\t\t    break;\n\t\t  case \"incident\":\n\t\t  \tsetIcon(gr,'images/app.ngbsm/indicators/incident.svg');\n\t\t  \tsetLabel(gr, 'Incident');\n\t\t    break;\n\t\t  case \"problem\":\n\t\t  \tsetIcon(gr,'images/app.ngbsm/indicators/problem.svg');\n\t\t  \tsetLabel(gr, 'Problem');\n\t\t    break;\n\t\t  case \"outages_past\":\n\t\t  \tsetIcon(gr,'images/app.ngbsm/indicators/outages-past.svg');\n\t\t  \tsetLabel(gr, 'Outages - past');\n\t\t    break;\n\t\t  case \"changes_current\":\n\t\t  \tsetIcon(gr,'images/app.ngbsm/indicators/change.svg');\n\t\t  \tsetLabel(gr, 'Changes - current');\n\t\t    break;\n\t\t  case \"changes_planned\":\n\t\t  \tsetIcon(gr,'images/app.ngbsm/indicators/change-planned.svg');\n\t\t  \tsetLabel(gr, 'Changes - planned');\n\t\t    break;\n\t\t  case \"changes_past\":\n\t\t  \tsetIcon(gr,'images/app.ngbsm/indicators/change-past.svg');\n\t\t  \tsetLabel(gr, 'Changes - past');\n\t\t    break;\n\t\t  case \"affected_ci_task\":\n\t\t  \tsetIcon(gr,'images/app.ngbsm/indicators/affected.svg');\n\t\t  \tsetLabel(gr, \"Affected CI's\");\n\t\t    break;\n\t\t  default: \t\t   \n\t\t    gs.log(\"Found indicator  [\" + name + \"] which is not part of the OOTB indicators\");\n\t\t}\n\n\t}//end-While\n}//end-function\n\n//This boolean function replace the generic icon with the one got from the input\n//Return true if changed\nfunction setIcon(gr , iconPath) {\n\tvar icon = gr.getValue('icon');\n\tif (icon!==null && icon === 'images/app.ngbsm/indicators/generic-indicator.svg'){\n\t\t\tgs.log('Set the icon ['+iconPath+'] -> insted of ['+icon+']');\n\t\t\tgr.setValue('icon', iconPath);\n\t\t\tgr.update();\t\n\t\t\treturn true;\n\t} else {\n\t\tgs.log('Skip the icon ['+icon+']');\n\t}\n\treturn false;\n}\n\n//This boolean function replace the empty label with the one got from the input\n//Return true if changed\nfunction setLabel(gr , newLabel) {\t\t       \n\tvar label = gr.getValue('label');\n\tif (label===null || label === '' ){\n\t\t\tgs.log('Set the label ['+newLabel+'] -> insted of ['+ label+']');\n\t\t\tgr.setValue('label', newLabel);\n\t\t\tgr.update();\t\n\t\t\treturn true;\n\t} else {\n\t\tgs.log('Skip the label ['+label+']');\n\t}\n\treturn false;\n}\n\n\n\n\n","sys_class_name":"sys_script_fix","sys_id":"45e76fd29f120200ee6219eb552e70a6","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b9d7abbf04b12210559073c06a02f7c9","value":"b9d7abbf04b12210559073c06a02f7c9"},"sys_update_name":"sys_script_fix_45e76fd29f120200ee6219eb552e70a6","sys_updated_by":"admin","sys_created_on":"2015-09-07 06:35:39","name":"Align Dependencies View with Legacy BSM","sys_name":"Align Dependencies View with Legacy BSM","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"0","description":"sys_hub_action_type_base.name cannot be localized because it is type string","sys_updated_on":"2020-12-30 19:57:25","sys_tags":"","record_for_rollback":"false","script":"(function() {\n    if (pm.isZboot())\n        return;\n\t\n\tvar gr = new GlideRecord('sys_dictionary');\n\tgr.addQuery('name', 'sys_hub_action_type_base');\n\tgr.addQuery('element', 'name');\n\tgr.addQuery('internal_type', 'string');\n\tgr.query();\n\t\n\tif(gr.next()) {\n\t\tnew TranslationUtils().convert(\"sys_hub_action_type_base\",[\"name\"]);\n\t\tgs.info('sys_hub_action_type_base.name internal type changed to \"translated_text\"');\n\t}\n}());","sys_class_name":"sys_script_fix","sys_id":"467456530f112010f4166fe7c4767ece","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0a3be77304352210559073c06a02f7e3","value":"0a3be77304352210559073c06a02f7e3"},"sys_update_name":"sys_script_fix_467456530f112010f4166fe7c4767ece","sys_updated_by":"admin","sys_created_on":"2020-12-30 19:57:25","name":"Change action name to translated text","sys_name":"Change action name to translated text","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Moves stored visualizations on par_dashboard_widget from the visualization field to the stored_component field. ","sys_updated_on":"2023-03-02 12:09:06","sys_tags":"","record_for_rollback":"false","script":"if (!pm.isZboot()) {\n    var gr = new GlideRecord(\"par_dashboard_widget\");\n    gr.addNotNullQuery(\"visualization\");\n    gr.query();\n    while (gr.next()) {\n        gs.info('Upgrade: Setting stored component on ' + gr.getUniqueValue() + ' to ' + gr.visualization);\n        gr.stored_component = gr.visualization;\n        gr.visualization = undefined;\n        if (!gr.update()) {\n            gs.info('Upgrade: Failed to update ' + gr.getUniqueValue());\n        }\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"46855782b7112110997a9f78ce11a944","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/143b677304352210559073c06a02f7e2","value":"143b677304352210559073c06a02f7e2"},"sys_update_name":"sys_script_fix_46855782b7112110997a9f78ce11a944","sys_updated_by":"admin","sys_created_on":"2023-03-02 12:09:06","name":"Move dash wid viz to comp","sys_name":"Move dash wid viz to comp","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2021-01-08 20:09:35","sys_tags":"","record_for_rollback":"false","script":"if (!pm.isZboot()) {\n    var gr = new GlideRecord('sys_dictionary');\n    gr.addQuery('name', 'v_ais_result_improvement_rule_condition_builder_values');\n    gr.addQuery('element=user_agent');\n    gr.query();\n    if (gr.next()) {\n        gr.setValue(gr.getDisplayName(), \"User Context - User Agent\");\n        gr.update();\n    }\n\n    gr = new GlideRecord('sys_dictionary');\n    gr.addQuery('name', 'v_ais_result_improvement_rule_condition_builder_values');\n    gr.addQuery('element=user_agent_browser');\n    gr.query();\n    if (gr.next()) {\n        gr.setValue(gr.getDisplayName(), \"User Context - User Browser Agent\");\n        gr.update();\n    }\n\n}","sys_class_name":"sys_script_fix","sys_id":"469ea85ab72120109fa9b381de11a9bf","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/76946b3f04312210559073c06a02f73b","value":"76946b3f04312210559073c06a02f73b"},"sys_update_name":"sys_script_fix_469ea85ab72120109fa9b381de11a9bf","sys_updated_by":"admin","sys_created_on":"2021-01-08 20:09:35","name":"Update AIS Rule Context Labels","sys_name":"Update AIS Rule Context Labels","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Set reference qualifier for 'ml_capability_definition_base.word_vector_corpus'","sys_updated_on":"2020-04-10 20:24:39","sys_tags":"","record_for_rollback":"false","script":"gs.info(\"Setting reference qualifier for 'ml_capability_definition_base.word_vector_corpus'\");\nSNC.MLFixScriptUtil.setRefQualForWordCorpusOnCapbilitySolDefinition();","sys_class_name":"sys_script_fix","sys_id":"4708be127300101080b29ca9faf6a723","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_script_fix_4708be127300101080b29ca9faf6a723","sys_updated_by":"admin","sys_created_on":"2020-04-10 20:22:57","name":"Set ref qual for word corpus on sol def","sys_name":"Set ref qual for word corpus on sol def","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Sets a default value of \"0\" for all test result counts on the test suite result table (sys_atf_test_suite_result)","sys_updated_on":"2023-06-08 00:32:41","sys_tags":"","record_for_rollback":"true","script":"function addDefaultToColumn(element) {\n\tvar dictionaryGR = new GlideRecord(\"sys_dictionary\");\n\tdictionaryGR.addQuery(\"name\", \"sys_atf_test_suite_result\");\n\tdictionaryGR.addQuery(\"element\", element);\n\tdictionaryGR.query();\n\n\tif (!dictionaryGR.next()) {\n\t\tgs.warn(\"Unable to find dictionary entry for element '\" + element + \"'\");\n\t\treturn;\n\t}\n\n\tdictionaryGR.setValue(\"default_value\", 0);\n\tif (!dictionaryGR.update()) {\n\t\tgs.warn(\"Unable to update dictionary entry for element '\" + element + \"'\");\n\t\treturn;\n\t}\n\n\tgs.info(\"Successfully updated dictionary entry for element '\" + element + \"'\");\n}\n\naddDefaultToColumn(\"error_count\");\naddDefaultToColumn(\"failure_count\");\naddDefaultToColumn(\"skip_count\");\naddDefaultToColumn(\"success_count\");\naddDefaultToColumn(\"rolled_up_test_error_count\");\naddDefaultToColumn(\"rolled_up_test_failure_count\");\naddDefaultToColumn(\"rolled_up_test_skip_count\");\naddDefaultToColumn(\"rolled_up_test_success_count\");\naddDefaultToColumn(\"rolled_up_test_success_with_warnings_count\");\naddDefaultToColumn(\"rolled_up_test_canceled_count\");\n","sys_class_name":"sys_script_fix","sys_id":"4740a1e1431321106580a9bb1cb8f271","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18792f3b04f12210559073c06a02f71d","value":"18792f3b04f12210559073c06a02f71d"},"sys_update_name":"sys_script_fix_4740a1e1431321106580a9bb1cb8f271","sys_updated_by":"admin","sys_created_on":"2023-06-08 00:30:53","name":"Default test suite result counts to 0","sys_name":"Default test suite result counts to 0","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"2","description":"","sys_updated_on":"2023-02-24 10:53:21","sys_tags":"","record_for_rollback":"false","script":"\t\tif (!pm.isZboot()) {\n\t\t\tvar originalValue = gs.getProperty('glide.db.table.hierarchy_editor.live', true);\n\t\t    try {\n\t\t    \tgs.setProperty('glide.db.table.hierarchy_editor.live', false);\n\t\t\t\treparentServicePortalTable(\"par_visualization\", \"par_component\", 'sys_metadata');\n\t\t\t\tvar succ = reparentServicePortalTable(\"par_visualization_permission\", \"par_component_permission\", '');\n\t\t\t\tif(succ) {\n\t\t\t\t\tmigrationToComponentColumn();\n\t\t\t\t}\n\t\t    } finally {\n\t\t\t\tgs.setProperty('glide.db.table.hierarchy_editor.live', originalValue);\n\t\t\t}\n\t\t} else\n\t\t    gs.log('Upgrade: no need to re-parent Service Portal tables, zbooting');\n\n\t\tfunction reparentServicePortalTable(table, parent, oldParent) {\n\t\t    gs.log('Upgrade: starting ' + table + ' re-parent to ' + parent);\n\t\t    var tpc = new GlideTableParentChange(table);\n\t\t    if(tpc.change(oldParent, parent)) {\n\t\t    \tgs.log('Upgrade: completed ' + table + ' re-parent to ' + parent);\n\t\t    \treturn true;\n\t\t    }\n\t\t\telse {\n\t\t\t\tgs.log('Upgrade: Failed to reparent ' + table + ' re-parent to ' + parent);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfunction migrationToComponentColumn() {\n\t\t    var gr = new GlideRecord('par_visualization_permission');\n\t\t    gr.addNullQuery('component');\n\t\t    gr.addNotNullQuery('visualization');\n\t\t    gr.query();\n\t\t    while (gr.next()) {\n\t\t\t\tgs.log('Upgrade: Migrating visualization to component for ' + gr.getUniqueValue());\n\t\t        gr.component = gr.visualization;\n\t\t        gr.visualization = undefined;\n\t\t        gr.update();\n\t\t    }\n\t\t}","sys_class_name":"sys_script_fix","sys_id":"47667b48c3512110997a985cb140dd60","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ec3b677304352210559073c06a02f7f1","value":"ec3b677304352210559073c06a02f7f1"},"sys_update_name":"sys_script_fix_47667b48c3512110997a985cb140dd60","sys_updated_by":"admin","sys_created_on":"2023-02-24 09:33:22","name":"Migration Visualization to new parent","sys_name":"Migration Visualization to new parent","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Change sys_gen_ai_skill.skill_name from a string to a translated_text","sys_updated_on":"2024-08-21 20:10:20","sys_tags":"","record_for_rollback":"true","script":"var gr = new GlideRecord('sys_dictionary');\ngr.addQuery('name', 'sys_gen_ai_skill');\ngr.addQuery('element', 'skill_name');\ngr.addQuery('internal_type', 'string');\ngr.setWorkflow(false);\ngr.query();\nif (gr.next()) {\n    gr.setValue('internal_type', 'translated_text');\n    gr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"477b2b57a3c45210f1d55971e31e61e6","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7c84affb04312210559073c06a02f73d","value":"7c84affb04312210559073c06a02f73d"},"sys_update_name":"sys_script_fix_477b2b57a3c45210f1d55971e31e61e6","sys_updated_by":"admin","sys_created_on":"2024-08-21 20:10:20","name":"update sys_gen_ai_skill.skill_name","sys_name":"update sys_gen_ai_skill.skill_name","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Creates auto key exchange job delayed for 4 hours from plugin activation or upgrade.","sys_updated_on":"2021-03-29 21:32:29","sys_tags":"","record_for_rollback":"false","script":"var result = new SNC.KMFAutoKeyExchangeRequestGeneratorAPI().createAutoKeyExchangeRequestJob();\nvar parsedResult = JSON.parse(result);\nif (parsedResult.success === \"true\")\n    gs.log(gs.getMessage('Succesfully created automatic key exchange requests job'));\nelse\n    gs.log(gs.getMessage('Could not generate automatic key exchange requests job because of {0}', parsedResult.message));","sys_class_name":"sys_script_fix","sys_id":"47c00d405b132010e9ca49eb1e81c7f3","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7f83a3f304312210559073c06a02f787","value":"7f83a3f304312210559073c06a02f787"},"sys_update_name":"sys_script_fix_47c00d405b132010e9ca49eb1e81c7f3","sys_updated_by":"admin","sys_created_on":"2021-03-29 21:32:29","name":"KMFAutoKeyExchangeRequestJob","sys_name":"KMFAutoKeyExchangeRequestJob","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"By default, setting the variants flag to off for the existing playbook types","sys_updated_on":"2024-07-05 06:47:40","sys_tags":"","record_for_rollback":"true","script":"var gr = new GlideRecord('sys_pd_process_type');\ngr.query();\nwhile (gr.next()) {\n    try {\n\t\tgr.setValue('enable_variants', false);\n\t\tgr.update();\n\t\tgs.info('Disabled the variants flag for the playbook type ' + gr.getValue('sys_id'));\n\t} catch (e) {\n\t\tgs.error('Error in disabling variants for the playbook type ' + gr.getValue('sys_id') + ': ' + e);\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"48147ca3930742107eec15f44489184b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/903e67b304752210559073c06a02f757","value":"903e67b304752210559073c06a02f757"},"sys_update_name":"sys_script_fix_48147ca3930742107eec15f44489184b","sys_updated_by":"admin","sys_created_on":"2024-07-03 08:43:09","name":"Disable variants playbook flag","sys_name":"Disable variants playbook flag","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":"read"},{"before":"true","unloadable":"false","sys_mod_count":"4","description":"","sys_updated_on":"2019-07-19 08:53:33","sys_tags":"","record_for_rollback":"false","script":"function updateItAppOwnerDictionaryScope() {\n    var isTableInGlobalScope = false;\n    var gr = new GlideRecord('sys_db_object');\n    gr.addQuery('name', 'cmdb_ci_business_app');\n    gr.query();\n    if (gr.next())\n        if (gr.getValue('sys_scope') == 'global')\n            isTableInGlobalScope = true;\n    //If table is only in global scope we need to check for sys dictionary entry\n    //else no issue as table and dictionary entry will be in apm scope anyway.\n    if (isTableInGlobalScope) {\n        gs.info('Fix Scope of APM Labels: Business App table in Global Scope');\n        //Query the dictionary entry for business applications table \n        //with column it_application_owner that is in apm scope\n        gr = new GlideRecord('sys_dictionary');\n        gr.addQuery('name', 'cmdb_ci_business_app');\n        gr.addQuery('element', 'it_application_owner');\n        gr.addQuery('sys_scope.scope', 'sn_apm');\n        gr.query();\n        if (gr.next()) {\n            gs.info('Updating the scope of sys_dictionary entry with sys_id ' + gr.sys_id + ' to global scope');\n            gr.sys_scope = 'global';\n            gr.update();\n        }\n    } else\n        gs.info('Fix Scope of APM Labels: No changes needed for updating IT Application Owner field.');\n}\n\n\ngs.info('Fix Scope of APM Labels: Fixing scope of Business App and capability documentation files');\n\nfunction updateScopeofRecord(column, table) {\n    var sysDocGlideRecord = new GlideRecord('sys_documentation');\n    sysDocGlideRecord.addQuery('name', table);\n    sysDocGlideRecord.addQuery('element', column);\n    sysDocGlideRecord.addQuery('language', 'en');\n    sysDocGlideRecord.query();\n    var sysDicGlideRecord = new GlideRecord('sys_dictionary');\n    sysDicGlideRecord.addQuery('name', table);\n    sysDicGlideRecord.addQuery('element', column);\n    sysDicGlideRecord.query();\n    if (sysDocGlideRecord.next() && sysDicGlideRecord.next() && sysDicGlideRecord.sys_scope == 'global' && sysDocGlideRecord.sys_scope.scope == 'sn_apm') {\n        gs.info('Fix Scope of APM Labels: Updating the scope of sys_documentation entry with sys_id ' + sysDocGlideRecord.sys_id + ' to global scope');\n        sysDocGlideRecord.sys_scope = 'global';\n        sysDocGlideRecord.update();\n    }\n}\n\nvar columns = ['install_status', 'manufacturer', 'name', 'owned_by', 'sys_updated_by', 'vendor'];\nfor (var idx = 0; idx < columns.length; idx++) {\n    updateScopeofRecord(columns[idx], 'cmdb_ci_business_app');\n}\n\nupdateScopeofRecord('name', 'cmdb_ci_business_capability');\nupdateItAppOwnerDictionaryScope();","sys_class_name":"sys_script_fix","sys_id":"48d4fa76b7053300c8d4c338ee11a928","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_48d4fa76b7053300c8d4c338ee11a928","sys_updated_by":"admin","sys_created_on":"2019-04-30 10:25:06","name":"Fix Scope of APM Labels","sys_name":"Fix Scope of APM Labels","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"true","sys_mod_count":"3","description":"Remove the duplicate \"New\" UI action on the Inputs embedded list of the Workflow Properties dialog. xml DELETE records for UI Action are not safe because the way the update manager coalesces them can result in future upgrades delete records you didn't want to get deleted.","sys_updated_on":"2016-12-16 21:42:06","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tvar gr = new GlideRecord(\"sys_ui_action\");\n\tif (gr.get(\"5218846ac58343958d3a3d3faeccdff1\")) {\n\t\tgr.deleteRecord();\n\t}\n})();","sys_class_name":"sys_script_fix","sys_id":"48d85a24533b2200566d435723dc3491","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/41672bfb04b12210559073c06a02f7c6","value":"41672bfb04b12210559073c06a02f7c6"},"sys_update_name":"sys_script_fix_48d85a24533b2200566d435723dc3491","sys_updated_by":"russ.sarbora","sys_created_on":"2016-12-16 20:15:00","name":"remove_duplicate_new_inputs_button","sys_name":"remove_duplicate_new_inputs_button","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"russ.sarbora","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2019-08-27 17:15:49","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tvar adder = new AddValueToCsvProperty();\n\tadder.add('event.limited.queues', 'notification_provider');\n})();","sys_class_name":"sys_script_fix","sys_id":"48e981590f2333005605539ac4767e65","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4c93a3f304312210559073c06a02f7f1","value":"4c93a3f304312210559073c06a02f7f1"},"sys_update_name":"sys_script_fix_48e981590f2333005605539ac4767e65","sys_updated_by":"admin","sys_created_on":"2019-08-27 17:15:49","name":"Add Provider To Event Limited Queues","sys_name":"Add Provider To Event Limited Queues","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Moving CCCIF Channel LiveAgent Only flag to table sys_cs_channel field \"live_agent_only\" from sys_property \"com.glide.cs.cccif.live_agent_only\"","sys_updated_on":"2021-03-30 09:12:19","sys_tags":"","record_for_rollback":"false","script":"\nfunction updateLiveAgentOnlyFlag(value) {\n    var gr = new GlideRecord(\"sys_cs_channel\");\n    gr.addQuery(\"sys_id\", \"!=\", \"ea0cb816732110104a905ee515f6a7b5\");\n    gr.addEncodedQuery(\"synchronousISEMPTY^ORsynchronous=false\");\n    gr.query();\n    while (gr.next()) {\n        gr.setWorkflow(false);\n        gr.setValue(\"live_agent_only\", value);\n        gr.update();\n    }\n}\n\nfunction updateLiveAgentOnlySysProperty(value) {\n    var gr = new GlideRecord('sys_properties');\n    gr.addActiveQuery();\n    gr.addQuery('name', 'com.glide.cs.cccif.live_agent_only');\n    gr.query();\n    if (gr.next()) {\n        gr.value = value;\n        gr.setWorkflow(false);\n        gr.update();\n    }\n}\n/*\nIf system property \"com.glide.cs.cccif.live_agent_only\" is true update all now Webclient channels to Live Agent only flag true. \nAnd update system property \"com.glide.cs.cccif.live_agent_only\" to false as it is no more needed.\n*/\n\nvar liveAgentOnly = gs.getProperty(\"com.glide.cs.cccif.live_agent_only\");\ngs.info(\" Live agent only system property value : \" + liveAgentOnly);\nif (liveAgentOnly && liveAgentOnly == \"true\") {\n    gs.info(\" Update Live agent flag CS Channels : \" + liveAgentOnly);\n    updateLiveAgentOnlyFlag(true);\n    updateLiveAgentOnlySysProperty(false);\n}\n","sys_class_name":"sys_script_fix","sys_id":"4979d7c0771320105d7b3882a9106104","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9cc37b3704b52210559073c06a02f781","value":"9cc37b3704b52210559073c06a02f781"},"sys_update_name":"sys_script_fix_4979d7c0771320105d7b3882a9106104","sys_updated_by":"admin","sys_created_on":"2021-03-30 08:44:33","name":"CCCIF Channel LiveAgent Only flag","sys_name":"CCCIF Channel LiveAgent Only flag","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Rename the system property \"change.refresh_impacted.include_affected_cis\" to \"com.snc.change_request.refresh_impacted.include_affected_cis\" to be inline with the rest of refresh impacted service through ITSM","sys_updated_on":"2021-12-01 08:20:39","sys_tags":"","record_for_rollback":"true","script":"var prop = new GlideRecord('sys_properties');\nif (prop.get('name', 'change.refresh_impacted.include_affected_cis')) {\n\tprop.setValue('name', 'com.snc.change_request.refresh_impacted.include_affected_cis');\n\tprop.update();\n}","sys_class_name":"sys_script_fix","sys_id":"497b5b5797c401101fdb7b890353af47","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/32b7af7f04b12210559073c06a02f7fb","value":"32b7af7f04b12210559073c06a02f7fb"},"sys_update_name":"sys_script_fix_497b5b5797c401101fdb7b890353af47","sys_updated_by":"admin","sys_created_on":"2021-12-01 08:20:16","name":"Rename change request refresh services","sys_name":"Rename incident refresh services","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"During cloning, there might be invalid references to WorkerThread in sys_semaphore_set table. Assuming the instance has ootb configruation we default the sysid to the ootb WorkerThread id. ","sys_updated_on":"2023-10-16 22:12:04","sys_tags":"","record_for_rollback":"true","script":"/**\n * In the event of no WorkerThread record, we'll insert a default one\n * @param {GlideRecord} sGR\n * @returns {String} WorkerThread semaphore record sys_id\n */\nfunction insertNewWorkerSem(sGR) {\n  gs.info(\n    \"No WorkerThread record found. Inserting a default WorkerThread semaphore record...\"\n  );\n  sGR = new GlideRecord(\"sys_semaphore\");\n  sGR.initialize();\n  sGR.setValue(\"name\", \"WorkerThread\");\n  sGR.setValue(\"maximum_concurrency\", 8);\n  sGR.insert();\n\n  gs.print(\"Inserted a default WorkerThread semaphore record with sysid: \" + sGR.getUniqueValue());\n  return sGR.getUniqueValue();\n}\n\n/**\n * Insert a default semaphore_set record to replace the invalid one\n * Will use the same name, semaphoreSetId as the invalid one\n * Default to 8 max_concurrency\n * Pass in the sys_id of the WorkerThread semaphore record\n * @param {String} name\n * @param {String} semaphoreSetId\n * @param {String} workerThreadSemId\n */\nfunction insertDefaultWorkerThreadSemaphoreSetRecord(\n  name,\n  semaphoreSetId,\n  workerThreadSemId\n) {\n  var replacementSemaphoreSetGR = new GlideRecord(\"sys_semaphore_set\");\n  replacementSemaphoreSetGR.initialize();\n  replacementSemaphoreSetGR.setValue(\"semaphore_set_id\", semaphoreSetId);\n  replacementSemaphoreSetGR.setValue(\"name\", name);\n  replacementSemaphoreSetGR.setValue(\"max_concurrency\", 8);\n  replacementSemaphoreSetGR.setValue(\"semaphore_id\", workerThreadSemId);\n  replacementSemaphoreSetGR.insert();\n  gs.print(\"Inserted a default WorkerThread semaphore_set record sys_id=\" + replacementSemaphoreSetGR.getUniqueValue());\n}\n\n/**\n * Checks WorkerThread semaphore records for invalid records\n * if there's only 1 WorkerThread record, regardless of validity,\n * we keep it and use it to update semaphore_set later if needed\n * @returns void\n */\nfunction checkInvalidWorkerThreadRecords() {\n  var sGR = new GlideRecord(\"sys_semaphore\");\n  if (!sGR.isValid()) {\n    gs.info(\"table not found: sys_semaphore\");\n    return;\n  }\n  sGR.addQuery(\"name\", \"WorkerThread\");\n  sGR.query();\n  var count = sGR.getRowCount();\n  while (sGR.next()) {\n\t\tif (count <= 1) {\n\t\t\t// this is the only record\n\t\t\tbreak;\n\t\t}\n\t\tvar semaphoreSetAggregate = new GlideAggregate(\"sys_semaphore_set\");\n\t\tsemaphoreSetAggregate.addQuery(\"semaphore_id\", sGR.getUniqueValue());\n\t\tif (semaphoreSetAggregate.getCount() == 0) {\n\t\t\t//if found invalid records, delete\n\t\t\tgs.info(\"Deleting duplicate WorkerThread semaphore sys_id=\" + sGR.getUniqueValue());\n\t\t\t// only one left\n      sGR.setWorkflow(false);\n\t\t\tsGR.deleteRecord();\n\t\t\tcount = count - 1;\n\t\t}\n\t}\n}\n\n/**\n * Remove references to invalid semaphore record in semaphore_set table\n * @returns void\n */\nfunction deleteDeadReferences() {\n  var ssGR = new GlideRecord(\"sys_semaphore_set\");\n  if (!ssGR.isValid()) {\n    gs.info(\"table not found: sys_semaphore_set\");\n    return;\n  }\n  ssGR.query();\n  // loop through semaphore_set table for invalid references\n  while (ssGR.next()) {\n    var semaphoreGR = new GlideRecord(\"sys_semaphore\");\n    if (!semaphoreGR.get(ssGR.getValue(\"semaphore_id\"))) {\n      // remove the invalid records and keep track of the semaphore_set we should add back to\n      gs.info(\"Deleting sys_semaphore_set having broken sys_semaphore reference, sys_id = \" + ssGR.getUniqueValue());\n      ssGR.setWorkflow(false);\n      ssGR.deleteRecord();\n    }\n  }\n}\n\n/**\n * Find the WorkerThread semaphore record, if none exist we'll insert a default one\n * @returns {String} sys_id of the WorkerThread semaphore record\n */\nfunction ensureWorkerThread() {\n  var sGR = new GlideRecord(\"sys_semaphore\");\n  if (!sGR.isValid()) {\n    gs.info(\"table not found: sys_semaphore\");\n    return;\n  }\n  sGR.addQuery(\"name\", \"WorkerThread\");\n  sGR.query();\n  // loop through semaphore table for invalid WorkerThread records\n  if (sGR.getRowCount() == 0) {\n    // no WorkerThread sys_semaphore record, create one\n    return insertNewWorkerSem(sGR);\n  }\n  sGR.next();\n\n  return sGR.getUniqueValue();\n}\n\nfunction checkWorkerThreadReference() {\n  // delete invalid records, the semaphore table should have at most 1 WorkerThread record\n  // note: it could have 0 WorkerThread record and we handle that in ensureWorkerThread\n  checkInvalidWorkerThreadRecords();\n\n  // delete dead references in semaphore_set table\n  deleteDeadReferences();\n\n  // Find the WorkerThread semaphore record, returns the sys_id\n  var workerThreadSemId = ensureWorkerThread();\n  gs.print(\"Using WorkerThread sys_sempahore record, sys_id=\" + workerThreadSemId);\n\n  // get all unique semaphore_set_id\n  var ssGR = new GlideAggregate(\"sys_semaphore_set\");\n  ssGR.groupBy(\"semaphore_set_id\");\n  ssGR.groupBy(\"name\");\n  ssGR.query();\n  while (ssGR.next()) {\n    var semaphoreSetId = ssGR.getValue(\"semaphore_set_id\");\n    var semaphoreSetName = ssGR.getValue(\"name\");\n    var workerThreadReference = new GlideRecord(\"sys_semaphore_set\");\n    workerThreadReference.addQuery(\"semaphore_id\", workerThreadSemId);\n    workerThreadReference.addQuery(\"semaphore_set_id\", semaphoreSetId);\n    workerThreadReference.query();\n    if (!workerThreadReference.next()) {\n      gs.info(\n        \"Found a semaphore set missing WorkerThread semaphore. Inserting a default one...\"\n      );\n      insertDefaultWorkerThreadSemaphoreSetRecord(\n        semaphoreSetName,\n        semaphoreSetId,\n        workerThreadSemId\n      );\n    }\n  }\n}\n\ncheckWorkerThreadReference();\n","sys_class_name":"sys_script_fix","sys_id":"499aeb6343313110d69fa40f5bb8f2eb","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c63eb7304312210559073c06a02f71c","value":"8c63eb7304312210559073c06a02f71c"},"sys_update_name":"sys_script_fix_499aeb6343313110d69fa40f5bb8f2eb","sys_updated_by":"admin","sys_created_on":"2023-10-16 22:10:47","name":"Default Invalid WorkerThread Reference","sys_name":"Default Invalid WorkerThread Reference","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"8","description":"sets the  display values in alm_asset_ci_field_mapping,  alm_asset_ci_state_mapping and alm_hardware_state_mapping ","sys_updated_on":"2023-08-03 03:37:02","sys_tags":"","record_for_rollback":"true","script":"function fixDisplayValueEntries() {\n\tvar script = 'global.AssetFixScriptUtil.fixDisplayValuesForAssetCIMapTables();';\n\tvar name = 'Set display values in Asset-CI mapping tables';\n\tnew global.AssetManagementBaseJob().runScriptByJob(script, '', name, '', '', false);\n}\n\nfixDisplayValueEntries();","sys_class_name":"sys_script_fix","sys_id":"4add2a6c1c803510fa9bd7998173051f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/45672bfb04b12210559073c06a02f7c5","value":"45672bfb04b12210559073c06a02f7c5"},"sys_update_name":"sys_script_fix_4add2a6c1c803510fa9bd7998173051f","sys_updated_by":"admin","sys_created_on":"2023-07-12 10:23:00","name":"Fix display values in asset ci map table","sys_name":"Fix display values in asset ci map table","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"1","description":"Changing the label of CI column in mulitsource tables","sys_updated_on":"2022-10-07 17:15:01","sys_tags":"","record_for_rollback":"true","script":"var gr = new GlideRecord('sys_dictionary');\n//Changing the label of CI column from the default Configuration Item to Primary record to generalize labels to support non-cmdb tables\n//Changing CI label for tables cmdb_multisource_data, cmdb_multisource_query_result\ngr.addQuery('name', 'IN', 'cmdb_multisource_data,cmdb_multisource_query_result');\ngr.addQuery('element', 'ci');\ngr.addQuery('column_label', 'Configuration Item');\ngr.query();\nwhile (gr.next()) {\n    gr.setValue('column_label', 'Primary Record');\n    if (gr.update()) {\n        gs.log(\"Updated the label of CI element for \" + gr.getValue(\"name\"));\n    } else {\n        gs.logError(\"Failed to update the label of CI element for \" + gr.getValue(\"name\"));\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"4aea14937312111007d56ad9af148b0e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_4aea14937312111007d56ad9af148b0e","sys_updated_by":"admin","sys_created_on":"2022-10-07 16:53:22","name":"CI Column Label Change","sys_name":"CI Column Label Change","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Reset default value for help and guidance release version ","sys_updated_on":"2021-09-13 10:07:32","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord(\"sys_dictionary\");\ngr.addEncodedQuery(\"name=help_guidance^ORname=help_content^element=version\");\ngr.query();\nwhile(gr.next()) {\n\tgr.setValue(\"default_value\" , \"javascript:new SNHelpUtil().getCurrentVersion()\");\n\tgr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"4bd0ebb15366301065f2ddeeff7b1289","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/562ba37304352210559073c06a02f751","value":"562ba37304352210559073c06a02f751"},"sys_update_name":"sys_script_fix_4bd0ebb15366301065f2ddeeff7b1289","sys_updated_by":"admin","sys_created_on":"2021-09-13 09:06:44","name":"Reset default value for help version","sys_name":"Reset default value for help version","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Update applets reference qualifier of sys_sg_icon_section","sys_updated_on":"2020-12-23 05:53:07","sys_tags":"","record_for_rollback":"false","script":"function updateAppletRefQualOfIconSection() {\n    var gr = new GlideRecord('sys_dictionary');\n    gr.addQuery('name', 'sys_sg_icon_section');\n    gr.addQuery('element', 'applets');\n    gr.query();\n    if (!gr.next())\n        return;\n\t\n    gr.setValue('reference_qual', \"javascript: new SGParameterScreenHelper().getFilteredScreenRefQual();\");\n    gr.setWorkflow(false);\n    gr.update();\n}\n\nupdateAppletRefQualOfIconSection();","sys_class_name":"sys_script_fix","sys_id":"4c02133473112010470a87086bf6a7b7","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b5f42bff04312210559073c06a02f748","value":"b5f42bff04312210559073c06a02f748"},"sys_update_name":"sys_script_fix_4c02133473112010470a87086bf6a7b7","sys_updated_by":"admin","sys_created_on":"2020-12-23 05:53:07","name":"Update applets ref qual of icon section","sys_name":"Update applets ref qual of icon section","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2020-03-03 23:27:37","sys_tags":"","record_for_rollback":"false","script":"var glideRecord = new GlideRecord(\"sys_dictionary\");\nif (glideRecord.isValid()) {\n    glideRecord.addQuery(\"name\", \"sys_declarative_action_assignment\");\n    glideRecord.addQuery(\"element\", \"view\");\n    glideRecord.query();\n    if (glideRecord.next()) {\n        glideRecord.setValue(\"reference_qual_condition\", \"groupISEMPTY^userISEMPTY^EQ\");\n        glideRecord.update();\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"4c26330ac7130010099a308dc7c260e8","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9693e7f304312210559073c06a02f7f5","value":"9693e7f304312210559073c06a02f7f5"},"sys_update_name":"sys_script_fix_4c26330ac7130010099a308dc7c260e8","sys_updated_by":"admin","sys_created_on":"2020-03-03 23:27:37","name":"Reference Qualifier condition for views","sys_name":"Reference Qualifier condition for views","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"","sys_updated_on":"2024-10-04 10:00:37","sys_tags":"","record_for_rollback":"true","script":"gs.info(sn_i18n.Message.getMessage('glide-one-extend', 'Started executing the Fix script: Fix Capability attribute label and info '));\n\nvar labelGr = new GlideRecord(\"sys_dictionary\");\nlabelGr.addQuery(\"name\", \"sys_one_extend_definition_attribute\");\nlabelGr.addQuery(\"element\", \"label\");\nlabelGr.query();\nif (labelGr.next()) {\n    var internalType = labelGr.getValue(\"internal_type\") || \"\";\n    var attributes = labelGr.getValue(\"attributes\") || \"\";\n    if (internalType != \"translated_text\" || attributes.includes(\"serializer=com.glide.script.TranslatedTextXMLSerializer\")) {\n        labelGr.setValue(\"internal_type\", \"translated_text\");\n        labelGr.setValue(\"attributes\", \"serializer=com.glide.script.TranslatedTextXMLSerializer\");\n        labelGr.update();\n        gs.info(sn_i18n.Message.getMessage('glide-one-extend', 'OneExtendCapabilityAttribute: Successfully ensured the type of label column to translated_text and added serializer=com.glide.script.TranslatedTextXMLSerializer to attributes.'));\n    }\n}\n\nvar infoGr = new GlideRecord(\"sys_dictionary\");\ninfoGr.addQuery(\"name\", \"sys_one_extend_definition_attribute\");\ninfoGr.addQuery(\"element\", \"info\");\ninfoGr.query();\nif (infoGr.next()) {\n    var infoInternalType = infoGr.getValue(\"internal_type\") || \"\";\n    var infoAttributes = infoGr.getValue(\"attributes\") || \"\";\n    if (infoInternalType != \"translated_text\" || infoAttributes.includes(\"serializer=com.glide.script.TranslatedTextXMLSerializer\")) {\n        infoAttributes.push(\"serializer=com.glide.script.TranslatedTextXMLSerializer\");\n        infoGr.setValue(\"internal_type\", \"translated_text\");\n        infoGr.setValue(\"attributes\", \"serializer=com.glide.script.TranslatedTextXMLSerializer\");\n        infoGr.update();\n        gs.info(sn_i18n.Message.getMessage('glide-one-extend', 'OneExtendCapabilityAttribute: Successfully ensured the type of info column to translated_text and added serializer=com.glide.script.TranslatedTextXMLSerializer to attributes.'));\n    }\n}\n\ngs.info(sn_i18n.Message.getMessage('glide-one-extend', 'Completed executing the Fix script: Fix Capability attribute label and info '));","sys_class_name":"sys_script_fix","sys_id":"4c74be497f811210f465c3b76d866551","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7c84affb04312210559073c06a02f73d","value":"7c84affb04312210559073c06a02f73d"},"sys_update_name":"sys_script_fix_4c74be497f811210f465c3b76d866551","sys_updated_by":"admin","sys_created_on":"2024-10-03 09:58:06","name":"Fix Capability attribute label and info","sys_name":"Fix Capability attribute label and info","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Update reference cascade rule for sys_flow_log context field from delete to none","sys_updated_on":"2024-05-01 22:44:21","sys_tags":"","record_for_rollback":"true","script":"var dic = new GlideRecord(\"sys_dictionary\");\ndic.addQuery(\"name\", \"STARTSWITH\", \"sys_flow_log\");\ndic.addQuery(\"element\", \"context\");\ndic.query();\n\nwhile (dic.next()) {\n\tgs.info(\"reference_cascade_rule of \" + dic.getValue(\"name\") + \" before change is \" + dic.getValue(\"reference_cascade_rule\"));\n\tdic.setValue(\"reference_cascade_rule\", \"none\");\n\tdic.setWorkflow(false);\n\tdic.update();\n\tgs.info(\"reference_cascade_rule of \" + dic.getValue(\"name\") + \" after change is \" + dic.getValue(\"reference_cascade_rule\"));\n}","sys_class_name":"sys_script_fix","sys_id":"4cbc9f9b3771021076af963174924b05","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/063be77304352210559073c06a02f7e4","value":"063be77304352210559073c06a02f7e4"},"sys_update_name":"sys_script_fix_4cbc9f9b3771021076af963174924b05","sys_updated_by":"maint","sys_created_on":"2024-05-01 22:44:21","name":"Update Flow Log Reference Cascade Rule","sys_name":"Update Flow Log Reference Cascade Rule","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"7","description":"Set sys_sg_ui_parameter and sys_sg_grouped_input Max Entries columns to default value of 1.","sys_updated_on":"2024-01-09 12:26:17","sys_tags":"","record_for_rollback":"true","script":"updateDefaultValue('sys_sg_ui_parameter', 'max_entries', 1);\nupdateDefaultValue('sys_sg_grouped_input', 'max_entries', 1);\nfunction updateDefaultValue(table, columnName, defaultValue) {\n\tvar gr = new GlideRecord('sys_dictionary');\n\tgr.addQuery('name', table);\n\tgr.addQuery('element', columnName);\n\tgr.setWorkflow(false);\n\tgr.addQuery('default_value','ISEMPTY','');\n\tgr.query();\n\tif(gr.next() && gr.getValue('default_value') !== defaultValue){\n\t\tgr.setValue('default_value', defaultValue);\n\t\tgr.update();\n\t\tgs.info('set sys_sg_ui_parameter max_entries to 1');\n\t\tgs.info('set sys_sg_grouped_input max_entries to 1');\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"4d4ca24c675331107b19b9770cf922bc","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/75d42bbf04312210559073c06a02f78d","value":"75d42bbf04312210559073c06a02f78d"},"sys_update_name":"sys_script_fix_4d4ca24c675331107b19b9770cf922bc","sys_updated_by":"admin","sys_created_on":"2023-12-19 10:34:57","name":"sys_sg_ tables fix default values","sys_name":"sys_sg_ tables fix default values","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"4","description":"Renaming:\r\nLive Agent Setup => Chat Setup\r\nVirtual Agent Context => Context\r\nLive Agent Enabled => Live Chat Enabled","sys_updated_on":"2018-11-09 05:14:10","sys_tags":"","record_for_rollback":"false","script":"function updateTableLabel(table_name, label_value) {\n\tvar gliderecord = new GlideRecord('sys_db_object');\n\tgliderecord.addQuery('name', table_name);\n\tgliderecord.query();\n\twhile (gliderecord.next()) {\n\t  gliderecord.setValue('label', label_value);\n\t  gliderecord.update();\n\t}\t\n}\n\nfunction updateColumnLabel(table_name, column_name, label_value) {\n\tvar gliderecord = new GlideRecord('sys_dictionary');\n\tgliderecord.addQuery('name', table_name);\n\tgliderecord.addQuery('element', column_name);\n\tgliderecord.query();\n\twhile (gliderecord.next()) {\n\t  gliderecord.setValue('column_label', label_value);\n\t  gliderecord.update();\n\t}\n}\n\nupdateTableLabel('sys_cs_live_agent_setup', 'Chat Setup');\nupdateTableLabel('sys_cs_virtual_agent_context', 'Context');\nupdateColumnLabel('sys_cs_live_agent_setup', 'live_agent_enabled', 'Live Chat Enabled');\nupdateColumnLabel('sys_cs_virtual_agent_context', 'live_agent_setup', 'Chat Setup');","sys_class_name":"sys_script_fix","sys_id":"4de9b79b3b2123009cbbcea234efc409","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7ca3f33704b52210559073c06a02f75d","value":"7ca3f33704b52210559073c06a02f75d"},"sys_update_name":"sys_script_fix_4de9b79b3b2123009cbbcea234efc409","sys_updated_by":"admin","sys_created_on":"2018-11-09 04:43:54","name":"Rename Live Agent Setup Fields","sys_name":"Rename Live Agent Setup Fields","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2020-06-10 00:25:38","sys_tags":"","record_for_rollback":"false","script":"var dictionaryRecord = new GlideRecord(\"sys_dictionary\");\ndictionaryRecord.addQuery(\"name\", \"sys_aw_form_header\");\ndictionaryRecord.addQuery(\"element\", \"table\");\ndictionaryRecord.query();\nif (dictionaryRecord.next()){\n\tdictionaryRecord.setValue(\"display\", true);\n\tdictionaryRecord.update();\n}\n","sys_class_name":"sys_script_fix","sys_id":"4f4fe0fd53111010ac9bddeeff7b1219","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ba9c2f7b04352210559073c06a02f7cb","value":"ba9c2f7b04352210559073c06a02f7cb"},"sys_update_name":"sys_script_fix_4f4fe0fd53111010ac9bddeeff7b1219","sys_updated_by":"admin","sys_created_on":"2020-06-10 00:25:38","name":"fix sys_aw_form_header display field","sys_name":"fix sys_aw_form_header display field","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Rename the label for peripheral records in Unreferenced record cleaner form from \"Clean attachments and journals\" to \"Clean journals\" and update the tooltip.","sys_updated_on":"2024-06-05 15:51:27","sys_tags":"","record_for_rollback":"true","script":"var gr = new GlideRecord('sys_dictionary');\ngr.addQuery('name', 'sys_unreferenced_record_rule');\ngr.addQuery('element', 'clean_peripheral');\ngr.query();\nvar updatedLabel = \"Clean journals\";\nif (gr.next()) {\n    gr.setValue('column_label', updatedLabel);\n\tgr.update();\n}\n\nvar gr = new GlideRecord('sys_documentation');\ngr.addQuery('name', 'sys_unreferenced_record_rule');\ngr.addQuery('element', 'clean_peripheral');\ngr.query();\nvar updatedHint = \"Delete journal logs related to the deleted records\";\nvar updatedPlural = \"Clean journals\";\nif (gr.next()) {\n    gr.setValue('hint', updatedHint);\n\tgr.setValue('plural', updatedPlural);\n\tgr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"4f9d0aa6432202104647f10b05b8f27c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ce3be77304352210559073c06a02f7e4","value":"ce3be77304352210559073c06a02f7e4"},"sys_update_name":"sys_script_fix_4f9d0aa6432202104647f10b05b8f27c","sys_updated_by":"maint","sys_created_on":"2024-06-05 15:51:27","name":"Update label for clean journals","sys_name":"Update label for clean journals","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"This script will run once on upgrade. \r\nCreate icons for existing records in sys_cs_branding_setup. Icons are introduced as a part of Tokyo. \r\nThis fix script is to create icons for existing records when upgraded from SD.","sys_updated_on":"2023-04-18 18:36:34","sys_tags":"","record_for_rollback":"true","script":"var brandingGR = new GlideRecord(\"sys_cs_branding_setup\");\nbrandingGR.addActiveQuery();\nbrandingGR.query();\nwhile (brandingGR.next()) {\n    var menuItemGR = new GlideRecord(\"va_branding_contact_menu\");\n    menuItemGR.addQuery(\"type\", \"Icon\");\n    menuItemGR.addQuery(\"branding\", brandingGR.getValue(\"sys_id\"));\n    menuItemGR.query();\n    if (!menuItemGR.next()) {\n        gs.info(\"Create icons for existing Menu Item: \" + brandingGR.getValue(\"sys_name\"));\n        var utils = new ContactMenuUtils(brandingGR);\n        utils.insertIconMenuItem();\n    }\n}\ngs.info(\"Successfully executed Fix Script for 'Create icons for existing Menu Items'\");","sys_class_name":"sys_script_fix","sys_id":"50f0ef447712211088efebdf8c5a99f3","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/24a3b33704b52210559073c06a02f7d4","value":"24a3b33704b52210559073c06a02f7d4"},"sys_update_name":"sys_script_fix_50f0ef447712211088efebdf8c5a99f3","sys_updated_by":"admin","sys_created_on":"2023-04-15 01:02:10","name":"Create icons for existing Menu Items","sys_name":"Create icons for existing Menu Items","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"9","description":"Change the filed \"table\" and \"View\" in table \"sysrule_view_workspace\" from unmandatory to mandatory.","sys_updated_on":"2019-08-02 10:18:49","sys_tags":"","record_for_rollback":"false","script":"addMandatoryForTableAndView();\nfunction addMandatoryForTableAndView() {\n\tvar gr = new GlideRecord(\"sys_dictionary\");\n\tgr.addQuery(\"name\", \"sysrule_view_workspace\");\n\tgr.addQuery(\"element=table^ORelement=view\");\n\tgr.query();\n\twhile (gr.next()) {\n\t\tgr.setValue(\"mandatory\", true);\n\t\tgr.update();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"51387a0d53c3330063ddddeeff7b1236","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ba9c2f7b04352210559073c06a02f7cb","value":"ba9c2f7b04352210559073c06a02f7cb"},"sys_update_name":"sys_script_fix_51387a0d53c3330063ddddeeff7b1236","sys_updated_by":"admin","sys_created_on":"2019-08-02 09:54:57","name":"Add Table and View Mandatory","sys_name":"Add Table and View Mandatory","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Change default value for confidence_threshold field to consider decimal value.","sys_updated_on":"2021-07-14 09:01:00","sys_tags":"","record_for_rollback":"false","script":"(function() {\n    if (pm.isZboot()) {\n        return;\n    }\n    var gr = new GlideRecord('sys_dictionary');\n        \n    gr.addEncodedQuery('name=sys_nlu_intent^ORname=sys_nlu_model^ORname=sys_nlu_entity^element=confidence_threshold');\n    gr.setValue('default_value', 'javascript:(\"0\" + GlideLocale.get().getDecimalSeparator() + \"6\")');\n    gr.updateMultiple();\n    gs.info('NLU: Updated confidence_threshold default_value for sys_nlu_model table through fix script.');\n    gs.info('NLU: Updated confidence_threshold default_value for sys_nlu_intent table through fix script.');\n    gs.info('NLU: Updated confidence_threshold default_value for sys_nlu_entity table through fix script.');\n})();","sys_class_name":"sys_script_fix","sys_id":"51b0b012c31530108d7c52569740dd52","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_script_fix_51b0b012c31530108d7c52569740dd52","sys_updated_by":"admin","sys_created_on":"2021-07-14 06:49:58","name":"NLU - confidence_threshold field","sys_name":"NLU - confidence_threshold field","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"","sys_updated_on":"2023-06-25 20:01:03","sys_tags":"","record_for_rollback":"true","script":"var cmdbWorkspaceUtil = new sn_cmdb_ws.CMDBWorkspaceUtil();\ncmdbWorkspaceUtil.migrateDeprecatedIndicatorScores();","sys_class_name":"sys_script_fix","sys_id":"51e6b965ef5b6110785294c1ed97d7ef","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_update_name":"sys_script_fix_51e6b965ef5b6110785294c1ed97d7ef","sys_updated_by":"admin","sys_created_on":"2023-06-25 02:00:45","name":"Migrate deprecated indicator scores","sys_name":"Migrate deprecated indicator scores","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Updating JSON columns in OneExtend invocation tables to string for performance enhancement","sys_updated_on":"2024-10-11 05:32:00","sys_tags":"","record_for_rollback":"false","script":"updateColumnType(\"sys_cs_one_extend_invocation\" , [\"inputs\", \"outputs\", \"output_topic_vars\"]);\nfunction updateColumnType(tableName, elements) {\n\tfor (var i = 0; i < elements.length; i++) {\n\t\tvar gr = new GlideRecord(\"sys_dictionary\");\n\t\tgr.addQuery(\"name\", tableName);\n\t\tgr.addQuery(\"element\", elements[i]);\n\t\tgr.query();\n\t\tif (gr.next()) {\n\t\t\tgr.setValue(\"internal_type\", \"string\");\n\t\t\tgr.update();\n\t\t}\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"521a87e37f0112101b82dc456c86658b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7c84affb04312210559073c06a02f73d","value":"7c84affb04312210559073c06a02f73d"},"sys_update_name":"sys_script_fix_521a87e37f0112101b82dc456c86658b","sys_updated_by":"admin","sys_created_on":"2024-10-11 05:32:00","name":"Change OneExtend JSON columns to String","sys_name":"Change OneExtend JSON columns to String","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Force mobile device encryption for FedRAMP instances by setting system property \"glide.sg.device_encryption_enabled\" to true","sys_updated_on":"2020-02-17 02:08:31","sys_tags":"","record_for_rollback":"false","script":"SNC.ScriptableSecurityProperties.forceEncryptionForRegulatedInstance();","sys_class_name":"sys_script_fix","sys_id":"5250ce015b030010da168d8fa881c78d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/75d42bbf04312210559073c06a02f78d","value":"75d42bbf04312210559073c06a02f78d"},"sys_update_name":"sys_script_fix_5250ce015b030010da168d8fa881c78d","sys_updated_by":"admin","sys_created_on":"2020-02-17 02:08:31","name":"Force Device Encryption for FedRAMP","sys_name":"Force Device Encryption for FedRAMP","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"This script turns off client transaction logging when the UI response time is set to false. \r\n\r\nNote: It should be run only on Upgrades","sys_updated_on":"2019-04-26 23:39:51","sys_tags":"","record_for_rollback":"false","script":"if (!pm.isZboot()) {\n    if (gs.getProperty('glide.ui.response_time') == 'false')\n        gs.setProperty('glide.client.track_transaction_timings', 'false');\n}","sys_class_name":"sys_script_fix","sys_id":"52556cf50f0133005203cbb2ff767eb5","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9559a33b04f12210559073c06a02f7ed","value":"9559a33b04f12210559073c06a02f7ed"},"sys_update_name":"sys_script_fix_52556cf50f0133005203cbb2ff767eb5","sys_updated_by":"admin","sys_created_on":"2019-04-26 22:56:28","name":"Disable Client Transactions Logging","sys_name":"Disable Client Transactions Logging","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"true","sys_mod_count":"6","description":"Rename the following Virtual Agent objects:\nVars --> vaInputs\nQVars --> vaVars\nSystem --> vaSystem\nUser --> vaUser\nContext --> vaContext\nActions --> vaActions","sys_updated_on":"2018-07-24 00:00:38","sys_tags":"","record_for_rollback":"false","script":"GlideFixStuff.renameVirtualAgentObjects();","sys_class_name":"sys_script_fix","sys_id":"52b3f4713b62130028fa456993efc43b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_52b3f4713b62130028fa456993efc43b","sys_updated_by":"admin","sys_created_on":"2018-06-07 19:20:21","name":"Rename Virtual Agent objects","sys_name":"Rename Virtual Agent objects","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Hide the SLA Breakdown modules if the SLA engine version is 2010 as they are only supported in the 2011 version","sys_updated_on":"2018-03-16 16:39:00","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tif (gs.getProperty('com.snc.sla.engine.version','2010') !== '2011')\n\t\tnew global.SLABreakdownUtils().setBreakdownModulesVisible(false);\n})();","sys_class_name":"sys_script_fix","sys_id":"5399cede57301300491dac11ac94f9f2","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6c11c4f357201300ff01ac11ac94f982","value":"6c11c4f357201300ff01ac11ac94f982"},"sys_update_name":"sys_script_fix_5399cede57301300491dac11ac94f9f2","sys_updated_by":"admin","sys_created_on":"2018-03-14 15:01:42","name":"Hide SLA breakdown modules","sys_name":"Hide SLA breakdown modules","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6c11c4f357201300ff01ac11ac94f982","value":"6c11c4f357201300ff01ac11ac94f982"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"CMDB - Update read_only attribute of Application Service ( cmdb_ci_service ) table","sys_updated_on":"2020-02-28 22:40:36","sys_tags":"","record_for_rollback":"false","script":"var glideRecord = new GlideRecord('sys_dictionary');            \nglideRecord.addQuery('name', 'cmdb_ci_service');\nglideRecord.addQuery('element', 'number');\nglideRecord.query();            \nwhile (glideRecord.next()) {\n    glideRecord.setValue('read_only', 'false');\n    glideRecord.update();\n}","sys_class_name":"sys_script_fix","sys_id":"5423cff00f13001012ecfc91ff767ec1","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_5423cff00f13001012ecfc91ff767ec1","sys_updated_by":"admin","sys_created_on":"2020-02-28 22:34:19","name":"CMDB - Update attribute of App Service","sys_name":"CMDB - Update attribute of App Service","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Map Guided Tours Step Target Reference   from UI 16 Navigator to Next Experience ","sys_updated_on":"2022-09-07 05:57:34","sys_tags":"","record_for_rollback":"true","script":"function fixStepTargetRef() {\n\tvar mapper = new TourNextExpMapper();\n\tvar gr = new GlideRecord(\"sys_embedded_tour_step\");\n\tgr.addQuery(\"window\", \"nav_to.do\");\n\tgr.query();\n\t\n\twhile(gr.next()) {\n\t\tvar targetRefGr = gr.target_ref.getRefRecord();\n\t\tif(targetRefGr.isValidRecord()) {\n\t\t\tvar nextExpSelector = mapper.getNextExpSelector(targetRefGr.manual_css.toString());\n\t\t\tif(nextExpSelector) {\n\t\t\t\ttargetRefGr.js_path = nextExpSelector.jsPath;\n\t\t\t\ttargetRefGr.seismic_selector = nextExpSelector.seismicSelector;\n\t\t\t\ttargetRefGr.update();\n\t\t\t}\n\t\t}\n\t}\n}\nfixStepTargetRef();\n","sys_class_name":"sys_script_fix","sys_id":"5489e23053359110f54fddeeff7b1213","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_update_name":"sys_script_fix_5489e23053359110f54fddeeff7b1213","sys_updated_by":"admin","sys_created_on":"2022-09-05 12:18:50","name":"Fix Tour Steps for Next Exp UI","sys_name":"Fix Tour Steps for Next Exp UI","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"7","description":"Migrate the existing Mobile Analytics Settings to the new generic Analytic Infrastructure","sys_updated_on":"2020-04-23 00:55:44","sys_tags":"","record_for_rollback":"false","script":"migrateMobileAnalyticsSettings();\n\nfunction migrateMobileAnalyticsSettings() {\n\tvar channelGr = new GlideRecord('sys_analytics_channel');\n\tchannelGr.addQuery('name', 'mobile');\n\tchannelGr.query();\n\tchannelGr.next();\n\tif (!channelGr.isValidRecord()) {\n\t\tgs.error('Error during Mobile Analytics setting migration, could not find \\'mobile\\' Analytics Channel');\n\t\treturn;\n\t}\n\t\n\t//Get rid of all Video Settings\n    deleteAllRecordsFromTable('sys_mobile_analytics_video_settings');\n\n    // Move all existing entries to the new tables\n    var mobileSettingsGR = new GlideRecord(\"sys_mobile_analytics_settings\");\n    mobileSettingsGR.setWorkflow(false);\n\tmobileSettingsGR.query();\n    while (mobileSettingsGR.next()) {\n        migrateMobileSetting(mobileSettingsGR, channelGr.getUniqueValue());\n    }\n}\n\nfunction migrateMobileSetting(mobileSettingGR, channelSysId) {\t\n\tvar apiAuth = mobileSettingGR.getValue('api_auth');\n\tvar apiKey = mobileSettingGR.getValue('api_key');\n\tvar nativeClientId = mobileSettingGR.getValue('application');\n\tvar enabled = mobileSettingGR.getValue('enabled');\n\t\n\t//Is our ApiKey valid?\n\tif (apiKey != (gs.getProperty('instance_id') + ':' + nativeClientId)) {\n\t\tgs.error('Error during Mobile Analytics setting migration, apiKey: ' + apiKey + ', is invalid for Native Client: ' + nativeClientId);\n\t\treturn;\n\t}\n\t\n\t//Is our ApiAuth valid?\n\tif (!apiAuth) {\n\t\tgs.error('Error during Mobile Analytics setting migration, apiAuth is empty for Native Client: ' + nativeClientId);\n\t\treturn;\n\t}\n\t\n\t//Does our native client reference exist?\n\tvar nativeClientGR = new GlideRecord('sys_sg_native_client');\n\tnativeClientGR.get(nativeClientId);\n\tif (!nativeClientGR.isValidRecord()) {\n\t\tgs.error('Error during Mobile Analytics setting migration, invalid Native Client reference');\n\t\treturn;\n\t}\n\n\tvar bucketSysId = createBucketEntry(nativeClientGR, enabled, channelSysId);\n\tif (bucketSysId) {\n\t\tcreateAuthEntry(nativeClientId, bucketSysId, apiAuth);\n\t\t//Finally delete the entry if at least the bucket was created\n\t\tmobileSettingGR.deleteRecord();\n\t}\n}\n\nfunction createBucketEntry(nativeClientGr, enabled, channelId) {\n\tvar gr = new GlideRecord('sys_analytics_bucket');\n\tgr.setWorkflow(false);\n\tgr.setValue('application_name', nativeClientGr.getValue('name'));\n\tgr.setValue('enabled', enabled);\n\tgr.setValue('analytics_channel', channelId);\n\tgr.setValue('bucket_document_id', nativeClientGr.getUniqueValue());\n\tgr.setValue('bucket_table_name', 'sys_sg_native_client');\n\tgr.setValue('bucket_type', 'mobile_' + nativeClientGr.getValue('type'));\n\tvar bucketSysId = gr.insert();\n\tif (!bucketSysId) {\n\t\tgs.error('Error during Mobile Analytics setting migration, unable to create Analytics Bucket Entry for Native Client: ' + nativeClientGr.getUniqueValue() + ', error was: ' + gr.getLastErrorMessage());\n\t}\n\treturn bucketSysId;\n}\n\nfunction createAuthEntry(nativeClientId, bucketId, apiAuth) {\n\tvar gr = new GlideRecord('sys_analytics_authentication');\n\tgr.setWorkflow(false);\n\tgr.setValue('analytics_bucket', bucketId);\n\tgr.setValue('api_auth', apiAuth);\n\tif (!gr.insert()) {\n\t\tgs.error('Error during Mobile Analytics setting migration, unable to create Analytics Authentication Entry for Native Client: ' + nativeClientId + ', error was: ' + gr.getLastErrorMessage());\n\t}\n}\n\nfunction deleteAllRecordsFromTable(tableName) {\n    var gr = new GlideRecord(tableName);\n    gr.setWorkflow(false);\n    gr.query();\n    gr.deleteMultiple();\n}","sys_class_name":"sys_script_fix","sys_id":"54e94d4253901010d69cddeeff7b127d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cbd4abbf04312210559073c06a02f7f5","value":"cbd4abbf04312210559073c06a02f7f5"},"sys_update_name":"sys_script_fix_54e94d4253901010d69cddeeff7b127d","sys_updated_by":"admin","sys_created_on":"2020-04-22 03:59:03","name":"Mobile Analytics Settings Migration","sys_name":"Mobile Analytics Settings Migration","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"true","sys_mod_count":"16","description":"This fix script is to revert back to legacy item views and Media sections from new Mobile cards and Record Sections shipped as part of Utah next experience. This script is only for the customers who have upgraded to Utah and want to go back to old mobile views.","sys_updated_on":"2022-08-26 11:10:34","sys_tags":"","record_for_rollback":"true","script":"//Switch runManually to true in order to run this script\nvar runManually = false;\nif (runManually) {\n    var util = new sn_me.MobileNextExpUpgradeUtil();\n    revertUserProfileItemView();\n    revertPeopleSearchItemView();\n    revertStaticMediaContentUISection();\n    revertTopicCards();\n}\n\nfunction revertUserProfileItemView() {\n    util.switchLegacyView(\"sys_sg_form_screen\", \"ccab364687103300a785940307cb0b0c\", \"a006ed9707b81910264f78e99cd300a6\", false);\n    util.switchLegacyView(\"sys_sg_form_screen\", \"7b8663d0ff203300a78526f6793bf119\", \"a006ed9707b81910264f78e99cd300a6\", false);\n}\n\nfunction revertPeopleSearchItemView() {\n    util.switchLegacyView(\"sys_sg_master_item\", \"6fbe9f587320330018eea18d4ef6a749\", \"ae7afcf4775111108f64b2487b5a9939\", false);\n}\n\nfunction revertTopicCards() {\n     util.switchConnection('sys_sg_master_item', 'view_config', '96ce9f76c778301028f8c943c7c260b2', '3860e6ed077d5110264f78e99cd300ec', 'cc742327c3e03010069aec4b7d40dd56');\n     util.switchConnection('sys_sg_master_item', 'view_config', '2b3ff6efc3603010069aec4b7d40ddcf', '3860e6ed077d5110264f78e99cd300ec', 'cc742327c3e03010069aec4b7d40dd56');\n}\n\nfunction revertStaticMediaContentUISection() {\n    util.switchConnection('sys_sg_applet_launcher_m2m_section', 'section', 'ab40b9dac3b65010a0b3ec4b7d40dd38', 'edb839f1777911109033bfeacf5a9973', '891fed9ac3b65010a0b3ec4b7d40dd25');\n}","sys_class_name":"sys_script_fix","sys_id":"55166a2853291d10fedfddeeff7b1216","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5cfbdaac77eb2300454792718a106157","value":"5cfbdaac77eb2300454792718a106157"},"sys_update_name":"sys_script_fix_55166a2853291d10fedfddeeff7b1216","sys_updated_by":"admin","sys_created_on":"2022-09-08 06:51:26","name":"Mobile Revert Next Exp - Now Mobile","sys_name":"Mobile Revert Next Exp - Now Mobile","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5cfbdaac77eb2300454792718a106157","value":"5cfbdaac77eb2300454792718a106157"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"DEF0237132 : Schedule a one time job which will run compactTable on sys_json_chunk","sys_updated_on":"2021-09-28 22:19:09","sys_tags":"","record_for_rollback":"false","script":"\n\t\t\t\n\t\t\tvar sysTrigger = new GlideRecord(\"sys_trigger\");\n\t\t\tsysTrigger.initialize();\n\t\t\tsysTrigger.name='FD : compact table';\n\t\t\tsysTrigger.job_id = '81c92ce9c0a8016400e5f0d2f784ea78';\n\n\t\t\tvar action_date = new GlideDateTime(gs.nowDateTime());\n\t\t\taction_date.addDays(14);\n\n\t\t\tsysTrigger.next_action = action_date;\n\t\t\tsysTrigger.script= 'sn_fd.FlowAPI.compactSysJsonChunk();';\n\t\t\tsysTrigger.trigger_type = 0;\n\t\t\tsysTrigger.insert();","sys_class_name":"sys_script_fix","sys_id":"551d1b7277323010b599e0490e5a9994","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/063be77304352210559073c06a02f7e4","value":"063be77304352210559073c06a02f7e4"},"sys_update_name":"sys_script_fix_551d1b7277323010b599e0490e5a9994","sys_updated_by":"sunil.kumar@snc","sys_created_on":"2021-09-28 22:19:01","name":"FlowDesigner : sys_json_chunk compact","sys_name":"FlowDesigner : sys_json_chunk compact","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"sunil.kumar@snc","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"19","description":"Audit hermes_topics_state + hermes_app_services","sys_updated_on":"2025-02-04 22:03:06","sys_tags":"","record_for_rollback":"true","script":"(function() {\n    var enableAuditForTable = function(tableName) {\n        var prefix = \"sys_script_fix_5578f5914313121033c0827cfbb8f2ea\";\n        var gr = new GlideRecord('sys_dictionary');\n        gr.addQuery('name', tableName);\n        gr.query();\n        while (gr.next()) {\n            var audit = gr.getValue('audit');\n            if (audit == 0) {\n                gs.log(prefix + ' updating table: ' + tableName + ' field: ' + gr.getValue('column_label') + ' to enable auditing.');\n                gr.setValue('audit', 1);\n                gr.update();\n            } else {\n                gs.log(prefix + ' audit already enabled for table: ' + tableName + ' field: ' + gr.getValue('column_label'));\n            }\n        }\n    };\n\n    enableAuditForTable('hermes_topics_state');\n    enableAuditForTable('hermes_app_services');\n})();","sys_class_name":"sys_script_fix","sys_id":"5578f5914313121033c0827cfbb8f2ea","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/03d4abbf04312210559073c06a02f7f9","value":"03d4abbf04312210559073c06a02f7f9"},"sys_update_name":"sys_script_fix_5578f5914313121033c0827cfbb8f2ea","sys_updated_by":"admin","sys_created_on":"2025-01-23 20:03:08","name":"Audit hermes tables","sys_name":"Audit hermes tables","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Change header_label column type from string to translated_field","sys_updated_on":"2020-07-07 10:04:42","sys_tags":"","record_for_rollback":"false","script":"updateColumnType(\"header_label\");\n\nfunction updateColumnType(element) {\n    var gr = new GlideRecord(\"sys_dictionary\");\n    gr.addQuery(\"name\", \"sys_cs_branding_setup\");\n    gr.addQuery(\"internal_type\", \"string\");\n    gr.addQuery(\"element\", element);\n    gr.setWorkflow(false);\n    gr.query();\n    if (gr.next()) {\n        gr.setValue(\"internal_type\", \"translated_field\");\n        gr.update();\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"55e6bd62533110100e99ddeeff7b12b8","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/24a3b33704b52210559073c06a02f7d4","value":"24a3b33704b52210559073c06a02f7d4"},"sys_update_name":"sys_script_fix_55e6bd62533110100e99ddeeff7b12b8","sys_updated_by":"admin","sys_created_on":"2020-07-07 10:04:42","name":"Change Branding header column type","sys_name":"Change Branding header column type","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Enable auditing on model catgeory table and add no_audit property to columns not being audited","sys_updated_on":"2023-08-23 14:07:23","sys_tags":"","record_for_rollback":"true","script":"var modelCatDictionary = new GlideRecord('sys_dictionary');\nmodelCatDictionary.addQuery('name', 'cmdb_model_category');\nmodelCatDictionary.addQuery('internal_type', 'collection');\nmodelCatDictionary.addQuery('audit', false);\nmodelCatDictionary.query();\nif (modelCatDictionary.next()) {\n\tmodelCatDictionary.setValue('audit', true);\n\tmodelCatDictionary.update();\n\tvar columnsDict = new GlideRecord('sys_dictionary');\n\tcolumnsDict.addQuery('name', 'cmdb_model_category');\n\tcolumnsDict.addQuery('element', 'IN', 'picture,allow_pre_allocation,allow_in_bundle,allow_as_master,bundle');\n\tcolumnsDict.query();\n\twhile (columnsDict.next()) {\n\t\tvar oldValue = columnsDict.getValue('attributes');\n\t\tif (gs.nil(oldValue)) {\n\t\t\toldValue = '';\n\t\t} else {\n\t\t\toldValue += ',';\n\t\t}\n\t\tvar newValue = oldValue + 'no_audit=true';\n\t\tcolumnsDict.setValue('attributes', newValue);\n\t\tcolumnsDict.update();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"5619af42f8343110fa9b895a0632bb60","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e325237304712210559073c06a02f7be","value":"e325237304712210559073c06a02f7be"},"sys_update_name":"sys_script_fix_5619af42f8343110fa9b895a0632bb60","sys_updated_by":"admin","sys_created_on":"2023-08-23 13:13:32","name":"Enable audit on model category","sys_name":"Enable audit on model category","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Change the type of column \"name\" and \"value\" for table \"pwd_verification_param\" from \"translated_text\" to \"string\". \r\nFix for PRB1184610.","sys_updated_on":"2017-11-02 17:37:22","sys_tags":"","record_for_rollback":"false","script":"updateColumnType(\"name\");\nupdateColumnType(\"value\");\nfunction updateColumnType(columnName) {\n\tvar gr = new GlideRecord(\"sys_dictionary\");\n    gr.addQuery(\"name\", \"pwd_verification_param\");\n    gr.addQuery(\"internal_type\", \"translated_text\");\n    gr.addQuery(\"element\", columnName);\n    gr.setWorkflow(false);\n    gr.query();\n\n    if(gr.next()) {\n        gr.setValue(\"internal_type\", \"string\");\n        gr.update();\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"566bf6b3674203008b52f3b457415adf","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/421beb3304352210559073c06a02f7ef","value":"421beb3304352210559073c06a02f7ef"},"sys_update_name":"sys_script_fix_566bf6b3674203008b52f3b457415adf","sys_updated_by":"admin","sys_created_on":"2017-11-02 17:37:22","name":"Update dictionary type for param","sys_name":"Update dictionary type for param","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"7","description":"Change the reference field of task_cmdb_ci_service to reference cmdb_ci instead of cmdb_ci_service.","sys_updated_on":"2019-07-24 10:08:05","sys_tags":"","record_for_rollback":"false","script":"updateDictionary();\n\nfunction updateDictionary(){\n\t//Only change dictionary entry on upgrades as zboot already have the change\n\tif (!pm.isZboot()) {\n\t\t//Fetch the reference field for Business Service\n\t\tvar dictionaryGr = new GlideRecord('sys_dictionary');\n\t\tdictionaryGr.addQuery('name', 'task_cmdb_ci_service');\n\t\tdictionaryGr.addQuery('element', 'cmdb_ci_service');\n\t\tdictionaryGr.addQuery('reference', 'cmdb_ci_service');\n\n\t\tdictionaryGr.query();\n\t\t//check if the dictionary entry has been modified\n\t\tif (sn_collision.CollisionAPI.willBeReplacedOnUpgrade(dictionaryGr)) {\n\t\t\t//Update the reference field to cmdb_ci\n\t\t\tdictionaryGr.setValue('reference', 'cmdb_ci');\n\t\t\tdictionaryGr.setValue('column_label', 'Configuration Item');\n\t\t\tdictionaryGr.update();\n\t\t}\n\t} \n}","sys_class_name":"sys_script_fix","sys_id":"573f41bb23312300889edc1756bf6539","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_573f41bb23312300889edc1756bf6539","sys_updated_by":"admin","sys_created_on":"2018-11-23 08:48:35","name":"Task Impacted Services reference","sys_name":"Task Impacted Services reference","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Sets properties to control the behavior of the Change Models feature on upgrade","sys_updated_on":"2021-09-02 15:58:55","sys_tags":"","record_for_rollback":"false","script":"(function(){\n\tif (GlidePluginManager.isZboot())\n\t\treturn;\n\t\n\tgs.setProperty(\"com.snc.change_management.change_model.hide\", \"true\", \"If Type Compatibility is enabled (com.snc.change_management.change_model.type_compatibility), this hides the Change Model feature from the form and Change Request Interceptor.\");\n\tgs.setProperty(\"com.snc.change_management.change_model.manage_workflow\", \"true\", \"Enables Workflow management support for ChangeRequest API if the com.snc.change_management.state_model plugin is installed.  This will call the 'deleteDefaultWorkflowContext' method to be called on specific state and type changes.\");\n\tgs.setProperty(\"com.snc.change_management.change_model.type_compatibility\", \"true\", \"Enables Change Type Compatibility for Change Models if the com.snc.change_management.state_model plugin is installed.  When true allows changes to be created with both the type based workflow and Change Models.\");\n})();","sys_class_name":"sys_script_fix","sys_id":"57c8e7755323101034d1ddeeff7b129d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/323ca7f704352210559073c06a02f7ad","value":"323ca7f704352210559073c06a02f7ad"},"sys_update_name":"sys_script_fix_57c8e7755323101034d1ddeeff7b129d","sys_updated_by":"admin","sys_created_on":"2020-09-30 10:21:26","name":"Change Model: Set upgrade properties","sys_name":"Change Model: Set upgrade properties","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Fixes already migrated analytics artifacts, fixing their scope, package, domain and domain pathing. ","sys_updated_on":"2024-03-25 15:29:09","sys_tags":"","record_for_rollback":"true","script":"var DEBUG = false;\nvar RUN_SIM = false;\n\nvar QUERY_SEQUENCES = {\n    \"dashboards\": [\n        {\n            tableName: \"par_coreui_migration_bridge_dashboard\",\n            encodedQuery: () => \"pa_dashboardISNOTEMPTY^par_dashboardISNOTEMPTY\",\n            store: (gr) => ({\n                pa_dashboard: gr.getValue(\"pa_dashboard\"),\n                par_dashboard: gr.getValue(\"par_dashboard\")\n            }),\n            sequential: true,\n        },\n        {\n            tableName: \"pa_dashboards\",\n            encodedQuery: (tableData) => tableData[\"par_coreui_migration_bridge_dashboard\"].map(e => 'sys_id=' + e.pa_dashboard).join(\"^OR\"),\n            store: (gr) => ({\n                sys_id: gr.getValue(\"sys_id\"),\n                sys_package: gr.getValue(\"sys_package\"),\n                sys_scope: gr.getValue(\"sys_scope\"),\n                sys_domain: gr.getValue(\"sys_domain\"),\n                sys_domain_path: gr.getValue(\"sys_domain_path\"),\n            }),\n            index: createIndexGenerator(\"par_coreui_migration_bridge_dashboard\", (r, gr) => r.pa_dashboard === gr.getValue(\"sys_id\")),\n        },\n        {\n            tableName: \"par_dashboard\",\n            encodedQuery: (tableData) => tableData[\"par_coreui_migration_bridge_dashboard\"].map(e => \"sys_id=\" + e.par_dashboard).join(\"^OR\"),\n            getUpdates: createUpdateGenerator(\"par_dashboard\", (record, tableData) => record.__indexes.pa_dashboards),\n            index: createIndexGenerator(\"pa_dashboards\", (r, gr) => r.__indexes[\"par_coreui_migration_bridge_dashboard\"].par_dashboard === gr.getValue(\"sys_id\"))\n        },\n        {\n            tableName: \"par_dashboard_tab\",\n            encodedQuery: (tableData) => tableData[\"par_dashboard\"].map(e => \"dashboard=\" + e.sys_id).join(\"^OR\"),\n            getUpdates: createUpdateGenerator(\"par_dashboard_tab\", (record, tableData) => record.__indexes.par_dashboard.__indexes.pa_dashboards),\n            index: createIndexGenerator(\"par_dashboard\", (r, gr) => r.sys_id === gr.getValue(\"dashboard\"))\n        },\n        {\n            tableName: \"par_dashboard_canvas\",\n            encodedQuery: (tableData) => tableData[\"par_dashboard\"].map(e => \"dashboard=\" + e.sys_id).join(\"^OR\"),\n            getUpdates: createUpdateGenerator(\"par_dashboard_canvas\", (record) => record.__indexes.par_dashboard.__indexes.pa_dashboards),\n            index: createIndexGenerator(\"par_dashboard\", (r, gr) => r.sys_id === gr.getValue(\"dashboard\"))\n        },\n        {\n            tableName: \"par_dashboard_filter\",\n            encodedQuery: (tableData) => tableData[\"par_dashboard\"].map(e => \"dashboard=\" + e.sys_id).join(\"^OR\"),\n            getUpdates: createUpdateGenerator(\"par_dashboard_filter\", (record) => record.__indexes.par_dashboard.__indexes.pa_dashboards),\n            index: createIndexGenerator(\"par_dashboard\", (r, gr) => r.sys_id === gr.getValue(\"dashboard\"))\n        },\n        {\n            tableName: \"par_dashboard_permission\",\n            encodedQuery: (tableData) => tableData[\"par_dashboard\"].map(e => \"dashboard=\" + e.sys_id).join(\"^OR\"),\n            getUpdates: createUpdateGenerator(\"par_dashboard_permission\", (record) => record.__indexes.par_dashboard.__indexes.pa_dashboards),\n            index: createIndexGenerator(\"par_dashboard\", (r, gr) => r.sys_id === gr.getValue(\"dashboard\"))\n        },\n        {\n            tableName: \"par_dashboard_user_metadata\",\n            encodedQuery: (tableData) => tableData[\"par_dashboard\"].map(e => \"dashboard=\" + e.sys_id).join(\"^OR\"),\n            getUpdates: createUpdateGenerator(\"par_dashboard_user_metadata\", (record) => record.__indexes.par_dashboard.__indexes.pa_dashboards),\n            index: createIndexGenerator(\"par_dashboard\", (r, gr) => r.sys_id === gr.getValue(\"dashboard\"))\n        },\n        {\n            tableName: \"par_dashboard_widget\",\n            encodedQuery: (tableData) => tableData[\"par_dashboard_canvas\"].map(e => \"canvas=\" + e.sys_id).join(\"^OR\"),\n            getUpdates: createUpdateGenerator(\"par_dashboard_widget\", (record) => record.__indexes.par_dashboard_canvas.__indexes.par_dashboard.__indexes.pa_dashboards),\n            index: createIndexGenerator(\"par_dashboard_canvas\", (r, gr) => r.sys_id === gr.getValue(\"canvas\"))\n        },\n    ],\n    \"reports\": [\n        {\n            tableName: \"par_coreui_migration_bridge_component\",\n            encodedQuery: () => \"type=report^reportISNOTEMPTY^widgetISEMPTY^filterISEMPTY\",\n            store: (gr) => ({\n                sys_report: gr.getValue(\"report\"),\n                par_component: gr.getValue(\"component\")\n            }),\n            sequential: true,\n        },{\n            tableName: \"sys_report\",\n            encodedQuery: (tableData) => tableData[\"par_coreui_migration_bridge_component\"].map(e => 'sys_id=' + e.sys_report).join(\"^OR\"),\n            store: (gr) => ({\n                sys_id: gr.getValue(\"sys_id\"),\n                sys_package: gr.getValue(\"sys_package\"),\n                sys_scope: gr.getValue(\"sys_scope\"),\n                sys_domain: gr.getValue(\"sys_domain\"),\n                sys_domain_path: gr.getValue(\"sys_domain_path\")\n            }),\n            index: createIndexGenerator(\"par_coreui_migration_bridge_component\", (r, gr) => r.sys_report === gr.getValue(\"sys_id\"))\n        }, {\n            tableName: \"par_visualization\",\n            encodedQuery: (tableData) => tableData[\"par_coreui_migration_bridge_component\"].map(e => 'sys_id=' + e.par_component).join(\"^OR\"),\n            index: createIndexGenerator('sys_report', (r, gr) => r.__indexes[\"par_coreui_migration_bridge_component\"].par_component === gr.getValue(\"sys_id\")),\n            getUpdates: createUpdateGenerator('par_visualization', (record, tableData) => record.__indexes.sys_report)\n        }\n    ],\n    \"widgets\": [\n        {\n            tableName: \"par_coreui_migration_bridge_component\",\n            encodedQuery: () => \"type=widget^widgetISNOTEMPTY^reportISEMPTY^filterISEMPTY\",\n            store: (gr) => ({\n                pa_widget: gr.getValue(\"widget\"),\n                par_component: gr.getValue(\"component\")\n            }),\n            sequential: true,\n        },{\n            tableName: \"pa_widgets\",\n            encodedQuery: (tableData) => tableData[\"par_coreui_migration_bridge_component\"].map(e => 'sys_id=' + e.pa_widget).join(\"^OR\"),\n            store: (gr) => ({\n                sys_id: gr.getValue(\"sys_id\"),\n                sys_package: gr.getValue(\"sys_package\"),\n                sys_scope: gr.getValue(\"sys_scope\"),\n                sys_domain: gr.getValue(\"sys_domain\"),\n                sys_domain_path: gr.getValue(\"sys_domain_path\")\n            }),\n            index: createIndexGenerator(\"par_coreui_migration_bridge_component\", (r, gr) => r.pa_widget === gr.getValue(\"sys_id\"))\n        }, {\n            tableName: \"par_visualization\",\n            encodedQuery: (tableData) => tableData[\"par_coreui_migration_bridge_component\"].map(e => 'sys_id=' + e.par_component).join(\"^OR\"),\n            index: createIndexGenerator('pa_widgets', (r, gr) => r.__indexes[\"par_coreui_migration_bridge_component\"].par_component === gr.getValue(\"sys_id\")),\n            getUpdates: createUpdateGenerator('par_visualization', (record, tableData) => record.__indexes.pa_widgets)\n        }\n    ],\n    \"filters\": [\n        {\n            tableName: \"par_coreui_migration_bridge_component\",\n            encodedQuery: () => \"type=filter^filterISNOTEMPTY^reportISEMPTY^widgetISEMPTY\",\n            store: (gr) => ({\n                sys_ui_hp_publisher: gr.getValue(\"filter\"),\n                par_component: gr.getValue(\"component\")\n            }),\n            sequential: true,\n        },{\n            tableName: \"sys_ui_hp_publisher\",\n            encodedQuery: (tableData) => tableData[\"par_coreui_migration_bridge_component\"].map(e => 'sys_id=' + e.sys_ui_hp_publisher).join(\"^OR\"),\n            store: (gr) => ({\n                sys_id: gr.getValue(\"sys_id\"),\n                sys_package: gr.getValue(\"sys_package\"),\n                sys_scope: gr.getValue(\"sys_scope\"),\n                sys_domain: gr.getValue(\"sys_domain\"),\n                sys_domain_path: gr.getValue(\"sys_domain_path\")\n            }),\n            index: createIndexGenerator(\"par_coreui_migration_bridge_component\", (r, gr) => r.sys_ui_hp_publisher === gr.getValue(\"sys_id\"))\n        }, {\n            tableName: \"par_component_filter\",\n            encodedQuery: (tableData) => tableData[\"par_coreui_migration_bridge_component\"].map(e => 'sys_id=' + e.par_component).join(\"^OR\"),\n            index: createIndexGenerator('sys_ui_hp_publisher', (r, gr) => r.__indexes[\"par_coreui_migration_bridge_component\"].par_component === gr.getValue(\"sys_id\")),\n            getUpdates: createUpdateGenerator('par_component_filter', (record, tableData) => record.__indexes.sys_ui_hp_publisher)\n        }\n    ]\n}\nvar DOMAIN_SEPARATION_ENABLED = new SNC.PADomainUtils().isDomainSeparated();\nvar FIX_SCRIPT_START = (() => {\n    var t = new GlideDateTime();\n    // Subtract 1 second just in case the script runs very quickly. This is used in encoded queries, and we'd want any sys_update_xml entries from before to be filtered out\n    t.subtract(1000);\n    return t.getValue();\n})()\n\nfunction createUpdateGenerator(tableName, overwriteFunc) {\n    return (tableData) => {\n        if (!tableData[tableName])\n            return [];\n\n        var overwrite = overwriteFunc || (() => {})\n        return tableData[tableName].map(e => createPendingUpdate(tableName, e, overwrite(e, tableData))).filter(e => e);\n    }\n}\n\nfunction createIndexGenerator(findTable, findFunc) {\n    return (tableData, gr, record) => {\n        if (!tableData[findTable]) {\n            return;\n        }\n\n        var e = tableData[findTable].find((e) => {\n            return findFunc(e, gr)\n        });\n\n        if (!e) {\n            return;\n        }\n\n        record.__indexes = record.__indexes || {};\n        record.__indexes[findTable] = e;\n    }\n}\n\nfunction domainSafeQuery(gr) {\n    if(DOMAIN_SEPARATION_ENABLED)\n        return gr.queryNoDomain();\n    else\n        return gr.query();\n}\n\nfunction objectNeedsUpdate(origin, target) {\n    if (typeof origin.sys_scope !== \"undefined\" && origin.sys_scope !== target.sys_scope)\n        return true;\n\n    if (typeof origin.sys_package !== \"undefined\" && origin.sys_package !== target.sys_package)\n        return true;\n\n    if (typeof origin.sys_domain !== \"undefined\" && origin.sys_domain !== target.sys_domain)\n        return true;\n\n    if (typeof origin.sys_domain_path !== \"undefined\" && origin.sys_domain_path !== target.sys_domain_path){\n        if (origin.sys_domain_path === null && target.sys_domain_path === \"/\")\n            return false;\n\n        if (origin.sys_domain_path === \"/\" && target.sys_domain_path === null)\n            return false\n\n        return true;\n    }\n\n    return false;\n}\n\nfunction createPendingUpdate(tableName, record, overwriteMeta) {\n    if(!overwriteMeta)\n        gs.warn(\"Could not find overwrite meta for \" + tableName + \" : \" + JSON.stringify(record));\n    if(objectNeedsUpdate(record, overwriteMeta))\n        return {\n            table: tableName,\n            sys_id: record.sys_id,\n            record: record,\n            overwrite: overwriteMeta,\n        }\n}\n\nfunction getRecord(gr, storeFunc, indexFunc, data) {\n    if (!gr)\n        return {};\n\n    var createIndex = indexFunc || (() => {});\n    if (storeFunc) {\n        var o = storeFunc(gr);\n        createIndex(data, gr, o);\n        return o;\n    }\n\n    var k = Object.keys(gr);\n    var o = {};\n    k.forEach(key => {\n        o[key] = gr.getValue(key);\n    });\n    createIndex(data, gr, o);\n    return o;\n}\n\nfunction getUpdates(queries, data) {\n    var updates = [];\n    for (var i = 0; i < queries.length; i++) {\n        var query = queries[i];\n        if (!query.getUpdates)\n            continue;\n\n        var u = query.getUpdates(data);\n        u.forEach((e) => {\n            updates.push(e);\n        });\n    }\n    return updates;\n}\n\nfunction insertRecord(tableName, recordSysId, overwrite, record) {\n    if(RUN_SIM){\n        return;\n    }\n    if(!record || !overwrite || !recordSysId || !tableName){\n        gs.warn(\"Unable to update record as information is missing! \" + JSON.stringify({overwrite: overwrite, sys_id: recordSysId}))\n        return;\n    }\n    var gr = new GlideRecord(tableName);\n    gr.setWorkflow(false);\n    gr.autoSysFields(false);\n    gr.setNewGuidValue(recordSysId);\n    var expectedObject = {};\n    Object.keys(record).forEach((key) => {\n        if(key === \"__meta\")\n            return;\n        if(key === \"active\") {\n            gr.setValue(key, !!record[key])\n            expectedObject[key] = !!record[key];\n        }\n        else {\n            gr.setValue(key, record[key]);\n            expectedObject[key] = record[key];\n        }\n    });\n    gr.setValue(\"sys_package\", overwrite.sys_package);\n    gr.setValue(\"sys_scope\", overwrite.sys_scope);\n    gr.setValue(\"sys_domain\", overwrite.sys_domain);\n    gr.setValue(\"sys_domain_path\", overwrite.sys_domain_path);\n    expectedObject.sys_scope = overwrite.sys_scope;\n    expectedObject.sys_package = overwrite.sys_package;\n    expectedObject.sys_domain = overwrite.sys_domain;\n    expectedObject.sys_domain_path = overwrite.sys_domain_path;\n    if(!gr.insert()) {\n        gs.error(\"Unable to insert record! : \" + JSON.stringify({tableName: tableName, sys_id: recordSysId, record: record, overwrite: overwrite}));\n    }\n\n    var dbu = new GlideDBUpdate(tableName);\n    var dbq = new GlideDBQuery(tableName);\n    dbq.addQuery(\"sys_id\", recordSysId);\n    dbu.setQuery(dbq);\n    dbu.setValue(\"sys_package\", overwrite.sys_package);\n    dbu.setValue(\"sys_scope\", overwrite.sys_scope);\n    dbu.setValue(\"sys_domain\", overwrite.sys_domain);\n    dbu.setValue(\"sys_domain_path\", overwrite.sys_domain_path);\n    dbu.execute();\n    dbu.close();\n    dbq.close();\n\n    if (DEBUG) {\n      gr = new GlideRecord(tableName);\n      if(!gr.get(recordSysId))\n        gs.error(\"Could not find immediately inserted record: \" + recordSysId);\n      else {\n        Object.keys(expectedObject).forEach(key => {\n            if(gr.getValue(key) !== expectedObject[key]) {\n                gs.error(\"Object was written differently for \" + recordSysId + \" for value \" + key);\n                gs.error(\"Expected: \" + expectedObject[key] + \" but got: \" + gr.getValue(key));\n                }\n        });\n      }\n    }\n    return tableName + \"_\" + recordSysId;\n}\n\nfunction deleteRecords(updates) {\n    if(!updates || updates.length === 0)\n        return;\n\n    var runQuery = (table, query) => {\n        if(RUN_SIM) {\n            gs.info(\"Would delete : \" + query);\n            return;\n        }\n\n        if(!table || !query){\n            gs.warn(\"Cannot run delete query without table or query\");\n            return;\n        }\n\n        var gr = new GlideRecord(table);\n        gr.setWorkflow(false);\n        gr.addEncodedQuery(query.map(e => 'sys_id=' + e).join(\"^OR\"));\n        domainSafeQuery(gr);\n        gr.deleteMultiple();\n\n        gr = new GlideRecord(\"sys_update_xml\");\n        var enc = \"sys_created_on>\" + FIX_SCRIPT_START + \"^action=DELETE^\" + query.map(e => 'name=' + table + \"_\" + e).join(\"^OR\");\n        gr.addEncodedQuery(enc);\n        gs.info(\"Delete sys_update query: \" + enc)\n        domainSafeQuery(gr);\n        gr.deleteMultiple();\n    }\n    var currentTable;\n    var query = [];\n\n    updates.forEach(update => {\n        if(update.table !== currentTable) {\n            if(currentTable)\n                runQuery(currentTable, query);\n\n            currentTable = update.table;\n            query = [];\n        }\n        query.push(update.sys_id);\n    });\n\n    runQuery(currentTable, query);\n}\n\nfunction getTableDetailsAndParent(tableName, sysId) {\n    var gr = new GlideRecord(\"sys_db_object\");\n    if(tableName)\n        gr.addQuery(\"name\", tableName);\n    else if(sysId)\n        gr.addQuery(\"sys_id\", sysId);\n    else\n        throw new Error(\"you didn't provide a table name or a sysID \");\n    domainSafeQuery(gr);\n    if(gr.next()) {\n        var newTableName = gr.getValue(\"name\");\n        var superClass = gr.getValue(\"super_class\");\n        var parent;\n        if(superClass){\n            parent = getTableDetailsAndParent(null, superClass);\n        }\n\n        gr = new GlideRecord(\"sys_dictionary\");\n        gr.addQuery(\"internal_type\", \"reference\");\n        gr.addQuery(\"reference\", newTableName);\n        domainSafeQuery(gr);\n\n        var cascadedChanges = [];\n        while(gr.next()) {\n            var columnName = gr.getValue(\"element\");\n            var table = gr.getValue(\"name\");\n            var referenceCascade = gr.getValue(\"reference_cascade_rule\");\n            if(referenceCascade !== \"none\"){\n                cascadedChanges.push({columnName: columnName, table: table, referenceCascade: referenceCascade, tableName: newTableName, sysId: gr.getValue(\"sys_id\")});\n            }\n        }\n        return {tableName: newTableName, parent: parent, parentSysId: superClass, cascadedChanges: cascadedChanges};\n    }\n    return null;\n}\n\nfunction updateDictionary(tableDetails, disableCascade) {\n    var cascadedChanges = tableDetails.cascadedChanges;\n    cascadedChanges.forEach(change => {\n        var gr = new GlideRecord(\"sys_dictionary\");\n        if(!gr.get(change.sysId)) {\n            return;\n        }\n        var newRule = disableCascade ? \"none\" : change.referenceCascade;\n        gs.info(\"Updating sys_id: \" + change.sysId + \" -> \" + (newRule || \"NULL\"))\n        gr.setValue(\"reference_cascade_rule\", newRule || \"NULL\");\n        gr.update();\n    })\n\n    var gr = new GlideRecord(\"sys_update_xml\");\n    var enc = \"sys_created_on>\" + FIX_SCRIPT_START + \"^action=INSERT_OR_UPDATE^\" + cascadedChanges.map(e => 'name=sys_dictionary_' + e.table).join(\"^OR\");\n    gr.addEncodedQuery(enc);\n    domainSafeQuery(gr);\n    gr.deleteMultiple();\n\n    if(tableDetails.parent)\n        updateDictionary(tableDetails.parent, disableCascade)\n}\n\nfunction deleteCustomizations(customizations) {\n    if(!customizations || customizations.length === 0)\n        return;\n\n    if(RUN_SIM) {\n        gs.info(\"Would delete customizations: \" + JSON.stringify(customizations));\n        return;\n    }\n\n    var gr = new GlideRecord(\"sys_update_xml\");\n    var enc = \"sys_created_on>\" + FIX_SCRIPT_START + \"^action=INSERT_OR_UPDATE^\" + customizations.map(e => 'name=' + e).join(\"^OR\");\n    gr.addEncodedQuery(enc);\n    gs.info(\"Delete sys_update query: \" + enc)\n    domainSafeQuery(gr);\n    gr.deleteMultiple(); //sys_created_on>javascript:gs.dateGenerate('2024-03-27','01:00:00')\n}\n\nvar disabledTables = {};\nfunction executeUpdates(updates) {\n\n    updates.forEach(update => {\n        var table = update.table;\n        if(disabledTables[table]) {\n            return;\n        }\n\n        gs.info(\"Querying tables to disable cascade on...\");\n        disabledTables[table] = getTableDetailsAndParent(table, null);\n        gs.info(\"DISABLED CASCADES ON \" + table + \" -> \" + JSON.stringify(disabledTables[table]));\n        updateDictionary(disabledTables[table], true);\n    });\n\n    gs.info(\"Executing \" + updates.length + \" updates\");\n    var start = new Date().getTime();\n\n    deleteRecords(updates);\n\n    gs.info(\"Finished executing deletions in \" + ((new Date().getTime() - start) / 1000));\n\n    var customizations = [];\n    for(var i = 0;i < updates.length;i++) {\n        var update = updates[i];\n        var customizationName = insertRecord(update.table, update.sys_id, update.overwrite, update.record);\n        customizations.push(customizationName);\n    }\n    deleteCustomizations(customizations.filter(e => e));\n\n    gs.info(\"Finished executing updates in \" + ((new Date().getTime() - start) / 1000))\n\n    return updates.length;\n}\n\nfunction executeQuerySequence(queries, data) {\n    DEBUG && gs.info(\"Executing query sequence for table \" + queries[0].tableName + \" with \" + queries.length + \" queries...\");\n    for (var i = 0; i < queries.length; i++) {\n        var query = queries[i];\n\n        var gr = new GlideRecord(query.tableName);\n        var encodedQuery = query.encodedQuery(data);\n        var preserveKeys = Object.keys(data); // Used to track what data is like at this point, in case we wish to execute sequentially\n        data[query.tableName] = data[query.tableName] || [];\n        if (!encodedQuery) {\n            gs.info(\"Skipping over query for table \" + query.tableName + \" because encoded query returned nothing...\")\n            continue;\n        }\n\n        gr.addEncodedQuery(encodedQuery);\n        domainSafeQuery(gr);\n        while (gr.next()) {\n            data[query.tableName] = data[query.tableName] || []; // Has to be here also in the case of sequential=true\n            data[query.tableName].push(getRecord(gr, query.store, query.index, data));\n            if (query.sequential) {\n                DEBUG && gs.info(\"Executing sequential updates...\");\n                var newUpdates = executeQuerySequence(queries.slice(i + 1), data);\n                var newKeys = Object.keys(data);\n                newKeys.forEach(k => {\n                    if (preserveKeys.find(e => e === k))\n                        return;\n\n                    DEBUG && gs.info(\"Deleting data from data context: \" + k + \" -> \" + data[k].length + \" records\");\n                    delete data[k];\n                })\n                executeUpdates(newUpdates);\n            }\n        }\n    }\n    var updates = getUpdates(queries, data);\n    return updates;\n}\n\nvar REPAIRED_PROP = \"com.glide.par.coreui.migration.scope.repaired\";\ntry{\n    var updatesLength = 0;\n    updatesLength += executeUpdates(executeQuerySequence(QUERY_SEQUENCES.reports, {}));\n    gs.info(\"Finished executing par_visualization(sys_report) patch\");\n    updatesLength += executeUpdates(executeQuerySequence(QUERY_SEQUENCES.widgets, {}));\n    gs.info(\"Finished executing par_visualization(pa_widgets) patch\");\n    updatesLength += executeUpdates(executeQuerySequence(QUERY_SEQUENCES.filters, {}));\n    gs.info(\"Finished executing par_component(filters) patch\");\n    updatesLength += executeUpdates(executeQuerySequence(QUERY_SEQUENCES.dashboards, {}));\n    gs.info(\"Finished executing par_dashboard(pa_dashboards) patch\");\n\n    if(updatesLength > 0) {\n        gs.setProperty(REPAIRED_PROP, \"true\");\n    }\n} catch(e) {\n    gs.error(\"An error was thrown, please rollback this fix script!\");\n    gs.error(e);\n} finally {\n    gs.info(\"Re-enabling cascades : \" + JSON.stringify(disabledTables));\n    for (var tableName in disabledTables) {\n        updateDictionary(disabledTables[tableName], false);\n    }\n    gs.info(\"Finished re-enabling all cascades!\");\n}\n","sys_class_name":"sys_script_fix","sys_id":"57e3575f53098210561a0a5030e5e606","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/013ba77304352210559073c06a02f7f1","value":"013ba77304352210559073c06a02f7f1"},"sys_update_name":"sys_script_fix_57e3575f53098210561a0a5030e5e606","sys_updated_by":"admin","sys_created_on":"2024-03-25 15:29:09","name":"CoreUI Migrate Scope/Package/Domain Fix","sys_name":"CoreUI Migrate Scope/Package/Domain Fix","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Prediction Usage Report - Update the filter to use appropriate defnition_id (DEFN1000629)","sys_updated_on":"2018-03-14 00:22:12","sys_tags":"","record_for_rollback":"false","script":"gs.info(\"Prediction Usage Report - Updating the filter to use appropriate definition_id (DEFN1000629)\");\nSNC.MLFixScriptUtil.updatePredictionUsageReportFilter();\n","sys_class_name":"sys_script_fix","sys_id":"583e764eeb3013004afb5722aaa345c8","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_script_fix_583e764eeb3013004afb5722aaa345c8","sys_updated_by":"admin","sys_created_on":"2018-03-14 00:22:12","name":"Update prediction usage report filter","sys_name":"Update prediction usage report filter","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"9","description":"Adding the test set snapshot information in nlu_batch_test_run_execution","sys_updated_on":"2021-06-20 16:27:16","sys_tags":"","record_for_rollback":"false","script":"var tables = NLUWorkbenchConstants.tables;\n\n(function() {\n    var batchTestRunExecGr = new GlideRecord(tables.NLU_BATCH_TEST_RUN_EXECUTION);\n    batchTestRunExecGr.query();\n    while (batchTestRunExecGr.next()) {\n        try {\n            var testDefinition = new sn_nlu_workbench.NLUBatchTestDefinition(batchTestRunExecGr.test_run_definition);\n            var testSnapshot = testDefinition.getTestSetSnapshot();\n            batchTestRunExecGr.setValue('test_set_snapshot', JSON.stringify(testSnapshot));\n            batchTestRunExecGr.update();\n        } catch (e) {\n            gs.error('Error while updating the test set snapshot in NLU_BATCH_TEST_RUN_EXECUTION table for the record ' + batchTestRunExecGr.getUniqueValue() + ' ' + e.message);\n        }\n    }\n\n})();","sys_class_name":"sys_script_fix","sys_id":"58691836c31320100bf407720f40dd13","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_update_name":"sys_script_fix_58691836c31320100bf407720f40dd13","sys_updated_by":"admin","sys_created_on":"2021-04-07 07:56:55","name":"NLU Batch Test - Add test set snapshot","sys_name":"NLU Batch Test - Add test set snapshot","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Enable responsive dashboard property for net new and upgrading customers.\r\n- Fix script on upgrade to set the property \"glide.cms.enable.responsive_grid_layout\" to true if it exists and equals to false.","sys_updated_on":"2022-07-14 13:59:40","sys_tags":"","record_for_rollback":"true","script":"gs.log('START - Enable responsive dashboard property');\nvar gr = new GlideRecord('sys_properties');\ngr.addQuery('name', 'glide.cms.enable.responsive_grid_layout');\ngr.addQuery('value', 'false');\ngr.query();\n\nif (gr.next()) {\n    gs.log('glide.cms.enable.responsive_grid_layout with value false is found.');\n    gr.setValue('value', 'true');\n    gr.update();\n    gs.log('Updated glide.cms.enable.responsive_grid_layout property to true.');\n}\ngs.log('END - Enable responsive dashboard property');","sys_class_name":"sys_script_fix","sys_id":"5869e5ff772011108154f4640b5a991b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/411bab3304352210559073c06a02f767","value":"411bab3304352210559073c06a02f767"},"sys_update_name":"sys_script_fix_5869e5ff772011108154f4640b5a991b","sys_updated_by":"admin","sys_created_on":"2022-07-14 11:49:05","name":"Enable responsive dashboard property","sys_name":"Enable responsive dashboard property","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"This fix script makes the category field of the sys_notification record mandatory in upgrade scenario","sys_updated_on":"2023-08-07 12:01:12","sys_tags":"","record_for_rollback":"true","script":"var gr = new GlideRecord(\"sys_dictionary\");\ngr.addQuery(\"name\", \"sys_notification\");\ngr.addQuery(\"element\", \"category\");\ngr.setWorkflow(false);\ngr.query();\nif (gr.next()) {\n    gr.setValue(\"mandatory\", true);\n    gr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"589f348d43e4b1103c9ab82689b8f2f7","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4c93a3f304312210559073c06a02f7f1","value":"4c93a3f304312210559073c06a02f7f1"},"sys_update_name":"sys_script_fix_589f348d43e4b1103c9ab82689b8f2f7","sys_updated_by":"admin","sys_created_on":"2023-08-07 12:01:12","name":"sys_notif category field mandatory","sys_name":"sys_notif category field mandatory","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"Update the sys_dictionary entries for internal_type and reference to both reference types.\r\n\t\t","sys_updated_on":"2012-10-08 17:53:53","sys_tags":"","record_for_rollback":"false","script":"// Reuse these gliderecords repeatedly below...\n\t\tvar dict = new GlideRecord(\"sys_dictionary\");\n\t\tvar doc = new GlideRecord(\"sys_documentation\");\n\n\t\t/*\n\t\t sys_dictionary\n\t\t <element name=\"max_length\" mandatory=\"false\"/>\n\t\t */\n\t\tdict.initialize();\n\t\tdict.addQuery(\"name\", \"sys_dictionary\");\n\t\tdict.addQuery(\"element\", \"max_length\");\n\t\tdict.query();\n\t\tif (dict.next()) {\n\t\t\tdict.mandatory = false;\n\t\t\tdict.setWorkflow(false);\n\t\t\tif (dict.changes() && dict.update()) {\n\t\t\t\tgs.log(\"Updated sys_dictionary max_length element to mandatory = false\")\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t sys_documentation\n\t\t <element name=\"label\" max_length=\"50\" display=\"true\"/>\n\t\t */\n\t\tdict.initialize();\n\t\tdict.addQuery(\"name\", \"sys_documentation\");\n\t\tdict.addQuery(\"element\", \"label\");\n\t\tdict.query();\n\t\tif (dict.next()) {\n\t\t\tdict.display = true;\n\t\t\tdict.setWorkflow(false);\n\t\t\tif (dict.changes() && dict.update()) {\n\t\t\t\tgs.log(\"Updated sys_documentation label element to display = true\")\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t sys_glide_object\n\t\t <element name=\"label\" display=\"true\" hint=\"The display name of this field type\" type=\"translated_field\"/>\n\t\t */\n\t\tdict.initialize();\n\t\tdict.addQuery(\"name\", \"sys_glide_object\");\n\t\tdict.addQuery(\"element\", \"label\");\n\t\tdict.query();\n\t\tif (dict.next()) {\n\t\t\tdict.display = true;\n\t\t\tdict.internal_type = \"translated_field\";\n\t\t\tdict.setWorkflow(false);\n\t\t\tif (dict.changes() && dict.update()) {\n\t\t\t\tgs.log(\"Updated sys_glide_object label element to display = true and internal_type = translated_field\")\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t sys_dictionary\n\t\t <element name=\"element\" display=\"false\"/>\n\t\t */\n\t\tdict.initialize();\n\t\tdict.addQuery(\"name\", \"sys_dictionary\");\n\t\tdict.addQuery(\"element\", \"element\");\n\t\tdict.query();\n\t\tif (dict.next()) {\n\t\t\tdict.display = false;\n\t\t\tdict.setWorkflow(false);\n\t\t\tif (dict.changes() && dict.update()) {\n\t\t\t\tgs.log(\"Updated sys_dictionary element (column name) element to display = false\")\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t sys_dictionary\n\t\t <element name=\"reference\" type=\"reference\" reference=\"sys_db_object\" reference_key=\"name\"\n\t\t dynamic_creation=\"true\" dynamic_creation_script=\"current.label = value; return current.insert();\"/>\n\t\t */\n\t\tdict.initialize();\n\t\tdict.addQuery(\"name\", \"sys_dictionary\");\n\t\tdict.addQuery(\"element\", \"reference\");\n\t\tdict.query();\n\t\tif (dict.next()) {\n\t\t\tdict.internal_type = \"reference\";\n\t\t\tdict.reference = \"sys_db_object\";\n\t\t\tdict.reference_key = \"name\";\n\t\t\tdict.dynamic_creation = true;\n\t\t\tdict.dynamic_creation_script = \"new TableUtils().createTableFromDynamicReference(current, value, parent, typeof grandparent != 'undefined' ? grandparent : null);\";\n\t\t\tdict.setWorkflow(false);\n\t\t\tif (dict.changes() && dict.update()) {\n\t\t\t\tgs.log(\"Updated sys_dictionary reference element to reference sys_db_object with reference key \" +\n\t\t\t\t\t\"= name and dynamic_creation = true\");\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t sys_dictionary\n\t\t <element name=\"reference_qual\" max_length=\"255\" hint=\"References may depend on another value, for example role=itil\" />\n\t\t */\n\t\tdoc.initialize();\n\t\tdoc.addQuery(\"name\", \"sys_dictionary\");\n\t\tdoc.addQuery(\"element\", \"reference_qual\");\n\t\tdoc.addQuery(\"language\", \"en\");\n\t\tdoc.query();\n\t\tif (doc.next()) {\n\t\t\tdoc.hint = \"References may depend on another value, for example role=itil\";\n\t\t\tif (doc.changes() && doc.update() != null) {\n\t\t\t\tgs.log(\"Updated sys_dictionary reference_qual element hint\");\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t sys_dictionary\n\t\t <element name=\"internal_type\" type=\"reference\" reference=\"sys_glide_object\" reference_qual=\"javascript:gs.hasRole('maint')?'':'visible=true';\" reference_key=\"name\" label=\"Type\" />\n\t\t */\n\t\tdict.initialize();\n\t\tdict.addQuery(\"name\", \"sys_dictionary\");\n\t\tdict.addQuery(\"element\", \"internal_type\");\n\t\tdict.query();\n\t\tif (dict.next()) {\n\t\t\tdict.internal_type = \"reference\";\n\t\t\tdict.reference = \"sys_glide_object\";\n\t\t\tdict.reference_qual = \"javascript:gs.hasRole('maint')?'':'visible=true';\";\n\t\t\tdict.reference_key = \"name\";\n\t\t\tdict.setWorkflow(false);\n\t\t\tif (dict.changes() && dict.update()) {\n\t\t\t\tgs.log(\"Updated sys_dictionary internal_type element to reference sys_glide_object\");\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t sys_db_object\n\t\t <element name=\"name\" table_reference=\"true\" label=\"Name\" mandatory=\"true\" hint=\"The internal name of the table that cannot later be changed\"/>\n\t\t */\n\t\tdict.initialize();\n\t\tdict.addQuery(\"name\", \"sys_db_object\");\n\t\tdict.addQuery(\"element\", \"name\");\n\t\tdict.query();\n\t\tif (dict.next()) {\n\t\t\tdict.mandatory = true;\n\t\t\tdict.setWorkflow(false);\n\t\t\tif (dict.changes() && dict.update()) {\n\t\t\t\tgs.log(\"Updated sys_db_object name to mandatory = true\");\n\t\t\t}\n\t\t}\n\t\tdoc.initialize();\n\t\tdoc.addQuery(\"name\", \"sys_db_object\");\n\t\tdoc.addQuery(\"element\", \"name\");\n\t\tdoc.addQuery(\"language\", \"en\");\n\t\tdoc.query();\n\t\tif (doc.next()) {\n\t\t\tdoc.label = \"Name\";\n\t\t\tdoc.plural = \"Name\";\n\t\t\tdoc.hint = \"The internal name of the table that cannot later be changed\";\n\t\t\tif (doc.changes() && doc.update() != null) {\n\t\t\t\tgs.log(\"Updated sys_db_object name element label, plural and hint\");\n\t\t\t}\n\t\t}\n\t\t/*\n\t\t sys_db_object\n\t\t <element name=\"super_class\" type=\"reference\" label=\"Extends table\" reference=\"sys_db_object\" reference_qual=\"is_extendable=true\" hint=\"Table this table inherits fields from\"/>\n\t\t */\n\t\tdict.initialize();\n\t\tdict.addQuery(\"name\", \"sys_db_object\");\n\t\tdict.addQuery(\"element\", \"super_class\");\n\t\tdict.query();\n\t\tif (dict.next()) {\n\t\t\tdict.reference_qual = \"is_extendable=true\";\n\t\t\tdict.setWorkflow(false);\n\t\t\tif (dict.changes() && dict.update()) {\n\t\t\t\tgs.log(\"Updated sys_db_object super_class reference_qual='is_extendable=true'\");\n\t\t\t}\n\t\t}\n\t\tdoc.initialize();\n\t\tdoc.addQuery(\"name\", \"sys_db_object\");\n\t\tdoc.addQuery(\"element\", \"super_class\");\n\t\tdoc.addQuery(\"language\", \"en\");\n\t\tdoc.query();\n\t\tif (doc.next()) {\n\t\t\tdoc.label = \"Extends table\";\n\t\t\tdoc.plural = \"Extends table\";\n\t\t\tdoc.hint = \"Table this table inherits fields from\";\n\t\t\tif (doc.changes() && doc.update() != null) {\n\t\t\t\tgs.log(\"Updated sys_db_object super_class element label, plural and hint\");\n\t\t\t}\n\t\t}\n\t\t/*\n\t\t sys_number\n\t\t <element name=\"prefix\" hint=\"Characters added to the beginning of the number to differentiate tables\" display=\"true\"/>\n\t\t */\n\t\tdict.initialize();\n\t\tdict.addQuery(\"name\", \"sys_number\");\n\t\tdict.addQuery(\"element\", \"prefix\");\n\t\tdict.query();\n\t\tif (dict.next()) {\n\t\t\tdict.display = true;\n\t\t\tdict.setWorkflow(false);\n\t\t\tif (dict.changes() && dict.update()) {\n\t\t\t\tgs.log(\"Updated sys_number prefix display = true\");\n\t\t\t}\n\t\t}\n\t\t/*\n\t\t sys_number\n\t\t <element name=\"category\" type=\"reference\" reference=\"sys_db_object\" reference_key=\"name\" label=\"Table\" table_reference=\"true\" hint=\"Table the number is associated with\"/>\n\t\t */\n\t\tdoc.initialize();\n\t\tdoc.addQuery(\"name\", \"sys_number\");\n\t\tdoc.addQuery(\"element\", \"category\");\n\t\tdoc.addQuery(\"language\", \"en\");\n\t\tdoc.query();\n\t\tif (doc.next()) {\n\t\t\tdoc.hint = \"Table the number is associated with\";\n\t\t\tif (doc.changes() && doc.update() != null) {\n\t\t\t\tgs.log(\"Updated sys_number category element hint\");\n\t\t\t}\n\t\t}\n\t\t/*\n\t\t sys_number\n\t\t <element name=\"maximum_digits\" type=\"integer\" hint=\"Number of digits for the number, zero (0) padded from the left.  Set value to zero (0) for no padding.\" default=\"7\" label=\"Number of digits\"/>\n\t\t */\n\t\tdoc.initialize();\n\t\tdoc.addQuery(\"name\", \"sys_number\");\n\t\tdoc.addQuery(\"element\", \"maximum_digits\");\n\t\tdoc.addQuery(\"language\", \"en\");\n\t\tdoc.query();\n\t\tif (doc.next()) {\n\t\t\tdoc.hint = \"Number of digits for the number, zero (0) padded from the left.  Set value to zero (0) for no padding.\";\n\t\t\tif (doc.changes() && doc.update() != null) {\n\t\t\t\tgs.log(\"Updated sys_number maximum_digits element hint\");\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t sys_app_module:\n\t\t <element name=\"application\" label=\"Application menu\" hint=\"The navigation menu where this module should reside\"/>\n\t\t */\n\t\tdoc.initialize();\n\t\tdoc.addQuery(\"name\", \"sys_app_module\");\n\t\tdoc.addQuery(\"element\", \"application\");\n\t\tdoc.addQuery(\"language\", \"en\");\n\t\tdoc.query();\n\t\tif (doc.next()) {\n\t\t\tdoc.hint = \"The navigation menu where this module should reside\";\n\t\t\tdoc.plural = \"Application menu\";\n\t\t\tif (doc.changes() && doc.update() != null) {\n\t\t\t\tgs.log(\"Updated sys_db_object super_class element label, plural and hint\");\n\t\t\t}\n\t\t}\n","sys_class_name":"sys_script_fix","sys_id":"58b15603c3003000bac1addbdfba8fa5","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fe0427f704312210559073c06a02f71a","value":"fe0427f704312210559073c06a02f71a"},"sys_update_name":"sys_script_fix_58b15603c3003000bac1addbdfba8fa5","sys_updated_by":"admin","sys_created_on":"2012-08-29 06:53:53","name":"Upgrade Dictionary Entries","sys_name":"Upgrade Dictionary Entries","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Updates topic type for the existing topics that are created prior to paris release","sys_updated_on":"2020-04-06 22:05:01","sys_tags":"","record_for_rollback":"false","script":"function updateTopicType(table) {\n    var gr = new GlideRecord(table);\n\tgr.addNullQuery(\"type\");\n    gr.query();\n    while (gr.next()) {\n\t\tif (gr.library) {\n\t\t\tgr.type = \"TOPIC_BLOCK\";\n\t\t}\n\t\telse{\n\t\t\tgr.type = \"STANDARD\";\n\t\t}\n\t\tgr.update();\n    }\n}\n\nupdateTopicType(\"sys_cb_topic\");\nupdateTopicType(\"sys_cs_topic\");","sys_class_name":"sys_script_fix","sys_id":"58b82ecdc7001010fd68220eb4c2609a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_58b82ecdc7001010fd68220eb4c2609a","sys_updated_by":"admin","sys_created_on":"2020-04-06 22:05:01","name":"Update Topic Type","sys_name":"Update Topic Type","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"CMDB - Specify display column for table: cmdb_key_value","sys_updated_on":"2020-03-16 22:18:25","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('sys_dictionary');\ngr.addQuery('name', 'cmdb_key_value');\ngr.addQuery('element', 'key');\ngr.query();\nif (gr.next()) {\n    gr.setValue(\"display\", true);\n    gr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"58c28b017723001033b5270bba10612b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_58c28b017723001033b5270bba10612b","sys_updated_by":"admin","sys_created_on":"2020-03-13 03:28:48","name":"CMDB -Specify display column in KeyValue","sys_name":"CMDB -Specify display column in KeyValue","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Add label to sys_cb_topic.description to add proper capitalization","sys_updated_on":"2023-01-11 18:14:48","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('sys_dictionary');\ngr.addQuery('name', 'sys_cb_topic');\ngr.addQuery('element', 'description');\ngr.query();\nwhile (gr.next()) {\n    gr.setValue('column_label', 'Description');\n    if (gr.update()) {\n        gs.log(\"Updated the label of sys_cb_topic.description\");\n    } else {\n        gs.logError(\"Failed to update the label of sys_cb_topic.description\");\n    }\n}\n","sys_class_name":"sys_script_fix","sys_id":"58f88f8ac314e1109a481f820c40ddf4","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_58f88f8ac314e1109a481f820c40ddf4","sys_updated_by":"admin","sys_created_on":"2023-01-11 18:14:48","name":"Add label to sys_cb_topic.description","sys_name":"Add label to sys_cb_topic.description","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"31","description":"","sys_updated_on":"2024-02-02 03:04:08","sys_tags":"","record_for_rollback":"true","script":"var clusterGr = new GlideRecord(\"hermes_cluster_config\");\nclusterGr.query();\nwhile (clusterGr.next()) {\n    clusterGr.setValue(\"is_managed\", true);\n    clusterGr.setValue(\"is_adc_accessible\", true);\n    clusterGr.setValue(\"is_primary_for_service\", false); // managed clusters don't use the primary field\n    clusterGr.setValue(\"service_id\", \"bfe548804320311041a0e8625ab8f242\"); // set as hermes-internal\n    clusterGr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"59906087432331103464827cfbb8f27d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/03d4abbf04312210559073c06a02f7f9","value":"03d4abbf04312210559073c06a02f7f9"},"sys_update_name":"sys_script_fix_59906087432331103464827cfbb8f27d","sys_updated_by":"admin","sys_created_on":"2024-01-09 18:00:33","name":"UpgradeHermesClusterConfig","sys_name":"UpgradeHermesClusterConfig","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"5","description":"This fix script will create entries for each section availabe to map every section and tab widget in the m2m table.","sys_updated_on":"2023-08-03 11:17:58","sys_tags":"","record_for_rollback":"true","script":"// Create default section entries for tab widget mapping into new M2M table\ncreateEntriesInMtoM();\n\nfunction createEntriesInMtoM() {\n    // Create array of section and populate new m2m table\n    var sectionsList = [];\n    var sectionGr = new GlideRecord(\"sn_employee_overview_section\");\n    sectionGr.query();\n    while (sectionGr.next()) {\n        var sectionObj = {\n            sysId: sectionGr.getUniqueValue(),\n            order: sectionGr.getValue(\"order\"),\n            active: sectionGr.getValue(\"active\")\n        };\n        sectionsList.push(sectionObj);\n    }\n    if (sectionsList.length) {\n        var tabWidgetMapGr = new GlideRecord(\"sn_employee_tab_widget_mapping\");\n        tabWidgetMapGr.addQuery(\"widget\", \"56fc512453333010fedfddeeff7b1273\"); // Query for Employee Profile Overview widget only\n        tabWidgetMapGr.query();\n        while (tabWidgetMapGr.next()) {\n            sectionsList.forEach(function(section) {\n                var tabWidgetSectionMtomGr = new GlideRecord(\"sn_employee_m2m_tabwidget_section\");\n                tabWidgetSectionMtomGr.initialize();\n                tabWidgetSectionMtomGr.setValue(tabWidgetMapGr.getTableName(), tabWidgetMapGr.getUniqueValue());\n                tabWidgetSectionMtomGr.setValue(\"sn_employee_overview_section\", section.sysId);\n                tabWidgetSectionMtomGr.setValue(\"active\", section.active);\n                tabWidgetSectionMtomGr.setValue(\"order\", section.order);\n                tabWidgetSectionMtomGr.insert();\n            });\n        }\n    } else {\n        gs.info(gs.getMessage(\"Widget Mapping fix script: There are no sections available to process\"));\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"59aa9b4bc3543110bf4fa78e8740dde9","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1e95bac2738f001001b566b90ff6a7cd","value":"1e95bac2738f001001b566b90ff6a7cd"},"sys_update_name":"sys_script_fix_59aa9b4bc3543110bf4fa78e8740dde9","sys_updated_by":"admin","sys_created_on":"2023-08-01 18:18:18","name":"EP sections to tab widget mapping m2m","sys_name":"EP sections to tab widget mapping m2m","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1e95bac2738f001001b566b90ff6a7cd","value":"1e95bac2738f001001b566b90ff6a7cd"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Delete unwanted wizard answer records created in the sys_wizard_answer table for the creator's studio app.","sys_updated_on":"2024-05-08 00:38:33","sys_tags":"","record_for_rollback":"false","script":"deleteUnwantedWizardAnswerRecords();\n\nfunction deleteUnwantedWizardAnswerRecords() {\n    var gr = new GlideRecord('sys_wizard_answer');\n    gr.addQuery('sys_scope', '81ac5fe1c7442110408bc8d6f2c260d1');\n    gr.addQuery('active', true);\n    gr.query();\n    while (gr.next()) {\n        gs.info(gs.getMessage(\"Deleted sys_wizard_answer record: {0}\", gr.getValue('name')));\n        gr.deleteRecord();\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"5a442a554fc60210ebc3fbff20ce0b54","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6f98400fc3262210ed4bd50d05013160","value":"6f98400fc3262210ed4bd50d05013160"},"sys_update_name":"sys_script_fix_5a442a554fc60210ebc3fbff20ce0b54","sys_updated_by":"admin","sys_created_on":"2024-05-01 20:28:24","name":"Delete unwanted wizard answer records","sys_name":"Delete unwanted wizard answer records","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":"read"},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Load chart colors for catalog task state from the com.glideapp.servicecatalog.platform plugin only if the instance doesn't has custom chart color records already defined for the catalog task states or if they have OOTB chart colors override it.","sys_updated_on":"2023-10-05 15:47:09","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tvar ootbColors = \"91d65878c7033010d7e818b1c7c26014,98a51838c7033010d7e818b1c7c260a6,eea61878c7033010d7e818b1c7c260e7,ee171878c7033010d7e818b1c7c260f8,86679878c7033010d7e818b1c7c260fb,8bb79c78c7033010d7e818b1c7c260cb\";\n    var gr = new GlideRecord(\"sys_report_chart_color\");\n    gr.addQuery(\"name\", \"sc_task\");\n    gr.addQuery(\"element\", \"state\");\n\tgr.addQuery(\"sys_id\",\"NOT IN\", ootbColors);\n\tgr.setLimit(1);\n    gr.query();\n    if (!gr.hasNext()) {\n        gs.log(\"Loading sys_report_chart_color for sc_task.state\", \"[com.glideapp.servicecatalog.platform][Fix Script: Load chart color for catalog task state]\");\n        GlideUpdateManager2().load(\"com.glideapp.servicecatalog.platform\", \"update.sc_task_chart_colors\");\n    }\n})();","sys_class_name":"sys_script_fix","sys_id":"5a95c10843793110b8cf8beeaab8f2f6","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3028ab3304f12210559073c06a02f7b7","value":"3028ab3304f12210559073c06a02f7b7"},"sys_update_name":"sys_script_fix_5a95c10843793110b8cf8beeaab8f2f6","sys_updated_by":"admin","sys_created_on":"2023-10-05 13:10:29","name":"Chart color for catalog task state v2","sys_name":"Chart color for catalog task state v2","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"9","description":"Updating label for the table \"sys_pd_context\" from \"Process Executions\" to \"Playbook Executions\"","sys_updated_on":"2024-10-14 09:01:44","sys_tags":"","record_for_rollback":"true","script":"try {\n\tif (!pm.isZboot()) {\n\t\tgs.log('Updating label');\n\t\tvar glideRecord = new GlideRecord('sys_db_object');\n\t\tglideRecord.addQuery('name', '=', 'sys_pd_context');\n\t\tglideRecord.addQuery('label', '=', 'Process Executions');\n\t\tglideRecord.query();\n\t\tif (glideRecord.next()) {\n\t\t\tglideRecord.setValue('label', 'Playbook Executions');\n\t\t\tglideRecord.update();\n\t\t\tgs.info(\"Label updated for sys_pd_context to Playbook Executions\");\n\t\t}\n\t\telse {\n\t\t\tgs.log(\"Record not found to update the label of sys_pd_context\");\n\t\t}\n\n\t\tvar glideRecord_chunk = new GlideRecord('sys_db_object');\n\t\tglideRecord_chunk.addQuery('name', '=', 'sys_pd_context_chunk');\n\t\tglideRecord_chunk.addQuery('label', '=', 'Process Execution Archive Chunk');\n\t\tglideRecord_chunk.query();\n\t\tif (glideRecord_chunk.next()) {\n\t\t\tglideRecord_chunk.setValue('label', 'Playbook Execution Archive Chunk');\n\t\t\tglideRecord_chunk.update();\n\t\t\tgs.info(\"Label updated for sys_pd_context_chunk to Playbook Execution Archive Chunk\");\n\t\t}\n\t\telse {\n\t\t\tgs.log(\"Record not found to update the label of sys_pd_context_chunk\");\n\t\t}\n\t}\n}\n\ncatch (ex) {\n\tgs.log(\"Update failed for context tables \" + JSON.stringify(ex));\n}\n","sys_class_name":"sys_script_fix","sys_id":"5a9a10fe7f09521079a7c0287c86656c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5c3e67b304752210559073c06a02f757","value":"5c3e67b304752210559073c06a02f757"},"sys_update_name":"sys_script_fix_5a9a10fe7f09521079a7c0287c86656c","sys_updated_by":"admin","sys_created_on":"2024-10-08 08:45:12","name":"Update label of \"sys_pd_context\"","sys_name":"Update label of \"sys_pd_context\"","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"18","description":"Change occurrences of \"Max-User\" to \"Unrestricted User\" in sys_choice and sys_documentation","sys_updated_on":"2020-08-19 23:16:52","sys_tags":"","record_for_rollback":"false","script":"// Update hints and sys_choices that say \"Max-User\" to say \"Unrestricted User\" instead\nfixHint(\"license_details\", \"license_type\");\nfixHint(\"license_details_deleted\", \"license_type\");\nfixChoice(\"license_details\", \"license_type\");\nfixChoice(\"license_details_deleted\", \"license_type\");\n\n// Find sys_documentation for the given table and column and update its hint to say \"Unrestricted User\"\nfunction fixHint(table, column) {\n\t// New hint to use for the sys_documentation record\n\tvar updated = \"The type of the subscription, Per-User for user subscriptions, Capacity for data driven subscriptions, Unrestricted User for subscriptions capped by the maximum user count\";\n\n\tvar docsGR = new GlideRecord(\"sys_documentation\");\n\tdocsGR.addQuery(\"name\", table);\n\tdocsGR.addQuery(\"element\", column);\n\tdocsGR.addQuery(\"language\", \"en\");\n\tdocsGR.query();\n\n\tif (!docsGR.next()) {\n\t\tgs.info(\"Unable to find sys_documentation for \" + table + \".\" + column);\n\t\treturn;\n\t}\n\n\tdocsGR.setValue(\"hint\", updated);\n\tif (docsGR.update())\n\t\tgs.info(\"Updated \" + table + \".\" + column + \" hint to say 'Unrestricted User'\");\n\telse\n\t\tgs.info(\"Failed to update \" + table + \".\" + column + \" hint\");\n}\n\n// Find the \"Max-User\" sys_choice for the given table and column and update it to say \"Unrestricted User\"\nfunction fixChoice(table, column) {\n\tvar choiceGR = new GlideRecord(\"sys_choice\");\n\tchoiceGR.addQuery(\"name\", table);\n\tchoiceGR.addQuery(\"element\", column);\n\tchoiceGR.addQuery(\"language\", \"en\");\n\tchoiceGR.addQuery(\"value\", 2); // Value of \"Max-User\" license type\n\tchoiceGR.query();\n\n\tif (!choiceGR.next()) {\n\t\tgs.info(\"Unable to find sys_choice for \" + table + \".\" + column);\n\t\treturn;\n\t}\n\n\tchoiceGR.setValue(\"label\", \"Unrestricted User\");\n\tif (choiceGR.update())\n\t\tgs.info(\"Updated \" + table + \".\" + column + \" choices to say 'Unrestricted User'\");\n\telse\n\t\tgs.info(\"Failed to update \" + table + \".\" + column + \" choice\");\n}","sys_class_name":"sys_script_fix","sys_id":"5a9fc95473721010440211d8faf6a7f1","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8bc96fbb04f12210559073c06a02f755","value":"8bc96fbb04f12210559073c06a02f755"},"sys_update_name":"sys_script_fix_5a9fc95473721010440211d8faf6a7f1","sys_updated_by":"admin","sys_created_on":"2020-08-19 00:28:54","name":"Change \"Max-User\" to \"Unrestricted User\"","sys_name":"Change \"Max-User\" to \"Unrestricted User\"","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Analytics Migrate UCM Message Keys","sys_updated_on":"2023-05-03 12:16:27","sys_tags":"","record_for_rollback":"false","script":"gs.log(\"Start: Analytics Migrate UCM Message Keys\")\nvar messageKeys = [\n{ oldKey: \"glide.analytics.consent.eu.text\", newKey:  \"glide.analytics.consent.text.explicit_opt_in\"},\n{ oldKey: \"glide.analytics.consent.other.text\", newKey: \"glide.analytics.consent.text.notice\"}\n];\n\nfor (var i in messageKeys){\n\tvar oldKey = messageKeys[i].oldKey;\n\tvar newKey = messageKeys[i].newKey;\n\n\tvar messageGR = new GlideRecord(\"sys_ui_message\");\n\tmessageGR.addQuery(\"key\", \"IN\", oldKey+','+newKey);\n        messageGR.addQuery(\"language\", 'en');\n\tmessageGR.query();\n\n\tvar obj = {oldMessage: \"\", newMessage: \"\"};\n\n\twhile (messageGR.next()) {\n\t\tif(messageGR.getValue(\"key\") === oldKey)\n\t\t\tobj.oldMessage = messageGR.getValue(\"message\");\n                if(messageGR.getValue(\"key\") === newKey)\n\t\t\tobj.newMessage = messageGR.getValue(\"message\");\n\t}\n        gs.log(obj.oldMessage);\n        gs.log(obj.newMessage);\n        if(obj.newMessage != \"\" && (obj.oldMessage !== obj.newMessage)) {\n\t\tvar updateMessageGR = new GlideRecord(\"sys_ui_message\");\n\t\tupdateMessageGR.initialize();\n\t\tupdateMessageGR.addQuery(\"key\", newKey);\n\t\tupdateMessageGR.query();\n\t\tupdateMessageGR.next();\n\t\tupdateMessageGR.setValue(\"message\", obj.oldMessage);\n\t\tupdateMessageGR.update();\n\t\tgs.log(newKey + \" updated with old message: \" + obj.oldMessage);\n\t} else {\n        \tgs.log(\"Either old and new messages were exactly the same or the new key did no exist, therefore no action needed.\")\n        }\n}\n\ngs.log(\"End: Analytics Migrate UCM Message Keys\")\n","sys_class_name":"sys_script_fix","sys_id":"5aa7aec2772a21105679bcc8ca5a99ce","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/07d4abbf04312210559073c06a02f7f6","value":"07d4abbf04312210559073c06a02f7f6"},"sys_update_name":"sys_script_fix_5aa7aec2772a21105679bcc8ca5a99ce","sys_updated_by":"maint","sys_created_on":"2023-05-03 12:16:27","name":"Analytics Migrate UCM Message Keys","sys_name":"Analytics Migrate UCM Message Keys","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"2","description":"Set configuration for Action Payload Fields to true","sys_updated_on":"2020-04-17 06:23:59","sys_tags":"","record_for_rollback":"false","script":"var dictionary = new GlideRecord(\"sys_dictionary\");\nif (dictionary.isValid())\n\tdictionary.addQuery(\"name\", \"sys_declarative_action_payload_field\");\n    dictionary.addQuery(\"element\", \"configurable\");\n    dictionary.query();\n    if (dictionary.next()) {\n        dictionary.setValue(\"default_value\", true);\n        dictionary.update();\n    }\n\n\n","sys_class_name":"sys_script_fix","sys_id":"5aba3f54c7101010099a308dc7c26071","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f39caf7b04352210559073c06a02f73f","value":"f39caf7b04352210559073c06a02f73f"},"sys_update_name":"sys_script_fix_5aba3f54c7101010099a308dc7c26071","sys_updated_by":"admin","sys_created_on":"2020-04-17 06:21:49","name":"Set default Configurable to true for DA","sys_name":"Set default Configurable to true for DA","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"31","description":"A sys_class_name column has been added to the mtg_meeting, mtg_attendee, mtg_agenda_item, mtg_runtime_state tables. The cab_meeting, cab_attendee, cab_agenda_item, cab_runtime_state tables extend them and will inherit sys_class_name field. \n\nIf any children of mtg tables have active sys_class_name column, this fix script sets active to false for the columns. \nAlso it updates sys_class_name field value if any existing records from the mtg tables or extending tables do not have sys_class_name value.","sys_updated_on":"2019-09-09 17:58:19","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tif (pm.isZboot())\n\t\treturn;\n\tvar tableList = [\n\t\t\"mtg_agenda_item\",\n\t\t\"mtg_attendee\",\n\t\t\"mtg_meeting\",\n\t\t\"mtg_runtime_state\"\n\t];\n\tvar SYS_CLASS_NAME = 'sys_class_name';\n\n\t//update Dictionary and set active to false\n\ttableList.forEach(function(parentTableName) {\n\t\tif (!gs.tableExists(parentTableName) || !new GlideRecord(parentTableName).isValidField(SYS_CLASS_NAME))\n\t\t\treturn;\n\n\t\tvar tableExtensions = GlideDBObjectManager.get().getTableExtensions(parentTableName);\n\n\t\tfor (var i = 0; i < tableExtensions.size(); i++) {\n\t\t\tvar table = tableExtensions.get(i);\n\t\t\tvar extendingTableGR = new GlideRecord(table);\n\n\t\t\tif (extendingTableGR.isValidField(SYS_CLASS_NAME)) {\n\t\t\t\tvar tableDictionaryGR = new GlideRecord('sys_dictionary');\n\t\t\t\ttableDictionaryGR.addQuery('name', table);\n\t\t\t\ttableDictionaryGR.addQuery('element', SYS_CLASS_NAME);\n\t\t\t\ttableDictionaryGR.addActiveQuery();\n\t\t\t\ttableDictionaryGR.query();\n\t\t\t\tif (tableDictionaryGR.next()) {\n\t\t\t\t\ttableDictionaryGR.setValue('active', false);\n\t\t\t\t\ttableDictionaryGR.update();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\t//update sys_class_name value\n\ttableList.forEach(function(parentTableName) {\n\t\tif (!gs.tableExists(parentTableName) || !new GlideRecord(parentTableName).isValidField(SYS_CLASS_NAME))\n\t\t\treturn;\n\n\t\tvar tableExtensions = GlideDBObjectManager.get().getAllExtensions(parentTableName);\n\n\t\tfor (var i = tableExtensions.size() - 1; i > -1; i--) {\n\t\t\tvar table = tableExtensions.get(i);\n\t\t\tif (!gs.tableExists(table))\n\t\t\t\tcontinue;\n\n\t\t\tvar gmu = new GlideMultipleUpdate(table);\n\t\t\tgmu.addNullQuery(SYS_CLASS_NAME);\n\t\t\tgmu.setValue(SYS_CLASS_NAME, table);\n\t\t\tgmu.execute();\n\t\t}\n\t});\n\n})();","sys_class_name":"sys_script_fix","sys_id":"5b140107db4e3300380c765f369619e4","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bdfbaf7704352210559073c06a02f704","value":"bdfbaf7704352210559073c06a02f704"},"sys_update_name":"sys_script_fix_5b140107db4e3300380c765f369619e4","sys_updated_by":"admin","sys_created_on":"2019-06-19 13:33:39","name":"Update sys_class_name for mtg","sys_name":"Update sys_class_name for mtg","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Bulk conversion of 'Services' to 'Application Services' uses custom queue namely sn_cmdb_service_queue which needs to be appended to system property event.limited.queues","sys_updated_on":"2019-11-06 20:45:53","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tvar adder = new AddValueToCsvProperty();\n\tadder.add('event.limited.queues', 'sn_cmdb_service_queue');\n})();","sys_class_name":"sys_script_fix","sys_id":"5bf22bc87341001061b79c0c6df6a76b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_script_fix_5bf22bc87341001061b79c0c6df6a76b","sys_updated_by":"admin","sys_created_on":"2019-11-06 20:45:53","name":"Support sn_cmdb_service_queue","sys_name":"Support sn_cmdb_service_queue","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"","sys_updated_on":"2018-06-21 16:23:21","sys_tags":"","record_for_rollback":"false","script":"if (!pm.isZboot()) {\n\tgs.info(\"Modifying hide_sp field to false for standard change record producer\");\n\tvar std_change = new GlideRecord('std_change_record_producer');\n\tvar qc = std_change.addNullQuery('hide_sp');\n\tqc.addOrCondition('hide_sp', true);\n\tstd_change.setValue('hide_sp', false);\n\tstd_change.updateMultiple();\n\tgs.info(\"Updated hide_sp field to false for standard change record producer\");\n\n\tgs.info(\"Remove override of the hide_sp field\");\n\tvar dictionaryGr = new GlideRecord('sys_dictionary_override');\n\tdictionaryGr.addQuery('element', 'hide_sp');\n\tdictionaryGr.addQuery('name', 'std_change_record_producer');\n\tdictionaryGr.query();\n\n\tif (dictionaryGr.next())\n\t\tdictionaryGr.deleteRecord();\n}","sys_class_name":"sys_script_fix","sys_id":"5c26ebc6237a1300889edc1756bf653b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b80be33304352210559073c06a02f76b","value":"b80be33304352210559073c06a02f76b"},"sys_update_name":"sys_script_fix_5c26ebc6237a1300889edc1756bf653b","sys_updated_by":"admin","sys_created_on":"2018-06-21 13:10:57","name":"Enable std change records for portal","sys_name":"Enable std change records for portal","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"5","description":"Migrate all the VTB card and board labels to new tables for all the existing boards","sys_updated_on":"2019-07-26 05:03:53","sys_tags":"","record_for_rollback":"false","script":"migrateVTBCardAndBoardLabels();\n\nfunction createGlobalLabel(labelName) {\n\tvar grLabel = new GlideRecord('label');\n\tgrLabel.initialize();\n\tgrLabel.name = labelName;\n\tgrLabel.viewable_by = 'everyone';\n\tgrLabel.global = true;\n\tgrLabel.background_color = '#6ab7ef';\n\treturn grLabel.insert();\n}\n\nfunction createBoardLabel(board, label, color, active, order) {\n\tvar grBoardLabel = new GlideRecord('vtb_board_label');\n\tgrBoardLabel.initialize();\n\tgrBoardLabel.board = board;\n\tgrBoardLabel.label = label;\n\tgrBoardLabel.color = color;\n\tgrBoardLabel.active = active;\n\tgrBoardLabel.order = order;\n\treturn grBoardLabel.insert();\n}\n\nfunction assignLabel(cardId, labelId, cardDisplayValue) {\n\tvar grLabelEntry = new GlideRecord('label_entry');\n\tgrLabelEntry.initialize();\n\tgrLabelEntry.label = labelId;\n\tgrLabelEntry.table = 'vtb_card';\n\tgrLabelEntry.table_key = cardId;\n\tgrLabelEntry.title = 'Visual Task Board Card - ' + cardDisplayValue;\n\tgrLabelEntry.read = 'yes';\n\tgrLabelEntry.notify_onchange = false;\n\tgrLabelEntry.insert();\n}\n\nfunction queryLabelTable(name) {\n\tvar grLabel = new GlideRecord('label');\n\tgrLabel.addQuery('name', name);\n\tvar qc = grLabel.addQuery('viewable_by', 'everyone');\n\tqc.addOrCondition('viewable_by', 'groups and users');\n\tgrLabel.setLimit(1);\n\tgrLabel.query();\n\n\treturn grLabel;\n}\n\nfunction isSharedLabel(name) {\n\tvar grLabel = new GlideAggregate('label');\n\tgrLabel.addQuery('name', name);\n\tvar qc = grLabel.addQuery('viewable_by', 'everyone');\n\tqc.addOrCondition('viewable_by', 'groups and users');\n\tgrLabel.addAggregate('COUNT');\n\tgrLabel.query();\n\n\treturn grLabel.next() && grLabel.getAggregate('COUNT') > 0;\n}\n\nfunction migrateVTBCardAndBoardLabels() {\n\tvar colors = ['#f95050', '#278efc', '#71e279', '#6d79e8', '#fc8a3d', '#fcc742', '#fa8da2'];\n\tvar labelMap = {};\n\tvar nameMap = {};\n\tvar duplicateLabelMap = {};\n\tvar duplicateLabelNameMap = {};\n\n\tvar grBoard = new GlideRecord('vtb_board');\n\tgrBoard.query();\n\twhile (grBoard.next()) {\n\t\tvar boardLabelIds = [];\n\t\tvar boardDuplicateLabelCount = {};\n\t\tfor (var i=1; i<=7; i++) {\n\t\t\tvar labelNameOriginal = grBoard.getValue('label_'+i);\n\t\t\tif (labelNameOriginal == null)\n\t\t\t\tcontinue;\n\n\t\t\tvar labelName = labelNameOriginal.toLowerCase();\n\t\t\tvar labelId = labelMap[labelName] || (nameMap[labelName] && labelMap[nameMap[labelName]]);\n\t\t\tif (labelId && boardLabelIds.indexOf(labelId) > -1) {\n\t\t\t\tvar index = boardDuplicateLabelCount[labelName] || 0;\n\t\t\t\tif (duplicateLabelNameMap[labelName] && index < duplicateLabelNameMap[labelName].length) {\n\t\t\t\t\tlabelId = duplicateLabelNameMap[labelName][index];\n\t\t\t\t\tif (!boardDuplicateLabelCount[labelName])\n\t\t\t\t\t\tboardDuplicateLabelCount[labelName] = 0;\n\n\t\t\t\t\tboardDuplicateLabelCount[labelName]++;\n\t\t\t\t} else {\n\t\t\t\t\tvar j;\n\t\t\t\t\tif (!labelMap[labelName] && nameMap[labelName])\n\t\t\t\t\t\tj = parseInt(nameMap[labelName].substr(nameMap[labelName].indexOf('.') + 1)) + 1;\n\t\t\t\t\telse\n\t\t\t\t\t\tj = 1;\n\t\t\t\t\tvar newLabelName = labelNameOriginal+'.'+j;\n\t\t\t\t\twhile (isSharedLabel(newLabelName)) {\n\t\t\t\t\t\tj++;\n\t\t\t\t\t\tnewLabelName = labelNameOriginal+'.'+j;\n\t\t\t\t\t}\n\t\t\t\t\tlabelId = createGlobalLabel(newLabelName);\n\t\t\t\t\tif (!boardDuplicateLabelCount[labelName])\n\t\t\t\t\t\tboardDuplicateLabelCount[labelName] = 0;\n\n\t\t\t\t\tif (!duplicateLabelNameMap[labelName])\n\t\t\t\t\t\tduplicateLabelNameMap[labelName] = [];\n\n\t\t\t\t\tboardDuplicateLabelCount[labelName]++;\n\t\t\t\t\tduplicateLabelNameMap[labelName].push(labelId);\n\t\t\t\t}\n\n\t\t\t\tduplicateLabelMap[grBoard.getUniqueValue()+'_label_'+i] = labelId;\n\t\t\t}\n\n\t\t\tif (!labelId) {\n\t\t\t\t// Check name collision with labels viewable by groups and users.\n\t\t\t\t// No need to check name collision with labels viewable by me.\n\t\t\t\tvar grLabel = queryLabelTable(labelName);\n\n\t\t\t\tif (grLabel.next()) {\n\t\t\t\t\tif (grLabel.getValue('viewable_by') == 'everyone') {\n\t\t\t\t\t\tlabelId = grLabel.getUniqueValue();\n\t\t\t\t\t\tlabelMap[labelName] = labelId;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// If a shared label with this name already exists, add a suffix.\n\t\t\t\t\t\tnameMap[labelName] = labelNameOriginal + '.1';\n\t\t\t\t\t\tfor (j=2; isSharedLabel(nameMap[labelName]); j++) {\n\t\t\t\t\t\t\tnameMap[labelName] = labelNameOriginal + '.' + j;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlabelId = createGlobalLabel(nameMap[labelName]);\n\t\t\t\t\t\tlabelMap[nameMap[labelName]] = labelId;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tlabelId = createGlobalLabel(labelNameOriginal);\n\t\t\t\t\tlabelMap[labelName] = labelId;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tboardLabelIds.push(labelId);\n\t\t\tcreateBoardLabel(grBoard.getUniqueValue(), labelId, colors[i-1], grBoard.getValue('label_'+i+'_active'), i-1);\n\t\t}\n\t}\n\n\tvar grCard = new GlideRecord('vtb_card');\n\tgrCard.addQueryString('removed=false^label_1=true^ORlabel_2=true^ORlabel_3=true^ORlabel_4=true^ORlabel_5=true^ORlabel_6=true^ORlabel_7=true', true);\n\tgrCard.query();\n\tvar boardMap = {};\n\twhile (grCard.next()) {\n\t\tvar boardId = grCard.getValue('board');\n\t\tif (!boardMap[boardId]) {\n\t\t\tgrBoard = new GlideRecord('vtb_board');\n\t\t\tgrBoard.get(boardId);\n\n\t\t\tboardMap[boardId] = {};\n\t\t\tfor (i=1; i<=7; i++) {\n\t\t\t\tvar labelValue = grBoard.getValue('label_'+i);\n\t\t\t\tif (labelValue)\n\t\t\t\t\tboardMap[boardId]['label_'+i] = labelValue.toLowerCase();\n\t\t\t}\n\t\t}\n\n\t\tvar labels = [];\n\t\tfor (i=1; i<=7; i++) {\n\t\t\tif (boardMap[boardId]['label_'+i] && grCard.getValue('label_'+i) == '1') {\n\t\t\t\tlabelName = boardMap[boardId]['label_'+i];\n\t\t\t\tlabelId = duplicateLabelMap[boardId+'_label_'+i] ||\n\t\t\t\t\tlabelMap[labelName] ||\n\t\t\t\t\tlabelMap[nameMap[labelName]];\n\t\t\t\tlabels.push(labelId);\n\t\t\t}\n\t\t}\n\n\t\tfor (i=0; i<labels.length; i++) {\n\t\t\tassignLabel(grCard.getUniqueValue(), labels[i], grCard.getDisplayValue());\n\t\t}\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"5c6ed4407346230056b5bef4b4f6a7b4","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d334a77b04312210559073c06a02f7ff","value":"d334a77b04312210559073c06a02f7ff"},"sys_update_name":"sys_script_fix_5c6ed4407346230056b5bef4b4f6a7b4","sys_updated_by":"admin","sys_created_on":"2018-11-23 07:17:01","name":"Migrate VTB labels to new tables","sys_name":"Migrate VTB labels to new tables","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"0","description":"Allow one more update for the modified files related to Benchmark KPIs for Assessments.","sys_updated_on":"2020-09-29 19:35:00","sys_tags":"","record_for_rollback":"false","script":"var files = [\n    'pa_scripts_efb9db72531403000d620d0323dc3469.xml',\n];\nfor (var i=0; i<files.length; i++)\n    sn_applyonce.ApplyOnce.allowOneMoreUpdate(files[i]);\ngs.info(\"Assessment Core Benchmark apply once API called\");","sys_class_name":"sys_script_fix","sys_id":"5cae9875c52fd010f87740154d7d6358","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1bc6c2d3db92220004997878f0b8f571","value":"1bc6c2d3db92220004997878f0b8f571"},"sys_update_name":"sys_script_fix_5cae9875c52fd010f87740154d7d6358","sys_updated_by":"admin","sys_created_on":"2020-09-29 19:35:00","name":"AllowOneMore: Assessment Benchmarks KPIs","sys_name":"AllowOneMore: Assessment Benchmarks KPIs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1bc6c2d3db92220004997878f0b8f571","value":"1bc6c2d3db92220004997878f0b8f571"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2020-08-29 21:57:55","sys_tags":"","record_for_rollback":"false","script":"updateControlTypeRefQualForCustomAdapterConfig();\n\nfunction updateControlTypeRefQualForCustomAdapterConfig() {\n  var gr = new GlideRecord(\"sys_dictionary\");\n  gr.addQuery(\"name\", \"sys_cs_custom_adapter_config\");\n  gr.addQuery(\"element\", \"control_type\");\n  gr.query();\n  if (gr.next()) {\n    gr.setValue(\n      \"reference_qual\",\n      \"nameSTARTSWITHDefault^EQ\"\n    );\n    gr.update();\n  }\n}","sys_class_name":"sys_script_fix","sys_id":"5d25913753fe9010ad82ddeeff7b12c4","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9cc37b3704b52210559073c06a02f781","value":"9cc37b3704b52210559073c06a02f781"},"sys_update_name":"sys_script_fix_5d25913753fe9010ad82ddeeff7b12c4","sys_updated_by":"admin","sys_created_on":"2020-08-29 21:57:55","name":"Update CAF Config Control Type RefQual","sys_name":"Update CAF Config Control Type RefQual","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"This fix script will be used  for following operations :\r\n\t\t\t- Run evaluation-script on each configurations and set compliance state accordingly","sys_updated_on":"2024-09-10 19:09:00","sys_tags":"","record_for_rollback":"false","script":"//Confirm if PA Job has a valid user\n//Get all [PA AppSec] jobs\nvar constant = new sn_vsc.SecurityCenterConstants();\nvar pajob_gr = new GlideRecordSecure('sysauto_pa');\npajob_gr.addQuery('sys_package', constant.SCPackage);\npajob_gr.query();\nwhile (pajob_gr.next()) {\n    pajob_gr.run_as = getPASecUserId();\n    pajob_gr.update();\n}\n\n//Create Security Center User is not present on zboot/upgrade\nfunction getPASecUserId() {\n    var user_id = '';\n    var user_gr = new GlideRecordSecure('sys_user');\n    if (!user_gr.get('user_name', 'securitycenter.user')) {\n        user_gr.initialize();\n        user_gr.first_name = \"Security Center\";\n        user_gr.last_name = \"Data Collection User\";\n        user_gr.user_name = \"securitycenter.user\";\n        user_gr.locked_out = \"false\";\n        user_gr.active = \"true\";\n        user_gr.web_service_access_only = \"true\";\n        user_gr.insert();\n        user_id = user_gr.getValue('sys_id');\n    } else {\n        user_id = user_gr.sys_id;\n    }\n\n    return user_id;\n}\n\n//Evaluate Compliance state for all settings\nvar obj = new sn_vsc.VSCComplianceUtil();\nobj.runComplianceCheck();\n\n// get PA job and execute it.\nvar vsc_pa_job = new GlideRecord('sysauto_pa');\nvsc_pa_job.addQuery('sys_package', constant.SCPackage);\nvsc_pa_job.query();\nwhile (vsc_pa_job.next()) {\n    gs.executeNow(vsc_pa_job);\n}","sys_class_name":"sys_script_fix","sys_id":"5d2d4a9377f22110c6213a91fa5a99f8","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"sys_update_name":"sys_script_fix_5d2d4a9377f22110c6213a91fa5a99f8","sys_updated_by":"maint","sys_created_on":"2022-08-09 18:30:43","name":"SC V1.2 - Set Harc Compliance state","sys_name":"SC V1.2 - Set Harc Compliance state","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"sys_created_by":"admin","sys_policy":"read"},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Add CI class on Mobile Model Category","sys_updated_on":"2021-03-22 12:43:53","sys_tags":"","record_for_rollback":"false","script":"global.AssetUtils.updateMobileDeviceMC();","sys_class_name":"sys_script_fix","sys_id":"5d63c7e9c7072010f74c784c95c2608f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/45672bfb04b12210559073c06a02f7c5","value":"45672bfb04b12210559073c06a02f7c5"},"sys_update_name":"sys_script_fix_5d63c7e9c7072010f74c784c95c2608f","sys_updated_by":"admin","sys_created_on":"2021-03-22 12:43:53","name":"Update Mobile Device Model Category","sys_name":"Update Mobile Device Model Category","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Enable fuzzy search only on zboot. Upgrading customers will not be automatically opted-in to fuzzy search.","sys_updated_on":"2024-08-20 00:10:06","sys_tags":"","record_for_rollback":"false","script":"if (pm.isZboot()) {\n    var before = gs.getSession().getWorkflow();\n    gs.getSession().setWorkflow(false);\n    gs.setProperty(\"glide.ui.polaris.nav_filter_accuracy_score\", 75);\n    gs.getSession().setWorkflow(before);\n}","sys_class_name":"sys_script_fix","sys_id":"5e3f86fe43801210810da4f8f9b8f21e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/37eda37304752210559073c06a02f7b6","value":"37eda37304752210559073c06a02f7b6"},"sys_update_name":"sys_script_fix_5e3f86fe43801210810da4f8f9b8f21e","sys_updated_by":"admin","sys_created_on":"2024-08-20 00:10:06","name":"Activate fuzzy search on zboot","sys_name":"Activate fuzzy search on zboot","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Updates Connect conversations form the Fuji structure to the new Geneva structure.","sys_updated_on":"2015-05-15 18:13:33","sys_tags":"","record_for_rollback":"false","script":"// Peer to Peer conversion\nvar collaboratorPeerGR = new GlideRecord(\"collaborator\");\ncollaboratorPeerGR.addNotNullQuery(\"peer\");\ncollaboratorPeerGR.query();\n\nvar groupMap = {};\nwhile(collaboratorPeerGR.next()) {\n\tvar userPeer = collaboratorPeerGR.getValue(\"user\") + \":\" + collaboratorPeerGR.getValue(\"peer\");\n\tvar peerUser = collaboratorPeerGR.getValue(\"peer\") + \":\" + collaboratorPeerGR.getValue(\"user\");\n\n\tif(groupMap.hasOwnProperty(userPeer)) {\n\t\t// The group is already created, just create the other member\n\t\tvar liveGroupMemberPeerGR = new GlideRecord(\"live_group_member\");\n\t\tliveGroupMemberPeerGR.group = groupMap[userPeer];\n\t\tliveGroupMemberPeerGR.member = collaboratorPeerGR.getValue(\"user\");\n\t\tliveGroupMemberPeerGR.member_type = \"user\";\n\t\tliveGroupMemberPeerGR.state = \"admin\";\n\t\tliveGroupMemberPeerGR.can_email = collaboratorPeerGR.getValue(\"can_email\");\n\t\tliveGroupMemberPeerGR.frame_order = collaboratorPeerGR.getValue(\"frame_order\");\n\t\tliveGroupMemberPeerGR.frame_state = collaboratorPeerGR.getValue(\"frame_state\");\n\t\tliveGroupMemberPeerGR.last_emailed = collaboratorPeerGR.getValue(\"last_emailed\");\n\t\tliveGroupMemberPeerGR.last_viewed = collaboratorPeerGR.getValue(\"last_viewed\");\n\t\tliveGroupMemberPeerGR.visible = collaboratorPeerGR.getValue(\"visible\");\n\n\t\tliveGroupMemberPeerGR.insert();\n\t\tcontinue;\n\t}\n\n\tvar liveGroupGR = new GlideRecord(\"live_group_profile\");\n\tliveGroupGR.public_group = false;\n\tliveGroupGR.visible_group = false;\n\tliveGroupGR.short_description = \"Peer to peer conversation\";\n\tliveGroupGR.type = \"peer\";\n\tliveGroupGR.name = collaboratorPeerGR.getDisplayValue(\"user\") + \", \" + collaboratorPeerGR.getDisplayValue(\"peer\");\n\n\tliveGroupGR.setWorkflow(false);\n\tvar groupSysID = liveGroupGR.insert();\n\n\tvar liveGroupMemberUserGR = new GlideRecord(\"live_group_member\");\n\tliveGroupMemberUserGR.group = groupSysID;\n\tliveGroupMemberUserGR.member = collaboratorPeerGR.getValue(\"user\");\n\tliveGroupMemberUserGR.member_type = \"user\";\n\tliveGroupMemberUserGR.state = \"admin\";\n\tliveGroupMemberUserGR.can_email = collaboratorPeerGR.getValue(\"can_email\");\n\tliveGroupMemberUserGR.frame_order = collaboratorPeerGR.getValue(\"frame_order\");\n\tliveGroupMemberUserGR.frame_state = collaboratorPeerGR.getValue(\"frame_state\");\n\tliveGroupMemberUserGR.last_emailed = collaboratorPeerGR.getValue(\"last_emailed\");\n\tliveGroupMemberUserGR.last_viewed = collaboratorPeerGR.getValue(\"last_viewed\");\n\tliveGroupMemberUserGR.visible = collaboratorPeerGR.getValue(\"visible\");\n\n\tliveGroupMemberUserGR.insert();\n\n\tvar collaboratorEdgeCaseGR = new GlideRecord(\"collaborator\");\n\tcollaboratorEdgeCaseGR.addQuery(\"user\", collaboratorPeerGR.getValue(\"peer\"));\n\tcollaboratorEdgeCaseGR.addQuery(\"peer\", collaboratorPeerGR.getValue(\"user\"));\n\tcollaboratorEdgeCaseGR.query();\n\n\tif(!collaboratorEdgeCaseGR.hasNext()) {\n\t\tvar liveGroupEdgeCaseGR = new GlideRecord(\"live_group_member\");\n\t\tliveGroupEdgeCaseGR.group = groupSysID;\n\t\tliveGroupEdgeCaseGR.member = collaboratorPeerGR.getValue(\"peer\");\n\t\tliveGroupEdgeCaseGR.member_type = \"user\";\n\t\tliveGroupEdgeCaseGR.state = \"admin\";\n\n\t\tliveGroupEdgeCaseGR.insert();\n\t}\n\n\tvar liveMessageGR = new GlideRecord(\"live_message\");\n\tvar qc = liveMessageGR.addQuery(\"profile\", collaboratorPeerGR.getValue(\"user\"));\n\tqc.addOrCondition(\"profile\", collaboratorPeerGR.getValue(\"peer\"));\n\tvar qc2 = liveMessageGR.addQuery(\"to_profile\", collaboratorPeerGR.getValue(\"user\"));\n\tqc2.addOrCondition(\"to_profile\", collaboratorPeerGR.getValue(\"peer\"));\n\n\tliveMessageGR.query();\n\n\twhile(liveMessageGR.next()) {\n\t\tliveMessageGR.to_profile = null;\n\t\tliveMessageGR.group = groupSysID;\n\t\tliveMessageGR.update();\n\t}\n\n\tgroupMap[peerUser] = groupSysID;\n\tgroupMap[userPeer] = groupSysID;\n}\n\n// Group Visibility\nvar collaboratorGroupGR = new GlideRecord(\"collaborator\");\ncollaboratorGroupGR.addNotNullQuery(\"group\");\ncollaboratorGroupGR.query();\n\nwhile(collaboratorGroupGR.next()) {\n\tvar groupMemberGR = new GlideRecord(\"live_group_member\");\n\tgroupMemberGR.addQuery(\"group\", collaboratorGroupGR.getValue(\"group\"));\n\tgroupMemberGR.addQuery(\"member\", collaboratorGroupGR.getValue(\"user\"));\n\tgroupMemberGR.query();\n\n\tgroupMemberGR.next();\n\n\tgroupMemberGR.visible = collaboratorGroupGR.getValue(\"visible\");\n\tgroupMemberGR.last_viewed = collaboratorGroupGR.getValue(\"last_viewed\");\n\tgroupMemberGR.last_emailed = collaboratorGroupGR.getValue(\"last_emailed\");\n\tgroupMemberGR.can_email = collaboratorGroupGR.getValue(\"can_email\");\n\tgroupMemberGR.frame_order = collaboratorGroupGR.getValue(\"frame_order\");\n\tgroupMemberGR.frame_state = collaboratorGroupGR.getValue(\"frame_state\");\n\tgroupMemberGR.update();\n}","sys_class_name":"sys_script_fix","sys_id":"5e5939219f000200d5f9b3e2957fcf14","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d4442b7b04312210559073c06a02f7ee","value":"d4442b7b04312210559073c06a02f7ee"},"sys_update_name":"sys_script_fix_5e5939219f000200d5f9b3e2957fcf14","sys_updated_by":"admin","sys_created_on":"2015-05-15 18:13:33","name":"Connect Infrastructure Update","sys_name":"Connect Infrastructure Update","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Disable Report Builder and force use Report Designer when Polaris is ON","sys_updated_on":"2021-07-06 12:49:19","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('sys_properties');\ngr.addQuery('name','glide.ui.report.old_report_builder');\ngr.addQuery('value',true);\ngr.query();\n\nif (gr.next()) {\n\tgr.value = false;\n\tgr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"5ebeb0f77301301070e1f988caf6a779","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/37eda37304752210559073c06a02f7b6","value":"37eda37304752210559073c06a02f7b6"},"sys_update_name":"sys_script_fix_5ebeb0f77301301070e1f988caf6a779","sys_updated_by":"admin","sys_created_on":"2021-07-06 12:49:19","name":"Disable report builder when Polaris ON","sys_name":"Disable report builder when Polaris ON","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Remove UI policy setting process properties as read-only.","sys_updated_on":"2021-04-02 20:42:33","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('sys_ui_policy');\nif(gr.get('59f027f8c72010106fb2a0e55cc26096')){\n\tgr.setWorkflow(false);\n\tgr.deleteRecord();\n}","sys_class_name":"sys_script_fix","sys_id":"5f1c1d9904132010f8771b1ef50e490f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd5e23f304752210559073c06a02f753","value":"cd5e23f304752210559073c06a02f753"},"sys_update_name":"sys_script_fix_5f1c1d9904132010f8771b1ef50e490f","sys_updated_by":"maint","sys_created_on":"2021-04-02 20:42:33","name":"PAD: Remove read-only process ui policy","sys_name":"PAD: Remove read-only process ui policy","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"4","description":"There is another app Pattern Designer which was released before PAD and it also has a User Role called 'pd_admin' with a different sysId. When both apps are installed, the platform merges Contained Roles records referencing 'pd_admin' from both apps under a single 'pd_admin' User Role, which ever 'pd_admin' User Role existed on the system first. This creates a security issue. For example if both apps are installed and PAD was installed first, then users who were given the 'pd_admin' role only for accessing PAD will now be able to access Pattern Designer APIs.\r\n\r\nThis Fix Script addresses two issues:\r\n\r\n- If only PAD is installed, swap users with 'pd_admin' role with the new 'playbook.admin' role, then delete the 'pd_admin' User Role.\r\n- If both Pattern Designer and PAD are installed, give users with 'pd_admin' role the new role 'playbook.admin'. We will communicate to our customers that it will be up to them to decide which roles to keep for each user,  'pd_admin'  or 'playbook.admin', or both.\r\n\r\nExisting sys_user_role_contains records referencing 'pd_admin' will be marked with action=\"DELETE\" and new ones referencing 'playbook.admin' will be created in order to ensure the 'pd_admin' role will no longer contain any PAD roles, regardless which app was installed first.","sys_updated_on":"2024-02-27 07:04:38","sys_tags":"","record_for_rollback":"true","script":"var PD_ADMIN_ID = 'a096ad0877230010612c1b1ad9106155';\nvar PD_PLAYBOOK_PD_ADMIN_ID = '40574835a3800210bfba1aaaf31e6117';\n// 1. Give all users with 'pd_admin' role the new role 'playbook.admin'\nvar grExistingUserHasRole = new GlideRecord('sys_user_has_role');\ngrExistingUserHasRole.addQuery('role', PD_ADMIN_ID);\ngrExistingUserHasRole.query();\nwhile (grExistingUserHasRole.next()) {\n    var userId = grExistingUserHasRole.getValue('user');\n    if (!userId) continue;\n    var grNewUserHasRole = new GlideRecord('sys_user_has_role');\n    grNewUserHasRole.setValue('user', userId);\n    grNewUserHasRole.setValue('role', PD_PLAYBOOK_PD_ADMIN_ID);\n    grNewUserHasRole.setValue('state', 'active');\n    grNewUserHasRole.insert();\n}\n// 2. If Pattern Designer is not installed, remove 'pd_admin' role from all users\n// and delete the role record\nif (!GlidePluginManager.isActive('com.sn_pattern_designer')) {\n    grExistingUserHasRole = new GlideRecord('sys_user_has_role');\n    grExistingUserHasRole.addQuery('role', PD_ADMIN_ID);\n    grExistingUserHasRole.query();\n    if (grExistingUserHasRole.hasNext())\n        grExistingUserHasRole.deleteMultiple();\n    var grPDAdminUserRole = new GlideRecord('sys_user_role');\n    if (grPDAdminUserRole.get(PD_ADMIN_ID))\n        grPDAdminUserRole.deleteRecord();\n}","sys_class_name":"sys_script_fix","sys_id":"5f676e4a2d000210abd9de53f28b1a1c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/903e67b304752210559073c06a02f757","value":"903e67b304752210559073c06a02f757"},"sys_update_name":"sys_script_fix_5f676e4a2d000210abd9de53f28b1a1c","sys_updated_by":"admin","sys_created_on":"2024-01-31 22:00:24","name":"Remove pd_admin conditionally","sys_name":"Remove pd_admin conditionally","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":"read"},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Enable audit on asset_reclamation_request table so that work notes can be added.","sys_updated_on":"2024-05-08 19:08:38","sys_tags":"","record_for_rollback":"true","script":"function enableAuditAssetReclamationRequest() {\n\tvar rec = new GlideRecord('sys_dictionary');\n\trec.addQuery('name', 'asset_reclamation_request');\n\trec.addNullQuery('element');\n\trec.setValue('audit', true);\n\trec.updateMultiple();\n}\nenableAuditAssetReclamationRequest();","sys_class_name":"sys_script_fix","sys_id":"5f9d22e1530242109262ddeeff7b12d1","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/45672bfb04b12210559073c06a02f7c5","value":"45672bfb04b12210559073c06a02f7c5"},"sys_update_name":"sys_script_fix_5f9d22e1530242109262ddeeff7b12d1","sys_updated_by":"admin","sys_created_on":"2024-05-08 19:07:08","name":"Enable audit asset reclamation request","sys_name":"Enable audit asset reclamation request","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"During upgrade few instances have  events process 0 as upgrade_safe flag as false, set the flag as true","sys_updated_on":"2023-04-14 20:31:44","sys_tags":"","record_for_rollback":"true","script":"if (!pm.isZboot()){\n\tvar grUpdate = new GlideRecord(\"sys_trigger\");\n\tgrUpdate.addQuery(\"sys_id\", \"437d0d5e8c351110579df12c251e726f\")\t\t// events process 0\n\t.addOrCondition('parent', \"437d0d5e8c351110579df12c251e726f\");\n\tgrUpdate.addQuery(\"upgrade_safe\", \"false\");\n\tgrUpdate.query();\n\twhile (grUpdate.next()) {\n\t\tgrUpdate.upgrade_safe = true;\n\t\tgrUpdate.update();\n\t\tgs.log(\"Update \" + grUpdate.name + \" to be runnable during system upgrade.\");\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"5fc4aa84bcde2110f87747390da93db5","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5fe727ff04b12210559073c06a02f771","value":"5fe727ff04b12210559073c06a02f771"},"sys_update_name":"sys_script_fix_5fc4aa84bcde2110f87747390da93db5","sys_updated_by":"maint","sys_created_on":"2023-04-14 20:29:29","name":"Update events process 0 to be upgrade sa","sys_name":"Update events process 0 to be upgrade-sa","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"6","description":"As a part of sandiego release, in highlighted value condition table (sys_highlighted_value_condition), color and variant fields were newly added, and their default values are positive and tertiary respectively. In zbooted instances, for all the OOB records, both the values were empty, which is working as expected but coming to the upgraded instances, default values are applied to the OOB records, and color field is showing as positive (instead of empty) and variant field is showing as tertiary (instead of empty) and causing problem for existing customers using it, because, as per new implementation, going forward status field is deprecated, and if status field exists, color field would take the precedence and hence the color is being applied, instead of status field value.","sys_updated_on":"2021-10-18 19:22:39","sys_tags":"","record_for_rollback":"true","script":"updateColorValue('sys_highlighted_value_condition', 'color', 'variant');\nfunction updateColorValue(table, colorColumn, variantColumn) {\n\tif (!pm.isZboot()) {\n\t\tvar gr = new GlideRecord(table);\n\t\tgr.query();\n\t\twhile (gr.next()){\n\t\t\tvar status = gr.getValue('status');\n\t\t\tif (status) {\n\t\t\t\tgr.setValue(colorColumn, '');\n\t\t\t\tgr.setValue(variantColumn, '');\n\t\t\t\tgr.update();\n\t\t\t}\n\t\t}\n\t}\n}\n","sys_class_name":"sys_script_fix","sys_id":"5fc5fdd1731330103c066a0c4cf6a70e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/72ac63bb04352210559073c06a02f754","value":"72ac63bb04352210559073c06a02f754"},"sys_update_name":"sys_script_fix_5fc5fdd1731330103c066a0c4cf6a70e","sys_updated_by":"admin","sys_created_on":"2021-10-18 18:52:27","name":"Clear color from highlighted condition","sys_name":"Clear color from highlighted condition","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"This fix script updates the name column value calculation in cmdb_rel_type from calculation to an BR update","sys_updated_on":"2023-12-20 21:38:09","sys_tags":"","record_for_rollback":"true","script":"updateCIRelTypeTable();\n\nfunction updateCIRelTypeTable() {\n    if (pm.isZboot()) {\n        gs.log('Zbooting: no need to do anything');\n        return;\n    }\n\n    var gr = new GlideRecord(\"sys_dictionary\");\n    gr.addQuery(\"name\", \"cmdb_rel_type\");\n    gr.addQuery(\"element\", \"name\");\n\n    gr.query();\n\n    if (gr.next()) {\n        if (gr.getValue(\"virtual\")) {\n            gr.setValue(\"virtual\", false);\n            gr.update();\n        }\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"5fccfde8431b31106d8a8ef0dab8f25c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_5fccfde8431b31106d8a8ef0dab8f25c","sys_updated_by":"admin","sys_created_on":"2023-12-20 20:09:40","name":"Update CI Relations Type Table Record","sys_name":"Update CI Relations Type Table Record","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Set 'glide.create_alm_asset.async' property true for new and zboot instances.","sys_updated_on":"2020-04-13 08:56:14","sys_tags":"","record_for_rollback":"false","script":"var ASSET_ASYNC_PROPERTY = 'glide.create_alm_asset.async';\nif (pm.isZboot()) {\n\tgs.setProperty(ASSET_ASYNC_PROPERTY, 'true');\n}","sys_class_name":"sys_script_fix","sys_id":"5fd5bb8f0f401010967863cda8767ed2","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/45672bfb04b12210559073c06a02f7c5","value":"45672bfb04b12210559073c06a02f7c5"},"sys_update_name":"sys_script_fix_5fd5bb8f0f401010967863cda8767ed2","sys_updated_by":"admin","sys_created_on":"2020-04-13 08:54:08","name":"Set create asset async property to true","sys_name":"Set create asset async property to true","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"This fix script installs index filters to filter out outdated/retired articles from being indexed.","sys_updated_on":"2019-04-26 13:44:01","sys_tags":"","record_for_rollback":"false","script":"var overwrite = false;\nnew KBCommon().installIndexFiltersForKnowledge(false);","sys_class_name":"sys_script_fix","sys_id":"5fd89da53b0133006fa0870044efc4f0","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2fe727ff04b12210559073c06a02f7dd","value":"2fe727ff04b12210559073c06a02f7dd"},"sys_update_name":"sys_script_fix_5fd89da53b0133006fa0870044efc4f0","sys_updated_by":"admin","sys_created_on":"2019-04-26 06:14:03","name":"Install knowledge index filters","sys_name":"Install knowledge index filters","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Adds a default Workspace value to sys_aw_list and sys_aw_list_category to support multiple workspaces.","sys_updated_on":"2019-03-14 22:42:25","sys_tags":"","record_for_rollback":"false","script":"\nvar wsSysId = \"7b24ceae5304130084acddeeff7b12a3\";\nvar wsListGr = new GlideRecord('sys_aw_list');\nwsListGr.addNullQuery(\"workspace\");\nwsListGr.setValue(\"workspace\", wsSysId);\nwsListGr.updateMultiple();\n\n\nvar wsListCatGr = new GlideRecord('sys_aw_list_category');\nwsListCatGr.addNullQuery(\"workspace\");\nwsListCatGr.setValue(\"workspace\", wsSysId);\nwsListCatGr.updateMultiple();\n\n\n","sys_class_name":"sys_script_fix","sys_id":"5fda07775300330055a4ddeeff7b122f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/549c2b7b04352210559073c06a02f7cd","value":"549c2b7b04352210559073c06a02f7cd"},"sys_update_name":"sys_script_fix_5fda07775300330055a4ddeeff7b122f","sys_updated_by":"admin","sys_created_on":"2019-03-14 22:42:25","name":"Add Workspace Value to Lists","sys_name":"Add Workspace Value to Lists","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"In Newyork, name field has display=true. In Orlando, we want to display alias instead of name. We also change the sizes of sys_kmf_algorithm's padding field and sys_kmf_key_metadata's kcv field ","sys_updated_on":"2019-10-22 16:49:36","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('sys_dictionary');\ngr.addQuery('element', 'name');\ngr.addQuery('name', 'sys_kmf_crypto_module');\ngr.query();\nif (gr.next()) {\n\tif (gr.getValue('display') == true){\n\t\tgr.setValue(\"display\", false);\n\t\tgr.update();\n\t}\n}\n\nvar grAlgo = new GlideRecord('sys_dictionary');\ngrAlgo.addQuery('element', 'padding');\ngrAlgo.addQuery('name', 'sys_kmf_algorithm');\ngrAlgo.query();\nif (grAlgo.next()) {\n\tif (grAlgo.getValue('max_length') != 64){\n\t\tgrAlgo.setValue(\"max_length\", 64);\n\t\tgrAlgo.update();\n\t}\n}\n\nvar grMeta = new GlideRecord('sys_dictionary');\ngrMeta.addQuery('element', 'kcv');\ngrMeta.addQuery('name', 'sys_kmf_key_metadata');\ngrMeta.query();\nif (grMeta.next()) {\n\tif (grMeta.getValue('max_length') != 64){\n\t\tgrMeta.setValue(\"max_length\", 64);\n\t\tgrMeta.update();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"5fdf9d1fc7200010e7bacb6b1dc26045","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7f83a3f304312210559073c06a02f787","value":"7f83a3f304312210559073c06a02f787"},"sys_update_name":"sys_script_fix_5fdf9d1fc7200010e7bacb6b1dc26045","sys_updated_by":"admin","sys_created_on":"2019-10-22 16:49:36","name":"Set display value and use alias","sys_name":"Set display value and use alias","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"16","description":"Removes custom glide.graphql.gliderecord.maxResults.limit property if it exists","sys_updated_on":"2025-02-13 05:26:50","sys_tags":"","record_for_rollback":"true","script":"var PROPERTY_NAME = \"glide.graphql.gliderecord.maxResults.limit\";\ntry {\n    removePropertyMaybe();\n} catch (exception) {\n    gs.log(\"Unable to remove custom property \" + PROPERTY_NAME + \" \" + exception);\n}\n\nfunction removePropertyMaybe() {\n    var sysPropertyGr = new GlideRecord('sys_properties');\n    sysPropertyGr.addQuery(\"name\", PROPERTY_NAME);\n    sysPropertyGr.addQuery(\"type\", \"integer\");\n    sysPropertyGr.addQuery(\"value\", 100000);\n    sysPropertyGr.addQuery(\"sys_package.name\", \"Glide Hermes Message Queue\");\n    sysPropertyGr.setLimit(1);\n    sysPropertyGr.query();\n    if (sysPropertyGr.next()) {\n        if (sysPropertyGr.deleteRecord()) {\n            gs.log(\"Deleted custom property \" + PROPERTY_NAME);\n            return;\n        }\n    }\n    gs.log(\"Skipping delete of custom property \" + PROPERTY_NAME);\n}","sys_class_name":"sys_script_fix","sys_id":"5fe79573436312102004bbd32fb8f244","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/03d4abbf04312210559073c06a02f7f9","value":"03d4abbf04312210559073c06a02f7f9"},"sys_update_name":"sys_script_fix_5fe79573436312102004bbd32fb8f244","sys_updated_by":"admin","sys_created_on":"2025-02-12 22:21:35","name":"Hermes Remove Custom Global Property","sys_name":"Hermes Remove Custom Global Property","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"","sys_updated_on":"2024-07-16 10:28:09","sys_tags":"","record_for_rollback":"true","script":"(function() {\n    var gr = new GlideRecord('sys_dictionary');\n    if (!gr.isValid()) { return; }\n    \n    // Query for the ast_contract table and the specific fields\n    gr.addQuery('name', 'ast_contract');\n    gr.addQuery('element', 'monthly_cost').addOrCondition('element', 'yearly_cost');\n    gr.query();\n    \n    gs.info('Setting default value to 0 for monthly_cost & yearly_cost fields of ast_contract');\n    \n    while (gr.next()) {\n        // Check if the field already has default_value set\n        var defaultValue = gr.getValue('default_value');\n        if (gs.nil(defaultValue)) {\n            // If no default_value is set, set it to 0\n            gr.setValue('default_value', '0');\n            gr.update();\n        }\n    }\n}());\n","sys_class_name":"sys_script_fix","sys_id":"6003bf2f7fdb0210b8791b46ec86650d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1a3927f704f12210559073c06a02f7be","value":"1a3927f704f12210559073c06a02f7be"},"sys_update_name":"sys_script_fix_6003bf2f7fdb0210b8791b46ec86650d","sys_updated_by":"admin","sys_created_on":"2024-07-16 08:33:44","name":"Set default value for monthly_cost","sys_name":"Set default value for monthly_cost","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"214","description":"This fix script migrates the legacy theme from sys_sg_client_theme table to sys_ux_theme and sys_ux_style tables if the legacy theme is used by any native client and has color customization.","sys_updated_on":"2023-03-28 16:09:33","sys_tags":"","record_for_rollback":"false","script":"function migrateLegacyThemes() {\n\tgs.info('Migration of legacy mobile themes has started');\n\tvar nativeClientGr = new GlideRecord(\"sys_sg_native_client\");\n\tnativeClientGr.query();\n\tvar uxThemeSysId;\n\tvar createdThemeRecords = {};\n\t\n\twhile (nativeClientGr.next()) {\n\t\t// Check if migration needed for `client_theme` and `navigation`\n\t\tif (gs.nil(nativeClientGr.mobile_theme) && shouldMigrate(nativeClientGr.client_theme, nativeClientGr.navigation)) {\n\t\t\tvar key = nativeClientGr.client_theme.sys_id + nativeClientGr.navigation.sys_id;\n\t\t\tif (key in createdThemeRecords) {\n\t\t\t\tuxThemeSysId = createdThemeRecords[key];\n\t\t\t} else {\n\t\t\t\tuxThemeSysId = createThemeRecords(nativeClientGr.client_theme, nativeClientGr.navigation);\n\t\t\t\tcreatedThemeRecords[key] = uxThemeSysId;\n\t\t\t}\n\t\t\tlinkThemeRecordToNativeClient(uxThemeSysId, nativeClientGr);\n\t\t}\n\t}\n\tgs.info(\"Migration of legacy mobile themes has ended\");\n}\n\nfunction getOOTBRecords() {\n\tvar ootbRecords = {\n\t\t\"Brand\": \"#293e40\",\n\t\t\"Primary\": \"#1f8476\",\n\t\t\"Secondary\": \"#165c53\",\n\t\t\"Destructive\": \"#c83c36\"\n\t};\n\treturn ootbRecords;\n}\n\nfunction shouldMigrate(client_theme, navigation) {\n\treturn shouldMigrateLegacyTheme(client_theme) || shouldMigrateNavigationTheme(navigation);\n}\n\nfunction linkThemeRecordToNativeClient(uxThemeSysId, nativeClientGr) {\n\t// Associating this theme record to the native client\n\tif (!gs.nil(uxThemeSysId)) {\n\t\tnativeClientGr.setValue('mobile_theme', uxThemeSysId);\t\n\t\tnativeClientGr.update();\n\t}\n}\n\nfunction shouldMigrateLegacyTheme(client_theme) {\n\t\n\tif (gs.nil(client_theme))\n\t\treturn false;\n\t\n\tvar legacyThemeColors = client_theme.palette;\n\tvar ootbRecords = getOOTBRecords();\n\t\n\t// compare for any change in colors\n\tfor (colorNameKey in legacyThemeColors) {\n\t\tvar clientCustomColor = legacyThemeColors[colorNameKey];\n\t\tvar nativeColor = ootbRecords[colorNameKey];\n\t\tif (isValidHexColor(clientCustomColor) && isValidColorName(colorNameKey) && clientCustomColor !== nativeColor) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\nfunction shouldMigrateNavigationTheme(navigation) {\n\tif (gs.nil(navigation))\n\t\treturn false;\n\t\n\tvar legacyColor = navigation.color;\n\tvar legacyQuickActionsMenuColor = navigation.quick_actions_menu_color;\n\treturn (!gs.nil(legacyColor) && isValidHexColor(legacyColor)) || (!gs.nil(legacyQuickActionsMenuColor) && isValidHexColor(legacyQuickActionsMenuColor));\n}\n\nfunction isValidColorName(colorName) {\n\tvar ootbColorNames = [\"Brand\", \"Secondary\", \"Primary\", \"Tertiary\", \"Positive\", \"Destructive\"];\n\treturn ootbColorNames.indexOf(colorName) !== -1;\n}\n\nfunction createThemeRecords(client_theme, navigation) {\n\t\n\tvar styleThemePrefix = \"Upgraded Mobile\";\n\tvar styleSuffix = \"Colors\";\n\tvar themeSuffix = \"Theme\";\n\tvar legacyThemeName;\n\tvar legacyStyleName;\n\tvar colorMap;\n\t\n\tif (shouldMigrateLegacyTheme(client_theme)) {\n\t\tlegacyThemeName = styleThemePrefix + \" \" + client_theme.name + \" \" + themeSuffix;\n\t\tlegacyStyleName = styleThemePrefix + \" \" + client_theme.name + \" \" + styleSuffix;\n\t\t\n\t\tcolorMap = transformClientCustomTheme(client_theme.palette);\n\t\t\n\t\t// sets the new swipe action mobile variable colors on migration\n\t\tsetSwipeActionVarColors(colorMap);\n\t}\n\tif (shouldMigrateNavigationTheme(navigation)) {\n\t\t\n\t\tvar navColors = transformNavigationTheme(navigation);\n\t\tif (gs.nil(legacyThemeName)) {\n\t\t\tlegacyThemeName = styleThemePrefix + \" \" + themeSuffix;\n\t\t\tlegacyStyleName = styleThemePrefix + \" \" + styleSuffix;\n\t\t\tcolorMap = navColors;\n\t\t} else {\n\t\t\t// merging the objects `colorMap` and `navColors` into `colorMap`\n\t\t\tfor (navColorKey in navColors) {\n\t\t\t\tcolorMap[navColorKey] = navColors[navColorKey];\n\t\t\t}\n\t\t}\n\t}\n\t\n\tconvertHexToRGB(colorMap);\n\tvar transformedColorMap = {\n\t\t\"nativeMobile\": colorMap\n\t};\n\treturn createRecords(legacyThemeName, legacyStyleName, transformedColorMap);\n}\n\nfunction transformClientCustomTheme(palette) {\n\tvar ootbRecords = getOOTBRecords();\n\tvar colorMap = {};\n\tfor (colorKey in palette) {\n\t\tif (isValidColorName(colorKey)) {\n\t\t\tif (!gs.nil(palette[colorKey]) && isValidHexColor(palette[colorKey]))\n\t\t\t\tcolorMap[colorKey] = palette[colorKey];\n\t\t\telse if (!gs.nil(ootbRecords[colorKey]))\n\t\t\t\tcolorMap[colorKey] = ootbRecords[colorKey];\n\t\t}\n\t}\n\treturn colorMap;\n}\n\nfunction transformNavigationTheme(navigation) {\n\tvar navColors = {};\n\tvar legacyColor = navigation.color;\n\tvar legacyQuickActionsMenuColor = navigation.quick_actions_menu_color;\n\t\n\tif (!gs.nil(legacyColor) && isValidHexColor(legacyColor))\n\t\tnavColors['Navigation Bar Selected'] = navigation.color;\n\t\n\tif (!gs.nil(legacyQuickActionsMenuColor) && isValidHexColor(legacyQuickActionsMenuColor))\n\t\tnavColors['Quick Action Background'] = navigation.quick_actions_menu_color;\n\treturn navColors;\n}\n\nfunction setSwipeActionVarColors(colorMap) {\n\tvar swipeActionSuffix = \"Swipe Action\";\n\tvar swipeActionColorKey;\n\tfor (colorMapKey in colorMap) {\n\t\tif (isValidSwipeActionColorName(colorMapKey)) {\n\t\t\tswipeActionColorKey = colorMapKey + \" \" + swipeActionSuffix;\n\t\t\tcolorMap[swipeActionColorKey] = colorMap[colorMapKey];\n\t\t}\n\t}\n}\n\nfunction isValidSwipeActionColorName(colorName) {\n\tvar swipeActionColorNames = [\"Primary\", \"Secondary\", \"Tertiary\", \"Positive\", \"Destructive\"];\n\treturn swipeActionColorNames.indexOf(colorName) !== -1;\n}\n\nfunction createRecords(customThemeName, customStyleName, transformedLegacyThemeColors) {\n\tvar uxStyleGr = createUXStyleRecord(customStyleName, transformedLegacyThemeColors);\n\tvar uxThemeGr = createUXThemeRecord(customThemeName);\n\tcreateM2MRecords(uxStyleGr, uxThemeGr);\n\treturn uxThemeGr.getValue('sys_id');\n}\n\nfunction createUXStyleRecord(customStyleName, transformedLegacyThemeColors) {\n\tvar uxStyleGr = new GlideRecord(\"sys_ux_style\");\n\tuxStyleGr.initialize();\n\tuxStyleGr.setValue('name', customStyleName);\n\tuxStyleGr.setValue('style', JSON.stringify(transformedLegacyThemeColors));\n\tuxStyleGr.setValue('type', 'core');\n\tuxStyleGr.insert();\n\treturn uxStyleGr;\n}\n\nfunction createUXThemeRecord(customThemeName) {\n\tvar uxThemeGr = new GlideRecord(\"sys_ux_theme\");\n\tuxThemeGr.initialize();\n\tuxThemeGr.setValue('name', customThemeName);\n\tuxThemeGr.setValue('active', 'true');\n\tuxThemeGr.insert();\n\treturn uxThemeGr;\n}\n\nfunction createM2MRecords(uxStyleGr, uxThemeGr) {\n\tvar m2mThemeGr = new GlideRecord('m2m_theme_style');\n\tm2mThemeGr.initialize();\n\tm2mThemeGr.setValue('style', uxStyleGr.getValue('sys_id'));\n\tm2mThemeGr.setValue('order', 100);\n\tm2mThemeGr.setValue('theme', uxThemeGr.getValue('sys_id'));\n\tm2mThemeGr.insert();\n\t\n\t// Associating the Legacy Mobile Style to the Upgraded Mobile Legacy theme record\n\t// Using `sys_id` of `Mobile Colors Legacy` style record\n\tm2mThemeGr = new GlideRecord('m2m_theme_style');\n\tm2mThemeGr.initialize();\n\tm2mThemeGr.setValue('style', '4ed92c375b411110848b28582d81c7d2');\n\tm2mThemeGr.setValue('order', 0);\n\tm2mThemeGr.setValue('theme', uxThemeGr.getValue('sys_id'));\n\tm2mThemeGr.insert();\n}\n\nfunction convertHexToRGB(legacyThemeColors) {\n\tfor (colorName in legacyThemeColors) {\n\t\tvar rgbColor = hexToRGB(legacyThemeColors[colorName]);\n\t\tlegacyThemeColors[colorName] = rgbColor;\n\t}\n}\n\nfunction hexToRGB(hexColor) {\n\tvar regExp = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;\n\tvar rgbArray = regExp.exec(hexColor);\n\tvar rgb = \"\";\n\tif (!gs.nil(rgbArray)) {\n\t\trgb = [parseInt(rgbArray[1], 16), parseInt(rgbArray[2], 16), parseInt(rgbArray[3], 16)].join(',');\n\t}\n\treturn rgb ? rgb : null;\n}\n\nfunction isValidHexColor(hexColor) {\n\tvar regExp = /^#[0-9A-F]{6}$/i;\n\treturn regExp.test(hexColor);\n}\n\nmigrateLegacyThemes();","sys_class_name":"sys_script_fix","sys_id":"6014cd61776511109560df454b5a99cb","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/32f4abff04312210559073c06a02f765","value":"32f4abff04312210559073c06a02f765"},"sys_update_name":"sys_script_fix_6014cd61776511109560df454b5a99cb","sys_updated_by":"admin","sys_created_on":"2022-08-26 02:46:09","name":"Migrate legacy mobile themes","sys_name":"Migrate legacy mobile themes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"4","description":"Update cascade rule for task.universal_request","sys_updated_on":"2020-04-15 08:31:47","sys_tags":"","record_for_rollback":"false","script":"fixCascadeRuleForUniversalRequest();\n\nfunction fixCascadeRuleForUniversalRequest() {\n\tif (pm.isZboot())\n\t\treturn;\n\n\tvar dictionaryGr = new GlideRecord('sys_dictionary');\n\tdictionaryGr.addQuery('name', 'task');\n\tdictionaryGr.addQuery('element', 'universal_request');\n\tdictionaryGr.query();\n\tif (dictionaryGr.next() && dictionaryGr.getValue('reference_cascade_rule') != 'none') {\n\t\tdictionaryGr.setValue('reference_cascade_rule', 'none');\n\t\tdictionaryGr.update();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"60be317373081010888b6238edf6a7e4","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2c672bfb04b12210559073c06a02f70a","value":"2c672bfb04b12210559073c06a02f70a"},"sys_update_name":"sys_script_fix_60be317373081010888b6238edf6a7e4","sys_updated_by":"admin","sys_created_on":"2020-04-15 08:00:37","name":"Update cascade rule task.universal_reque","sys_name":"Update cascade rule task.universal_reque","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Rename the system property \"incident.refresh_impacted.include_affected_cis\" to \"com.snc.incident.refresh_impacted.include_affected_cis\" to be inline with the rest of refresh impacted service through ITSM","sys_updated_on":"2021-10-19 08:20:39","sys_tags":"","record_for_rollback":"true","script":"var prop = new GlideRecord('sys_properties');\nif (prop.get('name', 'incident.refresh_impacted.include_affected_cis')) {\n\tprop.setValue('name', 'com.snc.incident.refresh_impacted.include_affected_cis');\n\tprop.update();\n}","sys_class_name":"sys_script_fix","sys_id":"61103ca9239b70108cd8dc1756bf653e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d2b76f7f04b12210559073c06a02f78a","value":"d2b76f7f04b12210559073c06a02f78a"},"sys_update_name":"sys_script_fix_61103ca9239b70108cd8dc1756bf653e","sys_updated_by":"admin","sys_created_on":"2021-10-19 08:20:16","name":"Rename incident refresh services","sys_name":"Rename incident refresh services","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"The following Script is responsible to migrate any ssh_private_key data encrypted in 3DES format to the new KMF format","sys_updated_on":"2024-10-01 21:20:16","sys_tags":"","record_for_rollback":"true","script":"gs.log(\"Initiating the SSH Private Key Migration Fix Script...\");\nSSHPrivateKeyCredentialUtils.migrateDataWithRetry(1);\ngs.log(\"SSH Private Key Migration Fix Script completed.\");\n ","sys_class_name":"sys_script_fix","sys_id":"61c71e577730121018881b699a5a99a5","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/91d8237704f12210559073c06a02f73b","value":"91d8237704f12210559073c06a02f73b"},"sys_update_name":"sys_script_fix_61c71e577730121018881b699a5a99a5","sys_updated_by":"admin","sys_created_on":"2024-09-27 21:04:31","name":"SSHPrivateKeyMigration","sys_name":"SSHPrivateKeyMigration","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Set association of Change Request to CI by classname of CI to true for zboot.","sys_updated_on":"2022-03-08 11:15:55","sys_tags":"","record_for_rollback":"false","script":"if (GlidePluginManager.isZboot())\n\tgs.setProperty('com.snc.change_request.associate_by_ci_class_type_extension', 'true');","sys_class_name":"sys_script_fix","sys_id":"6217d22e53020110610bddeeff7b12a1","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/32b7af7f04b12210559073c06a02f7fb","value":"32b7af7f04b12210559073c06a02f7fb"},"sys_update_name":"sys_script_fix_6217d22e53020110610bddeeff7b12a1","sys_updated_by":"admin","sys_created_on":"2022-03-08 11:15:55","name":"Associate CI to Change by CI classname","sys_name":"Associate CI to Change by CI classname","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"2","description":"Remove the ACLs auto-generated via table attributes on sys_hub_category. New explicit ACLs will replace these.","sys_updated_on":"2020-11-05 20:49:38","sys_tags":"","record_for_rollback":"false","script":"(function() {\n    //This Fix script should only run for Upgrade not for Zboot.\n    if (pm.isZboot())\n        return;\n    var aclGr = new GlideRecord('sys_security_acl');\t\n    aclGr.addQuery('name','sys_hub_category').addOrCondition('name','sys_hub_category.*').addOrCondition('name','sys_hub_category.sys_scope');\n    aclGr.query();\t\n    while(aclGr.next()) {\n    \tvar rolesUpdatedByCustomer = false;\n        var roleGr = getRolesForAcl(aclGr);\n        while(roleGr.next()){\n        \tif (SncAppFiles.hasCustomerUpdate(roleGr)) {\n\t\t\t\tgs.info('Customer update found for sys_security_acl_role ' + roleGr.getUniqueValue());\n\t\t\t\trolesUpdatedByCustomer = true;\n\t\t\t}\n        }\n      \n       \tif (!rolesUpdatedByCustomer && !SncAppFiles.hasCustomerUpdate(aclGr)) {\n       \t\tvar rolesForDeletion = getRolesForAcl(aclGr);\n       \t\twhile (rolesForDeletion.next()) {\n\t\t\t\tgs.info('Deleting sys_security_acl_role ' + rolesForDeletion.getUniqueValue());\n       \t\t\trolesForDeletion.deleteRecord();\n       \t\t}\n\t\t\tgs.info('Deleting sys_security_acl ' + aclGr.getUniqueValue());\n\t\t\taclGr.deleteRecord();\n\t\t} else {\n\t\t\tgs.info('Customer update found, skipping sys_security_acl ' + aclGr.getUniqueValue());\n\t\t}\n    }\n    \n    function getRolesForAcl(aclGr) {\n        var roleGr = new GlideRecord('sys_security_acl_role');\n        roleGr.addQuery('sys_security_acl', aclGr.getValue('sys_id'));\t\n        roleGr.query();\n        return roleGr;\n    }\n}());","sys_class_name":"sys_script_fix","sys_id":"62f8b9e90f106010f4166fe7c4767ea5","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/de9b2ff304352210559073c06a02f782","value":"de9b2ff304352210559073c06a02f782"},"sys_update_name":"sys_script_fix_62f8b9e90f106010f4166fe7c4767ea5","sys_updated_by":"admin","sys_created_on":"2020-11-05 14:27:39","name":"Remove sys_hub_category ACLs","sys_name":"Remove sys_hub_category ACLs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"1","description":"This fix script deletes the old branding indexes prior quebec.","sys_updated_on":"2021-10-25 18:01:40","sys_tags":"","record_for_rollback":"false","script":"var util = new GlideIndexUtils();\nvar table = \"sys_cs_branding_setup\";\nutil.dropByName(table, \"branding_name\");\nutil.dropByName(table, \"branding_key\");","sys_class_name":"sys_script_fix","sys_id":"631da881532310109686ddeeff7b1277","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/24a3b33704b52210559073c06a02f7d4","value":"24a3b33704b52210559073c06a02f7d4"},"sys_update_name":"sys_script_fix_631da881532310109686ddeeff7b1277","sys_updated_by":"admin","sys_created_on":"2020-09-27 12:41:36","name":"Delete Old branding indexes","sys_name":"Delete Old branding indexes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"For zboot only, set the default value of the \"Flow\" field on the SLA Definition [\"contract_sla\"] table to \"Default SLA Flow\"","sys_updated_on":"2019-09-15 23:38:48","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tif (pm.isZboot()) {\n\t\tvar defaultSLAFlow = \"Default SLA Flow\";\n\n\t\tvar sysDictionaryGr = new GlideRecord('sys_dictionary');\n\t\tsysDictionaryGr.addQuery('name', 'contract_sla');\n\t\tsysDictionaryGr.addQuery('element', 'flow');\n\t\tsysDictionaryGr.query();\n\n\t\tif (!sysDictionaryGr.next())\n\t\t\treturn;\n\n\t\tvar sysHubFlowGr = new GlideRecord(\"sys_hub_flow\");\n\t\tsysHubFlowGr.addQuery(\"name\", defaultSLAFlow);\n\t\tsysHubFlowGr.query();\n\t\t\n\t\tif (!sysHubFlowGr.next())\n\t\t\treturn;\n\t\t\n\t\tsysDictionaryGr.setValue(\"default_value\", defaultSLAFlow);\n\t\tsysDictionaryGr.update();\n\t}\n})();","sys_class_name":"sys_script_fix","sys_id":"63579c2773333300e289235f04f6a775","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0fbb2b3704352210559073c06a02f702","value":"0fbb2b3704352210559073c06a02f702"},"sys_update_name":"sys_script_fix_63579c2773333300e289235f04f6a775","sys_updated_by":"admin","sys_created_on":"2019-09-15 23:37:17","name":"Set default Flow value on SLA Definition","sys_name":"Set default Flow value on SLA Definition","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"0","description":"This fix script will migrate Performance Analytics  application menu to apply_once folder to maintain the distinguished behavior between zbooted and upgraded customers\r\n","sys_updated_on":"2023-12-19 17:58:25","sys_tags":"","record_for_rollback":"true","script":"if (!pm.isZboot()) {\n    var PERFORMANCE_ANALYTICS_FILE_NAME = 'sys_app_application_00ede6001b120100763d91eebc07137f.xml';\n    sn_applyonce.ApplyOnce.doNotUpdate(PERFORMANCE_ANALYTICS_FILE_NAME);\n    gs.info('Following application Menus were migrated to apply_once folder:' + PERFORMANCE_ANALYTICS_FILE_NAME);\n}","sys_class_name":"sys_script_fix","sys_id":"63b6d4904f1b311024856f2efdce0baa","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/539a23bf04f12210559073c06a02f7aa","value":"539a23bf04f12210559073c06a02f7aa"},"sys_update_name":"sys_script_fix_63b6d4904f1b311024856f2efdce0baa","sys_updated_by":"admin","sys_created_on":"2023-12-19 17:58:25","name":"Migrate PA to apply_once folder","sys_name":"Migrate PA to apply_once folder","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"4","description":"","sys_updated_on":"2022-08-30 13:02:45","sys_tags":"","record_for_rollback":"true","script":"// Delete Old Diagnostic Records\n\nvar old_tables = [\"ci_diagnostic_kb\", \"ci_diagnostic_script\"];\n\nold_tables.forEach(function(table) {\n    if (gs.tableExists(table))\n        deleteAllRecords(table);\n});\n\nfunction deleteAllRecords(table) {\n    var gr = new GlideRecord(table);\n    gr.query();\n    gr.deleteMultiple();\n}\n\n\n// Delete - Old Diagnostic Topic, 4 Topic Blocks, Old Check AWA Issues topic\nvar topics = [\"06b0f875535db410f738ddeeff7b1286\", \"ef01b0b5535db410f738ddeeff7b12bd\", \"0ae0bc75535db410f738ddeeff7b12e5\", \"cad07c75535db410f738ddeeff7b125c\", \"eff030b5535db410f738ddeeff7b12cc\", \"f8854d6fc34e3010d81b6e221f40dda2\"];\n\ndeleteOldTopics(topics);\n\nfunction deleteOldTopics(topics) {\n    var gr = new GlideRecord(\"sys_cb_topic\");\n    gr.addQuery(\"sys_id\", topics);\n    gr.query();\n    gr.deleteMultiple();\n\n}","sys_class_name":"sys_script_fix","sys_id":"63d188dc53720110d3d5ddeeff7b12cc","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/434a64fd531db410f738ddeeff7b12c7","value":"434a64fd531db410f738ddeeff7b12c7"},"sys_update_name":"sys_script_fix_63d188dc53720110d3d5ddeeff7b12cc","sys_updated_by":"admin","sys_created_on":"2022-04-07 09:28:46","name":"Delete old content for Diagnostic Tool","sys_name":"Delete old content for Diagnostic Tool","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/434a64fd531db410f738ddeeff7b12c7","value":"434a64fd531db410f738ddeeff7b12c7"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Added AND_OR_ENHANCED to glide.ais.query.search_operator, which uses OR when there's more than 2 key words in the search query. This will be set to the default search query mode for new customers.","sys_updated_on":"2023-09-05 15:45:51","sys_tags":"","record_for_rollback":"true","script":"// add new search query mode for everyone\nvar gr = new GlideRecord(\"sys_properties\");\ngr.addQuery(\"name\",\"glide.ais.query.search_operator\");\ngr.query();\nif(gr.next()) {\n    gr.setValue(\"choices\",\"AND then OR 2+ key terms=AND_OR_ENHANCED, AND then OR query=AND_OR, OR query=OR\");\n    gr.update();\n    gs.log('new search query mode added');\n}\n\n// if new customer instance, update default value to new search query mode\nif (pm.isZboot()) {\n    gr.setValue(\"value\",\"AND_OR_ENHANCED\");\n    gr.update();\n    gs.log('modified default search query mode');\n}","sys_class_name":"sys_script_fix","sys_id":"64288792c3013110c51402fca140dd27","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/76946b3f04312210559073c06a02f73b","value":"76946b3f04312210559073c06a02f73b"},"sys_update_name":"sys_script_fix_64288792c3013110c51402fca140dd27","sys_updated_by":"admin","sys_created_on":"2023-09-05 15:45:51","name":"add new value for search operator ","sys_name":"add new value for search operator ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Update the field_type column's internal type from `internal_type` to `choice`. Additionally, create choice records for support field types.","sys_updated_on":"2019-10-17 23:41:20","sys_tags":"","record_for_rollback":"false","script":"updateFieldType();\n\nfunction updateFieldType() {\n    if (pm.isZboot())\n        return;\n    \n    updateInternalType();\n    generateChoices();\n}\n\nfunction updateInternalType() {\n    var gr = new GlideRecord('sys_dictionary');\n    gr.addQuery('name', 'sys_declarative_action_assignment');\n    gr.addQuery('element', 'field_type');\n    gr.query();\n\n    while(gr.next()) {\n        gr.setValue('internal_type', 'choice');\n        gr.setValue('choice', 3);\n        gr.setValue('default_value', 'glide_date');\n        gr.update();\n    }\n}\n\nfunction generateChoices() {\n    var choices = [\n    {\n        label: 'Date',\n        value: 'glide_date'\n    },\n    {\n        label: 'Date/Time',\n        value: 'glide_date_time'\n    },\n    {\n        label: 'Decimal',\n        value: 'decimal'\n    },\n    {\n        label: 'Email',\n        value: 'email'\n    },\n    {\n        label: 'Floating point number',\n        value: 'float'\n    },\n    {\n        label: 'Integer',\n        value: 'integer'\n    },\n    {\n        label: 'Password (1-way encrypted)',\n        value: 'password'\n    },\n    {\n        label: 'Phone Number',\n        value: 'ph_number'\n    },\n    {\n        label: 'Phone Number (E164)',\n        value: 'phone_number_e164'\n    },\n    {\n        label: 'Reference',\n        value: 'reference'\n    },\n    {\n        label: 'String',\n        value: 'string'\n    }];\n\n    choices.map(function(choice, index) {\n        var choiceGR = new GlideRecord('sys_choice');\n        choiceGR.initialize();\n        choiceGR.setValue('name', 'sys_declarative_action_assignment');\n        choiceGR.setValue('element', 'field_type');\n        choiceGR.setValue('language', 'en');\n        choiceGR.setValue('label', choice.label);\n        choiceGR.setValue('value', choice.value);\n        choiceGR.setValue('sequence', index + 1);\n        choiceGR.insert();\n    });\n}","sys_class_name":"sys_script_fix","sys_id":"645144db531000103eddddeeff7b1285","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f39caf7b04352210559073c06a02f73f","value":"f39caf7b04352210559073c06a02f73f"},"sys_update_name":"sys_script_fix_645144db531000103eddddeeff7b1285","sys_updated_by":"admin","sys_created_on":"2019-10-09 23:41:20","name":"Update field_type column for DA","sys_name":"Update field_type column for DA","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"0","description":"Updates the dictionary entry for pa_dashboards.color, to have an empty value. The default can then be themable to light/dark mode.","sys_updated_on":"2024-03-11 12:58:32","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('sys_dictionary');\ngr.addEncodedQuery('name=pa_dashboards^element=color');\ngr.query();\nif (gr.next()) {\n  gr.setValue('default_value', '');\n  gr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"64dda6b2437c4a10561a864e3ab8f2ff","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/539a23bf04f12210559073c06a02f7aa","value":"539a23bf04f12210559073c06a02f7aa"},"sys_update_name":"sys_script_fix_64dda6b2437c4a10561a864e3ab8f2ff","sys_updated_by":"admin","sys_created_on":"2024-03-11 12:58:32","name":"Fix pa_dashboards.color default value","sys_name":"Fix pa_dashboards.color default value","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"5","description":"","sys_updated_on":"2021-09-16 02:00:46","sys_tags":"","record_for_rollback":"false","script":"GlideSysLog.info(\"AIS-FixScript\", \"Starting 'Update AIS Locale Selection' Script\");\nvar columns = new GlideRecord('sys_dictionary');\ncolumns.addQuery('name', 'IN', 'ais_dictionary,ais_rule');\ncolumns.addQuery('element', 'locale');\ncolumns.query();\nvar ruleAttributes = ['is_searchable_choice=true', 'choice_script=new global.AisLanguageChoiceList().process(true)'];\nvar dictionaryAttributes = ['is_searchable_choice=true', 'choice_script=new global.AisLanguageChoiceList().process(false)'];\nwhile (columns.next()) {\n    var curAttributes = columns.getValue('attributes');\n    var table = columns.getValue('name');\n    var element = columns.getValue('element');\n    var name = table + \".\" + element;\n    var newAttributes = dictionaryAttributes;\n\t\n    if (table == 'ais_rule') \n\t\tnewAttributes = ruleAttributes;\n    columns.setValue('attributes', newAttributes.join(','));\n\t\n    GlideSysLog.info(\"AIS-FixScript\", \"Updating \" + name + \" to \" + newAttributes.join(','));\n    columns.setValue('choice_field', null);\n    columns.setValue('choice_table', null);\n    GlideSysLog.info(\"AIS-FixScript\", \"Updating \" + name + \" choice to 3\");\n    columns.setValue('choice', 3);\n    columns.update();\n}","sys_class_name":"sys_script_fix","sys_id":"6538513ae8a23010f8773f11e4266390","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/76946b3f04312210559073c06a02f73b","value":"76946b3f04312210559073c06a02f73b"},"sys_update_name":"sys_script_fix_6538513ae8a23010f8773f11e4266390","sys_updated_by":"maint","sys_created_on":"2021-09-16 01:38:37","name":"Update AIS Locale Selection","sys_name":"Update AIS Locale Selection","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"Ensures that all included end point types are derived from cmdb_ci_endpoint_inclusion and performs reparenting if need","sys_updated_on":"2015-12-23 11:58:35","sys_tags":"","record_for_rollback":"false","script":"var endpointTypes = ['cmdb_ci_endpoint_iis',\n\t\t\t\t\t 'cmdb_ci_endpoint_j2ee_ear',\n\t\t\t\t\t 'cmdb_ci_endpoint_wmb_flow',\n\t\t\t\t\t 'cmdb_ci_endpoint_ebs',\n\t\t\t\t\t 'cmdb_ci_endpoint_oracle_db_schema',\n\t\t\t\t\t 'cmdb_ci_endpoint_jrun',\n\t\t\t\t\t 'cmdb_ci_endpoint_jms_queue',\n\t\t\t\t\t 'cmdb_ci_endpoint_jboss',\n\t\t\t\t\t 'cmdb_ci_endpoint_ssis_job',\n\t\t\t\t\t 'cmdb_ci_endpoint_ems_queue',\n\t\t\t\t\t 'cmdb_ci_endpoint_tibco_bw_proc',\n\t\t\t\t\t 'cmdb_ci_endpoint_ms_sql',\n\t\t\t\t\t 'cmdb_ci_endpoint_ucs',\n\t\t\t\t\t 'cmdb_ci_endpoint_aq_queue',\n\t\t\t\t\t 'cmdb_ci_endpoint_xenapp_citrx',\n\t\t\t\t\t 'cmdb_ci_endpoint_glassfish_war',\n\t\t\t\t\t 'cmdb_ci_endpoint_sharepoint_service',\n\t\t\t\t\t 'cmdb_ci_endpoint_biztalk_orch',\n\t\t\t\t\t 'cmdb_ci_endpoint_oracle_tns',\n\t\t\t\t\t 'cmdb_ci_endpoint_mq_queue',\n\t\t\t\t\t 'cmdb_ci_endpoint_weblogic_module',\n\t\t\t\t\t 'cmdb_ci_endpoint_ldap_db',\n\t\t\t\t\t 'cmdb_ci_endpoint_oracle_ias',\n\t\t\t\t\t 'cmdb_ci_endpoint_tomcat_war',\n\t\t\t\t\t 'cmdb_ci_endpoint_ad_service_in',\n\t\t\t\t\t 'cmdb_ci_endpoint_app',\n\t\t\t\t\t 'cmdb_ci_endpoint_sap_bo_servers',\n\t\t\t\t\t 'cmdb_ci_endpoint_sim_inc',\n\t\t\t\t\t 'cmdb_ci_endpoint_storefront_comp'\n\t\t\t\t\t];\nvar dbom = GlideDBObjectManager.get();\nvar gr;\nvar gtpc;\nvar parentType;\n\ngs.log('Check included endpoints parenting...');\nfor (var i = 0; i < endpointTypes.length; i++) {\n\tgs.log('Reparenting endpoint of type ' + endpointTypes[i] + '...');\n    gr = new GlideRecord(endpointTypes[i]);\n\tif (!gr.isValid()) {\n\t\tgs.log('Not exists in current configuration.');\n\t\tcontinue;\n\t}\n\tparentType = dbom.getBase(endpointTypes[i]);\n\tif (parentType == 'cmdb_ci_endpoint_inclusion') {\n\t\tgs.log('Already has proper parent.');\n\t\tcontinue;\n\t}\n\n\tgtpc = new GlideTableParentChange(endpointTypes[i]);\n\tgtpc.setLiftTuplesToParent(false);\n\tif (gtpc.change(parentType, 'cmdb_ci_endpoint_inclusion'))\n\t\tgs.log('Reparented successfully.');\n\telse\n\t\tgs.log('Failed to reparent.');\n\n}\n\n","sys_class_name":"sys_script_fix","sys_id":"6541af30f3201200c3fcae4716612b12","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_6541af30f3201200c3fcae4716612b12","sys_updated_by":"admin","sys_created_on":"2015-12-23 11:36:27","name":"Check included end point types parenting","sys_name":"Check included end point types parenting","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Disable Audit for ml_class table","sys_updated_on":"2024-03-28 20:26:40","sys_tags":"","record_for_rollback":"true","script":"\n      var tablesList = [\"ml_class\"];\ndisableAudit();\n\nfunction disableAudit() {\n\tgs.info(\"Executing PI fix script: Reduce audit footprint \" + tablesList);\n\tvar gr = new GlideRecord('sys_dictionary');\n\tgr.addQuery('name', 'IN', tablesList);\n\tgr.addQuery('internal_type', 'collection');\n\tgr.addQuery(\"audit\", true);\n\n\tgr.setValue(\"audit\", false);\n\tgr.updateMultiple();\n}","sys_class_name":"sys_script_fix","sys_id":"658a6e71478d0210926d7372846d4335","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_script_fix_658a6e71478d0210926d7372846d4335","sys_updated_by":"admin","sys_created_on":"2024-03-20 20:26:40","name":"Disable Audit on PI ML Tables","sys_name":"Disable Audit on PI ML Tables","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Ensures backward compatibility for when Responsive Canvas is switched off.","sys_updated_on":"2016-09-06 13:20:17","sys_tags":"","record_for_rollback":"false","script":"// Find the corresponding \"sys_portal_page\" sys_id for every \"sys_portal\" widget where \"page\" field is empty.\nvar grPortal = new GlideRecord('sys_portal');\ngrPortal.addNullQuery('page');\ngrPortal.query();\nwhile (grPortal.next()) {\n\tvar grCanvasPane = new GlideRecord('sys_grid_canvas_pane');\n\tgrCanvasPane.addQuery('portal_widget', grPortal.getUniqueValue());\n\tgrCanvasPane.query();\n\tif (grCanvasPane.next()) {\n\t\tvar grCanvas = new GlideRecord('sys_grid_canvas');\n\t\tif (grCanvas.get(grCanvasPane.getValue('grid_canvas'))) {\n\t\t\tgrPortal.setValue('page', grCanvas.getValue('legacy_page'));\n\t\t\tgrPortal.update();\n\t\t}\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"662e2cc0d7312200a8228f0b6e61035c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4d1bab3304352210559073c06a02f767","value":"4d1bab3304352210559073c06a02f767"},"sys_update_name":"sys_script_fix_662e2cc0d7312200a8228f0b6e61035c","sys_updated_by":"admin","sys_created_on":"2016-09-06 13:20:17","name":"Fix widget page id","sys_name":"Fix widget page id","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Set a value to the field \"client_action\" for action assignments","sys_updated_on":"2019-09-25 00:10:13","sys_tags":"","record_for_rollback":"false","script":"updateClientActions();\n\nfunction updateClientActions() {\n\tvar gr = new GlideRecord('sys_declarative_action_assignment');\n\tgr.addQuery('action.action_type', '=' ,'dispatch_action');\n\tgr.addQuery('client_action', '=', '');\n\tgr.query();\n\n\twhile (gr.next()) {\n\t\tvar actionDefSysId = gr.getValue('action');\n\t\tvar clientAction = getPayloadDefSysId(actionDefSysId);\n\n\t\tgr.setValue('client_action', clientAction);\n\t\tgr.setValue('declarative_action_type', 'dispatch_action');\n\t\tgr.update();\n\t}\n}\n\nfunction getPayloadDefSysId(actionDefSysId) {\n\tvar actionDef = new GlideRecord('sys_declarative_action_definition');   \n\tif (!actionDef.get(actionDefSysId))\n\t\treturn '';\n\n\tvar dispatchKey = actionDef.getValue('dispatch_action');\n\tvar payloadDef = new GlideRecord('sys_declarative_action_payload_definition');\n\tpayloadDef.addQuery('action_key', dispatchKey);\n\tpayloadDef.query();\n\t\n\tif (payloadDef.next())\n\t\treturn payloadDef.getUniqueValue();\n\t\n\treturn '';\n}","sys_class_name":"sys_script_fix","sys_id":"66e6ba56530000103eddddeeff7b12a6","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f39caf7b04352210559073c06a02f73f","value":"f39caf7b04352210559073c06a02f73f"},"sys_update_name":"sys_script_fix_66e6ba56530000103eddddeeff7b12a6","sys_updated_by":"admin","sys_created_on":"2019-09-25 00:10:13","name":"Fix empty client action","sys_name":"Fix empty client action","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Add 'Health Log Analytics' discovery source","sys_updated_on":"2021-11-29 23:13:23","sys_tags":"","record_for_rollback":"false","script":"var dsUtil = new global.CMDBDataSourceUtil();\ndsUtil.addDataSource(\"Health Log Analytics\");","sys_class_name":"sys_script_fix","sys_id":"6740c7fac384095058591fcd6140ddf6","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_6740c7fac384095058591fcd6140ddf6","sys_updated_by":"admin","sys_created_on":"2021-11-29 23:13:23","name":"Add HLA discovery source","sys_name":"Add HLA discovery source","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Updating label for the table \"sp_page_title_variable\" from \"Dynamic page title variables\" to \"Dynamic page variables\"","sys_updated_on":"2022-09-21 11:48:34","sys_tags":"","record_for_rollback":"false","script":"if (!pm.isZboot()) {\n\tgs.info('Updating label for the table \"sp_page_title_variable\" from \"Dynamic page title variables\" to \"Dynamic page variables\"');\n\tvar glideRecord = new GlideRecord('sys_db_object');\n\tglideRecord.addQuery('name', '=', 'sp_page_title_variable');\n\tglideRecord.query();\n\tif(glideRecord.next()) {\n\t\tglideRecord.setValue('label', 'Dynamic page variables');\n\t\tglideRecord.update();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"6799f2dd77c211103b0efc3eaf5a99a3","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/69996b7b04f12210559073c06a02f7e2","value":"69996b7b04f12210559073c06a02f7e2"},"sys_update_name":"sys_script_fix_6799f2dd77c211103b0efc3eaf5a99a3","sys_updated_by":"admin","sys_created_on":"2022-09-21 13:14:44","name":"Update Label of \"sp_page_title_variable\"","sys_name":"Update Label of \"sp_page_title_variable\"","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Remove update_sync from ais_search_profile_relevancy_model","sys_updated_on":"2020-11-30 19:06:38","sys_tags":"","record_for_rollback":"false","script":"gs.log('Fix AisSearchProfileRelevancyModelAttr: Remove update_synch attribute');\nSNC.DictionaryAttribute.remove(\"ais_search_profile_relevancy_model\", \"\", \"update_synch\");\ngs.log('Fix AisSearchProfileRelevancyModelAttr: Completed remove attribute');","sys_class_name":"sys_script_fix","sys_id":"68e26f61773460102d71af61681061f3","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/76946b3f04312210559073c06a02f73b","value":"76946b3f04312210559073c06a02f73b"},"sys_update_name":"sys_script_fix_68e26f61773460102d71af61681061f3","sys_updated_by":"admin","sys_created_on":"2020-11-30 19:06:38","name":"Remove update_sync from Relevancy Model","sys_name":"Remove update_sync from Relevancy Model","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Ensures correct DISH version is running immediately after upgrade","sys_updated_on":"2024-04-25 21:38:09","sys_tags":"","record_for_rollback":"true","script":"new global.DISHVersion().setVersion();","sys_class_name":"sys_script_fix","sys_id":"68eb08ad4335021050bb6e702cb8f2c6","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4e646fbb04312210559073c06a02f721","value":"4e646fbb04312210559073c06a02f721"},"sys_update_name":"sys_script_fix_68eb08ad4335021050bb6e702cb8f2c6","sys_updated_by":"admin","sys_created_on":"2024-04-25 21:04:46","name":"Run DISH version setter","sys_name":"Run DISH version setter","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"3","description":"","sys_updated_on":"2020-04-06 23:14:12","sys_tags":"","record_for_rollback":"false","script":"var dictionary = new GlideRecord(\"sys_dictionary\");\nif (dictionary.isValid()) {\n    dictionary.addQuery(\"name\", \"sys_declarative_action_assignment\");\n    dictionary.addQuery(\"element\", \"specificity\");\n    dictionary.query();\n    if (dictionary.next()) {\n        dictionary.setValue(\"virtual\", false);\n\t\tdictionary.setValue(\"calculation\", \"\");\n        dictionary.update();\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"6902ba81c7001010099a308dc7c26045","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9693e7f304312210559073c06a02f7f5","value":"9693e7f304312210559073c06a02f7f5"},"sys_update_name":"sys_script_fix_6902ba81c7001010099a308dc7c26045","sys_updated_by":"admin","sys_created_on":"2020-04-06 22:44:36","name":"Make specificity non calculated - DA","sys_name":"Make specificity non calculated - DA","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"This fix is as part of DEF0178014. Upgrade from Orlando to next release version like Paris and\n\t\t\tonwards have created extra flow designer jobs. This script will remove obsolete flow jobs which were created prior to Paris.\n\t\t","sys_updated_on":"2021-04-22 18:45:36","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord(\"sys_trigger\");\ngr.addEncodedQuery(\"name=Flow Engine Event Handler^system_id=ACTIVE NODES^job_context=NULL^ORjob_contextNOT LIKEfcQueue\")\ngr.deleteMultiple();\n","sys_class_name":"sys_script_fix","sys_id":"6969a90cc7332010b59949f988c2608a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/063be77304352210559073c06a02f7e4","value":"063be77304352210559073c06a02f7e4"},"sys_update_name":"sys_script_fix_6969a90cc7332010b59949f988c2608a","sys_updated_by":"admin","sys_created_on":"2021-04-22 17:55:54","name":"Remove obsolete flow designer jobs","sys_name":"Remove obsolete flow designer jobs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2024-06-05 12:43:04","sys_tags":"","record_for_rollback":"true","script":"if (!GlidePluginManager.isZboot()) {\n    SNC.DictionaryAttribute.set('user_criteria', 'user', 'no_email', 'true');\n}","sys_class_name":"sys_script_fix","sys_id":"69a1616eff620210e048751b03cb1437","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7af4abff04312210559073c06a02f771","value":"7af4abff04312210559073c06a02f771"},"sys_update_name":"sys_script_fix_69a1616eff620210e048751b03cb1437","sys_updated_by":"admin","sys_created_on":"2024-06-05 12:36:49","name":"Remove email box on field in UC","sys_name":"Remove email box on field in UC","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"Fix script to set audit for sys_cluster_state when upgrading to Washington","sys_updated_on":"2023-09-25 23:00:09","sys_tags":"","record_for_rollback":"true","script":"enableSysClusterStateAudit();\n\nfunction enableSysClusterStateAudit() {\n\tvar gr = new GlideRecord('sys_dictionary');\n\tgr.addQuery('name', 'sys_cluster_state');\n\tgr.addQuery('internal_type', 'collection');\n\tgr.addNullQuery('element');\n\tgr.setWorkflow(false);\n\tgr.query();\n\tif (gr.next()) {\n\t\tgr.setValue('audit', 'true');\n\t\tgr.update();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"69fa0217439131103605c52bbab8f2a9","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4863eb7304312210559073c06a02f71c","value":"4863eb7304312210559073c06a02f71c"},"sys_update_name":"sys_script_fix_69fa0217439131103605c52bbab8f2a9","sys_updated_by":"admin","sys_created_on":"2023-09-21 00:12:15","name":"Set sys_cluster_state table audit","sys_name":"Set sys_cluster_state table audit","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Change VA topic definition column types to String (Full UTF)","sys_updated_on":"2019-04-24 21:45:53","sys_tags":"","record_for_rollback":"false","script":"function _changeToStringUTF(tableName, fieldName, currentInternalType) {\n    var gr = new GlideRecord(\"sys_dictionary\");\n    gr.addQuery(\"name\", tableName);\n    gr.addQuery(\"internal_type\", currentInternalType);\n    gr.addQuery(\"element\", fieldName);\n    gr.setWorkflow(false);\n    gr.query();\n\n    if(gr.next()) {\n        gr.setValue(\"internal_type\", \"string_full_utf8\");\n        gr.update();\n    }\n}\n\n_changeToStringUTF('sys_cb_topic', 'graph', 'json');\n_changeToStringUTF('sys_cs_topic', 'definition', 'string');\n_changeToStringUTF('sys_cs_conversation', 'topic_definition', 'string');\n_changeToStringUTF('sys_cs_conversation_task', 'fields', 'string');","sys_class_name":"sys_script_fix","sys_id":"6a9a52c13b41330074bc456993efc42d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_6a9a52c13b41330074bc456993efc42d","sys_updated_by":"admin","sys_created_on":"2019-04-24 21:45:53","name":"Change VA topic definition column types","sys_name":"Change VA topic definition column types","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Add cascade delete to Escalation Histories table: sysrule_escalate_history","sys_updated_on":"2023-04-06 16:24:33","sys_tags":"","record_for_rollback":"true","script":"(function() {\n\tvar gr = new GlideRecord('sys_dictionary');\n\tgr.addQuery('name', 'sysrule_escalate_history');\n\tgr.addQuery('element', 'escalation');\n\tgr.addNullQuery('reference_cascade_rule');\n\tgr.setWorkflow(false);\n\tgr.query();\n\tif (gr.next()) {\n\t\tgr.setValue('reference_cascade_rule', 'delete');\n\t\tgr.update();\n\t}\n    return;\n})();","sys_class_name":"sys_script_fix","sys_id":"6a9f542153462110610bddeeff7b1214","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9cc763bf04b12210559073c06a02f77a","value":"9cc763bf04b12210559073c06a02f77a"},"sys_update_name":"sys_script_fix_6a9f542153462110610bddeeff7b1214","sys_updated_by":"admin","sys_created_on":"2023-04-06 16:24:33","name":"Add cascade delete to Escalation History","sys_name":"Add cascade delete to Escalation History","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Change the applicability_script column definition for the OneAPI one_api_service_plan_feature table.","sys_updated_on":"2022-04-04 17:37:27","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tvar gr = new GlideRecord('sys_dictionary');\n\tgr.get('4709915af926011018f97de5f998ed48');\n\tif (gr.isValid()) {\n\t\tvar newDefaultValue = \"(function(featureInput, previousFeatureOutputs) {/* customize condition logic here, return true or false */return true;})(featureInput, previousFeatureOutputs)\";\n\t\tgr.setValue('default_value', newDefaultValue);\n\t\tgs.info(gr.update());\n\t}\n})();","sys_class_name":"sys_script_fix","sys_id":"6af92e57eb220110715301c7c15228a8","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fc84affb04312210559073c06a02f73e","value":"fc84affb04312210559073c06a02f73e"},"sys_update_name":"sys_script_fix_6af92e57eb220110715301c7c15228a8","sys_updated_by":"admin","sys_created_on":"2022-04-04 17:09:03","name":"Fix OneAPI applicability_script column","sys_name":"Fix OneAPI applicability_script column","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"Copy values from use_firebase_link (if exists) to route_to_public_store_if_not_installed for each of the mobile application records in sys_sg_mobile_application.","sys_updated_on":"2023-08-31 22:09:25","sys_tags":"","record_for_rollback":"true","script":"gs.info('Migration of use_firebase_link to route_to_public_store_if_not_installed started');\nvar mobileAppGr = new GlideRecord(\"sys_sg_mobile_application\");\nif (mobileAppGr.isValid()) {\n\tmobileAppGr.query();\n\twhile (mobileAppGr.next()) {\n\t\tgs.info('Migrating ' + mobileAppGr.name);\n\t\tif (mobileAppGr.use_firebase_links !== undefined) {\n\t\t\tmobileAppGr.route_to_public_store_if_not_installed = mobileAppGr.use_firebase_links;\n\t\t\tgs.info('Updating ' + mobileAppGr.name);\n\t\t\tmobileAppGr.update();\n\t\t}\n\t}\n} else {\n\tgs.info(\"sys_sg_mobile_application table does not exist\");\n}\ngs.info('Migration of use_firebase_link to route_to_public_store_if_not_installed completed');","sys_class_name":"sys_script_fix","sys_id":"6b01bdfb4fd03110a0a26bbc32ce0ba5","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/76f4abff04312210559073c06a02f76d","value":"76f4abff04312210559073c06a02f76d"},"sys_update_name":"sys_script_fix_6b01bdfb4fd03110a0a26bbc32ce0ba5","sys_updated_by":"admin","sys_created_on":"2023-08-03 18:45:03","name":"Migrate firebase to route to publicstore","sys_name":"Migrate firebase to route to publicstore","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Change sys_cb_topic.description from a string to a translated_text","sys_updated_on":"2022-12-27 22:28:08","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('sys_dictionary');\ngr.addQuery('name', 'sys_cb_topic');\ngr.addQuery('element', 'description');\ngr.addQuery('internal_type', 'string');\ngr.setWorkflow(false);\ngr.query();\nif (gr.next()) {\n    gr.setValue('internal_type', 'translated_text');\n    gr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"6b14fa15c3c861109a481f820c40dddc","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_6b14fa15c3c861109a481f820c40dddc","sys_updated_by":"admin","sys_created_on":"2022-12-27 22:28:08","name":"Update type of sys_cb_topic.description","sys_name":"Update type of sys_cb_topic.description","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Disable \"Location Tracking on Service Portal\". A system property \"glide.service_portal.disable_location_tracker\" is to hide location tracking pop-up on Service portal widgets","sys_updated_on":"2020-11-25 04:51:16","sys_tags":"","record_for_rollback":"false","script":"var propertyName = \"glide.service_portal.disable_location_tracker\";\nif (!gs.getProperty(propertyName)) {\n    var propertyDescription = \"This property is to hide location pop-up on the Service Portal landing page and disable location tracking for analytics purposes\";\n    var gr = new GlideRecord('sys_properties');\n    gr.setValue(\"name\", propertyName);\n    gr.setValue(\"description\", propertyDescription);\n    gr.setValue(\"type\", \"string\");\n    gr.setValue(\"value\", \"true\");\n    gr.insert();\n}","sys_class_name":"sys_script_fix","sys_id":"6b473a775be060105b1eed35cc81c707","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/69996b7b04f12210559073c06a02f7e2","value":"69996b7b04f12210559073c06a02f7e2"},"sys_update_name":"sys_script_fix_6b473a775be060105b1eed35cc81c707","sys_updated_by":"admin","sys_created_on":"2020-11-25 04:51:16","name":"Hide Location Tracker Pop-up on SP","sys_name":"Hide Location Tracker Pop-up on SP","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Converts a breakdown that has (facts_table,field,scripted,script) values to the new situation where these values are stored in the pa_breakdown_mappings table instead.\r\n","sys_updated_on":"2015-03-04 06:34:22","sys_tags":"","record_for_rollback":"false","script":"if (SNC && SNC.PABreakdownMapping) { \n        var pa = new SNC.PABreakdownMapping();\n        pa.fix();\n}\n","sys_class_name":"sys_script_fix","sys_id":"6b47ec52eb223100871aac6aa206febf","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/539a23bf04f12210559073c06a02f7aa","value":"539a23bf04f12210559073c06a02f7aa"},"sys_update_name":"sys_script_fix_6b47ec52eb223100871aac6aa206febf","sys_updated_by":"admin","sys_created_on":"2015-03-04 06:34:06","name":"PA Breakdown Mappings","sys_name":"PA Breakdown Mappings","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Sets the default step execution generator for newly created step configs in the Automated Test Framework","sys_updated_on":"2018-10-31 00:27:09","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord(\"sys_dictionary\");\ngr.addQuery(\"name\", \"sys_atf_step_config\");\ngr.addQuery(\"element\", \"step_execution_generator\");\ngr.query();\nif (gr.next()) {\n\tgr.setValue(\"default_value\" , \"javascript:new ATFVariablesUtil().getDefaultStepConfigScript();\");\n\tgr.update();\n\tgs.info(\"Successfully updated default step execution script field on sys_atf_step_config\");\n} else\n\tgs.info(\"Dictionary record for step_execution_generator on sys_atf_step_config not found; default value not updated\");","sys_class_name":"sys_script_fix","sys_id":"6c88606473212300f0a511d8faf6a744","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18792f3b04f12210559073c06a02f71d","value":"18792f3b04f12210559073c06a02f71d"},"sys_update_name":"sys_script_fix_6c88606473212300f0a511d8faf6a744","sys_updated_by":"admin","sys_created_on":"2018-10-31 00:27:09","name":"Set default ATF step config script","sys_name":"Set default ATF step config script","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"5","description":"Upgrade script to add auditing to sys_kafka_topic and sys_kafka_namespace.","sys_updated_on":"2024-09-11 19:50:25","sys_tags":"","record_for_rollback":"true","script":"const enableAuditForTable = function (tableName) {\n\tvar gr = new GlideRecord('sys_dictionary');\n\tgr.addQuery('name', tableName);\n\tgr.addNullQuery('element');\n\tgr.setLimit(1);\n\tgr.query();\n\n\tif (gr.next()) {\n\t\tvar isAudit = gr.getValue('audit');\n\t\tif (isAudit == 0) {\n\t\t\tgs.log(tableName + ': update to enable auditing.');\n\t\t\tgr.setValue('audit', 1);\n\t\t\tgr.update();\n\t\t} else {\n\t\t\tgs.log(tableName + ': already audit enabled.');\n\t\t}\n\t} else {\n\t\tgs.log('Error: enable audit for: ' + tableName + ' did not find table.');\n\t}\n};\n\nconst enableAuditSysKafkaTopicNamespace = function () {\n\tenableAuditForTable('sys_kafka_topic');\n\tenableAuditForTable('sys_kafka_namespace');\n};\n\nenableAuditSysKafkaTopicNamespace();\n","sys_class_name":"sys_script_fix","sys_id":"6cae0e3d7f60521046f1ae324d86658b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/03d4abbf04312210559073c06a02f7f9","value":"03d4abbf04312210559073c06a02f7f9"},"sys_update_name":"sys_script_fix_6cae0e3d7f60521046f1ae324d86658b","sys_updated_by":"admin","sys_created_on":"2024-09-10 18:04:38","name":"Audit sys_kafka_topic  _kafka_namespace","sys_name":"Audit sys_kafka_topic  _kafka_namespace","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"On upgrade to Utah, if the model is not OOB and doesn't already have a test set, then add an empty test set.","sys_updated_on":"2022-08-08 20:04:04","sys_tags":"","record_for_rollback":"true","script":"(function() {\n    var constants = global.NLUConstants.constants;\n    var tables = sn_nlu_workbench.NLUWorkbenchConstants.tables;\n\n    gs.info(\"Creating test set for models upgraded to Utah.\");\n\n    (function() {\n        var modelGr = new GlideRecord(tables.SYS_NLU_MODEL);\n        modelGr.addQuery(\"oob\", false);\n        modelGr.query();\n\n        while (modelGr.next()) {\n            var modelId = modelGr.getValue(\"sys_id\");\n            var language = modelGr.getValue(\"language\");\n            var display_name = modelGr.getValue(\"display_name\");\n\n            gs.info('Name: ' + modelGr.getValue(\"display_name\"));\n\n            var testGr = new GlideRecord(tables.NLU_BATCH_TEST_SET);\n            testGr.addQuery(\"model\", modelId);\n            testGr.query();\n\n            if (!testGr.hasNext()) {\n                sn_nlu_workbench.NLUBatchTestSet.addRecord(\n                    constants.DEFAULT_TEST_SET_PREFIX + display_name,\n                    language,\n                    'uploaded',\n                    modelId\n                );\n            }\n        }\n\n        gs.info(\"Test set for models successfully created.\");\n    })();\n})();","sys_class_name":"sys_script_fix","sys_id":"6cbc21eb77f01110e114160d9f5a99f8","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_update_name":"sys_script_fix_6cbc21eb77f01110e114160d9f5a99f8","sys_updated_by":"admin","sys_created_on":"2022-07-26 03:38:59","name":"Add default test set for upgraded models","sys_name":"Add default test set for upgraded models","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"true","sys_mod_count":"1","description":"Updates the reference_qual value on the sys_sg_screen_param_map table to reflect newest values","sys_updated_on":"2019-09-16 15:40:01","sys_tags":"","record_for_rollback":"false","script":"function updateItemParameterReferenceQualifier() {\n\tgs.info('[updateItemParameterReferenceQualifier]: execution started');\n\tvar gr = new GlideRecord('sys_dictionary');\n\tgr.addQuery('reference_qual','CONTAINS', \"'parent=' + current.screen.data_item.sys_id;\");\n\tgr.addQuery('name', 'sys_sg_screen_param_map');\n\tgr.addQuery('element', 'item_parameter');\n\tgr.query();\n\n\twhile(gr.next()) {\n\t\tgs.info('[updateItemParameterReferenceQualifier]: next record');\n\t\tgr.setValue('reference_qual', \"javascript: new GetScreenItemParametersQueryString().getItemParametersQS();\");\n\t\tgr.setWorkflow(false);\n\t\tgr.update();\n\t}\n}\n\ngs.info('[updateItemParameterReferenceQualifier]: running script');\nupdateItemParameterReferenceQualifier();","sys_class_name":"sys_script_fix","sys_id":"6d06ff23533333003967ddeeff7b1218","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/75d42bbf04312210559073c06a02f78d","value":"75d42bbf04312210559073c06a02f78d"},"sys_update_name":"sys_script_fix_6d06ff23533333003967ddeeff7b1218","sys_updated_by":"admin","sys_created_on":"2019-09-16 15:39:04","name":"Update item parameter reference_qual","sys_name":"Update item parameter reference_qual","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"5","description":"Ensure the following tables :\r\n* sttrm_condition_type\r\n* sttrm_model\r\n* sttrm_state\r\n* sttrm_state_transition\r\n* sttrm_transition_condition\r\nare marked is_extendable=\"true\".","sys_updated_on":"2022-09-14 09:41:15","sys_tags":"","record_for_rollback":"true","script":"(function() {\n\tif (pm.isZboot())\n\t\treturn;\n\n\tvar gr = new GlideRecord(\"sys_db_object\");\n\tgr.addQuery(\"name\", [\"sttrm_condition_type\", \"sttrm_model\", \"sttrm_state\", \"sttrm_state_transition\", \"sttrm_transition_condition\"]);\n\tgr.setValue(\"is_extendable\", true);\n\tgr.updateMultiple();\n})();","sys_class_name":"sys_script_fix","sys_id":"6d589a8753f11110ae62ddeeff7b1253","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/130be73304352210559073c06a02f7dc","value":"130be73304352210559073c06a02f7dc"},"sys_update_name":"sys_script_fix_6d589a8753f11110ae62ddeeff7b1253","sys_updated_by":"admin","sys_created_on":"2022-09-12 10:53:56","name":"Ensure \"STTRM_tables\" are extendable","sys_name":"Ensure \"STTRM_tables\" are extendable","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"11","description":"Executed when not zboot. For table configuration page, update the default value of \"enable source selector\" option and \"allow expand/collapse\" option to be \"false\".","sys_updated_on":"2018-08-03 05:01:48","sys_tags":"","record_for_rollback":"false","script":"if (!pm.isZboot()) {\n\t// Not zboot:\n\t// Change the default value of \"Enable related search box\" to \"true\"\n\t// Change the default value of \"allow expand/collapse\" to \"true\"\n\t// Change the default value of \"enable source selector\" and \"enable preview buttons\" to \"false\"\n\tvar sd_rsa = new GlideRecord(\"sys_dictionary\");\n\tsd_rsa.addQuery(\"name\", \"cxs_table_config\");\n\tsd_rsa.addQuery(\"element\", \"related_search_active\");\n\tsd_rsa.query();\n\tif (sd_rsa.next()) {\n\t\tsd_rsa.setValue(\"default_value\", true);\n\t\tsd_rsa.update();\n\t}\n\t\n\tvar sd_aec = new GlideRecord(\"sys_dictionary\");\n\tsd_aec.addQuery(\"name\", \"cxs_ui_config_base\");\n\tsd_aec.addQuery(\"element\", \"allow_expand_collapse\");\n\tsd_aec.query();\n\tif (sd_aec.next()) {\n\t\tsd_aec.setValue(\"default_value\", true);\n\t\tsd_aec.update();\n\t}\n\t\n\tvar sd_ctc = new GlideRecord(\"sys_dictionary\");\n\tsd_ctc.addQuery(\"name\", \"cxs_table_config\");\n\tsd_ctc.addQuery(\"element\", \"enable_source_selector\");\n\tsd_ctc.query();\n\tif (sd_ctc.next()) {\n\t\tsd_ctc.setValue(\"default_value\", false);\n\t\tsd_ctc.update();\n\t}\n\t\n\tvar sd_pba = new GlideRecord(\"sys_dictionary\");\n\tsd_pba.addQuery(\"name\", \"cxs_table_config\");\n\tsd_pba.addQuery(\"element\", \"preview_button_active\");\n\tsd_pba.query();\n\tif (sd_pba.next()) {\n\t\tsd_pba.setValue(\"default_value\", false);\n\t\tsd_pba.update();\n\t}\n\t\n\t// Unmark \"enable source selector\" checkbox for existing records because it is a new field.\n\t// And keep the other as they were\n\tvar tc = new GlideRecord(\"cxs_table_config\");\n\ttc.addActiveQuery();\n\ttc.query();\n\twhile (tc.next()) {\n\t\ttc.setValue(\"enable_source_selector\", false);\n\t\ttc.update();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"6db749e7876b1300fa0166d107cb0b34","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5209e3b704f12210559073c06a02f734","value":"5209e3b704f12210559073c06a02f734"},"sys_update_name":"sys_script_fix_6db749e7876b1300fa0166d107cb0b34","sys_updated_by":"admin","sys_created_on":"2018-08-02 00:23:53","name":"Unmark \"enable source selector\" for TC","sys_name":"Unmark \"enable source selector\" for TC","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"true","sys_mod_count":"12","description":"This fix script is to revert back to old native mobile \"Favorites\" cards from the new cards shipped as part of Utah next experience. This script is only for the customers who have upgraded to Utah and want to go back to old mobile views.","sys_updated_on":"2022-08-25 10:10:42","sys_tags":"","record_for_rollback":"true","script":"//Switch runManually to true in order to run this script\nvar runManually = false;\nif (runManually) {\n    var util = new sn_me.MobileNextExpUpgradeUtil();\n    revertFavoritesCard();\n}\n\nfunction revertFavoritesCard() {\n    var favorites = [\n        //favorites (with image)\n        {\n            \"masterItem\": \"67d525ca773101108f64b2487b5a992e\",\n            \"newCard\": \"737198bb777811109033bfeacf5a99ad\",\n            \"oldCard\": \"d21629ca773101108f64b2487b5a9974\"\n        },\n        //favorites (without image)\n        {\n            \"masterItem\": \"a466a9ca773101108f64b2487b5a99f1\",\n            \"newCard\": \"d5fb80b377f411109033bfeacf5a99e4\",\n            \"oldCard\": \"de36e5ca773101108f64b2487b5a99ca\"\n        }\n    ];\n\n    favorites.forEach(function revertEachLink(link) {\n        util.switchConnection(\"sys_sg_master_item\", \"view_config\", link.masterItem, link.newCard, link.oldCard);\n    });\n}","sys_class_name":"sys_script_fix","sys_id":"6e33021453a19910fedfddeeff7b120f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4249e63a28d54d61bb6fbf61fd86cccb","value":"4249e63a28d54d61bb6fbf61fd86cccb"},"sys_update_name":"sys_script_fix_6e33021453a19910fedfddeeff7b120f","sys_updated_by":"admin","sys_created_on":"2022-08-22 09:40:40","name":"Mobile Revert Next Exp - EC","sys_name":"Mobile Revert Next Exp - EC","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/4249e63a28d54d61bb6fbf61fd86cccb","value":"4249e63a28d54d61bb6fbf61fd86cccb"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"10","description":"Seed data for sn_dfc_product and sn_dfc_application tables of Configuration Hub","sys_updated_on":"2023-05-11 21:41:48","sys_tags":"","record_for_rollback":"true","script":"(function() {\n    let start = new Date().getTime();\n    gs.info('[CONFIGURATION_HUB] Fix Script: Adding seed data for Configuration hub');\n\n    /****************** Products data *******************/\n    function checkAndAddProduct(productName, definition, documentation) {\n        let gr = new GlideRecord('sn_dfc_product');\n        gr.addQuery('name', productName);\n        gr.query();\n        if (!gr.hasNext()) {\n            gr.initialize();\n            gr.name = productName;\n            gr.definition = definition;\n            gr.documentation = documentation;\n            if (!gr.insert())\n                gs.error(`[CONFIGURATION_HUB] Fix Script: Unable to insert product : ${productName}`);\n        }\n\n        return gr.getUniqueValue();\n    }\n    // TODO: Replace documentation link by Resource ID (Scripted REST service for versioned URLs)\n    const products_list = [{\n        \"productName\": \"Operational Technology\",\n        \"definition\": \"Help the organization streamline operations, boost productivity, and maximize Operational Technology uptime on the production floor through digital workflows.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-operational-technology/page/product/operational-technology-management/concept/operational-technology-overview.html'>Operational Technology</a>\"\n    }, {\n        \"productName\": \"Mobile Platform\",\n        \"definition\": \"\",\n        \"documentation\": \"\"\n    }, {\n        \"productName\": \"Field Service Management\",\n        \"definition\": \"Helps organizations manage work tasks performed on location. Match tasks to agents based on skills, geographic territory assignments, and available inventory. Agents can record details on assigned tasks like completion status, travel time to jobs, and time spent.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-field-service-management/page/product/planning-and-policy/concept/c_FieldServiceManagement.html'>Field Service Management</a>\"\n    }, {\n        \"productName\": \"Workplace Service Delivery\",\n        \"definition\": \"Provide employees with a single place to manage workplace tasks like reserving rooms, ordering supplies, reporting maintenance issues, or requesting cleaning with the ServiceNow Workplace Service Delivery.Reduce the back-end complexity of setting up and maintaining a streamlined experience for your workplace.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-employee-service-management/page/product/workplace-service-delivery-suite/concept/workplace-service-delivery-suite-landing-page.html'>Workplace Service Delivery</a>\"\n    }, {\n        \"productName\": \"Safe Workplace\",\n        \"definition\": \"Help users reopen their workplaces and support the health and safety of employees after emergencies and pandemics like COVID-19.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-employee-service-management/page/product/human-resources/concept/safe-workplace.html'>Safe Workplace</a>\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"definition\": \"Automates back-office tasks for ServiceNow Banking customers.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-financial-services-operations/page/product/fso-common/concept/fso-overview.html'>Financial Services</a>\"\n    }, {\n        \"productName\": \"Sept Deployment Smoke Test Product\",\n        \"definition\": \"Sept Deployment Smoke Test Product\",\n        \"documentation\": \"\"\n    }, {\n        \"productName\": \"DevOps\",\n        \"definition\": \"Provide data insights, accelerate change, and increase visibility in the DevOps environment using a single system.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-devops/page/product/enterprise-dev-ops/concept/dev-ops-bundle-landing-page.html'>DevOps</a>\"\n    }, {\n        \"productName\": \"Media and Entertainment Service Management\",\n        \"definition\": \"Connects an entire operation on one platform enabling service quality to be maximized and customer service to be delivered proactively, all while reducing operational cost.\",\n        \"documentation\": \"\"\n    }, {\n        \"productName\": \"Robotic Process Automation\",\n        \"definition\": \"Enable end-to-end automation for an organization. With a combination of UI interactions, element-based automations, and APIs that interact between the various business applications, emulate user actions and eliminate mundane and repetitive human activities. The RPA Hub platform consists of four applications:\\r\\n- RPA Hub\\r\\n- Unattended Robot\\r\\n- Attended Robot\\r\\n- RPA Desktop Design Studio\",\n        \"documentation\": \"\"\n    }, {\n        \"productName\": \"Now Platform Security\",\n        \"definition\": \"Implement the security features that are appropriate for your organization, from managing failed logins and encrypted password protection, to access control rules and audit logs.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://servicenow-be-prod.servicenow.com/bundle/utah-platform-security/page/administer/reference-pages/concept/platform-security-landing-page.html'>Now Platform Security</a>\"\n    }, {\n        \"productName\": \"Public Sector Digital Services\",\n        \"definition\": \"Enables users to develop public sector applications that deliver digital services to constituents, businesses, and agencies.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-government-industry/page/product/public-sector/concept/public-sector-digital-services-landing-page.html'>Public Sector Digital Services</a>\"\n    }, {\n        \"productName\": \"Lightstep\",\n        \"definition\": \"\",\n        \"documentation\": \"\"\n    }, {\n        \"productName\": \"Supplier Lifecycle Operations\",\n        \"definition\": \"Customers can effectively collaborate with suppliers, manage supplier relationships, monitor risk, compliance, and performance across the supplier lifecycle.\",\n        \"documentation\": \"\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"definition\": \"Methodology which manages the strict and complex regulatory and industry requirements across corporate environments. The ServiceNow GRC suite contains four main applications: Policy and Compliance Management, Risk Management, Audit Management, and Vendor Risk Management.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-governance-risk-compliance/page/product/grc-common/reference/r_WhatIsGRC.html'>Governance, Risk, and Compliance</a>\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"definition\": \"Bring incident data from your security tools into a structured response engine that uses intelligent workflows, automation, and a deep connection with IT to prioritize and resolve threats based on the impact they pose to your organization.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-security-management/page/product/security-operations/concept/security-operations-intro.html'>Security Operations (Product Line)</a>\"\n    }, {\n        \"productName\": \"Employee Growth and Development\",\n        \"definition\": \"Suite of applications to manage employee growth and learning experiences\",\n        \"documentation\": \"\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"definition\": \"Consolidate IT tools into a single data model to transform the service experience, automate workflows, gain real-time visibility, and improve IT productivity all on the ServiceNow Cloud Platform.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-it-service-management/page/product/it-service-management/reference/r_ITServiceManagement.html'>IT Service Management</a>\"\n    }, {\n        \"productName\": \"Talent Management\",\n        \"definition\": \"New product line being developed by NowX which is expected to nest under the ESM product line.\",\n        \"documentation\": \"\"\n    }, {\n        \"productName\": \"Workforce Optimization for IT Service Management\",\n        \"definition\": \"Enables users to predict and recommend skills for agents, use queues to route to agents based on their assigned groups and skills set, monitor and measure team performance and provide feedback using assessments, and create opportunities to coach and train teams.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-it-service-management/page/product/configurable-workforce-optimization-itsm/concept/configurable-workforce-optimization-itsm.html'>Workforce Optimization for IT Service Management</a>\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"definition\": \"The Now Platform is an application platform as a service that automates business processes across the enterprise. The Now Platform provides the infrastructure to help enterprises organization develop, run, and manage applications.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-now-platform/page/administer/general/concept/now-platform-landing.html'>Now Platform</a>\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"definition\": \"Better manage demand, balance resources, manage agile and waterfall projects, perform budget planning, and map costs to technical and business services.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-it-business-management/page/product/it-business-management/reference/r_ITBusinessManagement.html'>Strategic Portfolio Management</a>\"\n    }, {\n        \"productName\": \"HR Service Delivery\",\n        \"definition\": \"Improves the employee service experience by automating HR interactions and providing a single platform for all HR services.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-employee-service-management/page/product/human-resources/concept/hr-service-delivery.html'>HR Service Delivery</a>\"\n    }, {\n        \"productName\": \"Recruiting\",\n        \"definition\": \"Collection of features for Recruiting \",\n        \"documentation\": \"\"\n    }, {\n        \"productName\": \"Accounts Payable Operations\",\n        \"definition\": \"Accounts Payable Operations centralizes accounts payable processes on a single system of action and engagement enabling companies work seamlessly with suppliers to resolve important requests, and to verify invoices and send payments quickly and accurately. \",\n        \"documentation\": \"\"\n    }, {\n        \"productName\": \"Legal Service Delivery\",\n        \"definition\": \"Provides a unified experience between the employees requesting legal support and the legal teams serving them.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-employee-service-management/page/product/legal-request-management/concept/legal-management-overview.html'>Legal Service Delivery</a>\"\n    }, {\n        \"productName\": \"Health and Safety\",\n        \"definition\": \"Health and Safety manages all aspects of worker safety, including incident management, compliance, and reporting. \",\n        \"documentation\": \"\"\n    }, {\n        \"productName\": \"Employee Journey Management\",\n        \"definition\": \"Suite of applications to manage employee journeys and lifecycle events. \",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-employee-service-management/page/product/human-resources/concept/employee-journey-management.html'>Employee Journey Management</a>\"\n    }, {\n        \"productName\": \"Project Portfolio Management\",\n        \"definition\": \"Provides a simplified, team-oriented approach to Project Portfolio Management and IT development by combining several individual applications.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-it-business-management/page/product/project-portfolio-suite/concept/c_ProjectPortfolioSuite.html'>Project Portfolio Management</a>\"\n    }, {\n        \"productName\": \"Healthcare and Life Sciences Service Management\",\n        \"definition\": \"Provide service and support for your clinicians by enabling them to raise any requests and report any issues using theServiceNowHealthcare and Life Sciencesapplications.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-healthcare-life-sciences/page/product/healthcare-life-sciences/concept/hcls-service-mgmt-overview.html'>Healthcare and Life Sciences Service Management</a>\"\n    }, {\n        \"productName\": \"ITOM Health\",\n        \"definition\": \"Includes theServiceNowEvent Managementand theServiceNowHealth Log Analyticsapplications, which help users to track and maintain the health of services in the organization.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-it-operations-management/page/product/it-operations-management/reference/itom-health-landing-page.html'>ITOM Health</a>\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"definition\": \"Enhance visibility across an organization's infrastructure and services, prevent service outages, and maximize operational agility.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-it-operations-management/page/product/it-operations-management/reference/r_ITOMApplications.html'>IT Operations Management</a>\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"definition\": \"Provides a single mobile and web application development platform to quickly build business applications that power digital transformation.\",\n        \"documentation\": \"\"\n    }, {\n        \"productName\": \"Service Management (Legacy)\",\n        \"definition\": \"The Service Management Core plugin is activated automatically when you activate any service management application.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-service-management-for-the-enterprise/page/product/it-services/concept/c_ServiceManagement.html'>Service Management (Legacy)</a>\"\n    }, {\n        \"productName\": \"Workforce Optimization for Customer Service\",\n        \"definition\": \"Allows Customer Service managers to monitorreal timeagent productivity,workloadand KPIs across multiple channelswhich improves visibility of agent workloadresulting in improved customer experience.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-customer-service-management/page/product/workforce-optimization-for-customer-service-configurable/concept/configurable-wfo-cs.html'>Workforce Optimization for Customer Service</a>\"\n    }, {\n        \"productName\": \"Source-to-Pay Operations\",\n        \"definition\": \"Source-to-Pay Operations (formerly Procurement Operations Management) includes both Sourcing & Procurement Operations and Supplier Lifecycle Operations to centralize procurement processes on a single system of action and engagement, that operates on top of all customers' legacy systems, data sets and existing processes. With Source-to-Pay, customers can create and connect workflows that can operate freely across their existing environment.\",\n        \"documentation\": \"\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"definition\": \"Provides customers with multiple methods of engagement and collaboration, omni-channel communication, product knowledge and notifications, quick response to questions and issues, and efficient case resolution.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-customer-service-management/page/product/customer-service-management/concept/c_CustomerServiceManagement.html'>Customer Service Management</a>\"\n    }, {\n        \"productName\": \"Sourcing and Procurement Operations\",\n        \"definition\": \"Provides all functionality to create unified employee experiences to shop third-party catalogs and get help from procurement. Also provides sourcing & purchasing automation workflows for teams involved in the source-to-pay business process.\",\n        \"documentation\": \"\"\n    }, {\n        \"productName\": \"Operational Technology Manager\",\n        \"definition\": \"Creates the foundational data and relationships that enable your enterprise to use theServiceNowManufacturingsolution.Operational Technology Managersupports the use of theConfiguration Management Database (CMDB),Service GraphConnectors, andDiscoveryapplications in theNow Platform.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-operational-technology/page/product/mftg-manufacturing-oper-tech-mgr/concept/operational-technology-manager.html'>Operational Technology Manager</a>\"\n    }, {\n        \"productName\": \"Technology Provider Service Management\",\n        \"definition\": \"The Technology Provider Service Management application connects your entire technology provider operation with one platform to deliver proactive care and maximize the availability and quality of service.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-technology/page/product/tmt-technology-provider-service-mgt/concept/technology-provider-service-mgt-overview.html'>Technology Provider Service Management</a>\"\n    }, {\n        \"productName\": \"Telecommunications Service Management\",\n        \"definition\": \"Connects an entire telecom operation, from the network to the customer, with one platform to deliver proactive care and maximize the availability and quality of service.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-telecommunications-management/page/product/tmt-telecom-service-mgt/concept/telecom-service-mgmt-overview.html'>Telecommunications Service Management</a>\"\n    }, {\n        \"productName\": \"Digital End-User Experience (DEX)\",\n        \"definition\": \"Enables the monitoring, measuring, and optimizing of the performance and experience of an application or system as it is being used by the end-users/endpoints. \",\n        \"documentation\": \"\"\n    }, {\n        \"productName\": \"Agent Client Collector\",\n        \"definition\": \"An agent-based discovery and monitoring solution that runs natively on the Now Platform. By embedding agents on host systems, ACC complements ServiceNow's broad and deep credential-based discovery capabilities, and it also allows users to augment or replace existing monitoring tools. Agent Client Collector refers to both the broad platform capabilities, as well as the distinct agent that is embedded on host systems.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-it-operations-management/page/product/agent-client-collector/concept/acc-landing-page.html'>Agent Client Collector</a>\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"definition\": \"Create integrations and connections across multiple systems. Quickly connect with third-party APIs, build custom integrations, and automate repetitive tasks. Automation Engine includes Integration Hub and Robotic Process Automation Hub. \",\n        \"documentation\": \"\"\n    }, {\n        \"productName\": \"Supplier Lifecycle Management\",\n        \"definition\": \"With ServiceNow Supplier Lifecycle Management, customers can effectively collaborate with suppliers, manage supplier relationships, monitor risk, compliance, and performance across the supplier lifecycle.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-procurement-operations/page/product/supplier-management/concept/supp-mgmt-landing-page.html'>Supplier Lifecycle Management</a>\"\n    }, {\n        \"productName\": \"Manufacturing\",\n        \"definition\": \"Help the organization streamline operations, boost productivity, and maximize Operational Technology uptime on the production floor through digital workflows.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-manufacturing/page/product/mftg-manufacturing/concept/manufacturing-overview.html'>Manufacturing</a>\"\n    }, {\n        \"productName\": \"ServiceNow Vault\",\n        \"definition\": \"Use the Vault product set of data security tools that protect sensitive information from unauthorized access, corruption, or theft throughout its entire life cycle.\\r\\n\\r\\nThe ServiceNow Vault Homepage provides a single, visible place to find and navigate to the ServiceNow Vault data security products.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-platform-security/page/administer/vault/concept/vault-homepage.html'>ServiceNow Vault</a>\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"definition\": \"Analyze and share business performance KPIs and metric reporting for the business. Configure reports into data visualizations and display results through a customizable dashboard.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/tokyo-now-intelligence/page/use/performance-analytics/concept/c_performanceAnalyticsAndReporting.html'>Now Intelligence</a>\"\n    }, {\n        \"productName\": \"Supply Chain Management\",\n        \"definition\": \"Supply Chain Management streamlines communication and collaboration across silos to reduce risk and maintain a healthy supply chain. It features Exception Management which breaks down barriers between silos to help supply chain planners identify threats, determine root causes, remediate exceptions, and reflect to improve processes and practices.\",\n        \"documentation\": \"\"\n    }, {\n        \"productName\": \"ITOM Visibility\",\n        \"definition\": \"Consists ofServiceNowDiscovery,ServiceNowService Mapping,Certificate Inventory and Management,Service GraphConnectors,Multisource CMDB, andFirewall Audits and Reporting.DiscoveryandService Mappinggive you a unified, connected view of your entire IT network and the services that it supports.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-it-operations-management/page/product/it-operations-management/reference/itom-visibility-landing-page.html'>ITOM Visibility</a>\"\n    }, {\n        \"productName\": \"Environmental, Social, and Governance\",\n        \"definition\": \"\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-environmental-social-governance/page/product/esg-management-reporting/concept/esg-landing-page.html'>Environmental, Social, and Governance</a>\"\n    }, {\n        \"productName\": \"ITOM Governance\",\n        \"definition\": \"Use ITOM Governance workflows to check cloud deployments in your organization against rules to identify violations or potential security issues. ITOM Governance comes with a set of pre-configured rules. Once the system identifies cloud configuration issues, use ITOM Governance workflows to remediate the issues and mitigate the violations.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-it-operations-management/page/product/itom-governance/reference/itom-governance-landing-page.html'>ITOM Governance</a>\"\n    }, {\n        \"productName\": \"ITOM Optimization\",\n        \"definition\": \"Increases visibility into an organization's infrastructure and services, helps prevent service outages, and shortens the response time for IT issues.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-it-operations-management/page/product/it-operations-management/reference/itom-optimization-landing-page.html'>ITOM Optimization</a>\"\n    }, {\n        \"productName\": \"IT Asset Management\",\n        \"definition\": \"Systematically track and evaluate software licenses and compliance for purchased software and its license terms by creating software models and entitlements.\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-it-asset-management/page/product/software-asset-management2/concept/it-asset-management.html'>IT Asset Management</a>\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"definition\": \"Employee Service Management is a bundle of products and features that includes HRSD, Legal Service Delivery, Workplace Service Delivery).\",\n        \"documentation\": \"<a rel='noopener noreferrer nofollow' target='_blank' href='https://docs.servicenow.com/bundle/utah-employee-service-management/page/product/employee-service-management/concept/employee-service-management-overview.html'>Employee Service Management</a>\"\n    }];\n\n    let productNameToSysIdMap = new Map();\n    for (let product of products_list) {\n        let {\n            productName,\n            definition,\n            documentation\n        } = product;\n\n        let sysId = checkAndAddProduct(productName, definition, documentation);\n        productNameToSysIdMap.set(productName, sysId);\n    }\n\n    /****************** Applications data *******************/\n    function checkAndAddApplication(name, scope, description, productSysId) {\n        let gr = new GlideRecord('sn_dfc_application');\n        gr.addQuery('package_id', scope);\n        gr.addQuery('product', productSysId);\n        gr.query();\n        if (!gr.hasNext()) {\n            gr.initialize();\n            gr.name = name;\n            gr.package_id = scope;\n            gr.description = description;\n            gr.product = productSysId;\n            if (!gr.insert())\n                gs.error(`[CONFIGURATION_HUB] Fix Script: Unable to insert application : ${name} ${scope}`);\n        }\n\n        return gr.getUniqueValue();\n    }\n\n    let applications_list = [{\n        \"productName\": \"Field Service Management\",\n        \"appName\": \"Incident Management for Field Service\",\n        \"scope\": \"sn_fsm_itsm_mng\",\n        \"description\": \"Provides a unified experience for tracking work order progress from parent incidents.\"\n    }, {\n        \"productName\": \"Field Service Management\",\n        \"appName\": \"Field Service Management Virtual Conferencing Integration\",\n        \"scope\": \"sn_fsm_vci\",\n        \"description\": \"Enable field service technicians to virtually engage with customers and peer agents using Zoom and Microsoft Teams.\"\n    }, {\n        \"productName\": \"Field Service Management\",\n        \"appName\": \"Field Service NLU Model for Virtual Agent Conversations\",\n        \"scope\": \"sn_fsm_nlu\",\n        \"description\": \"Enable Virtual Agent to understand everyday language for Field Service Management.\"\n    }, {\n        \"productName\": \"Field Service Management\",\n        \"appName\": \"Change Management for Field Service\",\n        \"scope\": \"sn_fsm_chg_mng\",\n        \"description\": \"Provides a unified experience for tracking work order progress from parent change requests.\"\n    }, {\n        \"productName\": \"Field Service Management\",\n        \"appName\": \"Planned Work Management\",\n        \"scope\": \"sn_fsm_planned_wm\",\n        \"description\": \"Application to manage planned work activities like maintenance, inspection etc.\"\n    }, {\n        \"productName\": \"Field Service Management\",\n        \"appName\": \"Playbooks for Field Service Management\",\n        \"scope\": \"sn_fsm_playbook\",\n        \"description\": \"Get step-by-step guidance for field service tasks.\"\n    }, {\n        \"productName\": \"Field Service Management\",\n        \"appName\": \"Field Service NLU Model for Virtual Agent Conversations\",\n        \"scope\": \"sn_fsm_nlu\",\n        \"description\": \"This plugin contains NLU models used in the VA topics for Field Service related use cases.\"\n    }, {\n        \"productName\": \"Field Service Management\",\n        \"appName\": \"Field Service Management Virtual Conferencing Integration\",\n        \"scope\": \"sn_fsm_vci\",\n        \"description\": \"Enables field agents to collaborate with team members, peers, subject matter experts and customers over Zoom and other available conference tools.\"\n    }, {\n        \"productName\": \"Field Service Management\",\n        \"appName\": \"Change Management for Field Service\",\n        \"scope\": \"sn_fsm_chg_mng\",\n        \"description\": \"Field Service Management integrated with the ITSM change management to introduce additional functionality that provides a unified user experience.\"\n    }, {\n        \"productName\": \"Field Service Management\",\n        \"appName\": \"Incident Management for Field Service\",\n        \"scope\": \"sn_fsm_itsm_mng\",\n        \"description\": \"Field Service Management integrated with the incident management to introduce additional functionality that provides a unified user experience.\"\n    }, {\n        \"productName\": \"Field Service Management\",\n        \"appName\": \"Playbooks for Field Service Management\",\n        \"scope\": \"sn_fsm_playbook\",\n        \"description\": \"Enable playbook support for Field Service Management.\"\n    }, {\n        \"productName\": \"Field Service Management\",\n        \"appName\": \"Procurement for Field Service\",\n        \"scope\": \"sn_fsm_psm_mobile\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Field Service Management\",\n        \"appName\": \"Planned Work Management\",\n        \"scope\": \"sn_fsm_planned_wm\",\n        \"description\": \"This application allows to configure planned activities which are scheduled to be executed periodically based on time intervals or usage or occurrence of certain conditions.\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Financial Services Personal Deposit Operations\",\n        \"scope\": \"sn_bom_deposit_b2c\",\n        \"description\": \"Create transparent and repeatable processes that save time and costfor Retail Deposits.\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Financial Services Client Lifecycle\",\n        \"scope\": \"sn_bom_clo_b2c\",\n        \"description\": \"Speed client onboarding and effectively respond to changes during the lifecycle, with built-in compliance.\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Individual Life Underwriting\",\n        \"scope\": \"sn_ins_indiv_uw\",\n        \"description\": \"Incorporate underwriters into your Individual Life Servicing workflows to drive efficiencies and accelerate resolution of complex servicing requests.\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Financial Services Remote Tables\",\n        \"scope\": \"sn_bom_remote\",\n        \"description\": \"Financial Services Operations Core Extension: Securely integrate systems with out-of-the-box Remote Tables.\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Financial Services Payment Operations\",\n        \"scope\": \"sn_bom_payment\",\n        \"description\": \"Financial Services Payment Operations workflows for customer requests.\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Insurance Special Investigations\",\n        \"scope\": \"sn_ins_siu\",\n        \"description\": \"Empower your special investigation teams to make impactful claims decisions with the right data, at the right time.\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Financial Services Business Loan Operations\",\n        \"scope\": \"sn_bom_loan_b2b\",\n        \"description\": \"Financial Services Business Loan Operations workflows for customer requests.\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Financial Services Personal Loan Operations\",\n        \"scope\": \"sn_bom_loan\",\n        \"description\": \"Financial Services Personal Loan Operations workflows for customer requests.\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Commercial Lines Underwriting\",\n        \"scope\": \"sn_ins_uw_b2b\",\n        \"description\": \"Incorporate underwriters into your commercial lines servicing workflow enabling the efficient and timely resolution of policy servicing requests.\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Financial Services Credit Operations\",\n        \"scope\": \"sn_bom_credit_asmt\",\n        \"description\": \"Supports middle and back-office tasks for Credit Risk Assessments used by Financial Services workflows.\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Financial Services Business Deposit Operations\",\n        \"scope\": \"sn_bom_deposit_b2b\",\n        \"description\": \"Create transparent and repeatable processes that save time and costfor Business Deposits.\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Group Life Underwriting\",\n        \"scope\": \"sn_ins_group_uw\",\n        \"description\": \"Incorporate underwriters into your group life servicing workflows enabling the efficient and timely resolution of complex servicing requests.\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Personal Lines Underwriting\",\n        \"scope\": \"sn_ins_underwrite\",\n        \"description\": \"Incorporate underwriters into your personal lines servicing workflow enabling the efficient and timely resolution of policy servicing requests.\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Financial Services Complaint Management\",\n        \"scope\": \"sn_bom_compl\",\n        \"description\": \"Simplify cross-functional teamwork to resolve customer complaints and enable special handling of complaint types that create regulatory, reputation, or financial risk.\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Financial Services Card Operations\",\n        \"scope\": \"sn_bom_credit_card\",\n        \"description\": \"Digitize card operations across front, middle, and back offices.\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Financial Services Treasury Operations\",\n        \"scope\": \"sn_bom_treasury\",\n        \"description\": \"Speed onboarding for treasury services with streamlined workflows and eliminate redundant requests for customer information with a single system of action.\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Financial Services Business Lifecycle\",\n        \"scope\": \"sn_bom_clo_b2b\",\n        \"description\": \"Speed business customer onboarding and effectively respond to changes during the lifecycle, with built-in compliance.\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Personal Lines Underwriting\",\n        \"scope\": \"sn_ins_underwrite\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Financial Services Card Operations\",\n        \"scope\": \"sn_bom_credit_card\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Financial Services Client Lifecycle\",\n        \"scope\": \"sn_bom_clo_b2c\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Financial Services Remote Tables\",\n        \"scope\": \"sn_bom_remote\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Intelligent Servicing for Fraud\",\n        \"scope\": \"sn_bom_fraud\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Financial Services Treasury Operations\",\n        \"scope\": \"sn_bom_treasury\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Financial Services Credit Operations\",\n        \"scope\": \"sn_bom_credit_asmt\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Group Life Underwriting\",\n        \"scope\": \"sn_ins_group_uw\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Financial Services Business Loan Operations\",\n        \"scope\": \"sn_bom_loan_b2b\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Financial Services Operations Integration with Socure\",\n        \"scope\": \"sn_fso_intg_socure\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Individual Life Underwriting\",\n        \"scope\": \"sn_ins_indiv_uw\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Financial Services Business Deposit Operations\",\n        \"scope\": \"sn_bom_deposit_b2b\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Financial Services Business Lifecycle\",\n        \"scope\": \"sn_bom_clo_b2b\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Financial Services Personal Loan Operations\",\n        \"scope\": \"sn_bom_loan\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Financial Services Payment Operations\",\n        \"scope\": \"sn_bom_payment\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Financial Services Complaint Management\",\n        \"scope\": \"sn_bom_compl\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Financial Services Personal Deposit Operations\",\n        \"scope\": \"sn_bom_deposit_b2c\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Insurance Special Investigations\",\n        \"scope\": \"sn_ins_siu\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Financial Services Operations Integration with FRISS\",\n        \"scope\": \"sn_fso_intg_friss\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Financial Services\",\n        \"appName\": \"Commercial Lines Underwriting\",\n        \"scope\": \"sn_ins_uw_b2b\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Media and Entertainment Service Management\",\n        \"appName\": \"Configurable Workspace for Order Management\",\n        \"scope\": \"sn_app_orm_wksp\",\n        \"description\": \"Deliver the best order fulfillment experience with Configurable Workspace for Order Management.\"\n    }, {\n        \"productName\": \"Media and Entertainment Service Management\",\n        \"appName\": \"Fallout management\",\n        \"scope\": \"sn_fallout_mgmt\",\n        \"description\": \"Identify, diagnose, and resolve order processing issues in Order Management.\"\n    }, {\n        \"productName\": \"Media and Entertainment Service Management\",\n        \"appName\": \"Service Bridge\",\n        \"scope\": \"sn_nowebonding\",\n        \"description\": \"Request services and support from your provider  and track progress in your own ServiceNow instance.\"\n    }, {\n        \"productName\": \"Media and Entertainment Service Management\",\n        \"appName\": \"Proactive Service Experience Workflows\",\n        \"scope\": \"sn_ind_tsm_sdwan\",\n        \"description\": \"Reduce incident resolution times with Telecommunications and Media Assurance Workflows.\"\n    }, {\n        \"productName\": \"Media and Entertainment Service Management\",\n        \"appName\": \"Service Bridge for Providers\",\n        \"scope\": \"sn_nowebonding_pro\",\n        \"description\": \"Deliver the in-instance user experience your enterprise customers deserve with Service Bridge for Providers.\"\n    }, {\n        \"productName\": \"Media and Entertainment Service Management\",\n        \"appName\": \"Attribute propagation\",\n        \"scope\": \"sn_attr_prp_mgmt\",\n        \"description\": \"Catalog rule driven, characteristic propagation for Order Management.\"\n    }, {\n        \"productName\": \"Media and Entertainment Service Management\",\n        \"appName\": \"Configurable Workspace for Order Management\",\n        \"scope\": \"sn_app_orm_wksp\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Media and Entertainment Service Management\",\n        \"appName\": \"Attribute propagation\",\n        \"scope\": \"sn_attr_prp_mgmt\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Media and Entertainment Service Management\",\n        \"appName\": \"Service Bridge\",\n        \"scope\": \"sn_nowebonding\",\n        \"description\": \"Request and track services and advisories from your provider in your own instance of ServiceNow. This application is for customers and partners of providers that use the Service Bridge For Providers Application.\"\n    }, {\n        \"productName\": \"Media and Entertainment Service Management\",\n        \"appName\": \"Fallout management\",\n        \"scope\": \"sn_fallout_mgmt\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Media and Entertainment Service Management\",\n        \"appName\": \"Proactive Service Experience Workflows\",\n        \"scope\": \"sn_ind_tsm_sdwan\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Public Sector Digital Services\",\n        \"appName\": \"Public Sector Digital Services Core\",\n        \"scope\": \"sn_gsm\",\n        \"description\": \"The trusted platform for digital government.\"\n    }, {\n        \"productName\": \"Public Sector Digital Services\",\n        \"appName\": \"Public Sector Digital Services Core\",\n        \"scope\": \"sn_gsm\",\n        \"description\": \"Public Sector Digital Services Core provides the foundational data model, workflows, and experiences to enable the development of public sector applications for the delivery of digital services.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Vendor Risk Management Workspace\",\n        \"scope\": \"sn_vrm_ws\",\n        \"description\": \"Intuitive persona-based workspace to efficiently manage your third-party risk program.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Audit Management Workspace\",\n        \"scope\": \"sn_audit_ws\",\n        \"description\": \"Intuitive persona-based workspace to efficiently manage your audits.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Business Impact Analysis\",\n        \"scope\": \"sn_bia\",\n        \"description\": \"Prioritize critical business functions and identify dependencies.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Advanced Core\",\n        \"scope\": \"sn_grc_advanced\",\n        \"description\": \"Support forward-looking use cases across GRC apps.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Advanced Dashboards\",\n        \"scope\": \"sn_grc_pa_advanced\",\n        \"description\": \"Persona-based dashboards tailored for risk, compliance and audit users.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Workbench\",\n        \"scope\": \"sn_grc_workbench\",\n        \"description\": \"Graphical interface to easily create entity and risk dependencies.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Cybersecurity Controls Accelerator\",\n        \"scope\": \"sn_grc_cis\",\n        \"description\": \"Eases adoption of the CIS Controls from The Center for Internet Security.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: DevOps Accelerator\",\n        \"scope\": \"sn_grc_devops\",\n        \"description\": \"Ensure developers meet compliance obligations without sacrificing productivity.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Risk Shared Common Components\",\n        \"scope\": \"sn_irm_shared_cmn\",\n        \"description\": \"Components shared across multiple Risk products.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Business User - Lite\",\n        \"scope\": \"sn_grc_lite\",\n        \"description\": \"Effectively engage front line employees in risk and compliance activities to improve GRC.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Advanced Audit\",\n        \"scope\": \"sn_audit_advanced\",\n        \"description\": \"Powerful audit planning and enhanced engagements, milestones, and observations.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Business Continuity Planning\",\n        \"scope\": \"sn_bcp\",\n        \"description\": \"Develop and continuously improve crisis response plans.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Risk Management Workspace\",\n        \"scope\": \"sn_risk_workspace\",\n        \"description\": \"Intuitive persona-based workspace to efficiently manage your risk program.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"Metric data table\",\n        \"scope\": \"sn_metric_data\",\n        \"description\": \"Streamline data collection processes across the organisation including providing evidence, approvals, and subsequent audit mechanisms using a spreadsheet-style interface.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Profiles\",\n        \"scope\": \"sn_grc\",\n        \"description\": \"Common components installed with Audit, Policy & Compliance, and Risk.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Common Workspace Elements\",\n        \"scope\": \"sn_grc_workspace\",\n        \"description\": \"Shared components for the GRC suite of workspace applications.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: SIG Questionnaire Integration\",\n        \"scope\": \"sn_sig_asmt\",\n        \"description\": \"Streamline the SIG assessment process for GRC: Vendor Risk Management.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Crisis Map\",\n        \"scope\": \"sn_bcm_map\",\n        \"description\": \"Better analyze threat alerts and manage crisis events with geo-map visualization.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Virtual Agent\",\n        \"scope\": \"sn_grc_virt_agent\",\n        \"description\": \"Intelligent assistant to improve the experience of everyday employees.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Metrics\",\n        \"scope\": \"sn_grc_metric\",\n        \"description\": \"Continuously monitor and obtain data for use by other applications.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Technology Controls Monitoring Accelerator\",\n        \"scope\": \"sn_grc_infosec\",\n        \"description\": \"Helps optimize compliance validation across a wide range of regulations, standards, and best practices.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: 360 degree relationship visualization\",\n        \"scope\": \"sn_grc_360degree\",\n        \"description\": \"Visualize complex and interconnected GRC data with a simplified interface.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Privacy Management\",\n        \"scope\": \"sn_privacy\",\n        \"description\": \"Proactively manage privacy-related risks and sustain compliance in your organization.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Crisis Management\",\n        \"scope\": \"sn_recovery\",\n        \"description\": \"Exercise/activate continuity plans; monitor recovery tasks during crisis.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Compliance Management Workspace\",\n        \"scope\": \"sn_compliance_ws\",\n        \"description\": \"Intuitive persona-based workspace to efficiently manage your compliance program.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"Common Vendor Core\",\n        \"scope\": \"sn_vendor_core\",\n        \"description\": \"Shared components for the Vendor Management Workspace.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Regulatory Change Management\",\n        \"scope\": \"sn_grc_reg_change\",\n        \"description\": \"Proactively manage regulatory changes to maintain an optimal compliance posture.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Crisis Management integration with Everbridge Notifications\",\n        \"scope\": \"sn_crisis_ebn\",\n        \"description\": \"Manage effective emergency communications via Everbridge integration.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"Application Portfolio Management integration with Policy and Compliance\",\n        \"scope\": \"sn_apm_cm\",\n        \"description\": \"Manage controls on a business application by integrating APM with the GRC:Policy and Compliance management app.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Continuous Authorization and Monitoring\",\n        \"scope\": \"sn_irm_cont_auth\",\n        \"description\": \"Make implementing Risk Management Frameworks easier.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Vendor Portal\",\n        \"scope\": \"sn_svdp\",\n        \"description\": \"Consolidate communication and centralize workflow for vendors and assessors.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"Vendor Risk Management integration with EcoVadis\",\n        \"scope\": \"sn_ecovadis\",\n        \"description\": \"Collect, manage, visualize, and report on ESG data from EcoVadis.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: integrations with third-party content\",\n        \"scope\": \"sn_grc_cim\",\n        \"description\": \"Simplify and standardize third-party content integrations with GRC applications.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"Application Portfolio Management integration with Risk Management\",\n        \"scope\": \"sn_apm_ra\",\n        \"description\": \"Business application risk assessment by integrating APM with the GRC: Advanced Risk app.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"Map UI Component for threat and alert data feeds\",\n        \"scope\": \"sn_fam_map\",\n        \"description\": \"Visualize threat alerts on a geo-map.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Compliance Assessment\",\n        \"scope\": \"sn_comp_asmt\",\n        \"description\": \"Create a consolidated view of compliance including from assessment responses.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Approver Configurator\",\n        \"scope\": \"sn_grc_appr\",\n        \"description\": \"Ensure appropriate approvals for your business continuity or impact planning and analysis.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Performance Analytics Premium Integration\",\n        \"scope\": \"sn_grc_pa\",\n        \"description\": \"Continuously monitor and obtain more granular data for key indicators.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Policy and Compliance integrator\",\n        \"scope\": \"sn_grc_pci\",\n        \"description\": \"Reduce the effort of importing third-party regulatory content into the Policy and Compliance application.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: NIST CSF Use Case Accelerator\",\n        \"scope\": \"sn_irm_nist_csf\",\n        \"description\": \"Make implementing the NIST Cybersecurity Framework easier.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Cloud Security Compliance Accelerator\",\n        \"scope\": \"sn_grc_cloud_sec\",\n        \"description\": \"Continuously monitor cloud security controls for misconfigurations.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"Business Continuity Management\",\n        \"scope\": \"x_fairc_res\",\n        \"description\": \"BC/DR Business Continuity and IT Disaster Recovery.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"Threat and alert data feeds for Crisis Management\",\n        \"scope\": \"sn_fam\",\n        \"description\": \"Subscribe to threat alerts - get situational awareness.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: NIST RMF Use Case Accelerator\",\n        \"scope\": \"sn_irm_nist_rmf\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: SIG Questionnaire Integration\",\n        \"scope\": \"sn_sig_asmt\",\n        \"description\": \"The GRC: SIG Questionnaire Integration plugin installs the Shared Assessments Standardized Information Gathering (SIG) questionnaire for use with the GRC: Vendor Risk Management application.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Crisis Map\",\n        \"scope\": \"sn_bcm_map\",\n        \"description\": \"This application provides feature to visualize impacted assets /resources on a map based on threat feed alerts  and hence proactively manage the crisis.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Performance Analytics Premium Integration\",\n        \"scope\": \"sn_grc_pa\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: DevOps Accelerator\",\n        \"scope\": \"sn_grc_devops\",\n        \"description\": \"DevOps accelerator maps the control objectives drawn from regulations, standards, and frameworks, such as CIS controls, NIST 800-53, ISO 27002, PCI DSS etc., to DevOps Policy as a code engine (PaCE). These policies are provided by the DevOps Config Policy Content Pack. This allows compliance and DevOps managers to preventatively monitor control compliance, get real-time visibility into evidence of PaCE policy execution, and allow for exception management.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Virtual Agent\",\n        \"scope\": \"sn_grc_virt_agent\",\n        \"description\": \"GRC: Virtual Agent.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Metrics\",\n        \"scope\": \"sn_grc_metric\",\n        \"description\": \"Track metrics across GRC applications to measure the progress towards business objectives and goals.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: integrations with third-party content\",\n        \"scope\": \"sn_grc_cim\",\n        \"description\": \"GRC: integrations with third-party content.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Vendor Portal\",\n        \"scope\": \"sn_svdp\",\n        \"description\": \"The Scoped Vendor Portal that replaces the old Vendor Management Vendor Portal in the global scope.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Business Continuity Planning\",\n        \"scope\": \"sn_bcp\",\n        \"description\": \"Business Continuity Planning provides capabilities for business continuity management teams to create, review, and approve business continuity and disaster recovery plans.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Risk Shared Common Components\",\n        \"scope\": \"sn_irm_shared_cmn\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Common Workspace Elements\",\n        \"scope\": \"sn_grc_workspace\",\n        \"description\": \"Base workspace for GRC.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Audit Management Workspace\",\n        \"scope\": \"sn_audit_ws\",\n        \"description\": \"Audit Workspace is a single-pane view that is unique for each audit user such as audit director, audit manager, auditor to view the overall audit timeline and status, track budget, resources, high priority observations and issues, ongoing control testing and audit task progress. It is comprised of a homepage and multiple landing pages.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Profiles\",\n        \"scope\": \"sn_grc\",\n        \"description\": \"GRC Profiles and Issue Management.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Crisis Management integration with Everbridge Notifications\",\n        \"scope\": \"sn_crisis_ebn\",\n        \"description\": \"Crisis Management Integration with Everbridge Notifications.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"Vendor Risk Management integration with EcoVadis\",\n        \"scope\": \"sn_ecovadis\",\n        \"description\": \"This is an application that ingests ESG scores from EcoVadis, a third-party content provider, into the Vendor Risk Management application to drive sourcing and procurement decisions.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Regulatory Change Management\",\n        \"scope\": \"sn_grc_reg_change\",\n        \"description\": \"Regulatory Change Management.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Business Impact Analysis\",\n        \"scope\": \"sn_bia\",\n        \"description\": \"Business Impact Analysis provides structured workflows for business continuity management teams to assess the impact of a disruption to critical resources such as business processes, applications, and locations.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"Application Portfolio Management integration with Risk Management\",\n        \"scope\": \"sn_apm_ra\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Business Continuity Management User - Lite\",\n        \"scope\": \"sn_bcm_lite\",\n        \"description\": \"The BCM customers are used to license operators, users, and user personas who are in the middle ground - Light Operators. To support this request the approvals are to be recorded as a separate activity and not accounted for in the heavy / operator usage.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Compliance Assessment\",\n        \"scope\": \"sn_comp_asmt\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Workbench\",\n        \"scope\": \"sn_grc_workbench\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Advanced Core\",\n        \"scope\": \"sn_grc_advanced\",\n        \"description\": \"Advanced Core provides common functionality to support forward-looking use cases across GRC applications (i.e. Risk, Policy and Compliance, and Audit). Capabilities to manage issue triage workflows and evidence collection by compliance or audit teams. Increase productivity by streamlining vital processes across the enterprise.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Continuous Authorization and Monitoring\",\n        \"scope\": \"sn_irm_cont_auth\",\n        \"description\": \"Develop, document, and implement a program to provide information security for the information and systems that support the operations and assets of federal agencies.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: NIST CSF Use Case Accelerator\",\n        \"scope\": \"sn_irm_nist_csf\",\n        \"description\": \"NIST CSF Accelerator.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Privacy Management\",\n        \"scope\": \"sn_privacy\",\n        \"description\": \"Privacy Management.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Vendor Risk Management\",\n        \"scope\": \"sn_vdr_risk_asmt\",\n        \"description\": \"The GRC: Vendor Risk Management application allows risk management stakeholders to identify, assess, and manage risk across the vendor ecosystem.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"Metric data table\",\n        \"scope\": \"sn_metric_data\",\n        \"description\": \"This is a component repo used for metric data entry for ESG.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Policy and Compliance integrator\",\n        \"scope\": \"sn_grc_pci\",\n        \"description\": \"GRC: Policy and Compliance integrator.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: 360 degree relationship visualization\",\n        \"scope\": \"sn_grc_360degree\",\n        \"description\": \"UI component that creates a visual representation of entity relationships. The component accepts node data, edges (links), the node component, and configurations to create a visualization of entity interconnections.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Advanced Dashboards\",\n        \"scope\": \"sn_grc_pa_advanced\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Advanced Audit\",\n        \"scope\": \"sn_audit_advanced\",\n        \"description\": \"Advanced Audit.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Cybersecurity Controls Accelerator\",\n        \"scope\": \"sn_grc_cis\",\n        \"description\": \"Cybersecurity Controls Accelerator.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Compliance Management Workspace\",\n        \"scope\": \"sn_compliance_ws\",\n        \"description\": \"Compliance Management Workspace.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Crisis Management\",\n        \"scope\": \"sn_recovery\",\n        \"description\": \"Crisis Management provides capabilities for business continuity management teams to activate business continuity plans during plan exercises and actual crisis events.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Risk Management Workspace\",\n        \"scope\": \"sn_risk_workspace\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Business User - Lite\",\n        \"scope\": \"sn_grc_lite\",\n        \"description\": \"The GRC Business User  Lite application enables users to perform limited actions and operations on specific GRC tables.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"Application Portfolio Management integration with Policy and Compliance\",\n        \"scope\": \"sn_apm_cm\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Technology Controls Monitoring Accelerator\",\n        \"scope\": \"sn_grc_infosec\",\n        \"description\": \"Technology Controls Monitoring Accelerator.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Vendor Risk Management Workspace\",\n        \"scope\": \"sn_vrm_ws\",\n        \"description\": \"The Vendor Risk Workspace is a single-pane view that is unique to each vendor risk role. It provides an overall vendor risk posture of the organization and helps track high risk vendors, ongoing risk assessments, time-sensitive issues, ratings from content providers among other things necessary to successfully manage third-party risk.\"\n    }, {\n        \"productName\": \"Governance, Risk, and Compliance\",\n        \"appName\": \"GRC: Approver Configurator\",\n        \"scope\": \"sn_grc_appr\",\n        \"description\": \"GRC: Approver Configurator provides capabilities to define multiple levels of approvals based on business rule definitions.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Vulnerability Response\",\n        \"scope\": \"sn_vul\",\n        \"description\": \"Bring security and IT together to remediate your most critical vulnerabilities quickly and efficiently.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Vulnerability Response Patch Orchestration\",\n        \"scope\": \"sn_vul_patch_orch\",\n        \"description\": \"Vulnerability Response Patch Orchestration is a dependent plugin for patch orchestration integrations.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Security Support Common\",\n        \"scope\": \"sn_sec_cmn\",\n        \"description\": \"Enables core functionality used by Security Operations applications.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Configuration Compliance\",\n        \"scope\": \"sn_vulc\",\n        \"description\": \"Prioritize and remediate the most critical configuration-related vulnerabilities in your environment quickly and efficiently.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Security Operations Setup Assistant\",\n        \"scope\": \"sn_secops_setup\",\n        \"description\": \"Step-by-step guide to help configure Security Operations.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Splunk ES Integration for Security Operations\",\n        \"scope\": \"sn_sec_splunkes\",\n        \"description\": \"Create security response incidents automatically from Splunk Enterprise Security Notable Events.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Vulnerability Assignment Recommendations\",\n        \"scope\": \"sn_vul_recom\",\n        \"description\": \"Use machine learning to recommend owners for remediation activities.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Security Incident Response\",\n        \"scope\": \"sn_si\",\n        \"description\": \"Identify, prioritize, and respond to security incidents.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Vulnerability Response Integration with Palo Alto Prisma Cloud\",\n        \"scope\": \"sn_vul_prismacloud\",\n        \"description\": \"Integrate with Palo Alto Prisma Cloud to manage your configuration issues in the cloud resources.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Security Incident Response integration with Microsoft Defender for Endpoint\",\n        \"scope\": \"sn_sec_defender_ep\",\n        \"description\": \"Investigate and remediate security incidents in one place.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Vulnerability Solution Management\",\n        \"scope\": \"sn_vul_solution\",\n        \"description\": \"Identify the highest-impact patches and other remediation activities for your vulnerability exposure and orchestrate their completion.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Vulnerability Response Integration with CISA\",\n        \"scope\": \"sn_vul_cisa\",\n        \"description\": \"Detect and remediate CISA known exploited vulnerabilities with the Vulnerability Response integration.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"DLP Incident Response integration with Symantec\",\n        \"scope\": \"sn_sym_dlp\",\n        \"description\": \"Provides capability to enable API integration with Symantec (Broadcom) to import Data Loss Prevention (DLP) incidents.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Shodan Exploit Integration for Security Operations\",\n        \"scope\": \"sn_vul_shodan\",\n        \"description\": \"Bring exploit intelligence to enable risk-based prioritization of vulnerabilities.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Vulnerability Response Integration with Microsoft Threat and Vulnerability Management\",\n        \"scope\": \"sn_vul_msft_tvm\",\n        \"description\": \"Integrate your Microsoft Defender Threat and Vulnerability Management deployment with ServiceNow Vulnerability Response to prioritize and remediate vulnerabilities.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Vulnerability Response Licensing and Usage\",\n        \"scope\": \"sn_vul_licensing\",\n        \"description\": \"Reports and modules for tracking usage metrics.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Vulnerability Response and Configuration Compliance for Containers\",\n        \"scope\": \"sn_vul_container\",\n        \"description\": \"Bring security and application teams together to remediate your most critical container vulnerabilities quickly and efficiently.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Task Organizer UI Component for Major Security Incident Management Workspace\",\n        \"scope\": \"sn_msim_evam_task\",\n        \"description\": \"Task Organizer Component for security operations is a dependency plugin that provides the Task Organizer component in the Major Security Incident Management workspace.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Security Incident Response Workspace\",\n        \"scope\": \"sn_si_aw\",\n        \"description\": \"Security Incident Response Workspace will be used by Security Analysts and SOC Managers to resolve Security Incidents and perform all SOAR related activities.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Vulnerability Response Patch Orchestration with HCL Bigfix\",\n        \"scope\": \"sn_vul_bigfix\",\n        \"description\": \"Integration with HCL BigFix to schedule patches for faster remediation of critical vulnerabilities.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Vulnerability Response Patch Orchestration with Microsoft SCCM\",\n        \"scope\": \"sn_vul_sccm\",\n        \"description\": \"Integration with Microsoft SCCM to schedule patches for faster remediation of critical vulnerabilities.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"DLP Incident Response integration with Proofpoint\",\n        \"scope\": \"sn_pp_dlp\",\n        \"description\": \"DLP Incident Response integration with Proofpoint.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Vulnerability Response Integration with Veracode\",\n        \"scope\": \"sn_vul_veracode\",\n        \"description\": \"Integrate your Veracode deployment with ServiceNow Vulnerability Response to prioritize and remediate application vulnerabilities.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Splunk Search Integration for Security Operations\",\n        \"scope\": \"sn_sec_splunk\",\n        \"description\": \"Adds sightings information to your security incidents.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Security Incident Response integration with FireEye HX\",\n        \"scope\": \"sn_sec_fireeyehx\",\n        \"description\": \"This integration makes it easier and efficient for Security Analysts to investigate and remediate security incidents in an instant without having to navigate between tools.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Performance Analytics for Security Incident Response\",\n        \"scope\": \"sn_sir_analytics\",\n        \"description\": \"Metrics and dashboards content pack.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Vulnerability Response Common\",\n        \"scope\": \"sn_vul_cmn\",\n        \"description\": \"Enables core functionality used by Vulnerability Response.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Predictive Intelligence for User Reported Phishing\",\n        \"scope\": \"sn_sir_ml_urp\",\n        \"description\": \"Increase security analyst productivity and reduce user reported phishing incidents resolution time with machine learning.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Threat Intelligence\",\n        \"scope\": \"sn_ti_ac\",\n        \"description\": \"Collect, manage, and correlate cyber-threat intelligence.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Major Security Incident Management\",\n        \"scope\": \"sn_msi\",\n        \"description\": \"Major Security Incident Management (MSIM) provides a unique user workspace and workflow methodology to coordinate various activities across different user groups and resolve major security incidents more efficiently.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Chat integration with Security Incident Management\",\n        \"scope\": \"sn_chat_collab\",\n        \"description\": \"Allows you to track the chat activity for third-party applications such as Microsoft Teams or Slack.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Common Plugin for SecOps SIEM Integrations\",\n        \"scope\": \"sn_event_ingestion\",\n        \"description\": \"This plugin provides tables, utilities, and templates for other SIEM integrations.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"File Explorer for Security Incident Response\",\n        \"scope\": \"sn_fe\",\n        \"description\": \"Provides base infrastructure to integrate with any third-party file hosting provider.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Security Incident Response Integration with Zscaler\",\n        \"scope\": \"sn_sec_z\",\n        \"description\": \"Performs a reputation look up of observables in Security incident against the global threat library maintained by Zscaler.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"DLP Incident Response integration with Netskope\",\n        \"scope\": \"sn_ns_dlp\",\n        \"description\": \"DLP Incident Response integration with Netskope.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Vulnerability Response Integration with NVD\",\n        \"scope\": \"sn_vul_nvd\",\n        \"description\": \"Integrate with the NIST National Vulnerability Database (NVD) to import CVEs and CPEs and better understand your vulnerability exposure.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Collaboration UI Component for Major Security Incident Management Workspace\",\n        \"scope\": \"sn_msi_evam_card\",\n        \"description\": \"Collaboration Component for Security Operations is a dependency only plugin that provides the Collaboration Component for Major Security Incident Management Workspace.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Security Support Common\",\n        \"scope\": \"sn_sec_cmn\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Configuration Compliance\",\n        \"scope\": \"sn_vulc\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Threat Intelligence\",\n        \"scope\": \"sn_ti_ac\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Vulnerability Response and Configuration Compliance for Containers\",\n        \"scope\": \"sn_vul_container\",\n        \"description\": \"Core app that contains base libraries, tables and other components for supporting vulnerability response and configuration compliance for containers.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"DLP Incident Response integration with Symantec\",\n        \"scope\": \"sn_sym_dlp\",\n        \"description\": \"Integrates with Symantec Data Loss Prevention (DLP) product APIs to import DLP incidents created for endpoint, email, and network.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Vulnerability Response Licensing and Usage\",\n        \"scope\": \"sn_vul_licensing\",\n        \"description\": \"Vulnerability Response Licensing and Usage.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Performance Analytics for Security Incident Response\",\n        \"scope\": \"sn_sir_analytics\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Security Incident Response integration with Microsoft Defender for Endpoint\",\n        \"scope\": \"sn_sec_defender_ep\",\n        \"description\": \"This plugin does Microsoft Defender for Endpoint integration with Security Incident Response.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Splunk Search Integration for Security Operations\",\n        \"scope\": \"sn_sec_splunk\",\n        \"description\": \"Activation of this plugin on production instances may require a separate license.  Contact ServiceNow for details.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Vulnerability Response Integration with Palo Alto Prisma Cloud\",\n        \"scope\": \"sn_vul_prismacloud\",\n        \"description\": \"Provides the ability to integrate ServiceNow Vulnerability Response with the Palo Alto Prisma Cloud to import policy violations.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Splunk ES Integration for Security Operations\",\n        \"scope\": \"sn_sec_splunkes\",\n        \"description\": \"Activation of this plugin on production instances may require a separate license.  Contact ServiceNow for details.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Security Operations Setup Assistant\",\n        \"scope\": \"sn_secops_setup\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Major Security Incident Management\",\n        \"scope\": \"sn_msi\",\n        \"description\": \"Customers want an enhanced capability to track and resolve major security incidents differently than more commonplace security incidents that are handled within the Security Incident Response (SIR) teams. This product offering will provide a unique user workspace and workflow methodology to better coordinate activity across different user groups and resolve major security incidents more effiiciently.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Security Incident Response Integration with Zscaler\",\n        \"scope\": \"sn_sec_z\",\n        \"description\": \"Security Incident Response Integration with Zscaler.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Security Incident Response\",\n        \"scope\": \"sn_si\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Security Incident Response integration with FireEye HX\",\n        \"scope\": \"sn_sec_fireeyehx\",\n        \"description\": \"FireEye HX Integration for Security Operations.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Predictive Intelligence for User Reported Phishing\",\n        \"scope\": \"sn_sir_ml_urp\",\n        \"description\": \"Activation of this plugin on production instances may require a separate license. Contact ServiceNow for details.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Vulnerability Response Patch Orchestration with HCL Bigfix\",\n        \"scope\": \"sn_vul_bigfix\",\n        \"description\": \"Provides the ability to integrate the ServiceNow Vulnerability Response application with HCL Bigfix.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Vulnerability Assignment Recommendations\",\n        \"scope\": \"sn_vul_recom\",\n        \"description\": \"VR Assignment Recommendations.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Vulnerability Response Integration with NVD\",\n        \"scope\": \"sn_vul_nvd\",\n        \"description\": \"Provides the ability to integrate the ServiceNow Vulnerability Response application with the National Vulnerability Database. Activation of this plugin on production instances may require a separate license. Contact ServiceNow for details.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Vulnerability Solution Management\",\n        \"scope\": \"sn_vul_solution\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Common Plugin for SecOps SIEM Integrations\",\n        \"scope\": \"sn_event_ingestion\",\n        \"description\": \"Activation of this plugin on production instances may require a separate license.  Contact ServiceNow for details.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Vulnerability Response Integration with Veracode\",\n        \"scope\": \"sn_vul_veracode\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Vulnerability Response Patch Orchestration with Microsoft SCCM\",\n        \"scope\": \"sn_vul_sccm\",\n        \"description\": \"Provides the ability to integrate the ServiceNow Vulnerability Response application with Microsoft SCCM. The Microsoft SCCM integration provides the ability to view the patches, deployments status, and patch supersedence details. These details help the security and IT teams to prioritize the remediation efforts. Vulnerability Response enables IT teams to schedule patches from the Vulnerability Response console. It also helps the security team to identify whether the patches have been scheduled.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Vulnerability Response Integration with Microsoft Threat and Vulnerability Management\",\n        \"scope\": \"sn_vul_msft_tvm\",\n        \"description\": \"Provides the ability to integrate the ServiceNow Vulnerability Response application with the Microsoft Threat and Vulnerability Management. Activation of this plugin on production instances may require a separate license. Contact ServiceNow for details.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Vulnerability Response Integration with CISA\",\n        \"scope\": \"sn_vul_cisa\",\n        \"description\": \"Vulnerability Response Integration with CISA.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Vulnerability Response Patch Orchestration\",\n        \"scope\": \"sn_vul_patch_orch\",\n        \"description\": \"Vulnerability Response Patch Orchestration is a dependent plugin for Patch Orchestration integrations.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Security Incident Response Workspace\",\n        \"scope\": \"sn_si_aw\",\n        \"description\": \"Security Incident Response Workspace will be used by Security Analysts and SOC Managers to solve Security Incidents and perform all SOAR related activities.\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Shodan Exploit Integration for Security Operations\",\n        \"scope\": \"sn_vul_shodan\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Security Operations (Product Line)\",\n        \"appName\": \"Vulnerability Response\",\n        \"scope\": \"sn_vul\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"DevOps Insights\",\n        \"scope\": \"sn_devops_insights\",\n        \"description\": \"Supercharge your DevOps insights.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Service Level Management Experience for Workspace\",\n        \"scope\": \"sn_sla\",\n        \"description\": \"Service Level Management for Service Operations Workspace.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"DevOps Config Policy Content Pack\",\n        \"scope\": \"sn_devops_config_p\",\n        \"description\": \"Accelerate configuration data validation in DevOps Config.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Shift Planning\",\n        \"scope\": \"sn_shift_planning\",\n        \"description\": \"Shift planning for workforce optimization.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"DevOps Data Model\",\n        \"scope\": \"sn_devops\",\n        \"description\": \"Empowering DevOps transformation.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Performance Analytics Content Pack - Vendor Management Workspace\",\n        \"scope\": \"sn_itsm_vendor_pa\",\n        \"description\": \"This plugin contains performance analytics indicators used by the Vendor Management Workspace.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Estimated Cost Savings\",\n        \"scope\": \"sn_sd_cost_savings\",\n        \"description\": \"Measure estimated cost savings across product capabilities on Success Dashboard.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"DevOps Workspace\",\n        \"scope\": \"sn_devops_ws\",\n        \"description\": \"Empowering DevOps transformation.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"ITSM Enterprise UI Components\",\n        \"scope\": \"sn_opt_components\",\n        \"description\": \"This plugin contains a set of shared components used by ITSM Enterprise products.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Broadcom Rally Integration with DevOps\",\n        \"scope\": \"sn_devops_rally\",\n        \"description\": \"Connect Rally Software to ServiceNow DevOps.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Workforce Optimization Configurable Workspace Core\",\n        \"scope\": \"sn_wfo_cfg_ws\",\n        \"description\": \"Workforce Optimization Configurable Workspace core application shell.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Collaboration Services\",\n        \"scope\": \"sn_tcm_collab_hook\",\n        \"description\": \"Enables users to collaborate and communicate with external collaboration tools in real time.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Configuration Data Management\",\n        \"scope\": \"sn_cdm\",\n        \"description\": \"Author, manage, and validate Dev Ops configuration data.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"User Surveys\",\n        \"scope\": \"sn_wfo_usersurveys\",\n        \"description\": \"Includes the ability for a manager to create surveys to administer to the teams they manage.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Shift Planning for Configurable Workspace\",\n        \"scope\": \"sn_uib_agent_sp\",\n        \"description\": \"Support Agent Scheduling in Configurable Workspace.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Channel Management\",\n        \"scope\": \"sn_channel_mgmt\",\n        \"description\": \"Supports Channel Management for Workforce Optimization.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Service Operations Workspace ITSM Applications\",\n        \"scope\": \"sn_sow_itsm_cont\",\n        \"description\": \"Automate and modernize your IT Service Management workflows for modern operations.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Service Operations Workspace UI Components\",\n        \"scope\": \"sn_itom_uib_comp\",\n        \"description\": \"Service Operations Workspace.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"DevOps Integrations\",\n        \"scope\": \"sn_devops_ints\",\n        \"description\": \"Empowering DevOps transformation.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Service Operations Workspace Express List\",\n        \"scope\": \"sn_itom_aiops_list\",\n        \"description\": \"Service Operations Workspace Express List ITOM Health Event Management.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Meeting Extensions for Microsoft Teams\",\n        \"scope\": \"sn_now_teams_ext\",\n        \"description\": \"Manage Major Incidents within a Microsoft Teams Meeting.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Workforce Optimization Common\",\n        \"scope\": \"sn_wfo_common\",\n        \"description\": \"Common Dependency plugin for Workforce Optimization products.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Vendor Manager Workspace\",\n        \"scope\": \"sn_itsm_vendor\",\n        \"description\": \"The Vendor Management product is a workspace and set of configurations that allows Vendor Managers to holistically view and manage vendor performance and risk in one single location.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"DevOps Change Velocity\",\n        \"scope\": \"sn_devops_chgvlcty\",\n        \"description\": \"Empowering DevOps transformation.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Request Management for Service Operations Workspace\",\n        \"scope\": \"sn_sow_req\",\n        \"description\": \"Manage the entire lifecycle of requests with Service Operations Workspace.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Policy as Code Engine\",\n        \"scope\": \"sn_pace\",\n        \"description\": \"Policy as Code Engine enables automation of compliance and regulation decisions by leveraging codified policies.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Incident Management for Service Operations Workspace\",\n        \"scope\": \"sn_sow_inc\",\n        \"description\": \"Respond to and resolve incidents faster with Service Operations Workspace.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Site Reliability Operations\",\n        \"scope\": \"sn_sro\",\n        \"description\": \"Deliver modern operations for DevOps and SRE teams.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Recommendations for Incident Management\",\n        \"scope\": \"sn_sow_incident_rf\",\n        \"description\": \"Provides tailored recommendations to accelerate incident resolution.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Service Operations Workspace Alert Mngmt\",\n        \"scope\": \"sn_sow_em\",\n        \"description\": \"Service Operations Workpace.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Event Management Connectors\",\n        \"scope\": \"sn_em_connector\",\n        \"description\": \"Bring your observability data to the Now Platform with ease.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Service Builder\",\n        \"scope\": \"sn_service_builder\",\n        \"description\": \"Service Builder is a guided walk-through that assists service and portfolio owners in creating services and offerings.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"ITSM Virtual Agent Conversations\",\n        \"scope\": \"sn_itsm_va\",\n        \"description\": \"Purpose-built IT service management conversations to help your organization quickly deploy automated self-service experiences.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Problem Management for Service Operations Workspace\",\n        \"scope\": \"sn_sow_problem\",\n        \"description\": \"Help identify the cause of a service interruption reported by significant or recurring incidents.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Common UIB Wrapper Components\",\n        \"scope\": \"sn_cmn_uib_comp\",\n        \"description\": \"Common seismic components wrappers for UIB experiences.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Interceptor UI for Service Operations Workspace\",\n        \"scope\": \"sn_sow_interceptor\",\n        \"description\": \"Provides interceptor UI for Service Operations Workspace.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"HR Service Delivery integration with Microsoft Teams\",\n        \"scope\": \"sn_now_teams_hr\",\n        \"description\": \"Resolve employee requests, directly in Microsoft Teams.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Vendor Management Workspace UI Components\",\n        \"scope\": \"sn_itsm_vend_comp\",\n        \"description\": \"This plugin contains a set of shared components used by Vendor Management products.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Expanded Model and Asset Classes\",\n        \"scope\": \"sn_ent\",\n        \"description\": \"A single source for all new, out-of-the-box, expanded classes for models and assets from ServiceNow.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Notify Connector for Microsoft Teams\",\n        \"scope\": \"sn_notify_msteams\",\n        \"description\": \"Start and manage Microsoft Teams Meetings with Notify.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Virtual Machine Management for Virtual Agent\",\n        \"scope\": \"sn_managevm_va\",\n        \"description\": \"Purpose-built conversation to help you manage day-to-day activities related to virtual machines.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"@devsnc/sn-devops-pipeline\",\n        \"scope\": \"sn_devops_pipeline\",\n        \"description\": \"Empowering DevOps transformation.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Common Vendor Core\",\n        \"scope\": \"sn_vendor_core\",\n        \"description\": \"Shared components for the Vendor Management Workspace.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Service Operations Workspace Log Analytics\",\n        \"scope\": \"sn_sow_hla\",\n        \"description\": \"Service Operations Workspace.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"ServiceNow Voice UI components\",\n        \"scope\": \"sn_cti_ux\",\n        \"description\": \"Call Recording, Transcription and Sentiment analysis for ServiceNow Voice with Workspace experience.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"ServiceNow Voice with Amazon Connect\",\n        \"scope\": \"sn_cti_amzn_cct\",\n        \"description\": \"Rapidly integrates ServiceNow Voice with Amazon Connect.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Service Operations Workspace ITSM Common\",\n        \"scope\": \"sn_sow_itsm_common\",\n        \"description\": \"Delivers common configurations shared across ITSM applications.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"DevOps Config Exporter Content Pack\",\n        \"scope\": \"sn_devops_config_e\",\n        \"description\": \"Accelerate export of configuration data in DevOps Config.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"DevOps Config\",\n        \"scope\": \"sn_devops_config\",\n        \"description\": \"Continuously validate configuration data to prevent risky changes from impacting customers.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"DevOps Config Insights\",\n        \"scope\": \"sn_devops_config_i\",\n        \"description\": \"Drive improvement in your configuration data management practices.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Agent Client Collector for Investigation\",\n        \"scope\": \"sn_acc_adapter\",\n        \"description\": \"Retrieve and capture metrics data from Agent Client Collector.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Workforce Optimization for ITSM Configurable Workspace\",\n        \"scope\": \"sn_wfo_cfg_itsm\",\n        \"description\": \"Manage all your agents from the Manager Workspace. You can schedule your agents shifts, track their performance metrics, assign trainings and review their skills as well as assign new trainings.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Metrics Collector Framework\",\n        \"scope\": \"sn_cimaf\",\n        \"description\": \"Collect metrics data from your systems.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Recommendation Framework\",\n        \"scope\": \"sn_rf\",\n        \"description\": \"Framework to generate contextual and actionable real time recommendations.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Coaching\",\n        \"scope\": \"sn_coaching\",\n        \"description\": \"Coach employees on their work through the use of coaching assessments and coaching opportunities.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Agent Forecast\",\n        \"scope\": \"sn_agent_forecast\",\n        \"description\": \"Demand forecasting for workforce optimization.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Digital Portfolio Management\",\n        \"scope\": \"sn_dpm\",\n        \"description\": \"Manage all your services and applications from one unified location in Digital Portfolio Management.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Workforce Optimization Configurable Workspace UI Components\",\n        \"scope\": \"sn_wfo_components\",\n        \"description\": \"CSM Configurable Workspace UI components for Workforce Optimization.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Site Reliability Metrics\",\n        \"scope\": \"sn_srm\",\n        \"description\": \"Service Level Indicator, Service Level Objectives and Error Budgets for SREs.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Coaching with Learning Migration Utility\",\n        \"scope\": \"sn_coach_ln_mgr\",\n        \"description\": \"Run this utility to migrate records from the Coaching table in prior releases to the Coaching With Learning application.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Service Operations Workspace ITOM Apps\",\n        \"scope\": \"sn_sow_itom_cont\",\n        \"description\": \"Service Operations Workspace.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Employee Experience VA topics and topic blocks\",\n        \"scope\": \"sn_va_cmn_ee\",\n        \"description\": \"A common repository of all the Employee centred topics and topic blocks that would help their fulfil their service needs using virtual agent.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Change Management for Service Operations Workspace\",\n        \"scope\": \"sn_sow_chg\",\n        \"description\": \"Change creation Landing Page for Service Operations Workspace.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Work Scheduler for Workforce Optimization\",\n        \"scope\": \"sn_wfo_work_sched\",\n        \"description\": \"Provides the ability to manage work in Workforce Optimization for ITSM.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Collaboration Services for Service Operations Workspace\",\n        \"scope\": \"sn_sow_collab\",\n        \"description\": \"Collaboration made easyto stay connected with the requester and peers right from the task.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Investigation Framework\",\n        \"scope\": \"sn_invest_fwk\",\n        \"description\": \"Streamline investigations and accelerate incident resolution.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Record Page for Service Operations Workspace\",\n        \"scope\": \"sn_sow_record\",\n        \"description\": \"Workspace record view for seamless user experience.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"ServiceNow Voice\",\n        \"scope\": \"sn_cti_core\",\n        \"description\": \"Core framework for enabling ServiceNow Voice (Previously Cloud Call Center).\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Coaching With Learning\",\n        \"scope\": \"sn_coach_lrn\",\n        \"description\": \"Manage internal learning content and access external learning content, like Pluralsight and Cornerstone, from a central location.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Walk-up Experience for Service Operations Workspace\",\n        \"scope\": \"sn_sow_walkup\",\n        \"description\": \"Manage your Walk-up queues, stockroom and appointments using Service Operations Workspace.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Service Builder Components\",\n        \"scope\": \"sn_sb_components\",\n        \"description\": \"This is a supporting plugin that provides UI components for the Service Builder product.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"IT Service Management integration with Microsoft Teams\",\n        \"scope\": \"sn_now_teams_it\",\n        \"description\": \"Resolve employee requests directly in Microsoft Teams.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Workforce Optimization Content Pack for ITSM\",\n        \"scope\": \"sn_wfo_itsm_cnt\",\n        \"description\": \"New features available for customers before the next release cycle.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"On Call Scheduling for Service Operations Workspace\",\n        \"scope\": \"sn_sow_on_call\",\n        \"description\": \"Reach out to experts on-call to get help and accelerate incident resolution.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"DevOps Integration with Argo CD\",\n        \"scope\": \"sn_devops_argocd\",\n        \"description\": \"Accelerate change with Argo CD and ServiceNow DevOps.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Node map Experience Component\",\n        \"scope\": \"sn_node_map\",\n        \"description\": \"Visualize hierarchical relationships between objects.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Service Operations Workspace Core\",\n        \"scope\": \"sn_sow\",\n        \"description\": \"Enables core capabilities and workspace configurations.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"ITSM Mobile Agent\",\n        \"scope\": \"sn_itsm_mobile_agt\",\n        \"description\": \"Mobile App for  servicenow ITSM Agent.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Problem Management Migration Utility\",\n        \"scope\": \"sn_problem_migr\",\n        \"description\": \"Adopt the problem state model guided life cycle.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"ITSM NLU Model for Virtual Agent Conversations\",\n        \"scope\": \"sn_itsm_nlu\",\n        \"description\": \"NLU Model for ITSM Virtual Agent Conversations.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Password Reset for Virtual Agent\",\n        \"scope\": \"sn_pwdreset_va\",\n        \"description\": \"Password Reset conversations to help your organization quickly deploy automated self-service password resets.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Interaction Management for Service Operations Workspace\",\n        \"scope\": \"sn_sow_interaction\",\n        \"description\": \"Respond to incoming chat, phone, walk-up, messaging interactions faster with Service Operations Workspace.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"DevOps Feature Flag Integrations\",\n        \"scope\": \"sn_devops_ff_ints\",\n        \"description\": \"Split feature flag integration with ServiceNow DevOps.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Alert Rules Management\",\n        \"scope\": \"sn_em_arm\",\n        \"description\": \"Alert Rules Management engine helps operators to increase automation and shorten MTTR.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Skill Review Management\",\n        \"scope\": \"sn_wfo_skillreview\",\n        \"description\": \"Use this application to manage skills across your team and empower your team members to manage their skill profile.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Quick links component for Service Operations Workspace\",\n        \"scope\": \"sn_sow_quick_links\",\n        \"description\": \"Create and maintain your list of customized hyperlinks.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"ServiceNow Voice for ITSM\",\n        \"scope\": \"sn_cti_itsm_cnt\",\n        \"description\": \"Quickly enables ServiceNow Voice apps to integrate with ITSM.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"ITSM Success Dashboard indicators\",\n        \"scope\": \"sn_sd_itsm\",\n        \"description\": \"Increase the value you get from your ITSM implementation by measuring performance using ServiceNow prescribed KPIs.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Service Builder\",\n        \"scope\": \"sn_service_builder\",\n        \"description\": \"Service Builder is an application that provides users with a step-by-step experience to create and fill out services.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Recommendation Framework\",\n        \"scope\": \"sn_rf\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Service Builder Components\",\n        \"scope\": \"sn_sb_components\",\n        \"description\": \"Seismic components for Service Builder UIB application.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"ITSM Success Dashboard indicators\",\n        \"scope\": \"sn_sd_itsm\",\n        \"description\": \"Measures the ITSM performance on key indicators such as Self-Service, Virtual Agent (VA), and Predictive Intelligence.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"DevOps Config Policy Content Pack\",\n        \"scope\": \"sn_devops_config_p\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Coaching\",\n        \"scope\": \"sn_coaching\",\n        \"description\": \"The Coaching module facilitates the coaching of employees on their work through the use of coaching opportunities (critical moments in a process) that can be conditionally configured.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Problem Management Migration Utility\",\n        \"scope\": \"sn_problem_migr\",\n        \"description\": \"The problem management migration utility is a guided setup application that helps upgrade customers to adopt to the base version of problem management using the guided problem life cycle.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Coaching with Learning Migration Utility\",\n        \"scope\": \"sn_coach_ln_mgr\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"ITSM Mobile Agent\",\n        \"scope\": \"sn_itsm_mobile_agt\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"IT Service Management integration with Microsoft Teams\",\n        \"scope\": \"sn_now_teams_it\",\n        \"description\": \"ServiceNow IT Service Management integration with Microsoft Teams enables employees to interact with the IT service desk, directly in Microsoft Teams. Employees can ask questions, report on issues, request services and chat with a virtual or live IT service desk agent to resolve issues.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"DevOps Data Model\",\n        \"scope\": \"sn_devops\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Investigation Framework\",\n        \"scope\": \"sn_invest_fwk\",\n        \"description\": \"With Investigation Framework, you can enrich an incident with system details and metrics from your devices and servers to streamline investigations and accelerate incident resolution. The solution integrates with ACC-V, which executes OS Query commands to gather information such as running processes, services, CPU usage, and memory.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"DevOps Insights\",\n        \"scope\": \"sn_devops_insights\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"DevOps Config Insights\",\n        \"scope\": \"sn_devops_config_i\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Digital Portfolio Management\",\n        \"scope\": \"sn_dpm\",\n        \"description\": \"Digital Portfolio Management is a workspace for IT leaders to track and manage entities they and their team own.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"DevOps Config\",\n        \"scope\": \"sn_devops_config\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Expanded Model and Asset Classes\",\n        \"scope\": \"sn_ent\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"DevOps Change Velocity\",\n        \"scope\": \"sn_devops_chgvlcty\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Coaching With Learning\",\n        \"scope\": \"sn_coach_lrn\",\n        \"description\": \"ServiceNow Coaching with Learning.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"DevOps Integrations\",\n        \"scope\": \"sn_devops_ints\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"DevOps Config Exporter Content Pack\",\n        \"scope\": \"sn_devops_config_e\",\n        \"description\": \"Devops Config Exporter Content Pack.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"ITSM Enterprise UI Components\",\n        \"scope\": \"sn_opt_components\",\n        \"description\": \"Reusable components across ITSM Optimize pillar.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Agent Client Collector for Investigation\",\n        \"scope\": \"sn_acc_adapter\",\n        \"description\": \"The Agent Client Collector for Investigation application enables you to retrieve and view metrics data for the affected CIs. You can enrich an incident with asset details and metrics from your devices and servers to streamline investigations and accelerate incident resolution.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Site Reliability Operations\",\n        \"scope\": \"sn_sro\",\n        \"description\": \"Provides worklows and workspace for Site Reliability Operations.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Site Reliability Metrics\",\n        \"scope\": \"sn_srm\",\n        \"description\": \"Key elements of SLI definition, SLO configuration and Error Budget policies.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"Collaboration Services\",\n        \"scope\": \"sn_tcm_collab_hook\",\n        \"description\": \"Collaboration Services enables customers to use collaboration services such as Slack \\n\\tand Microsoft Teams on ServiceNow records for Agent / Employee collaboration.\"\n    }, {\n        \"productName\": \"IT Service Management\",\n        \"appName\": \"ITSM NLU Model for Virtual Agent Conversations\",\n        \"scope\": \"sn_itsm_nlu\",\n        \"description\": \"This app contains NLU models used in the VA topics for ITSM related use cases.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Mobile App Builder API\",\n        \"scope\": \"sn_mab_api\",\n        \"description\": \"API component to support the Mobile App Builder no-code tool, for building and managing ServiceNow iOS and Android mobile apps.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Service Graph Data Visualizer\",\n        \"scope\": \"sn_data_visual\",\n        \"description\": \"Visualize data transformation and mapping in Service Graph Connectors.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Conversational Integration with Facebook Messenger\",\n        \"scope\": \"sn_va_fb_messenger\",\n        \"description\": \"Enable customer engagement over the Facebook Messenger application.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Event Organizer\",\n        \"scope\": \"sn_evt_organiz\",\n        \"description\": \"Digitize event management for seamless experience for event organizers and attendees.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Common Page Templates\",\n        \"scope\": \"sn_uib_base_aw\",\n        \"description\": \"Build pages in UIB from common templates like list and record pages.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Carousel component\",\n        \"scope\": \"sn_carousel\",\n        \"description\": \"Rotate through a list of items.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"AI Search Data Labeling\",\n        \"scope\": \"sn_ais_data\",\n        \"description\": \"Evaluate search application quality on your own data.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Adoption Blueprint for Technology Excellence\",\n        \"scope\": \"sn_itsm_bus_obj\",\n        \"description\": \"Utilze adoption blueprints to acheive the outcomes that align to your strategic priorities.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"CMDB CI Class Models\",\n        \"scope\": \"sn_cmdb_ci_class\",\n        \"description\": \"A single source for all new, out-of-the-box, CMDB CI class models from ServiceNow.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"CMDB Application for APIs and CLI\",\n        \"scope\": \"sn_service_graph\",\n        \"description\": \"CMDB CLI and API app.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Calendar component\",\n        \"scope\": \"sn_calendar\",\n        \"description\": \"Show users time based events in a full featured calendar with month, week, day and timeline views.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Audio player component\",\n        \"scope\": \"sn_audio_player\",\n        \"description\": \"Insert audio content into your experience.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"CMDB Workspace\",\n        \"scope\": \"sn_cmdb_ws\",\n        \"description\": \"A modern workspace where you can search, explore, and work with the CMDB.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Mobile App Builder\",\n        \"scope\": \"sn_mab\",\n        \"description\": \"Rapidly build and configure ServiceNow iOS and Android mobile apps via an intuitive builder.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Shift Planning for Configurable Workspace\",\n        \"scope\": \"sn_uib_agent_sp\",\n        \"description\": \"Support Agent Scheduling in Configurable Workspace.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Meeting Extensions for Microsoft Teams\",\n        \"scope\": \"sn_now_teams_ext\",\n        \"description\": \"Manage Major Incidents within a Microsoft Teams Meeting.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Flow Diagramming\",\n        \"scope\": \"sn_flow_diagram\",\n        \"description\": \"Easily understand complex flow logic with flowchart style visual diagramming.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Conversational SMS Integration with Twilio\",\n        \"scope\": \"sn_va_sms_twilio\",\n        \"description\": \"Twilio SMS as Virtual Agent messaging channel.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Checklist component\",\n        \"scope\": \"sn_now_checklist\",\n        \"description\": \"A group of checkboxes used to select or deselect any number of independent options from a list.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Service Graph Connector for AWS\",\n        \"scope\": \"sn_aws_integ\",\n        \"description\": \"Frictionless integration for AWS data visibility.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"CMDB Page Templates\",\n        \"scope\": \"sn_cmdb_pg_templts\",\n        \"description\": \"View CI records in CMDB Workspace with configurable UIB page templates.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Service Graph Connector Licensing\",\n        \"scope\": \"sn_sgc_licensing\",\n        \"description\": \"Enabling Partner Service Graph Connectors with additional SKUs.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Timeline component\",\n        \"scope\": \"sn_ui_timeline\",\n        \"description\": \"Visualize events and changes on a timeline.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Playbook Experience\",\n        \"scope\": \"sn_playbook_exp\",\n        \"description\": \"Visualize and interact with business process workflows in real-time.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Microsoft Azure AD Spoke for Password Reset\",\n        \"scope\": \"sn_pwd_aad_spoke\",\n        \"description\": \"Extend Password Management to your Microsoft Azure AD environments.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Service Graph Connector Support Tools\",\n        \"scope\": \"sn_sgc_support\",\n        \"description\": \"Service Graph debugging tool.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Conversational Integration with Workplace from Facebook\",\n        \"scope\": \"sn_va_fb_workplace\",\n        \"description\": \"Interact directly with ServiceNow Virtual Agent and live agents from within Workplace from Facebook.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Virtual Machine Management for Virtual Agent\",\n        \"scope\": \"sn_managevm_va\",\n        \"description\": \"Purpose-built conversation to help you manage day-to-day activities related to virtual machines.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Service Graph Connector for Jamf\",\n        \"scope\": \"sn_jamf_integrate\",\n        \"description\": \"Bring macOS and iOS hardware and software application data into CMDB.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Azure Active Directory User Mapping\",\n        \"scope\": \"sn_now_azure\",\n        \"description\": \"Workflows and mappings for ServiceNow user to Azure Active Directory user.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Employee Center Packs\",\n        \"scope\": \"sn_ec_packs\",\n        \"description\": \"Get a collection of widgets that can accelerate and automate your day.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Flow Template Builder\",\n        \"scope\": \"sn_flow_template\",\n        \"description\": \"Simplify and accelerate how you build flow templates.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Service Graph Connector for ExtraHop\",\n        \"scope\": \"sn_extrahop_integr\",\n        \"description\": \"Bring network visibility data into CMDB.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Service Graph Connector for Microsoft Intune\",\n        \"scope\": \"sn_intune_integrat\",\n        \"description\": \"Mobile device visibility in your CMDB.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"QR Scan for Now Mobile\",\n        \"scope\": \"sn_now_qrscan\",\n        \"description\": \"Simply scan QR Codes on your mobile to report an issue with Now Mobile QR Scan application.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Process Automation Content\",\n        \"scope\": \"sn_pad_content\",\n        \"description\": \"Out of the Box content for Process Automation Designer.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"CIO Dashboard\",\n        \"scope\": \"sn_ciodashboard\",\n        \"description\": \"CIO Dashboard helps to run IT like a business.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Appointment calendar component\",\n        \"scope\": \"sn_appointment_cal\",\n        \"description\": \"Select an appointment time from a configured set of available appointment slots.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Decision Builder\",\n        \"scope\": \"sn_decision_design\",\n        \"description\": \"Create decision rules to easily manage complex, business-specific logic and policies.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Service Graph Connector for Infoblox\",\n        \"scope\": \"sn_infoblox_integ\",\n        \"description\": \"IP Address Visibility with Infoblox.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Sales Quota Management\",\n        \"scope\": \"sn_paf_accelera\",\n        \"description\": \"Increased Deal Velocity.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Mobile Card Builder\",\n        \"scope\": \"sn_mobile_card_bui\",\n        \"description\": \"No code tool for customizing card views and their templates used in the ServiceNow iOS and Android mobile apps.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Playbook Experience Components\",\n        \"scope\": \"now_playbook_exp\",\n        \"description\": \"Common components installed with Playbook Experience.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Service Graph Connector for Observability - AppDynamics\",\n        \"scope\": \"sn_sg_appd\",\n        \"description\": \"Efficiently bring in CIs, Service Maps and Events.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Instance Troubleshooter\",\n        \"scope\": \"sn_troubleshooter\",\n        \"description\": \"Self-Service tool to troubleshoot and resolve issues with your instance.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Decision Table Builder\",\n        \"scope\": \"sn_decision_table\",\n        \"description\": \"Store complex business logic using decision tables within Decision Builder.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Next Experience Readiness Checker\",\n        \"scope\": \"sn_ne_readiness\",\n        \"description\": \"Examine your instance for usage of applications that are not compatible with Next Experience.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Workforce Optimization Configurable Workspace UI Components\",\n        \"scope\": \"sn_wfo_components\",\n        \"description\": \"CSM Configurable Workspace UI components for Workforce Optimization.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Collaboration Calendar\",\n        \"scope\": \"sn_collab_calendar\",\n        \"description\": \"Calendar App that helps to Organize, Schedule and Communicate your Team Events Efficiently.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Contact card component\",\n        \"scope\": \"sn_contact_card\",\n        \"description\": \"Display important information and contact details.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"AI Search Admin Console\",\n        \"scope\": \"sn_ai_search_admin\",\n        \"description\": \"The AI Search Admin Console provides a central, easy and self-guided management interface for setting up and maintaining a powerful, consumer-grade search experience.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Admin Center\",\n        \"scope\": \"sn_admin_center\",\n        \"description\": \"Centralize and simplify the management of your instance and applications.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Service Graph Connector for VMware Workspace ONE UEM\",\n        \"scope\": \"sn_vmwoneuem_integ\",\n        \"description\": \"Manage your mobile and computing devices.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Conversational Integration with LINE\",\n        \"scope\": \"sn_va_line\",\n        \"description\": \"Enable customer engagement over the LINE messaging app.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Document display component\",\n        \"scope\": \"sn_doc_display\",\n        \"description\": \"Show documents onscreen without having to download them.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Service Graph Connector for Microsoft SCCM\",\n        \"scope\": \"sn_sccm_integrate\",\n        \"description\": \"Bring computer and software data into CMDB.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Virtual Agent Topic Recommendations\",\n        \"scope\": \"sn_topic_recommend\",\n        \"description\": \"Identify Virtual Agent Conversations to help automate and deflect agent tasks such as incidents and service requests.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Planned Task Common\",\n        \"scope\": \"sn_plannedtask_cmn\",\n        \"description\": \"Planned Task Common provides a framework so that planned task table can be reused in SAFe applications.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Mobile SDK\",\n        \"scope\": \"sn_mobile_sdk\",\n        \"description\": \"Integrate ServiceNow functionality into your Android or iOS Apps.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Sitemap Generator\",\n        \"scope\": \"sn_ux_seo_sitemap\",\n        \"description\": \"Generate sitemaps to improve search engine optimization of portals.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Service Graph Connector for Observability - Dynatrace\",\n        \"scope\": \"sn_dynatrace_integ\",\n        \"description\": \"Create effective Service Maps using Dynatrace.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"ServiceNow Voice\",\n        \"scope\": \"sn_cti_core\",\n        \"description\": \"Core framework for enabling ServiceNow Voice (Previously Cloud Call Center).\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Virtual Agent API\",\n        \"scope\": \"sn_va_as_service\",\n        \"description\": \"Allow Customers and Partners to integrate ServiceNow Virtual Agent and Live Agent with any conversational interface.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Conversational Integration with Microsoft Teams\",\n        \"scope\": \"sn_va_teams\",\n        \"description\": \"Interact directly with ServiceNow Virtual Agent and live agents from within Microsoft Teams.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"CEO Dashboard\",\n        \"scope\": \"sn_controltower\",\n        \"description\": \"Control tower of digital transformation journey.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Service Graph Connector for Tanium\",\n        \"scope\": \"sn_tanium_integ\",\n        \"description\": \"Easily import Tanium asset data to populate CMDB and software usage.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Password Reset integration with Google Directory\",\n        \"scope\": \"sn_pwdreset_gdir\",\n        \"description\": \"Simplify and accelerate how you integrate Password Reset with Google Directory.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Application Insights\",\n        \"scope\": \"sn_app_insights\",\n        \"description\": \"Visualize, monitor and take action on your instance and application performance.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Password Reset integration with Okta\",\n        \"scope\": \"sn_okta_pwd_reset\",\n        \"description\": \"Simplify and accelerate how you integrate Password Reset with Okta.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Node map Experience Component\",\n        \"scope\": \"sn_node_map\",\n        \"description\": \"Visualize hierarchical relationships between objects.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Password Reset for Virtual Agent\",\n        \"scope\": \"sn_pwdreset_va\",\n        \"description\": \"Password Reset conversations to help your organization quickly deploy automated self-service password resets.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Service Graph Connector for SolarWinds\",\n        \"scope\": \"sn_solarwinds_inte\",\n        \"description\": \"Bring computer and software data from SolarWinds into the CMDB.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Security Operations Spoke\",\n        \"scope\": \"sn_sec_spoke\",\n        \"description\": \"Security orchestration flows & actions.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Conversational Integration with Google Assistant\",\n        \"scope\": \"sn_va_g_assist\",\n        \"description\": \"Virtual Agent integration with Google Assistant allows customers to interact with ServiceNow Virtual Agent using Google Assistant endpoints.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Process Automation Experience Demo\",\n        \"scope\": \"sn_pad_demo\",\n        \"description\": \"Process Automation Designer and Playbook Experience end-to-end demo plugin (optional).\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Header App Shell\",\n        \"scope\": \"sn_header_appshell\",\n        \"description\": \"A header-only app shell to support builder type experiences.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Service Catalog for mobile\",\n        \"scope\": \"sn_scmobile\",\n        \"description\": \"Service Catalog mobile experiences.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Guided Setup\",\n        \"scope\": \"sn_ads_setup\",\n        \"description\": \"Enable users with guidance to set up products.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Conversational Integration with Alexa\",\n        \"scope\": \"sn_va_alexa\",\n        \"description\": \"Virtual Agent integration with Amazon Alexa allows customers to interact with ServiceNow Virtual Agent using Alexa endpoints.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Conversational Integration with Slack\",\n        \"scope\": \"sn_va_slack\",\n        \"description\": \"Interact directly with ServiceNow Virtual Agent and live agents from within Slack.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Omnichannel Callback\",\n        \"scope\": \"sn_omni_callback\",\n        \"description\": \"Enable users to request a callback from agents.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"AI Search For Next Experience\",\n        \"scope\": \"sn_aisearch_global\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Manage Skills Configurable Page\",\n        \"scope\": \"sn_skill_cfg_page\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Audio player component\",\n        \"scope\": \"sn_audio_player\",\n        \"description\": \"Use to insert audio content into your application.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Virtual Agent Topic Recommendations\",\n        \"scope\": \"sn_topic_recommend\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Service Catalog for mobile\",\n        \"scope\": \"sn_scmobile\",\n        \"description\": \"This plugin contains the configuration, records and catalog webviews that are used in ServiceNow NowMobile App. Do not activate this plugin directly. Activating com.glide.mobile-employee will activate this plugin for you.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Node map Experience Component\",\n        \"scope\": \"sn_node_map\",\n        \"description\": \"Visual component for interactive graphs with nodes and edges.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Proactive Triggers\",\n        \"scope\": \"sn_pt\",\n        \"description\": \"Proactive Triggers provides capabilities using rules, and actions to engage at the right moment, with the right platform actions, across channels (Virtual Agent Web Client in this first release), utilizing real-time data.   This allows you to present proactive messages based on URLs, frequency, delay time and agent availability.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Calendar component\",\n        \"scope\": \"sn_calendar\",\n        \"description\": \"An interactable Calendar that can render and manage events in various views.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Conversational Integration with Alexa\",\n        \"scope\": \"sn_va_alexa\",\n        \"description\": \"ServiceNow integration with Alexa for conversational experiences.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Mobile App Builder\",\n        \"scope\": \"sn_mab\",\n        \"description\": \"A no-code configuration tool for ServiceNow's native mobile apps.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Password Reset for Virtual Agent\",\n        \"scope\": \"sn_pwdreset_va\",\n        \"description\": \"Enables password reset and change password virtual agent conversations.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Security Operations Spoke\",\n        \"scope\": \"sn_sec_spoke\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Decision Table Builder\",\n        \"scope\": \"sn_decision_table\",\n        \"description\": \"App to allow users to create and manage decision tables.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Appointment calendar component\",\n        \"scope\": \"sn_appointment_cal\",\n        \"description\": \"A Calendar for scheduling and rescheduling pre-defined appointment slots.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Virtual Machine Management for Virtual Agent\",\n        \"scope\": \"sn_managevm_va\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Knowledge Capabilities in UI Builder\",\n        \"scope\": \"sn_km_uib\",\n        \"description\": \"Enables configurable Knowledge Management artifacts (Pages, Data transforms, GraphQL queries) in UI Builder.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Process Automation Designer\",\n        \"scope\": \"sn_pa_designer\",\n        \"description\": \"This plugin is the Process Automation Designer application.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Service Graph Connector for Observability - AppDynamics\",\n        \"scope\": \"sn_sg_appd\",\n        \"description\": \"The Service Graph Connector for Observability - AppDynamics imports data from AppDynamics to the ServiceNow Configuration Management Database (CMDB).\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Omnichannel Callback\",\n        \"scope\": \"sn_omni_callback\",\n        \"description\": \"Activates the Voice Callback.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Azure Active Directory User Mapping\",\n        \"scope\": \"sn_now_azure\",\n        \"description\": \"Contains workflows and mappings for ServiceNow user to Azure Active Directory user.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Playbook Experience\",\n        \"scope\": \"sn_playbook_exp\",\n        \"description\": \"Playbook Experience allows you to view and interact with business process workflows in real time.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Guided Setup\",\n        \"scope\": \"sn_ads_setup\",\n        \"description\": \"Activate New Guided Setup.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"CMDB CI Class Models\",\n        \"scope\": \"sn_cmdb_ci_class\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Conversational Integration with Slack\",\n        \"scope\": \"sn_va_slack\",\n        \"description\": \"ServiceNow integration with Slack for conversational experiences.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"FDIH Dashboard\",\n        \"scope\": \"sn_fdih_dashboards\",\n        \"description\": \"Install flow designer dashboard with integrationhub.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Sitemap Generator\",\n        \"scope\": \"sn_ux_seo_sitemap\",\n        \"description\": \"Sitemap Generator generates sitemap to be used by Search Engines to parse the searchable content.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Conversational Integration with Workplace from Facebook\",\n        \"scope\": \"sn_va_fb_workplace\",\n        \"description\": \"Scoped app for Conversational Integration with Workplace from Facebook.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"CMDB Page Templates\",\n        \"scope\": \"sn_cmdb_pg_templts\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Service Graph Connector for ExtraHop\",\n        \"scope\": \"sn_extrahop_integr\",\n        \"description\": \"The Service Graph Connector for ExtraHop imports data from ExtraHop to the ServiceNow Configuration Management Database (CMDB).\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Planned Task Common\",\n        \"scope\": \"sn_plannedtask_cmn\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Document display component\",\n        \"scope\": \"sn_doc_display\",\n        \"description\": \"This component enables user to display a document.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Conversational Integration with Google Assistant\",\n        \"scope\": \"sn_va_g_assist\",\n        \"description\": \"ServiceNow integration with Google Assistant for conversational experiences.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"ATF Test Generator and Cloud Runner\",\n        \"scope\": \"sn_atf_tg\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Timeline component\",\n        \"scope\": \"sn_ui_timeline\",\n        \"description\": \"Seismic timeline component.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Adoption Blueprint for Technology Excellence\",\n        \"scope\": \"sn_itsm_bus_obj\",\n        \"description\": \"Adoption Blueprint for Technology Excellence content pack for admin users.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Contact card component\",\n        \"scope\": \"sn_contact_card\",\n        \"description\": \"Servicenow's Contact Card component.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Conversational SMS Integration with Twilio\",\n        \"scope\": \"sn_va_sms_twilio\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Flow Diagramming\",\n        \"scope\": \"sn_flow_diagram\",\n        \"description\": \"App to view and author flows in diagram view within Flow Designer.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Service Graph Connector for Tanium\",\n        \"scope\": \"sn_tanium_integ\",\n        \"description\": \"Service Graph Connector for Tanium.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"CMDB Workspace\",\n        \"scope\": \"sn_cmdb_ws\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Service Graph Connector for Microsoft SCCM\",\n        \"scope\": \"sn_sccm_integrate\",\n        \"description\": \"The Service Graph Connector for Microsoft SCCM imports data from SCCM to the ServiceNow Configuration Management Database (CMDB).\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Header App Shell\",\n        \"scope\": \"sn_header_appshell\",\n        \"description\": \"Store application for the Header App Shell.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Service Graph Connector for SolarWinds\",\n        \"scope\": \"sn_solarwinds_inte\",\n        \"description\": \"The Service Graph Connector for SolarWinds imports data from SolarWinds to the ServiceNow Configuration Management Database (CMDB).\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Meeting Extensions for Microsoft Teams\",\n        \"scope\": \"sn_now_teams_ext\",\n        \"description\": \"Meeting Extensions for Microsoft Teams.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Carousel component\",\n        \"scope\": \"sn_carousel\",\n        \"description\": \"Carousel component provided by ServiceNow.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Shift Planning for Configurable Workspace\",\n        \"scope\": \"sn_uib_agent_sp\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Mobile Card Builder\",\n        \"scope\": \"sn_mobile_card_bui\",\n        \"description\": \"A visual, no-code configuration tool for card, UI rule, card template, and legacy card native mobile components.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Mobile Publishing\",\n        \"scope\": \"sn_mobile_whitelab\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Common Page Templates\",\n        \"scope\": \"sn_uib_base_aw\",\n        \"description\": \"Collection of common experience page templates (Record, List, etc.) to fit most use cases.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Workforce Optimization Configurable Workspace UI Components\",\n        \"scope\": \"sn_wfo_components\",\n        \"description\": \"Seismic Components for UIB configuration of Agent Shift Planning.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Conversational Integration with LINE\",\n        \"scope\": \"sn_va_line\",\n        \"description\": \"This app for mobile messaging enables end users to interact with ServiceNow Virtual Agent and live agents through an Line interface using the Line service.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Service Graph Connector for AWS\",\n        \"scope\": \"sn_aws_integ\",\n        \"description\": \"The Service Graph Connector for AWS imports data from AWS  to the ServiceNow Configuration Management Database (CMDB).\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Service Graph Connector for VMware Workspace ONE UEM\",\n        \"scope\": \"sn_vmwoneuem_integ\",\n        \"description\": \"The Service Graph Connector for VMware Workspace ONE UEM imports data from Workspace ONE UEM to the ServiceNow Configuration Management Database (CMDB).\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Service Graph Connector Licensing\",\n        \"scope\": \"sn_sgc_licensing\",\n        \"description\": \"Application for CMDB Service Graph Connector Licensing, any partner building SGC need to have dependency on this app.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Process Automation Experience Demo\",\n        \"scope\": \"sn_pad_demo\",\n        \"description\": \"Example showcase of Process Definitions, Activities, UI Builder integrations and other elements for Process Automation Designer and Playbook Experience to demonstrate what is possible.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Conversational Integration with Facebook Messenger\",\n        \"scope\": \"sn_va_fb_messenger\",\n        \"description\": \"Scoped app for the Conversational Integration with Facebook Messenger.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Password Reset integration with Okta\",\n        \"scope\": \"sn_okta_pwd_reset\",\n        \"description\": \"The Password Reset integration with Okta integrates Okta and Password Reset. It helps to manage some of the operations of an Okta user using Password Reset Application.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Checklist component\",\n        \"scope\": \"sn_now_checklist\",\n        \"description\": \"This is a checklist component.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"AI Search For Next Experience\",\n        \"scope\": \"sn_aisearch_global\",\n        \"description\": \"Configuration Application For AI Search Next Experience.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Virtual Agent API\",\n        \"scope\": \"sn_va_as_service\",\n        \"description\": \"This app allows end users to interact with ServiceNow Virtual Agent and live agents via API.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"ServiceNow Voice\",\n        \"scope\": \"sn_cti_core\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Password Reset integration with Google Directory\",\n        \"scope\": \"sn_pwdreset_gdir\",\n        \"description\": \"The Password Reset integration with Google Directory integrates Google Directory and Password Reset. It helps to manage some of the operations of Google Directory user using Password Reset Application.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Playbook Experience Components\",\n        \"scope\": \"now_playbook_exp\",\n        \"description\": \"Playbook Experience - Review and interact with Playbook executions.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"CMDB Application for APIs and CLI\",\n        \"scope\": \"sn_service_graph\",\n        \"description\": \"CMDB Application for APIs and CLI.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Admin Center\",\n        \"scope\": \"sn_admin_center\",\n        \"description\": \"Central application to manage common admin tasks.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Decision Builder\",\n        \"scope\": \"sn_decision_design\",\n        \"description\": \"App to allow users to create and manage decisioning entities.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Microsoft Azure AD Spoke for Password Reset\",\n        \"scope\": \"sn_pwd_aad_spoke\",\n        \"description\": \"The Microsoft Azure AD Password Reset Spoke integrates Azure AD and Password Reset. It helps to manage some of the operations of an Azure AD user using Password Reset Application.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Service Graph Connector for Jamf\",\n        \"scope\": \"sn_jamf_integrate\",\n        \"description\": \"The Service Graph Connector for Jamf imports data from Jamf to the ServiceNow Configuration Management Database (CMDB).\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Conversational Integration with Microsoft Teams\",\n        \"scope\": \"sn_va_teams\",\n        \"description\": \"ServiceNow integration with Microsoft Teams for conversational experiences.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Service Graph Connector for Observability - Dynatrace\",\n        \"scope\": \"sn_dynatrace_integ\",\n        \"description\": \"The Service Graph Connector for Service Graph Connector for Observability - Dynatrace imports data from Dynatrace to the ServiceNow Configuration Management Database (CMDB).\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Process Automation Content\",\n        \"scope\": \"sn_pad_content\",\n        \"description\": \"Provides content for Process Automation Designer and Playbook Experience.\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Service Graph Connector for Microsoft Intune\",\n        \"scope\": \"sn_intune_integrat\",\n        \"description\": \"The Service Graph Connector for Microsoft Intune imports data from Intune to the ServiceNow Configuration Management Database (CMDB).\"\n    }, {\n        \"productName\": \"Now Platform\",\n        \"appName\": \"Flow Template Builder\",\n        \"scope\": \"sn_flow_template\",\n        \"description\": \"Seismic Component for Flow Template Designer.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Goal Framework\",\n        \"scope\": \"sn_gf\",\n        \"description\": \"A framework that enables defining strategic priorities and associating goals for the organization and work items to drive business outcomes.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Gantt UI Builder Component\",\n        \"scope\": \"sn_gantt\",\n        \"description\": \"The Gantt UI Component provides an illustrative gantt chart that can be applied to other applications.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Milestones\",\n        \"scope\": \"sn_milestones\",\n        \"description\": \"Provides ability to add roadmap-level and planning item level milestones.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Work Item Integrations Common\",\n        \"scope\": \"sn_int_common\",\n        \"description\": \"Common app for Atlassian Jira Integrations Common, Microsoft Azure DevOps Integrations Common and Strategic Planning Workspace Integrations for Shared Infrastructure.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Portfolio Planning\",\n        \"scope\": \"sn_align_ws\",\n        \"description\": \"Align your organizational work with strategy to deliver business outcomes.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Technology Portfolio Management\",\n        \"scope\": \"sn_apm_tpm\",\n        \"description\": \"TPM for enterprise architects to manage portfolio risk based on ITAM HW and SW lifecycles.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Work Progress Status for SAFe\",\n        \"scope\": \"sn_safe_progress\",\n        \"description\": \"Work Progress Status for SAFe provides a GYR (green, yellow, red) progress status and  an estimated completion date on SAFe Epics and Features.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"sn-task-planner\",\n        \"scope\": \"sn_task_planner\",\n        \"description\": \"Task planner displays list and timeline of planned tasks.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Data Grid UI Component\",\n        \"scope\": \"sn_datagrid\",\n        \"description\": \"Internal core data grid UI component for all SPM grid requirements.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Strategic Planning\",\n        \"scope\": \"sn_apw_advanced\",\n        \"description\": \"Product and Strategic Investment lenses to enable strategic planning for strategy leaders and product managers.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Portfolio Planning Core\",\n        \"scope\": \"sn_align_core\",\n        \"description\": \"Provides the framework for the planning hierarchy in Portfolio Planning ( formerly known as Alignment Planner Workspace).\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Project Status Report\",\n        \"scope\": \"sn_store_ppmmobile\",\n        \"description\": \"Track project status anytime, anywhere.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Idea Manager Dashboard\",\n        \"scope\": \"sn_ppm_imd\",\n        \"description\": \"Leverage Analytics to get insights into incoming ideas and view trends over time.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Kanban Components\",\n        \"scope\": \"sn_knbn_comp\",\n        \"description\": \"Contains components which help in enhancing the kanban visualization.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Atlassian Jira Integrations Common\",\n        \"scope\": \"sn_jira_int\",\n        \"description\": \"Common app for Atlassian Jira Integration for Agile Development.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Scenario Planning for PPM\",\n        \"scope\": \"sn_pw_scenario\",\n        \"description\": \"Simulate and compare multiple investment scenarios. Perform what-if analysis to keep your portfolio aligned with your business strategy.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Work Progress Status for Agile Teams\",\n        \"scope\": \"sn_scrum_progress\",\n        \"description\": \"Work Progress Status for Agile Teams provides a GYR (green, yellow, red) progress status and  an estimated completion date on Agile 2.0 Epics.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Investment Funding\",\n        \"scope\": \"sn_invst_pln\",\n        \"description\": \"Topdown funding allocation from strategic objectives, portfolios, and business services.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Export to PowerPoint for Strategic Portfolio Management\",\n        \"scope\": \"sn_ppm_ppt_export\",\n        \"description\": \"Generate custom status reports quickly for ease of communication and alignment.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Roadmap Planning\",\n        \"scope\": \"sn_roadmap_plng\",\n        \"description\": \"Enables top-down roadmap planning to align investments and teams to strategy and goals for hybrid project delivery.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Project Workspace\",\n        \"scope\": \"sn_pw\",\n        \"description\": \"A new modern and intuitive workspace to plan and manage your projects.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Virtual Agent for PPM\",\n        \"scope\": \"sn_ppm_va\",\n        \"description\": \"Project manager to get project, resource, financials and data quality related questions answered quickly & easily.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Enterprise Architecture Workspace\",\n        \"scope\": \"sn_apm_ws\",\n        \"description\": \"Enterprise Architecture Workspace empowers Enterprise Architects with a consolidated user experience to accelerate decision making and optimize application portfolios while reducing risk and cost.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Mobile Time Sheets\",\n        \"scope\": \"sn_mtimesheet\",\n        \"description\": \"Submit your time cards and time sheets on the go with the Mobile Time Sheet application.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Agile Integrations Common\",\n        \"scope\": \"sn_agile_int_cmns\",\n        \"description\": \"Common app for Atlassian Jira Integration for Agile Development and Microsoft Azure DevOps Integration for Agile Development.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Investment Funding\",\n        \"scope\": \"sn_invst_pln\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Data Grid UI Component\",\n        \"scope\": \"sn_datagrid\",\n        \"description\": \"Data-Grid is an UI component that accepts data and configuration to render grid. The primary features of data-grid component is to display tasks in a grid.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"sn-task-planner\",\n        \"scope\": \"sn_task_planner\",\n        \"description\": \"Planner Experience component for ServiceNow.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Milestones\",\n        \"scope\": \"sn_milestones\",\n        \"description\": \"Milestones enables ITBM planning personas to create and add milestones for their roadmaps and other planning items while facilitating collaboration among stakeholders.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Scenario Planning for PPM\",\n        \"scope\": \"sn_pw_scenario\",\n        \"description\": \"Scenario Planning is a simple system to create and compare scenarios for a portfolio.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Mobile Time Sheets\",\n        \"scope\": \"sn_mtimesheet\",\n        \"description\": \"Mobile Time Sheets allows users to submit their time sheet for the week on the go with their mobile device.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Project Workspace\",\n        \"scope\": \"sn_pw\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Gantt UI Builder Component\",\n        \"scope\": \"sn_gantt\",\n        \"description\": \"Gantt Component for ServiceNow.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Work Progress Status for Agile Teams\",\n        \"scope\": \"sn_scrum_progress\",\n        \"description\": \"Work Progress Status for Agile Teams.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Idea Manager Dashboard\",\n        \"scope\": \"sn_ppm_imd\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Work Item Integrations Common\",\n        \"scope\": \"sn_int_common\",\n        \"description\": \"This plugin provides the basic layer of connection settings with external applications.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Agile Integrations Common\",\n        \"scope\": \"sn_agile_int_cmns\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Advanced Goal Framework\",\n        \"scope\": \"sn_gfa\",\n        \"description\": \"A framework that enables defining strategic priorities and associating goals for the organization and work items to drive business outcomes. The framework also enables automating the actual value of the targets for your goals.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Atlassian Jira Integrations Common\",\n        \"scope\": \"sn_jira_int\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Work Progress Status for SAFe\",\n        \"scope\": \"sn_safe_progress\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Virtual Agent for PPM\",\n        \"scope\": \"sn_ppm_va\",\n        \"description\": \"Virtual Agent for PPM.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Project Status Report\",\n        \"scope\": \"sn_store_ppmmobile\",\n        \"description\": \"This plugin provides access to project status report and RIDAC in the Service Now Agent mobile app.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Roadmap Planning\",\n        \"scope\": \"sn_roadmap_plng\",\n        \"description\": \"Roadmap Planning enables SPM planning personas to strategically plan and track their roadmaps intuitively while facilitating collaboration among stakeholders.\"\n    }, {\n        \"productName\": \"Strategic Portfolio Management\",\n        \"appName\": \"Goal Framework\",\n        \"scope\": \"sn_gf\",\n        \"description\": \"Goal Framework.\"\n    }, {\n        \"productName\": \"Legal Service Delivery\",\n        \"appName\": \"Legal Simple Contracts\",\n        \"scope\": \"sn_lg_contracts\",\n        \"description\": \"Drive self service for common template contracts with eSignature support.\"\n    }, {\n        \"productName\": \"Legal Service Delivery\",\n        \"appName\": \"Legal Counsel Center Components\",\n        \"scope\": \"sn_lg_ws_comps\",\n        \"description\": \"Seismic Components for Legal Counsel Center.\"\n    }, {\n        \"productName\": \"Legal Service Delivery\",\n        \"appName\": \"Legal Stock Preclearance\",\n        \"scope\": \"sn_lg_stock_cp\",\n        \"description\": \"Manage stock preclearance requests.\"\n    }, {\n        \"productName\": \"Legal Service Delivery\",\n        \"appName\": \"Performance Analytics Content Pack for Legal Service Delivery\",\n        \"scope\": \"sn_lg_pa\",\n        \"description\": \"Insights into legal operations to make data-driven decisions for your Legal department.\"\n    }, {\n        \"productName\": \"Legal Service Delivery\",\n        \"appName\": \"Legal Mobile\",\n        \"scope\": \"sn_lg_mobile\",\n        \"description\": \"Now Mobile and Agent experience for Legal Service Delivery.\"\n    }, {\n        \"productName\": \"Legal Service Delivery\",\n        \"appName\": \"Legal Matter Management\",\n        \"scope\": \"sn_lg_matter\",\n        \"description\": \"Escalate and track ongoing legal matters without spreadsheets.\"\n    }, {\n        \"productName\": \"Legal Service Delivery\",\n        \"appName\": \"Legal Virtual Agent Conversations\",\n        \"scope\": \"sn_lg_va\",\n        \"description\": \"Pre-defined virtual agent conversation topic templates for Legal Service Delivery.\"\n    }, {\n        \"productName\": \"Legal Service Delivery\",\n        \"appName\": \"Legal Request Management\",\n        \"scope\": \"sn_lg_ops\",\n        \"description\": \"Submit,  prioritize and track legal service requests with ease.\"\n    }, {\n        \"productName\": \"Legal Service Delivery\",\n        \"appName\": \"Legal Conflict of Interest\",\n        \"scope\": \"sn_lg_coi\",\n        \"description\": \"Manage the conflict of interest disclosure process.\"\n    }, {\n        \"productName\": \"Legal Service Delivery\",\n        \"appName\": \"Legal Digital Forensics\",\n        \"scope\": \"sn_lg_forensics\",\n        \"description\": \"Streamline eDiscovery and Digital Forensics requests to Legal.\"\n    }, {\n        \"productName\": \"Legal Service Delivery\",\n        \"appName\": \"Legal Counsel Center\",\n        \"scope\": \"sn_lg_workspace\",\n        \"description\": \"Your command center for taking action on legal requests.\"\n    }, {\n        \"productName\": \"Legal Service Delivery\",\n        \"appName\": \"Legal Investigations\",\n        \"scope\": \"sn_lg_investigate\",\n        \"description\": \"Streamline the process for investigating complaints.\"\n    }, {\n        \"productName\": \"Healthcare and Life Sciences Service Management\",\n        \"appName\": \"Redox Inbound Integration\",\n        \"scope\": \"sn_redox\",\n        \"description\": \"Reduce complexity and time spent by integrating the ServiceNow Healthcare and Life Sciences data model with over 90 EHRs.\"\n    }, {\n        \"productName\": \"Healthcare and Life Sciences Service Management\",\n        \"appName\": \"Healthcare and Life Sciences Service Management Core\",\n        \"scope\": \"sn_hcls\",\n        \"description\": \"Digital health platform for healthcare and life sciences companies, including healthcare payers and medical device firms.\"\n    }, {\n        \"productName\": \"Healthcare and Life Sciences Service Management\",\n        \"appName\": \"Patient Support Services\",\n        \"scope\": \"sn_patientservice\",\n        \"description\": \"Streamline patient onboarding and promote adherence for better outcomes.\"\n    }, {\n        \"productName\": \"Healthcare and Life Sciences Service Management\",\n        \"appName\": \"Pre-Visit Management\",\n        \"scope\": \"sn_previsit\",\n        \"description\": \"Streamline patient pre-authorization and pre-approval processes, improve revenue management.\"\n    }, {\n        \"productName\": \"Healthcare and Life Sciences Service Management\",\n        \"appName\": \"Vaccine Administration Management\",\n        \"scope\": \"sn_vaccine_sm\",\n        \"description\": \"Manage vaccines from the factory to the front line with speed, scale, and flexibility.\"\n    }, {\n        \"productName\": \"Healthcare and Life Sciences Service Management\",\n        \"appName\": \"EMR Help\",\n        \"scope\": \"sn_ind_rmt_help\",\n        \"description\": \"Enables clinicians to report IT service requests within their EMR system.\"\n    }, {\n        \"productName\": \"Healthcare and Life Sciences Service Management\",\n        \"appName\": \"Pre-Visit Management\",\n        \"scope\": \"sn_previsit\",\n        \"description\": \"Pre-Visit Management.\"\n    }, {\n        \"productName\": \"Healthcare and Life Sciences Service Management\",\n        \"appName\": \"Patient Support Services\",\n        \"scope\": \"sn_patientservice\",\n        \"description\": \"Patient Services Management.\"\n    }, {\n        \"productName\": \"Healthcare and Life Sciences Service Management\",\n        \"appName\": \"Redox Inbound Integration\",\n        \"scope\": \"sn_redox\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Healthcare and Life Sciences Service Management\",\n        \"appName\": \"Healthcare and Life Sciences Service Management Core\",\n        \"scope\": \"sn_hcls\",\n        \"description\": \"Healthcare service management Core.\"\n    }, {\n        \"productName\": \"Healthcare and Life Sciences Service Management\",\n        \"appName\": \"EMR Help\",\n        \"scope\": \"sn_ind_rmt_help\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Service Level Management Experience for Workspace\",\n        \"scope\": \"sn_sla\",\n        \"description\": \"Service Level Management for Service Operations Workspace.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Cloud Insights\",\n        \"scope\": \"sn_clin\",\n        \"description\": \"Need to optimize your public cloud spend? Let's Workflow it.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Firewall Audits and Reporting\",\n        \"scope\": \"sn_disco_firewall\",\n        \"description\": \"Security awareness for firewall audits.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Certificate Inventory and Management\",\n        \"scope\": \"sn_disco_certmgmt\",\n        \"description\": \"Lifecycle management for Digital Certificates.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Cloud Migration Assessment\",\n        \"scope\": \"sn_cloud_migration\",\n        \"description\": \"Assess your migration readiness.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Cloud Insights Billing\",\n        \"scope\": \"sn_clin_billing\",\n        \"description\": \"Cloud Provisioning and Governance connector for billing data download.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Cloud Spend Reports Core\",\n        \"scope\": \"sn_cld_spend_core\",\n        \"description\": \"Need to optimize your public cloud spend? Let's Workflow it.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Cloud Integrations Core\",\n        \"scope\": \"sn_cld_intg_core\",\n        \"description\": \"Need to optimize your public cloud spend? Let's Workflow it.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Service Operations Workspace ITSM Applications\",\n        \"scope\": \"sn_sow_itsm_cont\",\n        \"description\": \"Automate and modernize your IT Service Management workflows for modern operations.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Performance Analytics Content Pack for Cloud Resources\",\n        \"scope\": \"sn_disco_cd\",\n        \"description\": \"Cloud Resource Dashboards - Visualize, Track and Report.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Service Operations Workspace UI Components\",\n        \"scope\": \"sn_itom_uib_comp\",\n        \"description\": \"Service Operations Workspace.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Agent Client Collector Monitoring\",\n        \"scope\": \"sn_itmon\",\n        \"description\": \"Monitoring solution using the Agent Client Collector.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Cloud Integrations AWS\",\n        \"scope\": \"sn_cld_intg_aws\",\n        \"description\": \"Need to optimize your public cloud spend? Let's Workflow it.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Cloud Insights AWS\",\n        \"scope\": \"sn_clin_aws\",\n        \"description\": \"Need to optimize your public cloud spend? Let's Workflow it.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Data Collection for Oracle Global Licensing and Advisory Services\",\n        \"scope\": \"sn_itom_oracleglas\",\n        \"description\": \"Oracle verified solution.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Request Management for Service Operations Workspace\",\n        \"scope\": \"sn_sow_req\",\n        \"description\": \"Manage the entire lifecycle of requests with Service Operations Workspace.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Cloud Spend Reports GCP\",\n        \"scope\": \"sn_cld_spend_gcp\",\n        \"description\": \"Need to optimize your public cloud spend? Let's Workflow it.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Cloud Insights Core\",\n        \"scope\": \"sn_clin_core\",\n        \"description\": \"Need to optimize your public cloud spend? Let's Workflow it.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Operator Workspace Metric Configuration\",\n        \"scope\": \"sn_oi_scoped_app\",\n        \"description\": \"Metrics tab in Alert form.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Cloud Provisioning and Governance: Terraform Connector\",\n        \"scope\": \"sn_cmp_terraform\",\n        \"description\": \"Cloud Provisioning and Governance connector for Terraform.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Incident Management for Service Operations Workspace\",\n        \"scope\": \"sn_sow_inc\",\n        \"description\": \"Respond to and resolve incidents faster with Service Operations Workspace.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Pattern Designer Enhancements\",\n        \"scope\": \"sn_itom_pde\",\n        \"description\": \"Troubleshoot Discovery Credentials with ease.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Recommendations for Incident Management\",\n        \"scope\": \"sn_sow_incident_rf\",\n        \"description\": \"Provides tailored recommendations to accelerate incident resolution.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Service Operations Workspace Alert Mngmt\",\n        \"scope\": \"sn_sow_em\",\n        \"description\": \"Service Operations Workpace.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Event Management Connectors\",\n        \"scope\": \"sn_em_connector\",\n        \"description\": \"Bring your observability data to the Now Platform with ease.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Event Management Core\",\n        \"scope\": \"sn_em_ai\",\n        \"description\": \"Event Management core capabilities and workspace configuration.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Cloud Integrations GCP\",\n        \"scope\": \"sn_cld_intg_gcp\",\n        \"description\": \"Need to optimize your public cloud spend? Let's Workflow it.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Problem Management for Service Operations Workspace\",\n        \"scope\": \"sn_sow_problem\",\n        \"description\": \"Help identify the cause of a service interruption reported by significant or recurring incidents.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Common UIB Wrapper Components\",\n        \"scope\": \"sn_cmn_uib_comp\",\n        \"description\": \"Common seismic components wrappers for UIB experiences.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Interceptor UI for Service Operations Workspace\",\n        \"scope\": \"sn_sow_interceptor\",\n        \"description\": \"Provides interceptor UI for Service Operations Workspace.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Cloud Provisioning and Governance: Google Cloud Connector\",\n        \"scope\": \"sn_cmp_gcp\",\n        \"description\": \"Cloud Provisioning and Governance connector for Google Cloud Platform.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Health Log Analytics\",\n        \"scope\": \"sn_occ\",\n        \"description\": \"The Health Log Analytics app helps predict IT issues before they impact users.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Operator Workspace Overview\",\n        \"scope\": \"sn_em_ai_overview\",\n        \"description\": \"Alert Overview tab.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Tag Based Alert Clustering Engine\",\n        \"scope\": \"sn_em_tbac\",\n        \"description\": \"Tag Based Alert Clustering Engine.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Service Mapping Plus\",\n        \"scope\": \"sn_sm_scoped_app\",\n        \"description\": \"Service mapping with Machine Learning.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Discovery and Service Mapping Patterns\",\n        \"scope\": \"sn_itom_pattern\",\n        \"description\": \"Discover and map your cloud and on-premise applications and infrastructure.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Cloud Integrations Azure\",\n        \"scope\": \"sn_cld_intg_azure\",\n        \"description\": \"Need to optimize your public cloud spend? Let's Workflow it.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Service Operations Workspace Log Analytics\",\n        \"scope\": \"sn_sow_hla\",\n        \"description\": \"Service Operations Workspace.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Cloud Configuration Governance\",\n        \"scope\": \"sn_itom_ccg\",\n        \"description\": \"Validate and remediate your cloud resource configuration.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Service Operations Workspace ITSM Common\",\n        \"scope\": \"sn_sow_itsm_common\",\n        \"description\": \"Delivers common configurations shared across ITSM applications.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Agent Client Collector Framework\",\n        \"scope\": \"sn_agent\",\n        \"description\": \"Management of Agent Client Collector.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Agent Client Collector for Investigation\",\n        \"scope\": \"sn_acc_adapter\",\n        \"description\": \"Retrieve and capture metrics data from Agent Client Collector.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Cloud Spend Reports AWS\",\n        \"scope\": \"sn_cld_spend_aws\",\n        \"description\": \"Need to optimize your public cloud spend? Let's Workflow it.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Metrics Collector Framework\",\n        \"scope\": \"sn_cimaf\",\n        \"description\": \"Collect metrics data from your systems.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Recommendation Framework\",\n        \"scope\": \"sn_rf\",\n        \"description\": \"Framework to generate contextual and actionable real time recommendations.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Cloud Insights GCP\",\n        \"scope\": \"sn_clin_gcp\",\n        \"description\": \"Need to optimize your public cloud spend? Let's Workflow it.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Service Operations Workspace Metric Explorer APIs\",\n        \"scope\": \"sn_sow_metric_exp\",\n        \"description\": \"Investigate metric behavior in order to troubleshoot issues and find their root cause.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Service Operations Workspace ITOM Apps\",\n        \"scope\": \"sn_sow_itom_cont\",\n        \"description\": \"Service Operations Workspace.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Service Operations Workspace Metric Explorer\",\n        \"scope\": \"sn_itom_metric_exp\",\n        \"description\": \"Investigate metric behavior in order to troubleshoot issues and find their root cause.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Cloud Spend Reports Azure\",\n        \"scope\": \"sn_cld_spend_azure\",\n        \"description\": \"Need to optimize your public cloud spend? Let's Workflow it.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Change Management for Service Operations Workspace\",\n        \"scope\": \"sn_sow_chg\",\n        \"description\": \"Change creation Landing Page for Service Operations Workspace.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Metric Intelligence\",\n        \"scope\": \"sn_metrics_ng\",\n        \"description\": \"Capture, explore and analyze metrics data, identifying and indicating anomalies.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Advanced Promotion Engine\",\n        \"scope\": \"sn_metric_promote\",\n        \"description\": \"Reduce false positive anomaly noise by promoting only meaningful anomalies to IT alerts.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Agent Client Collector for Visibility\",\n        \"scope\": \"sn_acc_visibility\",\n        \"description\": \"Agent-Based Discovery Solution.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Collaboration Services for Service Operations Workspace\",\n        \"scope\": \"sn_sow_collab\",\n        \"description\": \"Collaboration made easyto stay connected with the requester and peers right from the task.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Investigation Framework\",\n        \"scope\": \"sn_invest_fwk\",\n        \"description\": \"Streamline investigations and accelerate incident resolution.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Record Page for Service Operations Workspace\",\n        \"scope\": \"sn_sow_record\",\n        \"description\": \"Workspace record view for seamless user experience.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Live CI View\",\n        \"scope\": \"sn_live_ci_view\",\n        \"description\": \"Automate ITSM incident enrichment and data collection with ServiceNow Agent Client Collector.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Database extended data collection with Patterns\",\n        \"scope\": \"sn_itom_dba_report\",\n        \"description\": \"Database extended data collection with Patterns.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Walk-up Experience for Service Operations Workspace\",\n        \"scope\": \"sn_sow_walkup\",\n        \"description\": \"Manage your Walk-up queues, stockroom and appointments using Service Operations Workspace.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Cloud Operations Workspace\",\n        \"scope\": \"sn_cloud_ops_ws\",\n        \"description\": \"A new, improved user experience for cloud discovery.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Health Mobile Experience\",\n        \"scope\": \"sn_em_mobile\",\n        \"description\": \"Health mobile app for operators.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"On Call Scheduling for Service Operations Workspace\",\n        \"scope\": \"sn_sow_on_call\",\n        \"description\": \"Reach out to experts on-call to get help and accelerate incident resolution.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Service Operations Workspace Core\",\n        \"scope\": \"sn_sow\",\n        \"description\": \"Enables core capabilities and workspace configurations.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Metric Explorer for Operator Workspace\",\n        \"scope\": \"sn_em_metric\",\n        \"description\": \"Investigate metric behavior in order to troubleshoot issues and find their root cause.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Cloud Insights Azure\",\n        \"scope\": \"sn_clin_azure\",\n        \"description\": \"Need to optimize your public cloud spend? Let's Workflow it.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Interaction Management for Service Operations Workspace\",\n        \"scope\": \"sn_sow_interaction\",\n        \"description\": \"Respond to incoming chat, phone, walk-up, messaging interactions faster with Service Operations Workspace.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Cloud Access Interface\",\n        \"scope\": \"sn_cai\",\n        \"description\": \"Interface layer providing easy access to cloud through scripting.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Cloud Action Library\",\n        \"scope\": \"sn_itom_cal\",\n        \"description\": \"Library of readymade actions and sub-flows for use in your cloud workflows.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Quick links component for Service Operations Workspace\",\n        \"scope\": \"sn_sow_quick_links\",\n        \"description\": \"Create and maintain your list of customized hyperlinks.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Tag Governance\",\n        \"scope\": \"sn_itom_tag\",\n        \"description\": \"Define and enforce tagging policies for your IT and cloud resources, assess your tagging efficacy.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Operator Workspace Overview\",\n        \"scope\": \"sn_em_ai_overview\",\n        \"description\": \"ITOM Event Management, Alert Intelligence, Alert's Overview Tab within Workspace.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Cloud Insights Billing\",\n        \"scope\": \"sn_clin_billing\",\n        \"description\": \"Cloud Insights Billing.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Discovery and Service Mapping Patterns\",\n        \"scope\": \"sn_itom_pattern\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Service Operations Workspace Log Analytics\",\n        \"scope\": \"sn_sow_hla\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Tag Governance\",\n        \"scope\": \"sn_itom_tag\",\n        \"description\": \"This store application provides customers a way to get their cloud resources tagged per enterprise norms, in order to improve return on investments.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Cloud Configuration Governance\",\n        \"scope\": \"sn_itom_ccg\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Cloud Operations Workspace\",\n        \"scope\": \"sn_cloud_ops_ws\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Service Mapping Plus\",\n        \"scope\": \"sn_sm_scoped_app\",\n        \"description\": \"Service Mapping Plus Application.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Metric Explorer for Operator Workspace\",\n        \"scope\": \"sn_em_metric\",\n        \"description\": \"Event management metric explorer.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Agent Client Collector Log Analytics\",\n        \"scope\": \"sn_accl\",\n        \"description\": \"Application that proactively detect customer-experience issues.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Event Management Core\",\n        \"scope\": \"sn_em_ai\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Performance Analytics Content Pack for Cloud Resources\",\n        \"scope\": \"sn_disco_cd\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Agent Client Collector for Visibility\",\n        \"scope\": \"sn_acc_visibility\",\n        \"description\": \"Agent Client Collector for Visibility.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Operator Workspace Metric Configuration\",\n        \"scope\": \"sn_oi_scoped_app\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Metric Intelligence\",\n        \"scope\": \"sn_metrics_ng\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Cloud Access Interface\",\n        \"scope\": \"sn_cai\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Cloud Action Library\",\n        \"scope\": \"sn_itom_cal\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Event Management Connectors\",\n        \"scope\": \"sn_em_connector\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Agent Client Collector Monitoring\",\n        \"scope\": \"sn_itmon\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Cloud Migration Assessment\",\n        \"scope\": \"sn_cloud_migration\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Agent Client Collector Framework\",\n        \"scope\": \"sn_agent\",\n        \"description\": \"ITOM Agent Client Collector Framework Embedded agent framework.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Health Log Analytics\",\n        \"scope\": \"sn_occ\",\n        \"description\": \"Application that proactively detect customer-experience issues.\"\n    }, {\n        \"productName\": \"IT Operations Management\",\n        \"appName\": \"Health Mobile Experience\",\n        \"scope\": \"sn_em_mobile\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"AES Workspace UI Template\",\n        \"scope\": \"sn_workspace_sta_0\",\n        \"description\": \"Build custom workspace experiences using this AES template.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"AES Mobile Wizards\",\n        \"scope\": \"sn_mobile_wzd\",\n        \"description\": \"Low code wizard interface for Mobile Applications.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"AES Mobile Templates\",\n        \"scope\": \"sn_aes_mobile\",\n        \"description\": \"Low code templates for mobile applications.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Flow Templates for Service Desk\",\n        \"scope\": \"sn_ft_service_desk\",\n        \"description\": \"Add service desk management automation to low-code apps fast.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Flow Templates for Document Management\",\n        \"scope\": \"sn_document_mgmt\",\n        \"description\": \"Add e-signature and document management solutions to low-code apps fast.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"AES Notification Builder Component\",\n        \"scope\": \"sn_aes_notificatio\",\n        \"description\": \"A new and immersive way to easily create and edit email notifications.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Table Builder\",\n        \"scope\": \"sn_table_builder\",\n        \"description\": \"Create tables, forms, and logic in AES using new modern methods.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"App Engine Studio\",\n        \"scope\": \"sn_app_eng_studio\",\n        \"description\": \"Build powerful low-code apps regardless of developer skill levels.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"AES Role Builder\",\n        \"scope\": \"sn_role_builder\",\n        \"description\": \"Manage application roles and access control lists.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Mobile App Builder\",\n        \"scope\": \"sn_mab\",\n        \"description\": \"Rapidly build and configure ServiceNow iOS and Android mobile apps via an intuitive builder.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"AES Flow Templates\",\n        \"scope\": \"sn_aes_flow_templa\",\n        \"description\": \"Build low-code flow templates for AES.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Team Contacts App Template\",\n        \"scope\": \"sn_team_contacts_0\",\n        \"description\": \"Build low-code apps for managing contacts using this AES template.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Application Intake\",\n        \"scope\": \"sn_app_intake\",\n        \"description\": \"Request and approval process for building applications.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Performance Appraisal App Template\",\n        \"scope\": \"sn_performanc_0\",\n        \"description\": \"This app template helps automate the process of scheduling annual or quarterly reviews, reviewing employee performance, and providing manager feedback.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"AES Catalog Builder\",\n        \"scope\": \"sn_aes_cat_builder\",\n        \"description\": \"App Engine Studio template plugin for Record Producers.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Flow Templates for Access Management\",\n        \"scope\": \"sn_ft_app_access\",\n        \"description\": \"Add access management request automation to low-code apps fast.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"AES Decision Table Builder Templates\",\n        \"scope\": \"sn_dtbl_bldr_tmpls\",\n        \"description\": \"Template to support the integration of Decision Builder with App Engine Studio.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Formula Builder\",\n        \"scope\": \"sn_formula_editor\",\n        \"description\": \"No-code tool to write formulas when building tables for custom apps.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Expense Pre-Approval Template\",\n        \"scope\": \"sn_exp_pre_appro_0\",\n        \"description\": \"Create, track, and manage planned expenses in your organization.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"AES Application Object Wizard Components\",\n        \"scope\": \"sn_wzd_components\",\n        \"description\": \"Create low-code app templates in AES using a wizard interface.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Deployment Pipeline\",\n        \"scope\": \"sn_deploy_pipeline\",\n        \"description\": \"Deploy low-code AES apps and other apps with confidence.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Collaboration Request\",\n        \"scope\": \"sn_collab_request\",\n        \"description\": \"Make and evaluate developer collaboration requests in AES.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Workspace Builder\",\n        \"scope\": \"sn_ws_builder\",\n        \"description\": \"No-code experience to manage a dashboard, lists, and record pages.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Event Registration App Template\",\n        \"scope\": \"sn_event_regi_0\",\n        \"description\": \"Build low-code apps for managing events using this AES template.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"AES UI Template Wizards\",\n        \"scope\": \"sn_aes_starter_wzd\",\n        \"description\": \"Build custom workspaces or portals in AES using a wizard interface.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"App Engine Management Center\",\n        \"scope\": \"sn_aemc\",\n        \"description\": \"Manage AES development in a single, innovative location.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Decision Builder\",\n        \"scope\": \"sn_decision_design\",\n        \"description\": \"Create decision rules to easily manage complex, business-specific logic and policies.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"AES Role Builder Component\",\n        \"scope\": \"sn_aes_role_build\",\n        \"description\": \"Manage AES app roles and access control lists.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"ERP Customization Mining\",\n        \"scope\": \"sn_erp_mining\",\n        \"description\": \"Identify app candidates for replacing customized ERP applications and workflows.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"AES Catalog Builder Wizard\",\n        \"scope\": \"sn_aes_catalog_wzd\",\n        \"description\": \"Build low-code record producer apps in AES using a wizard interface.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"sn-diagram-builder\",\n        \"scope\": \"sn_diagram_builder\",\n        \"description\": \"Generic diagramming canvas to build diagrams interactively using GoJS and seismic.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Pipeline\",\n        \"scope\": \"sn_pipeline\",\n        \"description\": \"Deploy low-code AES apps and other custom apps with confidence.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Emergency Alert App Template\",\n        \"scope\": \"sn_emrgncy_tmp\",\n        \"description\": \"This app template helps organizations keep everyone informed and connected during natural disasters and pandemics, such as COVID-19.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Decision Table Builder\",\n        \"scope\": \"sn_decision_table\",\n        \"description\": \"Store complex business logic using decision tables within Decision Builder.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"App Collaboration Component\",\n        \"scope\": \"sn_app_collab_ui\",\n        \"description\": \"Provides a developer collaboration framework in AES.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"AES Flow Wizards\",\n        \"scope\": \"sn_aes_flow_wzd\",\n        \"description\": \"Create low-code flow templates in AES using a wizard interface.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"AES Portal UI Template\",\n        \"scope\": \"sn_portal_starte_0\",\n        \"description\": \"Build custom portal experiences with this AES template.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Time Off Request App Template\",\n        \"scope\": \"sn_time_off_t_0\",\n        \"description\": \"Build low-code apps for tracking time-off requests using this AES template.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Inventory Tracker App Template\",\n        \"scope\": \"sn_inventory_0\",\n        \"description\": \"This app template provides a way for inventory managers to keep track of consumable and loaner inventory, and for people managers to manage employee requests for items.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Table Builder for App Engine\",\n        \"scope\": \"sn_tbl_bldr_appeng\",\n        \"description\": \"Centralized tool to create tables, forms, display logic, and flows.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Document Approval App Template\",\n        \"scope\": \"sn_document_appr_0\",\n        \"description\": \"Build low-code apps for managing doc approvals using this AES template.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Flow Templates for CRM\",\n        \"scope\": \"sn_crm_flow_temp\",\n        \"description\": \"Add Microsoft Dynamics CRM automation to low-code apps fast.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"App Engine Notifications\",\n        \"scope\": \"sn_app_eng_notify\",\n        \"description\": \"Provides a notification library for AES app development requests.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Flow Templates for HR Management\",\n        \"scope\": \"sn_ft_for_hr\",\n        \"description\": \"Add employee request automation to low-code apps fast.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Flow Templates for Notifications\",\n        \"scope\": \"sn_ft_inc_ws_notif\",\n        \"description\": \"Add notifications to low-code apps fast.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Flow Templates for DevOps\",\n        \"scope\": \"sn_ft_devops\",\n        \"description\": \"Add DevOps automation to low-code apps fast.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"AES Table Builder Wizard\",\n        \"scope\": \"sn_table_bldr_wzd\",\n        \"description\": \"Build low-code tables in AES using a wizard interface.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Flow Templates for Cloud Services\",\n        \"scope\": \"sn_ft_cloud_mgmt\",\n        \"description\": \"Add cloud services request automation to low-code apps fast.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"AES Application Object Templates\",\n        \"scope\": \"sn_app_obj_wizards\",\n        \"description\": \"Create low-code app templates in AES using a wizard interface.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"PDF Extractor\",\n        \"scope\": \"sn_pdf_table_bldr\",\n        \"description\": \"An interactive, no-code tool to create a table from fields on a PDF.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"AES Decision Table Builder Wizard\",\n        \"scope\": \"sn_dtbl_bldr_wzd\",\n        \"description\": \"Navigation screens to support Decision Builder integration with App Engine Studio.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"App Engine Studio\",\n        \"scope\": \"sn_app_eng_studio\",\n        \"description\": \"App Engine Studio.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Flow Templates for Cloud Services\",\n        \"scope\": \"sn_ft_cloud_mgmt\",\n        \"description\": \"Flow Templates for Cloud Services.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Workspace Builder\",\n        \"scope\": \"sn_ws_builder\",\n        \"description\": \"workspace builder.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"App Engine Management Center\",\n        \"scope\": \"sn_aemc\",\n        \"description\": \"App Engine Management Center is an innovative workspace experience that enables IT admins to monitor, manage, and govern developers and the apps they build in App Engine Studio, all in a single location.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Flow Templates for Access Management\",\n        \"scope\": \"sn_ft_app_access\",\n        \"description\": \"This spoke provides functionality to create flow.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Flow Templates for HR Management\",\n        \"scope\": \"sn_ft_for_hr\",\n        \"description\": \"Flow Templates for HR Management.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Table Builder for App Engine\",\n        \"scope\": \"sn_tbl_bldr_appeng\",\n        \"description\": \"Low code interface for building ServiceNow tables for App Engine.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Table Builder\",\n        \"scope\": \"sn_table_builder\",\n        \"description\": \"Low code interface for building ServiceNow tables.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Flow Templates for DevOps\",\n        \"scope\": \"sn_ft_devops\",\n        \"description\": \"This spoke provides functionality to create flow.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Flow Templates for CRM\",\n        \"scope\": \"sn_crm_flow_temp\",\n        \"description\": \"Flow templates to build CRM flows.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Flow Templates for Service Desk\",\n        \"scope\": \"sn_ft_service_desk\",\n        \"description\": \"Flow templates to build Service Desk flows.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Application Intake\",\n        \"scope\": \"sn_app_intake\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Flow Templates for Document Management\",\n        \"scope\": \"sn_document_mgmt\",\n        \"description\": \"Flow Templates for Document Management.\"\n    }, {\n        \"productName\": \"App Engine\",\n        \"appName\": \"Flow Templates for Notifications\",\n        \"scope\": \"sn_ft_inc_ws_notif\",\n        \"description\": \"Notifcation Flow Templates provides easier and scalable way to send out messages across multiple platforms when incidents are created or updated.\"\n    }, {\n        \"productName\": \"Source-to-Pay Operations\",\n        \"appName\": \"Supplier Collaboration Portal\",\n        \"scope\": \"sn_supplier_sp\",\n        \"description\": \"Simplify the supplier experience to maximize productivity and unlock value.\"\n    }, {\n        \"productName\": \"Source-to-Pay Operations\",\n        \"appName\": \"Sourcing and Purchasing Automation\",\n        \"scope\": \"sn_pr\",\n        \"description\": \"Operate procurement workflows across organizational silos and systems.\"\n    }, {\n        \"productName\": \"Source-to-Pay Operations\",\n        \"appName\": \"Procurement File Transfer Framework\",\n        \"scope\": \"sn_spend_ftp_intg\",\n        \"description\": \"Integrate sourcing and procurement with Procurement File Transfer Framework.\"\n    }, {\n        \"productName\": \"Source-to-Pay Operations\",\n        \"appName\": \"Map UI Component for threat and alert data feeds\",\n        \"scope\": \"sn_fam_map\",\n        \"description\": \"Visualize threat alerts on a geo-map.\"\n    }, {\n        \"productName\": \"Source-to-Pay Operations\",\n        \"appName\": \"Finance Common Architecture\",\n        \"scope\": \"sn_fin\",\n        \"description\": \"Primary data for finance products.\"\n    }, {\n        \"productName\": \"Source-to-Pay Operations\",\n        \"appName\": \"Procurement Integration Framework\",\n        \"scope\": \"sn_spend_intg\",\n        \"description\": \"Integrate sourcing and procurement with Procurement Integration Framework.\"\n    }, {\n        \"productName\": \"Source-to-Pay Operations\",\n        \"appName\": \"Procurement Case Management\",\n        \"scope\": \"sn_spend_psd\",\n        \"description\": \"A service application where employees can raise service requests for the procurement team to fulfill.\"\n    }, {\n        \"productName\": \"Source-to-Pay Operations\",\n        \"appName\": \"Sourcing and Purchasing Automation\",\n        \"scope\": \"sn_pr\",\n        \"description\": \"Provides workflows and automation for sourcing requests, negotiations and purchase requisitions.\"\n    }, {\n        \"productName\": \"Source-to-Pay Operations\",\n        \"appName\": \"Performance Analytics for Sourcing and Procurement Operations\",\n        \"scope\": \"sn_spend_pa\",\n        \"description\": \"Provides a set of pre-configured metrics and dashboards to assess spend, operational efficiency and team performance across the Sourcing and Procurement Operations product.\"\n    }, {\n        \"productName\": \"Source-to-Pay Operations\",\n        \"appName\": \"Shopping Hub\",\n        \"scope\": \"sn_spend_uib\",\n        \"description\": \"A streamlined, ecommerce-like experience for employees to self-service requests and source or purchase products and services through the procurement organization. This is an add-on experience to the Employee Center.\"\n    }, {\n        \"productName\": \"Source-to-Pay Operations\",\n        \"appName\": \"Natural Language Understanding Models for Sourcing and Procurement Operations\",\n        \"scope\": \"sn_spend_nlu\",\n        \"description\": \"Provides Natural Language Understanding (NLU) models to enhance the virtual agent conversation interface using natural human utterances to detect the correct conversation desired by an employee.\"\n    }, {\n        \"productName\": \"Source-to-Pay Operations\",\n        \"appName\": \"Playbooks for Sourcing and Procurement Operations\",\n        \"scope\": \"sn_spend_cp\",\n        \"description\": \"A set of pre-built playbooks, workflows and experiences for employees, sourcing and procurement to automate work which is typically managed in email and spreadsheets.\"\n    }, {\n        \"productName\": \"Source-to-Pay Operations\",\n        \"appName\": \"Source-to-Pay Workspace\",\n        \"scope\": \"sn_spend_workspace\",\n        \"description\": \"A single environment for Procurement Specialists to work on purchase requisitions, sourcing requests, negotiations, procurement requests, and more.\"\n    }, {\n        \"productName\": \"Source-to-Pay Operations\",\n        \"appName\": \"Shopping Hub Mobile\",\n        \"scope\": \"sn_shop_mobile\",\n        \"description\": \"Enables Shopping Hub and other employee experiences for procurement to be enabled within the Now Mobile application.\"\n    }, {\n        \"productName\": \"Source-to-Pay Operations\",\n        \"appName\": \"ERP Integration Framework\",\n        \"scope\": \"sn_fcms_intg\",\n        \"description\": \"Provides integration support between the ServiceNow platform and common ERP systems.\"\n    }, {\n        \"productName\": \"Source-to-Pay Operations\",\n        \"appName\": \"Map UI Component for threat and alert data feeds\",\n        \"scope\": \"sn_fam_map\",\n        \"description\": \"Seismic component to visualise threat and alert data feeds on geo-map.\"\n    }, {\n        \"productName\": \"Source-to-Pay Operations\",\n        \"appName\": \"Source-to-Pay Common Architecture\",\n        \"scope\": \"sn_shop\",\n        \"description\": \"An architecture to store purchase orders, requisitions, sourcing requests and other objects commonly used across the source-to-pay business process.\"\n    }, {\n        \"productName\": \"Source-to-Pay Operations\",\n        \"appName\": \"Common Service Delivery\",\n        \"scope\": \"sn_spend_sdc\",\n        \"description\": \"Contains Service Task and Service Request tables as well as other infrastructure that forms the basis of Finance and Supply Chain Workflows products.\"\n    }, {\n        \"productName\": \"Source-to-Pay Operations\",\n        \"appName\": \"Supplier Lifecycle Operations\",\n        \"scope\": \"sn_supplier\",\n        \"description\": \"Collaborate with suppliers, manage supplier relationships, and monitor risk, compliance and performance across the supplier life cycle.\"\n    }, {\n        \"productName\": \"Source-to-Pay Operations\",\n        \"appName\": \"Procurement Integration Framework\",\n        \"scope\": \"sn_spend_intg\",\n        \"description\": \"Provides a set of staging tables, transform maps and workflows to integrate sourcing, third-party catalogs, ordering, shipments and invoicing with the Sourcing and Procurement Operations.\"\n    }, {\n        \"productName\": \"Source-to-Pay Operations\",\n        \"appName\": \"Supplier Collaboration Portal\",\n        \"scope\": \"sn_supplier_sp\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Source-to-Pay Operations\",\n        \"appName\": \"Project Costing for Sourcing and Procurement Operations\",\n        \"scope\": \"sn_spend_ppm\",\n        \"description\": \"Provides a set of capabilities to automate the calculation of planned vs actual cost by linking purchase orders to cost plans within ServiceNow Project Portfolio Management.\"\n    }, {\n        \"productName\": \"Source-to-Pay Operations\",\n        \"appName\": \"Virtual Agent for Sourcing and Procurement Operations\",\n        \"scope\": \"sn_shop_va\",\n        \"description\": \"Provides pre-configured topics for sourcing and procurement within a conversational interface for employees to raise requests, find knowledge, and complete tasks.\"\n    }, {\n        \"productName\": \"Source-to-Pay Operations\",\n        \"appName\": \"Finance Common Architecture\",\n        \"scope\": \"sn_fin\",\n        \"description\": \"Maintains primary data such as Enterprise Resource Planning (ERP) sources, legal entities, accounting periods, and so on.\"\n    }, {\n        \"productName\": \"Source-to-Pay Operations\",\n        \"appName\": \"Procurement File Transfer Framework\",\n        \"scope\": \"sn_spend_ftp_intg\",\n        \"description\": \"Extends the Procurement Integration Framework with SFTP and FTP functionality designed for integrating with systems that do not support REST or SOAP based integration methods.\"\n    }, {\n        \"productName\": \"Source-to-Pay Operations\",\n        \"appName\": \"Advanced Work Assignment for Sourcing and Procurement Operations\",\n        \"scope\": \"sn_spend_awa\",\n        \"description\": \"Provides configurations to support automatic routing, queuing and assignment of Procurement Cases, emails and live agent chat conversations.\"\n    }, {\n        \"productName\": \"Source-to-Pay Operations\",\n        \"appName\": \"Procurement Case Management\",\n        \"scope\": \"sn_spend_psd\",\n        \"description\": \"Enables all employees to request services from the procurement team and allows the procurement team to manage those requests.\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Shift Planning\",\n        \"scope\": \"sn_shift_planning\",\n        \"description\": \"Shift planning for workforce optimization.\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"ITSM Enterprise UI Components\",\n        \"scope\": \"sn_opt_components\",\n        \"description\": \"This plugin contains a set of shared components used by ITSM Enterprise products.\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Workforce Optimization Configurable Workspace Core\",\n        \"scope\": \"sn_wfo_cfg_ws\",\n        \"description\": \"Workforce Optimization Configurable Workspace core application shell.\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Shift Planning for Configurable Workspace\",\n        \"scope\": \"sn_uib_agent_sp\",\n        \"description\": \"Support Agent Scheduling in Configurable Workspace.\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Channel Management\",\n        \"scope\": \"sn_channel_mgmt\",\n        \"description\": \"Supports Channel Management for Workforce Optimization.\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Workforce Optimization Common\",\n        \"scope\": \"sn_wfo_common\",\n        \"description\": \"Common Dependency plugin for Workforce Optimization products.\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Case Playbook for Product Support\",\n        \"scope\": \"sn_product\",\n        \"description\": \"Use the ServiceNow Case Playbook for Product Support to guide customer service agents through the steps that are required to resolve product issues.\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Engagement Messenger\",\n        \"scope\": \"sn_csm_ec\",\n        \"description\": \"Give your customers a one-stop, embedded service experience.\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Application spoke selector\",\n        \"scope\": \"sn_appss\",\n        \"description\": \"A framework to select spokes to execute integration requests.\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Customer Data Models for B2B2C\",\n        \"scope\": \"sn_acct_consumer\",\n        \"description\": \"Support complex business models with multi-level customer relationships.\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Case Playbook for Onboarding\",\n        \"scope\": \"sn_onboarding\",\n        \"description\": \"Use the ServiceNow Case Playbook for Onboarding to manage the process for taking on new customers or enrolling customers for new products.\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Data Model for Order Management\",\n        \"scope\": \"sn_csm_om\",\n        \"description\": \"The order management data model provides a framework that enables customers to manage, orchestrate, and fulfill customer orders for different types of products and services.\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Common UIB Wrapper Components\",\n        \"scope\": \"sn_cmn_uib_comp\",\n        \"description\": \"Common seismic components wrappers for UIB experiences.\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Recommended Actions\",\n        \"scope\": \"sn_nb_action\",\n        \"description\": \"Provide agents with optimal action in each context.\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"ServiceNow Voice for CSM\",\n        \"scope\": \"sn_cti_csm_cnt\",\n        \"description\": \"Quickly enables Voice apps to integrate with the ServiceNow Customer Service Management application.\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Recommended Actions for Customer Service\",\n        \"scope\": \"sn_cs_nb_action\",\n        \"description\": \"Show recommendations for case records in the workspace.\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Agent Forecast\",\n        \"scope\": \"sn_agent_forecast\",\n        \"description\": \"Demand forecasting for workforce optimization.\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Case Playbook for Complaints\",\n        \"scope\": \"sn_complaint\",\n        \"description\": \"Use the ServiceNow Case Playbook for Complaints to manage the process for handling customer complaints.\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Workforce Optimization Configurable Workspace UI Components\",\n        \"scope\": \"sn_wfo_components\",\n        \"description\": \"CSM Configurable Workspace UI components for Workforce Optimization.\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Conversational Appointment Booking\",\n        \"scope\": \"sn_va_appt_schedul\",\n        \"description\": \"Enables customers to manage appointments using the ServiceNow Virtual Agent via native chat capabilities.\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Coaching With Learning\",\n        \"scope\": \"sn_coach_lrn\",\n        \"description\": \"Manage internal learning content and access external learning content, like Pluralsight and Cornerstone, from a central location.\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Workforce Optimization for CSM Configurable Workspace\",\n        \"scope\": \"sn_csm_wfo_workspa\",\n        \"description\": \"Develop high-performing teams by managing workforce productivity.\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Playbooks for Customer Service Management\",\n        \"scope\": \"sn_csm_playbook\",\n        \"description\": \"Use the ServiceNow Playbooks for Customer Service Management to create playbooks based on individual business needs.\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"One-time Password Generator\",\n        \"scope\": \"sn_otp_support_uti\",\n        \"description\": \"Utility application to provide one-time password (OTP) support when integrated with other store applications.\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Proactive Customer Service Operations\",\n        \"scope\": \"sn_pro_cs_ops\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Case Playbook for Complaints\",\n        \"scope\": \"sn_complaint\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Conversational Appointment Booking\",\n        \"scope\": \"sn_va_appt_schedul\",\n        \"description\": \"Appointment scheduler custom control for VA.\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Case Playbook for Product Support\",\n        \"scope\": \"sn_product\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Customer Data Models for B2B2C\",\n        \"scope\": \"sn_acct_consumer\",\n        \"description\": \"Enables B2B consumers to raise a case and track the services they are subscribed to. In a B2B model, consumers represent individuals who can be customers or employees of your customer.\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Case Playbook for Onboarding\",\n        \"scope\": \"sn_onboarding\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Data Model for Order Management\",\n        \"scope\": \"sn_csm_om\",\n        \"description\": \"This plugin supports data model for Order management to facilitate creating of order personas, product catalog/ product offering, creation and management of orders.\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Engagement Messenger\",\n        \"scope\": \"sn_csm_ec\",\n        \"description\": \"Provides embeddable component to integrate customer experience capabilities in third party websites..\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Proactive Customer Service Operations with Event Management\",\n        \"scope\": \"sn_pro_cs_itom\",\n        \"description\": \"Provides integration between Customer Service Management (CSM) and ITOM Event Management. It enables customers to create cases proactively from alerts either manually or through automation and track accounts and corresponding install base items.\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"ServiceNow Voice for CSM\",\n        \"scope\": \"sn_cti_csm_cnt\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Application spoke selector\",\n        \"scope\": \"sn_appss\",\n        \"description\": \"This plugin allows applications to select and invoke spoke action(s) dynamically at runtime given a set of pre-defined inputs.\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"One-time Password Generator\",\n        \"scope\": \"sn_otp_support_uti\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Recommended Actions for Customer Service\",\n        \"scope\": \"sn_cs_nb_action\",\n        \"description\": \"This plugin installs the Recommended Actions capability, which recommends relevant actions for a given context. These actions appear on the Case form in the CSM Workspaces if users have defined strategies for the provided Case context.\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Playbooks for Customer Service Management\",\n        \"scope\": \"sn_csm_playbook\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Customer Service Portal\",\n        \"scope\": \"sn_csm_portal\",\n        \"description\": \"Enables the Customer Service Portal, a web-based portal based on the Service Portal application that your company can use to provide information and support to customers. Please use Customer Service plugin to activate.\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Consumer Service Portal\",\n        \"scope\": \"sn_csp_portal\",\n        \"description\": \"Enables the Consumer Service Portal, a web-based portal based on the Service Portal application that your company can use to provide information and support to consumers.\"\n    }, {\n        \"productName\": \"Customer Service Management\",\n        \"appName\": \"Recommended Actions\",\n        \"scope\": \"sn_nb_action\",\n        \"description\": \"This plugin recommends relevant actions, such as Guidances and Guided Decisions, for a given context. The plugin enables users to define contexts and strategies to recommend these actions.\"\n    }, {\n        \"productName\": \"Technology Provider Service Management\",\n        \"appName\": \"Configurable Workspace for Order Management\",\n        \"scope\": \"sn_app_orm_wksp\",\n        \"description\": \"Deliver the best order fulfillment experience with Configurable Workspace for Order Management.\"\n    }, {\n        \"productName\": \"Technology Provider Service Management\",\n        \"appName\": \"Fallout management\",\n        \"scope\": \"sn_fallout_mgmt\",\n        \"description\": \"Identify, diagnose, and resolve order processing issues in Order Management.\"\n    }, {\n        \"productName\": \"Technology Provider Service Management\",\n        \"appName\": \"Service Bridge\",\n        \"scope\": \"sn_nowebonding\",\n        \"description\": \"Request services and support from your provider  and track progress in your own ServiceNow instance.\"\n    }, {\n        \"productName\": \"Technology Provider Service Management\",\n        \"appName\": \"Proactive Service Experience Workflows\",\n        \"scope\": \"sn_ind_tsm_sdwan\",\n        \"description\": \"Reduce incident resolution times with Telecommunications and Media Assurance Workflows.\"\n    }, {\n        \"productName\": \"Technology Provider Service Management\",\n        \"appName\": \"Service Bridge for Providers\",\n        \"scope\": \"sn_nowebonding_pro\",\n        \"description\": \"Deliver the in-instance user experience your enterprise customers deserve with Service Bridge for Providers.\"\n    }, {\n        \"productName\": \"Technology Provider Service Management\",\n        \"appName\": \"Attribute propagation\",\n        \"scope\": \"sn_attr_prp_mgmt\",\n        \"description\": \"Catalog rule driven, characteristic propagation for Order Management.\"\n    }, {\n        \"productName\": \"Technology Provider Service Management\",\n        \"appName\": \"Configurable Workspace for Order Management\",\n        \"scope\": \"sn_app_orm_wksp\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Technology Provider Service Management\",\n        \"appName\": \"Attribute propagation\",\n        \"scope\": \"sn_attr_prp_mgmt\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Technology Provider Service Management\",\n        \"appName\": \"Service Bridge\",\n        \"scope\": \"sn_nowebonding\",\n        \"description\": \"Request and track services and advisories from your provider in your own instance of ServiceNow. This application is for customers and partners of providers that use the Service Bridge For Providers Application.\"\n    }, {\n        \"productName\": \"Technology Provider Service Management\",\n        \"appName\": \"Fallout management\",\n        \"scope\": \"sn_fallout_mgmt\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Technology Provider Service Management\",\n        \"appName\": \"Proactive Service Experience Workflows\",\n        \"scope\": \"sn_ind_tsm_sdwan\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Telecommunications Service Management\",\n        \"appName\": \"Configurable Workspace for Order Management\",\n        \"scope\": \"sn_app_orm_wksp\",\n        \"description\": \"Deliver the best order fulfillment experience with Configurable Workspace for Order Management.\"\n    }, {\n        \"productName\": \"Telecommunications Service Management\",\n        \"appName\": \"Fallout management\",\n        \"scope\": \"sn_fallout_mgmt\",\n        \"description\": \"Identify, diagnose, and resolve order processing issues in Order Management.\"\n    }, {\n        \"productName\": \"Telecommunications Service Management\",\n        \"appName\": \"Service Bridge\",\n        \"scope\": \"sn_nowebonding\",\n        \"description\": \"Request services and support from your provider  and track progress in your own ServiceNow instance.\"\n    }, {\n        \"productName\": \"Telecommunications Service Management\",\n        \"appName\": \"Proactive Service Experience Workflows\",\n        \"scope\": \"sn_ind_tsm_sdwan\",\n        \"description\": \"Reduce incident resolution times with Telecommunications and Media Assurance Workflows.\"\n    }, {\n        \"productName\": \"Telecommunications Service Management\",\n        \"appName\": \"Process Optimization for Telecommunications\",\n        \"scope\": \"sn_tm_processop\",\n        \"description\": \"Identify process inefficiencies with Process Optimization for Telecommunications.\"\n    }, {\n        \"productName\": \"Telecommunications Service Management\",\n        \"appName\": \"Network Inventory Core\",\n        \"scope\": \"sn_ni_core\",\n        \"description\": \"Manage telecommunication network resources and services using Network Inventory Core.\"\n    }, {\n        \"productName\": \"Telecommunications Service Management\",\n        \"appName\": \"Service Bridge for Providers\",\n        \"scope\": \"sn_nowebonding_pro\",\n        \"description\": \"Deliver the in-instance user experience your enterprise customers deserve with Service Bridge for Providers.\"\n    }, {\n        \"productName\": \"Telecommunications Service Management\",\n        \"appName\": \"Network Inventory Workspace\",\n        \"scope\": \"sn_ni_ws\",\n        \"description\": \"Workspace for TNI personas to get a consolidated view of information required to perform relevant network inventory tasks.\"\n    }, {\n        \"productName\": \"Telecommunications Service Management\",\n        \"appName\": \"Network Inventory Advanced\",\n        \"scope\": \"sn_ni_adv\",\n        \"description\": \"Manage telecommunication network resources and services using Network Inventory Advanced.\"\n    }, {\n        \"productName\": \"Telecommunications Service Management\",\n        \"appName\": \"Industry Core\",\n        \"scope\": \"sn_ind\",\n        \"description\": \"Industry Core.\"\n    }, {\n        \"productName\": \"Telecommunications Service Management\",\n        \"appName\": \"Attribute propagation\",\n        \"scope\": \"sn_attr_prp_mgmt\",\n        \"description\": \"Catalog rule driven, characteristic propagation for Order Management.\"\n    }, {\n        \"productName\": \"Telecommunications Service Management\",\n        \"appName\": \"Telecommunications Alarm Management Open API\",\n        \"scope\": \"sn_ind_tmf642\",\n        \"description\": \"Rapidly integrate network monitoring systems with the Telecommunications Alarm Management Open API.\"\n    }, {\n        \"productName\": \"Telecommunications Service Management\",\n        \"appName\": \"Network Inventory Workspace\",\n        \"scope\": \"sn_ni_ws\",\n        \"description\": \"Network Inventory Workspace.\"\n    }, {\n        \"productName\": \"Telecommunications Service Management\",\n        \"appName\": \"Configurable Workspace for Order Management\",\n        \"scope\": \"sn_app_orm_wksp\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Telecommunications Service Management\",\n        \"appName\": \"Attribute propagation\",\n        \"scope\": \"sn_attr_prp_mgmt\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Telecommunications Service Management\",\n        \"appName\": \"Service Bridge\",\n        \"scope\": \"sn_nowebonding\",\n        \"description\": \"Request and track services and advisories from your provider in your own instance of ServiceNow. This application is for customers and partners of providers that use the Service Bridge For Providers Application.\"\n    }, {\n        \"productName\": \"Telecommunications Service Management\",\n        \"appName\": \"Fallout management\",\n        \"scope\": \"sn_fallout_mgmt\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Telecommunications Service Management\",\n        \"appName\": \"Telecommunications Alarm Management Open API\",\n        \"scope\": \"sn_ind_tmf642\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Telecommunications Service Management\",\n        \"appName\": \"Network Inventory Advanced\",\n        \"scope\": \"sn_ni_adv\",\n        \"description\": \"Network inventory advanced capabilities.\"\n    }, {\n        \"productName\": \"Telecommunications Service Management\",\n        \"appName\": \"Industry Core\",\n        \"scope\": \"sn_ind\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Telecommunications Service Management\",\n        \"appName\": \"Network Inventory Core\",\n        \"scope\": \"sn_ni_core\",\n        \"description\": \"Application to manage a network inventory.\"\n    }, {\n        \"productName\": \"Telecommunications Service Management\",\n        \"appName\": \"Proactive Service Experience Workflows\",\n        \"scope\": \"sn_ind_tsm_sdwan\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Telecommunications Service Management\",\n        \"appName\": \"Process Optimization for Telecommunications\",\n        \"scope\": \"sn_tm_processop\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Blue Prism Spoke\",\n        \"scope\": \"sn_blue_prism_spok\",\n        \"description\": \"Reimagine how you integrate with Blue Prism.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"SuccessFactors Spoke\",\n        \"scope\": \"sn_successfactors\",\n        \"description\": \"Simplify and accelerate how you integrate with SuccessFactors.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Amazon Connect Spoke\",\n        \"scope\": \"sn_amzn_conect_spk\",\n        \"description\": \"Simplify how you integrate with Amazon Connect.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Zendesk Spoke\",\n        \"scope\": \"sn_zendesk_spoke\",\n        \"description\": \"Efficiently manage Zendesk subscriptions.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Automation Center\",\n        \"scope\": \"sn_ac\",\n        \"description\": \"Manage and monitor your entire hyperautomation landscape.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"SAP S4 HANA IDoc Spoke\",\n        \"scope\": \"sn_sap_s4_idoc_spk\",\n        \"description\": \"Simplify and accelerate how you integrate with SAP S/4HANA On-Prem IDOC.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Jira Spoke\",\n        \"scope\": \"sn_jira_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Jira.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Cloud Functions Spoke\",\n        \"scope\": \"sn_gcp_cf_spoke\",\n        \"description\": \"Reimagine how you integrate with Google Cloud Functions.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"DocuSign Spoke\",\n        \"scope\": \"sn_docusign_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with DocuSign.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"SAP ECC IDoc Spoke\",\n        \"scope\": \"sn_sap_ecc_idoc_sp\",\n        \"description\": \"Simplify and accelerate how you integrate with SAP ECC.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Slack Spoke\",\n        \"scope\": \"sn_slack_ah_v2\",\n        \"description\": \"Simplify and accelerate how you integrate with Slack.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Agent Client Collector Spoke\",\n        \"scope\": \"sn_acc_spoke\",\n        \"description\": \"Simplify and accelerate how you execute workflows on Agent Client Collector.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"CrowdStrike Spoke\",\n        \"scope\": \"sn_crowdstrk_spoke\",\n        \"description\": \"Efficiently manage crowdstrike subscriptions.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"AWS Elastic Load Balancing Spoke\",\n        \"scope\": \"sn_aws_elb_spoke\",\n        \"description\": \"Reimagine how you integrate with Amazon Elastic Load Balancing.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Workday HR Spoke\",\n        \"scope\": \"sn_workday_hr_spke\",\n        \"description\": \"Simplify and accelerate how you integrate with Workday HR.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"YouTube Spoke\",\n        \"scope\": \"sn_youtube_spoke\",\n        \"description\": \"Reimagine how you integrate with YouTube.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Amazon VPC Spoke\",\n        \"scope\": \"sn_amazon_vpc_spok\",\n        \"description\": \"Reimagine how you integrate with Amazon VPC.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Azure Application Insights Spoke\",\n        \"scope\": \"sn_ms_appin_spoke\",\n        \"description\": \"Reimagine how you integrate with Azure Application Insights.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Zoom Spoke\",\n        \"scope\": \"sn_zoom_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Zoom.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Roadmunk Spoke\",\n        \"scope\": \"sn_roadmunk_spoke\",\n        \"description\": \"Manage Roadmunk subscriptions efficiently.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Cloud SQL Spoke\",\n        \"scope\": \"sn_gcpcloudsql_spk\",\n        \"description\": \"Reimagine how you integrate with Google Cloud SQL.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Smartsheet Spoke\",\n        \"scope\": \"sn_smrtsheet_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Smartsheet.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Azure Managed Storage Spoke\",\n        \"scope\": \"sn_azure_ms_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Azure Managed Storage.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Exchange Online Spoke\",\n        \"scope\": \"sn_ex_online_spke\",\n        \"description\": \"Simplify and accelerate how you integrate with Microsoft Exchange Online.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"RPA Plugin Bundle\",\n        \"scope\": \"sn_rpa_plugins\",\n        \"description\": \"Building blocks for creating automations and execution of runtimes.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"UiPath Spoke\",\n        \"scope\": \"sn_uipath_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with UiPath.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Hangouts Spoke\",\n        \"scope\": \"sn_ghangouts_spoke\",\n        \"description\": \"Simplify how you integrate with Google Hangouts.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Oracle HCM Cloud Spoke\",\n        \"scope\": \"sn_oracle_hcm_spk\",\n        \"description\": \"Simplify and accelerate how you integrate with Oracle HCM Cloud.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft OneDrive Spoke\",\n        \"scope\": \"sn_onedrive_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Microsoft Onedrive.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Magnit Spoke\",\n        \"scope\": \"sn_proul_spk\",\n        \"description\": \"Simply manage contingent worker onboarding using Magnit Spoke.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Workday Financials Spoke\",\n        \"scope\": \"sn_workdayfin_spke\",\n        \"description\": \"Simplify and accelerate how you integrate with Workday Financials.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Lucidchart Diagramming Spoke\",\n        \"scope\": \"sn_lucdchart_spoke\",\n        \"description\": \"A spoke to connect ServiceNow and Lucidchart.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Udemy Spoke\",\n        \"scope\": \"sn_udemy_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Udemy.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Azure Traffic Manager Spoke\",\n        \"scope\": \"sn_azure_tmgr_spke\",\n        \"description\": \"Simplify and accelerate how you integrate with Azure Traffic Manager.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Identity And Access Spoke\",\n        \"scope\": \"sn_gcp_id_acc_spk\",\n        \"description\": \"Simplify and accelerate how you integrate with Google IAM.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Dropbox Business Spoke\",\n        \"scope\": \"sn_dropbox_b_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Dropbox Business.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Coupa Spoke\",\n        \"scope\": \"sn_coupa_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Coupa.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Docker Spoke\",\n        \"scope\": \"sn_docker_spoke\",\n        \"description\": \"Reimagine how you integrate with Docker.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Conversational SMS Integration with Twilio\",\n        \"scope\": \"sn_va_sms_twilio\",\n        \"description\": \"Twilio SMS as Virtual Agent messaging channel.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Teams Graph Spoke\",\n        \"scope\": \"sn_msteams_ahv2\",\n        \"description\": \"Simplify and accelerate how you integrate with Microsoft Teams Graph.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"UKG Spoke\",\n        \"scope\": \"sn_kronos_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with UKG Workforce Dimensions.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Qualtrics Spoke\",\n        \"scope\": \"sn_qualtrics_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Qualtrics.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Jenkins Spoke\",\n        \"scope\": \"sn_jenkins_spoke\",\n        \"description\": \"Reimagine how you integrate with Jenkins.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"SurveyMonkey Spoke\",\n        \"scope\": \"sn_sv_monkey_spoke\",\n        \"description\": \"Simplify how you integrate with SurveyMonkey.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Navex EthicsPoint Spoke\",\n        \"scope\": \"sn_navex_ep_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Navex EthicsPoint.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Cloud Deployment Automation\",\n        \"scope\": \"sn_cloud_dpmt_atmn\",\n        \"description\": \"Simplify and accelerate how you automate cloud deployment requests.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Exchange Server Spoke\",\n        \"scope\": \"sn_exchange_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Microsoft Exchange Server.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Calendly Spoke\",\n        \"scope\": \"sn_calendly_spoke\",\n        \"description\": \"Efficiently manage Calendly subscriptions.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Salesforce Spoke\",\n        \"scope\": \"sn_sforce_v2_spoke\",\n        \"description\": \"Simplify and accelerate the way you integrate with Salesforce.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Oracle Virtual Cloud Network Spoke\",\n        \"scope\": \"sn_oracle_vcn_spke\",\n        \"description\": \"Simplify and accelerate how you integrate with Oracle Virtual Cloud Network.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Persistent Disk Spoke\",\n        \"scope\": \"sn_gpdisk_spoke\",\n        \"description\": \"Reimagine how you integrate with Google Persistent Disk.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Cisco Webex Meetings Spoke\",\n        \"scope\": \"sn_webex_mtg_spoke\",\n        \"description\": \"Digitize Workflow with Cisco Webex Meetings.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"SAP ECC RFC Spoke\",\n        \"scope\": \"sn_sap_ecc_rfc_spo\",\n        \"description\": \"Simplify and accelerate how you integrate with SAP ECC.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Cisco Webex Teams Spoke\",\n        \"scope\": \"sn_cisco_teams_spk\",\n        \"description\": \"Simplify and accelerate how you integrate with Cisco Webex Teams.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Azure Artifacts Spoke\",\n        \"scope\": \"sn_ms_artfcts_spke\",\n        \"description\": \"Simplify how you integrate with Microsoft Azure Artifacts.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Adobe Experience Platform Spoke\",\n        \"scope\": \"sn_adobe_exp_spoke\",\n        \"description\": \"Reimagine how you integrate with Adobe Experience Platform.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Sheets Spoke\",\n        \"scope\": \"sn_g_sheets_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Google Sheets.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Teams Communications Spoke\",\n        \"scope\": \"sn_msteams_com_spk\",\n        \"description\": \"Simplify and accelerate how you integrate with MS Teams Communication Spoke.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Docs Spoke\",\n        \"scope\": \"sn_google_docs\",\n        \"description\": \"Reimagine how you integrate with Google Docs.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"GitHub Spoke\",\n        \"scope\": \"sn_github_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with GitHub.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Amazon Elastic Container Service Spoke\",\n        \"scope\": \"sn_amazon_ecs_spk\",\n        \"description\": \"Simplify and accelerate how you integrate with Amazon Elastic Container Service.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Workday Learning Spoke\",\n        \"scope\": \"sn_workday_lrn_spk\",\n        \"description\": \"Simplify and accelerate how you integrate with Workday Learning.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Access Management Automation\",\n        \"scope\": \"sn_acc_mgmt_sc\",\n        \"description\": \"Simplify and accelerate how you automate access management requests.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Cloud DNS Spoke\",\n        \"scope\": \"sn_gcp_dns_spoke\",\n        \"description\": \"Reimagine how you integrate with Google Cloud DNS.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Salesforce Marketing Cloud Spoke\",\n        \"scope\": \"sn_sforce_mc_spoke\",\n        \"description\": \"Simplify how you integrate with Salesforce Marketing Cloud.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Okta Spoke\",\n        \"scope\": \"sn_okta_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Okta.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"AWS OpsWorks Spoke\",\n        \"scope\": \"sn_aws_opswork_spk\",\n        \"description\": \"Reimagine how you integrate with AWS OpsWorks.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Kubernetes Spoke\",\n        \"scope\": \"sn_kubernetes_spok\",\n        \"description\": \"Reimagine how you integrate with Kubernetes.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Shodan Spoke\",\n        \"scope\": \"sn_shodan_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Shodan.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Vonage Spoke\",\n        \"scope\": \"sn_vonage_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Vonage.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"SAP Concur Spoke\",\n        \"scope\": \"sn_sap_concur_spok\",\n        \"description\": \"Simplify how you integrate with SAP Concur.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Azure Active Directory Spoke\",\n        \"scope\": \"sn_azure_ad_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Microsoft Azure AD.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Oracle Peoplesoft Financial Spoke\",\n        \"scope\": \"sn_oracle_psft_spk\",\n        \"description\": \"Simplify how you integrate with Oracle PeopleSoft Financials.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Tasks Spoke\",\n        \"scope\": \"sn_gtasks_spoke\",\n        \"description\": \"Reimagine how you integrate with Google Tasks.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Utility Actions Spoke\",\n        \"scope\": \"sn_utility_spoke\",\n        \"description\": \"Simplify IntegrationHub Utilities.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"SumTotal Spoke\",\n        \"scope\": \"sn_sumtotal_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with SumTotal.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Amazon Alexa Spoke\",\n        \"scope\": \"sn_amzn_alexa_spk\",\n        \"description\": \"Simplify and accelerate how you integrate with Amazon Alexa.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Security Response Center Spoke\",\n        \"scope\": \"sn_ms_sec_cntr_spk\",\n        \"description\": \"Simplify how you integrate with Microsoft Security Response Center.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Aha! Spoke\",\n        \"scope\": \"sn_aha_spoke\",\n        \"description\": \"Efficiently manage Aha! subscriptions.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Workfront Spoke\",\n        \"scope\": \"sn_workfront_spoke\",\n        \"description\": \"Manage Workfront subscriptions efficiently.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Cornerstone Spoke\",\n        \"scope\": \"sn_cstone_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Cornerstone.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Cloud Virtual Network Spoke\",\n        \"scope\": \"sn_gcp_vpc_spoke\",\n        \"description\": \"Reimagine how you integrate with Google Virtual Private Cloud.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Compute Engine Spoke\",\n        \"scope\": \"sn_gcompute_spoke\",\n        \"description\": \"Reimagine how you integrate with Google Compute Engine.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Jira Service Management Spoke\",\n        \"scope\": \"sn_jira_sm_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Jira Service Management.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Amazon EBS Spoke\",\n        \"scope\": \"sn_amazon_ebs_spok\",\n        \"description\": \"Reimagine how you integrate with Amazon EBS.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Cloud Translator Service Spoke\",\n        \"scope\": \"sn_google_trans\",\n        \"description\": \"Reimagine how you integrate with Google Translate.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Cloud Load Balancer Spoke\",\n        \"scope\": \"sn_gcp_lb_spoke\",\n        \"description\": \"Reimagine how you integrate with Google Cloud Load Balancer.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Oracle Cloud IAM Spoke\",\n        \"scope\": \"sn_oci_iam_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Oracle Identity and Access Management.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Miro Spoke\",\n        \"scope\": \"sn_miro_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Miro.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Box Spoke\",\n        \"scope\": \"sn_box_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Box.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"RPA Hub\",\n        \"scope\": \"sn_rpa_fdn\",\n        \"description\": \"Automate and connect anything to ServiceNow.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"AWS CloudFormation Spoke\",\n        \"scope\": \"sn_aws_cdfrmtn_spk\",\n        \"description\": \"Reimagine how you integrate with Amazon CloudFormation.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Jenkins v2 Spoke\",\n        \"scope\": \"sn_jenkinsv2_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Jenkins.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Oracle Financial Cloud Spoke\",\n        \"scope\": \"sn_ofc_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Oracle Financial Cloud.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft 365 Excel Spoke\",\n        \"scope\": \"sn_ms_excel_spoke\",\n        \"description\": \"Simplify how you integrate with Microsoft 365 Excel.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"F5 BIG-IP Spoke\",\n        \"scope\": \"sn_f5_spoke\",\n        \"description\": \"Reimagine how you integrate with F5 BIG-IP.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"SAP Commerce Cloud Spoke\",\n        \"scope\": \"sn_sap_cc_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with SAP Commerce Cloud.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"First Advantage Spoke\",\n        \"scope\": \"sn_fadv_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with First Advantage.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Amazon EC2 Spoke\",\n        \"scope\": \"sn_amazon_ec2_spok\",\n        \"description\": \"Simplify how you integrate with Amazon EC2.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Cloud Pub Sub Spoke\",\n        \"scope\": \"sn_gc_pubsub_spoke\",\n        \"description\": \"Reimagine how you integrate with Google Cloud Pub/Sub.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Trello Spoke\",\n        \"scope\": \"sn_trello_spoke\",\n        \"description\": \"Manage Trello subscriptions efficiently.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Confluence Cloud Spoke\",\n        \"scope\": \"sn_conflunce_spoke\",\n        \"description\": \"Efficiently manage Confluence Cloud subscriptions.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Azure DevOps Boards Spoke\",\n        \"scope\": \"sn_azure_dev_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Azure DevOps Boards.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Saba Spoke\",\n        \"scope\": \"sn_saba_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with SABA.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Rally Spoke\",\n        \"scope\": \"sn_rally_spoke\",\n        \"description\": \"Efficiently manage your Broadcom Rally software subcriptions.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Drive Spoke\",\n        \"scope\": \"sn_gdrive_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Google Drive.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"GitLab Spoke\",\n        \"scope\": \"sn_gitlab_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with GitLab.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Dynamics CRM Spoke\",\n        \"scope\": \"sn_ms_crm_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Microsoft Dynamics CRM.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Automation Anywhere Spoke\",\n        \"scope\": \"sn_autoanywher_spk\",\n        \"description\": \"Simplify and accelerate how you integrate with Automation Anywhere.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Oracle EBS Spoke\",\n        \"scope\": \"sn_oracle_ebs_spk\",\n        \"description\": \"Simplify and accelerate how you integrate with Oracle EBS.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"GoTo Spoke\",\n        \"scope\": \"sn_goto_spoke\",\n        \"description\": \"Efficiently manage GoTo subscriptions.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Oracle Object Storage Management Spoke\",\n        \"scope\": \"sn_osm_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Oracle Object Storage.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Confluent Kafka REST Proxy Spoke\",\n        \"scope\": \"sn_kafkacon_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Confluent Kafka REST Proxy.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Active Directory v2 Spoke\",\n        \"scope\": \"sn_ms_ad_v2_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Microsoft Active Directory.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Endpoint Configuration Manager Spoke\",\n        \"scope\": \"sn_ms_epcfgmgr_spk\",\n        \"description\": \"Simplify and accelerate how you integrate with Microsoft Endpoint Configuration Manager.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"GovNotify Spoke\",\n        \"scope\": \"sn_govnotify_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with GovNotify.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Adobe Sign Spoke\",\n        \"scope\": \"sn_adobesign_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Adobe Sign.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Gmail Spoke\",\n        \"scope\": \"sn_gmail_spoke\",\n        \"description\": \"Reimagine how you integrate with Google Gmail.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Azure Blob Storage Spoke\",\n        \"scope\": \"sn_azure_blob_spke\",\n        \"description\": \"Simplify and accelerate how you integrate with Azure Blob Storage.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Amazon SNS Spoke\",\n        \"scope\": \"sn_aws_sns_spoke\",\n        \"description\": \"Reimagine how you integrate with Amazon SNS.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Wrike Spoke\",\n        \"scope\": \"sn_wrike_spoke\",\n        \"description\": \"Simplify how you integrate with Wrike.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Cloud VPC Access Spoke\",\n        \"scope\": \"sn_gcp_vpca_spoke\",\n        \"description\": \"Reimagine how you integrate with Google Cloud VPC Access.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Socure Spoke\",\n        \"scope\": \"sn_socure_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Socure.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Pluralsight Spoke\",\n        \"scope\": \"sn_pluralsight_spk\",\n        \"description\": \"Simplify and accelerate how you integrate with Pluralsight.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Azure Virtual Machine Spoke\",\n        \"scope\": \"sn_azure_vm_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Microsoft Azure Virtual Machines.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"AWS IAM Spoke\",\n        \"scope\": \"sn_aws_iam_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with AWS IAM.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Plivo Spoke\",\n        \"scope\": \"sn_plivo_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Plivo.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"SAP Fieldglass Spoke\",\n        \"scope\": \"sn_sap_fieldglass\",\n        \"description\": \"Simplify and accelerate how you integrate with SAP Fieldglass.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"PagerDuty Spoke\",\n        \"scope\": \"sn_pagerduty_spoke\",\n        \"description\": \"Simplify how you integrate with PagerDuty.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Amazon S3 Spoke\",\n        \"scope\": \"sn_amazon_s3_spoke\",\n        \"description\": \"Reimagine how you integrate with Amazon S3.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Looker Spoke\",\n        \"scope\": \"sn_looker_spoke\",\n        \"description\": \"Efficiently manage Looker subscriptions.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Amazon CloudWatch Spoke\",\n        \"scope\": \"sn_amazon_cdwc_spk\",\n        \"description\": \"Reimagine how you integrate with Amazon CloudWatch.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Azure SQL Database Spoke\",\n        \"scope\": \"sn_azure_sql_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Microsoft Azure SQL Database.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"SAP S4 HANA RFC Spoke\",\n        \"scope\": \"sn_sap_s4_hana_rfc\",\n        \"description\": \"Simplify and accelerate how you integrate with SAP S/4 HANA On-Prem RFC.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Asana Spoke\",\n        \"scope\": \"sn_asana_spoke\",\n        \"description\": \"Manage your Asana subscriptions using the Asana spoke.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft SharePoint Online Spoke\",\n        \"scope\": \"sn_sp_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Microsoft SharePoint.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Infoblox Spoke\",\n        \"scope\": \"sn_infoblox_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Infloblox.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"SmartRecruiters Spoke\",\n        \"scope\": \"sn_smartrec_spoke\",\n        \"description\": \"Efficiently manage SmartRecruiters subscriptions.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Cloud Storage Spoke\",\n        \"scope\": \"sn_gcp_cs_spoke\",\n        \"description\": \"Reimagine how you integrate with Google Cloud Storage.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Amazon DynamoDB Spoke\",\n        \"scope\": \"sn_amzn_dyndb_spke\",\n        \"description\": \"Reimagine how you integrate with Amazon DynamoDB.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Amazon RDS Spoke\",\n        \"scope\": \"sn_amzn_rds_spoke\",\n        \"description\": \"Reimagine how you integrate with Amazon RDS.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"BigFix Inventory Spoke\",\n        \"scope\": \"sn_bigfix_in_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with BigFix Inventory.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Azure Virtual Network Spoke\",\n        \"scope\": \"sn_azure_vn_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Azure Virtual Network.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"SAP Ariba Spoke\",\n        \"scope\": \"sn_sap_ariba_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with SAP Ariba.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"AI Search Spoke\",\n        \"scope\": \"sn_ais_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with AI Search.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Azure Cosmos DB Spoke\",\n        \"scope\": \"sn_azure_cd_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Azure Cosmos DB.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Calendar Spoke\",\n        \"scope\": \"sn_gcalendar_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Google Calendar.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Oracle Boot Volume Spoke\",\n        \"scope\": \"sn_oci_bootvol_spk\",\n        \"description\": \"Simplify and accelerate how you integrate with Oracle Boot Volumes.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Oracle Autonomous DB Spoke\",\n        \"scope\": \"sn_oci_adb_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Oracle Autonomous DB.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Workplace from Facebook Spoke\",\n        \"scope\": \"sn_fb_wp_spoke\",\n        \"description\": \"Simplify how you integrate with Workplace from Facebook.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Ansible Spoke\",\n        \"scope\": \"sn_ansible_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Ansible.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Azure Automation Spoke\",\n        \"scope\": \"sn_azure_auto_spke\",\n        \"description\": \"Simplify and accelerate how you integrate with Azure Automation.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"OneLogin Spoke\",\n        \"scope\": \"sn_onelogin_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with OneLogin.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Twilio Spoke\",\n        \"scope\": \"sn_twilio_spoke\",\n        \"description\": \"Reimagine how you integrate with Twilio.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Oracle Compute Engine Spoke\",\n        \"scope\": \"sn_oci_ce_spk\",\n        \"description\": \"Simplify and accelerate how you integrate with Oracle Compute Engine.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Redox Electronic Health Record Spoke\",\n        \"scope\": \"sn_redox_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with ServiceNow Healthcare and Life Sciences data models.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Azure Notification Hub Spoke\",\n        \"scope\": \"sn_ms_notification\",\n        \"description\": \"Simplify and accelerate how you integrate with Azure Notification Hub.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Jamf Spoke\",\n        \"scope\": \"sn_jamf_spoke\",\n        \"description\": \"Automate MacOS and iOS device management and software deployments using Jamf.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Oracle Block Storage Spoke\",\n        \"scope\": \"sn_oci_bs_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Oracle Block Storage.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"AWS Elastic Beanstalk Spoke\",\n        \"scope\": \"sn_aws_beanstk_spk\",\n        \"description\": \"Reimagine how you integrate with Amazon Elastic Beanstalk.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Twitter Spoke\",\n        \"scope\": \"sn_twitter_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Twitter.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"AWS Certificate Manager Spoke\",\n        \"scope\": \"sn_aws_certmgr_spk\",\n        \"description\": \"Reimagine how you integrate with Amazon Certificate Manager.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Dynamics 365 for Finance and Operations Spoke\",\n        \"scope\": \"sn_ms_fin_ops_spk\",\n        \"description\": \"Simplify and accelerate how you integrate with Microsoft Dynamics Finance and Operations.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"BMC Remedy Spoke\",\n        \"scope\": \"sn_bmcremedy_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with BMC Remedy.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Intune Spoke\",\n        \"scope\": \"sn_ms_intune_spoke\",\n        \"description\": \"Reimagine how you integrate with Microsoft Intune.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Azure Resource Management Spoke\",\n        \"scope\": \"sn_azure_rm_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Microsoft Azure Resources.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Amazon Route 53 Spoke\",\n        \"scope\": \"sn_amzn_rout53_spk\",\n        \"description\": \"Reimagine how you integrate with Amazon Route 53.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"AWS Lambda Spoke\",\n        \"scope\": \"sn_aws_lambda_spok\",\n        \"description\": \"Reimagine how you integrate with AWS Lambda.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Cloud Datastore Spoke\",\n        \"scope\": \"sn_gcp_cds_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Google Cloud Datastore.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Gremlin Spoke\",\n        \"scope\": \"sn_gremlin_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Gremlin.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Directory Spoke\",\n        \"scope\": \"sn_googledir_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Google Directory.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"ServiceNow Remote Instance Spoke\",\n        \"scope\": \"sn_now_remote_spk\",\n        \"description\": \"Simplify and accelerate how you integrate with ServiceNow remote instances.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Cloudify Spoke\",\n        \"scope\": \"sn_cloudify_spoke\",\n        \"description\": \"Simplify and accelerate how you integrate with Cloudify.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Shodan Spoke\",\n        \"scope\": \"sn_shodan_spoke\",\n        \"description\": \"Automate your Business Processes with Shodan spoke.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Vonage Spoke\",\n        \"scope\": \"sn_vonage_spoke\",\n        \"description\": \"The Vonage Spoke for IntegrationHub provide actions to automate SMS, Messaging and Calls.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Directory Spoke\",\n        \"scope\": \"sn_googledir_spoke\",\n        \"description\": \"The Google Directory Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Google Directory.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Access Management Automation\",\n        \"scope\": \"sn_acc_mgmt_sc\",\n        \"description\": \"Automates access management request fulfilment using the service catalog or service portal.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Cloud Storage Spoke\",\n        \"scope\": \"sn_gcp_cs_spoke\",\n        \"description\": \"The Google Cloud Storage Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Google Cloud Storage.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Amazon SNS Spoke\",\n        \"scope\": \"sn_aws_sns_spoke\",\n        \"description\": \"The Amazon SNS Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Amazon SNS.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Workday Learning Spoke\",\n        \"scope\": \"sn_workday_lrn_spk\",\n        \"description\": \"The Workday Learning Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Workday Learning.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Infoblox Spoke\",\n        \"scope\": \"sn_infoblox_spoke\",\n        \"description\": \"The Infoblox Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Infoblox.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Oracle EBS Spoke\",\n        \"scope\": \"sn_oracle_ebs_spk\",\n        \"description\": \"Simplify and accelerate how you integrate with Oracle EBS.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Persistent Disk Spoke\",\n        \"scope\": \"sn_gpdisk_spoke\",\n        \"description\": \"The Google Persistent Disk Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Google Persistent Disk Spoke.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Lucidchart Diagramming Spoke\",\n        \"scope\": \"sn_lucdchart_spoke\",\n        \"description\": \"The Lucidchart Spoke for ServiceNow IntegrationHub.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Oracle Boot Volume Spoke\",\n        \"scope\": \"sn_oci_bootvol_spk\",\n        \"description\": \"This spoke provides functionality of Oracle Boot Volume.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Blue Prism Spoke\",\n        \"scope\": \"sn_blue_prism_spok\",\n        \"description\": \"The Blue Prism Spoke for IntegrationHub provides actions to trigger processes on Blue Prism and to fetch various details from Blue Prism environment.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Cisco Webex Meetings Spoke\",\n        \"scope\": \"sn_webex_mtg_spoke\",\n        \"description\": \"The Cisco Webex Meetings Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Webex.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Magnit Spoke\",\n        \"scope\": \"sn_proul_spk\",\n        \"description\": \"The Magnit Spoke provides the user action(s) to fetch the contingent worker details from Magnit system.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Box Spoke\",\n        \"scope\": \"sn_box_spoke\",\n        \"description\": \"The Box Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate box.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Roadmunk Spoke\",\n        \"scope\": \"sn_roadmunk_spoke\",\n        \"description\": \"The Roadmunk Spoke for ServiceNow IntegrationHub.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Adobe Experience Platform Spoke\",\n        \"scope\": \"sn_adobe_exp_spoke\",\n        \"description\": \"The Adobe Experience Platform Spoke for IntegrationHub provides actions that a process analyst can use to load and retrieve entity information, like profile data, to and from Adobe Experience Platform.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"AWS Elastic Beanstalk Spoke\",\n        \"scope\": \"sn_aws_beanstk_spk\",\n        \"description\": \"The AWS Elastic Beanstalk Spoke for IntegrationHub provides actions that a developer can use when designing flows. The actions allow them to automate Elastic Beanstalk Spoke.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Azure SQL Database Spoke\",\n        \"scope\": \"sn_azure_sql_spoke\",\n        \"description\": \"The Microsoft Azure SQL Database Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Microsoft Azure SQL Database.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Gremlin Spoke\",\n        \"scope\": \"sn_gremlin_spoke\",\n        \"description\": \"Gremlin spoke is utilised to simulate outages with various types of attacks and schedule the outages via attack schedules.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Agent Client Collector Spoke\",\n        \"scope\": \"sn_acc_spoke\",\n        \"description\": \"Agent Client collector spoke.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Amazon Elastic Container Service Spoke\",\n        \"scope\": \"sn_amazon_ecs_spk\",\n        \"description\": \"Amazon ECS is a highly scalable, fast, container management service that makes it easy to run, stop, and manage Docker containers on a cluster.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Azure Managed Storage Spoke\",\n        \"scope\": \"sn_azure_ms_spoke\",\n        \"description\": \"The Azure Managed Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Azure Managed Disks.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Exchange Online Spoke\",\n        \"scope\": \"sn_ex_online_spke\",\n        \"description\": \"The Microsoft Exchange Online Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Microsoft Exchange Online.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Azure Cosmos DB Spoke\",\n        \"scope\": \"sn_azure_cd_spoke\",\n        \"description\": \"The Microsoft Azure Cosmosdb Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Microsoft Azure Virtual Machines.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"CrowdStrike Spoke\",\n        \"scope\": \"sn_crowdstrk_spoke\",\n        \"description\": \"The CrowdStrike Spoke for ServiceNow IntegrationHub.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Drive Spoke\",\n        \"scope\": \"sn_gdrive_spoke\",\n        \"description\": \"The Google Drive Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Google Drive.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Azure Application Insights Spoke\",\n        \"scope\": \"sn_ms_appin_spoke\",\n        \"description\": \"The Microsoft Azure Application Insights Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to query Analytics, get Events and Metrics.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"BigFix Inventory Spoke\",\n        \"scope\": \"sn_bigfix_in_spoke\",\n        \"description\": \"The BigFix Inventory Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate BigFix Inventory.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Azure Virtual Network Spoke\",\n        \"scope\": \"sn_azure_vn_spoke\",\n        \"description\": \"The Microsoft Azure Virtual Network Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Microsoft Azure Virtual Networks.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Dropbox Business Spoke\",\n        \"scope\": \"sn_dropbox_b_spoke\",\n        \"description\": \"The Dropbox Business Spoke for IntegrationHub provides actions to manage files and folders in your Dropbox Team Account. Add, remove and manage users across groups in your team.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Zendesk Spoke\",\n        \"scope\": \"sn_zendesk_spoke\",\n        \"description\": \"The Zendesk Spoke for IntegrationHub provides actions that a process analyst can use when designing flows. The actions allow them to automate Zendesk by providing the ability to create, update, delete entities like Tickets, Requests, Organizations, Groups, Metrics, Audits, Webhooks and Users.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Kubernetes Spoke\",\n        \"scope\": \"sn_kubernetes_spok\",\n        \"description\": \"The Kubernetes Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Kubernetes.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Security Response Center Spoke\",\n        \"scope\": \"sn_ms_sec_cntr_spk\",\n        \"description\": \"The Microsoft Security Response Center Spoke for IntegrationHub provides actions that a process analyst can use when designing flows. The actions allow them to automate Microsoft Security Response Center.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"AWS CloudFormation Spoke\",\n        \"scope\": \"sn_aws_cdfrmtn_spk\",\n        \"description\": \"The AWS CloudFormation Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate the management of stacks, stack sets and change sets in the AWS CloudFormation.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft OneDrive Spoke\",\n        \"scope\": \"sn_onedrive_spoke\",\n        \"description\": \"The One Drive Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate One Drive.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Oracle Peoplesoft Financial Spoke\",\n        \"scope\": \"sn_oracle_psft_spk\",\n        \"description\": \"PeopleSoft.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Cloud Virtual Network Spoke\",\n        \"scope\": \"sn_gcp_vpc_spoke\",\n        \"description\": \"The Google Cloud Virtual Network Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Virtial Private Network Spoke.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Jamf Spoke\",\n        \"scope\": \"sn_jamf_spoke\",\n        \"description\": \"Jamf Spoke for apple devices deployment.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"UiPath Spoke\",\n        \"scope\": \"sn_uipath_spoke\",\n        \"description\": \"The UiPath Spoke for IntegrationHub provides actions to control various constructs of UiPath.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Endpoint Configuration Manager Spoke\",\n        \"scope\": \"sn_ms_epcfgmgr_spk\",\n        \"description\": \"Microsoft Endpoint Configuration Manager Spoke for IntegrationHub provides actions that a Process Analyst can use to automate the management of user collections, device collections, and application deployments.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Cloud Translator Service Spoke\",\n        \"scope\": \"sn_google_trans\",\n        \"description\": \"Using Google translation services, it adds ability to translate text from one language to another and detect the language of given text.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"FRISS Spoke\",\n        \"scope\": \"sn_friss_spoke\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Hangouts Spoke\",\n        \"scope\": \"sn_ghangouts_spoke\",\n        \"description\": \"The Google Hangouts Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Google Hangouts.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"GitLab Spoke\",\n        \"scope\": \"sn_gitlab_spoke\",\n        \"description\": \"The GitLab Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate GitLab.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Amazon EC2 Spoke\",\n        \"scope\": \"sn_amazon_ec2_spok\",\n        \"description\": \"The Amazon EC2 Spoke for IntegrationHub provides actions that a developer can use when designing flows. The actions allow them to automate EC2.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"SmartRecruiters Spoke\",\n        \"scope\": \"sn_smartrec_spoke\",\n        \"description\": \"Reimagine how you integrate with SmartRecruiters.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"UKG Spoke\",\n        \"scope\": \"sn_kronos_spoke\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Looker Spoke\",\n        \"scope\": \"sn_looker_spoke\",\n        \"description\": \"Reimagine how you integrate with Looker.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Azure Active Directory Spoke\",\n        \"scope\": \"sn_azure_ad_spoke\",\n        \"description\": \"The Azure Active Directory Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate the management of users, security groups, and office groups. User management includes applying licenses that result in user provisioning into Office 365.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"YouTube Spoke\",\n        \"scope\": \"sn_youtube_spoke\",\n        \"description\": \"Youtube spoke provides the functionalities across Data and Analytics apis.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Automation Anywhere Spoke\",\n        \"scope\": \"sn_autoanywher_spk\",\n        \"description\": \"The Automation Anywhere Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Automation Anywhere.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Asana Spoke\",\n        \"scope\": \"sn_asana_spoke\",\n        \"description\": \"Asana Spoke for ServiceNow IntegrationHub.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Oracle Object Storage Management Spoke\",\n        \"scope\": \"sn_osm_spoke\",\n        \"description\": \"The Oracle Cloud Infrastructure Object Storage service is an internet-scale, high-performance storage platform that offers reliable and cost-efficient data durability.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Teams Graph Spoke\",\n        \"scope\": \"sn_msteams_ahv2\",\n        \"description\": \"The Microsoft Teams Spoke for ServiceNow IntegrationHub provides actions that a Process Analyst can use when designing flows to automate sending messages about Incidents and Problems to a Microsoft Teams Spoke channel.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Cloud SQL Spoke\",\n        \"scope\": \"sn_gcpcloudsql_spk\",\n        \"description\": \"Google Cloud SQL Spoke provides fully managed relational database service for MySQL, PostgreSQL, and SQL server.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Azure Automation Spoke\",\n        \"scope\": \"sn_azure_auto_spke\",\n        \"description\": \"The Microsoft Azure Automation Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Azure Automation.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"ServiceNow Remote Instance Spoke\",\n        \"scope\": \"sn_now_remote_spk\",\n        \"description\": \"The ServiceNow Remote Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate ServiceNow capabilities.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Azure Virtual Machine Spoke\",\n        \"scope\": \"sn_azure_vm_spoke\",\n        \"description\": \"The Microsoft Azure Virtual Machine Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Microsoft Azure Virtual Machines.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"RPA Hub\",\n        \"scope\": \"sn_rpa_fdn\",\n        \"description\": \"Provides a centralized orchestration to deploy, monitor, manage, measure, and ensure compliance of all robots at an enterprise level. Manages the metadata which includes robots, packages, processes, queues, schedules, shared parameters, and alerts.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Oracle Virtual Cloud Network Spoke\",\n        \"scope\": \"sn_oracle_vcn_spke\",\n        \"description\": \"Oracle Virtual Cloud Network Spoke.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Redox Electronic Health Record Spoke\",\n        \"scope\": \"sn_redox_spoke\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Automation Center\",\n        \"scope\": \"sn_ac\",\n        \"description\": \"Automation Center.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Workfront Spoke\",\n        \"scope\": \"sn_workfront_spoke\",\n        \"description\": \"The Workfront Spoke for ServiceNow IntegrationHub.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Cloudify Spoke\",\n        \"scope\": \"sn_cloudify_spoke\",\n        \"description\": \"Automates service orchestration journeys using Cloudify Spoke, Primarily automates creation of deployments against various blueprints.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Ansible Spoke\",\n        \"scope\": \"sn_ansible_spoke\",\n        \"description\": \"The Ansible spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Ansible Tower.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Smartsheet Spoke\",\n        \"scope\": \"sn_smrtsheet_spoke\",\n        \"description\": \"The Smartsheet Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Smartsheet.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"OneLogin Spoke\",\n        \"scope\": \"sn_onelogin_spoke\",\n        \"description\": \"The OneLogin Spoke for IntegrationHub provides actions for various contructs of OneLogin.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"F5 BIG-IP Spoke\",\n        \"scope\": \"sn_f5_spoke\",\n        \"description\": \"The F5 Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate F5.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Cornerstone Spoke\",\n        \"scope\": \"sn_cstone_spoke\",\n        \"description\": \"The Cornerstone Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Cornerstone.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Amazon EBS Spoke\",\n        \"scope\": \"sn_amazon_ebs_spok\",\n        \"description\": \"The Amazon EBS Spoke for IntegrationHub provides actions that a developer can use when designing flows. The actions allow them to automate Elastic Block Store.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Qualtrics Spoke\",\n        \"scope\": \"sn_qualtrics_spoke\",\n        \"description\": \"The Qualtrics Spoke for IntegrationHub provides actions that a process analyst can use to create, update, or look up contacts, distributions, mailing lists and other resources in Qualtrics.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Cloud Functions Spoke\",\n        \"scope\": \"sn_gcp_cf_spoke\",\n        \"description\": \"The Google Cloud Funtions Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Google Cloud Functions.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"BMC Remedy Spoke\",\n        \"scope\": \"sn_bmcremedy_spoke\",\n        \"description\": \"The BMC Remedy Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate BMC Remedy.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"GoTo Spoke\",\n        \"scope\": \"sn_goto_spoke\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"GovNotify Spoke\",\n        \"scope\": \"sn_govnotify_spoke\",\n        \"description\": \"GOV.UK Notify allows government departments to send emails, text messages and letters to their users.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Cloud Load Balancer Spoke\",\n        \"scope\": \"sn_gcp_lb_spoke\",\n        \"description\": \"The Google Cloud Load Balancer Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Google Cloud Load Balancer Capabilities.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Cisco Webex Teams Spoke\",\n        \"scope\": \"sn_cisco_teams_spk\",\n        \"description\": \"The Cisco WebEx Teams Spoke for ServiceNow IntegrationHub provides actions that a Process Analyst can use when designing flows to automate sending messages about Incidents and Problems to a Cisco WebEx Teams Spoke channel.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Conversational SMS Integration with Twilio\",\n        \"scope\": \"sn_va_sms_twilio\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Calendly Spoke\",\n        \"scope\": \"sn_calendly_spoke\",\n        \"description\": \"The Calendly Spoke for ServiceNow IntegrationHub.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Trello Spoke\",\n        \"scope\": \"sn_trello_spoke\",\n        \"description\": \"Reimagine how you integrate with Trello.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Identity And Access Spoke\",\n        \"scope\": \"sn_gcp_id_acc_spk\",\n        \"description\": \"The Google Identity And Access Spoke provides fine-grained access control and visibility for centrally managing cloud resources.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Exchange Server Spoke\",\n        \"scope\": \"sn_exchange_spoke\",\n        \"description\": \"The Microsoft Exchange Server Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Microsoft Exchange.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Cloud VPC Access Spoke\",\n        \"scope\": \"sn_gcp_vpca_spoke\",\n        \"description\": \"The Google Cloud VPC Access Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Google Cloud VPC Access.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Amazon CloudWatch Spoke\",\n        \"scope\": \"sn_amazon_cdwc_spk\",\n        \"description\": \"The Amazon CloudWatch Spoke for IntegrationHub provides actions that a developer can use when designing flows. The actions allow them to automate monitoring. It provides you with complete control of your CloudWatch resources and lets you run on Amazons proven monitored environment.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Azure DevOps Boards Spoke\",\n        \"scope\": \"sn_azure_dev_spoke\",\n        \"description\": \"The Azure DevOps Boards Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Azure DevOps Boards.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Socure Spoke\",\n        \"scope\": \"sn_socure_spoke\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Docs Spoke\",\n        \"scope\": \"sn_google_docs\",\n        \"description\": \"The Google Docs Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Google Docs.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Twitter Spoke\",\n        \"scope\": \"sn_twitter_spoke\",\n        \"description\": \"The Twitter Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Twitter.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Cloud Datastore Spoke\",\n        \"scope\": \"sn_gcp_cds_spoke\",\n        \"description\": \"The Google Cloud Datastore Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Google Cloud Datastore.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Workplace from Facebook Spoke\",\n        \"scope\": \"sn_fb_wp_spoke\",\n        \"description\": \"The Workplace from Facebook Spoke for IntegrationHub provides actions that a Process Analyst can automate processes when designing flows.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Oracle Autonomous DB Spoke\",\n        \"scope\": \"sn_oci_adb_spoke\",\n        \"description\": \"Oracle Autonomous DB spoke provides functionality of OCI Autonmous DB.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Amazon Route 53 Spoke\",\n        \"scope\": \"sn_amzn_rout53_spk\",\n        \"description\": \"The Amazon Route 53 Spoke for IntegrationHub provides actions that a process analyst can use when designing flows. The actions allow them to automate Route 53.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"AWS Certificate Manager Spoke\",\n        \"scope\": \"sn_aws_certmgr_spk\",\n        \"description\": \"The AWS Certificate Manager Spoke for IntegrationHub provides actions that a process analyst can use when designing flows. The actions allow them to automate Certificate Manager.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Teams Communications Spoke\",\n        \"scope\": \"sn_msteams_com_spk\",\n        \"description\": \"The Microsoft Teams Communication Spoke for ServiceNow IntegrationHub provides actions that allow user to create and manage the calls for Microsoft Teams.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Amazon RDS Spoke\",\n        \"scope\": \"sn_amzn_rds_spoke\",\n        \"description\": \"The Amazon RDS Spoke for IntegrationHub provides actions that a developer can use when designing flows. The actions allow them to automate RDS.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Azure Artifacts Spoke\",\n        \"scope\": \"sn_ms_artfcts_spke\",\n        \"description\": \"Help automate the processes with Microsoft Azure Artifacts.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Amazon VPC Spoke\",\n        \"scope\": \"sn_amazon_vpc_spok\",\n        \"description\": \"The Amazon VPC Spoke for IntegrationHub provides actions that a developer can use when designing flows. The actions allow them to automate Virtual Private Cloud.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Okta Spoke\",\n        \"scope\": \"sn_okta_spoke\",\n        \"description\": \"The Okta Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate okta.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Jenkins Spoke\",\n        \"scope\": \"sn_jenkins_spoke\",\n        \"description\": \"The Jenkins Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate jenkins.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Active Directory v2 Spoke\",\n        \"scope\": \"sn_ms_ad_v2_spoke\",\n        \"description\": \"The Microsoft Active Directory v2 Spoke for IntegrationHub provides actions that a process analyst can use when designing flows. The actions allow them to automate Microsoft Active Directory.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Azure Blob Storage Spoke\",\n        \"scope\": \"sn_azure_blob_spke\",\n        \"description\": \"The Microsoft Azure Blob Storage Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Azure Blob Storage.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Rally Spoke\",\n        \"scope\": \"sn_rally_spoke\",\n        \"description\": \"The Rally Spoke for ServiceNow IntegrationHub.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Amazon Connect Spoke\",\n        \"scope\": \"sn_amzn_conect_spk\",\n        \"description\": \"The Amazon Connect Spoke for IntegrationHub provides actions that a process analyst can use when designing flows. The actions allow them to automate Amazon Connect.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Twilio Spoke\",\n        \"scope\": \"sn_twilio_spoke\",\n        \"description\": \"The Twilio Spoke for IntegrationHub provides actions that a Process Analyst can use in flows to create, update, delete, and look up records in Twilio.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Salesforce Marketing Cloud Spoke\",\n        \"scope\": \"sn_sforce_mc_spoke\",\n        \"description\": \"The Salesforce Marketing Cloud Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Salesforce Marketing Cloud.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"RPA Plugin Bundle\",\n        \"scope\": \"sn_rpa_plugins\",\n        \"description\": \"RPA Plugins.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"AWS IAM Spoke\",\n        \"scope\": \"sn_aws_iam_spoke\",\n        \"description\": \"The JIRA Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate JIRA.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Oracle Financial Cloud Spoke\",\n        \"scope\": \"sn_ofc_spoke\",\n        \"description\": \"Oracle Financial Cloud spoke provides functionality of financial accounting.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Amazon DynamoDB Spoke\",\n        \"scope\": \"sn_amzn_dyndb_spke\",\n        \"description\": \"Imagine Automating Business processes with Amazon DynamoDB.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Udemy Spoke\",\n        \"scope\": \"sn_udemy_spoke\",\n        \"description\": \"The Udemy Spoke for IntegrationHub provides actions to give you access to all your Udemy data such as Courses, Course Progress, Users etc.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Wrike Spoke\",\n        \"scope\": \"sn_wrike_spoke\",\n        \"description\": \"The Wrike Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Wrike.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"GitHub Spoke\",\n        \"scope\": \"sn_github_spoke\",\n        \"description\": \"The GitHub Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Gmail Spoke\",\n        \"scope\": \"sn_gmail_spoke\",\n        \"description\": \"The Gmail Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Gmail.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Miro Spoke\",\n        \"scope\": \"sn_miro_spoke\",\n        \"description\": \"The Miro Spoke for ServiceNow IntegrationHub.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Jira Spoke\",\n        \"scope\": \"sn_jira_spoke\",\n        \"description\": \"The JIRA Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate JIRA.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Slack Spoke\",\n        \"scope\": \"sn_slack_ah_v2\",\n        \"description\": \"The Slack Spoke for ServiceNow IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to send messages about incidents and problems to a channel.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Workday HR Spoke\",\n        \"scope\": \"sn_workday_hr_spke\",\n        \"description\": \"Workday HCM actions.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Navex EthicsPoint Spoke\",\n        \"scope\": \"sn_navex_ep_spoke\",\n        \"description\": \"The Navex EthicsPoint Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate EthicsPoint.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Docker Spoke\",\n        \"scope\": \"sn_docker_spoke\",\n        \"description\": \"The Docker Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate docker.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Salesforce Spoke\",\n        \"scope\": \"sn_sforce_v2_spoke\",\n        \"description\": \"Automate Salesforce processes.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Sheets Spoke\",\n        \"scope\": \"sn_g_sheets_spoke\",\n        \"description\": \"The Google Sheets Spoke for IntegrationHub provides actions to create, read, write, update spreadsheets and sheets in Google Sheets of Google Account.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Oracle HCM Cloud Spoke\",\n        \"scope\": \"sn_oracle_hcm_spk\",\n        \"description\": \"Automate processes with Oracle HCM cloud spoke.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Pluralsight Spoke\",\n        \"scope\": \"sn_pluralsight_spk\",\n        \"description\": \"The Pluralsight Spoke for IntegrationHub provides actions to give you access to all your Pluralsight data such as Course Progress, Users, Skills etc.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Confluent Kafka REST Proxy Spoke\",\n        \"scope\": \"sn_kafkacon_spoke\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Coupa Spoke\",\n        \"scope\": \"sn_coupa_spoke\",\n        \"description\": \"The Coupa Spoke for IntegrationHub provides actions that a process analyst can use to create, update, and query individual records to manage objects within Coupa.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Dynamics CRM Spoke\",\n        \"scope\": \"sn_ms_crm_spoke\",\n        \"description\": \"The Microsoft Dynamics CRM Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Dynamics CRM.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Confluence Cloud Spoke\",\n        \"scope\": \"sn_conflunce_spoke\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Aha! Spoke\",\n        \"scope\": \"sn_aha_spoke\",\n        \"description\": \"The Aha! Spoke for ServiceNow IntegrationHub provides actions that a process analyst can use when designing flows. The actions allow them to automate Aha by providing the ability to create, update, delete entities like Releases, Products, Release Phases, Personas, Goals, Epics, Features, Ideas, Idea Votes, Initiatives, Tasks, Webhooks and Users.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Guidewire Spoke\",\n        \"scope\": \"sn_guidewire_spoke\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Dynamics 365 for Finance and Operations Spoke\",\n        \"scope\": \"sn_ms_fin_ops_spk\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Oracle Block Storage Spoke\",\n        \"scope\": \"sn_oci_bs_spoke\",\n        \"description\": \"The Oracle Cloud Infrastructure Block Volume service lets you dynamically provision and manage block storage volumes.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"AWS Elastic Load Balancing Spoke\",\n        \"scope\": \"sn_aws_elb_spoke\",\n        \"description\": \"The AWS Elastic Load Balancing Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate AWS Elastic Load Balancing Spoke.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Cloud Deployment Automation\",\n        \"scope\": \"sn_cloud_dpmt_atmn\",\n        \"description\": \"Cloud deployment automation with service catalog.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Azure Traffic Manager Spoke\",\n        \"scope\": \"sn_azure_tmgr_spke\",\n        \"description\": \"The Microsoft Azure Traffic Manager Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Azure Traffic Manager.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Jira Service Management Spoke\",\n        \"scope\": \"sn_jira_sm_spoke\",\n        \"description\": \"The Jira Service Management Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Jira Service Management.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"DocuSign Spoke\",\n        \"scope\": \"sn_docusign_spoke\",\n        \"description\": \"The docusign Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate docusign.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"AWS Lambda Spoke\",\n        \"scope\": \"sn_aws_lambda_spok\",\n        \"description\": \"The AWS Lambda Spoke for IntegrationHub provides actions to control various constructs of AWS Lambda.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Jenkins v2 Spoke\",\n        \"scope\": \"sn_jenkinsv2_spoke\",\n        \"description\": \"The Jenkins Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Jenkins.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Amazon S3 Spoke\",\n        \"scope\": \"sn_amazon_s3_spoke\",\n        \"description\": \"The Amazon S3 spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Amazon S3.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Tasks Spoke\",\n        \"scope\": \"sn_gtasks_spoke\",\n        \"description\": \"The Google Tasks Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Google Tasks.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"AI Search Spoke\",\n        \"scope\": \"sn_ais_spoke\",\n        \"description\": \"The AI Search Spoke showcases on ingesting data from ServiceNow in to AIS.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Plivo Spoke\",\n        \"scope\": \"sn_plivo_spoke\",\n        \"description\": \"The Plivo Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Plivo.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Workday Financials Spoke\",\n        \"scope\": \"sn_workdayfin_spke\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Cloud Pub Sub Spoke\",\n        \"scope\": \"sn_gc_pubsub_spoke\",\n        \"description\": \"The Google Cloud Pub Sub Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Google Cloud Pub Sub.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Oracle Cloud IAM Spoke\",\n        \"scope\": \"sn_oci_iam_spoke\",\n        \"description\": \"This spoke provides functionality of Oracle Identity and Access Management.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Calendar Spoke\",\n        \"scope\": \"sn_gcalendar_spoke\",\n        \"description\": \"The Google Calendar Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Google Calendar.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"AWS OpsWorks Spoke\",\n        \"scope\": \"sn_aws_opswork_spk\",\n        \"description\": \"The AWS OpsWorks Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate AWS OpsWorks Spoke.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Compute Engine Spoke\",\n        \"scope\": \"sn_gcompute_spoke\",\n        \"description\": \"The Google Compute Engine Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Google Compute.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Azure Resource Management Spoke\",\n        \"scope\": \"sn_azure_rm_spoke\",\n        \"description\": \"The Microsoft Azure Resource Management Spoke Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Microsoft Azure Resources.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft 365 Excel Spoke\",\n        \"scope\": \"sn_ms_excel_spoke\",\n        \"description\": \"The Microsoft 365 Excel Spoke for IntegrationHub provides actions to manage workbooks, worksheets, tables and cells in your Excel Sheets uploaded to OneDrive.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"PagerDuty Spoke\",\n        \"scope\": \"sn_pagerduty_spoke\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Zoom Spoke\",\n        \"scope\": \"sn_zoom_spoke\",\n        \"description\": \"The Zoom Spoke for ServiceNow IntegrationHub provides actions that allow user to create and manage the conference meetings.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"First Advantage Spoke\",\n        \"scope\": \"sn_fadv_spoke\",\n        \"description\": \"The First Advantage Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate First Advantage.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Amazon Alexa Spoke\",\n        \"scope\": \"sn_amzn_alexa_spk\",\n        \"description\": \"The Amazon Alexa Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate the management of skills, intents, slot types, interaction model and vendors in the Amazon Alexa.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Oracle Compute Engine Spoke\",\n        \"scope\": \"sn_oci_ce_spk\",\n        \"description\": \"Automate business processes with Oracle Compute Engine Spoke.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Utility Actions Spoke\",\n        \"scope\": \"sn_utility_spoke\",\n        \"description\": \"This spoke has different utility actions to cater to the needs of other spokes.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Google Cloud DNS Spoke\",\n        \"scope\": \"sn_gcp_dns_spoke\",\n        \"description\": \"The Google Cloud DNS Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Google Cloud DNS.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft SharePoint Online Spoke\",\n        \"scope\": \"sn_sp_spoke\",\n        \"description\": \"The Microsoft SharePoint Online Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate SharePoint.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Adobe Sign Spoke\",\n        \"scope\": \"sn_adobesign_spoke\",\n        \"description\": \"The Adobe Sign Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Adobe Sign.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"SurveyMonkey Spoke\",\n        \"scope\": \"sn_sv_monkey_spoke\",\n        \"description\": \"The SurveyMonkey Spoke for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to Create Surveys, Questions, Contact Lists, Contacts and Folders.\"\n    }, {\n        \"productName\": \"Automation Engine\",\n        \"appName\": \"Microsoft Azure Notification Hub Spoke\",\n        \"scope\": \"sn_ms_notification\",\n        \"description\": \"sdfsdfds sdfs s fs.\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"appName\": \"sn-app-par-components-config-panel\",\n        \"scope\": \"sn_par_conf_panel\",\n        \"description\": \"A component for use with app-analytics-workspace, sn-dashboard, or sn-data-visualization.\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"appName\": \"Automation Discovery\",\n        \"scope\": \"sn_auto_discovery\",\n        \"description\": \"Find automation opportunities to streamline your business.\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"appName\": \"sn-app-par-components-export-modal\",\n        \"scope\": \"sn_export_modal\",\n        \"description\": \"Export your data visualizations to PDF, PNG and JPEG.\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"appName\": \"NLU Workbench - Advanced Features\",\n        \"scope\": \"sn_nlu_workbench\",\n        \"description\": \"Advanced Features for NLU Model Management used together with NLU Workbench.\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"appName\": \"Task Intelligence Admin Console\",\n        \"scope\": \"sn_ti_admin\",\n        \"description\": \"Resolve issues faster with automation so service agents can focus on more meaningful work.\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"appName\": \"Homepage deprecation help tool\",\n        \"scope\": \"sn_home_page_depr\",\n        \"description\": \"Choose the homepages to migrate to dashboards, to retire, and to restore from retirement.\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"appName\": \"Process Optimization\",\n        \"scope\": \"sn_po\",\n        \"description\": \"Process Optimization helps analysts and process owners analyze the effectiveness of their business processes with guided setup, metrics, and functionality such as integration of Automation Discovery & Cluster analytics.\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"appName\": \"Intent Discovery\",\n        \"scope\": \"sn_nlu_discovery\",\n        \"description\": \"Discover user intents from incidents, cases or request data to maximize deflection with Virtual Agent and NLU.\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"appName\": \"App Analytics Workspace\",\n        \"scope\": \"sn_app_analytics_w\",\n        \"description\": \"A single place for users to view indicators and manage all their workspace dashboards and data visualizations.\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"appName\": \"Classification Lab\",\n        \"scope\": \"sn_cls_lab\",\n        \"description\": \"Provides early access to in-progress enhancements in the Predictive Intelligence Classification capability.\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"appName\": \"sn-app-par-components-info-content\",\n        \"scope\": \"sn_par_info_cont\",\n        \"description\": \"A component for use with app-analytics-workspace, sn-dashboard, and/or sn-viz-designer to certify items in the Analytics Center.\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"appName\": \"Document Intelligence\",\n        \"scope\": \"sn_docintel\",\n        \"description\": \"Efficiently extract information from documents.\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"appName\": \"sn-app-kpi-details\",\n        \"scope\": \"sn_app_kpi_details\",\n        \"description\": \"Delve into the information behind your key performance indicators.\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"appName\": \"sn-app-par-components-share-info\",\n        \"scope\": \"sn_par_share_info\",\n        \"description\": \"A component for use with app-analytics-workspace, sn-dashboard, and/or sn-viz-designer.\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"appName\": \"sn-app-par-components-info-panel\",\n        \"scope\": \"sn_par_info_panel\",\n        \"description\": \"A component for use with app-analytics-workspace, sn-dashboard, and/or sn-viz-designer to view details of Analytics Center items.\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"appName\": \"sn-dashboard\",\n        \"scope\": \"sn_dashboard\",\n        \"description\": \"Inline editor anyone can use to create dashboards in a workspace.\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"appName\": \"KPI Composer\",\n        \"scope\": \"sn_kpi_composer\",\n        \"description\": \"Jump-start your Performance Analytics journey by visually mapping organizational objectives and business outcomes to KPIs.\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"appName\": \"sn-viz-designer\",\n        \"scope\": \"sn_viz_designer\",\n        \"description\": \"Inline editor for Data Visualization components on workspaces.\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"appName\": \"sn-app-par-components-share-dialog\",\n        \"scope\": \"sn_par_share_dia\",\n        \"description\": \"A component for use with app-analytics-workspace, sn-dashboard, and/or sn-viz-designer to share Analytics Center items.\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"appName\": \"sn-app-par-components-dynamic-renderer\",\n        \"scope\": \"sn_dynamic_render\",\n        \"description\": \"A component for use with sn-app-par-components-export-modal to export data visualizations.\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"appName\": \"sn-app-par-components-saved-data-visualization\",\n        \"scope\": \"sn_par_saved_data\",\n        \"description\": \"A component for use with app-analytics-workspace, sn-dashboard, and/or sn-viz-designer.\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"appName\": \"sn-app-par-components-create-dashboard-modal\",\n        \"scope\": \"sn_par_create_dash\",\n        \"description\": \"A component for use with app-analytics-workspace, sn-dashboard, and/or sn-viz-designer.\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"appName\": \"Intent Discovery\",\n        \"scope\": \"sn_nlu_discovery\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"appName\": \"ACL Assessment for Reports\",\n        \"scope\": \"sn_report_acl\",\n        \"description\": \"Use the ACL Assessment for Reports to identify reports shared with users who cannot see them due to ACLs.\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"appName\": \"Process Optimization\",\n        \"scope\": \"sn_po\",\n        \"description\": \"Creates business process flows from the data in audit trails. This allows in-depth analysis of business processes for improving outcomes.\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"appName\": \"Automation Discovery\",\n        \"scope\": \"sn_auto_discovery\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"appName\": \"Homepage deprecation help tool\",\n        \"scope\": \"sn_home_page_depr\",\n        \"description\": \"The Homepage deprecation help tool identifies all homepages on an instance and enables you to migrate homepages to dashboards, retire homepages, and restore retired homepages as dashboards.\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"appName\": \"KPI Composer\",\n        \"scope\": \"sn_kpi_composer\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"appName\": \"Task Intelligence Admin Console\",\n        \"scope\": \"sn_ti_admin\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"appName\": \"Platform Analytics Workspace\",\n        \"scope\": \"sn_app_analytics_w\",\n        \"description\": \"Central location to find, view, and create analytics dashboards, visualizations and indicators for Workspaces.\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"appName\": \"NLU Workbench - Advanced Features\",\n        \"scope\": \"sn_nlu_workbench\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"appName\": \"Data visualizations\",\n        \"scope\": \"sn_par_vis_base\",\n        \"description\": \"Template visualization component which provides shared behaviors for visualizations.\"\n    }, {\n        \"productName\": \"Now Intelligence\",\n        \"appName\": \"Document Intelligence\",\n        \"scope\": \"sn_docintel\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Supply Chain Management\",\n        \"appName\": \"Project44 Supply Chain Integration\",\n        \"scope\": \"sn_sco_p44\",\n        \"description\": \"Integration between Supply Chain Exception Management and project44 Logistics Solution.\"\n    }, {\n        \"productName\": \"Supply Chain Management\",\n        \"appName\": \"Supply Chain Exception Management\",\n        \"scope\": \"sn_sco\",\n        \"description\": \"Prevent supply chain disruptions with Exception Management.\"\n    }, {\n        \"productName\": \"Environmental, Social, and Governance\",\n        \"appName\": \"Global Reporting Initiative (GRI) Content Accelerator for ESG\",\n        \"scope\": \"sn_esg_gri\",\n        \"description\": \"Provides the complete set of citations and guidance to facilitate reporting to the Global Reporting Initiatives (GRI) framework.\"\n    }, {\n        \"productName\": \"Environmental, Social, and Governance\",\n        \"appName\": \"Goal Framework\",\n        \"scope\": \"sn_gf\",\n        \"description\": \"A framework that enables defining strategic priorities and associating goals for the organization and work items to drive business outcomes.\"\n    }, {\n        \"productName\": \"Environmental, Social, and Governance\",\n        \"appName\": \"Metric data table\",\n        \"scope\": \"sn_metric_data\",\n        \"description\": \"Streamline data collection processes across the organisation including providing evidence, approvals, and subsequent audit mechanisms using a spreadsheet-style interface.\"\n    }, {\n        \"productName\": \"Environmental, Social, and Governance\",\n        \"appName\": \"Sustainability Accounting Standards Board (SASB) Content Accelerator for ESG\",\n        \"scope\": \"sn_esg_sasb\",\n        \"description\": \"Provides the complete set of citations and guidance to facilitate reporting to the Sustainability Accounting Standards Board (SASB) framework.\"\n    }, {\n        \"productName\": \"Environmental, Social, and Governance\",\n        \"appName\": \"GRC: Metrics\",\n        \"scope\": \"sn_grc_metric\",\n        \"description\": \"Continuously monitor and obtain data for use by other applications.\"\n    }, {\n        \"productName\": \"Environmental, Social, and Governance\",\n        \"appName\": \"ESG integration with Concur\",\n        \"scope\": \"sn_esg_concur\",\n        \"description\": \"Facilitates the integration of data from SAP Concur.\"\n    }, {\n        \"productName\": \"Environmental, Social, and Governance\",\n        \"appName\": \"ESG Content Accelerator\",\n        \"scope\": \"sn_esg_content\",\n        \"description\": \"A content application offering ESG frameworks and associated metric definitions to facilitate ESG disclosure reporting.\"\n    }, {\n        \"productName\": \"Environmental, Social, and Governance\",\n        \"appName\": \"ESG integration with Concur\",\n        \"scope\": \"sn_esg_concur\",\n        \"description\": \"This an integration application to pull metric data from Concur.\"\n    }, {\n        \"productName\": \"Environmental, Social, and Governance\",\n        \"appName\": \"GRC: Metrics\",\n        \"scope\": \"sn_grc_metric\",\n        \"description\": \"Track metrics across GRC applications to measure the progress towards business objectives and goals.\"\n    }, {\n        \"productName\": \"Environmental, Social, and Governance\",\n        \"appName\": \"ESG content accelerator\",\n        \"scope\": \"sn_esg_content\",\n        \"description\": \"ESG content accelerator provides ESG frameworks as authority documents, citations and associated metric definitions and accelerates the adoption of ESG frameworks for customers.\"\n    }, {\n        \"productName\": \"Environmental, Social, and Governance\",\n        \"appName\": \"Metric data table\",\n        \"scope\": \"sn_metric_data\",\n        \"description\": \"This is a component repo used for metric data entry for ESG.\"\n    }, {\n        \"productName\": \"IT Asset Management\",\n        \"appName\": \"Cloud Insights\",\n        \"scope\": \"sn_clin\",\n        \"description\": \"Need to optimize your public cloud spend? Let's Workflow it.\"\n    }, {\n        \"productName\": \"IT Asset Management\",\n        \"appName\": \"Software Asset Management integration with Workday\",\n        \"scope\": \"sn_sam_workday\",\n        \"description\": \"Software Asset Management - Workday Integration.\"\n    }, {\n        \"productName\": \"IT Asset Management\",\n        \"appName\": \"Content library portal\",\n        \"scope\": \"sn_itam_contlookup\",\n        \"description\": \"Want to see what is present in the expansive ITAM content library?.\"\n    }, {\n        \"productName\": \"IT Asset Management\",\n        \"appName\": \"Hardware Asset Management\",\n        \"scope\": \"sn_hamp\",\n        \"description\": \"Power the full IT lifecycle with Hardware Asset Management.\"\n    }, {\n        \"productName\": \"IT Asset Management\",\n        \"appName\": \"Asset Management Common\",\n        \"scope\": \"sn_itam_common\",\n        \"description\": \"Asset management common application.\"\n    }, {\n        \"productName\": \"IT Asset Management\",\n        \"appName\": \"Cloud Spend Dashboard\",\n        \"scope\": \"sn_sam_cld_spend\",\n        \"description\": \"View all cloud spend on a single dashboard, including software, platform, and infrastructure.\"\n    }, {\n        \"productName\": \"IT Asset Management\",\n        \"appName\": \"Hardware Asset Management\",\n        \"scope\": \"sn_hamp\",\n        \"description\": \"Hardware Asset Management.\"\n    }, {\n        \"productName\": \"IT Asset Management\",\n        \"appName\": \"Cloud Insights\",\n        \"scope\": \"sn_clin\",\n        \"description\": \"Cloud Insights.\"\n    }, {\n        \"productName\": \"IT Asset Management\",\n        \"appName\": \"Software Asset Management integration with Workday\",\n        \"scope\": \"sn_sam_workday\",\n        \"description\": \"The Software Asset Management integration with Workday for IntegrationHub provides actions that a Process Analyst can use when designing flows. The actions allow them to automate Workday.\"\n    }, {\n        \"productName\": \"IT Asset Management\",\n        \"appName\": \"Content library portal\",\n        \"scope\": \"sn_itam_contlookup\",\n        \"description\": \"Content library portal.\"\n    }, {\n        \"productName\": \"IT Asset Management\",\n        \"appName\": \"Physical Assets\",\n        \"scope\": \"sn_phy_assets\",\n        \"description\": \"Physical Assets is a store app used to align the features of physical asset products, HAM and EAM.\"\n    }, {\n        \"productName\": \"IT Asset Management\",\n        \"appName\": \"Cloud Spend Dashboard\",\n        \"scope\": \"sn_sam_cld_spend\",\n        \"description\": \"This plugin provides Insights into SaaS, IaaS and PaaS Spend and Savings.\"\n    }, {\n        \"productName\": \"IT Asset Management\",\n        \"appName\": \"Asset Management Common\",\n        \"scope\": \"sn_itam_common\",\n        \"description\": \"Asset Management Common.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Workplace Indoor Map Component\",\n        \"scope\": \"sn_wsd_map\",\n        \"description\": \"Visualize scenarios with floor maps and make allocation and user assignment changes.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Employee Center Pro\",\n        \"scope\": \"sn_ex_sp_pro\",\n        \"description\": \"A modern, multi-department employee destination site to drive employee engagement and productivity.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Journey designer\",\n        \"scope\": \"sn_jny\",\n        \"description\": \"Enable managers and employees to engage in rich, collaborative journeys from onboarding to offboarding and everything in between.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Document Templates\",\n        \"scope\": \"sn_doc\",\n        \"description\": \"Simplified document generation, simplify the process of filling, signing, and reviewing.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Workplace Indoor Mapping\",\n        \"scope\": \"sn_wsd_indoor_map\",\n        \"description\": \"Create and manage indoor mapping for employee workplace experiences.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Workplace Space Management\",\n        \"scope\": \"sn_wsd_spcmgmt\",\n        \"description\": \"Manage and optimize space with accurate workplace data and utilization insights.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Learning Posts\",\n        \"scope\": \"sn_lnp\",\n        \"description\": \"Deliver learning experiences in the flow of work.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Workplace Reservation Management\",\n        \"scope\": \"sn_wsd_rsv\",\n        \"description\": \"Simplify the workplace reservation experience for employees with self-service.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Issue Auto Resolution for HR\",\n        \"scope\": \"sn_iar_hr\",\n        \"description\": \"AI-powered HR case resolution.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Health and Safety Incident Management\",\n        \"scope\": \"sn_ohs_im\",\n        \"description\": \"Promote wellness and safety culture in the workplace with ServiceNow Health and Safety Incident Management.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Legal Simple Contracts\",\n        \"scope\": \"sn_lg_contracts\",\n        \"description\": \"Drive self service for common template contracts with eSignature support.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Legal Counsel Center Components\",\n        \"scope\": \"sn_lg_ws_comps\",\n        \"description\": \"Seismic Components for Legal Counsel Center.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Workplace Stack Plan\",\n        \"scope\": \"sn_wsd_stackplan\",\n        \"description\": \"Interactive stack bars allow space planner to reallocate spaces with ease.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"HR Service Delivery Integration with Workday\",\n        \"scope\": \"sn_hr_workday\",\n        \"description\": \"Synchronize Workday employee profiles and tasks in ServiceNow.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Emergency Exposure Management\",\n        \"scope\": \"sn_imt_diagnosis\",\n        \"description\": \"Assess the potential impact of an employee's exposure.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Workplace PPE Inventory Management\",\n        \"scope\": \"sn_imt_ppe\",\n        \"description\": \"Manage PPE inventory to meet the health needs of your employees.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Enterprise Service Management Integrations Framework\",\n        \"scope\": \"sn_hr_integr_fw\",\n        \"description\": \"Rapidly connect HRSD with the rest of your enterprise.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Health and Safety Testing\",\n        \"scope\": \"sn_imt_health_test\",\n        \"description\": \"Streamline the process of employee health test submissions.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Employee Readiness Surveys\",\n        \"scope\": \"sn_imt_readiness\",\n        \"description\": \"Gauge workforce readiness for return to workplace.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Listening Posts\",\n        \"scope\": \"sn_lp\",\n        \"description\": \"Enhance employee service experiences in the moment.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Content Analytics\",\n        \"scope\": \"sn_cda\",\n        \"description\": \"View web traffic analytics and campaign engagement statistics anytime.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Employee Experience Foundation\",\n        \"scope\": \"sn_ex_emp_fd\",\n        \"description\": \"Deliver UI rich notification experiences with email layouts and templates.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Contact Tracing\",\n        \"scope\": \"sn_imt_tracing\",\n        \"description\": \"Rapidly identify and communicate with potentially impacted employees.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Employee Travel Safety\",\n        \"scope\": \"sn_imt_travel\",\n        \"description\": \"Pre-authorize employees for business travel.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Safe Workplace Dashboard\",\n        \"scope\": \"sn_imt_dashboard\",\n        \"description\": \"Quickly assess workplace and employee safety information.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Legal Stock Preclearance\",\n        \"scope\": \"sn_lg_stock_cp\",\n        \"description\": \"Manage stock preclearance requests.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Workplace Safety Management\",\n        \"scope\": \"sn_wsd_core\",\n        \"description\": \"Improve employee safety with workspace distancing, shifts and cleaning schedules.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Employee Readiness Core\",\n        \"scope\": \"sn_imt_core\",\n        \"description\": \"Shared data model and components for Employee Readiness apps.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Employee Center\",\n        \"scope\": \"sn_ex_sp\",\n        \"description\": \"Easily scale multi-department service delivery across the enterprise from a single unified portal.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Employee Health Screening\",\n        \"scope\": \"sn_imt_monitoring\",\n        \"description\": \"Provide health screening for employees and visitors entering the workplace.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"COVID-19 Global Health Data Set\",\n        \"scope\": \"sn_imt_c19datafeed\",\n        \"description\": \"Inform business decisions with publicly available global COVID-19 data.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"HR Service Delivery Virtual Agent Conversations\",\n        \"scope\": \"sn_hr_va\",\n        \"description\": \"Purpose-built HR Service delivery conversations to help your organization quickly deploy automated self-service experiences.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Workplace Move Management\",\n        \"scope\": \"sn_wsd_move\",\n        \"description\": \"Easily manage employee workspace moves and requests.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Journey Accelerator\",\n        \"scope\": \"sn_ja\",\n        \"description\": \"Enable managers and mentors to build better journeys for employees.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Content Experiences\",\n        \"scope\": \"sn_ca\",\n        \"description\": \"Deliver targeted content and campaigns to keep employees informed and engaged.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"HR taxonomy\",\n        \"scope\": \"sn_hr_emp_taxonomy\",\n        \"description\": \"Map HR catalog and knowledge content to the HR topics in the Employee Center.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Workplace Space Mapping\",\n        \"scope\": \"sn_wsd_space_map\",\n        \"description\": \"Provide digital floor maps for workplace reservations and navigation.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Legal Practice Apps Core\",\n        \"scope\": \"sn_lg_lpa_core\",\n        \"description\": \"Legal Practice App Core is a pre-requisite app for all Legal Practice Apps included with a valid Legal Service Delivery License.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"HR Service Delivery integration with Microsoft Teams\",\n        \"scope\": \"sn_now_teams_hr\",\n        \"description\": \"Resolve employee requests, directly in Microsoft Teams.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Emergency Outreach\",\n        \"scope\": \"sn_imt_checkin\",\n        \"description\": \"Quickly notify employees of emergencies and collect status updates.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Manager Hub\",\n        \"scope\": \"sn_mh\",\n        \"description\": \"Empower people leaders to better support their employee's needs.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Learning Core\",\n        \"scope\": \"sn_lc\",\n        \"description\": \"Platform plugin to support Learning Posts /Coaching and WFO Application.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Workplace Visitor Management\",\n        \"scope\": \"sn_wsd_visitor\",\n        \"description\": \"Welcome on-site visitors with a seamless check-in process.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Legal Mobile\",\n        \"scope\": \"sn_lg_mobile\",\n        \"description\": \"Now Mobile and Agent experience for Legal Service Delivery.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Emergency Self Report\",\n        \"scope\": \"sn_imt_quarantine\",\n        \"description\": \"Enable your employees to notify you of their changing health status.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Document Template integration with DocuSign\",\n        \"scope\": \"sn_dt_docusign\",\n        \"description\": \"Simplified document generation, simplify the process of filling, signing, and reviewing.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Legal Matter Management\",\n        \"scope\": \"sn_lg_matter\",\n        \"description\": \"Escalate and track ongoing legal matters without spreadsheets.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Legal Virtual Agent Conversations\",\n        \"scope\": \"sn_lg_va\",\n        \"description\": \"Pre-defined virtual agent conversation topic templates for Legal Service Delivery.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Content Governance\",\n        \"scope\": \"sn_cg\",\n        \"description\": \"Streamline employee communication workflows.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Legal Request Management\",\n        \"scope\": \"sn_lg_ops\",\n        \"description\": \"Submit,  prioritize and track legal service requests with ease.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Enterprise Employee Experience Pack\",\n        \"scope\": \"sn_hr_swc\",\n        \"description\": \"Get preconfigured workflows and content for employee experiences.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Indoor Mapping\",\n        \"scope\": \"sn_map_core\",\n        \"description\": \"Create and manage indoor maps in ServiceNow for indoor navigation.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Workplace Lease Administration\",\n        \"scope\": \"sn_wsd_la\",\n        \"description\": \"Track all workplace lease contracts and assets, services, and locations that are part of the contract.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Health and Safety Incident Management OSHA Content Pack\",\n        \"scope\": \"sn_hs_im_osha\",\n        \"description\": \"Adds OSHA report autofill and export capability to ServiceNow Health and Safety Incident Management.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Content Publishing\",\n        \"scope\": \"sn_cd\",\n        \"description\": \"Distribute meaningful content to employees through multiple channels.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Legal Conflict of Interest\",\n        \"scope\": \"sn_lg_coi\",\n        \"description\": \"Manage the conflict of interest disclosure process.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Employee Profile\",\n        \"scope\": \"sn_employee\",\n        \"description\": \"Easily organize employee information and deliver a modern profile experience.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"HR Service Delivery Advanced Integration with Oracle HCM\",\n        \"scope\": \"sn_hr_oracle_adv\",\n        \"description\": \"Integrate Oracle HCM and ServiceNow HRSD to create engaging experiences for employees.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"HR Service Delivery Advanced Integration with Workday\",\n        \"scope\": \"sn_hr_workday_adv\",\n        \"description\": \"Integrate Workday and ServiceNow HRSD to create engaging experiences for employees.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Universal Request integration with Microsoft Teams\",\n        \"scope\": \"sn_uni_req_msteams\",\n        \"description\": \"Create and update universal requests directly in Microsoft teams.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Legal Digital Forensics\",\n        \"scope\": \"sn_lg_forensics\",\n        \"description\": \"Streamline eDiscovery and Digital Forensics requests to Legal.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Vaccination Status\",\n        \"scope\": \"sn_imt_vaccine\",\n        \"description\": \"Gain insight into the current status of vaccination within your workforce.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Safe Workplace suite Professional\",\n        \"scope\": \"sn_imt_suite_pro\",\n        \"description\": \"Manage a safe and efficient return to the workplace.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"HR Service Delivery Integration with Cornerstone OnDemand\",\n        \"scope\": \"sn_hr_cornerstone\",\n        \"description\": \"Seamlessly access and complete learning tasks from a unified destination.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Workplace Reservations for Microsoft Outlook Add-in\",\n        \"scope\": \"sn_wsd_msaddin\",\n        \"description\": \"Make reservations and add service requests in Microsoft Outlook that sync to ServiceNow Workplace Service Delivery.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Workplace Calendar Synchronization\",\n        \"scope\": \"sn_wsd_rsvsync\",\n        \"description\": \"Synchronize room reservations with enterprise calendar providers.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Legal Counsel Center\",\n        \"scope\": \"sn_lg_workspace\",\n        \"description\": \"Your command center for taking action on legal requests.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Safe Workplace for mobile\",\n        \"scope\": \"sn_imt_mobile\",\n        \"description\": \"Manage the essential steps for returning employees to the workplace.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"HR Service Delivery Integration with Magnit\",\n        \"scope\": \"sn_hr_magnit\",\n        \"description\": \"Integrate Magnit and ServiceNow HRSD to create better onboarding experiences for your contingent workforce.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Agent Workspace for HR Case Management\",\n        \"scope\": \"sn_hr_agent_ws\",\n        \"description\": \"HR Configurable Workspace.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"HR Service Delivery NLU Model for Virtual Agent Conversations\",\n        \"scope\": \"sn_hr_nlu\",\n        \"description\": \"Support employee virtual agent conversations with natural language understanding.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Universal Task\",\n        \"scope\": \"sn_uni_task\",\n        \"description\": \"Universal employee tasking framework.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Workplace Service Delivery for Mobile\",\n        \"scope\": \"sn_wsd_mobile\",\n        \"description\": \"Enable workplace reservations and services directly from mobile.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"HR Service Delivery for mobile\",\n        \"scope\": \"sn_hr_mobile\",\n        \"description\": \"Create connected and engaging experiences for your hybrid workforce from anywhere.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"ServiceNow for Microsoft 365\",\n        \"scope\": \"sn_now_ms_metaos\",\n        \"description\": \"Resolve employee requests directly in Microsoft Teams, Outlook, and Office.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Workplace Case Management\",\n        \"scope\": \"sn_wsd_case\",\n        \"description\": \"Deliver world class service delivery experiences for the workplace.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"SharePoint Online Search Connector\",\n        \"scope\": \"sn_sp_con\",\n        \"description\": \"Search SharePoint from ServiceNow.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Legal Investigations\",\n        \"scope\": \"sn_lg_investigate\",\n        \"description\": \"Streamline the process for investigating complaints.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"HR Service Delivery integration with Microsoft Teams\",\n        \"scope\": \"sn_now_teams_hr\",\n        \"description\": \"ServiceNow HR Service Delivery integration with Microsoft Teams provides a broad set of service-delivery capabilities within Microsoft Teams, to help resolve employees HR requests. Employees will be able to get answers to questions, stay up to date on the latest news and events, report issues, and discuss open HR Cases with fulfillers.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Workplace Case Management\",\n        \"scope\": \"sn_wsd_case\",\n        \"description\": \"Workplace case management application.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Workplace Maintenance Management\",\n        \"scope\": \"sn_wsd_maintenance\",\n        \"description\": \"Workplace Maintenance Management.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Legal Conflict of Interest\",\n        \"scope\": \"sn_lg_coi\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Workplace Visitor Management\",\n        \"scope\": \"sn_wsd_visitor\",\n        \"description\": \"Workplace visitor management application.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Content Governance\",\n        \"scope\": \"sn_cg\",\n        \"description\": \"Content Governance works with Content Experiences and Publishing to enable content requests, reviews, tracking, assignment and publishing workflows.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"HR Service Delivery Integration with Workday\",\n        \"scope\": \"sn_hr_workday\",\n        \"description\": \"Pulls workers and jobs from Workday HCM into Servicenow. Also allows employees to request time off and view holiday calendar.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Emergency Self Report\",\n        \"scope\": \"sn_imt_quarantine\",\n        \"description\": \"This workflow helps an employee notify their employer that they are going into quarantine. A workflow helps the employee safely return to work.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Legal Request Management\",\n        \"scope\": \"sn_lg_ops\",\n        \"description\": \"Create and manage legal requests for legal teams. Includes workspace.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Workplace Move Management\",\n        \"scope\": \"sn_wsd_move\",\n        \"description\": \"Workplace Move Management.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Employee Profile\",\n        \"scope\": \"sn_employee\",\n        \"description\": \"Generate profiles for the employees in your organization. Employees will be able to view and manage their contact info, bios, and more.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"HR Service Delivery Integration with Cornerstone OnDemand\",\n        \"scope\": \"sn_hr_cornerstone\",\n        \"description\": \"Pull employee to-dos from Cornerstone OnDemand to ServiceNow HRSD, so employees can view all to-dos assigned to them in the Employee Service Center.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Content Publishing\",\n        \"scope\": \"sn_cd\",\n        \"description\": \"Content Publishing allows a multitude of content to be created and published to various channels such as portal, email, mobile and more.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Legal Simple Contracts\",\n        \"scope\": \"sn_lg_contracts\",\n        \"description\": \"Enable Self-Serve of standard legal contracts.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Agent Workspace for HR Case Management\",\n        \"scope\": \"sn_hr_agent_ws\",\n        \"description\": \"Supports refactored version of previous HR Agent Workspace: activates a configurable service desk application that provides agents with an integrated and graphically intuitive user experience for HR.  Important: To use HR Agent Workspace, the Human Resources Scoped App: Core plugin must be licensed and activated.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Journey designer\",\n        \"scope\": \"sn_jny\",\n        \"description\": \"Journey designer allows you to build better employee journeys, combining Lifecycle events and Journey accelerator, for use cases such as onboarding, off-boarding, leaves, and career growth opportunities. Additionally, you can empower your managers to create and manage these journeys.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Issue Auto Resolution for HR\",\n        \"scope\": \"sn_iar_hr\",\n        \"description\": \"This plugin delivers integration of Issue Auto-Resolution with HR for AI-powered HR case resolution and escalation using pre-trained models. The plugin provides capabilities to auto-resolve routine/high volume low value HR cases and escalate sensitive/high value cases (which need a high-touch experience) for agent assistance.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Employee Health Screening\",\n        \"scope\": \"sn_imt_monitoring\",\n        \"description\": \"Assess the health and safety of employees to ensure a safe workplace.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Legal Stock Preclearance\",\n        \"scope\": \"sn_lg_stock_cp\",\n        \"description\": \"Manage employee requests to sell stock with blackout dates and an insider trading list.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Content Analytics\",\n        \"scope\": \"sn_cda\",\n        \"description\": \"Content Analytics combines with Content Experiences and Content Publishing to offer analytics dashboards to measure both portal web traffic and Campaign content engagement.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Workplace PPE Inventory Management\",\n        \"scope\": \"sn_imt_ppe\",\n        \"description\": \"Deploy PPE to your workforce.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Legal Counsel Center\",\n        \"scope\": \"sn_lg_workspace\",\n        \"description\": \"Manage and resolve legal requests and matters.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Enterprise Service Management Integrations Framework\",\n        \"scope\": \"sn_hr_integr_fw\",\n        \"description\": \"Contains common components that can be used for integrating ServiceNow applications with third-party systems. The application provides a consistent way of building integrations for common use cases with third-party applications into ServiceNow.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Workplace Calendar Synchronization\",\n        \"scope\": \"sn_wsd_rsvsync\",\n        \"description\": \"A synchronization tool to sync reservation data between ServiceNow and the target external calendar system (Example: Microsoft Exchange Online...).\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Workplace Indoor Mapping\",\n        \"scope\": \"sn_wsd_indoor_map\",\n        \"description\": \"Workplace Indoor Mapping.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Content Experiences\",\n        \"scope\": \"sn_ca\",\n        \"description\": \"Content Experiences provides powerful capabilities for scheduling, grouping and triggering content created in Content Publishing in the form of a more comprehensive Campaign.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Health and Safety Testing\",\n        \"scope\": \"sn_imt_health_test\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Legal Investigations\",\n        \"scope\": \"sn_lg_investigate\",\n        \"description\": \"Enables the Legal department to accept complaints and conduct detailed legal investigations by conducting interviews, gathering evidence, and preparing final reports and recommended actions.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Employee Center\",\n        \"scope\": \"sn_ex_sp\",\n        \"description\": \"A customizable multi-department self-service portal experience for employees.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"HR Service Delivery Advanced Integration with Oracle HCM\",\n        \"scope\": \"sn_hr_oracle_adv\",\n        \"description\": \"Allows employees to view Time Off Balance, Holiday Calendar, Total Rewards, Direct Deposits and Payroll Discrepancy.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Enterprise Employee Experience Pack\",\n        \"scope\": \"sn_hr_swc\",\n        \"description\": \"Provides pre-configured process flows, activities, targeted and automated communications, and other configured content.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Document Template integration with DocuSign\",\n        \"scope\": \"sn_dt_docusign\",\n        \"description\": \"This integration enables you to use DocuSign application for signing documents that are generated from ServiceNow Document Templates.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Contact Tracing\",\n        \"scope\": \"sn_imt_tracing\",\n        \"description\": \"Identify employees exposed to co-worker with infectious disease and manage the communication / response process.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"HR Service Delivery Advanced Integration with Workday\",\n        \"scope\": \"sn_hr_workday_adv\",\n        \"description\": \"Allows employees to request Time offs, view holiday calendar and Total Rewards, change legal name.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Universal Request integration with Microsoft Teams\",\n        \"scope\": \"sn_uni_req_msteams\",\n        \"description\": \"The ServiceNow Universal Request integration with Microsoft Teams extends the Now Virtual Agent integration with Microsoft Teams to enable employees to more effectively request and receive service from within Microsoft Teams.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Legal Matter Management\",\n        \"scope\": \"sn_lg_matter\",\n        \"description\": \"Create and manage legal matter projects. Includes workspace.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Legal Virtual Agent Conversations\",\n        \"scope\": \"sn_lg_va\",\n        \"description\": \"This plugin contains prebuilt template conversation topics for Legal Service Delivery.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Legal Digital Forensics\",\n        \"scope\": \"sn_lg_forensics\",\n        \"description\": \"Enables users to request digital forensics support with a common legal profile table, keywords, search terms and workflow tasks around custodians.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Employee Travel Safety\",\n        \"scope\": \"sn_imt_travel\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Emergency Outreach\",\n        \"scope\": \"sn_imt_checkin\",\n        \"description\": \"During a crisis, this workflow uses a mobile app to help companies connect with employees and assess the impact on their employees. Employers can reach out by email or push notification to provide information and safety measures and get a response to confirm if employees are safe, and where they are located.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Legal Content Review\",\n        \"scope\": \"sn_lg_cont_review\",\n        \"description\": \"Enable Self-Serve of standard legal content review.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Vaccination Status\",\n        \"scope\": \"sn_imt_vaccine\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Safe Workplace for mobile\",\n        \"scope\": \"sn_imt_mobile\",\n        \"description\": \"This workflow helps an employee/manager notify and update their health status. A workflow helps the employee safely return to work..\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"HR Service Delivery Virtual Agent Conversations\",\n        \"scope\": \"sn_hr_va\",\n        \"description\": \"Purpose-built HR Service Delivery conversations to help your organization quickly deploy automated self-service experiences.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Indoor Mapping\",\n        \"scope\": \"sn_map_core\",\n        \"description\": \"Provides the capabilities to build, visualize, and integrate digital maps into various ServiceNow products and use cases.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Workplace Stack Plan\",\n        \"scope\": \"sn_wsd_stackplan\",\n        \"description\": \"Stack Plan would be a data visualization &amp; planning component. Consumer can use it to visualizes their current state of data and can edit the data using drag and drop.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Health and Safety Incident Management OSHA Content Pack\",\n        \"scope\": \"sn_hs_im_osha\",\n        \"description\": \"OSHA functionality for Health and Safety Incident Management.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Emergency Exposure Management\",\n        \"scope\": \"sn_imt_diagnosis\",\n        \"description\": \"When an employee has been diagnosed with an illness, this workflow helps the employer identify other people who might have been exposed based on the employees' meetings and location.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Employee Readiness Surveys\",\n        \"scope\": \"sn_imt_readiness\",\n        \"description\": \"Ensure your workplace readiness for returning to the office.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Workplace Service Delivery for Mobile\",\n        \"scope\": \"sn_wsd_mobile\",\n        \"description\": \"Workplace mobile application for reservation management.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Legal Practice Apps Core\",\n        \"scope\": \"sn_lg_lpa_core\",\n        \"description\": \"Legal Practice Apps Core provides pre-built legal workflows with configurable intake forms, process flows, disposition repository, analytics and integrations with third party tools.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Universal Task\",\n        \"scope\": \"sn_uni_task\",\n        \"description\": \"Activation of this plugin provides an ability for any application to create its own tasks.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Workplace Lease Administration\",\n        \"scope\": \"sn_wsd_la\",\n        \"description\": \"A Lease Administration application to track all workplace lease contracts and assets, services, locations that are part of the contract.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Legal Simple Privacy\",\n        \"scope\": \"sn_lg_privacy\",\n        \"description\": \"Streamline the Privacy related requests to legal.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Legal Mobile\",\n        \"scope\": \"sn_lg_mobile\",\n        \"description\": \"Mobile experience for Legal applications.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Employee Experience Foundation\",\n        \"scope\": \"sn_ex_emp_fd\",\n        \"description\": \"This plugin contains components such as best practice email layouts that improve employee experiences.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Document Templates\",\n        \"scope\": \"sn_doc\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"COVID-19 Global Health Data Set\",\n        \"scope\": \"sn_imt_c19datafeed\",\n        \"description\": \"This is an integration plugin that downloads COVID-19 daily from a central service. This data can then be easily consumed by applications, such as displaying in a dashboard.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Workplace Space Mapping\",\n        \"scope\": \"sn_wsd_space_map\",\n        \"description\": \"Provides space mapping features to support workplace service delivery.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Legal Counsel Center Components\",\n        \"scope\": \"sn_lg_ws_comps\",\n        \"description\": \"Legal Counsel Center Components includes components developed in Now Experience UI Framework and used in Legal Counsel Center.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"HR taxonomy\",\n        \"scope\": \"sn_hr_emp_taxonomy\",\n        \"description\": \"Connects HRSD out of box catalog items and knowledge articles to the Employee Experience Taxonomy topics so that they are available in browse, search, and topic pages.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Learning Posts\",\n        \"scope\": \"sn_lnp\",\n        \"description\": \"Empowers employee to receive right learning at right time of need through omnichannel experience.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Listening Posts\",\n        \"scope\": \"sn_lp\",\n        \"description\": \"Listening posts help gauge employee experience during moments that matter to enable timely feedback capture and actionable reports.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Manager Hub\",\n        \"scope\": \"sn_mh\",\n        \"description\": \"Increase manager self-service and proactive engagement with their team by providing insights and recommended actions for what's most urgent and important to drive team success.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Employee Center Pro\",\n        \"scope\": \"sn_ex_sp_pro\",\n        \"description\": \"Expands Employee Center to include employee communication and engagement features.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Learning Core\",\n        \"scope\": \"sn_lc\",\n        \"description\": \"Contains the base tables and attributes for learning application.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"HR Service Delivery NLU Model for Virtual Agent Conversations\",\n        \"scope\": \"sn_hr_nlu\",\n        \"description\": \"HR NLU model can be used in the VA topics for HR related use.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Employee Readiness Core\",\n        \"scope\": \"sn_imt_core\",\n        \"description\": \"Common functionality used by Employee Readiness apps.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Workplace Indoor Map Component\",\n        \"scope\": \"sn_wsd_map\",\n        \"description\": \"IndoorMap component to be used in scenario planning project.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Safe Workplace Dashboard\",\n        \"scope\": \"sn_imt_dashboard\",\n        \"description\": \"Centralized view of workplace readiness.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Workplace Safety Management\",\n        \"scope\": \"sn_wsd_core\",\n        \"description\": \"Provides workplace shift management & scheduling and maintenance management capabilities for workplace managers to create shifts and allocate spaces & employees to the shifts, reserve spaces for employees and coordinate fulfillment of scheduled and ad-hoc maintenance tasks.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"HR Service Delivery for mobile\",\n        \"scope\": \"sn_hr_mobile\",\n        \"description\": \"Activates the Mobile module for HR. Combined with Mobile Employee Experience Native Application plugin, items related to HR will be shown in the native mobile application.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Workplace Reservation Management\",\n        \"scope\": \"sn_wsd_rsv\",\n        \"description\": \"A universal reservation application offering a rich and unified reservation experience for your employees. The application enables your employees to reserve rooms, desks, or any other workplace item at their desired time. You can view relevant information and services that are available for reservation at each location.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Journey Accelerator\",\n        \"scope\": \"sn_ja\",\n        \"description\": \"Journey Accelerator lets administrators and managers create custom plans to manage employee transitions.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Safe Workplace suite Professional\",\n        \"scope\": \"sn_imt_suite_pro\",\n        \"description\": \"\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Health and Safety Incident Management\",\n        \"scope\": \"sn_ohs_im\",\n        \"description\": \"Manage Health and Safety Incidents across your organization.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Workplace Space Management\",\n        \"scope\": \"sn_wsd_spcmgmt\",\n        \"description\": \"Workplace Space Management.\"\n    }, {\n        \"productName\": \"Employee Service Management\",\n        \"appName\": \"Workplace Reservations for Microsoft Outlook Add-in\",\n        \"scope\": \"sn_wsd_msaddin\",\n        \"description\": \"Workplace Reservations for Microsoft Outlook Add-in.\"\n    }];\n\n    for (let application of applications_list) {\n        let {\n            productName,\n            appName,\n            scope,\n            description\n        } = application;\n        if (!productNameToSysIdMap.has(productName))\n            continue;\n        checkAndAddApplication(appName, scope, description, productNameToSysIdMap.get(productName));\n    }\n\n    let end = new Date().getTime();\n    gs.info(`[CONFIGURATION_HUB] Fix Script: Adding seed data for Configuration hub: took ${end - start} ms.`);\n})();","sys_class_name":"sys_script_fix","sys_id":"6f046ea3ebd921109cfedf3c035228ea","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2028fe718b11c8f32122c6da3b496a83","value":"2028fe718b11c8f32122c6da3b496a83"},"sys_update_name":"sys_script_fix_6f046ea3ebd921109cfedf3c035228ea","sys_updated_by":"maint","sys_created_on":"2023-03-07 00:27:39","name":"Add products and apps seed data","sys_name":"Add products and apps seed data","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/2028fe718b11c8f32122c6da3b496a83","value":"2028fe718b11c8f32122c6da3b496a83"},"sys_created_by":"maint","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"5","description":"Migrate data in sn_app_eng_studio_environment and sn_app_eng_studio_pipeline tables to corresponding table in Pipeline plugin in sn_deploy_pipeline scope.","sys_updated_on":"2021-10-18 16:32:07","sys_tags":"","record_for_rollback":"false","script":"(function() {\n    var logPrefix = \"Deployment Pipeline: Migrate App Engine Studio pipeline data to Pipeline tables: \\n\";\n    var migrationLog = {};\n    var environmentsMigrationMap = {}; // initialize environment map {aes_sys_id: pipeline_sys_id}\n\n    var AES_CONSTANTS = {\n        PIPELINE_TABLE: \"sn_app_eng_studio_pipeline\",\n        ENV_TABLE: \"sn_app_eng_studio_environment\",\n        PIPELINE_COLUMNS: {\n            ACTIVE: \"active\",\n            DEV_ENV: \"dev_environment\",\n            TEST_ENV: \"test_environment\",\n            PROD_ENV: \"prod_environment\"\n        }\n    };\n\n    var status = startMigration();\n    gs.info(logPrefix + \"\\n\" + status);\n\n    function startMigration() {\n        // Check for AES tables\n        var grAESPipelines = new GlideRecord(AES_CONSTANTS.PIPELINE_TABLE);\n        var grAESEnvironments = new GlideRecord(AES_CONSTANTS.ENV_TABLE);\n\n        if (!grAESPipelines.isValid() || !grAESEnvironments.isValid()) {\n            return \"Skipping migration as required AES tables are not found.\";\n        }\n\n        // Check for Pipeline tables\n        var grPipelineEnvironment = new GlideRecord(DeploymentPipelineConstants.pipeline.tables.ENVIRONMENT);\n        var grPipelines = new GlideRecord(DeploymentPipelineConstants.pipeline.tables.PIPELINE);\n        var grPipelineEnvironmentOrder = new GlideRecord(\n            DeploymentPipelineConstants.pipeline.tables.PIPELINE_ENVIRONMENT_ORDER);\n\n        if (!grPipelineEnvironment.isValid() || !grPipelines.isValid() || !grPipelineEnvironmentOrder.isValid()) {\n            return \"Skipping migration as required Pipeline tables are not found.\";\n        }\n\n        grAESPipelines.orderByDesc(AES_CONSTANTS.PIPELINE_COLUMNS.ACTIVE);\n        grAESPipelines.query();\n        grAESEnvironments.query();\n\n        var originalPipelineCount = grAESPipelines.getRowCount();\n        var originalEnvironmentsCount = grAESEnvironments.getRowCount();\n\n        if (!originalPipelineCount && !originalEnvironmentsCount) {\n            return \"No data to be migrated\";\n        }\n\n        // migrate pipelines starting with active\n        // This migrates the environments in the pipeline as well\n        // Active pipeline becomes the source of truth for environment type\n        while (grAESPipelines.next()) {\n            migrateAESPipeline(grAESPipelines);\n        }\n\n        // migrate environments not related to pipelines\n        while (grAESEnvironments.next()) {\n            createPipelineEnvironment(grAESEnvironments);\n        }\n\n        var migratedPipelineCount = getCompletedMigrationCount(AES_CONSTANTS.PIPELINE_TABLE);\n        var migratedEnvironmentsCount = getCompletedMigrationCount(AES_CONSTANTS.ENV_TABLE);\n\n        // Get how many pipelines and environments were successfully migrated\n        var pipelineCountLog = migratedPipelineCount + \" out of \" + originalPipelineCount + \" pipelines migrated successfully.\";\n        var environmentCountLog = migratedEnvironmentsCount + \" out of \" + originalEnvironmentsCount + \" environments migrated successfully.\";\n\n        // Validate environment connection async\n        startValidateConnection(Object.keys(environmentsMigrationMap).map(function(sysId) {\n            return environmentsMigrationMap[sysId];\n        }));\n\n        // Log everything combined\n        return pipelineCountLog + \"\\n\" + environmentCountLog + \"\\n\\n\" + \"Please see details below.\\n\\n\" + JSON.stringify(migrationLog, null, \"\\t\");\n    }\n\n    function migrateAESPipeline(aesPipeline) {\n        var aesDevEnvironment = getPipelineEnvironmentByType(aesPipeline, AES_CONSTANTS.PIPELINE_COLUMNS.DEV_ENV);\n        var aesTestEnvironment = getPipelineEnvironmentByType(aesPipeline, AES_CONSTANTS.PIPELINE_COLUMNS.TEST_ENV);\n        var aesProdEnvironment = getPipelineEnvironmentByType(aesPipeline, AES_CONSTANTS.PIPELINE_COLUMNS.PROD_ENV);\n\n        var migratedDevEnvSysId, migratedTestEnvSysId, migratedProdEnvSysId;\n\n        // We start with migrating the dev environment\n        // This becomes the source environment in new pipeline\n        if (aesDevEnvironment) {\n            migratedDevEnvSysId = createPipelineEnvironment(aesDevEnvironment);\n        }\n\n        var migratedPipelineSysId = createPipeline(aesPipeline, migratedDevEnvSysId);\n\n        // Then we check for test and prod environments\n        // If found, they are added to the migrated pipeline's pipeline environment order records.\n        if (aesTestEnvironment) {\n            migratedTestEnvSysId = createPipelineEnvironment(\n                aesTestEnvironment,\n                DeploymentPipelineConstants.pipeline.instanceTypes.TEST\n            );\n\n            // If the above migration was not successful, add logs and deactivate pipeline\n            if (!createPipelineEnvironmentOrder(migratedPipelineSysId, migratedTestEnvSysId, 100)) {\n                updateMigrationLog(aesPipeline, false, \"Could not migrate test environment for pipeline\");\n                updatePipeline(migratedPipelineSysId, false);\n            }\n        }\n\n        if (aesProdEnvironment) {\n            // prod environment from active pipeline is controller\n            migratedProdEnvSysId = createPipelineEnvironment(\n                aesProdEnvironment,\n                DeploymentPipelineConstants.pipeline.instanceTypes.PROD,\n                aesPipeline.getValue(AES_CONSTANTS.PIPELINE_COLUMNS.ACTIVE)\n            );\n\n            // If the above migration was not successful, add logs and deactivate pipeline\n            if (!createPipelineEnvironmentOrder(migratedPipelineSysId, migratedProdEnvSysId, 200)) {\n                updateMigrationLog(aesPipeline, false, \"Could not migrate production environment for pipeline\");\n                updatePipeline(migratedPipelineSysId, false);\n            }\n        }\n    }\n\n    function createPipelineEnvironment(aesEnvironment, type, isController) {\n        if (!aesEnvironment) {\n            return null;\n        }\n        var aesSysId = aesEnvironment.getUniqueValue();\n\n        // Do not migrate environment if previously migrated\n        if (environmentsMigrationMap[aesSysId]) {\n            return environmentsMigrationMap[aesSysId];\n        }\n\n        var environmentType = type || DeploymentPipelineConstants.pipeline.instanceTypes.DEV;\n        var grPipelineEnvironment = new GlideRecord(DeploymentPipelineConstants.pipeline.tables.ENVIRONMENT);\n        grPipelineEnvironment.initialize();\n        grPipelineEnvironment.setValue(\"name\", aesEnvironment.getValue(\"name\"));\n        grPipelineEnvironment.setValue(\"instance_url\", aesEnvironment.getValue(\"instance_url\"));\n        grPipelineEnvironment.setValue(\"instance_credential\", aesEnvironment.getValue(\"instance_credential\"));\n        grPipelineEnvironment.setValue(\"instance_type\", environmentType);\n        grPipelineEnvironment.setValue(\"instance_id\", \"change_me_\" + aesSysId);\n\n        // First insert environment as non-controller\n        // Then check what was passed and update\n        // This is so that migration of the record doesn't fail if there is an existing controller record\n        grPipelineEnvironment.setValue(\"is_controller\", false);\n\n        if (grPipelineEnvironment.insert()) {\n            environmentsMigrationMap[aesSysId] = grPipelineEnvironment.getUniqueValue();\n            addMigrationLog(aesEnvironment, grPipelineEnvironment);\n\n            if (isController) {\n                grPipelineEnvironment.get(grPipelineEnvironment.getUniqueValue());\n                grPipelineEnvironment.setValue(\"is_controller\", true);\n                if (!grPipelineEnvironment.update()) {\n                    // if failed to set as controller mark the migration not completed\n                    updateMigrationLog(aesEnvironment, false, \"Failed to save controller record with message: \" + grPipelineEnvironment.getLastErrorMessage());\n                }\n            }\n\n            return grPipelineEnvironment.getUniqueValue();\n        }\n\n        addMigrationLog(aesEnvironment, grPipelineEnvironment, grPipelineEnvironment.getLastErrorMessage());\n        return null;\n    }\n\n    function createPipeline(aesPipeline, sourceEnvSysId) {\n        var grPipelinePipeline = new GlideRecord(DeploymentPipelineConstants.pipeline.tables.PIPELINE);\n\n        if (!sourceEnvSysId) {\n            addMigrationLog(aesPipeline, grPipelinePipeline, \"Dev environment not found. Failed to migrate record\");\n            return null;\n        }\n        grPipelinePipeline.initialize();\n        grPipelinePipeline.setValue(\"name\", aesPipeline.getValue(\"name\"));\n        grPipelinePipeline.setValue(\"active\", aesPipeline.getValue(\"active\"));\n        grPipelinePipeline.setValue(\"source_environment\", sourceEnvSysId);\n        grPipelinePipeline.setValue(\"pipeline_type\", DeploymentPipelineConstants.APPLICATION_DEPLOYMENT_TYPE_SYS_ID);\n\n        if (grPipelinePipeline.insert()) {\n            addMigrationLog(aesPipeline, grPipelinePipeline);\n            return grPipelinePipeline.getUniqueValue();\n        }\n\n        addMigrationLog(aesPipeline, grPipelinePipeline, grPipelinePipeline.getLastErrorMessage());\n        return null;\n    }\n\n    function updatePipeline(sysId, isActive) {\n        var grPipelinePipeline = new GlideRecord(DeploymentPipelineConstants.pipeline.tables.PIPELINE);\n        if (grPipelinePipeline.get(sysId)) {\n            grPipelinePipeline.setValue(\"active\", isActive);\n            grPipelinePipeline.update();\n        }\n    }\n\n    function createPipelineEnvironmentOrder(pipelineSysId, environmentSysId, order) {\n        if (!pipelineSysId || !environmentSysId) {\n            return null;\n        }\n\n        var grPipelineEnvironmentOrder = new GlideRecord(\n            DeploymentPipelineConstants.pipeline.tables.PIPELINE_ENVIRONMENT_ORDER\n        );\n        grPipelineEnvironmentOrder.initialize();\n        grPipelineEnvironmentOrder.setValue(\"pipeline\", pipelineSysId);\n        grPipelineEnvironmentOrder.setValue(\"environment\", environmentSysId);\n        grPipelineEnvironmentOrder.setValue(\"order\", order);\n\n        if (grPipelineEnvironmentOrder.insert()) {\n            return grPipelineEnvironmentOrder.getUniqueValue();\n        }\n\n        return null;\n    }\n\n    function getPipelineEnvironmentByType(aesPipeline, type) {\n        var environment = aesPipeline[type];\n\n        if (!environment) {\n            return null;\n        }\n\n        return aesPipeline[type].getRefRecord();\n    }\n\n    function startValidateConnection(migratedEnvironmentSysIds) {\n        var inputs = {};\n        inputs[\"environment_sys_ids\"] = migratedEnvironmentSysIds;\n\n        var subflowResult = sn_fd.FlowAPI.getRunner()\n            .subflow(\"sn_pipeline.validate_environments_and_set_instance_id\")\n            .inBackground()\n            .withInputs(inputs)\n            .run();\n    }\n\n    function addMigrationLog(aesRecord, pipelineRecord, message) {\n        var aesTableName = aesRecord.getTableName();\n        var tableLogs = migrationLog[aesTableName] || {};\n        var recordLogs = tableLogs[aesRecord.getUniqueValue()] || {};\n        var recordMessages = recordLogs.messages || [];\n\n        if (message) {\n            recordMessages.push(message);\n        }\n\n        recordLogs = {\n            table: aesTableName,\n            sysId: aesRecord.getUniqueValue(),\n            migrationComplete: pipelineRecord.isValidRecord(),\n            messages: recordMessages,\n            migratedSysId: pipelineRecord ? pipelineRecord.getUniqueValue() : null,\n            migratedToTable: pipelineRecord.getTableName(),\n            linkToMigratedRecord: gs.getProperty('glide.servlet.uri') + pipelineRecord.getLink()\n        };\n\n        tableLogs[aesRecord.getUniqueValue()] = recordLogs;\n        migrationLog[aesTableName] = tableLogs;\n    }\n\n    function updateMigrationLog(aesRecord, migrationComplete, message) {\n        var aesTableName = aesRecord.getTableName();\n        var tableLogs = migrationLog[aesTableName] || {};\n        var recordLogs = tableLogs[aesRecord.getUniqueValue()] || {};\n        var recordMessages = recordLogs.messages || [];\n        recordMessages.push(message);\n        recordLogs.messages = recordMessages;\n        recordLogs.migrationComplete = migrationComplete;\n    }\n\n    function getCompletedMigrationCount(tableName) {\n        var tableLogs = migrationLog[tableName] || {};\n        var tableSysIds = Object.keys(tableLogs);\n        var filteredSysIds = tableSysIds.filter(function(sysId) {\n            return tableLogs[sysId].migrationComplete;\n        });\n\n        return filteredSysIds.length;\n    }\n\n})();","sys_class_name":"sys_script_fix","sys_id":"6fc76994c7533010408bc8d6f2c260b1","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bb67ed7253e83010b846ddeeff7b1204","value":"bb67ed7253e83010b846ddeeff7b1204"},"sys_update_name":"sys_script_fix_6fc76994c7533010408bc8d6f2c260b1","sys_updated_by":"admin","sys_created_on":"2021-10-15 15:07:59","name":"Migrate AES pipeline data into Pipeline","sys_name":"Migrate AES pipeline data into Pipeline","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bb67ed7253e83010b846ddeeff7b1204","value":"bb67ed7253e83010b846ddeeff7b1204"},"sys_created_by":"admin","sys_policy":"read"},{"before":"false","unloadable":"false","sys_mod_count":"14","description":"Map existing boards to new theme colors","sys_updated_on":"2019-02-05 12:47:33","sys_tags":"","record_for_rollback":"false","script":"mapBoards();\n\nfunction mapBoards() {\n\tvar oldToNewMapping = {\n\t\t'3' : '2', //red -> red\n\t\t'4' : '3', //orange -> orange\n\t\t'5' : '4', //yellow -> yellow\n\t\t'6' : '5', //green -> green\n\t\t'7' : '5', //shamrock -> green\n\t\t'8' : '6',//aqua -> blue\n\t\t'9' : '6',//cyan -> blue\n\t\t'10' : '6',//blue mix -> blue\n\t\t'11' : '9', //purple -> purple\n\t\t'12' : '10'\t//concours blue -> charcoal gray\n\t};\n\tfor(var key in oldToNewMapping) {\n\t\tmapBoardsForColor(key, oldToNewMapping[key]);\n\t}\n}\n\nfunction mapBoardsForColor(oldColorNum, newColorNum) {\n\tvar boards = new GlideRecord('vtb_board');\n\tboards.addQuery('background_color', 'vtb-board-color-' + oldColorNum);\n\tboards.setValue('background_color', 'vtb-board-color-' + newColorNum);\n\tboards.updateMultiple();\n}","sys_class_name":"sys_script_fix","sys_id":"70ca727b737a230056b5bef4b4f6a737","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d334a77b04312210559073c06a02f7ff","value":"d334a77b04312210559073c06a02f7ff"},"sys_update_name":"sys_script_fix_70ca727b737a230056b5bef4b4f6a737","sys_updated_by":"admin","sys_created_on":"2019-01-11 16:51:32","name":"VTB - Mapping to new theme colors","sys_name":"VTB - Mapping to new theme colors","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"8","description":"Update default value of \"sys_one_extend_resource_attribute_mapping\" - \"attribute_value_script\" field and sys_one_extend_resource_mapping - applicability_script field","sys_updated_on":"2024-09-25 17:21:50","sys_tags":"","record_for_rollback":"false","script":"var newAttributeValueScript = `(function execute(currentInputs, context) {\n    /* @param {Object} currentInputs - Inputs provided for the current step.*/\n    /* @param {Object} context - Execution context, which may include:*/\n    /*\t\t\t\t\t\t   - Previous tool outputs/inputs (e.g., context['ToolName.attributeName'] or context.getValue('ToolName.attributeName')).*/\n    /*\t\t\t\t\t\t   - Additional context information (e.g., context.getAllValues()).*/\n    /* @returns {Object} - The computed value for the attribute.*/\n    return '';\n})(currentInputs, context);`;\n\nvar newApplicabilityScript = `(function(currentInputs, context) {\n    /* @param {Object} currentInputs - Inputs provided for the current step.*/\n    /* @param {Object} context - Execution context, which may include:*/\n    /*\t\t\t\t\t\t   - Previous tool outputs/inputs (e.g., context['ToolName.attributeName'] or context.getValue('ToolName.attributeName')).*/\n    /*\t\t\t\t\t\t   - Additional context information (e.g., context.getAllValues()).*/\n    /* @returns {Boolean} - Return 'true' if the condition is met; otherwise 'false'.*/\n    return true;\n})(currentInputs, context);`;\n\nvar OE_RESOURCE_ATTRIBUTE_MAPPING = \"sys_one_extend_resource_attribute_mapping\";\nvar OE_RESOURCE_MAPPING = \"sys_one_extend_resource_mapping\";\n\n\nfunction updateDefaultDictValue(tableName, fieldName, newValue) {\n    var dictionaryGr = new GlideRecord('sys_dictionary');\n    dictionaryGr.addQuery('name', tableName);\n    dictionaryGr.addQuery(\"element\", fieldName);\n    dictionaryGr.query();\n    if (dictionaryGr.next()) {\n        dictionaryGr.setValue(\"default_value\", newValue);\n        dictionaryGr.update();\n\n        gs.info(sn_i18n.Message.getMessage(\"glide-one-extend\", \"Successfully updated Default value of table {tableName} field {fieldName} set to {newDefaultValue}\", {\n            \"tableName\": tableName,\n            \"fieldName\": fieldName,\n            \"newDefaultValue\": newValue\n        }));\n    } else {\n        gs.info(sn_i18n.Message.getMessage(\"glide-one-extend\", \"Failed to update dictionary entry for table {tableName} field {fieldName}\", {\n            \"tableName\": tableName,\n            \"fieldName\": fieldName\n        }));\n    }\n}\n\nfunction updateApplicapbilityScript(updatedScript) {\n    var gr = new GlideRecord(OE_RESOURCE_MAPPING);\n    gr.addEncodedQuery('applicability_type!=script^ORapplicability_type=NULL');\n    gr.query();\n    gr.setValue(\"applicability_script\", updatedScript);\n    gr.updateMultiple();\n    gs.info(sn_i18n.Message.getMessage(\"glide-one-extend\", \"Successfully updated 'sys_one_extend_resource_mapping' table 'applicability_script' field  for rows {rowCount}\", {\n        \"rowCount\": gr.getRowCount()\n    }));\n\n}\n\nfunction updateAttributeTemplateScript(updatedScript) {\n    var gr = new GlideRecord(OE_RESOURCE_ATTRIBUTE_MAPPING);\n    gr.addEncodedQuery('attribute_value_type!=script^ORattribute_value_type=NULL');\n    gr.query();\n    gr.setValue(\"attribute_value_script\", updatedScript);\n    gr.updateMultiple();\n    gs.info(sn_i18n.Message.getMessage(\"glide-one-extend\", \"Successfully updated 'sys_one_extend_resource_attribute_mapping' table 'attribute_value_script' field  for rows {rowCount}\", {\n        \"rowCount\": gr.getRowCount()\n    }));\n\n}\n\n\n// update default dictionary script template\nupdateDefaultDictValue(OE_RESOURCE_ATTRIBUTE_MAPPING, \"attribute_value_script\", newAttributeValueScript);\nupdateDefaultDictValue(OE_RESOURCE_MAPPING, \"applicability_script\", newApplicabilityScript);\n\n// update existing records script template\nupdateAttributeTemplateScript(newAttributeValueScript);\nupdateApplicapbilityScript(newApplicabilityScript);\n\n\ngs.info(sn_i18n.Message.getMessage('glide-one-extend', \"Successfully completed executing fix script: Update default value of AttributeMapping and Applicability script\"));","sys_class_name":"sys_script_fix","sys_id":"70d260ca7f20121046719fbefc8665e7","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7c84affb04312210559073c06a02f73d","value":"7c84affb04312210559073c06a02f73d"},"sys_update_name":"sys_script_fix_70d260ca7f20121046719fbefc8665e7","sys_updated_by":"admin","sys_created_on":"2024-09-11 05:12:53","name":"Update default value of OE tables field","sys_name":"Update default value of OE tables field","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Update discover choices in discovery status table related to com.snc.core.automation plugin","sys_updated_on":"2022-10-21 19:57:43","sys_tags":"","record_for_rollback":"true","script":"var tables = ['discovery_status'];\ntables.forEach(function (table) {\n\tcheckChoice(table, 'Subnet', 'Subnet Discovery', 8);\n\tcheckChoice(table, 'AutoConfiguration', 'Auto Configuration', 9);\n});\n\nfunction checkChoice(table, value, label, sequence, plugin) {\n\tvar gr = new GlideRecord('sys_choice');\n\tgr.addQuery('name', table);\n\tgr.addQuery('element', 'discover');\n\tgr.addQuery('value', value);\n\tgr.setLimit(1);\n\tgr.query();\n\n\tif (gr.next()) {\n\t\t//If we find existing record, make sure sequence is matching/updated accordingly\n\t\tif (gr.getValue('sequence') != sequence) {\n\t\t\tgr.setValue('sequence', sequence);\n\t\t\tgr.update();\n\t\t}\n\t} else {\n\t\t//If we don't find existing record, create record as needed\n\t\tgr.setValue('name', table);\n\t\tgr.setValue('element', 'discover');\n\t\tgr.setValue('language', 'en');\n\t\tgr.setValue('value', value);\n\t\tgr.setValue('label', label);\n\t\tgr.setValue('sequence', sequence);\n\t\tgr.insert();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"70ff4d7777a61110a760d14b8d5a992a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/91d8237704f12210559073c06a02f73b","value":"91d8237704f12210559073c06a02f73b"},"sys_update_name":"sys_script_fix_70ff4d7777a61110a760d14b8d5a992a","sys_updated_by":"christopher.thompson","sys_created_on":"2022-10-21 19:57:43","name":"Update discover value - Subnet","sys_name":"Update discover value - Subnet","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"christopher.thompson","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"8","description":"From Tokyo the stats on Standard Change Request templates and their versions are calculated by a daily job (sysauto_script \"Calculate Standard Change Template and Template Version statistics\") which replaces the equivalent functionality provided by business rules:\r\n\r\nUpdate Standard Change Version stats\r\nUpdate Standard Version stats on delete\r\n\r\nFor upgrading customers if the above 2 BRs have not been modified then this fix script deactivates them.","sys_updated_on":"2022-05-09 17:44:06","sys_tags":"","record_for_rollback":"true","script":"(function() {\n\tif (pm.isZboot())\n\t\treturn;\n\n\t/* Business rules:\n\t\n\t\tUpdate Standard Change Version stats\n\t\tUpdate Standard Version stats on delete\n\t*/\n\tvar legacyStandardChangeStatsBRs = [\"ef150739ff010200b18affffffffff04\", \"98937c609ff22200b18a7feea57fcf85\"];\n\n\tvar businessRuleGr = new GlideRecord(\"sys_script\");\n\tbusinessRuleGr.addActiveQuery();\n\tbusinessRuleGr.addQuery(\"sys_id\", legacyStandardChangeStatsBRs);\n\tbusinessRuleGr.query();\n\n\twhile (businessRuleGr.next()) {\n\t\tif (sn_collision.CollisionAPI.willBeReplacedOnUpgrade(businessRuleGr)) {\n\t\t\tbusinessRuleGr.setValue(\"active\", false);\n\t\t\tbusinessRuleGr.update();\n\t\t}\n\t}\n})();","sys_class_name":"sys_script_fix","sys_id":"714d62e673130110e289235f04f6a73a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b80be33304352210559073c06a02f76b","value":"b80be33304352210559073c06a02f76b"},"sys_update_name":"sys_script_fix_714d62e673130110e289235f04f6a73a","sys_updated_by":"admin","sys_created_on":"2022-05-09 16:23:03","name":"Disable legacy standard Change stats BRs","sys_name":"Disable legacy standard Change stats BRs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"","sys_updated_on":"2018-08-27 10:46:14","sys_tags":"","record_for_rollback":"false","script":"/**\n *  Business rules on v_rotation table of 'when' type 'action_list_button', get converted to UI action on upgrade via a fix script. These needs to be deactivated.\n *  Set the active flag (to false) on UI actions which got converted from Business rules\n *  UI actions (previously Business rules) which are de-activated are:\n \t- Edit Schedule\n \t- Refresh Report\n \t- Roster Properties\n */\n\ndeactivateUiActionsForRotation();\n\nfunction deactivateUiActionsForRotation() {\n\tvar gr = new GlideRecord(\"sys_ui_action\");\n\tgr.addQuery(\"table\", \"=\", \"v_rotation\");\n\tgr.addQuery(\"name\", \"IN\", \"Edit Schedule,Refresh Report,Roster Properties\");\n\tgr.query();\n\twhile (gr.next()) {\n\t\tgr.setValue(\"active\", false);\n\t\tgr.update();\n\t}\n}\n","sys_class_name":"sys_script_fix","sys_id":"72574cbb6784230099e0775617415a04","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_script_fix_72574cbb6784230099e0775617415a04","sys_updated_by":"admin","sys_created_on":"2018-08-27 10:46:02","name":"Deactivate Ui Actions For Rotation","sys_name":"Deactivate Ui Actions For Rotation","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Activate problem model related menu items (app_module), only if zbooting and com.snc.problem_management.models.enabled is enabled.","sys_updated_on":"2024-10-11 23:15:53","sys_tags":"","record_for_rollback":"true","script":"var isEnabled = gs.getProperty(\"com.snc.problem_management.models.enabled\", true);\n\nif (isEnabled && GlidePluginManager.isZboot()) {\n  //Activating menu items for Problem Models\n  var appModules = [\"be1903d143040210644b3d1e2ab8f21a\",\n    \"81d94fd143040210644b3d1e2ab8f2c9\",\n    \"2ee610a618333110f8779a21c06dca33\", \n    \"11ef6e434373311041c239aaaab8f27d\"];\n\n  var moduleGR = new GlideRecord(\"sys_app_module\");\n  moduleGR.addEncodedQuery(\"sys_idIN\" + appModules.join(\",\"), true);\n  moduleGR.setValue(\"active\", \"true\");\n  moduleGR.updateMultiple();\n}","sys_class_name":"sys_script_fix","sys_id":"72e1b2b2b76012100c98e3fdde11a992","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/02dca7fb04352210559073c06a02f7cc","value":"02dca7fb04352210559073c06a02f7cc"},"sys_update_name":"sys_script_fix_72e1b2b2b76012100c98e3fdde11a992","sys_updated_by":"admin","sys_created_on":"2024-09-13 23:11:02","name":"Enable problem model modules","sys_name":"Enable problem model modules","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"Set Access control type to be user_roles when empty","sys_updated_on":"2024-03-26 12:37:01","sys_tags":"","record_for_rollback":"true","script":"gs.info(\"Started execution of fix script: Set Access control type to be user_roles when empty\");\nexecuteFix();\ngs.info(\"Finished execution of fix script: Set Access control type to be user_roles when empty\");\n\nfunction executeFix() {\n    var tablesToFix = ['sys_sg_native_client', 'sys_sg_applet_launcher', 'sys_sg_section'];\n    for (var i = 0; i < tablesToFix.length; i++)\n        setDefaultAccessControlType(tablesToFix[i]);\n}\n\nfunction setDefaultAccessControlType(tableName) {\n    var fieldName = 'access_control_type';\n    var gr = new GlideRecord(tableName);\n\n\tif (!gr.isValid()) {\n        gs.error(\"Cannot run the script for updating access_control_type, invalid table: \" + tableName);\n        return;\n    }\n\n\tif (!gr.isValidField(fieldName)) {\n        gs.error(\"Cannot run the script for updating access_control_type, invalid column name: \" + fieldName);\n        return;\n    }\n\n    gr.addEncodedQuery(fieldName + 'ISEMPTY');\n    gr.setWorkflow(false);\n    gr.setValue(fieldName, 'user_roles');\n    gr.updateMultiple();\n}","sys_class_name":"sys_script_fix","sys_id":"732c7a4f0b7002108258f5c9f777b214","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/32f4abff04312210559073c06a02f771","value":"32f4abff04312210559073c06a02f771"},"sys_update_name":"sys_script_fix_732c7a4f0b7002108258f5c9f777b214","sys_updated_by":"admin","sys_created_on":"2024-03-12 08:48:07","name":"Fix Access Control type","sys_name":"Fix Access Control type","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"2","description":"Alter the choice list type to support - None - as an option","sys_updated_on":"2021-08-17 13:56:26","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('sys_dictionary');\ngr.addQuery('name', 'sys_sg_button_instance');\ngr.addQuery('element', 'color_theme');\ngr.query();\nif (gr.next()) {\n    gr.choice = '1';\n\tgr.default_value = \"\";\n    gr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"73a3a5c5c7313010fc3a2aa9b8c260c6","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/75d42bbf04312210559073c06a02f78d","value":"75d42bbf04312210559073c06a02f78d"},"sys_update_name":"sys_script_fix_73a3a5c5c7313010fc3a2aa9b8c260c6","sys_updated_by":"admin","sys_created_on":"2021-08-04 09:13:43","name":"Fix button color_theme choice list type","sys_name":"Fix button color_theme choice list type","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Load Incident state and priority chart colors from the com.snc.incident.updates plugin only if the instance does not have custom sys_report_chart_color records already defined for the incident table's state and priority field, if they have OOTB chart color then override it","sys_updated_on":"2023-10-05 16:15:53","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\n    var ootbStateColors = \"27379791b7d630104088bc16de11a960,541a2e27b70230104088bc16de11a99d,1c1a2e27b70230104088bc16de11a99d,941a6e27b70230104088bc16de11a9a3,5c1a6e27b70230104088bc16de11a9a3,141a6e27b70230104088bc16de11a9a4\";\n    var gr = new GlideRecord(\"sys_report_chart_color\");\n    gr.addQuery(\"name\", \"incident\");\n    gr.addQuery(\"element\", \"state\");\n    gr.addQuery(\"sys_id\", \"NOT IN\", ootbStateColors);\n    gr.setLimit(1);\n    gr.query();\n    if (!gr.hasNext()) {\n        gs.log(\"Loading sys_report_chart_color for incident.state\", \"[com.snc.incident.updates][Fix Script: Load Incident state priority chart color]\");\n        GlideUpdateManager2().load(\"com.snc.incident.updates\", \"update.chart_colors_state\");\n    }\n\n    var ootbPriorityColors = \"541a2e27b70230104088bc16de11a99c,e3379791b7d630104088bc16de11a95e,af379791b7d630104088bc16de11a95e,6b379791b7d630104088bc16de11a95f,ef379791b7d630104088bc16de11a95c\";\n    var gr1 = new GlideRecord(\"sys_report_chart_color\");\n    gr1.addQuery(\"name\", \"incident\");\n    gr1.addQuery(\"element\", \"priority\");\n    gr1.addQuery(\"sys_id\", \"NOT IN\", ootbPriorityColors);\n    gr1.setLimit(1);\n    gr1.query();\n    if (!gr1.hasNext()) {\n        gs.log(\"Loading sys_report_chart_color for incident.priority\", \"[com.snc.incident.updates][Fix Script: Load Incident state priority chart color]\");\n        GlideUpdateManager2().load(\"com.snc.incident.updates\", \"update.chart_colors_priority\");\n    }\n})();","sys_class_name":"sys_script_fix","sys_id":"75a5c10843793110b8cf8beeaab8f2fc","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/89fca33f04352210559073c06a02f72c","value":"89fca33f04352210559073c06a02f72c"},"sys_update_name":"sys_script_fix_75a5c10843793110b8cf8beeaab8f2fc","sys_updated_by":"admin","sys_created_on":"2023-10-05 13:10:43","name":"Incident state priority chart color v2","sys_name":"Incident state priority chart color v2","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"For Upgrade instances, remove the ref_ac_order_by attribute from Change request table's cmdb_ci field","sys_updated_on":"2024-10-15 12:21:05","sys_tags":"","record_for_rollback":"true","script":"var CHG_DICTIONARY_OVERRIDE_SYS_ID = \"3f45658fcb102200dff9b9c0c24c9c7c\";\nvar ORDER_BY_ATTRIBUTE_NAME = 'ref_ac_order_by';\nvar ORDER_BY_ATTRIBUTE_VALUE = 'sys_class_name';\n\nif (!pm.isZboot()) {\n    gs.info(\"[Update Change Request CI Attributes]: Execution started\");\n    removeAttribute(CHG_DICTIONARY_OVERRIDE_SYS_ID, ORDER_BY_ATTRIBUTE_NAME, ORDER_BY_ATTRIBUTE_VALUE);\n    gs.info(\"[Update Change Request CI Attributes]: Execution finished\");\n}\n\nfunction removeAttribute(overrideSysId, attributeName, attributeValue) {\n    var overrideGr = new GlideRecord('sys_dictionary_override');\n    if (overrideGr.get(overrideSysId) && !isRecordCustomized(overrideGr)) {\n        updateAttributes(overrideGr, attributeName, attributeValue);\n    } else {\n        gs.info(\"[Update Change Request CI Attributes]: Either the Change request's Configuration item field OOB override record doesn't exist or it has been customized\");\n    }\n}\n\nfunction isRecordCustomized(recordGr) {\n    return !sn_collision.CollisionAPI.willBeReplacedOnUpgrade(recordGr);\n}\n\nfunction updateAttributes(overrideGr, attributeName, attributeValue) {\n    var currentAttributes = \"\";\n    if (overrideGr.getValue('attributes_override') == 1) {\n        currentAttributes = new GlideAttributes(overrideGr.getValue(\"attributes\"));\n        if (attributeValue == currentAttributes.getAttribute(attributeName)) {\n            currentAttributes.removeAttribute(attributeName);\n            overrideGr.setValue(\"attributes\", currentAttributes.serializeAttributes());\n            if (overrideGr.update()) {\n                gs.info(\"[Update Change Request CI Attributes]: Successfully updated the attributes\");\n            } else {\n                gs.info(\"[Update Change Request CI Attributes]: Failed to update the attributes\");\n            }\n        }\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"75a64de753c112103d65ddeeff7b1277","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/32b7af7f04b12210559073c06a02f7fb","value":"32b7af7f04b12210559073c06a02f7fb"},"sys_update_name":"sys_script_fix_75a64de753c112103d65ddeeff7b1277","sys_updated_by":"admin","sys_created_on":"2024-10-10 19:54:31","name":"Update Change Request CI Attributes","sys_name":"Update Change Request CI Attributes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"All the synonyms and semantic shortcut xml files for NLQ has been moved from apply_once to update folder. Hence, deleting the file names in the sys_update table","sys_updated_on":"2020-04-24 17:46:35","sys_tags":"","record_for_rollback":"false","script":"sn_applyonce.ApplyOnce.allowOneMoreUpdate(\"nlq_semantic_shortcut_174c6c0d732333006c629bcefaf6a741.xml\");\nsn_applyonce.ApplyOnce.allowOneMoreUpdate(\"nlq_synonym_ebe091cc732333006c629bcefaf6a743.xml\");","sys_class_name":"sys_script_fix","sys_id":"75b9927253d0101090a1ddeeff7b12d7","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cebd633304752210559073c06a02f7f7","value":"cebd633304752210559073c06a02f7f7"},"sys_update_name":"sys_script_fix_75b9927253d0101090a1ddeeff7b12d7","sys_updated_by":"admin","sys_created_on":"2020-04-24 17:46:35","name":"nlq_remove_files_from_sys_update","sys_name":"nlq_remove_files_from_sys_update","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2024-09-20 14:11:02","sys_tags":"","record_for_rollback":"false","script":"var notifEmailGR = new GlideRecord(\"par_notification_email\");\nvar notifEmailRecipientsGR = new GlideRecord(\"par_notification_email_recipients\");\nif (notifEmailGR.isValid()) {\n\tnotifEmailGR.query();\n\twhile (notifEmailGR.next()) {\n\t\tnotifEmailRecipientsGR.initialize();\n\t\tnotifEmailRecipientsGR.setValue(\"users\", notifEmailGR.users);\n\t\tnotifEmailRecipientsGR.setValue(\"groups\", notifEmailGR.groups);\n\t\tnotifEmailRecipientsGR.setValue(\"par_notification_email\", notifEmailGR.sys_id);\n\t\tnotifEmailRecipientsGR.insert();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"75c5bc499fbc521006dd0127aa0a1cbb","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9509c0e54e289e08608566160eb606cb","value":"9509c0e54e289e08608566160eb606cb"},"sys_update_name":"sys_script_fix_75c5bc499fbc521006dd0127aa0a1cbb","sys_updated_by":"admin","sys_created_on":"2024-09-20 14:11:02","name":"Migrate data to Email Recipients","sys_name":"Migrate data to Email Recipients","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/9509c0e54e289e08608566160eb606cb","value":"9509c0e54e289e08608566160eb606cb"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"34","description":"Migrate the data from Agent Workspace CRUD Exclusions to the new Declarative Action Assignment Table","sys_updated_on":"2019-08-31 08:22:59","sys_tags":"","record_for_rollback":"false","script":"var crudGr = new GlideRecord('sys_aw_crud_exclusions');\ncrudGr.query();\n\nwhile (crudGr.next()) {\n\n    var tableName = crudGr.getValue('table');\n    var isActive = crudGr.getValue('active');\n\n    var daGr = new GlideRecord('sys_declarative_action_assignment');\n    daGr.addQuery('table', tableName);\n    daGr.addQuery('action_name', 'create-new');\n    daGr.addQuery('model', 'c3547169534723003eddddeeff7b126c');\n    daGr.query();\n\n    if (!daGr.next()) {\n        var actionPayload = {\n            \"table\": \"{{table}}\",\n            \"row\": {\n                \"sys_id\": {\n                    \"value\": \"-1\"\n                }\n            },\n            \"parent_table\": \"{{parentTable}}\",\n            \"additional_data\": {\n                \"query\": \"{{query}}\"\n            }\n        };\n\n        var daNewRecord = new GlideRecord('sys_declarative_action_assignment');\n        daNewRecord.initialize();\n        daNewRecord.setValue('script_condition', 'current.getTableName() !== \"' + tableName + '\";');\n        daNewRecord.setValue('action_name', 'create-new');\n        daNewRecord.setValue('label', 'New');\n        daNewRecord.setValue('action', 'adcad24753732300099addeeff7b122a');\n        daNewRecord.setValue('client_action', '5fd66665532333003eddddeeff7b122a');\n        daNewRecord.setValue('declarative_action_type', 'dispatch_action');\n        daNewRecord.setValue('model', 'c3547169534723003eddddeeff7b126c');\n        daNewRecord.setValue('active', isActive);\n        daNewRecord.setValue('enabled', isActive);\n        daNewRecord.setValue('icon', 'button');\n        daNewRecord.setValue('order', 300);\n        daNewRecord.setValue('tooltip', 'New');\n        daNewRecord.setValue('table', tableName);\n        daNewRecord.setValue('action_payload', JSON.stringify(actionPayload));\n        daNewRecord.setValue('create_access', true);\n        daNewRecord.insert();\n    }\n\n    daRelatedListGr = new GlideRecord('sys_declarative_action_assignment');\n    daRelatedListGr.addQuery('table', tableName);\n    daRelatedListGr.addQuery('action_name', 'create-new');\n    daRelatedListGr.addQuery('model', 'd91731a9534723003eddddeeff7b121c');\n    daRelatedListGr.query();\n\n    if (!daRelatedListGr.next()) {\n        var relatedListActionPayload = {\n            \"table\": \"{{table}}\",\n            \"sys_id\": \"-1\",\n            \"params\": {\n                \"query\": \"{{query}}\"\n            }\n        };\n\n        var daNewRelatedListRecord = new GlideRecord('sys_declarative_action_assignment');\n        daNewRelatedListRecord.initialize();\n        daNewRelatedListRecord.setValue('script_condition', 'current.getTableName() !== \"' + tableName + '\";');\n        daNewRelatedListRecord.setValue('action_name', 'create-new');\n        daNewRelatedListRecord.setValue('label', 'New');\n        daNewRelatedListRecord.setValue('action', '364720b553213300ffa9ddeeff7b12ad');\n        daNewRelatedListRecord.setValue('client_action', '14966265532333003eddddeeff7b12e3');\n        daNewRelatedListRecord.setValue('declarative_action_type', 'dispatch_action');\n        daNewRelatedListRecord.setValue('model', 'd91731a9534723003eddddeeff7b121c');\n        daNewRelatedListRecord.setValue('active', isActive);\n        daNewRelatedListRecord.setValue('enabled', isActive);\n        daNewRelatedListRecord.setValue('icon', 'button');\n        daNewRelatedListRecord.setValue('order', 300);\n        daNewRelatedListRecord.setValue('tooltip', 'New');\n        daNewRelatedListRecord.setValue('table', tableName);\n        daNewRelatedListRecord.setValue('action_payload', JSON.stringify(relatedListActionPayload));\n        daNewRelatedListRecord.setValue('create_access', true);\n\n        daNewRelatedListRecord.insert();\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"75ce0f995c853300fa9b1253c08a987e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f39caf7b04352210559073c06a02f73f","value":"f39caf7b04352210559073c06a02f73f"},"sys_update_name":"sys_script_fix_75ce0f995c853300fa9b1253c08a987e","sys_updated_by":"admin","sys_created_on":"2019-04-25 20:29:21","name":"Migrate AW CRUD Exclusions to DA ","sys_name":"Migrate AW CRUD Exclusions to DA ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Change the activity_picker_override reference table to sys_ux_macroponent in the table of sys_pd_process_type.","sys_updated_on":"2024-05-21 19:22:38","sys_tags":"","record_for_rollback":"true","script":"var fieldUpdated = false;\n\nvar gr = new GlideRecord('sys_dictionary');\ngr.addQuery('name', 'sys_pd_process_type');\ngr.addQuery('element', 'activity_picker_override');\ngr.query();\nif (gr.next()) {\n    var referenceValue = gr.getValue('reference');\n    if (referenceValue === 'sys_ux_macroponent_type') {\n        // update metadata\n        try {\n            gr.setValue('reference', 'sys_ux_macroponent');\n            gr.update();\n            fieldUpdated = true;\n            gs.info('Updated activity_picker_override in sys_pd_process_type successfully');\n        } catch (e) {\n            gs.error('Error in updating the reference value of activity_picker_override: ' + e.message());\n        }\n    }\n}\n\nif (fieldUpdated) {\n    // update data (record)\n    var grType = new GlideRecord('sys_pd_process_type');\n    var creatorStudioAutomationType = 'a487710eff0f3110893effffffffff4d';\n    if (grType.get(creatorStudioAutomationType)) {\n        var activityPickerValue = grType.getValue('activity_picker_override');\n        var creatorStudioActivityPicker = '904e33c88af17cf5d48b0f0814f1348f';\n        if (activityPickerValue !== creatorStudioActivityPicker) {\n            try {\n                grType.setValue('activity_picker_override', creatorStudioActivityPicker);\n                grType.update();\n                gs.info('Updated Creator Studio Automation in sys_pd_process_type successfully');\n            } catch (e) {\n                gs.error('Error in updating the value of activity_picker_override for Creator Studio: ' + e.message());\n            }\n        }\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"763e69b9a39202107bb9f363041e6106","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/903e67b304752210559073c06a02f757","value":"903e67b304752210559073c06a02f757"},"sys_update_name":"sys_script_fix_763e69b9a39202107bb9f363041e6106","sys_updated_by":"admin","sys_created_on":"2024-05-21 19:22:38","name":"Change activity picker reference","sys_name":"Change activity picker reference","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":"read"},{"before":"false","unloadable":"false","sys_mod_count":"5","description":"Increased max_length of 'name' field in mid_cert_check_policy table as a FQDN can be as long as 255. ","sys_updated_on":"2022-05-31 21:29:03","sys_tags":"","record_for_rollback":"false","script":"var dictionaryGR = new GlideRecord('sys_dictionary');\ndictionaryGR.addQuery('name','mid_cert_check_policy');\ndictionaryGR.addQuery('element','name');\ndictionaryGR.query();\n\nif (dictionaryGR.next()) {\n\tdictionaryGR.setValue('max_length','255');\n\tdictionaryGR.update();\n\tgs.info(\"Max_length of 'name' field in mid_cert_check_policy table increased to 255\");\n}\n","sys_class_name":"sys_script_fix","sys_id":"76f6d0b1733301109499a66c8f148b64","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/42b8273704f12210559073c06a02f78d","value":"42b8273704f12210559073c06a02f78d"},"sys_update_name":"sys_script_fix_76f6d0b1733301109499a66c8f148b64","sys_updated_by":"admin","sys_created_on":"2022-05-31 17:53:36","name":"Increase max_length in name (mid_cert..)","sys_name":"Increase max_length in name (mid_cert..)","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"To fix DEF0478021, basic secret groups will not be accessible from the side bar if Enterprise is not installed","sys_updated_on":"2024-02-24 08:03:12","sys_tags":"","record_for_rollback":"true","script":"var gr = new GlideRecord(\"sys_app_module\");\ngr.setWorkflow(false);\nif (gr.get(\"73180c4ac37201106bedccbfea40ddd8\")) {\n    gr.deleteRecord();\n}","sys_class_name":"sys_script_fix","sys_id":"77309729776002102477d84b8c5a991e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fff9affb04f12210559073c06a02f79b","value":"fff9affb04f12210559073c06a02f79b"},"sys_update_name":"sys_script_fix_77309729776002102477d84b8c5a991e","sys_updated_by":"admin","sys_created_on":"2024-02-24 08:03:12","name":"Delete Secret Group Module","sys_name":"Delete Secret Group Module","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"5","description":"Set default consent policy to No Consent Required for all countries if there are no customization done by customer","sys_updated_on":"2024-08-22 06:49:25","sys_tags":"","record_for_rollback":"true","script":"\n         gs.info(\"Started running fix script to set default analytics consent policy.\");\n\n        var gr = new GlideRecord(\"core_country\");\n        gr.addQuery(\"sys_updated_by\", \"NOT IN\", [\"system\", \"admin\", \"maint\"]);\n        gr.addReturnField(\"sys_id\");\n        gr.query();\n        var customizedSysIds = [];\n        while (gr.next()) {\n            customizedSysIds.push(gr.getValue('sys_id'));\n        }\n\n        if (customizedSysIds.length === 0) {\n            gs.info(\"Customer has not customized any Analytics Consent Policy in core_country table.\");\n        } else {\n            gs.info(\"Customer has customized Analytics Consent Policy for \"+GlideStringUtil.join(customizedSysIds)+\" sysId's from core_country table, so while upgrade this record's will not changed to default consent policy.\");\n        }\n\n        //Update country record to No Consent Required if there are not customized\n        var grNoConsentRequiredPolicy = new GlideRecord(\"core_country\");\n\n        if(customizedSysIds.length > 0) {\n\t      grNoConsentRequiredPolicy.addQuery(\"sys_id\",\"NOT IN\",GlideStringUtil.join(customizedSysIds));\n        }\n        grNoConsentRequiredPolicy.setValue(\"analytics_consent_policy\", \"ef0bb519773311105679bcc8ca5a99ad\");//No Consent Required\n        grNoConsentRequiredPolicy.updateMultiple();\n\n\t\tgs.info(\"Finished running fix script to set default analytics consent policy.\");","sys_class_name":"sys_script_fix","sys_id":"779bb6ce7f730210cf428c711d8665af","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/07d4abbf04312210559073c06a02f7f6","value":"07d4abbf04312210559073c06a02f7f6"},"sys_update_name":"sys_script_fix_779bb6ce7f730210cf428c711d8665af","sys_updated_by":"admin","sys_created_on":"2024-08-05 09:21:52","name":"Set default analytics consent policy","sys_name":"Set default analytics consent policy","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"8","description":"Set the \"Advanced Properties\" field to true and \"Properties\" initial value for existing diagram builder configuration records","sys_updated_on":"2023-03-07 06:51:33","sys_tags":"","record_for_rollback":"true","script":"try {\n    var diagramBuilderConfigGR = new GlideRecord(\"sn_diagram_builder_configuration\");\n    diagramBuilderConfigGR.addEncodedQuery('advanced=true');\n    diagramBuilderConfigGR.query();\n    var isUpdateRequired = false;\n    while (diagramBuilderConfigGR.next()) {\n        var props = JSON.parse(diagramBuilderConfigGR.getValue(\"props\"));\n        if (!props.hasOwnProperty(\"recenterThresholdPercentage\")) {\n            props[\"recenterThresholdPercentage\"] = 100;\n            isUpdateRequired = true;\n        }\n        if (!props.hasOwnProperty(\"additionalNodeProps\")) {\n            props[\"additionalNodeProps\"] = [];\n            isUpdateRequired = true;\n        }\n        if (!props.hasOwnProperty(\"additionalEdgeProps\")) {\n            props[\"additionalEdgeProps\"] = [];\n            isUpdateRequired = true;\n        }\n\n        if (isUpdateRequired) {\n            diagramBuilderConfigGR.setValue(\"props\", JSON.stringify(props));\n            diagramBuilderConfigGR.update();\n        }\n    }\n} catch (ex) {\n    gs.error(ex);\n}","sys_class_name":"sys_script_fix","sys_id":"77b341ce43a42110a0ed690908b8f20e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1cf7ad026abf3abab12e761ddaa6e9df","value":"1cf7ad026abf3abab12e761ddaa6e9df"},"sys_update_name":"sys_script_fix_77b341ce43a42110a0ed690908b8f20e","sys_updated_by":"admin","sys_created_on":"2023-01-23 18:45:25","name":"Set Diagram Builder Advanced Properties","sys_name":"Set Diagram Builder Advanced Properties","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1cf7ad026abf3abab12e761ddaa6e9df","value":"1cf7ad026abf3abab12e761ddaa6e9df"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Ensure ATF Glide Vars have attribute serializer=com.glide.vars.VariableValueXMLSerializer","sys_updated_on":"2021-02-01 23:07:27","sys_tags":"","record_for_rollback":"false","script":"SNC.DictionaryAttribute.set('sys_atf_step', 'inputs', 'serializer', 'com.glide.vars.VariableValueXMLSerializer');\nSNC.DictionaryAttribute.set('sys_atf_step_config', 'inputs', 'serializer', 'com.glide.vars.VariableValueXMLSerializer');\nSNC.DictionaryAttribute.set('sys_atf_step_config', 'outputs', 'serializer', 'com.glide.vars.VariableValueXMLSerializer');\nSNC.DictionaryAttribute.set('sys_atf_test', 'parameters', 'serializer', 'com.glide.vars.VariableValueXMLSerializer');\nSNC.DictionaryAttribute.set('sys_atf_test', 'remember', 'serializer', 'com.glide.vars.VariableValueXMLSerializer');\nSNC.DictionaryAttribute.set('sys_atf_test_result_step', 'outputs', 'serializer', 'com.glide.vars.VariableValueXMLSerializer');","sys_class_name":"sys_script_fix","sys_id":"782d3c0a534220108d3fddeeff7b12ae","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18792f3b04f12210559073c06a02f71d","value":"18792f3b04f12210559073c06a02f71d"},"sys_update_name":"sys_script_fix_782d3c0a534220108d3fddeeff7b12ae","sys_updated_by":"admin","sys_created_on":"2021-02-01 23:07:27","name":"Set ATF Glide Var serializer attribute","sys_name":"Set ATF Glide Var serializer attribute","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"In previous version this column was used as unique key. We changed this in vancouver because it caused issue with postgres as postgres had a bug. It is not used anywhere else so we are now dropping it to avoid future confusion.","sys_updated_on":"2023-06-06 19:37:23","sys_tags":"","record_for_rollback":"true","script":"function dropOldColumn() {\n    gs.print(\"Now dropping the column 'topic_seq' from 'hermes_topics_state'.\");\n    gs.dropColumn('topic_seq', 'hermes_topics_state');\n}\n\ndropOldColumn();","sys_class_name":"sys_script_fix","sys_id":"78b51741431321103464827cfbb8f278","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/03d4abbf04312210559073c06a02f7f9","value":"03d4abbf04312210559073c06a02f7f9"},"sys_update_name":"sys_script_fix_78b51741431321103464827cfbb8f278","sys_updated_by":"admin","sys_created_on":"2023-06-06 19:37:23","name":"Drop column from hermes_topics_state","sys_name":"Drop column from hermes_topics_state","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"If CVSS score for any existing hardening settings have been changed as part of new baseline changes, those settings needs to be captured as changed settings for hardening comparison.","sys_updated_on":"2024-09-12 17:54:34","sys_tags":"","record_for_rollback":"true","script":" \n        var scComplianceUtil = new sn_vsc.VSCComplianceUtil(); \n        var gr = new GlideRecord('sn_vsc_instance_hardening_settings'); \n        // sys_id = 'sys_id=e27bb2ac775461108bd73a91fa5a99ae', setting_name = 'Disable External Content URL'\n        if (gr.get('e27bb2ac775461108bd73a91fa5a99ae')) {\n            scComplianceUtil.updateSettingsInsert(gr.sys_id, gr.compliance_status); \n        }\n","sys_class_name":"sys_script_fix","sys_id":"78bed8aa75e09210f8771958aa0a1ed0","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"sys_update_name":"sys_script_fix_78bed8aa75e09210f8771958aa0a1ed0","sys_updated_by":"maint","sys_created_on":"2024-09-12 17:54:27","name":"SC V2.0- Capture changes to CVSS score","sys_name":"SC V2.0- Capture changes to CVSS score","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"sys_created_by":"maint","sys_policy":"read"},{"before":"false","unloadable":"false","sys_mod_count":"19","description":"Makes cert_audit table extensible.","sys_updated_on":"2021-03-03 19:36:45","sys_tags":"","record_for_rollback":"false","script":"(\n    function() {\n        var source = 'MakeCertAuditTableExtensible';\n        var sysDBObjectGr = new GlideRecord(\"sys_db_object\");\n        if (!sysDBObjectGr.get(\"name\", \"cert_audit\")) {\n            gs.logError(source + ': cert_audit not found in sys_db_object.', source);\n            return;\n        }\n\n        sysDBObjectGr.setValue(\"is_extendable\", true);\n        if (sysDBObjectGr.update()) {\n            gs.log(source + ': Update sys_db_object successful, set is_extendable to true.', source);\n        } else {\n            gs.logError(source + ': Updating sys_db_object trying to set is_extendable to true.', source);\n        }\n    })();","sys_class_name":"sys_script_fix","sys_id":"78f0427cb7e2a010ef2aca5dde11a9c6","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/a057afbb04b12210559073c06a02f745","value":"a057afbb04b12210559073c06a02f745"},"sys_update_name":"sys_script_fix_78f0427cb7e2a010ef2aca5dde11a9c6","sys_updated_by":"admin","sys_created_on":"2021-02-23 03:20:16","name":"MakeCertAuditTableExtensible","sys_name":"MakeCertAuditTableExtensible","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Add new system property if not exsist for menu setting upgrade.","sys_updated_on":"2021-03-19 21:00:12","sys_tags":"","record_for_rollback":"false","script":"var SYS_PROP_USE_NEW_MENU_SETTINGS = 'com.glide.cs.use_new_menu_settings';\nif (gs.getProperty(SYS_PROP_USE_NEW_MENU_SETTINGS, null) == null) {\n\tgs.setProperty(SYS_PROP_USE_NEW_MENU_SETTINGS, true);\n}","sys_class_name":"sys_script_fix","sys_id":"793995f8c30320100f24c87af040dd30","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/24a3b33704b52210559073c06a02f7d4","value":"24a3b33704b52210559073c06a02f7d4"},"sys_update_name":"sys_script_fix_793995f8c30320100f24c87af040dd30","sys_updated_by":"admin","sys_created_on":"2021-03-19 21:00:12","name":"Use new menu settings property creation","sys_name":"Use new menu settings property creation","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"22","description":"Drops the menu choice column from sys_polaris_menu_config in favor of the new menu column that references sys_polaris_menu. And rename Table display label from Unified Navigation Menu Config to Unified Navigation Menu.","sys_updated_on":"2022-02-09 10:27:50","sys_tags":"","record_for_rollback":"true","script":"function dropColumn () {\n  gs.print(\"Dropping the choice column 'menu' from 'sys_polaris_menu_config'.\");\n  gs.dropColumn('sys_polaris_menu_config', 'menu');\n}\n\nfunction renameTableDisplayName(){\n\tgs.print(\"Renaming the display value of sys_polaris_menu_config table\");\n\tvar gr = new GlideRecord(\"sys_db_object\");\n\tgr.addQuery(\"name\",\"sys_polaris_menu_config\");\n\tgr.query();\n\t\n\tif(gr.next()){\n\t\tgr.label = \"Unified Navigation Menu\";\n\t\tgr.update();\n\t}\n}\n\ndropColumn();\nrenameTableDisplayName();","sys_class_name":"sys_script_fix","sys_id":"795c3ea4c320011001dd7096e940ddc8","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/33eda37304752210559073c06a02f7b7","value":"33eda37304752210559073c06a02f7b7"},"sys_update_name":"sys_script_fix_795c3ea4c320011001dd7096e940ddc8","sys_updated_by":"admin","sys_created_on":"2021-12-17 19:16:40","name":"Drop menu choices and rename table","sys_name":"Drop menu choices and rename table","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Monthly Predictions Count - Copy data for past months from ua_event_stat to usageanalytics_count","sys_updated_on":"2018-03-12 17:52:49","sys_tags":"","record_for_rollback":"false","script":"gs.info(\"Monthly Predictions Count - Copying data for past months from ua_event_stat to usageanalytics_count\");\nSNC.MLFixScriptUtil.copyPastUADataFromEventStatToCount();\n","sys_class_name":"sys_script_fix","sys_id":"79ec18f1eb3013004afb5722aaa34576","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_script_fix_79ec18f1eb3013004afb5722aaa34576","sys_updated_by":"admin","sys_created_on":"2018-03-12 17:52:49","name":"Copy past monthly prediction counts","sys_name":"Copy past monthly prediction counts","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"9","description":"This fix script is used in order to repair CoreUI breakdown sources that are migrated in PAe as a single select breakdown filter. Running this script will change the \"filterComponentType\" property from 'singleselect' to 'multiselect' to all the breakdown filters","sys_updated_on":"2024-08-15 07:50:06","sys_tags":"","record_for_rollback":"true","script":"main();\n\nfunction isBreakdownFilter(filterProps) {\n    if (!filterProps.datasource)\n        return false;\n\n    if (\n        filterProps.datasource.type === 'indicator' &&\n        filterProps.datasource.payload &&\n        Object.keys(filterProps.datasource.payload).length > 1\n    )\n        return true;\n\n    if (\n        filterProps.datasource.type === 'pa' &&\n        filterProps.datasource.breakdown &&\n        Object.keys(filterProps.datasource.breakdown).length > 1\n    )\n        return true;\n\n    return false;\n}\n\nfunction findAllBreakdownFiltersCallback(findAllBreakdownFiltersGR) {\n    var breakdownFilters = [];\n    while (findAllBreakdownFiltersGR.next()) {\n        var filterSysId = findAllBreakdownFiltersGR.getValue('sys_id');\n        var filterProps = findAllBreakdownFiltersGR.getValue('component_props');\n\n        // in case of empty component_props\n        if (!filterProps) {\n            gs.info('Empty component_props for filter (par_dashboard_widget sys_id): ' + filterSysId + '. This record is skipped.');\n            continue;\n        }\n\n        filterProps = JSON.parse(filterProps);\n\n        // in case of the filter not being a breakdown filter\n        if (!isBreakdownFilter(filterProps)) {\n            gs.info('Not a breakdown filter (par_dashboard_widget sys_id): ' + filterSysId + '. This record is skipped.');\n            continue;\n        }\n\n        // here we have only breakdown filters\n        if (filterProps.filterComponentType === 'multiselect') { // they are already multiselect so no need to fix them\n            gs.info('Breakdown filter (par_dashboard_widget sys_id): ' + filterSysId + ' is already multiselect. This record is skipped.');\n            continue;\n        }\n\n        // here we have only breakdown filters that are singleselect and need to be updated to multiselect\n        // next we have to determine if they are migrated filters in order to update them\n        gs.info('Found single select breakdown filter (par_dashboard_widget sys_id): ' + filterSysId);\n        breakdownFilters.push(filterSysId);\n    }\n    return breakdownFilters;\n}\n\nfunction findAllMigratedBreakdownFiltersCallback(isMigratedFilterGR) {\n    // everything that this returns finds is a migrated filter\n    // because we are searching in par_coreui_migration_bridge_widget table\n    // which contains only migrated widgets\n    var migratedFilters = [];\n    while (isMigratedFilterGR.next()) {\n        if (!isMigratedFilterGR.dashboard_widget) {\n            gs.info('Empty dashboard_widget for migrated filter (par_coreui_migration_bridge_widget sys_id): ' + isMigratedFilterGR.sys_id + '. This record is skipped.');\n            continue;\n        }\n        var migratedFilterSysId = isMigratedFilterGR.dashboard_widget.sys_id.toString();\n        gs.info('Found migrated breakdown filter (par_dashboard_widget sys_id): ' + migratedFilterSysId);\n        migratedFilters.push(migratedFilterSysId);\n    }\n    return migratedFilters;\n}\n\nfunction updateAllMigratedSingleSelectBreakdownFiltersCallback(updateFiltersGR) {\n    var updatedRecordsCounter = 0;\n    while (updateFiltersGR.next()) {\n        var filterProps = updateFiltersGR.getValue('component_props');\n        filterProps = JSON.parse(filterProps);\n        filterProps.filterComponentType = 'multiselect';\n        updateFiltersGR.component_props = JSON.stringify(filterProps);\n        updateFiltersGR.update();\n        updatedRecordsCounter++;\n        gs.info('Breakdown filter (par_dashboard_widget sys_id): ' + updateFiltersGR.sys_id + ' updated to multiselect.');\n    }\n    return updatedRecordsCounter;\n}\n\nfunction main() {\n    if (pm.isZboot()) {\n        gs.info('This script is not intended to be run on Zboot. End of script execution.');\n        return;\n    }\n\n    gs.info('Starting the script to update breakdown filters to multiselect...');\n\n    var counter = 0;\n    var findAllBreakdownFiltersGR = new GlideRecord('par_dashboard_widget');\n    findAllBreakdownFiltersGR.addEncodedQuery('component=226449101138d0dff1abe0e1566c8b2a'); //filter macroponent\n    findAllBreakdownFiltersGR.query();\n    var breakdownFilters = findAllBreakdownFiltersCallback(findAllBreakdownFiltersGR);\n    gs.info('Found in total: ' + breakdownFilters.length + ' single select breakdown filters.');\n\n    var isMigratedFilterGR = new GlideRecord('par_coreui_migration_bridge_widget');\n    isMigratedFilterGR.addEncodedQuery('dashboard_widgetIN' + breakdownFilters.join(','));\n    isMigratedFilterGR.query();\n    var migratedFilters = findAllMigratedBreakdownFiltersCallback(isMigratedFilterGR);\n    gs.info('Found in total: ' + migratedFilters.length + ' migrated breakdown filters.');\n\n\n    var updateFiltersGR = new GlideRecord('par_dashboard_widget');\n    updateFiltersGR.addEncodedQuery('sys_idIN' + migratedFilters.join(','));\n    updateFiltersGR.query();\n    gs.info('Found ' + updateFiltersGR.getRowCount() + ' migrated single select breakdown filters in par_dashboard_widget table.');\n    var updatedRecordsCounter = updateAllMigratedSingleSelectBreakdownFiltersCallback(updateFiltersGR);\n\n    gs.info('Total breakdown filters updated to multiselect: ' + updatedRecordsCounter);\n    gs.info('End of the script to update breakdown filters to multiselect...');\n}","sys_class_name":"sys_script_fix","sys_id":"7a199886436302108db8ac4b96b8f232","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/013ba77304352210559073c06a02f7f1","value":"013ba77304352210559073c06a02f7f1"},"sys_update_name":"sys_script_fix_7a199886436302108db8ac4b96b8f232","sys_updated_by":"admin","sys_created_on":"2024-07-23 11:21:18","name":"Fix breakdown source filters","sys_name":"Fix breakdown source filters","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"14","description":"This fix script deactivates an old rest quota rule which exists only on fuji zbooted instances and replaces it with 4 separate rest quota rules for Table, Import Set, Aggregate and Attachment API","sys_updated_on":"2015-08-04 16:48:08","sys_tags":"","record_for_rollback":"false","script":"fixRestQuotaRules();\n\nfunction fixRestQuotaRules() {\n\tvar active, order, max_duration, max_queries, max_db_time, max_stmt_time, max_rules, max_events, max_jobs, max_outbound_http_requests, max_outbound_http_time;\n\tvar oldQuotaRuleSysid = '20c02b419f232100ef4afa7dc67fcf9e';\n\n\tvar oldGr = new GlideRecord('sysrule_quota');\n\t\n\tif (oldGr.get(oldQuotaRuleSysid)) {\n\t\tactive = oldGr.active;\n\t\tmax_duration = oldGr.max_duration;\n\t\tmax_queries = oldGr.max_queries;\n\t\tmax_db_time = oldGr.max_db_time;\n\t\tmax_stmt_time = oldGr.max_stmt_time;\n\t\tmax_rules = oldGr.max_rules;\n\t\tmax_events = oldGr.max_events;\n\t\tmax_jobs = oldGr.max_jobs;\n\t\tmax_outbound_http_requests = oldGr.max_outbound_http_requests;\n\t\tmax_outbound_http_time = oldGr.max_outbound_http_time;\n\t\torder = oldGr.order;\n\t\t\n\t\tcreateRestQuotaRule('REST Import Set API','type=rest^urlMATCH_RGX.*/api/now(/v[0-9]+)?/import.*^EQ');\n\t\tcreateRestQuotaRule('REST Table API','type=rest^urlMATCH_RGX.*/api/now(/v[0-9]+)?/table.*^EQ');\n\t\tcreateRestQuotaRule('REST Aggregate API','type=rest^urlMATCH_RGX.*/api/now(/v[0-9]+)?/stats.*^EQ');\n\t\tcreateRestQuotaRule('REST Attachment API','type=rest^urlMATCH_RGX.*/api/now(/v[0-9]+)?/attachment.*^EQ');\n    \t\n    \toldGr.active = false;\t\n\t\tvar description = '[DO NOT ACTIVATE THIS RULE - It has been replaced by 3 separate rules: REST Aggregate API request timeout, REST Import Set API request timeout, and REST Table API request timeout] - ' + oldGr.description;\n\t\toldGr.description = description;\n\t  \toldGr.setWorkflow(false);\n\t\toldGr.setUseEngines(false);\n\t\toldGr.update();\n\t} \n\t\n\tfunction createRestQuotaRule(api_name,condition){\n\t\tvar name = api_name + ' request timeout';\n\t\tvar description = 'This quota rule applies to all incoming ' + api_name + ' transactions. Any transaction exceeding the maxium duration set here will be cancelled.';\n\t\n\t\tvar gr = new GlideRecord('sysrule_quota');\n\t\tgr.query('condition',condition);\n\t\tif(gr.next()){\n\t\t\tgs.log('quota rule already exist for: ' + api_name);\n\t\t\treturn; //quota already exists\n\t\t}\n\t\t\n\t\tgr.initialize();\n\t\tgr.name = name;\n\t\tgr.description = description;\n\t\tgr.condition = condition;\n\t\t\n\t\t// copied from old rest quota rule \n\t\tgr.active = active;\n\t\tgr.order = order;\n\t\tgr.max_duration = max_duration;\n\t\tgr.max_queries = max_queries;\n\t\tgr.max_db_time = max_db_time;\n\t\tgr.max_stmt_time = max_stmt_time;\n\t\tgr.max_rules = max_rules;\n\t\tgr.max_events = max_events;\n\t\tgr.max_jobs = max_jobs;\n\t\tgr.max_outbound_http_requests = max_outbound_http_requests;\n\t\tgr.max_outbound_http_time = max_outbound_http_time;\n\t  \tgr.setWorkflow(false);\n\t\tgr.setUseEngines(false);\n\t\tgr.insert();\n\t}\n}\n","sys_class_name":"sys_script_fix","sys_id":"7a3ffa53ff2102003434ffffffffffae","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7d93e7f304312210559073c06a02f725","value":"7d93e7f304312210559073c06a02f725"},"sys_update_name":"sys_script_fix_7a3ffa53ff2102003434ffffffffffae","sys_updated_by":"admin","sys_created_on":"2015-08-03 23:34:30","name":"Fix REST API Quota Rules","sys_name":"Fix REST API Quota Rules","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Update Route reason choice labels","sys_updated_on":"2021-01-11 13:03:47","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\t\n\t\t// Get all targeted sys_choice entries\n\t\tvar choiceValues = new GlideRecord(\"sys_choice\");\n\t\tchoiceValues.addQuery(\"element\", \"route_reason\");\n\t\tchoiceValues.query();\n\n\t\twhile(choiceValues.next()) {\n\t\t\tvar tmpChoice = choiceValues.label;\n\t\t\tif(tmpChoice && tmpChoice.includes(\"Route\"))\n\t\t\t\t{\n\t\t\t\t\tchoiceValues.label = tmpChoice.replace(\"Route\",\"Transfer\");\n\t\t\t\t\tchoiceValues.update();\n\t\t\t\t}\n\t\t\t\n\t\t}\n\n})();","sys_class_name":"sys_script_fix","sys_id":"7abe3c8bc3a9201070a521763b40dd1d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2c672bfb04b12210559073c06a02f70a","value":"2c672bfb04b12210559073c06a02f70a"},"sys_update_name":"sys_script_fix_7abe3c8bc3a9201070a521763b40dd1d","sys_updated_by":"admin","sys_created_on":"2021-01-11 05:52:32","name":"Update Route reason choice labels","sys_name":"Update Route reason choice labels","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"For zboot instances, enables the conflict detection features which requires Application Services","sys_updated_on":"2018-03-21 16:14:24","sys_tags":"","record_for_rollback":"false","script":"if (pm.isZboot()) {\n\tvar gr = new GlideRecord('sys_properties');\n\tif (gr.get('name', 'change.conflict.populateimpactedcis')) {\n\t\tgr.setValue('value', 'true');\n\t\tgr.update();\n\t}\n\tif (gr.get('name', 'change.conflict.identifymostcritical')) {\n\t\tgr.setValue('value', 'true');\n\t\tgr.update();\n\t}\n\tif (gr.get('name', 'change.conflict.relatedservices')) {\n\t\tgr.setValue('value', 'true');\n\t\tgr.update();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"7b5c1560670603006e6eadab9485ef8c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d00ba33304352210559073c06a02f77e","value":"d00ba33304352210559073c06a02f77e"},"sys_update_name":"sys_script_fix_7b5c1560670603006e6eadab9485ef8c","sys_updated_by":"admin","sys_created_on":"2017-10-23 08:30:26","name":"Conflict detection features default","sys_name":"Conflict detection features default","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"12","description":"Capability from template is copied to solution definiton and solution","sys_updated_on":"2020-05-01 02:22:45","sys_tags":"","record_for_rollback":"false","script":"if (!pm.isZboot()) {\n\tvar gr = new GlideRecord(\"ml_solution_definition\");\n\tgr.query();\n\tvar classification_def = [];\n\twhile(gr.next()){\n\t\tvar capability = gr.trainer.name;\n\t\tif (capability == 'classification_trainer'){\n\t\t\tclassification_def.push(gr.getUniqueValue());\n\t\t}\n\t\tgr.setValue('capability',capability);\n\t\tgr.update();\n\t}\n\t\n\tvar solution_gr = new GlideRecord('ml_solution');\n\tsolution_gr.addQuery('capability','');\n    solution_gr.query();\n\twhile (solution_gr.next()) {\n\t\tvar capability_val = '';\n\t\tif (!solution_gr.getValue('capability')){\n\t\t\t// only classification and similarity trainer are present pre New york\n\t\t\tif (classification_def.indexOf(solution_gr.getValue('solution_definition')) != -1){\n\t\t\t\tcapability_val = 'classification_trainer';\n\t\t\t} else {\n\t\t\t\tcapability_val = 'similarity_trainer';\n\t\t\t}\n\t\t\tsolution_gr.setValue('capability',capability_val);\n\t\t\tsolution_gr.update();\n\t\t}\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"7c576d89b7207300d1dcf8b8ee11a937","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_script_fix_7c576d89b7207300d1dcf8b8ee11a937","sys_updated_by":"admin","sys_created_on":"2019-03-30 21:39:04","name":"Copy capability","sys_name":"Copy capability","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Add sc_req_item to global search","sys_updated_on":"2021-10-06 18:23:41","sys_tags":"","record_for_rollback":"false","script":"\nif (!pm.isZboot()) {\n  var gr = new GlideRecord(\"sys_dictionary\");\n  gr.addActiveQuery();\n  gr.addQuery(\"name\", \"sc_req_item\");\n  gr.addQuery(\"internal_type\", \"collection\");\n  gr.query();\n  if (gr.next()) {\n      var oldValue = gr.getValue(\"attributes\");\n      var newValue = oldValue + \",global_search_config_handler=RequestItemSearchConfig\";\n      gr.setValue(\"attributes\", newValue);\n      gr.update();\n  }\n}","sys_class_name":"sys_script_fix","sys_id":"7d0c7799770b3410be280d892c5a992f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3028ab3304f12210559073c06a02f7b7","value":"3028ab3304f12210559073c06a02f7b7"},"sys_update_name":"sys_script_fix_7d0c7799770b3410be280d892c5a992f","sys_updated_by":"admin","sys_created_on":"2021-10-06 18:23:41","name":"Add sc_req_item to global search","sys_name":"Add sc_req_item to global search","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"14","description":"To show business process parent reference field in hierarchichal view. ","sys_updated_on":"2020-09-21 14:34:02","sys_tags":"","record_for_rollback":"false","script":"function customerUpdated(recordName) {\n    var grRec = new GlideRecord('sys_update_xml');\n    grRec.addQuery('name', recordName);\n    grRec.query();\n    return grRec.hasNext();\n}\n\nvar gr = new GlideRecord('sys_dictionary');\ngr.addQuery('sys_update_name', 'sys_dictionary_cmdb_ci_business_process_parent');\ngr.query();\n\nif (gr.next() && !customerUpdated('sys_dictionary_cmdb_ci_business_process_parent')) {\n    var attributes = gr.getValue('attributes');\n    gr.setWorkflow(false);\n    if (gr.getValue('attributes').indexOf('tree_picker') == -1)\n        gr.setValue('attributes', attributes + ',tree_picker=true');\n    gr.setValue('use_reference_qualifier', 'advanced');\n    gr.setValue('reference_qual', \"javascript: 'sys_idNOT IN'+new global.BusinessProcessUtils().getChildren(current);\");\n    gr.update();\n}\n\ngr = new GlideRecord('sys_dictionary');\ngr.addQuery('sys_update_name', 'sys_dictionary_cmdb_ci_business_process_next_review_date');\ngr.query();\n\nif (gr.next() && !customerUpdated('sys_dictionary_cmdb_ci_business_process_next_review_date')) {\n    gr.setWorkflow(false);\n    gr.read_only = true;\n    gr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"7d380d7173931010ec95d11ee2f6a755","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1eddeb3304752210559073c06a02f787","value":"1eddeb3304752210559073c06a02f787"},"sys_update_name":"sys_script_fix_7d380d7173931010ec95d11ee2f6a755","sys_updated_by":"admin","sys_created_on":"2020-09-17 12:25:30","name":"modify business process table attributes","sys_name":"modify business process table attributes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Set the default value for the max_offline_rows of the sys_sg_item_stream_segment table to 500 instead of 1000","sys_updated_on":"2022-10-18 23:12:39","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('sys_dictionary');\ngr.addQuery('name', 'sys_sg_item_stream_segment');\ngr.addQuery('element', 'max_offline_rows');\ngr.query();\nif (gr.next()) {\n\tgr.setValue('default_value', '500');\n\tgr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"7d6d5ab653221110c722ddeeff7b12ae","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/baa57f7b04b52210559073c06a02f754","value":"baa57f7b04b52210559073c06a02f754"},"sys_update_name":"sys_script_fix_7d6d5ab653221110c722ddeeff7b12ae","sys_updated_by":"maint","sys_created_on":"2022-10-18 23:10:15","name":"Item stream segment max_offline_rows 500","sys_name":"Item stream segment max_offline_rows 500","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Set the glide property 'com.glide.stats.storage_disk_usage.information_schema' to false. This makes the StorageDiskUsage API the source of truth for the StatsGatherer job.","sys_updated_on":"2024-07-08 18:13:29","sys_tags":"","record_for_rollback":"true","script":"var currentValue = GlidePropertiesDB.get('com.glide.stats.storage_disk_usage.information_schema');\nif (currentValue != null && currentValue.equals('true'))\n\tGlidePropertiesDB.set('com.glide.stats.storage_disk_usage.information_schema', 'false');","sys_class_name":"sys_script_fix","sys_id":"7e2a2899c713021002efa7ea1dc260b0","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b62ee3b304752210559073c06a02f7b4","value":"b62ee3b304752210559073c06a02f7b4"},"sys_update_name":"sys_script_fix_7e2a2899c713021002efa7ea1dc260b0","sys_updated_by":"admin","sys_created_on":"2024-07-08 18:13:29","name":"Make SNC provided data source of truth","sys_name":"Make SNC provided data source of truth","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Modifying the cmdb_datasource_last_update class and adding indexes","sys_updated_on":"2022-11-10 20:56:59","sys_tags":"","record_for_rollback":"true","script":"\ngs.log('Fix Script: Running fix script to modify the columns for cmdb_data_source_last_update');\nvar modifyColumn = new ModifyColumnsForCMDBDataSourceLastUpdate();\nmodifyColumn.scheduleModifyDictionary();\ngs.log('Fix Script: Scheduled modify columns for the cmdb_data_source_last_update table');\n\ngs.log(\"Fix Script: Starting to schedule index creation for cmdb_datasource_last_update\");\nvar indexCreator = new AddIndexesForCMDBTables();\nindexCreator.createIndex('cmdb_datasource_last_update', 'record, attribute', 'record_attribute_index');\ngs.log(\"Fix Script: Scheduled index creation for cmdb_datasource_last_update\");\n","sys_class_name":"sys_script_fix","sys_id":"7ec1dceb7362511007d56ad9af148b74","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_7ec1dceb7362511007d56ad9af148b74","sys_updated_by":"admin","sys_created_on":"2022-10-20 20:55:19","name":"Modify cmdb_datasource_last_update ","sys_name":"Modify cmdb_datasource_last_update ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"11","description":"","sys_updated_on":"2018-11-01 05:40:31","sys_tags":"","record_for_rollback":"false","script":"mapCustomTables();\n\nfunction mapCustomTables() {\n\t\n\tif (!gs.tableExists('ua_custom_table_inventory')) {\n\t\treturn;\n\t}\n\t\n\tvar dbGR = new GlideRecord('sys_db_object');\n\tdbGR.addQuery('name', 'STARTSWITH', 'x_').addOrCondition('name', 'STARTSWITH', 'u_');\n\tdbGR.query();\n\n\twhile (dbGR.next()) {\n\t\tvar tableName = dbGR.getValue('name');\n\t\t\n\t\tvar customTableGR = new GlideRecord('ua_custom_table_inventory');\n\t\tcustomTableGR.addQuery('table_name', tableName);\n\t\tcustomTableGR.query();\n\t\t\n\t\tif (!customTableGR.hasNext()) {\n\t\t\t\n\t\t\tif (SNC.UsageAnalyticsScriptUtils.isNotExemptedTable(tableName)) {\n\t\t\t\t\n\t\t\t\tgs.info(\"UACTFixScript: adding \" + tableName + \" to custom table inventory\");\n\t\t\t\tvar mapGR = new GlideRecord('ua_custom_table_inventory');\n\t\t\t\tmapGR.initiliaze();\n\t\t\t\tmapGR.setValue('table_name', tableName);\n\t\t\t\tmapGR.setValue('table_ref', dbGR.getUniqueValue());\n\t\t\t\tmapGR.setValue('table_ref_id', dbGR.getUniqueValue());\n\t\t\t\tmapGR.setValue('table_created_on', dbGR.getValue('sys_created_on'));\n\t\t\t\tmapGR.insert();\n\t\t\t}\n\t\t}\n\t}\n}\n","sys_class_name":"sys_script_fix","sys_id":"7edd085d8f30230017f1ce0637bdee7b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8bc96fbb04f12210559073c06a02f755","value":"8bc96fbb04f12210559073c06a02f755"},"sys_update_name":"sys_script_fix_7edd085d8f30230017f1ce0637bdee7b","sys_updated_by":"admin","sys_created_on":"2018-09-25 23:40:22","name":"UA map custom table to app/license","sys_name":"UA map custom table to app/license","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"5","description":"Deactivate OneExtendUsage records","sys_updated_on":"2024-09-19 05:22:17","sys_tags":"","record_for_rollback":"true","script":"gs.info(sn_i18n.Message.getMessage('glide-one-extend', 'Started executing Fix script: Deactivate OneExtendUsage records'));\nvar gr = new GlideRecord('sys_one_extend_usage');\ngr.addActiveQuery();\ngr.query();\ngr.setValue(\"active\", false);\ngr.updateMultiple();\ngs.info(sn_i18n.Message.getMessage('glide-one-extend', 'Completed executing Fix script: Deactivate OneExtendUsage records'));","sys_class_name":"sys_script_fix","sys_id":"7f8eedac7f74121032d293f10d86657e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7c84affb04312210559073c06a02f73d","value":"7c84affb04312210559073c06a02f73d"},"sys_update_name":"sys_script_fix_7f8eedac7f74121032d293f10d86657e","sys_updated_by":"admin","sys_created_on":"2024-09-19 05:01:09","name":"Deactivate OneExtendUsage records","sys_name":"Deactivate OneExtendUsage records","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2023-04-22 00:31:19","sys_tags":"","record_for_rollback":"true","script":"sn_one_extend.OneExtendDataRemodel.repairAttributeMapping();\nvar definitionConfigAdded = sn_one_extend.OneExtendDataRemodel.addDefinitionConfig();\nif (definitionConfigAdded) {\n\tsn_one_extend.OneExtendDataRemodel.addDefinitionFilterProperties();\n\tsn_one_extend.OneExtendDataRemodel.markDefaultDefinitionConfig();\n}","sys_class_name":"sys_script_fix","sys_id":"7fbedb96c3122110634cdb450a40dd99","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7c84affb04312210559073c06a02f73d","value":"7c84affb04312210559073c06a02f73d"},"sys_update_name":"sys_script_fix_7fbedb96c3122110634cdb450a40dd99","sys_updated_by":"admin","sys_created_on":"2023-04-22 00:31:19","name":"Repair mappings in OneExtend tables","sys_name":"Repair mappings in OneExtend tables","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"4","description":"Update classic app login property - glide.ui.m.allow_classic_mobile_app = true, if a customer has already override it. So we don't cause future login issues.","sys_updated_on":"2021-07-01 02:16:22","sys_tags":"","record_for_rollback":"false","script":"if (!pm.isZboot()) {\n    var oAuthGR = new GlideRecord('oauth_entity');\n    oAuthGR.get(\"be57bb02533102006b0fc91a8dc5877c\");\n    if (oAuthGR.isValidRecord() && isOauthUpdatedByUser(oAuthGR) && isOAuthActive(oAuthGR) && isClassicAppDisabled()) {\n        gs.setProperty(\"glide.ui.m.allow_classic_mobile_app\", true);\n    }\n}\n\nfunction isClassicAppDisabled() {\n    var classicAppProp = gs.getProperty(\"glide.ui.m.allow_classic_mobile_app\");\n    return !gs.nil(classicAppProp) && (classicAppProp == 'false' || classicAppProp == '0');\n}\n\nfunction isOAuthActive(oAuthGR) {\n    return oAuthGR.getValue('active') == '1' || oAuthGR.getValue('active') == 'true';\n}\n\nfunction isOauthUpdatedByUser(oAuthGR) {\n    return !sn_collision.CollisionAPI.willBeReplacedOnUpgrade(oAuthGR);\n}","sys_class_name":"sys_script_fix","sys_id":"7fe85690c3532010ce53bb62ef40ddcb","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/54242b3b04312210559073c06a02f7b3","value":"54242b3b04312210559073c06a02f7b3"},"sys_update_name":"sys_script_fix_7fe85690c3532010ce53bb62ef40ddcb","sys_updated_by":"admin","sys_created_on":"2021-03-30 22:42:17","name":"Allow classic app if customer override","sys_name":"Allow classic app if customer override","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"Marks the field \"friendly_name\"  for internationalization","sys_updated_on":"2021-06-10 16:15:16","sys_tags":"","record_for_rollback":"false","script":"(function () {\n\tif (pm.isZboot())\n\t\treturn;\n\n\tvar gr = new GlideRecord('sys_dictionary');\n\tgr.addQuery('name', 'cmdb_health_metric');\n\tgr.addQuery('element', 'friendly_name');\n\tgr.addQuery('internal_type', 'string');\n\tgr.query();\n\t\n\tif(gr.next()) {\n\t\tnew TranslationUtils().convert(\"cmdb_health_metric\",[\"friendly_name\"]);\n\t\tgs.info('cmdb_health_metric.friendly_name internal type changed to \"translated_text\"');\n\t}\n})();","sys_class_name":"sys_script_fix","sys_id":"80089b5753a430108cabddeeff7b120c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_80089b5753a430108cabddeeff7b120c","sys_updated_by":"admin","sys_created_on":"2021-06-10 14:15:02","name":"Enable translation for friendly_name","sys_name":"Enable translation for friendly_name","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Allow delete on ml_capability_definition_base table","sys_updated_on":"2023-04-24 07:04:37","sys_tags":"","record_for_rollback":"true","script":"var gr = new GlideRecord('sys_db_object');\n\tgr.addQuery('name','ml_capability_definition_base');\n\tgr.query();\n\tif(gr.next()){\n\t\tgr.delete_access = true;\n\t\tgr.update();\n\t\tgs.info('Upgrade Script: Delete Application Access Updated for ml_capability_definition_base table');\n}","sys_class_name":"sys_script_fix","sys_id":"802dc7cf53522110d3d5ddeeff7b12a1","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_script_fix_802dc7cf53522110d3d5ddeeff7b12a1","sys_updated_by":"admin","sys_created_on":"2023-04-24 07:04:37","name":"Allow Delete ml_capability_definition_ba","sys_name":"Allow Delete ml_capability_definition_ba","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"change the filed \"product_id\" in table \"pc_product_cat_item\" from mandatory to unmandatory.","sys_updated_on":"2018-07-26 17:35:41","sys_tags":"","record_for_rollback":"false","script":"removeMandatoryForProductID();\n\nfunction removeMandatoryForProductID() {\n\tvar gr = new GlideRecord(\"sys_dictionary\");\n\tgr.addQuery(\"name\", \"pc_product_cat_item\");\n\tgr.addQuery(\"element\", \"product_id\");\n\tgr.query();\n\tif (gr.next()) {\n\t\tgr.setValue(\"mandatory\", false);\n\t\tgr.update();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"803a759f73531300759a259dfaf6a740","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/52696b3b04f12210559073c06a02f74e","value":"52696b3b04f12210559073c06a02f74e"},"sys_update_name":"sys_script_fix_803a759f73531300759a259dfaf6a740","sys_updated_by":"admin","sys_created_on":"2018-07-19 23:13:00","name":"Remove ProductID Mandatory","sys_name":"Remove ProductID Mandatory","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"7","description":"Remove any \"SLA Async Delegator\" jobs except the one that is contained in the Service Level Management plugin.\r\n\r\nIf any of the jobs being  removed have a higher priority or a different repeat duration to the record included in the plugin, update this record to have the modified values for priority and/or repeat.","sys_updated_on":"2019-03-19 11:40:31","sys_tags":"","record_for_rollback":"false","script":"(function () {\n\tvar sysTriggerGr = new GlideRecord(\"sys_trigger\");\n\tsysTriggerGr.addQuery(\"name\", \"SLA Async Delegator\");\n\tsysTriggerGr.addQuery(\"script\", \"CONTAINS\", \"new SLAAsyncDelegator\");\n\tsysTriggerGr.addQuery(\"sys_id\", \"!=\", \"0a95cf0557103300491d8f90ac94f92d\");\n\tsysTriggerGr.orderBy(\"priority\");\n\tsysTriggerGr.orderBy(\"repeat\");\n\tsysTriggerGr.query();\n\n\tif (sysTriggerGr.next()) {\n\t\tvar priority = 0 + sysTriggerGr.getValue(\"priority\");\n\t\tvar repeat = sysTriggerGr.repeat.dateNumericValue();\n\t\t\n\t\tif (priority < 100 || repeat !== 5000) {\n\t\t\tvar sysTriggerGr2 = new GlideRecord(\"sys_trigger\");\n\t\t\tif (sysTriggerGr2.get(\"0a95cf0557103300491d8f90ac94f92d\")) {\n\t\t\t\tif (priority < 100)\n\t\t\t\t\tsysTriggerGr2.setValue(\"priority\", priority);\n\t\t\t\tif (repeat !== 5000 && repeat >= 3000)\n\t\t\t\t\tsysTriggerGr2.repeat.setDateNumericValue(repeat);\n\t\t\t\tsysTriggerGr2.update();\n\t\t\t}\n\t\t}\n\t\tsysTriggerGr.deleteRecord();\n\t}\n\t\n\twhile (sysTriggerGr.next())\n\t\tsysTriggerGr.deleteRecord();\n})();","sys_class_name":"sys_script_fix","sys_id":"80ad834957103300491d8f90ac94f9aa","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d19e7b704f12210559073c06a02f7da","value":"5d19e7b704f12210559073c06a02f7da"},"sys_update_name":"sys_script_fix_80ad834957103300491d8f90ac94f9aa","sys_updated_by":"admin","sys_created_on":"2019-03-18 18:42:47","name":"Remove \"SLA Async Delegator\" job","sys_name":"Remove \"SLA Async Delegator\" job","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Set values for existing board new labels","sys_updated_on":"2018-05-25 16:03:58","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tvar boards = new GlideRecord('vtb_board');\n\tboards.setValue('label_6', gs.getMessage('vtb_label_6'));\n\tboards.setValue('label_7', gs.getMessage('vtb_label_7'));\n\tboards.setValue('label_6_active', true);\n\tboards.setValue('label_7_active', true);\n\tboards.updateMultiple();\n})();","sys_class_name":"sys_script_fix","sys_id":"80b945a57312130056b5bef4b4f6a733","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d334a77b04312210559073c06a02f7ff","value":"d334a77b04312210559073c06a02f7ff"},"sys_update_name":"sys_script_fix_80b945a57312130056b5bef4b4f6a733","sys_updated_by":"admin","sys_created_on":"2018-05-25 16:03:58","name":"Set values for existing board new labels","sys_name":"Set values for existing board new labels","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"4","description":"This fix script is used to populate the newly introduced state  and versions columns for sys_generative_ai_config existing records","sys_updated_on":"2024-06-04 10:40:45","sys_tags":"","record_for_rollback":"true","script":"gs.info(\"Started executing fix script: GenAIConfig: Fill state & version\");\nvar genAIConfigGr = new GlideRecord(\"sys_generative_ai_config\");\ngenAIConfigGr.query();\n\n// Populate state and version field for existing genAIConfigs(sys_generative_ai_config) records.\nwhile (genAIConfigGr.next()) {\n    if (global.JSUtil.nil(genAIConfigGr.getValue('state'))) {\n        genAIConfigGr.setValue(\"state\", \"published\");\n    }\n    if (global.JSUtil.nil(genAIConfigGr.getValue('version'))) {\n        genAIConfigGr.setValue(\"version\", 1);\n    }\n    genAIConfigGr.update();\n}\ngs.info(\"Successfully completed executing fix script: GenAIConfig: Fill state & version\");","sys_class_name":"sys_script_fix","sys_id":"80f841eb7f460210f465c3b76d8665d1","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7c84affb04312210559073c06a02f73d","value":"7c84affb04312210559073c06a02f73d"},"sys_update_name":"sys_script_fix_80f841eb7f460210f465c3b76d8665d1","sys_updated_by":"admin","sys_created_on":"2024-05-14 16:56:05","name":"GenAIConfig: Fill state & version","sys_name":"GenAIConfig: Fill state & version","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Add allow_public=true for column table in cmdb_recommended_fields table.","sys_updated_on":"2024-02-16 23:32:40","sys_tags":"","record_for_rollback":"false","script":"gs.log('Start adding dictionary attribute allow_public for column table of cmdb_recommended_fields');\nSNC.DictionaryAttribute.set('cmdb_recommended_fields', 'table', 'allow_public', 'true');\ngs.log('Finished adding dictionary attribute allow_public for column table of cmdb_recommended_fields');","sys_class_name":"sys_script_fix","sys_id":"81271d57c3100210c65a3af3b140ddd8","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_81271d57c3100210c65a3af3b140ddd8","sys_updated_by":"admin","sys_created_on":"2024-02-16 23:32:40","name":"allow_public on cmdb_recommended_fields","sys_name":"allow_public on cmdb_recommended_fields","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"0","description":"As part of Security P0 issue, a write audit updated all the empty ACLs in the customer farm. This fix script removes all the write audit updates for affected security center ACLs, so that the upgrades can overwrite those ACLs with the OOB ACLs.","sys_updated_on":"2024-03-06 13:50:45","sys_tags":"","record_for_rollback":"true","script":"var writeAuditOOBACLList = ['8e4aaa25c3731110cf33ad413b40dd58'];\nempty_acl_fix(writeAuditOOBACLList);\n\nfunction empty_acl_fix(writeAuditOOBACLList) {\n    new global.AccessControlUtils().deleteCustomerUpdatesForAuditedEmptyACLs(writeAuditOOBACLList);\n}","sys_class_name":"sys_script_fix","sys_id":"8149c515ff7c8210c0ebffffffffff20","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd623f2ce6fc02f23595a409216e13b1","value":"cd623f2ce6fc02f23595a409216e13b1"},"sys_update_name":"sys_script_fix_8149c515ff7c8210c0ebffffffffff20","sys_updated_by":"admin","sys_created_on":"2024-03-06 13:50:45","name":"De-customize ACLs","sys_name":"De-customize ACLs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cd623f2ce6fc02f23595a409216e13b1","value":"cd623f2ce6fc02f23595a409216e13b1"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"6","description":"Update the \"sys_gen_ai_skill.skill_name\" and  \"sys_gen_ai_skill.skill_description\" calculations to take into account all known Skill document tables.","sys_updated_on":"2024-03-18 15:37:22","sys_tags":"","record_for_rollback":"true","script":"var updateSkillDescriptionCalculation = function() {\n    var gr = new GlideRecord(\"sys_dictionary\");\n    gr.addQuery(\"name\", \"sys_gen_ai_skill\");\n    gr.addQuery(\"element\", \"skill_description\");\n    gr.query();\n    var descriptionCalcScript =\n\t\t\"(function calculatedFieldValue(current) {\" +\n\t\t\t\"return new global.GenAISkillDefinitionUtil().calculateDescription(current);\" +\n\t\t\"})(current);\";\n    if (gr.next()) {\n        gr.setValue('calculation', descriptionCalcScript);\n        gr.update();\n    }\n};\n\nvar updateSkillNameCalculation = function() {\n    var gr = new GlideRecord(\"sys_dictionary\");\n    gr.addQuery(\"name\", \"sys_gen_ai_skill\");\n    gr.addQuery(\"element\", \"skill_name\");\n    gr.query();\n    var nameCalcScript =\n\t\t\"(function calculatedFieldValue(current) {\" +\n\t\t\t\"return new global.GenAISkillDefinitionUtil().calculateName(current);\" +\n\t\t\"})(current);\";\n    if (gr.next()) {\n        gr.setValue('calculation', nameCalcScript);\n        gr.update();\n    }\n};\n\nupdateSkillDescriptionCalculation();\nupdateSkillNameCalculation();","sys_class_name":"sys_script_fix","sys_id":"816a4098ebc1021025e601c7c15228ea","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7c84affb04312210559073c06a02f73d","value":"7c84affb04312210559073c06a02f73d"},"sys_update_name":"sys_script_fix_816a4098ebc1021025e601c7c15228ea","sys_updated_by":"admin","sys_created_on":"2024-03-15 16:54:21","name":"Update sys_gen_ai_skill name and desc","sys_name":"Update sys_gen_ai_skill name and desc","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"This fix script makes the actions field non mandatory for upgrade scenarios. Further to this change, there is a UI policy which will make the field conditionally mandatory. ","sys_updated_on":"2023-08-28 01:47:48","sys_tags":"","record_for_rollback":"true","script":"if (!pm.isZboot()){\n\tvar gr = new GlideRecord(\"sys_dictionary\");\n\tgr.addQuery(\"name\", \"sys_notification_actionable_content\");\n\tgr.addQuery(\"element\", \"actions\");\n\tgr.setWorkflow(false);\n\tgr.query();\n\tif (gr.next()) {\n\t\tgr.setValue(\"mandatory\", false);\n\t\tgr.update();\n\t}\n}\n","sys_class_name":"sys_script_fix","sys_id":"816afa6febf43110ad8d8b6c525228a0","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4c93a3f304312210559073c06a02f7f1","value":"4c93a3f304312210559073c06a02f7f1"},"sys_update_name":"sys_script_fix_816afa6febf43110ad8d8b6c525228a0","sys_updated_by":"admin","sys_created_on":"2023-08-28 01:40:38","name":"Actions actionablecontent non mandatory","sys_name":"Actions actionablecontent non mandatory","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Update mid_k8s_deployment table default values","sys_updated_on":"2023-09-13 00:07:48","sys_tags":"","record_for_rollback":"false","script":"function updateDefaultValue(fieldName, newValue) {\n    var dictionaryGr = new GlideRecord('sys_dictionary');\n    dictionaryGr.addQuery('name', 'mid_k8s_deployment');\n    dictionaryGr.addQuery(\"element\", fieldName);\n    dictionaryGr.query();\n    if (dictionaryGr.next()) {\n        dictionaryGr.setValue(\"default_value\", newValue);\n        dictionaryGr.update();\n        gs.info(\"Default value of mid_k8s_deployment.\" + fieldName + \" set to \" + newValue);\n    } else {\n        gs.log(\"Failed to update dictionary entry for table: mid_k8s_deployment could not find a valid dictionary record for field :\" + fieldName);\n    }\n}\nupdateDefaultValue(\"ss_choice\", 'true');\nupdateDefaultValue(\"security_context_fs_group\", '');","sys_class_name":"sys_script_fix","sys_id":"8196f8f007913110aba4d9630ad300f2","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/42b8273704f12210559073c06a02f78d","value":"42b8273704f12210559073c06a02f78d"},"sys_update_name":"sys_script_fix_8196f8f007913110aba4d9630ad300f2","sys_updated_by":"now.midserver","sys_created_on":"2023-09-12 23:37:41","name":"Update mid_k8s_deployment default values","sys_name":"Update mid_k8s_deployment default values","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"now.midserver","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Update sys_cb_topic_category.name from string to a translated_field","sys_updated_on":"2023-01-18 01:19:03","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('sys_dictionary');\ngr.addQuery('name', 'sys_cb_topic_category');\ngr.addQuery('element', 'name');\ngr.addQuery('internal_type', 'string');\ngr.setWorkflow(false);\ngr.query();\nif (gr.next()) {\n    gr.setValue('internal_type', 'translated_field');\n    gr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"81c46bc4c3e061109a481f820c40dd88","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_81c46bc4c3e061109a481f820c40dd88","sys_updated_by":"admin","sys_created_on":"2023-01-18 01:19:03","name":"Update VA topic category name type","sys_name":"Update VA topic category name type","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Password Reset Process - Update all the pre-Fuji processes to be enabled for 'Password Reset' option.  \r\n\"Password Reset\" and \"Change Password\" are new options added in Fuji release.","sys_updated_on":"2014-04-16 22:40:46","sys_tags":"","record_for_rollback":"false","script":"updateProcess();\n\nfunction updateProcess() {\n\tvar gr = new GlideRecord('pwd_process');\n\tif (!gr.isValid())\n\t\treturn;\n\t\n\tgr.query();\n\twhile (gr.next()) {\n\t\tgr.setValue('reset', 'true');\n\t\tif(!gr.update()) {\n\t\t\tgs.log(\"[Fix Script] [Update password reset process]\" +\n\t\t\t\t\"Unable to update the reset option for process. Id: \" + \n\t\t\t\tgr.getValue(sys_id) + \", Name: \" + gr.getValue(\"name\"));\n\t\t}\n\t}\n\treturn;\n}","sys_class_name":"sys_script_fix","sys_id":"81f3fd72470021002853bc357c9a7132","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/421beb3304352210559073c06a02f7ef","value":"421beb3304352210559073c06a02f7ef"},"sys_update_name":"sys_script_fix_81f3fd72470021002853bc357c9a7132","sys_updated_by":"admin","sys_created_on":"2014-04-16 22:38:11","name":"Update password reset process","sys_name":"Update password reset process","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Append task_service_offering to the Copy Related List property so that Service Offerings are included when copying a Change request","sys_updated_on":"2019-03-19 14:07:37","sys_tags":"","record_for_rollback":"false","script":"var svc_offering_table = 'task_service_offering';\nvar prop_related_list = 'com.snc.change_request.copy.related_lists';\nvar property = gs.getProperty(prop_related_list);\nif (property) {\n\tvar propertyArr = property.split(',');\n\tif (!new ArrayUtil().contains(propertyArr, svc_offering_table)) {\n\t\tpropertyArr.push(svc_offering_table);\n\t\tgs.setProperty(prop_related_list, propertyArr.join(','));\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"81fb0e48231033001488dc1756bf6557","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/32b7af7f04b12210559073c06a02f7fb","value":"32b7af7f04b12210559073c06a02f7fb"},"sys_update_name":"sys_script_fix_81fb0e48231033001488dc1756bf6557","sys_updated_by":"admin","sys_created_on":"2019-03-15 11:40:12","name":"Append service offering to copy change ","sys_name":"Append service offering to copy change ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"0","description":"As part of Security P0 issue, a write audit updated all the empty ACLs in the customer farm. This fix script removes all the write audit updates for affected security center ACLs, so that the upgrades can overwrite those ACLs with the OOB ACLs.","sys_updated_on":"2024-06-11 02:35:18","sys_tags":"","record_for_rollback":"true","script":"var writeAuditOOBACLList = ['cdc63289a3123110f1f52780f31e61c1'];\nempty_acl_fix(writeAuditOOBACLList);\n\nfunction empty_acl_fix(writeAuditOOBACLList) {\n    new global.AccessControlUtils().deleteCustomerUpdatesForAuditedEmptyACLs(writeAuditOOBACLList);\n}","sys_class_name":"sys_script_fix","sys_id":"82415e5c43f60210d31f7ff8abb8f26e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c524e101b6e0010affd0e55cc4bcbed","value":"8c524e101b6e0010affd0e55cc4bcbed"},"sys_update_name":"sys_script_fix_82415e5c43f60210d31f7ff8abb8f26e","sys_updated_by":"admin","sys_created_on":"2024-06-11 02:35:18","name":"De-customize Playbook GraphQL ACLs","sys_name":"De-customize Playbook GraphQL ACLs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/8c524e101b6e0010affd0e55cc4bcbed","value":"8c524e101b6e0010affd0e55cc4bcbed"},"sys_created_by":"admin","sys_policy":"read"},{"before":"false","unloadable":"false","sys_mod_count":"5","description":"Maintain the MID Config Parameter behavior for the upgraded customers (from before Utah)","sys_updated_on":"2022-10-27 18:03:34","sys_tags":"","record_for_rollback":"true","script":"/*\n* Maintain the MID Config Parameter behavior for the upgraded customers\n*\n* This fix script will take care of:\n* - New precedence for choosing MID settings from MID property and MID Config Parameter tables\n*   In previous releases, the precedence of choosing value for a MID Server setting was as\n*   1. MID-specific property (highest precedence)\n*   2. Global property \n*   3. Config parameter.\n*   \n*   In Utah the precedence changed to the following order\n*   1. Config Parameter (highest precedence)\n*   2. MID-Specific Property \n*   3. Global MID property\n*   Fix job modifies the value of config parameters that are also defined as properties\n*\n* - Defining Global Config Parameter is not allowed\n*   Sets the 'ecc_agent' field 'mandatory' in 'ecc_agent_config'\n*\n* - Update 'sys_override' in 'ecc_agent_property' to 'ecc_agent_property' (Correct Value)\n*/\n \nvar FIX_SCRIPT_PREFIX_LOG_MSG = 'Fix Script-- Maintain MID Settings: ';\ngs.log(FIX_SCRIPT_PREFIX_LOG_MSG + 'Start updating the existing MID Config parameters for the new precedence');\nvar startTime = new Date().getTime();\nvar updatedConfigParam = 0;     // Number of updated Config Parameter records by the fix script\nvar tagSysId = null;            // sys_id of 'NO Overwrite' tag for updated parameters for Down MID Servers.\n\t\t\t\t\t\t\t\t// sys_id will be assigned when the tag created\n_updateMIDConfigInfo();\n_updateMIDPropertyInfo();\n\ngs.log(FIX_SCRIPT_PREFIX_LOG_MSG + 'Finished. ' + updatedConfigParam + ' record(s) were updated in ecc_agent_config');\nvar endTime = new Date().getTime();\ngs.log(FIX_SCRIPT_PREFIX_LOG_MSG + '[Total execution time = ' + (endTime - startTime) + ' ms]');\n \n \n/**\n * @description For every MID Config record\n *      - If the config parameter is a MID-specific config parameter and is defined as property too, we update the config parameter value \n *      - If the config parameter is a global config parameter and is defined as property too, it is replaced \n * \t\tby MID-Specific config Parameters\n * and in the table schema, 'ecc_agent' field in 'ecc_agent_config' is marked as 'mandatory' \n */\nfunction _updateMIDConfigInfo() {\n\tvar midInfo = _collectMidsInfo();// Collect the current settings of the MID Servers\n\tvar globalConfigInfo = {};       // Object to collect Global Config Parameters information\n\tglobalConfigInfo.names = [];\n\tglobalConfigInfo.sys_ids = [];\n\t\n\t// Iterate over all config parameters in the most recent update order\n\tvar configGr = new GlideRecord('ecc_agent_config');\n\tconfigGr.addQuery('param_name', 'IN', midInfo.commonConfigPropertyNames);\n\tconfigGr.orderByDesc('sys_updated_on');\n\tconfigGr.query();\n\twhile (configGr.next()) {\n\t\tvar paramName = configGr.param_name + '';\n\t\tvar midSysId = configGr.ecc_agent + '';\n\t\t// Verify if we need to update the value according to the new precednce\n\t\tif (midSysId) {     // Mid-specified config parameter \n\t\t\t_processMidSpecificConfigParameter(midInfo, configGr);\n\t\t} else {            // Global parameter (Config parameter record with empty ecc_agent field)\n\t\t\tglobalConfigInfo.names.push(paramName);\n\t\t\tglobalConfigInfo.sys_ids.push(configGr.sys_id +'');\n\t\t\t_convertGlobalToSpecificConfigParam(midInfo, configGr);\n\t\t}\n\t}\n\t\n\tif (!globalConfigInfo.sys_ids || globalConfigInfo.sys_ids.length == 0) {\n\t\tgs.log(FIX_SCRIPT_PREFIX_LOG_MSG + 'No global config parameter needs precedence fix');\n\t} else {\n\t\t_fixPrecedenceForGlobalConfigParameters(midInfo, globalConfigInfo);\n\t}\n\t\n\tgs.log(FIX_SCRIPT_PREFIX_LOG_MSG + 'Mark ecc_agent field in ecc_agent_config table as mandatory');\n\t_updateAttributeInDictionary('ecc_agent_config', 'ecc_agent', 'mandatory', true);\n}\n\n/**\n * @description Update the sys_overrides in ecc_agent_property to ecc_agent_property\n */\nfunction _updateMIDPropertyInfo() {\n\tgs.log(FIX_SCRIPT_PREFIX_LOG_MSG + 'Set sys_overrides in ecc_agent_property table to ecc_agent_property');\n\t_updateAttributeInDictionary('ecc_agent_property', 'sys_overrides', 'reference', 'ecc_agent_property');\n}\n/**\n * @description If precedence fix is required for a global config parameter and there is no existing mid-specific record\n * \t\t\t\twe create the new record with proper value for missing records\n * @param midInfo {Object} - Object containing setting information for every MID Server\n * @param globalConfigInfo {Object} - Object containing the Global Config parameters names and sys_ids\n */\n \nfunction _fixPrecedenceForGlobalConfigParameters(midInfo, globalConfigInfo) {\n\t// For every MID Server if there is a global record which we couldn't replace with an exsiting\n\t// old MID-Specific config parameter, we create a new MID-Specific config parameter\n\tfor (var mid in midInfo) {\n\t\tfor (var p = 0 ; p < globalConfigInfo.names.length ; p++) {\n\t\t\tvar param = globalConfigInfo.names[p];\n\t\t\tif (midInfo[mid].config_info && midInfo[mid].config_info[param] && midInfo[mid].config_info[param].sys_id == null) {\n\t\t\t\tvar val = midInfo[mid].config_info[param].value;\n\t\t\t\t// Need to maintain the old precedence: update the value to the property value\n\t\t\t\tif (_needPrecedenceMaintenance(midInfo, param, val, mid)) {\n\t\t\t\t\tval = midInfo[mid].property_info[param].value;\n\t\t\t\t\t// Create a new MID-Specific config parameter record in the same domain as MID Server\n\t\t\t\t\tvar newRecord = new GlideRecord('ecc_agent_config');\n\t\t\t\t\tnewRecord.initialize();\n\t\t\t\t\tnewRecord.setValue('param_name', param);\n\t\t\t\t\tnewRecord.setValue('sys_domain', midInfo[mid].domain);\n\t\t\t\t\tnewRecord.setValue('ecc_agent', mid);\n\t\t\t\t\tnewRecord.setValue('value', val);\n\t\t\t\t\tnewRecord.setWorkflow(false);\n\t\t\t\t\tvar newSysId = newRecord.insert();\n\t\t\t\t\tgs.debug(FIX_SCRIPT_PREFIX_LOG_MSG + 'Insert a new Mid-Specific parameter. The new record sys_id: ' + newSysId );\n\n\t\t\t\t\t// Tag the new record to prevent over-write when MID Server comes Up\n\t\t\t\t\tif ( midInfo[mid].status == \"Down\")  {\n\t\t\t\t\t\tgs.log(FIX_SCRIPT_PREFIX_LOG_MSG + 'Tag the Config param record with sys_id: ' + newSysId);\n\t\t\t\t\t\t_tagRecord( newSysId + '', tagSysId);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * @description Identify which MID Servers affected by the Global Config Parameter (configGr) and, \n *      if so, create an identically named MID-specific parameter for each affected MID in the midInfo object.\n * @param midInfo {Object} - Object containing MID Server settings information \n * @param configGr {GlideRecord} - Glide record of a Global Config Parameter\n */\n\nfunction _convertGlobalToSpecificConfigParam(midInfo, configGr) {\n\tvar paramName = configGr.param_name + '';\n\tvar paramValue = configGr.value + '';\n\tvar domainSep = gs.getProperty(\"glide.sys.domain.use_record_domain_for_processes\") == 'true';\n\tvar availableMids = _getVisibleMIDsInDomain(configGr, domainSep);\n\t\n\tgs.log(FIX_SCRIPT_PREFIX_LOG_MSG + 'Replace global config parameter ' + paramName + ' with Mid-specific Config parameters');\n\tfor (var i = 0; i < availableMids.length; i++) {\n\t\tvar curMid = availableMids[i];\n\t\t\n\t\t// Skip this MID Server if\n\t\t// - MID Server was connected to the instance after creating the global record OR\n\t\t// - There is another record for the same parameter created after global and it was\n\t\t//   already processed and the global parameter doesn't affect\n\t\tif (configGr.sys_updated_on < midInfo[curMid].created_on || midInfo[curMid].config_info[paramName])\n\t\t\tcontinue;\n\t\t\n\t\t// Collecting data for the parameter\n\t\tmidInfo[curMid].config_info[paramName] = {};\n\t\tmidInfo[curMid].config_info[paramName].sys_id = null;\n\t\tmidInfo[curMid].config_info[paramName].value = paramValue;\n\t}\n}\n\n/**\n* @description for every MID Server we collect status, creation date, domain, CommonPropertyConfig\n* @returns {Object} including status, creation date, domain, CommonPropertyConfig for every MID Server\n*/\nfunction _collectMidsInfo() {\n\tvar midSettings = new MidSettingsUtil();\n\tvar commonConfigPropertyNames = midSettings.getCommonMidPropertyConfigParams();\n\tvar midInfo = {};\n\t\n\tif (!commonConfigPropertyNames)\n\t\tgs.log(FIX_SCRIPT_PREFIX_LOG_MSG + 'No config parameter was defined as property. No precedence maintenance is needed.');\n    \n\tmidInfo.commonConfigPropertyNames = commonConfigPropertyNames;            \n\tvar midGr = new GlideRecord('ecc_agent');\n\tmidGr.query();\n\twhile (midGr.next()) {\n\t\tvar midSysId = midGr.sys_id + '';\n\t\tmidInfo[midSysId] = {};\n\t\tmidInfo[midSysId].status = midGr.status + '';\n\t\tmidInfo[midSysId].created_on = midGr.sys_created_on + '';\n\t\tmidInfo[midSysId].domain = midGr.sys_domain + '';\n\t\tmidInfo[midSysId].property_info = commonConfigPropertyNames ? midSettings.getMidPropertyValues(midSysId, commonConfigPropertyNames): null;\n        midInfo[midSysId].config_info = {};\n\t}\n\treturn midInfo;\n}\n\n/**\n * @description Returns all MID Server visible in the input domain\n * @param domainGr {GlideRecord} - the GlideRecord to get the domain\n * @param domainSep {Boolean} - it is true if the instance is domainSeparated\n * @returns {array} array of sys_ids of all MID Servers visible in the input domain\n */\nfunction _getVisibleMIDsInDomain(domainGr, domainSep){\n\tvar mids =[];\n\tvar gr = new GlideRecord('ecc_agent');\n\tif (domainSep)\n\t\tgr.addDomainQuery(domainGr);\n\tgr.query();\n\twhile(gr.next())\n\t\tmids.push(gr.sys_id + '');\n\t\n\treturn mids;      \n}\n\n/**\n * @description Verify if with the new precedence, the input parameter needs to update\n * @param midInfo {Object} - Object containing MID Server settings information \n * @param paramName {String} - name of the config parameter\n * @param paramValue {String} - value of the config parameter defined in ecc_agent_config table\n * @param midSysId {String} - sys_id of the corresponding MID Server\n * @returns {Boolean} true, if the parameter is also defined as a property with different value in 'ecc_agent_property'\n */\nfunction _needPrecedenceMaintenance(midInfo, paramName, paramValue, midSysId) {\n\tif (!midInfo[midSysId].property_info)\n\t\treturn false;\n\t\n\tif (midInfo[midSysId].property_info[paramName] && midInfo[midSysId].property_info[paramName].value != paramValue)\n\t\treturn true;\n\t\n\treturn false;\n}\n\n/**\n * @description Tag the input config parameter record with 'NO Overwrite'\n * @param configSysId {String} - sys_id of the config record to tag\n * @param tagSysId {String} - sys_id of 'NO Overwrite', if it is null, the new tag will be created\n */\n\nfunction _tagRecord(configSysId, tagSysId) {\n\tvar tagUtil = new TagUtil();\n\tif (!tagSysId)\n\t\ttagSysId = tagUtil.createTag('NO Overwrite');\n\tvar title = 'NO Overwrite - ' + configSysId ;\n\ttagUtil.insertTagEntry(title, tagSysId, 'ecc_agent_config', configSysId);\n}\n\n/**\n * @description For the input MID-specific config record, we verify if the record needs update regarding \n *              the new Precedence or existing Global config Parameter\n * @param midInfo {Object} - Object containing MID Server settings information \n * @param configGr {GlideRecord} - Glide record of the current MID-Specific config Parameter\n */\nfunction _processMidSpecificConfigParameter(midInfo, configGr) {\n\tvar paramName = configGr.param_name + '';\n\tvar midSysId = configGr.ecc_agent + '';\n\tvar paramValue = configGr.value + '';\n\tvar needTag = false;\n\t\n\t// The parameter was already visited\n\tif (midInfo[midSysId].config_info[paramName]) {\n\t\t\n\t\t// No action is needed, the param was defined by another more recent mid-specific record\n\t\tif (midInfo[midSysId].config_info[paramName].sys_id)\n\t\t\treturn;\n\t\t\n\t\t// A global record for the property was processed. midInfo[midSysId].config_info[paramName] is available without sys_id\n\t\t// We are replacing global record with the existing mid-specific parameter with the proper value\n\t\tvar newValue = midInfo[midSysId].config_info[paramName].value;\n\t\tvar precedMain = _needPrecedenceMaintenance(midInfo, paramName, newValue, midSysId);\n\t\tif (precedMain) {\n\t\t\tnewValue = midInfo[midSysId].property_info[paramName].value;\n\t\t\tconfigGr.setValue('value', newValue);\n\t\t\tconfigGr.setWorkflow(false);\n\t\t\tconfigGr.update();\n\t\t\tmidInfo[midSysId].config_info[paramName].sys_id = configGr.sys_id +'';\n\t\t\tgs.debug(FIX_SCRIPT_PREFIX_LOG_MSG + 'Update Config param record with sys_id: ' + configGr.sys_id  + ', change ' + paramName\n\t\t\t\t\t+ ' value from ' + paramValue + ' to ' + newValue);\n\t\t\n\t\t\tupdatedConfigParam++;\n\t\t\tneedTag = true;\n\t\t}\n\t\t\n\t} else {\n\t\t// The current specific-mid record is the most recent record to define this param\n\t\tmidInfo[midSysId].config_info[paramName] = {};\n\t\tmidInfo[midSysId].config_info[paramName].sys_id = midSysId;\n\t\tmidInfo[midSysId].config_info[paramName].value = paramValue;\n\t\t\n\t\t\n\t\tif ( _needPrecedenceMaintenance(midInfo, paramName, paramValue, midSysId)) {\n\t\t\tvar propValue = midInfo[midSysId].property_info[paramName].value;\n\t\t\tconfigGr.setValue('value', propValue);\n\t\t\tconfigGr.setWorkflow(false);\n\t\t\tconfigGr.update();\n\t\t\tgs.debug(FIX_SCRIPT_PREFIX_LOG_MSG + 'Update Config param record with sys_id: ' + configGr.sys_id  + ', change ' + paramName\n\t\t\t\t+ ' value from ' + paramValue + ' to ' + propValue);\n\t\t\tupdatedConfigParam++;\n\t\t\tneedTag = true;\n\t\t}\n\t}\n\t\n\t// If the MID Server is down, we need to tag the record to prevent over-writing by config.xml in MID Server start-up\n\tif (midInfo[midSysId].status == \"Down\" && needTag) {\n\t\tgs.debug(FIX_SCRIPT_PREFIX_LOG_MSG + 'Tag Config param record with sys_id: ' + configGr.sys_id );\n\t\t_tagRecord(configGr.sys_id + '', tagSysId);\n\t}\n}\n\n/**\n * @description Update the attribute a column in a table with the new value\n * @param tableName {String} - name of the table in dictionary\n * @param colName {String} - column name\n * @param attribute {String} - attribute of the column that we want to change\n * @param newValue {String} - the new value of the attribute\n */\nfunction _updateAttributeInDictionary(tableName, colName, attribute, newValue) {\n\tvar gr = new GlideRecord('sys_dictionary');\n\tgr.addQuery('name', tableName);\n\tgr.addQuery('element', colName);\n\tgr.query();\n\tif(gr.next()) {\n\t\tgr.setValue(attribute, newValue);\n\t\tgr.setWorkflow(false);\n\t\tgr.update();\n\t}\n}\n \n ","sys_class_name":"sys_script_fix","sys_id":"8244857877311110bb931b699a5a9953","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/42b8273704f12210559073c06a02f78d","value":"42b8273704f12210559073c06a02f78d"},"sys_update_name":"sys_script_fix_8244857877311110bb931b699a5a9953","sys_updated_by":"admin","sys_created_on":"2022-09-05 04:38:51","name":"Maintain pre-Utah MID Settings","sys_name":"Maintain pre-Utah MID Settings","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"","sys_updated_on":"2021-06-01 07:27:59","sys_tags":"","record_for_rollback":"false","script":"function updateAuditFlag() {\n\tvar gr = new GlideRecord('sys_dictionary');\n\tgr.addQuery('name', 'cmdb_software_product_model');\n\tgr.addQuery('internal_type', 'collection');\n\tgr.query();\n\tif (gr.next()) {\n\t\tif (gr.getValue('audit') === '0') {\n\t\t\tgr.setValue('audit', '1');\n\t\t\tgr.update();\n\t\t}\n\t}\n}\n\nupdateAuditFlag();","sys_class_name":"sys_script_fix","sys_id":"82b3ef900720301019cc909f0ad30002","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e325237304712210559073c06a02f7be","value":"e325237304712210559073c06a02f7be"},"sys_update_name":"sys_script_fix_82b3ef900720301019cc909f0ad30002","sys_updated_by":"admin","sys_created_on":"2021-06-01 07:22:15","name":"Set audit flag in software model table","sys_name":"Set audit flag in software odel table","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Update conflict execution status to success for pre upgrade version reports","sys_updated_on":"2021-07-21 08:14:27","sys_tags":"","record_for_rollback":"false","script":"(function() {\n    var tables = NLUWorkbenchConstants.tables;\n    var executionGr = new GlideRecord(tables.NLU_CONFLICT_EXECUTION);\n    executionGr.addNullQuery('status');\n    executionGr.setValue('status', 'success');\n    executionGr.updateMultiple();\n})();","sys_class_name":"sys_script_fix","sys_id":"82c827f7c7d93010c59db91703c260b6","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_update_name":"sys_script_fix_82c827f7c7d93010c59db91703c260b6","sys_updated_by":"admin","sys_created_on":"2021-07-19 11:28:48","name":"NLU Conflict - Update status","sys_name":"NLU Conflict - Update status","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Makes 'ml_solution' table editable, and all the fields in 'ml_solution' except 'threshold' read_only","sys_updated_on":"2018-08-28 21:31:40","sys_tags":"","record_for_rollback":"false","script":"gs.info(\"Making 'ml_solution' table editable, and all the fields in 'ml_solution' except 'threshold' read_only\");\nSNC.MLFixScriptUtil.makeMlSolutionThresholdEditable();","sys_class_name":"sys_script_fix","sys_id":"82f2e3407310230080b29ca9faf6a7d8","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_script_fix_82f2e3407310230080b29ca9faf6a7d8","sys_updated_by":"admin","sys_created_on":"2018-08-28 21:31:40","name":"Make 'ml_solution.threshold' editable","sys_name":"Make 'ml_solution.threshold' editable","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Update dictionary attributes for flow designer backend model","sys_updated_on":"2021-07-06 16:42:35","sys_tags":"","record_for_rollback":"false","script":"var terminalStates = [\"CANCELLED\", \"COMPLETE\", \"ERROR\", \"SKIPPED\"];\n\nvar gr = new GlideRecord(\"sys_pd_activity_context\");\ngr.addQuery(\"state\", \"NOT IN\", terminalStates.join());\ngr.query();\n\nwhile (gr.next()) {\n\tgr.setValue(\"activity_id\", gr.getValue(\"activity\"));\n\tgr.setWorkflow(false);\n\tgr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"8356617353013010cc98ddeeff7b12ad","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5c3e67b304752210559073c06a02f757","value":"5c3e67b304752210559073c06a02f757"},"sys_update_name":"sys_script_fix_8356617353013010cc98ddeeff7b12ad","sys_updated_by":"admin","sys_created_on":"2021-07-06 15:46:58","name":"Fix PAD activity context","sys_name":"Fix PAD activity context","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"11","description":"Need to delete certain client scripts, UI action and UI policies on Issue Auto-Resolution configuration table\r\nApplies for Quebec to Rome upgrade","sys_updated_on":"2022-01-11 18:17:23","sys_tags":"","record_for_rollback":"false","script":"executeIARFixScript();\n\nfunction executeIARFixScript() {\n\t/*\n\tDelete Client scripts\n\t- Reload page on ML training state change\n\t- Validate solution definition name\n\t */\n\tvar clientScriptGr = new GlideRecord('sys_script_client');\n\tclientScriptGr.addQuery('table', AutoResolutionConstants.CONFIG_TABLE_NAME);\n\tclientScriptGr.addQuery('sys_id', 'IN', '13de91d273f61010f14a063f34f6a78d,7a851fb973f39010f14a063f34f6a767');\n\tclientScriptGr.query();\n\n\tif (clientScriptGr.getRowCount() != 2)\n\t\tgs.warn('Client scripts that needs to be deprecated are not found');\n\t\n\twhile (clientScriptGr.next()) {\n\t\tgs.info('Deleting client script: ' + clientScriptGr.getValue('name'));\n\t\tclientScriptGr.deleteRecord();\n\t}\n\n\t/*\n\tDelete UI Actions\n\t- Retrain\n\t*/\n\tvar uiActionSysIDs = [];\n\tvar uiActionGr = new GlideRecord('sys_ui_action');\n\tuiActionGr.addQuery('table', AutoResolutionConstants.CONFIG_TABLE_NAME);\n\tuiActionGr.addQuery('sys_id', 'IN', '62f7c1fa73b61010f14a063f34f6a7fa,61108d4973162010f14a063f34f6a72e');\n\tuiActionGr.query();\n\t\n\tif (uiActionGr.getRowCount() != 2)\n\t\tgs.warn('UI actions that needs to be deprecated are not found');\n\t\n\twhile (uiActionGr.next()) {\n\t\tgs.info('Deleting UI action: ' + uiActionGr.getValue('name'));\n\t\tuiActionGr.deleteRecord();\n\t}\n\n\t/*\n\tDelete UI Policy\n\t- Log message when training fails\n\t*/\n\tvar uiPolicyGr = new GlideRecord('sys_ui_policy');\n\tuiPolicyGr.addQuery('table', AutoResolutionConstants.CONFIG_TABLE_NAME);\n\tuiPolicyGr.addQuery('sys_id', '9d0c62cb73c71010f14a063f34f6a72b');\n\tuiPolicyGr.query();\n\tif (uiPolicyGr.next()) {\n\t\tgs.info('Deleting UI policy: ' + uiPolicyGr.getValue('short_description'));\n\t\tuiPolicyGr.deleteRecord();\n\t} else {\n\t\tgs.warn('Unable to find UI Policy {0} on Issue Auto-Resolution configuration table. ', 'Log message when training fails');\n\t}\n}\n","sys_class_name":"sys_script_fix","sys_id":"8390d5f973036010f14a063f34f6a7c6","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca4f3f704b52210559073c06a02f789","value":"aca4f3f704b52210559073c06a02f789"},"sys_update_name":"sys_script_fix_8390d5f973036010f14a063f34f6a7c6","sys_updated_by":"admin","sys_created_on":"2021-03-22 22:55:44","name":"Delete unwanted IAR scripts","sys_name":"Delete unwanted IAR scripts","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"true","sys_mod_count":"0","description":"Fixes the ML Scheduler URL for repair/upgrade scenarios","sys_updated_on":"2023-04-25 06:48:22","sys_tags":"","record_for_rollback":"true","script":"setSchedulerURL();\n\nfunction setSchedulerURL() {\n    if (gs.getProperty(\"glide.shared_service_scheduler.url\") != null && gs.getProperty(\"glide.shared_service_scheduler.url\") != \"null\" && gs.getProperty(\"glide.shared_service_scheduler.url\") != '') {\n        var value = gs.getProperty(\"glide.shared_service_scheduler.url\");\n        gs.setProperty(\"glide.shared_service_scheduler.url\", \"\");\n        gs.setProperty(\"glide.shared_service_scheduler.url\", value);\n    } else {\n        if (pm.isActive(\"com.glide.platform_ml\") && !GlideUtil.isDeveloperInstance()) {\n            gs.setProperty(\"glide.shared_service_scheduler.url\", \"https://sncmlscheduler.service-now.com/\");\n            gs.log(\"Setting scheduler URL to default ML scheduler\");\n        } else {\n            gs.log(\"Scheduler URL was not set. Is developer instance?: \" + GlideUtil.isDeveloperInstance());\n        }\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"83911ceb4756a5d04f41e977746d43b1","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_script_fix_83911ceb4756a5d04f41e977746d43b1","sys_updated_by":"admin","sys_created_on":"2023-04-25 06:48:22","name":"Fix ML Scheduler URL","sys_name":"Fix ML Scheduler URL","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"9","description":"Delete all records from ml_cluster_detail, ml_cluster_summary, ml_cluster_sol_update, ml_update_set related to a deleted ml_solution record deleted","sys_updated_on":"2022-11-25 11:49:27","sys_tags":"","record_for_rollback":"true","script":"(function() {\n    var CONST_DELETE = \"delete\";\n\n    var _update_reference_cascade_rule = function(table_name, element, action) {\n        var gr = new GlideRecord('sys_dictionary');\n        gr.addQuery('name', table_name);\n        gr.addQuery('element', element);\n        gr.query();\n        if (gr.next()) {\n            gr.setValue('reference_cascade_rule', action);\n            return gr.update();\n        }\n    };\n\n    if (!pm.isZboot()) {\n        var table_elements_map = {\n            \"ml_cluster_detail\": {\n                \"solution\": CONST_DELETE,\n                \"cluster_id\": CONST_DELETE\n            },\n            \"ml_cluster_summary\": {\n                \"solution\": CONST_DELETE\n            },\n            \"ml_update_set\": {\n                \"solution\": CONST_DELETE\n            },\n            \"ml_cluster_sol_update\": {\n                \"solution\": CONST_DELETE\n            },\n        };\n\n        for (var table_name in table_elements_map) {\n            for (var element in table_elements_map[table_name]) {\n                var action = table_elements_map[table_name][element];\n                _update_reference_cascade_rule(table_name, element, action);\n\t\t\t\tgs.info(\"Added reference cascade rules for the following- table: \" + table_name + \", column: \" + element + \", action: \" + action);\n            }\n        }\n    }\n    return;\n}());","sys_class_name":"sys_script_fix","sys_id":"83a4d446eb131110f4e8dc7ab55228d9","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_script_fix_83a4d446eb131110f4e8dc7ab55228d9","sys_updated_by":"admin","sys_created_on":"2022-11-22 12:06:11","name":"Add cascade delete rule for clustering ","sys_name":"Add cascade delete rule for clustering ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"1","description":"Promotes ast_service fields to ast_contract","sys_updated_on":"2019-01-25 12:11:19","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tvar AST_SERVICE = \"ast_service\";\n\tvar AST_CONTRACT = \"ast_contract\";\n\tvar CUSTOMER = \"customer\";\n\tvar COVERS = \"covers\";\n\n\t// Check ast_service exists\n\tvar astService = new GlideRecord(AST_SERVICE);\n\tif (!astService.isValid())\n\t\treturn;\n\n\t// Promote the columns\n\tGlideDBUtil.promoteColumn(AST_SERVICE, AST_CONTRACT, CUSTOMER);\n\tGlideDBUtil.promoteColumn(AST_SERVICE, AST_CONTRACT, COVERS);\n})();","sys_class_name":"sys_script_fix","sys_id":"83cc3154b713230034d1da23ee11a97b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ce692b3b04f12210559073c06a02f7e6","value":"ce692b3b04f12210559073c06a02f7e6"},"sys_update_name":"sys_script_fix_83cc3154b713230034d1da23ee11a97b","sys_updated_by":"admin","sys_created_on":"2019-01-25 12:07:51","name":"Promote ast_service fields","sys_name":"Promote ast_service fields","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"If next experience is not activated, disable the new Platform Analytics Administration menu. ","sys_updated_on":"2024-11-22 14:57:50","sys_tags":"","record_for_rollback":"true","script":"var unifiedAnalytics = gs.getProperty(\"com.glide.par.unified_analytics.enabled\");\nif (unifiedAnalytics == null || unifiedAnalytics == 'false') {\n\tvar paa = new GlideRecord(\"sys_app_application\");\n\tif(paa.get(\"c27d2864e9693110f877eebc1a3288ff\")) {\n\t\tpaa.setValue(\"active\", false);\n\t\tpaa.update();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"845cd019a3021210c9a4a5de241e61ac","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/143b677304352210559073c06a02f7e2","value":"143b677304352210559073c06a02f7e2"},"sys_update_name":"sys_script_fix_845cd019a3021210c9a4a5de241e61ac","sys_updated_by":"admin","sys_created_on":"2024-11-22 10:08:19","name":"Disable PAA menu on unmigrated customer ","sys_name":"Disable PAA menu on unmigrated customer ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Enable Washington new mutex 4 days after upgrade.","sys_updated_on":"2023-06-08 23:20:11","sys_tags":"","record_for_rollback":"true","script":"\tvar propName = 'com.glide.hub.flow.washington_features_enabled';\n    var propValue = gs.getProperty(propName);\n\n    if (propValue == null) {\n        gs.log('Property ' + propName + ' does not exist.  Scheduling trigger to create property with value of true after 4 days.');\n\n        var script = \"var propName = 'com.glide.hub.flow.washington_features_enabled';\\n\"\n            + \"var propValue = gs.getProperty(propName);\\n\"\n            + \"if (propValue == null) {\\n\"\n            + \"    gs.log('Property ' + propName + ' does not exist.  Creating with value true.');\\n\"\n            + \"    var gr = new GlideRecord('sys_properties'); \\n\"\n            + \"    gr.initialize();  \\n\"\n            + \"    gr.setValue('name', propName); \\n\"\n            + \"    gr.setValue('type', 'boolean'); \\n\"\n            + \"    gr.setValue('value', true); \\n\"\n            + \"    gr.setValue('description', 'Automatically set to true after upgrade in order to enable Washington FD features.'); \\n\"\n            + \"    gr.setValue('ignore_cache', 'true'); \\n\"\n            + \"    gr.setValue('write_roles', 'maint');\\n\"\n            + \"    gr.setWorkflow(false);\\n\"\n            + \"    gr.insert(); \\n\"\n            + \"} else {\\n\"\n            + \"    gs.log('Property ' + propName + ' exists with value ' + propValue + '. No action taken.');\\n\"\n            + \"}\";\n\n        // schedule the property to be created and set to true in 4 days\n        gs.include(\"ScheduleOnce\");\n        var sched = new ScheduleOnce();\n        sched.script = script;\n        sched.days = 4;\n        sched.label = 'Enable Washington FD features';\n        sched.schedule();\n    } else {\n        gs.log('Property ' + propName + ' exists with value ' + propValue + '. No action taken.');\n    }","sys_class_name":"sys_script_fix","sys_id":"8489d6b1979f21108d46340e6253af3b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/063be77304352210559073c06a02f7e4","value":"063be77304352210559073c06a02f7e4"},"sys_update_name":"sys_script_fix_8489d6b1979f21108d46340e6253af3b","sys_updated_by":"lin.yuan@snc","sys_created_on":"2023-06-08 23:20:11","name":"Enable Washington New Mutex","sys_name":"Enable Washington New Mutex","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"lin.yuan@snc","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"","sys_updated_on":"2018-11-01 11:00:26","sys_tags":"","record_for_rollback":"false","script":"gs.info(\"Fix Script setParentReferenceOfCapability: running script\");\nvar gr = new GlideRecord('sys_dictionary');\ngr.addQuery('name','cmdb_ci_business_capability');\ngr.addQuery('element','parent');\ngr.query();\nif (gr.next()){\n\tgs.info(\"Fix Script setParentReferenceOfCapability: column parent\");\n\tvar columnRef = gr.getValue('reference');\n\tif (columnRef=='cmdb_ci'){\n\t\tgs.info(\"Fix Script setParentReferenceOfCapability: column parent has cmdb_ci reference\");\n\t\tgr.setValue('reference','cmdb_ci_business_capability');\n\t\tgr.update();\n\t\tgs.info(\"Fix Script setParentReferenceOfCapability: changed column parent reference to cmdb_ci_business_capability\");\n\t}\n}\ngs.info(\"Fix Script setParentReferenceOfCapability: completed script\");","sys_class_name":"sys_script_fix","sys_id":"8508ab7c3b2d2300a70fe79c83efc45b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_8508ab7c3b2d2300a70fe79c83efc45b","sys_updated_by":"admin","sys_created_on":"2018-11-01 09:01:40","name":"setParentReferenceOfCapability","sys_name":"setParentReferenceOfCapability","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"4","description":"","sys_updated_on":"2021-10-29 06:35:20","sys_tags":"","record_for_rollback":"false","script":"var prefGr = new GlideRecord('cmn_rota_contact_preference');\nprefGr.addQuery('group', '');\nprefGr.query();\n\nwhile (prefGr.next()) {\n    if (!gs.nil(prefGr.cmn_rota) || !gs.nil(prefGr.cmn_rota_escalation_set)) {\n        prefGr.group = prefGr.cmn_rota ? prefGr.cmn_rota.group + '' : prefGr.cmn_rota_escalation_set.group + '';\n        prefGr.setWorkflow(false);\n        prefGr.setUseEngines(false);\n        prefGr.update();\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"854eca8c1b273050b8fbeb15624bcb11","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_script_fix_854eca8c1b273050b8fbeb15624bcb11","sys_updated_by":"admin","sys_created_on":"2021-10-27 10:35:30","name":"Update group for contact preferences","sys_name":"Update group for contact preferences","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"true","sys_mod_count":"28","description":"Checks if any of available declarative actions are missing from Global Playbook Experience and assigns them accordingly.","sys_updated_on":"2020-07-25 00:47:08","sys_tags":"","record_for_rollback":"false","script":"assignGlobalPlaybookExperienceDAs();\n\nfunction assignGlobalPlaybookExperienceDAs() {\n\tvar globalExperienceDAs = {};\n\tvar grActionAssignmentMap = new GlideRecord('sys_playbook_experience_action_assignment_map');\n\tvar grDAAssignment = new GlideRecord('sys_declarative_action_assignment');\n\t\n\tgrActionAssignmentMap.query();\n\t\n\t// Load existent assignment map entries\n\twhile (grActionAssignmentMap.next()) {\n\t\tglobalExperienceDAs[grActionAssignmentMap.getValue('declarative_action_assignment')] = 1;\n\t}\n\t\n\tgrDAAssignment.query('model', 'ca57d12e730333004a905ee515f6a7b2');\n\t\n\t// Go through all available Playbook Card declarative actions\n\twhile (grDAAssignment.next()) {\n\t\tvar assignmentRecordSysId = grDAAssignment.getUniqueValue();\n\t\tvar assignmentScope = grDAAssignment.getValue('sys_scope');\n\t\t\n\t\t// Add missing DA assignment map record with non-empty names\n\t\tif (!globalExperienceDAs.hasOwnProperty(assignmentRecordSysId) && grDAAssignment.getValue('action_name')) {\n\t\t\tgrActionAssignmentMap.setValue('declarative_action_assignment', assignmentRecordSysId);\n\t\t\tgrActionAssignmentMap.setValue('playbook_experience', '98e09a560f2200102920c912d4767e1a'); // Global Playbook Experience sysId\n\t\t\tgrActionAssignmentMap.setValue('sys_scope', assignmentScope);\n\t\t\t\n\t\t\tgrActionAssignmentMap.insert();\n\t\t}\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"85527e73c3021010381b60bc0eba8f44","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/055e23f304752210559073c06a02f753","value":"055e23f304752210559073c06a02f753"},"sys_update_name":"sys_script_fix_85527e73c3021010381b60bc0eba8f44","sys_updated_by":"admin","sys_created_on":"2020-07-23 21:56:29","name":"Add missing Playbook Experience DAs","sys_name":"Add missing Playbook Experience DAs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Updating label to 'Quick Message(s)' from previous label 'Email Canned Messages'","sys_updated_on":"2019-03-29 08:42:38","sys_tags":"","record_for_rollback":"false","script":"//API: renameTable(tableName, previousLabel, targetLabel)\nrenameTable('sys_email_canned_message','Email Client Canned Messages','Quick Message');\nfunction renameTable(tableName, previousLabel, targetLabel){\n\t//Rename Sys Db Object\n\tgs.log(\"About to change label of \" + tableName + \" from \" + previousLabel + \" to \" + targetLabel);\n\tvar dbObj = new GlideRecord(\"sys_db_object\");\n\tdbObj.addQuery(\"name\",tableName);\n\tdbObj.addQuery(\"label\",previousLabel);\n\tdbObj.query();\n\tif(dbObj.next()){\n\t\tdbObj.setValue(\"label\",targetLabel);\n\t\tdbObj.update();\n\t\tgs.log(\"Changed label of \" + tableName + \" to \" + targetLabel);\n\t} else {\n\t\tgs.log(\"Given combination of table \"+tableName+\" and label \"+previousLabel+\" not found in sys_db_object\");\n\t}\t\n\tgs.log(\"Done changing label of \" + tableName);\n}","sys_class_name":"sys_script_fix","sys_id":"8558abf3771033005a4820089a106101","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8308a33304f12210559073c06a02f7a9","value":"8308a33304f12210559073c06a02f7a9"},"sys_update_name":"sys_script_fix_8558abf3771033005a4820089a106101","sys_updated_by":"admin","sys_created_on":"2019-03-27 09:42:36","name":"Update label for Canned Messages ","sys_name":"Update label for Canned Messages ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Update business_calendar_span_name display columns. Updates long_name as display column instead of short_name","sys_updated_on":"2024-01-04 23:27:36","sys_tags":"","record_for_rollback":"false","script":"setDisplayValues();\n\nfunction setDisplayValues() {\n\tif (pm.isZboot()) {\n\t\tgs.log('Upgrade: Zbooting, no need to set display values for business_calendar_span_name');\n\t\treturn;\n\t}       \n\n\tvar gr = new GlideRecord('sys_dictionary');\n\tgr.addQuery('name', 'business_calendar_span_name');\n\t//short_name is the element(label - Column name)\n\tgr.addQuery('element', 'short_name');\n\tgr.query();\n\tif (gr.next()) {\n\t\tif (!gr.display) {\n\t\t\tgs.log('short_name is no longer display column already');\n\t\t\treturn;\n\t\t}\n\t\tgr.display = false;\n\t\tgr.update();\n\t\tgs.info('updates short_name display as false');\n\t}\n\n\tvar gr2 = new GlideRecord('sys_dictionary');\n\tgr2.addQuery('name', 'business_calendar_span_name');\n\t// long_name is the element\n\tgr2.addQuery('element', 'long_name');\n\tgr2.query();\n\tif (gr2.next()) {\n\t\tgr2.display = true;\n\t\tgr2.update();\n\t\tgs.info('updates long_name display as true');\n\t}\n\n}","sys_class_name":"sys_script_fix","sys_id":"856937d943633110b5ec642b75b8f2fa","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/dd672bfb04b12210559073c06a02f7e3","value":"dd672bfb04b12210559073c06a02f7e3"},"sys_update_name":"sys_script_fix_856937d943633110b5ec642b75b8f2fa","sys_updated_by":"maint","sys_created_on":"2024-01-04 23:27:36","name":"Fix calendar_span_name display columns","sys_name":"Fix calendar_span_name display columns","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"45","description":"When com.glide.cs plugin is already installed, but the AI search fallback option for the OOB profile does not exist, \r\nThis script creates a new  system property  - remove_oob_ai_search_fallback_option_after_upgrade.\r\nThis new property will be used to remove a new AI search fallback option installed by the upgrade.\r\nThis is for DEF0203714","sys_updated_on":"2021-04-20 17:51:21","sys_tags":"","record_for_rollback":"false","script":"var LOG_ID = '[Create AISearch Fallback Option Property]';\nvar PROP_NAME = 'remove_oob_ai_search_fallback_option_after_upgrade';\nvar PLUGIN = 'com.glide.cs.topics';\nvar OOB_CONTEXT_PROFILE_ID = '3a33973653211010a813ddeeff7b125a';\n\nprocess();\n\nfunction process() {\n\n\t// check if the plugin is installed or not\n\t// If the plugin is not installed, nothing to worry about.\n\tif (!isPluginInstalled(PLUGIN)) {\n\t\tgs.info('{0}:The plugin:\"{1}\" is not installed. No need to proceed', [LOG_ID, PLUGIN]);\n\t\treturn;\n\t}\n\t\n\t// if the property already exists, remove the property. this should not happen.\n\tif (foundProperty() && removeProperty())\n\t\tgs.info('{0}:The property already existed. Removed the property:\"{1}\"', [LOG_ID, PROP_NAME]);\n\t\n\t//This is the case for if the fallback option value already exists, but the property value does not exist.\n\t//In this case, we need to keep the option value.\n\tif (foundAISearchFallbackOption()) {\n\t\tgs.info('{0}:Found the value for AISearch fallback option, This value for the option won\\'t be removed',[LOG_ID, PROP_NAME]);\n\t\treturn;\n\t}\n\t\n\t// 1. plugin is installed,\n\t// 2. The value for AI Search fallback option is not set\n\t// In this case, the fallback option needs to be removed after the upgrade.\n\t// In order to do that, a new property needs to be created. \n\t// After the upgrade process, the property will be read, and used to remove the fallback option value\n\tif(!gs.nil(createProperty()))\n\t\tgs.info('{0}:The property-\"{1}\" is now created to remove AISearch fallback option after the upgrade', [LOG_ID, PROP_NAME]);\n}\n\nfunction isPluginInstalled(plugin) {\n\t// check if the plugin is installed.\n\tvar pluginGr = new GlideRecord('sys_plugins');\n\tpluginGr.addActiveQuery();\n\tpluginGr.addQuery('source', plugin);\n\tpluginGr.query();\n\n\treturn pluginGr.next();\n}\n\nfunction foundAISearchFallbackOption() {\n\t\n\tvar TABLE_NAME = 'sys_cs_context_profile_topic';\n\t\n\t// if the table does not exist, return false.\n\tif(!gs.tableExists(TABLE_NAME))\n\t\treturn false;\n\t\n\tvar gr = new GlideRecord(TABLE_NAME);\n\t\n\t// the default chat OOB propfile\n\tgr.addQuery('context_profile', OOB_CONTEXT_PROFILE_ID);\n\tgr.addQuery('topic_type', 'ai_search_fallback');\n\tgr.addNotNullQuery('topic');\n\tgr.query();\n\t\n\treturn gr.next();\n}\n\nfunction foundProperty() {\n\treturn !gs.nil(gs.getProperty(PROP_NAME));\n}\n\nfunction createProperty(){\n\tvar gr = new GlideRecord('sys_properties');\n\tgr.setValue('name', PROP_NAME);\n\tgr.setValue('value', \"true\");\n\treturn gr.insert();\n}\n\nfunction removeProperty() {\n\tvar gr = new GlideRecord('sys_properties');\n\tgr.addQuery('name', PROP_NAME);\n\tgr.query();\n\t\n\tif(gr.next())\n\t\treturn gr.deleteRecord();\n\t\n\treturn false;\n}","sys_class_name":"sys_script_fix","sys_id":"85e9c97553232010c440ddeeff7b12c8","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_85e9c97553232010c440ddeeff7b12c8","sys_updated_by":"admin","sys_created_on":"2021-04-16 19:45:29","name":"Create AISearch Fallback Option Property","sys_name":"Create AISearch Fallback Option Property","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Adding record producers to playbook designer state (sys_pd_process_definition.designer_state), so that we can use it in predicate builder inside PAD. ","sys_updated_on":"2025-02-27 21:33:28","sys_tags":"","record_for_rollback":"false","script":"var requestAppTableGr = new GlideRecord('sys_db_object'); // Verify request app config table exists\nif (requestAppTableGr.get('name', 'sn_creatorstudio_request_app_config')) {\n    try {\n        var countMillis = new GlideDateTime().getNumericValue(); // Measure how long the script takes.\n        gs.info(gs.getMessage('START: Adding record producers to playbook designer states'), 'addRecordProducersToPlaybookDesignerState');\n        addRecordProducersToPlaybookDesignerState();\n        gs.info(gs.getMessage('COMPLETE: Adding record producers to playbook designer states ({0}ms)', new GlideDateTime().getNumericValue() - countMillis), 'addRecordProducersToPlaybookDesignerState');\n    } catch (e) {\n        gs.error(gs.getMessage('ERROR: There was an error adding record producers to playbook designer states'), e);\n    }\n}\n\nfunction addRecordProducersToPlaybookDesignerState() {\n    var rpRegex = /request_type=([a-z0-9]+)/i; // Regex to find the record producer ID\n\n    var processGr = new GlideRecord('sys_pd_process_definition');\n    processGr.addJoinQuery('sn_creatorstudio_request_app_config', 'sys_scope', 'sys_scope');\n    processGr.query();\n    while (processGr.next()) {\n        var triggerInstanceGr = new GlideRecord('sys_pd_trigger_instance');\n        triggerInstanceGr.addQuery('process_definition', processGr.getUniqueValue());\n        triggerInstanceGr.query();\n\n        while (triggerInstanceGr.next()) { // There should only be one trigger, but just in case make sure to get the one with a record producer. \n            var triggerInputs = triggerInstanceGr.getElement('trigger_inputs');\n            var match = triggerInputs['condition'].match(rpRegex);\n            var recordProducerId = match && match[1];\n            if (!recordProducerId)\n                continue;\n            var designerStateString = processGr.getValue('designer_state') || '{}';\n            var designerState = {};\n            var designerStateNew = {};\n            try {\n                designerState = JSON.parse(designerStateString);\n            } catch (e) {\n                gs.error(gs.getMessage('Parsing designer_state from sys_pd_trigger_instance_{0} failed', triggerInstanceGr.getUniqueValue()), e);\n                continue;\n            }\n            Object.assign(designerStateNew, designerState);\n            designerStateNew['creatorStudioRecordProducerId'] = recordProducerId;\n            processGr.setValue('designer_state', JSON.stringify(designerStateNew));\n            processGr.update();\n        }\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"86177bafb7d952100260b5208e11a935","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6f98400fc3262210ed4bd50d05013160","value":"6f98400fc3262210ed4bd50d05013160"},"sys_update_name":"sys_script_fix_86177bafb7d952100260b5208e11a935","sys_updated_by":"admin","sys_created_on":"2024-10-23 18:55:37","name":"Add record producers to designer state","sys_name":"Add record producers to designer state","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":"read"},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Fix search results for existing HR Portal by adding page route to the correct catalog item page.","sys_updated_on":"2018-04-30 20:14:40","sys_tags":"","record_for_rollback":"false","script":"var EXISTING_PORTAL_ID = 'cbaf04630b603200d8cf0d0737673a8e';\nvar PAGE_ROUTE_MAP_ID = '69eeb3843b3113003585802b13efc4ec';\n\nvar grPortal = new GlideRecord('sp_portal');\nvar grRouteMap = new GlideRecord('sp_page_route_map');\n\nif (grPortal.get(EXISTING_PORTAL_ID) && grRouteMap.get(PAGE_ROUTE_MAP_ID)) {\n\tgrRouteMap.portals = grRouteMap.portals + ',' + EXISTING_PORTAL_ID;\n\tgrRouteMap.update();\n}","sys_class_name":"sys_script_fix","sys_id":"86d2059c3b7513003585802b13efc47a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3d1da2705b021200a4656ede91f91ab6","value":"3d1da2705b021200a4656ede91f91ab6"},"sys_update_name":"sys_script_fix_86d2059c3b7513003585802b13efc47a","sys_updated_by":"admin","sys_created_on":"2018-04-26 22:02:59","name":"Add routing for existing HR Portal","sys_name":"Add routing for existing HR Portal","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3d1da2705b021200a4656ede91f91ab6","value":"3d1da2705b021200a4656ede91f91ab6"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"20","description":"Migrate platform search sources to polaris global search sources.","sys_updated_on":"2022-11-15 21:02:24","sys_tags":"","record_for_rollback":"false","script":"function generateSearchSourcesFromTS() {\n    var polarisSearch = new GlideRecord('m2m_search_context_config_search_source');\n\n    var searchRecord = new GlideRecord('sys_search_source');\n    var globalSourceGroup = new GlideRecord('ts_group');\n    var globalSource = new GlideRecord('ts_table');\n\n    globalSource.query();\n\n    while (globalSource.next()) {\n        searchRecord.initialize();\n\n        var label = globalSource.group.name;\n        //Remove '& Places' from name\n        if (label.equals('People & Places')) {\n            label = label.split('&')[0].trim();\n        }\n        label += ' - ' + GlideMetaData.getTablePlural(globalSource.name);\n        searchRecord.setValue('name', label);\n        searchRecord.setValue('source_table', globalSource.name);\n        searchRecord.setValue('active', globalSource.active);\n        searchRecord.setValue('condition', globalSource.condition);\n\n        // Carry over the roles and groups on the parent ts_group to the new search source\n        if (globalSourceGroup.get(globalSource.group)) {\n            searchRecord.setValue('roles', globalSourceGroup.getValue('roles'));\n            searchRecord.setValue('group', globalSourceGroup.getValue('group'));\n        }\n\n        var sysID = searchRecord.insert();\n\n        polarisSearch.initialize();\n        polarisSearch.setValue('search_context_config', 'c861cea2c7022010099a308dc7c26041');\n        polarisSearch.setValue('source', sysID);\n        polarisSearch.setValue(\"order\", globalSource.order + (globalSource.group.order * 2));\n        polarisSearch.insert();\n    }\n}\n\nvar i18nActive = pm.isActive(\"com.glide.i18n\");\nif (i18nActive) {\n  var langUtils = new global.I18nUtils();\n  var currentLanguage = langUtils.getLanguage();\n  // Force English Only Translations\n  langUtils.setLanguage(\"en\");\n\n  try {\n      generateSearchSourcesFromTS();\n  } finally {\n      langUtils.setLanguage(currentLanguage);\n  }\n} else {\n  generateSearchSourcesFromTS();\n}\n","sys_class_name":"sys_script_fix","sys_id":"86e594efc7032010099a308dc7c2607a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/37eda37304752210559073c06a02f7b6","value":"37eda37304752210559073c06a02f7b6"},"sys_update_name":"sys_script_fix_86e594efc7032010099a308dc7c2607a","sys_updated_by":"admin","sys_created_on":"2021-03-28 05:13:07","name":"Search sources for polaris ","sys_name":"Search sources for polaris ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"0","description":"it changes the reference field of par_dashboard_widget.component to be sys_ux_lib_component","sys_updated_on":"2023-02-09 08:51:38","sys_tags":"","record_for_rollback":"true","script":"gs.info('par_dashboard_widget - Update reference field table of par_dashboard_widget.component to sys_ux_lib_component. Start');\nupdateReferenceFieldTable();\nupdateReferenceFieldLabel();\ngs.info('par_dashboards_widget - Update reference field table of par_dashboard_widget.component to sys_ux_lib_component. End');\n\nfunction updateReferenceFieldTable(){\n\tif (pm.isZboot())\n\t\treturn;\n\n\tvar gr = new GlideRecord(\"sys_dictionary\");\n\tgr.addQuery(\"name\", \"par_dashboard_widget\");\n\tgr.addQuery(\"element\", \"component\");\n\tgr.query();\n\tif (gr.next()) {\n\t\tgr.setValue(\"reference\",\"sys_ux_macroponent\");\n\t\tgr.setValue('column_label','Macroponent');\n\t\tif (!gr.update())\n\t\t\tgs.log(\"par_dashboards_widget - failed to update reference table of par_dashboard_widget.component field\");\n\t\tgs.log(\"par_dashboards_widget - Success. Reference table of par_dashboard_widget.component set to sys_ux_macroponent\");\n\t}\n\n\tgs.info('par_dashboards Update reference field table of par_dashboard_widget.component to sys_ux_macroponent. End');\n}\n\nfunction updateReferenceFieldLabel(){\n\tif (pm.isZboot())\n\t\treturn;\n\n\tvar gr = new GlideRecord(\"sys_documentation\");\n\tgr.addQuery(\"name\", \"par_dashboard_widget\");\n\tgr.addQuery(\"element\",\"component\");\n\tgr.query();\n\tif(gr.next()){\n\t\tgr.setValue(\"label\",\"Macroponent\");\n\t\tgr.setValue(\"plural\",\"Macroponents\");\n\t\tif (!gr.update())\n\t\t\tgs.log(\"par_dashboards_widget - failed to update label par_dashboard_widget.component field on sys_documentation table\");\n\t\t\n\t}\n\n}\n","sys_class_name":"sys_script_fix","sys_id":"86ffde93b7302110f3769188ce11a918","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/143b677304352210559073c06a02f7e2","value":"143b677304352210559073c06a02f7e2"},"sys_update_name":"sys_script_fix_86ffde93b7302110f3769188ce11a918","sys_updated_by":"admin","sys_created_on":"2023-02-09 08:51:38","name":"par_dashboard_widget fix reference field","sys_name":"par_dashboard_widget fix reference field","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"All the existing topics should not have been created by the user. ","sys_updated_on":"2023-03-07 17:04:00","sys_tags":"","record_for_rollback":"true","script":"var topics = new GlideRecord('sys_kafka_topic');\ntopics.query();\nwhile (topics.next()) {\n    topics.user_created = false;\n\ttopics.update();\n}","sys_class_name":"sys_script_fix","sys_id":"87174eb7ff1121105cf343d0653bf1af","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/03d4abbf04312210559073c06a02f7f9","value":"03d4abbf04312210559073c06a02f7f9"},"sys_update_name":"sys_script_fix_87174eb7ff1121105cf343d0653bf1af","sys_updated_by":"admin","sys_created_on":"2023-03-07 17:00:24","name":"Change user created field","sys_name":"Change user created field","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Set UI 16 Configuration Property css.$navpage-nav-color-sub to the value of css.$navpage-nav-unselected-color, since the proprety was split into two separate properties.","sys_updated_on":"2019-04-25 22:25:37","sys_tags":"","record_for_rollback":"false","script":"function fixNewUI16ConfigProps() {\n      if (pm.isZboot())\n          return;\n\n      var unselectedColor = gs.getProperty('css.$navpage-nav-unselected-color', '#d1d6d8'); // #bec1c6 was the previous value used in London and earlier\n      var colorSub = gs.getProperty('css.$navpage-nav-color-sub', '#ffffff'); // #bec1c6 was also the previous value used in London but both diverged in M\n\n      // OOB London, set to Madrid values\n      if (unselectedColor == '#bec1c6')\n          unselectedColor = '#d1d6d8';\n\n      if (colorSub == '#bec1c6')\n          colorSub = '#ffffff';\n\n      gs.setProperty('css.$navpage-nav-color-sub', colorSub, 'Module text color for UI16');\n      gs.setProperty('css.$navpage-nav-unselected-color', unselectedColor, 'Unselected navigation tab icon and favorite icons color');\n}\n\nfixNewUI16ConfigProps();","sys_class_name":"sys_script_fix","sys_id":"8742e265c7a13200bf14f149cb9763cd","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/46442f7b04312210559073c06a02f798","value":"46442f7b04312210559073c06a02f798"},"sys_update_name":"sys_script_fix_8742e265c7a13200bf14f149cb9763cd","sys_updated_by":"admin","sys_created_on":"2017-03-17 22:25:37","name":"Fix New UI 16 Configuration Properties","sys_name":"Fix New UI 16 Configuration Properties","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"25","description":"Removes the mandatory attribute for the template fields on the Auto-Resolution configuration schema\r\nmakes notification user field mandatory and rename it to Requester\r\nadds method call for reference qualifiers on the template fields\r\nUpdates table field level access for Config table \r\n\r\nThis applies for Tokyo upgrades","sys_updated_on":"2022-05-26 18:06:09","sys_tags":"","record_for_rollback":"true","script":"makeTemplatesNonMandatory();\nmakeTemplatesRefQualsScripted();\nmakeNotificationUserFieldMandatory();\nrenameColumnLabel(AutoResolutionConstants.CONFIG_TABLE_NAME, \"notification_user\", \"Notification user\", \"Requester\");\nupdateTableAccess(AutoResolutionConstants.CONFIG_TABLE_NAME);\n\nfunction makeTemplatesNonMandatory() {\n\tvar templateNames = [\"task_resolution_template\", \"topic_completion_template\", \"unresolved_task_template\"];\n\ttemplateNames.forEach(function (templateName) {\n\t\tvar dictionaryGr = new GlideRecord(\"sys_dictionary\");\n\t\tdictionaryGr.addQuery(\"name\", AutoResolutionConstants.CONFIG_TABLE_NAME);\n\t\tdictionaryGr.addQuery(\"element\", templateName);\n\t\tdictionaryGr.query();\n\t\t\n\t\tif (dictionaryGr.next() && dictionaryGr.mandatory) {\n\t\t\tdictionaryGr.mandatory = false;\n\t\t\tdictionaryGr.update();\n\t\t\tgs.info('Executing IAR Fix Script: Successfully updated mandatory dictionary field for {0} element to false.', templateName);\n\t\t}\n\t});\n}\n\nfunction makeTemplatesRefQualsScripted() {\n\tvar templateNames = [\"task_assignment_template\", \"task_resolution_template\", \"topic_completion_template\", \"unresolved_task_template\"];\n\ttemplateNames.forEach(function (templateName) {\n\t\tvar dictionaryGr = new GlideRecord(\"sys_dictionary\");\n\t\tdictionaryGr.addQuery(\"name\", AutoResolutionConstants.CONFIG_TABLE_NAME);\n\t\tdictionaryGr.addQuery(\"element\", templateName);\n\t\tdictionaryGr.query();\n\n\t\tif (dictionaryGr.next()) {\n\t\t\tdictionaryGr.reference_qual = 'javascript:new AutoResolutionRefQualifier().getTemplates(current.target_table_name)';\n\t\t\tdictionaryGr.update();\n\t\t\tgs.info('Executing IAR Fix Script: Successfully updated reference qualifier dictionary field for {0} element to scripted method.', templateName);\n\t\t}\n\t});\n}\n\nfunction makeNotificationUserFieldMandatory() {\n\tvar elementName = \"notification_user\";\n\tvar dictionaryGr = new GlideRecord(\"sys_dictionary\");\n\tdictionaryGr.addQuery(\"name\", AutoResolutionConstants.CONFIG_TABLE_NAME);\n\tdictionaryGr.addQuery(\"element\", elementName);\n\tdictionaryGr.query();\n\t\t\n\tif (dictionaryGr.next() && !dictionaryGr.mandatory) {\n\t\tdictionaryGr.mandatory = true;\n\t\tdictionaryGr.update();\n\t\tgs.info('Executing IAR Fix Script: Successfully updated mandatory dictionary field for {0} element to true.', elementName);\n\t}\n\n}\n\nfunction renameColumnLabel(tableName, columnName, existingLabel, replaceWith) {\n\tvar sysDictionaryGr = new GlideRecord('sys_dictionary');\n\tsysDictionaryGr.addQuery('name', tableName);\n\tsysDictionaryGr.addQuery('element', columnName);\n\tsysDictionaryGr.addQuery('column_label', existingLabel);\n\tsysDictionaryGr.query();\n\t\n\tif (sysDictionaryGr.next()) {\n\t\tsysDictionaryGr.setValue('column_label', replaceWith);\n\t\tsysDictionaryGr.update();\n\t\t\n\t\tgs.info('Executing IAR Fix script: Replaced the label of column {0} from {1} with {2} on the table {3}', columnName, existingLabel, replaceWith, tableName);\n\t} \n}\n\nfunction updateTableAccess(tableName) {\n\tvar tableRec = new GlideRecord('sys_db_object');\n\ttableRec.addQuery('name', tableName); \n\ttableRec.query();\n\t\n\tif (tableRec.next()) {\n\t\ttableRec.setValue(\"create_access\", true);\n\t\ttableRec.setValue(\"update_access\", true);\n\t\ttableRec.update();\n\t}\n}\n","sys_class_name":"sys_script_fix","sys_id":"87bd466253b101100b6fddeeff7b12f9","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca4f3f704b52210559073c06a02f789","value":"aca4f3f704b52210559073c06a02f789"},"sys_update_name":"sys_script_fix_87bd466253b101100b6fddeeff7b12f9","sys_updated_by":"admin","sys_created_on":"2022-02-24 00:19:51","name":"Update field attributes for IAR Config","sys_name":"Update field attributes for IAR Config","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"","sys_updated_on":"2021-06-14 06:11:02","sys_tags":"","record_for_rollback":"false","script":"if (!pm.isZboot()) {\n    var gr = new GlideRecord('sys_dictionary');\n    gr.addQuery('name', 'sys_cs_virtual_agent_context');\n    gr.addQuery('element', 'live_agent_setup');\n    gr.query();\n    if (gr.next()) {\n        gr.setValue('reference_cascade_rule', 'delete');\n        gr.setValue('read_only', true);\n        gr.update();\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"87fe86a453303010d3d5ddeeff7b1207","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_87fe86a453303010d3d5ddeeff7b1207","sys_updated_by":"admin","sys_created_on":"2021-06-14 06:04:24","name":"Add Delete cascade rule to Context Var","sys_name":"Add Delete cascade rule to Context Var","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"2","description":"Remove check \"API calls to Security Incident Response should use accounts with user role sn_si\" and its suite mapping from security center. ","sys_updated_on":"2024-04-23 19:32:53","sys_tags":"","record_for_rollback":"false","script":"//delete the scan check\nvar gr = new GlideRecord(\"scan_script_only_check\");\ngr.setWorkflow(false);\ngr.addQuery(\"sys_id\",\"808004148713001001c8de05b7cb0b6e\");\ngr.query();\nif (gr.next())\n    gr.deleteRecord();\n\n//delete the scan_check and suite mapping\ngr = new GlideRecord(\"scan_check_suite_check\");\ngr.setWorkflow(false);\ngr.addQuery(\"sys_id\", \"52d225001b18101046e87733cd4bcbf1\");\ngr.query();\nif (gr.next())\n    gr.deleteRecord();","sys_class_name":"sys_script_fix","sys_id":"88b5ed99eca50210f877966c240e366c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7e473bbf04b52210559073c06a02f7f2","value":"7e473bbf04b52210559073c06a02f7f2"},"sys_update_name":"sys_script_fix_88b5ed99eca50210f877966c240e366c","sys_updated_by":"admin","sys_created_on":"2024-04-12 22:50:24","name":"Remove a scan check from security center","sys_name":"Remove a scan check from securit center","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","sys_policy":"read"},{"before":"false","unloadable":"false","sys_mod_count":"4","description":"Updates dictionary sys_sg_global_search.search_context_config column_label to Search Application Configuration","sys_updated_on":"2020-10-23 19:53:43","sys_tags":"","record_for_rollback":"false","script":"function updateSearchContextConfigLabel () {\n\tvar dict = new GlideRecord(\"sys_dictionary\");\n\t\tdict.addQuery(\"name\", \"sys_sg_global_search\");\n\t\tdict.addQuery(\"column_label\", \"Search Context Configuration\");\n\t\tdict.addQuery(\"element\", \"search_context_config\");\n\t\tdict.setLimit(1);\n\t\tdict.query();\n\t\twhile(dict.next()) {\n\t\t\tdict.setValue(\"column_label\", \"Search Application Configuration\");\n\t\t\tif (dict.update())\n\t\t\t\tgs.info(\"updated dictionary sys_sg_global_search.search_context_config column_label to Search Application Configuration\");\n\t\t\telse\n\t\t\t\tgs.error(\"failed to update dictionary sys_sg_global_search.search_context_config column_label to Search Application Configuration\");\n\t\t}\n}\nupdateSearchContextConfigLabel();","sys_class_name":"sys_script_fix","sys_id":"88f3802953002010f1c8ddeeff7b1225","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/75d42bbf04312210559073c06a02f78d","value":"75d42bbf04312210559073c06a02f78d"},"sys_update_name":"sys_script_fix_88f3802953002010f1c8ddeeff7b1225","sys_updated_by":"admin","sys_created_on":"2020-10-23 19:30:09","name":"search_context_config label update","sys_name":"search_context_config label update","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Validates the remote instance. Ensures there only exist one record with same instance_id.","sys_updated_on":"2013-08-20 19:02:10","sys_tags":"","record_for_rollback":"false","script":"\n        if(!pm.isZboot()) {\n\tvar gusw = new GlideUpdateSetWorker();\n\tvar gr = new GlideRecord(\"sys_update_set_source\");\n\tif(gr.isValid()) {\n\t\tgr.query();\n\t\tgr.setWorkflow(false);\n\t\twhile(gr.next()) {\n\t\t\tvar instanceId = gusw.validateConnection(gr.sys_id,gr.url, gr.username, gr.password, false, false);\n\t\t\tif(instanceId != null) {\n\t\t\t\tgr.instance_id = instanceId;\n\t\t\t\tgr.update();\n\t\t\t}\n\t\t}\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"8906c279d713010050f5edcb9e610308","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ff04a7f704312210559073c06a02f761","value":"ff04a7f704312210559073c06a02f761"},"sys_update_name":"sys_script_fix_8906c279d713010050f5edcb9e610308","sys_updated_by":"admin","sys_created_on":"2013-08-20 18:24:49","name":"Validate Remote Instance","sys_name":"Validate Remote Instance","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"10","description":"Migrate Knowledge V2 Topic and Category to KnowledgeV3 category","sys_updated_on":"2015-10-14 18:03:07","sys_tags":"","record_for_rollback":"false","script":"// - we want to create categories only within the  same Default Knowledge\n// - also the topic should be top level kb_category and category should be the next level\nvar target = new GlideRecord('kb_knowledge');\ntarget.addQuery('kb_knowledge_base', 'dfc19531bf2021003f07e2c1ac0739ab');\ntarget.query();\n\nwhile (target.next()) {\n\tgs.log(target.short_description);\n\tif(target.kb_category){\n\t\tgs.log(\"Kb Category already exists\");\n\t\tcontinue;\n\t}\n\tvar topic = target.topic;\n\tvar category = target.category;\n\tgs.log(topic+\" => \" + category);\n\t\n\t// ---- check if topic & category is present in category\n\tvar catRec = lookupTopicAndCategory(topic,category);\n\ttarget.kb_category = catRec.sys_id;\n\ttarget.update();\n}\n\n// -----------------------------\nfunction lookupCategory(category, parentSysId) {\n\tgs.log(\"===================== lookup category: \" + category + \" ========================\");\n\tvar target = new GlideRecord('kb_category');\n\tvar q = \"value=\" + category + \"^parent_id=\" + parentSysId;\n\tgs.log(q);\n\ttarget.addEncodedQuery(q);\n\ttarget.query();\n\twhile(target.next()) {\n\t\tgs.log(target.sys_id + \" -- \" + target.value + \" -- \" + target.label);\n\t\treturn target;\n\t}\n\treturn undefined;\n}\n\nfunction lookupTopicAndCategory(topic, category) {\n\tgs.log(\"===================== lookup \" + topic + \",\" + category + \" ========================\");\n\tif(!topic || topic.trim().length <= 0)\n\t\treturn;\n\tvar defaultKB = 'dfc19531bf2021003f07e2c1ac0739ab';\n\tvar topicRec = lookupCategory(topic, defaultKB);\n\t// if no topic, lets create one\n\tif(!topicRec) {\n\t\ttopicRec=createCategory(topic,topic, defaultKB, 'kb_knowledge_base');\n\t}\n\tgs.log(topicRec.sys_id);\n\tgs.log(topicRec.parent_id);\n\tgs.log(topicRec.label);\n\t\n\tif(!category || category.trim().length <= 0){\n\t\treturn topicRec;\n\t}\n\t// lets check the category - second level\n\tvar catRec = lookupCategory(category, topicRec.sys_id);\n\tif(!catRec) {\n\t\tcatRec = createCategory(category, category, topicRec.sys_id, 'kb_category');\n\t}\n\treturn catRec;\n}\n\nfunction createCategory(lbl, val, parentSysId, type) {\n\tgs.log(\"==> Create \" + lbl + \", val:\"+val+\", sys_id:\"+parentSysId);\n\tif(!lbl || !val || lbl.trim().length<=0 || val.trim().length<=0) return;\n\t\tvar gr = new GlideRecord('kb_category');\n\tgr.initialize();\n\tgr.setValue('label',lbl);\n\tgr.setValue('value', val);\n\tgr.setValue('parent_id', parentSysId);\n\tgr.setValue('parent_table', type);\n\tgr.insert();\n\tgs.log(\"----------- created ----- \" + gr.sys_id + \"  ------------------ \" + gr.parent_id);\n\treturn gr;\n}\n\n\n","sys_class_name":"sys_script_fix","sys_id":"8a53f4129f0302003be01050a57fcf0c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2fe727ff04b12210559073c06a02f7dd","value":"2fe727ff04b12210559073c06a02f7dd"},"sys_update_name":"sys_script_fix_8a53f4129f0302003be01050a57fcf0c","sys_updated_by":"admin","sys_created_on":"2015-10-14 00:09:01","name":"Migrate KnowledgeV2 Topic and Category ","sys_name":"Migrate KnowledgeV2 Topic and Category ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Update sys_sg_input.parameter_screen and sys_sg_variable.parameter_screen for compatibility with parameter sections","sys_updated_on":"2021-01-25 08:25:28","sys_tags":"","record_for_rollback":"false","script":"function updateParameterRecordsForSections() {\n\tvar gr = new GlideRecord('sys_dictionary');\n    gr.addQuery('name', \"IN\", 'sys_sg_input, sys_sg_variable');\n    gr.addQuery('element', 'parameter_screen');\n    gr.query();\n    while (gr.next()) {\n\t\tgr.setValue('mandatory', false);\n\t\tgr.setValue('read_only', false);\n\t\tgr.setWorkflow(false);\n\t\tgr.update();\n\t}\n}\n\nupdateParameterRecordsForSections();","sys_class_name":"sys_script_fix","sys_id":"8a6f6deb53b5a0100874ddeeff7b12c5","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b5f42bff04312210559073c06a02f748","value":"b5f42bff04312210559073c06a02f748"},"sys_update_name":"sys_script_fix_8a6f6deb53b5a0100874ddeeff7b12c5","sys_updated_by":"admin","sys_created_on":"2021-01-25 08:25:28","name":"Update input and variable for sections","sys_name":"Update input and variable for sections","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"true","sys_mod_count":"10","description":"This fix script pushes the below existing records to the current Update Set.\r\n--sys_authentication_policy_criteria_m2m\r\n-- multi_factor_criteria\r\n--sys_ip_address_subnet\r\n--sys_auth_policy_criteria_group","sys_updated_on":"2022-10-19 06:03:35","sys_tags":"","record_for_rollback":"true","script":"moveRecordsToUpdateSet();\n\nfunction moveRecordsToUpdateSet(){\n\tif (pm.isZboot()) {\n        return;\n    }\n\n    moveTableRecordsToUpdateSetUtil('sys_authentication_policy_criteria_m2m');\n    moveTableRecordsToUpdateSetUtil('multi_factor_criteria');\n    moveTableRecordsToUpdateSetUtil('sys_ip_address_subnet');\n    moveTableRecordsToUpdateSetUtil('sys_auth_policy_criteria_group');\n}\n\nfunction moveTableRecordsToUpdateSetUtil(tableName){\n    gs.info(gs.getMessage(\"Started running fix job to record Update Set: {0}\", tableName));\n    try {\n        var gr = new GlideRecord(tableName);\n        if (!gr.isValid()) {\n            gs.error(gs.getMessage(\"Table not found: {0}\", tableName));\n            return;\n        }\n        gr.query();\n        while (gr.next()) {\n            (new GlideUpdateManager2()).saveRecord(gr);\n        }\n        gs.info(gs.getMessage(\"Completed running fix job to record Update Set: {0}\", tableName));\n    } catch (e) {\n        gs.error(gs.getMessage(\"Exception occurred while running fix job to record Update Set : {0}\", e.message));\n    }\n}\n","sys_class_name":"sys_script_fix","sys_id":"8a9b37c7254a0110f877a8e0a3212fab","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c46ca73b04352210559073c06a02f75c","value":"c46ca73b04352210559073c06a02f75c"},"sys_update_name":"sys_script_fix_8a9b37c7254a0110f877a8e0a3212fab","sys_updated_by":"admin","sys_created_on":"2022-03-10 07:53:55","name":"MoveRecordsToUpdateSet","sys_name":"MoveRecordsToUpdateSet","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"4","description":"This script captures the data from XML field on the records of 'CMDB Baseline Entry' table and copies it to a new attachment on the same record. Only one attachment will be created if and only if there is no attachment already. Once eveyrthing is converted, please set following property to true: com.cmdb.baseline.entry.attachment\r\nAfter setting that property to true, 'CMDB Baseline Diff' formatter will be using the attachment to find the diff and read the XML in streaming fashion to avoid excessive memory usage. If the property is set to false, it will fallback to using old code which uses existing XML field to find the diff, and which can use more memory.","sys_updated_on":"2023-04-17 16:40:50","sys_tags":"","record_for_rollback":"false","script":"function copyBLEXMLToAttachment(entryId) {\n    // check for baseline entry record\n    var grBLEntry = new GlideRecord('cmdb_baseline_entry');\n    if (!grBLEntry.get(entryId)) {\n        gs.log('Failed to find Baseline entry record for sys_id:' + entryId);\n        return;\n    }\n\n    // check for existing attachment for baseline entry record\n    var grAttachment = new GlideRecord('sys_attachment');\n    grAttachment.addEncodedQuery('table_name=cmdb_baseline_entry^table_sys_id=' + entryId);\n    grAttachment.query();\n    if (grAttachment.getRowCount() != 0) {\n        gs.log('Found existing attachment(s) for baseline entry record with sys_id:' + entryId);\n        return;\n    }\n\n    // validate XML data\n    var xmlString = grBLEntry.getValue('baseline_xml');\n    if (!xmlString || xmlString.toString() == \"\") {\n        gs.log('No data found in XML field for baseline entry with sys_id:' + entryId);\n        return;\n    }\n\ttry{\n\t\tvar xmlDoc = new XMLDocument2();\n\t\txmlDoc.parseXML(xmlString);\n\t\tif (!xmlDoc || xmlDoc.toString() == \"\") {\n\t\t\tgs.log('Contents of XML field are not valid XML for baseline entry with sys_id:' + entryId);\n\t\t\treturn;\n\t\t}\n\t} catch(err) {\n\t\tgs.error('Problem parsing XML field for CMDB Baseline Entry with sys_id:' + entryId + '. Error:' + err.message);\n\t\treturn;\n\t}\n\n    // create the attachment\n    var att = new GlideSysAttachment();\n    var attachmentId = att.write(grBLEntry, 'xml_' + entryId + '.xml', 'application/xml', xmlDoc.toString());\n    gs.log('Attachment created successfully with attachment sys_id:' + attachmentId);\n}\n\nif(gs.getProperty('com.cmdb.baseline.entry.attachment')) {\n    var grEntry = new GlideRecord('cmdb_baseline_entry');\n    grEntry.orderBy('baseline');\n    grEntry.query();\n    while (grEntry.next()) {\n        copyBLEXMLToAttachment(grEntry.getUniqueValue());\n    }\n} else {\n    gs.log('com.cmdb.baseline.entry.attachment property is not set to true, so skipping attachment creation for baseline entries. Please, run this fix script after enabling that property');\n}\n","sys_class_name":"sys_script_fix","sys_id":"8b42fd8453d52110af64ddeeff7b1295","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_8b42fd8453d52110af64ddeeff7b1295","sys_updated_by":"admin","sys_created_on":"2023-02-23 23:48:26","name":"CMDB Baseline convert XML to attachment","sys_name":"CMDB Baseline convert XML to attachment","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Add a choice_script attribute to trigger_action field in trigger_rule table","sys_updated_on":"2021-03-10 16:06:16","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tif (pm.isZboot())\n        return;\n    var triggerRuleGR = new GlideRecord('sys_dictionary');\n    triggerRuleGR.addQuery('name', 'trigger_rule');\n    triggerRuleGR.addQuery('element', 'trigger_action');\n    triggerRuleGR.query();\n    if (triggerRuleGR.next()) {\n        var gAttr = new GlideAttributes(triggerRuleGR.getValue('attributes'));\n        gAttr.setAttribute('choice_script', 'new global.OnCallSecurityNG().getTriggerActionChoices()');\n        triggerRuleGR.setValue('attributes', gAttr.serializeAttributes());\n        triggerRuleGR.update();\n    }\n})();","sys_class_name":"sys_script_fix","sys_id":"8babf17dc3322010f208ce72a740ddaa","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_script_fix_8babf17dc3322010f208ce72a740ddaa","sys_updated_by":"admin","sys_created_on":"2021-03-10 16:06:16","name":"Update trigger_action attributes","sys_name":"Update trigger_action attributes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"","sys_updated_on":"2021-06-10 00:07:14","sys_tags":"","record_for_rollback":"false","script":"var algoFieldDictionary = new GlideRecord('sys_dictionary');\nalgoFieldDictionary.addQuery('name', 'sys_kmf_algorithm');\nalgoFieldDictionary.addQuery('element', 'algorithm');\nalgoFieldDictionary.addQuery('default_value', 'aes');\nalgoFieldDictionary.query();\nif (algoFieldDictionary.next()) {\n\talgoFieldDictionary.default_value = 'AES';\n\talgoFieldDictionary.update();\n}","sys_class_name":"sys_script_fix","sys_id":"8bb410535b2030106cdba88ddc81c798","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7f83a3f304312210559073c06a02f787","value":"7f83a3f304312210559073c06a02f787"},"sys_update_name":"sys_script_fix_8bb410535b2030106cdba88ddc81c798","sys_updated_by":"admin","sys_created_on":"2021-06-09 23:58:27","name":"Fix sys_kmf_algorithm default aes to AES","sys_name":"Fix sys_kmf_algorithm default aes to AES","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"sysrule_view_workspace: set table & view to mandatory and view depends on table","sys_updated_on":"2019-08-06 21:42:19","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('sys_dictionary');\ngr.addQuery('element', 'table').addOrCondition('element', 'view');\ngr.addQuery('name', 'sysrule_view_workspace');\ngr.query();\nwhile (gr.next()) {\n\tvar changed = false;\n\tvar element = gr.getValue('element');\n\tif (gr.getValue('mandatory') == true)\n\t\tgs.info(\"mandatory value for sysrule_view_workspace.\" + element + \" is already true\");\n\telse {\n\t\tgr.setValue('mandatory', true);\n\t\tgs.info(\"Set mandatory value for sysrule_view_workspace.\" + element + \" to true\");\n\t\tchanged = true;\n\t}\n\tif ('view' == element) {\n\t\tif ('table' == gr.getValue('dependent'))\n\t\t\tgs.info(\"sysrule_view_workspace.view already has 'table' for dependent field\");\n\t\telse {\n\t\t\tgr.setValue('dependent', 'table');\n\t\t\tgs.info(\"Set dependent value for sysrule_view_workspace.view to 'table'\");\n\t\t\tchanged = true;\n\t\t}\n\t\t\n\t\tif ('table' == gr.getValue('dependent_on_field'))\n\t\t\tgs.info(\"sysrule_view_workspace.view already has 'table' for dependent_on_field field\");\n\t\telse {\n\t\t\tgr.setValue('dependent_on_field', 'table');\n\t\t\tgs.info(\"Set dependent_on_field value for sysrule_view_workspace.view to 'table'\");\n\t\t\tchanged = true;\n\t\t}\n\t}\n\tif (changed) {\n\t\tgr.setWorkFlow(false);\n\t\tgr.setUseEngines(false);\n\t\tgr.update();\n\t}\n}\n\n","sys_class_name":"sys_script_fix","sys_id":"8bdc1d22c7433300cff9337bf4c2601f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ba9c2f7b04352210559073c06a02f7cb","value":"ba9c2f7b04352210559073c06a02f7cb"},"sys_update_name":"sys_script_fix_8bdc1d22c7433300cff9337bf4c2601f","sys_updated_by":"admin","sys_created_on":"2019-08-06 19:39:38","name":"set table & view to mandatory","sys_name":"set table & view to mandatory","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"sys_number for transfer order and transfer order line are missing in older instances where Asset Management plugin was activated prior to the existence of these sys_number definitions. ","sys_updated_on":"2016-08-18 19:52:43","sys_tags":"","record_for_rollback":"false","script":"populateTransOrderNumEntry();\npopulateTransOrderLineNumEntry();\n\nfunction populateTransOrderNumEntry(){\n\tvar sysNumberGr = new GlideRecord('sys_number');\n\tsysNumberGr.addQuery('category', 'alm_transfer_order');\n\tsysNumberGr.query();\n\t\n\tif(!sysNumberGr.next()) {\n\t\tsysNumberGr.initialize();\n\t\tsysNumberGr.category = 'alm_transfer_order';\n\t\tsysNumberGr.maximum_digits = '7';\n\t\tsysNumberGr.number = '10000';\n\t\tsysNumberGr.prefix = 'TO';\n\t\tsysNumberGr.insert();\n\t}\n}\n\nfunction populateTransOrderLineNumEntry(){\n\tvar sysNumberGr = new GlideRecord('sys_number');\n\tsysNumberGr.addQuery('category', 'alm_transfer_order_line');\n\tsysNumberGr.query();\n\t\n\tif(!sysNumberGr.next()) {\n\t\tsysNumberGr.initialize();\n\t\tsysNumberGr.category = 'alm_transfer_order_line';\n\t\tsysNumberGr.maximum_digits = '7';\n\t\tsysNumberGr.number = '10000';\n\t\tsysNumberGr.prefix = 'TOL';\n\t\tsysNumberGr.insert();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"8c35980a6711220023c187cb5685efe0","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/45672bfb04b12210559073c06a02f7c5","value":"45672bfb04b12210559073c06a02f7c5"},"sys_update_name":"sys_script_fix_8c35980a6711220023c187cb5685efe0","sys_updated_by":"admin","sys_created_on":"2016-08-18 19:52:43","name":"Fix table transfer order/order line","sys_name":"Fix table transfer order/order line","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"12","description":"Enable Workflow Similarity as the default similarity capability","sys_updated_on":"2024-10-16 06:21:12","sys_tags":"","record_for_rollback":"true","script":"(function() {\n    var sys_gr = new GlideRecord(\"sys_properties\");\n    sys_gr.addQuery(\"sys_id\", \"a861b547eb302110e4aaf288b552281a\");\n    sys_gr.query();\n    if (sys_gr.next()) {\n        if (sys_gr.getValue(\"value\") != \"true\") {\n            sys_gr.setValue(\"value\", true);\n            sys_gr.update();\n            gs.info(\"Workflow Similarity is enabled as default similarity capability\");\n        } else {\n            gs.info(\"Workflow Similarity is already enabled as default similarity capability\");\n        }\n\n    } else {\n        gs.info(\"Enable Workflow Similarity sys property is not found\");\n    }\n\n}());","sys_class_name":"sys_script_fix","sys_id":"8c9668557f511210802567062d86655f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_script_fix_8c9668557f511210802567062d86655f","sys_updated_by":"admin","sys_created_on":"2024-10-16 04:06:58","name":"Enable workflow similarity","sys_name":"Auto enable workflow similarity","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"5","description":"For all Query Builder result tables, introduce ignore_baseline attribute so that result records don't show up in baseline diff on CI forms.","sys_updated_on":"2020-11-10 22:24:09","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tgs.log('Adding Ignore Baseline attribute on all existing CMDB Query Builder result tables');\n    var grAttr = new GlideRecord('sys_schema_attribute');\n    if (!grAttr.get('name', 'ignore_baseline')) {\n        gs.error('Ignore Baseline attribute not found');\n        return;\n    }\n\n    var ignoreBaselineId = grAttr.getValue('sys_id');\n\n    var grResultTables = GlideDBObjectManager.get().getTableExtensions('cmdb_qb_result_base').toArray();\n\tvar tables = [];\n\tfor (var i=0; i < grResultTables.length; i++) {\n\t\ttables.push(grResultTables[i]);\n\t}\n    var grDBO = new GlideRecord('sys_dictionary');\n    grDBO.addQuery('internal_type', 'collection');\n    grDBO.addQuery('name', 'IN', tables);\n    grDBO.query();\n\n    while (grDBO.next()) {\n        var tableName = grDBO.getValue('name');\n        var edSysId = grDBO.getValue('sys_id');\n\n        var grSchema = new GlideRecord('sys_schema_attribute_m2m');\n        grSchema.initialize();\n        grSchema.setValue('schema', edSysId);\n        grSchema.setValue('attribute', ignoreBaselineId);\n        if(grSchema.insert()) {\n\t\t\tgs.log('Adding Ignore Baseline attribute to the table: ' + tableName);\n\t\t}\n    }\n})();","sys_class_name":"sys_script_fix","sys_id":"8ce88c47731c201061b79c0c6df6a7e3","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_8ce88c47731c201061b79c0c6df6a7e3","sys_updated_by":"admin","sys_created_on":"2020-11-10 07:31:11","name":"Ignore Baseline for all QB result tables","sys_name":"Ignore Baseline for all QB result tables","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Update address filter type choice labels","sys_updated_on":"2020-08-31 14:53:14","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tupdateChoiceLabel(\"Blacklist\");\n\tupdateChoiceLabel(\"Whitelist\");\n\n\tfunction updateChoiceLabel(type) {\n\t\t// Get all targeted sys_choice entries\n\t\tvar choiceValues = new GlideRecord(\"sys_choice\");\n\t\tif (type == \"Blacklist\")\n\t\t\tchoiceValues.addQuery(\"value\", \"Blacklist\");\n\t\telse\n\t\t\tchoiceValues.addQuery(\"value\", \"Whitelist\");\n\n\t\tchoiceValues.addQuery(\"name\", \"sys_email_address_filter\");\n\t\tchoiceValues.addQuery(\"element\", \"type\");\n\t\tchoiceValues.query();\n\n\t\twhile(choiceValues.next()) {\n\t\t\t// Identify language for this sys_choice entry\n\t\t\tvar language = choiceValues.language;\n\t\t\tif (!language) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Ensure a translation for the affected string exists (unless the language is en)\n\t\t\tif (language != \"en\") {\n\t\t\t\tvar translation = new GlideRecord(\"sys_ui_message\");\n\t\t\t\tif (type == \"Blacklist\")\n\t\t\t\t\ttranslation.addQuery(\"key\", \"Deny List\");\n\t\t\t\telse\n\t\t\t\t\ttranslation.addQuery(\"key\", \"Allow List\");\n\t\t\t\ttranslation.addQuery(\"language\", language);\n\t\t\t\ttranslation.setLimit(1);\n\t\t\t\ttranslation.query();\n\n\t\t\t\t// Skip if no sys_message translation so we don't replace with the English translation\n\t\t\t\tif(!translation.hasNext()) {\n\t\t\t\t\tif (type == \"Blacklist\")\n\t\t\t\t\t\tgs.log(\"No translation exists for Deny List in \" + language);\n\t\t\t\t\telse\n\t\t\t\t\t\tgs.log(\"No translation exists for Allow List in \" + language);\n\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (type == \"Blacklist\")\n\t\t\t\tchoiceValues.label = gs.getMessageLang(\"Deny List\", language);\n\t\t\telse\n\t\t\t\tchoiceValues.label = gs.getMessageLang(\"Allow List\", language);\n\n\t\t\tchoiceValues.setWorkflow(false);\n\t\t\tchoiceValues.update();\n\t\t}\n\t}\n})();","sys_class_name":"sys_script_fix","sys_id":"8ea486905303101093cbddeeff7b123b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/eec96fbb04f12210559073c06a02f711","value":"eec96fbb04f12210559073c06a02f711"},"sys_update_name":"sys_script_fix_8ea486905303101093cbddeeff7b123b","sys_updated_by":"admin","sys_created_on":"2020-08-31 14:53:14","name":"Update address filter type choice labels","sys_name":"Update address filter type choice labels","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"The table sys_atf_whitelist was renamed from 'Whitelisted Client Errors' to 'Allowed Client Errors'. Update the label for this table's sys_db_object record and sys_documentation record. Update label for whitelisted_client_error column in sys_atf_test_result_item to 'Allowed client error'.","sys_updated_on":"2020-09-17 20:11:51","sys_tags":"","record_for_rollback":"false","script":"if (!pm.isZboot()) {\n\tvar newLabel = \"Allowed Client Error\";\n\t// change label on sys_db_object\n\tvar dbObj = new GlideRecord(\"sys_db_object\");\n\tdbObj.addQuery(\"name\", \"sys_atf_whitelist\");\n\tdbObj.query();\n\tif (dbObj.next()) {\n\t\tvar currentLabel = dbObj.getValue(\"label\");\n\t\tif (currentLabel != newLabel) {\n\t\t\tdbObj.setValue(\"label\", newLabel);\n\t\t\tdbObj.update();\n\t\t\tgs.log(\"Changed sys_db_object label for sys_atf_whitelist to \" + newLabel);\n\t\t} else {\n\t\t\tgs.log(\"sys_db_object label for sys_atf_whitelist is already \" + currentLabel);\n\t\t}\n\t}\n\n\t// change plural label on sys_documentation\n\tvar newLabelPlural = \"Allowed Client Errors\";\n\tvar docObj = new GlideRecord(\"sys_documentation\");\n\tdocObj.addQuery(\"name\", \"sys_atf_whitelist\");\n\tdocObj.addQuery(\"language\", \"en\");\n\tdocObj.addNullQuery(\"element\");\n\tdocObj.query();\n\tif(docObj.next()){\n\t\tvar currentPlural = docObj.getValue(\"plural\");\n\t\tif (currentPlural != newLabelPlural) {\n\t\t\tdocObj.setValue(\"plural\", newLabelPlural);\n\t\t\tdocObj.update();\n\t\t\tgs.log(\"Changed sys_documentation plural label for sys_atf_whitelist to \" + newLabelPlural);\n\t\t} else {\n\t\t\tgs.log(\"sys_documentation plural label for sys_atf_whitelist is already \" + currentPlural);\n\t\t}\n\t}\n\t\n\t// change label on whitelisted_client_error column in sys_atf_test_result_item\n\tvar newColName = \"Allowed client error\";\n\tvar dictObj = new GlideRecord(\"sys_dictionary\");\n\tdictObj.addQuery(\"name\", \"sys_atf_test_result_item\");\n\tdictObj.addQuery(\"element\", \"whitelisted_client_error\");\n\tdictObj.query();\n\tif (dictObj.next()) {\n\t\tvar currentColName = dictObj.getValue(\"column_label\");\n\t\tif (currentColName != newColName) {\n\t\t\tdictObj.setValue(\"column_label\", newColName);\n\t\t\tdictObj.setValue(\"sys_name\", newColName);\n\t\t\tdictObj.update();\n\t\t\tgs.log(\"Changed sys_dictionary label for whitelisted_client_error to \" + newColName);\n\t\t} else {\n\t\t\tgs.log(\"sys_dictionary label for whitelisted_client_error is already \" + currentColName);\n\t\t}\n\t\t\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"8eb2be310f1310104021f00c97767eec","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/da89277b04f12210559073c06a02f7d6","value":"da89277b04f12210559073c06a02f7d6"},"sys_update_name":"sys_script_fix_8eb2be310f1310104021f00c97767eec","sys_updated_by":"admin","sys_created_on":"2020-09-17 20:03:53","name":"Change sys_atf_whitelist label","sys_name":"Change sys_atf_whitelist label","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"","sys_updated_on":"2022-12-15 07:46:48","sys_tags":"","record_for_rollback":"true","script":"gs.info('syncOrgFieldsToAssignedEntity: starting migration');\n\n// Not dynamically fetching the tables as this the config OOB and will run during upgrade.\nvar fieldToTables = {\n\t\"business_unit\":\"business_unit\",\n\t\"department\":\"cmn_department\",\n\t\"company\":\"core_company\",\n\t\"portfolio\":\"pm_portfolio\"\n}\n\nvar isPortfolioMgmtInstalled = GlidePluginManager.isActive('com.snc.portfolio_management');\nvar encodedQuery = '';\n\nif(isPortfolioMgmtInstalled)\n\tencodedQuery =\"business_unitISNOTEMPTY^ORcompanyISNOTEMPTY^ORdepartmentISNOTEMPTY^ORportfolioISNOTEMPTY^assigned_entity=\";\nelse\n\tencodedQuery = \"business_unitISNOTEMPTY^ORcompanyISNOTEMPTY^ORdepartmentISNOTEMPTY^assigned_entity=\";\n\n\n// query all goal records where org fields are populated and Assigned entity is empty\nvar gr = new GlideRecord('sn_gf_goal');\ngr.addEncodedQuery(encodedQuery);\ngr.query();\n\nif(!gr.hasNext())\n\tgs.info('syncOrgFieldsToAssignedEntity: No record found to modify');\nelse\n\tgs.info('syncOrgFieldsToAssignedEntity: Total records found to modify: ' + gr.getRowCount());\n\n//update the assigned entity field.\nvar count = 0;\nwhile(gr.next()){\n\t try{\n\t\tif (!gs.nil(gr.getValue('business_unit'))) {\n\t\t\tgr.setValue('assigned_entity_type', fieldToTables['business_unit']);\n\t\t\tgr.setValue('assigned_entity', gr.getValue('business_unit'));\n\t\t} else if (!gs.nil(gr.getValue('department'))) {\n\t\t\tgr.setValue('assigned_entity_type', fieldToTables['department']);\n\t\t\tgr.setValue('assigned_entity', gr.getValue('department'))\n\t\t} else if (!gs.nil(gr.getValue('company'))) {\n\t\t\tgr.setValue('assigned_entity_type', fieldToTables['company']);\n\t\t\tgr.setValue('assigned_entity', gr.getValue('company'))\n\t\t} else if (isPortfolioMgmtInstalled && !gs.nil(gr.getValue('portfolio'))) {\n\t\t\tgr.setValue('assigned_entity_type', fieldToTables['portfolio']);\n\t\t\tgr.setValue('assigned_entity', gr.getValue('portfolio'))\n\t    }\n\t\tif(!gs.nil(gr.getValue('assigned_entity'))){\n\t\t\tif(gr.update())\n\t\t\t  count++;\n\t\t}\n\t }\n\t catch(error){\n\t\t gs.info('syncOrgFieldsToAssignedEntity: Failed to update Assigned Entity for Goals Record Id: ' + gr.getValue('sys_id') + ' Error: ' + JSON.stringify(error));\n\t }\n}\n\ngs.info('syncOrgFieldsToAssignedEntity: Total records modified: ' + count);\ngs.info('syncOrgFieldsToAssignedEntity: ending migration');\n\n\n\n\n","sys_class_name":"sys_script_fix","sys_id":"8ecb7fd2eb6711102a11b5bf1a522844","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/11879041532030103913ddeeff7b12d8","value":"11879041532030103913ddeeff7b12d8"},"sys_update_name":"sys_script_fix_8ecb7fd2eb6711102a11b5bf1a522844","sys_updated_by":"admin","sys_created_on":"2022-12-06 09:40:31","name":"syncOrgFieldsToAssignedEntity","sys_name":"syncOrgFieldsToAssignedEntity","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/11879041532030103913ddeeff7b12d8","value":"11879041532030103913ddeeff7b12d8"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Adds the Risk Details field decoration to the Risk field on Change Request","sys_updated_on":"2020-04-18 13:49:27","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tif (pm.isZboot())\n\t\treturn;\n\n\tvar table = \"change_request\";\n\tvar column = \"risk\";\n\tvar newAttrib = \"change_risk_details\";\n\n\tvar dictGr = new GlideRecord(\"sys_dictionary\");\n\tdictGr.addQuery(\"name\", table);\n\tdictGr.addQuery(\"element\", column);\n\tdictGr.query();\n\tif (dictGr.next()) {\n\t\tvar attributes = new GlideAttributes(dictGr.getValue(\"attributes\"));\n\t\tvar origFieldDecorations = attributes.getAttribute(\"field_decorations\");\n\t\tvar newFieldDecorations = origFieldDecorations;\n\t\t\n\t\tif (!newFieldDecorations)\n\t\t\tnewFieldDecorations = newAttrib;\n\t\telse if (newFieldDecorations.indexOf(newAttrib) === -1)\n\t\t\tnewFieldDecorations += \";\" + newAttrib;\n\n\t\tif (newFieldDecorations !== origFieldDecorations)\n\t\t\tSNC.DictionaryAttribute.set(table, column, \"field_decorations\", newFieldDecorations);\n\t}\n})();","sys_class_name":"sys_script_fix","sys_id":"8f5a667073901010dff9d1bd04f6a7fb","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/32b7af7f04b12210559073c06a02f7fb","value":"32b7af7f04b12210559073c06a02f7fb"},"sys_update_name":"sys_script_fix_8f5a667073901010dff9d1bd04f6a7fb","sys_updated_by":"admin","sys_created_on":"2020-04-18 13:45:35","name":"Chg - Add Risk field decoration","sys_name":"Chg - Add Risk field decoration","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"22","description":"","sys_updated_on":"2024-06-10 09:44:00","sys_tags":"","record_for_rollback":"true","script":"function deactiveDuplicateActions() {\n    var actions = [{\n            original: \"7a02029353c4230005ecddeeff7b123b\",\n            duplicate: \"ca8982cd77300110b3771aceca5a9997\"\n        },\n        {\n            original: \"eb06a7ee536033009651ddeeff7b12ee\",\n            duplicate: \"6f57c24d77300110b3771aceca5a9950\"\n        },\n        {\n            original: \"f9bfc01987012300fb3ad61e36cb0bc5\",\n            duplicate: \"bb335a0977700110b3771aceca5a9919\"\n        }\n    ];\n    var duplicateActions = actions.map(function(action) {\n        return action.duplicate;\n    });\n    var duplicateActionConfigs = [];\n    var tableConfigArray = getActiveTableConfigs();\n\n    tableConfigArray.forEach(function(configSysId) {\n        actions.forEach(function(action) {\n            var searchActionConfig = new GlideAggregate(\"cxs_ui_action_config\");\n            searchActionConfig.addQuery(\"search_ui_config\", configSysId);\n            searchActionConfig.addQuery(\"search_ui_action\", \"IN\", [action.original, action.duplicate].join(\",\"));\n            searchActionConfig.groupBy(\"search_res_config\");\n            searchActionConfig.addAggregate(\"GROUP_CONCAT\", \"sys_id\");\n            searchActionConfig.query();\n\n            while (searchActionConfig.next()) {\n                if (searchActionConfig.getAggregate(\"GROUP_CONCAT\", \"sys_id\").split(\",\").length > 1)\n                    duplicateActionConfigs.push(searchActionConfig.getAggregate(\"GROUP_CONCAT\", \"sys_id\"));\n            }\n        });\n    });\n\n    var searchActionConfig = new GlideRecord(\"cxs_ui_action_config\");\n    searchActionConfig.addQuery(\"sys_id\", \"IN\", duplicateActionConfigs.join(\",\"));\n    searchActionConfig.addQuery(\"search_ui_action\", \"IN\", duplicateActions.join(\",\"));\n    searchActionConfig.query();\n    while (searchActionConfig.next()) {\n        gs.info(\"Deactivating duplicate action config: \" + searchActionConfig.getUniqueValue());\n        searchActionConfig.setValue(\"active\", false);\n        searchActionConfig.update();\n    }\n\n    deactivateEmptyActionConfigs();\n}\n\nfunction getActiveTableConfigs() {\n    var tableConfigGr = new GlideRecord(\"cxs_table_config\");\n    tableConfigGr.addQuery(\"active\", true);\n    tableConfigGr.query();\n    var tableConfigs = [];\n    while (tableConfigGr.next()) {\n        tableConfigs.push(tableConfigGr.getUniqueValue());\n    }\n    return tableConfigs;\n}\n\nfunction deactivateEmptyActionConfigs() {\n    var actionConfigGR = new GlideRecord(\"cxs_ui_action_config\");\n    actionConfigGR.addEncodedQuery(\"search_ui_actionISEMPTY\");\n    actionConfigGR.query();\n    while (actionConfigGR.next()) {\n        gs.info(\"Deactivating action config: \" + actionConfigGR.getUniqueValue());\n        actionConfigGR.setValue(\"active\", false);\n        actionConfigGR.update();\n    }\n}\n\ndeactiveDuplicateActions();","sys_class_name":"sys_script_fix","sys_id":"8f8342b077e60210c9ee78dabd5a993a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/49aff4bb733320103e366238edf6a70f","value":"49aff4bb733320103e366238edf6a70f"},"sys_update_name":"sys_script_fix_8f8342b077e60210c9ee78dabd5a993a","sys_updated_by":"admin","sys_created_on":"2024-05-31 04:37:49","name":"Deactivate duplicate cxs actions","sys_name":"Deactivate duplicate cxs actions","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/49aff4bb733320103e366238edf6a70f","value":"49aff4bb733320103e366238edf6a70f"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2022-04-22 00:53:09","sys_tags":"","record_for_rollback":"true","script":"\n    updateAisSearchSourceToAisDatasoureReference();\n\n    function updateAisSearchSourceToAisDatasoureReference() {\n      var glideRecord = new GlideRecord(\"sys_dictionary\");\n      glideRecord.addQuery(\"element\", \"datasource\");\n      glideRecord.addQuery(\"name\", \"ais_search_source\");\n      glideRecord.query();\n\n      if(!glideRecord.next()){\n        return;\n      }\n\n      glideRecord.setValue(\"reference_qual\", \"active=true^EQ\");\n      glideRecord.update();\n    }\n","sys_class_name":"sys_script_fix","sys_id":"8f87b33053c301107815ddeeff7b1275","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/76946b3f04312210559073c06a02f73b","value":"76946b3f04312210559073c06a02f73b"},"sys_update_name":"sys_script_fix_8f87b33053c301107815ddeeff7b1275","sys_updated_by":"admin","sys_created_on":"2022-04-22 00:53:09","name":"Add RefQualifier for AIS Search Source","sys_name":"Add RefQualifier for AIS Search Source","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"4","description":"","sys_updated_on":"2022-10-06 15:25:38","sys_tags":"","record_for_rollback":"false","script":"    if (pm.isZboot()) {\n\t\tgs.setProperty('change.conflict.refresh.conflicts', 'true');\n\t\tgs.setProperty('change.conflict.mode', 'advanced');\n\t}\n","sys_class_name":"sys_script_fix","sys_id":"8fc9d311d7810200d82ba1737e610398","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d00ba33304352210559073c06a02f77e","value":"d00ba33304352210559073c06a02f77e"},"sys_update_name":"sys_script_fix_8fc9d311d7810200d82ba1737e610398","sys_updated_by":"admin","sys_created_on":"2015-07-03 23:42:55","name":"Enable conflict refresh on zboot","sys_name":"Enable conflict refresh on zboot","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"\n\t\t\tAdding assignment_group column dependency in assigned_to column\n\t\t","sys_updated_on":"2020-04-15 10:48:09","sys_tags":"","record_for_rollback":"false","script":"\n\t\t\n\t\taddDependentAttributeInAssignedTo(); function addDependentAttributeInAssignedTo() { var gr = new GlideRecord(\"sys_dictionary\"); gr.addQuery(\"name\", \"interaction\"); gr.addQuery(\"element\", \"assigned_to\"); gr.query(); while (gr.next()) { gr.setValue(\"dependent\", \"assignment_group\"); gr.update(); } }","sys_class_name":"sys_script_fix","sys_id":"8ff4e237fc001010f87746707ca9d1b4","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/989c2b7b04352210559073c06a02f7cc","value":"989c2b7b04352210559073c06a02f7cc"},"sys_update_name":"sys_script_fix_8ff4e237fc001010f87746707ca9d1b4","sys_updated_by":"admin","sys_created_on":"2020-04-15 10:48:09","name":"Add Dependent attribute in Assigned to","sys_name":"Add Dependent attribute in Assigned to","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2024-03-05 18:14:23","sys_tags":"","record_for_rollback":"true","script":"// Change process type table label\ngr = new GlideRecord('sys_db_object');\ngr.addQuery('name', 'sys_pd_process_type');\ngr.query();\nif (gr.next()) {\n\tgr.setValue('label', 'Playbook Type');\n\tgr.update();\n}\ngr = new GlideRecord('sys_documentation');\ngr.addQuery('name', 'sys_pd_process_type');\ngr.query();\nif (gr.next()) {\n\tgr.setValue('label', 'Playbook Type');\n\tgr.setValue('plural', 'Playbook Types');\n\tgr.update();\n}\ngr = new GlideRecord('sys_app_module');\ngr.addQuery('name', 'sys_pd_process_type');\ngr.query();\nif (gr.next()) {\n\tgr.setValue('sys_name', 'Playbook Type');\n\tgr.update();\n}\n\n// Change process type label in panel override table\ngr = new GlideRecord('sys_dictionary');\ngr.addQuery('name', 'sys_pd_panel_override');\ngr.addQuery('element', 'process_type');\ngr.query();\nif (gr.next()) {\n\tgr.setValue('column_label', 'Playbook type');\n\tgr.update();\n}\ngr = new GlideRecord('sys_documentation');\ngr.addQuery('name', 'sys_pd_panel_override');\ngr.addQuery('element', 'process_type');\ngr.query();\nif (gr.next()) {\n\tgr.setValue('label', 'Playbook type');\n\tgr.setValue('plural', 'Playbook types');\n\tgr.update();\n}\n\n// Change process type label in process definition table\ngr = new GlideRecord('sys_dictionary');\ngr.addQuery('name', 'sys_pd_process_definition');\ngr.addQuery('element', 'process_type');\ngr.query();\nif (gr.next()) {\n\tgr.setValue('column_label', 'Playbook type');\n\tgr.update();\n}\ngr = new GlideRecord('sys_documentation');\ngr.addQuery('name', 'sys_pd_process_definition');\ngr.addQuery('element', 'process_type');\ngr.query();\nif (gr.next()) {\n\tgr.setValue('label', 'Playbook type');\n\tgr.setValue('plural', 'Playbook types');\n\tgr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"8ffaf009b7348610255764fdde11a981","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/903e67b304752210559073c06a02f757","value":"903e67b304752210559073c06a02f757"},"sys_update_name":"sys_script_fix_8ffaf009b7348610255764fdde11a981","sys_updated_by":"admin","sys_created_on":"2024-03-05 18:14:23","name":"Rename process type to playbook type","sys_name":"Rename process type to playbook type","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":"read"},{"before":"true","unloadable":"false","sys_mod_count":"0","description":"Makes the sys_trigger - Notification Provider Event Handler, upgrade safe","sys_updated_on":"2021-07-22 09:29:16","sys_tags":"","record_for_rollback":"false","script":"var propertyName = 'upgrade_safe';\nvar propertyValue = true;\nvar tableName = 'sys_trigger';\nvar recordSysId = 'ccb9ab720f3133005605539ac4767ef4';\n\nfunction updateGlideRecord(pTableName, pRecordSysId, pPropertyName, pPropertyValue) {\n    var gr = new GlideRecord(pTableName);\n    if (gr.get(pRecordSysId)) {\n        gr.setValue(pPropertyName, pPropertyValue);\n        gr.update();\n    }\n}\n\nif(!pm.isZboot())\n    updateGlideRecord(tableName, recordSysId, propertyName, propertyValue);\n\n","sys_class_name":"sys_script_fix","sys_id":"905aa670c7213010da58d25827c2609e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4c93a3f304312210559073c06a02f7f1","value":"4c93a3f304312210559073c06a02f7f1"},"sys_update_name":"sys_script_fix_905aa670c7213010da58d25827c2609e","sys_updated_by":"admin","sys_created_on":"2021-07-22 09:29:16","name":"Mark Notification Provider Upgrade Safe","sys_name":"Mark Notification Provider Upgrade Safe","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"6","description":"Migrate unified analytics property to the apply_once folder for upgraded customers to maintain whatever value  they had set before the upgrade.","sys_updated_on":"2023-12-22 10:03:54","sys_tags":"","record_for_rollback":"true","script":"var UNIFIED_ANALYTICS_FILE_NAME = 'sys_properties_ff06f38543302110f711f05ba9b8f2d2.xml';\nvar UNIFIED_ANALYTICS_SYS_ID = 'ff06f38543302110f711f05ba9b8f2d2';\nif (!pm.isZboot()) {\n    //Upgraded customers from (U)- to (X)+ won't have the unified analytics property and to avoid set it to 'true', \n    //we will create that property for them wih value false and the original property won't \n    //be applied as it will be already in apply_once table since we call ApplyOnce.doNotUpdate below.\n    var gr = new GlideRecord('sys_properties');\n    if (!gr.get(UNIFIED_ANALYTICS_SYS_ID)) {\n        gr.initialize();\n        gr.setValue('name', 'com.glide.par.unified_analytics.enabled');\n        gr.setValue('description', 'Unify indicators, responsive dashboards, and Next Experience dashboards under one configurable workspace menu.');\n        gr.setValue('type', 'boolean');\n        gr.setValue('value', 'false');\n        var sysId = gr.insert();\n        gs.info(gs.getMessage('unified analytics property with sys_id {0} was create as part of the upgrade.', sysId));\n    }\n\t//we still need to mark the original file as migrated to apply_once so when the plugin \n\t//is repared the property won't change to true or to whatever default value it has stored in the plugin\n    sn_applyonce.ApplyOnce.doNotUpdate(UNIFIED_ANALYTICS_FILE_NAME);\n    gs.info(UNIFIED_ANALYTICS_FILE_NAME + ' was migrated to apply_once folder pre-upgrade.');\n}","sys_class_name":"sys_script_fix","sys_id":"90b616c04f13311024856f2efdce0bd2","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/453ba77304352210559073c06a02f7f0","value":"453ba77304352210559073c06a02f7f0"},"sys_update_name":"sys_script_fix_90b616c04f13311024856f2efdce0bd2","sys_updated_by":"admin","sys_created_on":"2023-12-19 08:50:59","name":"Migrate unified property to applyOnce","sys_name":"Migrate unified property to applyOnce","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"Move the groupTableName, groupTableId values to additionalParameters","sys_updated_on":"2021-10-14 06:24:06","sys_tags":"","record_for_rollback":"false","script":"/*\n\nFrom:\n----\n{\n    \"groupName\": \"Basic Info\",\n    \"label\": \"Description\",\n    \"groupTable\": \"sys_nlu_model\",\n    \"groupTableSysId\": \"413d9b6e7c11a010f87714b4a07e7586\",\n    \"fieldInfo\": [\n        {\n            \"originalValue\": \"The HR Model provides support for understanding intent of the requestor related to selected HR services.\",\n            \"table\": \"sys_nlu_model\",\n            \"sysId\": \"413d9b6e7c11a010f87714b4a07e7586\",\n            \"field\": \"description\",\n            \"translatedValue\": null,\n            \"isFieldLocked\": false\n        }\n    ]\n}\n\nTo:\n---\n{\n    \"groupName\": \"Basic Info\",\n    \"label\": \"Description\",\n    \"fieldInfo\": [\n        {\n            \"originalValue\": \"The HR Model provides support for understanding intent of the requestor related to selected HR services.\",\n            \"translatedValue\": null,\n            \"isFieldLocked\": false,\n            \"additionalParameters\": {\n                \"table\": \"sys_nlu_model\",\n                \"sysId\": \"413d9b6e7c11a010f87714b4a07e7586\",\n                \"field\": \"description\"\n            }\n        }\n    ],\n    \"additionalParameters\": {\n        \"groupTableSysId\": \"413d9b6e7c11a010f87714b4a07e7586\",\n        \"groupTable\": \"sys_nlu_model\"\n    }\n}\n*/\n\n\n(function() {\n\n    if (pm.isZboot()) {\n        return;\n    }\n\n    var tables = NLUConstants.tables;\n    var gr = new GlideRecord(tables.SN_LF_TASK);\n    gr.addQuery('table_name', tables.SYS_NLU_MODEL);\n    gr.addNullQuery('closed_at');\n    gr.query();\n\n    while (gr.next()) {\n        var docContentStr = gr.getValue('document_content');\n        if (docContentStr) {\n            var docContent = JSON.parse(docContentStr);\n\n            if (docContent.content && docContent.content.length > 0) {\n                docContent.content = docContent.content.map(function(eachContent) {\n                    eachContent.additionalParameters = {\n                        groupTableSysId: eachContent.groupTableSysId,\n                        groupTable: eachContent.groupTable\n                    };\n                    delete eachContent.groupTableSysId;\n                    delete eachContent.groupTable;\n\n                    eachContent.fieldInfo = eachContent.fieldInfo.map(function(eachFeild) {\n                        eachFeild.additionalParameters = {\n                            table: eachFeild.table,\n                            sysId: eachFeild.sysId,\n                            field: eachFeild.field\n                        };\n                        delete eachFeild.table;\n                        delete eachFeild.sysId;\n                        delete eachFeild.field;\n                        return eachFeild;\n                    });\n\n                    return eachContent;\n                });\n            }\n\n            gr.setValue('document_content', JSON.stringify(docContent));\n            gr.update();\n        }\n    }\n\n})();","sys_class_name":"sys_script_fix","sys_id":"90c4a2670743701028ef0a701ad300b0","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_script_fix_90c4a2670743701028ef0a701ad300b0","sys_updated_by":"admin","sys_created_on":"2021-10-13 14:18:33","name":"Migrate the old NLU LF tasks to SD","sys_name":"Migrate the old NLU LF tasks to SD","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2021-09-28 03:31:22","sys_tags":"","record_for_rollback":"false","script":"(function() {\n    var ownerDescriptorId = '8b0cbfc2c7132010d447c17cf4c26053';\n    var ownerSynchronizer = new sn_appcollab.CollabPermissionSynchronizer(ownerDescriptorId);\n    ownerSynchronizer.syncCollaboratorPermissions();\n\n    var editorDescriptorId = '3bb75c9ec7132010d447c17cf4c2605a';\n    var editorSynchronizer = new sn_appcollab.CollabPermissionSynchronizer(editorDescriptorId);\n    editorSynchronizer.syncCollaboratorPermissions();\n})();","sys_class_name":"sys_script_fix","sys_id":"9194a938c3f23010d4437f9ec840dde4","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/global","value":"global"},"sys_update_name":"sys_script_fix_9194a938c3f23010d4437f9ec840dde4","sys_updated_by":"admin","sys_created_on":"2021-09-22 07:40:16","name":"Sync Collaborator Permissions For DTable","sys_name":"Sync Collaborator Permissions For DTable","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"If CVSS score for any existing hardening settings have been changed as part of new baseline changes, those settings needs to be captured as changed settings for hardening comparison.","sys_updated_on":"2024-01-05 14:27:54","sys_tags":"","record_for_rollback":"true","script":"var scComplianceUtil = new sn_vsc.VSCComplianceUtil();\nvar gr = new GlideRecord('sn_vsc_instance_hardening_settings');\ngr.addEncodedQuery(\"harc_name=Require Authorization for WSDL Request^ORharc_name=Prevent Users From Accepting Warning To Bypass CSRF Validation\");\ngr.query();\nwhile (gr.next()) {\n\tscComplianceUtil.updateSettingsInsert(gr.sys_id, gr.compliance_status);\n}","sys_class_name":"sys_script_fix","sys_id":"9199cf6953af311053a6ddeeff7b12d1","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"sys_update_name":"sys_script_fix_9199cf6953af311053a6ddeeff7b12d1","sys_updated_by":"maint","sys_created_on":"2024-01-05 14:27:54","name":"SC V1.5.0- Capture changes to CVSS score","sys_name":"SC V1.5.0- Capture changes to CVSS score","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"sys_created_by":"maint","sys_policy":"read"},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Update the label and hints of various recipients field on provider notification form","sys_updated_on":"2021-10-28 07:25:24","sys_tags":"","record_for_rollback":"false","script":"updateEventRelatedLabelAndHints();\nfunction updateEventRelatedLabelAndHints () {\n\tif (pm.isZboot())\n\t\treturn;\n\tupdateEventParm1Label();\n\tupdateEventParm2Label();\n\tupdateEventParm1TableLabel();\n\tupdateEventParm1TableHint();\n\tupdateEventParm2TableLabel();\n\tupdateEventParm2TableHint();\n\tupdateUsersHint();\n\tupdateRecipientsInFieldsLabel();\n\tupdateRecipientsInFieldsHint();\n}\n\nfunction updateEventParm1Label(){\n\tvar newlabel = gs.getMessage('Recipient(s) listed in event parm1 (Learn more)');\n\tvar grUpdate = new GlideRecord('sys_documentation');\n\tgrUpdate.addQuery('name', 'sys_notification');\n\tgrUpdate.addQuery('element','event_parm_1');\n\tgrUpdate.query();\n\tif (grUpdate.next()) {\n\t\tgrUpdate.setValue('label', newlabel);\n\t\tgrUpdate.setValue('plural', newlabel);\n\t\tgrUpdate.setValue('hint','');\n\t\tgrUpdate.setValue('url','https://docs.servicenow.com/bundle/rome-platform-administration/page/administer/platform-events/concept/events.html');\n\t\tgrUpdate.setWorkflow(false);\n\t\tgrUpdate.update();\n\t}\n\n\tvar dictGr = new GlideRecord('sys_dictionary');\n\tdictGr.addQuery('name', 'sys_notification');\n\tdictGr.addQuery('element','event_parm_1');\n\tdictGr.query();\n\tif (dictGr.next()) {\n\t\tdictGr.setValue('column_label', newlabel);\n\t\tdictGr.setWorkflow(false);\n\t\tdictGr.update();\n\t}\n}\n\nfunction updateEventParm2Label(){\n\tvar newlabel = gs.getMessage('Recipient(s) listed in event parm2');\n\tvar grUpdate = new GlideRecord('sys_documentation');\n\tgrUpdate.addQuery('name', 'sys_notification');\n\tgrUpdate.addQuery('element','event_parm_2');\n\tgrUpdate.query();\n\tif (grUpdate.next()) {\n\t\tgrUpdate.setValue('label', newlabel);\n\t\tgrUpdate.setValue('plural', newlabel);\n\t\tgrUpdate.setValue('hint','');\n\t\tgrUpdate.setWorkflow(false);\n\t\tgrUpdate.update();\n\t}\n\n\tvar dictGr = new GlideRecord('sys_dictionary');\n\tdictGr.addQuery('name', 'sys_notification');\n\tdictGr.addQuery('element','event_parm_2');\n\tdictGr.query();\n\tif (dictGr.next()) {\n\t\tdictGr.setValue('column_label', newlabel);\n\t\tdictGr.setWorkflow(false);\n\t\tdictGr.update();\n\t}\n}\n\nfunction updateEventParm1TableLabel(){\n\tvar newlabel = gs.getMessage('Table containing recipients from event parm1');\n\tvar grUpdate = new GlideRecord('sys_documentation');\n\tgrUpdate.addQuery('name', 'sys_notification');\n\tgrUpdate.addQuery('element','event_parm_1_table');\n\tgrUpdate.query();\n\tif (grUpdate.next()) {\n\t\tgrUpdate.setValue('label', newlabel);\n\t\tgrUpdate.setValue('plural', newlabel);\n\t\tgrUpdate.setWorkflow(false);\n\t\tgrUpdate.update();\n\t}\n\n\tvar dictGr = new GlideRecord('sys_dictionary');\n\tdictGr.addQuery('name', 'sys_notification');\n\tdictGr.addQuery('element','event_parm_1_table');\n\tdictGr.query();\n\tif (dictGr.next()) {\n\t\tdictGr.setValue('column_label', newlabel);\n\t\tdictGr.setWorkflow(false);\n\t\tdictGr.update();\n\t}\n}\n\nfunction updateEventParm2TableLabel(){\n\tvar newlabel = gs.getMessage('Table containing recipients from event parm2');\n\tvar grUpdate = new GlideRecord('sys_documentation');\n\tgrUpdate.addQuery('name', 'sys_notification');\n\tgrUpdate.addQuery('element','event_parm_2_table');\n\tgrUpdate.query();\n\tif (grUpdate.next()) {\n\t\tgrUpdate.setValue('label', newlabel);\n\t\tgrUpdate.setValue('plural', newlabel);\n\t\tgrUpdate.setWorkflow(false);\n\t\tgrUpdate.update();\n\t}\n\n\tvar dictGr = new GlideRecord('sys_dictionary');\n\tdictGr.addQuery('name', 'sys_notification');\n\tdictGr.addQuery('element','event_parm_2_table');\n\tdictGr.query();\n\tif (dictGr.next()) {\n\t\tdictGr.setValue('column_label', newlabel);\n\t\tdictGr.setWorkflow(false);\n\t\tdictGr.update();\n\t}\n}\n\n function updateEventParm1TableHint(){\n\tvar newHint = gs.getMessage('Choose the table that contains the recipients listed in event parm1');\n\tvar doc = new GlideRecord('sys_documentation');\n\tdoc.addQuery('name', 'sys_notification');\n\tdoc.addQuery('element','event_parm_1_table');\n\tdoc.query();\n\tif (!doc.next())\n\t\treturn;\n\t\n\tdoc.setValue('hint', newHint);\n\tdoc.setWorkflow(false);\n\tdoc.update();\n}\n\nfunction updateEventParm2TableHint(){\n\tvar newHint = gs.getMessage('Choose the table that contains the recipients listed in event parm2');\n\tvar doc = new GlideRecord('sys_documentation');\n\tdoc.addQuery('name', 'sys_notification');\n\tdoc.addQuery('element','event_parm_2_table');\n\tdoc.query();\n\tif (!doc.next())\n\t\treturn;\n\t\n\tdoc.setValue('hint', newHint);\n\tdoc.setWorkflow(false);\n\tdoc.update();\n}\n\nfunction updateUsersHint(){\n\tvar newHint = gs.getMessage('Choose recipients with a sys_id');\n\tvar doc = new GlideRecord('sys_documentation');\n\tdoc.addQuery('name', 'sys_notification');\n\tdoc.addQuery('element','recipient_users');\n\tdoc.query();\n\tif (!doc.next())\n\t\treturn;\n\t\n\tdoc.setValue('hint', newHint);\n\tdoc.setWorkflow(false);\n\tdoc.update();\n}\n\nfunction updateRecipientsInFieldsLabel(){\n\tvar newlabel = gs.getMessage('Recipients listed in fields');\n\tvar grUpdate = new GlideRecord('sys_documentation');\n\tgrUpdate.addQuery('name', 'sys_notification');\n\tgrUpdate.addQuery('element','recipient_fields');\n\tgrUpdate.query();\n\tif (grUpdate.next()) {\n\t\tgrUpdate.setValue('label', newlabel);\n\t\tgrUpdate.setValue('plural', newlabel);\n\t\tgrUpdate.setWorkflow(false);\n\t\tgrUpdate.update();\n\t}\n\n\tvar dictGr = new GlideRecord('sys_dictionary');\n\tdictGr.addQuery('name', 'sys_notification');\n\tdictGr.addQuery('element','recipient_fields');\n\tdictGr.query();\n\tif (dictGr.next()) {\n\t\tdictGr.setValue('column_label', newlabel);\n\t\tdictGr.setWorkflow(false);\n\t\tdictGr.update();\n\t}\n}\n\nfunction updateRecipientsInFieldsHint(){\n\tvar newHint = gs.getMessage('Choose fields in the current table that list recipients you want to notify');\n\tvar doc = new GlideRecord('sys_documentation');\n\tdoc.addQuery('name', 'sys_notification');\n\tdoc.addQuery('element','recipient_fields');\n\tdoc.query();\n\tif (!doc.next())\n\t\treturn;\n\t\n\tdoc.setValue('hint', newHint);\n\tdoc.setWorkflow(false);\n\tdoc.update();\n}\n\n","sys_class_name":"sys_script_fix","sys_id":"91ab5c5c53a7301092f0ddeeff7b12a6","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4c93a3f304312210559073c06a02f7f1","value":"4c93a3f304312210559073c06a02f7f1"},"sys_update_name":"sys_script_fix_91ab5c5c53a7301092f0ddeeff7b12a6","sys_updated_by":"admin","sys_created_on":"2021-10-27 20:08:24","name":"ProviderNotificatnRecipientLabelAndHints","sys_name":"ProviderNotificatnRecipientLabelAndHints","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Re-label sys_flow_context.engine_version to Last Executed Release for upgraded instances","sys_updated_on":"2023-08-28 21:45:43","sys_tags":"","record_for_rollback":"true","script":"\n    var doc = new GlideRecord('sys_documentation');\n    doc.addQuery('name', 'sys_flow_context');\n    doc.addQuery('element', 'engine_version');\n    doc.query();\n\n    var dic = new GlideRecord('sys_dictionary');\n    dic.addQuery('name', 'sys_flow_context');\n    dic.addQuery('element', 'engine_version');\n    dic.query();\n\n    if (doc.next() && dic.next()){\n        var docLabel = doc.getValue('label');\n        var dicLabel = dic.getValue('column_label');\n\n        if (!docLabel.equals('Last Executed Release') || !dicLabel.equals('Last Executed Release')) {\n           doc.setValue('label', 'Last Executed Release');\n           doc.setValue('plural', 'Last Executed Releases');\n           doc.setWorkflow(false);\n           doc.update();\n\n           dic.setValue('column_label', 'Last Executed Release');\n           dic.setWorkflow(false);\n           dic.update();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"91ee87ff43f031106dbf74d6ebb8f242","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/063be77304352210559073c06a02f7e4","value":"063be77304352210559073c06a02f7e4"},"sys_update_name":"sys_script_fix_91ee87ff43f031106dbf74d6ebb8f242","sys_updated_by":"admin","sys_created_on":"2023-08-28 21:45:43","name":"Re-label sys_flow_context.engine_version","sys_name":"Re-label sys_flow_context.engine_version","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"This fix script applies for Utah upgrade. \r\nSet width and height fields to 'Large' when record target equals 'Popup' and width and height are empty.","sys_updated_on":"2022-09-01 19:52:48","sys_tags":"","record_for_rollback":"true","script":"var smartLinkGr = new GlideRecord(\"sys_cs_smart_link\");\nsmartLinkGr.addQuery(\"target\", \"Popup\");\nsmartLinkGr.addQuery(\"width\", \"\");\nsmartLinkGr.addQuery(\"height\", \"\");\nsmartLinkGr.query();\n\t\nwhile(smartLinkGr.next()) {\n\tsmartLinkGr.setValue('width', \"large\");\n\tsmartLinkGr.setValue('height', \"large\");\n\tsmartLinkGr.update();\n}\n\ngs.info(\"Successfully executed Target Location Fix Script\");","sys_class_name":"sys_script_fix","sys_id":"920253a34321111057da84b49bb8f2be","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_920253a34321111057da84b49bb8f2be","sys_updated_by":"admin","sys_created_on":"2022-09-01 17:45:36","name":"Target Location Fix Script","sys_name":"Target Location Fix Script","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"0","description":"Makes the UX Form Actions Layout Item's Color column a dependent field.","sys_updated_on":"2023-09-05 18:41:06","sys_tags":"","record_for_rollback":"true","script":"if (!pm.isZboot()) {\n\tvar gr = new GlideRecord(\"sys_dictionary\");\n\tgr.addQuery(\"name\", \"sys_ux_form_action_layout_item\");\n\tgr.addQuery(\"element\", \"color\");\n\tgr.query();\n\n\tif (gr.next()) {\n\t\tgr.setValue(\"use_dependent_field\", true);\n\t\tgr.setValue(\"dependent\", \"layout_group.type\");\n\t\tgr.setValue(\"dependent_on_field\", \"layout_group.type\");\n\t\tgr.update();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"92803b5a43013110ba37e32b5bb8f28d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b2936bf304312210559073c06a02f759","value":"b2936bf304312210559073c06a02f759"},"sys_update_name":"sys_script_fix_92803b5a43013110ba37e32b5bb8f28d","sys_updated_by":"admin","sys_created_on":"2023-09-05 18:41:06","name":"Action Layout Item Dependent Color","sys_name":"Action Layout Dependent Color","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Updates the sys-ref_list view for the sys_notification_action table, to add sys_class_name and sys_created_by columns.","sys_updated_on":"2021-03-22 18:57:11","sys_tags":"","record_for_rollback":"false","script":"updateSysRefListViewNA();\n\nfunction updateSysRefListViewNA() {\n\tvar view = new GlideRecord('sys_ui_view');\n\tview.addQuery('name', 'sys_ref_list');\n\tview.setLimit(1);\n\tview.query();\n\tif(view.next()) {\n\t\tvar listSysId = checkAndCreateListView('sys_notification_action', view.sys_id);\n\n\t\tvar pos = updateRefListView(\"name\", 0, listSysId);\n\t\tpos = updateRefListView(\"sys_class_name\", pos+1, listSysId);\n\t\tupdateRefListView(\"sys_created_by\", pos+1, listSysId);\n\n\t\t// content ref\n\t\tlistSysId = checkAndCreateListView('sys_notification_content', view.sys_id);\n\n\t\tpos = updateRefListView(\"name\", 0, listSysId);\n\t\tpos = updateRefListView(\"sys_class_name\", pos+1, listSysId);\n\t}\n}\n\nfunction checkAndCreateListView(tableName, viewId) {\n\tvar listSysId = \"\";\n\tvar list = new GlideRecord('sys_ui_list');\n\tlist.addQuery('view', viewId);\n\tlist.addQuery('name', tableName);\n\tlist.setLimit(1);\n\tlist.query();\n\tif(list.next()) {\n\t\tlistSysId = list.sys_id;\n\t} else {\n\t\tlist = new GlideRecord('sys_ui_list');\n\t\tlist.initialize();\n\t\tlist.name = tableName;\n\t\tlist.view = viewId;\n\t\tlistSysId = list.insert();\n\t}\n\treturn listSysId;\n}\n\nfunction updateRefListView(colName, position, listId) {\n\tvar listCol = new GlideRecord('sys_ui_list_element');\n\tlistCol.addQuery('list_id', listId);\n\tlistCol.addQuery('element', colName);\n\tlistCol.setLimit(1);\n\tlistCol.query();\n\n\tif(listCol.next())\n\t\treturn listCol.position;\n\n\tlistCol = new GlideRecord('sys_ui_list_element');\n\tlistCol.initialize();\n\tlistCol.element = colName;\n\tlistCol.position = position;\n\tlistCol.list_id = listId;\n\tlistCol.insert();\n\n\treturn position;\n}","sys_class_name":"sys_script_fix","sys_id":"937db43bc322201032dd09c77d40dd1e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4c93a3f304312210559073c06a02f7f1","value":"4c93a3f304312210559073c06a02f7f1"},"sys_update_name":"sys_script_fix_937db43bc322201032dd09c77d40dd1e","sys_updated_by":"admin","sys_created_on":"2021-03-04 06:06:53","name":"Update Notification Action ref list view","sys_name":"Update Notification Action ref list view","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Fix script for changing column label from \"Clus ter Name\" to \"Cluster Name\"","sys_updated_on":"2025-06-05 05:05:20","sys_tags":"","record_for_rollback":"true","script":"\n            \n            var tableName = 'cmdb_resource_location';\n            var columnName = 'cluster_name';\n            var newLabel = 'Cluster Name';\n            var dictionaryTable = 'sys_dictionary';\n            var sysDictGR = new GlideRecord(dictionaryTable);\n            sysDictGR.addQuery('name', tableName);\n            sysDictGR.addQuery('element', columnName);\n            sysDictGR.addQuery('column_label', '!=', newLabel);\n            sysDictGR.query();\n\n            if (sysDictGR.next()) {\n                sysDictGR.setValue('column_label', newLabel);\n                sysDictGR.update();\n                gs.info(\"DEF0473730: Column label for column name '{0}' in table '{1}' is updated to '{2}' \", columnName, tableName, newLabel);\n            } else {\n                gs.info(\"DEF0473730: Record not found for query: table = '{3}', name = '{0}', element = '{1}', column_label != '{2}' \", tableName, columnName, newLabel, dictionaryTable);\n            }","sys_class_name":"sys_script_fix","sys_id":"938ed8b7a55e0210f877157b84ad7038","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_938ed8b7a55e0210f877157b84ad7038","sys_updated_by":"now.cpg","sys_created_on":"2024-05-27 18:11:51","name":"Fix cluster_name column","sys_name":"Fix cluster_name column","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"now.cpg","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Set display = true for  model field of sys_nlu_model_status","sys_updated_on":"2023-02-02 11:44:00","sys_tags":"","record_for_rollback":"true","script":"var dictGr = new GlideRecord('sys_dictionary');\ndictGr.addQuery('name', 'sys_nlu_model_status');\ndictGr.addQuery('element', 'model');\ndictGr.query();\nif (dictGr.next()) {\n    dictGr.setValue('display', 'true');\n    dictGr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"93c24b81a3342110f066d78446fcdaad","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_script_fix_93c24b81a3342110f066d78446fcdaad","sys_updated_by":"admin","sys_created_on":"2023-02-02 11:44:00","name":"Update model field sys_nlu_model_status","sys_name":"Update model field sys_nlu_model_status","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Set update_synch attribute flag to false on table  \"sys_cs_typing_indicator\" and it's corresponding record on table \"sys_schema_attribute_m2m\".","sys_updated_on":"2023-04-24 10:12:14","sys_tags":"","record_for_rollback":"false","script":"makeUpdateSyncFalse();\n\nfunction makeUpdateSyncFalse() {\n    var dbObjGr = new GlideRecord(\"sys_db_object\");\n    dbObjGr.addQuery(\"name=sys_cs_typing_indicator^super_classISNOTEMPTY\");\n    dbObjGr.query();\n    //if the table schema is extending sys_metadata table\n    if (dbObjGr.next()) {\n        // Find the table's sys_id\n        var typingIndicatorTable = new GlideRecord(\"sys_dictionary\");\n        typingIndicatorTable.addQuery(\"name\", \"sys_cs_typing_indicator\");\n        typingIndicatorTable.addQuery(\"element\", \"\");\n        typingIndicatorTable.query();\n        if (!typingIndicatorTable.next() || typingIndicatorTable.hasNext()) {\n            gs.warn('Searching for a single sys_cs_typing_indicator record in the ' +\n                'sys_dictionary table failed. Not modifying update_sync attribute');\n            return;\n        }\n        // Attributes are a comma separated list\n        var attributes = typingIndicatorTable.getValue(\"attributes\").split(\",\");\n        for (var i = 0; i < attributes.length; i++) {\n            if (attributes[i].indexOf(\"update_synch\") == 0) {\n                attributes[i] = \"update_synch=false\";\n                typingIndicatorTable.setValue(\"attributes\", attributes.join(\",\"));\n                typingIndicatorTable.setWorkflow(false);\n                typingIndicatorTable.update();\n                break;\n            }\n        }\n        // Find the table's update_synch attribute\n        var updateSynchAttribute = new GlideRecord(\"sys_schema_attribute_m2m\");\n        updateSynchAttribute.addQuery(\"schema\", typingIndicatorTable.getUniqueValue());\n        // Update synch attribute sys_id is always the same\n        updateSynchAttribute.addQuery(\"attribute\", \"eb8ce330eb321100d4360c505206feac\");\n        updateSynchAttribute.query();\n        if (updateSynchAttribute.next()) {\n            updateSynchAttribute.setValue(\"value\", \"false\");\n            updateSynchAttribute.setWorkflow(false);\n            updateSynchAttribute.update();\n        } else {\n            updateSynchAttribute = new GlideRecord(\"sys_schema_attribute_m2m\");\n            updateSynchAttribute.setValue(\"schema\", typingIndicatorTable.getUniqueValue());\n            updateSynchAttribute.setValue(\"attribute\", \"eb8ce330eb321100d4360c505206feac\");\n            updateSynchAttribute.setValue(\"value\", \"false\");\n            updateSynchAttribute.setWorkflow(false);\n            updateSynchAttribute.insert();\n        }\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"94187f03539e21103c2cddeeff7b121f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9cc37b3704b52210559073c06a02f781","value":"9cc37b3704b52210559073c06a02f781"},"sys_update_name":"sys_script_fix_94187f03539e21103c2cddeeff7b121f","sys_updated_by":"admin","sys_created_on":"2023-04-24 10:12:14","name":"Set Update Synch Attribute to False","sys_name":"Set Update Synch Attribute to False","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"ReParent m2m table to extend sys_metadata","sys_updated_on":"2021-09-14 23:41:49","sys_tags":"","record_for_rollback":"false","script":"gs.log('Starting m2m_dictionary_dataclass reparenting');\nvar reparenter = new GlideTableParentChange(\"m2m_dictionary_dataclass\");\nreparenter.change('', 'sys_metadata');\ngs.log('Finished m2m_dictionary_dataclass reparenting');","sys_class_name":"sys_script_fix","sys_id":"94a3b71a73a63010fb1d1f877bf6a7b8","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e6cde73304752210559073c06a02f70a","value":"e6cde73304752210559073c06a02f70a"},"sys_update_name":"sys_script_fix_94a3b71a73a63010fb1d1f877bf6a7b8","sys_updated_by":"admin","sys_created_on":"2021-09-14 23:41:49","name":"ReParent m2m_dictionary_dataclass","sys_name":"ReParent m2m_dictionary_dataclass","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"4","description":"Ensure the cxs_search_res_config.search_resource_id field references the cxs_search_resource table and has a reference qualifier\r\n\r\nEnsure there are no cxs_search_res_config records where the search_resource_id field is set to the value \"null\"","sys_updated_on":"2021-06-09 13:50:10","sys_tags":"","record_for_rollback":"false","script":"function setupSearchResourceId() {\n\tvar dict = new GlideRecord(\"sys_dictionary\");\n\tdict.addQuery(\"name\", \"cxs_search_res_config\");\n\tdict.addQuery(\"element\", \"search_resource_id\");\n\tdict.setLimit(1);\n\tdict.setUseEngines(false);\n\tdict.query();\n\twhile (dict.next()) {\n\t\tif (\"cxs_search_resource\" !== dict.getValue(\"reference\"))\n\t\t\tdict.setValue(\"reference\", \"cxs_search_resource\");\n\n\t\tif (\"advanced\" !== dict.getValue(\"use_reference_qualifier\"))\n\t\t\tdict.setValue(\"use_reference_qualifier\", \"advanced\");\n\n\t\tif (\"javascript:var ret='';if(!current.resource_type) ret='name!=GlideRecordSearchResource';else ret='name=GlideRecordSearchResource';ret\" !== dict.getValue(\"reference_qual\"))\n\t\t\tdict.setValue(\"reference_qual\", \"javascript:var ret='';if(!current.resource_type) ret='name!=GlideRecordSearchResource';else ret='name=GlideRecordSearchResource';ret\");\n\n\t\tif (dict.update())\n\t\t\tgs.info(\"Successfully updated dictionary cxs_search_res_config.search_resource_id reference to cxs_search_resource and set advanced reference qualifier\");\n\t\telse\n\t\t\tgs.info(\"Failed to update dictionary cxs_search_res_config.search_resource_id reference to cxs_search_resource and set advanced reference qualifier\");\n\t}\n}\n\nfunction defaultSearchResourceId() {\n\tvar gmu = new GlideMultipleUpdate(\"cxs_search_res_config\");\n\t// Due to the way in which checks for \"null\" are handled, querying using these operators\n\tgmu.addQuery(\"search_resource_id\", \"STARTSWITH\", \"null\");\n\tgmu.addQuery(\"search_resource_id\", \"ENDSWITH\", \"null\");\n\tgmu.setValue(\"search_resource_id\", \"\");\n\tgmu.execute();\n}\n\nsetupSearchResourceId();\ndefaultSearchResourceId();","sys_class_name":"sys_script_fix","sys_id":"94e61572736030102eb52d2b04f6a76c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5209e3b704f12210559073c06a02f734","value":"5209e3b704f12210559073c06a02f734"},"sys_update_name":"sys_script_fix_94e61572736030102eb52d2b04f6a76c","sys_updated_by":"admin","sys_created_on":"2021-06-08 15:33:13","name":"Fix search_resource_id field","sys_name":"Fix search_resource_id field","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"4","description":"Creates categories for notifications with a category using their table","sys_updated_on":"2017-03-16 23:09:06","sys_tags":"","record_for_rollback":"false","script":"_createCategories();\n\nfunction _createCategories() {\n\tvar UNCATEGORIZED_SYS_ID = 'c97d83137f4432005f58108c3ffa917a';\n\n\t// Get all tables\n\tvar categoryMap = _getAllCategories();\n\n\t// Loop through all notifications that are missing a category\n\tvar notifGR = new GlideRecord('sysevent_email_action');\n\tvar conditions = notifGR.addQuery('category', '');\n\tconditions.addOrCondition('category', UNCATEGORIZED_SYS_ID);\n\tnotifGR.query();\n\twhile (notifGR.next()) {\n\t\t// OOB notifications should default to uncategorized (they'll get updated later in the upgrade process)\n\t\tif (!SncAppFiles.hasCustomerUpdate(notifGR))\n\t\t\tnotifGR.setValue('category', UNCATEGORIZED_SYS_ID);\n\t\telse {\n\t\t\t// Use the table (collection... if specified) as the category\n\t\t\tvar table = _getTable(notifGR);\n\t\t\tif (table) {\n\t\t\t\tvar categorySysId = categoryMap[table];\n\t\t\t\tif (categorySysId)\n\t\t\t\t\t// Category already exists, use existing one\n\t\t\t\t\tnotifGR.setValue('category', categorySysId);\n\t\t\t\telse {\n\t\t\t\t\t// Use table as name for new category to create\n\t\t\t\t\tvar newCategory = new GlideRecord('sys_notification_category');\n\t\t\t\t\tnewCategory.setValue('name', table);\n\t\t\t\t\tvar sysId = newCategory.insert();\n\n\t\t\t\t\tnotifGR.setValue('category', sysId);\n\n\t\t\t\t\t// Add this to the category map so we won't create it again\n\t\t\t\t\tcategoryMap[table] = sysId;\n\t\t\t\t}\n\t\t\t} else\n\t\t\t\t// No table (collection), use uncategorized sys_id instead\n\t\t\t\tnotifGR.setValue('category', UNCATEGORIZED_SYS_ID);\n\t\t}\n\t\tnotifGR.setWorkflow(false);\n\t\tnotifGR.update();\n\t}\n}\n\nfunction _getAllCategories() {\n\t// Iterate through all categories and store them in a map so we don't need\n\t// to run lots of queries during this script\n\tvar categoryGR = new GlideRecord('sys_notification_category');\n\tcategoryGR.query();\n\tvar categoryMap = {};\n\twhile (categoryGR.next()) {\n\t\tcategoryMap[categoryGR.getValue('name')] = categoryGR.getUniqueValue();\n\t}\n\n\treturn categoryMap;\n}\n\nfunction _getTable(notifGR) {\n\tvar table = notifGR.getValue('collection');\n\n\t// Try to find the label of the table if possible\n\tvar sysDbObjectGR = new GlideRecord('sys_db_object');\n\tif (table && sysDbObjectGR.get('name', table)) {\n\t\tvar label = sysDbObjectGR.getValue('label');\n\t\tif (label)\n\t\t\treturn label;\n\t}\n\n\t// Default to the table\n\treturn table;\n}","sys_class_name":"sys_script_fix","sys_id":"952aab027f2032005f58108c3ffa91b5","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/40c3ab3704312210559073c06a02f7f9","value":"40c3ab3704312210559073c06a02f7f9"},"sys_update_name":"sys_script_fix_952aab027f2032005f58108c3ffa91b5","sys_updated_by":"admin","sys_created_on":"2017-01-28 00:45:52","name":"Create Categories from Tables","sys_name":"Create Categories from Tables","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Change iterative delete to bulk delete for sys_flow_context","sys_updated_on":"2024-09-04 14:10:34","sys_tags":"","record_for_rollback":"true","script":"\n\t    SNC.DictionaryAttribute.set(\"sys_flow_context\", null, \"iterativeDelete\", false);\n","sys_class_name":"sys_script_fix","sys_id":"9555f4a54380021076af74d6ebb8f2c4","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/063be77304352210559073c06a02f7e4","value":"063be77304352210559073c06a02f7e4"},"sys_update_name":"sys_script_fix_9555f4a54380021076af74d6ebb8f2c4","sys_updated_by":"admin","sys_created_on":"2024-09-04 14:10:34","name":"Change IterativeDelete to BulkDelete","sys_name":"Change IterativeDelete to BulkDelete","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"40","description":"remove existing duplicate entries","sys_updated_on":"2025-01-30 22:37:24","sys_tags":"","record_for_rollback":"true","script":"try {\n    if (hasDuplicates()) {\n        gs.log(\"sys_script_fix:95a717644f13121071e0a0e552ce0b3 - Duplicates found, proceeding with clean-up\");\n        cleanUpHermesClusterConfig();\n        createConfig();\n    } else {\n        gs.log(\"sys_script_fix:95a717644f13121071e0a0e552ce0b3 - Clean-up not required, no duplicates found\");\n    }\n} catch (e) {\n    gs.log(e);\n}\n\nfunction hasDuplicates() {\n    var gr = new GlideAggregate('hermes_cluster_config');\n    gr.groupBy('data_center');\n    gr.addAggregate(\"COUNT\", \"data_center\");\n    gr.addQuery('service_id', \"IN\", \"bfe548804320311041a0e8625ab8f242,''\");\n    gr.addQuery('owner_instance_name', \"\");\n    gr.query();\n    var dups = [];\n    while (gr.next()) {\n        var count = gr.getAggregate(\"COUNT\", \"data_center\");\n        if (count != 1) {\n            dups.push(gr.getValue(\"data_center\"));\n        }\n    }\n    if (dups.length != 0)\n        return true;\n\n    return false;\n}\n\nfunction cleanUpHermesClusterConfig() {\n    gs.log(\"sys_script_fix:95a717644f13121071e0a0e552ce0b3 - Removing existing hermes_cluster_config entries, service_id is null or hermes-internal AND owner_instance_name is null\");\n    //find entries to remove; 'hermes-internal' is the default service\n    //service_id=bfe548804320311041a0e8625ab8f242^owner_instance_name=NULL\n    var hermesClusterConf = new GlideRecord('hermes_cluster_config');\n    hermesClusterConf.addEncodedQuery(\"service_id=^ORservice_id=bfe548804320311041a0e8625ab8f242^owner_instance_nameISEMPTY\");\n    hermesClusterConf.query();\n    hermesClusterConf.deleteMultiple();\n}\n\nfunction createConfig() {\n    gs.log(\"sys_script_fix:95a717644f13121071e0a0e552ce0b3 - Recreating hermes_cluster_config entries for hermes-internal service\");\n    //find service name to use\n    //either 'hermes' or 'hermes-internal'\n    //as both clusters endpoints should be the same either service can be used\n    //service name is what is used for refreshInCluster(...); need to use service that exists\n    var serviceName = 'hermes-internal';\n    var serviceGR = new GlideRecord('sys_service');\n    //either 'hermes' or 'hermes-internal'\n    serviceGR.addEncodedQuery(\"sys_id=2e269051b71201109fed8481de11a9c0^ORsys_id=bfe548804320311041a0e8625ab8f242\");\n    serviceGR.query();\n    while (serviceGR.next()) {\n        gs.log(\"Service found: \" + serviceGR.name);\n        serviceName = serviceGR.name;\n    }\n\n    //run refreshInCluster for found service to recreate endpoints.\n    new sn_internal_services.ServiceConfig.refreshInCluster(serviceName);\n\n    var hermesClusterConf = new GlideRecord('hermes_cluster_config');\n    hermesClusterConf.addEncodedQuery(\"service_id=bfe548804320311041a0e8625ab8f242^owner_instance_nameISEMPTY\");\n    hermesClusterConf.query();\n    if (hermesClusterConf.next()) {\n        gs.log(\"sys_script_fix:95a717644f13121071e0a0e552ce0b3 - hermes_cluster_config entries for hermes-internal service exist\");\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"95a717644f13121071e0a0e552ce0b3b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/03d4abbf04312210559073c06a02f7f9","value":"03d4abbf04312210559073c06a02f7f9"},"sys_update_name":"sys_script_fix_95a717644f13121071e0a0e552ce0b3b","sys_updated_by":"admin","sys_created_on":"2025-01-21 19:11:06","name":"Hermes Cluster Config clean-up","sys_name":"Hermes Cluster Config clean-up","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"This is for updating the default value for the 'discover' field on discovery_schedule and discovery_status tables","sys_updated_on":"2022-10-20 23:15:59","sys_tags":"","record_for_rollback":"true","script":"var tables = ['discovery_schedule', 'discovery_status'];\ntables.forEach(function (table) {\n  updateDefaultDiscoverValue(table);\n});\n\nfunction updateDefaultDiscoverValue(table) {\n\tvar gr = new GlideRecord('sys_dictionary');\n\tgr.addQuery('name', table);\n\tgr.addQuery('element', 'discover');\n\tgr.setLimit(1);\n\tgr.query();\n\n\tif (gr.next()) {\n\t\tgr.setValue('default_value', 'javascript:new DiscoverChoiceList().getDefaultValue(\\'' + table + '\\');');\n\t\tgr.update();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"95c0bc6b77221110a760d14b8d5a999e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/91d8237704f12210559073c06a02f73b","value":"91d8237704f12210559073c06a02f73b"},"sys_update_name":"sys_script_fix_95c0bc6b77221110a760d14b8d5a999e","sys_updated_by":"christopher.thompson","sys_created_on":"2022-10-20 23:15:59","name":"Update default discover value","sys_name":"Update default discover value","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"christopher.thompson","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Adding Delete Cascade reference on filter in Generative AI Filter Sample","sys_updated_on":"2024-10-09 11:22:27","sys_tags":"","record_for_rollback":"true","script":"(function() {\n\tvar update_reference_cascade_rule = function(table_name, element) {\n        var gr = new GlideRecord('sys_dictionary');\n        gr.addQuery('name', table_name);\n        gr.addQuery('element', element);\n        gr.query();\n        if (gr.next()) {\n            gr.setValue('reference_cascade_rule', 'delete');\n            return gr.update();\n        }\n    };\t\n\t\n    update_reference_cascade_rule('sys_gen_ai_filter_sample', 'filter');\n    return;\n})();","sys_class_name":"sys_script_fix","sys_id":"96274e4fa3495210965b7257161e61bf","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7c84affb04312210559073c06a02f73d","value":"7c84affb04312210559073c06a02f73d"},"sys_update_name":"sys_script_fix_96274e4fa3495210965b7257161e61bf","sys_updated_by":"admin","sys_created_on":"2024-10-09 11:22:27","name":"Cascade delete on  filter sample","sys_name":"Cascade delete on  filter sample","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Deletes Actionable Prompt demo record.","sys_updated_on":"2021-08-23 16:34:53","sys_tags":"","record_for_rollback":"false","script":"removeActionablePromptDemoRecord();\n\nfunction removeActionablePromptDemoRecord() {\n\tif (pm.isZboot())\n\t\treturn;\n\n\tvar rec = new GlideRecord('sys_notification_actionable_prompt');\n\tif(rec.get(\"08aa5da30f0210105605539ac4767e8c\")) {\n\t\trec.deleteRecord();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"966e7cd35b023010342600263381c789","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4c93a3f304312210559073c06a02f7f1","value":"4c93a3f304312210559073c06a02f7f1"},"sys_update_name":"sys_script_fix_966e7cd35b023010342600263381c789","sys_updated_by":"admin","sys_created_on":"2021-08-23 16:34:53","name":"Remove Actionable Prompt Demo Record","sys_name":"Remove Actionable Prompt Demo Record","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Update \"is_extendable\" to false on \"sys_db_object\" record for table \"sla_breakdown_core\"","sys_updated_on":"2018-03-23 12:10:30","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tvar sysDBObjectGr = new GlideRecord(\"sys_db_object\");\n\tif (!sysDBObjectGr.get(\"name\", \"sla_breakdown_core\"))\n\t\treturn;\n\n\tsysDBObjectGr.setValue(\"is_extendable\", false);\n\tsysDBObjectGr.update();\n})();","sys_class_name":"sys_script_fix","sys_id":"9698334957011300491dac11ac94f9e0","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ec3ce3f704352210559073c06a02f7c1","value":"ec3ce3f704352210559073c06a02f7c1"},"sys_update_name":"sys_script_fix_9698334957011300491dac11ac94f9e0","sys_updated_by":"admin","sys_created_on":"2018-03-23 12:09:40","name":"\"sla_breakdown_core\" not extendable","sys_name":"\"sla_breakdown_core\" not extendable","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Set the sys_code value to empty in sys_remote_app if it is undefined to prevent issues with loading conditional content for the applications.","sys_updated_on":"2024-08-06 17:08:34","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('sys_remote_app');\ngr.addQuery('sys_code', 'undefined');\ngr.query();\ngs.info(\"Number of records where 'sys_code' is 'undefined' in the 'sys_remote_app' table: \" + gr.getRowCount());\ngr.setValue('sys_code', 'NULL');\ngr.updateMultiple();","sys_class_name":"sys_script_fix","sys_id":"96ef6da243330210a430aefc8cb8f23e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_update_name":"sys_script_fix_96ef6da243330210a430aefc8cb8f23e","sys_updated_by":"admin","sys_created_on":"2024-08-06 17:08:34","name":"Update sys_code in sys_remote_app table","sys_name":"Update sys_code in sys_remote_app table","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Deactivates orphaned Addon Event Mappings to protect runtime performance","sys_updated_on":"2022-11-18 21:23:28","sys_tags":"","record_for_rollback":"false","script":"function deactivateEventMappingRecord(addOnEventMappings){\n\taddOnEventMappings.active = false;\n\taddOnEventMappings.update();\n}\n\n// Looks for records that have no macroponent associated (orphaned)\nvar addOnEventMappings = new GlideRecord('sys_ux_addon_event_mapping');\naddOnEventMappings.addQuery('parent_macroponent.name', null).addOrCondition('parent_macroponent', '');\naddOnEventMappings.addQuery('controller', '');\naddOnEventMappings.addQuery('active', true);\naddOnEventMappings.query();\nwhile(addOnEventMappings.next()){\n\tvar parentMacroponent = new GlideRecord('sys_ux_macroponent');\n\tif(!parentMacroponent.get(addOnEventMappings.parent_macroponent.sys_id.toString())){\n\t\tdeactivateEventMappingRecord(addOnEventMappings);\n\t}\n}\n\n// Check all records that don't have a source or target event associated or the MCP doesn't have a parent screen (unused)\naddOnEventMappings = new GlideRecord('sys_ux_addon_event_mapping');\naddOnEventMappings.addQuery('active', true);\naddOnEventMappings.query();\nwhile(addOnEventMappings.next()){\n\t// First we check if it is missing either the source_da or target_event fields because then it's unused\n\tif(addOnEventMappings.source_da.nil() || addOnEventMappings.target_event.nil()){\n\t\tdeactivateEventMappingRecord(addOnEventMappings);\n\t\tcontinue;\n\t}\n\t// Next we check if the parent MCP doesn't have a parent screen, meaning the screen was deleted and the MCP is an orphan\n\tvar parentMacroponent = new GlideRecord('sys_ux_macroponent');\n\tif(parentMacroponent.get(addOnEventMappings.parent_macroponent.sys_id.toString())){\n\t\tvar parentScreen = new GlideRecord('sys_ux_screen');\n\t\tif(!parentScreen.get('macroponent', parentMacroponent.sys_id.toString())){\n\t\t\tdeactivateEventMappingRecord(addOnEventMappings);\n\t\t}\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"96ff6170871f51102fd363173cbb35f0","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f193e7f304312210559073c06a02f725","value":"f193e7f304312210559073c06a02f725"},"sys_update_name":"sys_script_fix_96ff6170871f51102fd363173cbb35f0","sys_updated_by":"john.mccormick@snc","sys_created_on":"2022-11-18 21:23:03","name":"Deactivate orphaned Addon Event Mappings","sys_name":"Deactivate orphaned Addon Event Mappings","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"john.mccormick@snc","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"clear the default value for status field  in sys highlighted condition table.","sys_updated_on":"2021-09-24 15:56:29","sys_tags":"","record_for_rollback":"false","script":"updateDefaultValue('sys_highlighted_value_condition', 'status', '');\nfunction updateDefaultValue(table, columnName, defaultValue) {\n\tvar gr = new GlideRecord('sys_dictionary');\n\tgr.addQuery('name', table);\n\tgr.addQuery('element', columnName);\n\tgr.query();\n\tif(gr.next() && gr.getValue('default_value') !== defaultValue){\n\t\tgr.setValue('default_value',defaultValue);\n\t\tgr.update();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"9719e161733230103c066a0c4cf6a750","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/72ac63bb04352210559073c06a02f754","value":"72ac63bb04352210559073c06a02f754"},"sys_update_name":"sys_script_fix_9719e161733230103c066a0c4cf6a750","sys_updated_by":"admin","sys_created_on":"2021-09-24 15:56:29","name":"clear default value from highlighted","sys_name":"clear default value from highlighted","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Update cmdb admin persona's Reassignment Requests, De-Duplication tasks, Duplicate CIs, Orphan CIs, Stale CIs, Excluded CIs run type to daily base aggregate","sys_updated_on":"2024-06-05 22:39:08","sys_tags":"","record_for_rollback":"true","script":"var impActionUtil = new sn_cmdb_ws.CMDBWSImportantActionsUtil();\n\nvar gr = new GlideRecord(impActionUtil.TABLES.SN_CMDB_WS_IMP_ACTION_CARD_CONFIG);\ngr.addQuery(impActionUtil.COLS.SYS_ID, impActionUtil.ACTION_CONFIG_DAILY_TYPE_IDS);\ngr.query();\nwhile (gr.next()) {\n\tgr.setValue(impActionUtil.COLS.RUN_TYPE, impActionUtil.RUN_TYPE.DAILY);\n\tgr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"972c53ea77228a10ee0d0cc2fa5a991b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_update_name":"sys_script_fix_972c53ea77228a10ee0d0cc2fa5a991b","sys_updated_by":"admin","sys_created_on":"2024-06-05 21:35:17","name":"Update ws imp action run type","sys_name":"Update ws imp action run type","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Renames the labels for sys_pd_activity_type to Activity UI Layout and sys_pd_activity_type_prop to Experience Property","sys_updated_on":"2022-11-29 21:23:07","sys_tags":"","record_for_rollback":"true","script":"var gr = new GlideRecord('sys_dictionary');\ngr.addQuery('name', 'sys_pd_activity_type');\ngr.addQuery('internal_type', 'collection');\ngr.addNullQuery('element');\ngr.query();\n\nif (gr.next()) {\n\tgr.setValue('column_label', 'Activity UI Layout');\n\tgr.update();\n}\n\ngr = new GlideRecord('sys_documentation');\ngr.addQuery('name', 'sys_pd_activity_type');\ngr.addNullQuery('element');\ngr.query();\n\nif (gr.next()) {\n\tgr.setValue('label', 'Activity UI Layout');\n\tgr.setValue('plural', 'Activity UI Layouts');\n\tgr.update();\n}\n\ngr = new GlideRecord('sys_dictionary');\ngr.addQuery('name', 'sys_pd_activity_type_prop');\ngr.addQuery('internal_type', 'collection');\ngr.addNullQuery('element');\ngr.query();\n\nif (gr.next()) {\n\tgr.setValue('column_label', 'Experience Property');\n\tgr.update();\n}\n\ngr = new GlideRecord('sys_documentation');\ngr.addQuery('name', 'sys_pd_activity_type_prop');\ngr.addNullQuery('element');\ngr.query();\n\nif (gr.next()) {\n\tgr.setValue('label', 'Experience Property');\n\tgr.setValue('plural', 'Experience Properties');\n\tgr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"97771614c3231110027e04186e40dde0","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/053ea7b304752210559073c06a02f736","value":"053ea7b304752210559073c06a02f736"},"sys_update_name":"sys_script_fix_97771614c3231110027e04186e40dde0","sys_updated_by":"admin","sys_created_on":"2022-11-29 21:23:07","name":"Rename PAD Activity Type labels","sys_name":"Rename PAD Activity Type labels","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Change name columns related to gen_filter type from string to translated_text.","sys_updated_on":"2024-05-31 06:53:13","sys_tags":"","record_for_rollback":"false","script":"updateColumnType(\"sys_gen_ai_filter\", \"filter_name\");\nupdateColumnType(\"sys_gen_ai_filter_group\", \"filter_group_name\");\nsetMandatoryColumn(\"sys_gen_ai_filter_config\", \"document_table\");\n\nfunction updateColumnType(name, element) {\n    var gr = new GlideRecord(\"sys_dictionary\");\n    gr.addQuery(\"name\", name);\n    gr.addQuery(\"internal_type\", \"string\");\n    gr.addQuery(\"element\", element);\n    gr.setWorkflow(false);\n    gr.query();\n    if (gr.next()) {\n        gr.setValue(\"internal_type\", \"translated_text\");\n        gr.update();\n    }\n}\n\nfunction setMandatoryColumn(name, element) {\n    var gr = new GlideRecord(\"sys_dictionary\");\n    gr.addQuery(\"name\", name);\n    gr.addQuery(\"element\", element);\n    gr.setWorkflow(false);\n    gr.query();\n    if (gr.next()) {\n        gr.setValue(\"mandatory\", true);\n        gr.update();\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"97b16ab03722021033a1e84c24924b04","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7c84affb04312210559073c06a02f73d","value":"7c84affb04312210559073c06a02f73d"},"sys_update_name":"sys_script_fix_97b16ab03722021033a1e84c24924b04","sys_updated_by":"admin","sys_created_on":"2024-05-31 06:50:30","name":"Modify gen_ai_filter columns","sys_name":"Modify gen_ai_filter columns","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"6","description":"Sets the the default value of users to be disconnected to \"Non-Resumable User\" for each record in the sys_cs_live_agent_setup table.","sys_updated_on":"2023-03-17 17:55:00","sys_tags":"","record_for_rollback":"true","script":"var liveAgentSetupGr = new GlideRecord('sys_cs_live_agent_setup');\nliveAgentSetupGr.query();\nwhile (liveAgentSetupGr.next()) {\n\tif (!liveAgentSetupGr.getValue(\"users_to_be_disconnected\")) {\n\t\tliveAgentSetupGr.setValue(\"users_to_be_disconnected\", \"non_resumable_guest\");\n\t\tliveAgentSetupGr.update();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"97e142fe436121108aa06a6f5bb8f27f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7ca3f33704b52210559073c06a02f75d","value":"7ca3f33704b52210559073c06a02f75d"},"sys_update_name":"sys_script_fix_97e142fe436121108aa06a6f5bb8f27f","sys_updated_by":"admin","sys_created_on":"2023-03-17 00:14:43","name":"Set Users to be disconnected default val","sys_name":"Set Users to be disconnected default val","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"7","description":"Going forward we would be using , overview_help.visited.NextExperience so we can remove the overview_help.visited.Sandiego userpreference on upgrades.","sys_updated_on":"2022-04-18 13:31:52","sys_tags":"","record_for_rollback":"true","script":"removeSandiegoUserPref();\n\nfunction removeSandiegoUserPref() {\n\tif (!pm.isZboot()) {\n\t\tvar gr = new GlideRecord(\"sys_user_preference\");\n\t\tgr.setWorkflow(false);\n\t\tgr.addQuery('name', 'overview_help.visited.SanDiego');\n\t\tgr.query();\n\t\twhile(gr.next()) {\n\t\t\tgr.deleteRecord();\n\t\t}\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"98e2beb577be41109b231558ca5a9976","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/41fd277304752210559073c06a02f702","value":"41fd277304752210559073c06a02f702"},"sys_update_name":"sys_script_fix_98e2beb577be41109b231558ca5a9976","sys_updated_by":"admin","sys_created_on":"2022-04-12 12:10:37","name":"Remove sandiego overview help preference","sys_name":"Remove sandiego overview help preference","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"In pre Istanbul releases sys_rest_message_fn does not have http_method and asumes function_name as http method. This script updates such exiting records setting the http_method from function_name.","sys_updated_on":"2016-05-16 21:40:06","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('sys_rest_message_fn');\ngr.addNullQuery('http_method');\ngr.query();\nwhile (gr.next()){\n\tif (!gr.function_name.nil() && \n\t\t ((gr.function_name == 'get') || (gr.function_name == 'put') || \n\t\t  (gr.function_name == 'delete') || (gr.function_name == 'post'))){\n\t  \tgr.setWorkflow(false);\n\t\tgr.setUseEngines(false);\n\t\tgr.http_method = gr.function_name;\n\t\tgr.update();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"993a80739f1312005cf3ffa4677fcfca","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/938363f304312210559073c06a02f766","value":"938363f304312210559073c06a02f766"},"sys_update_name":"sys_script_fix_993a80739f1312005cf3ffa4677fcfca","sys_updated_by":"admin","sys_created_on":"2016-05-16 20:09:37","name":"Set HTTP method","sys_name":"Set HTTP method","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"The column \"alotted_time\" on the \"mtg_agenda_item\" table was misspelt when created.  This fix job corrects the spelling of the label for this field in the \"sys_documentation\" table.","sys_updated_on":"2017-03-21 10:32:58","sys_tags":"","record_for_rollback":"false","script":"(function(){\n\tvar sysDocGr = new GlideRecord(\"sys_documentation\");\n\tsysDocGr.addQuery(\"name\", \"mtg_agenda_item\");\n\tsysDocGr.addQuery(\"element\", \"alotted_time\");\n\tsysDocGr.addQuery(\"label\", \"Alotted time\");\n\tsysDocGr.addQuery(\"language\", \"en\");\n\tsysDocGr.query();\n\t\n\tif (sysDocGr.next()) {\n\t\tsysDocGr.label = \"Allotted time\";\n\t\tsysDocGr.plural = \"Allotted times\";\n\t\tsysDocGr.update();\n\t}\n})();","sys_class_name":"sys_script_fix","sys_id":"9962e14b3b2132008d224180e2efc4e3","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bdfbaf7704352210559073c06a02f704","value":"bdfbaf7704352210559073c06a02f704"},"sys_update_name":"sys_script_fix_9962e14b3b2132008d224180e2efc4e3","sys_updated_by":"admin","sys_created_on":"2017-03-21 10:32:58","name":"Fix spelling of \"alotted_time\"","sys_name":"Fix spelling of \"alotted_time\"","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Allow delete on ml_solution table","sys_updated_on":"2022-06-28 00:20:24","sys_tags":"","record_for_rollback":"true","script":"var gr = new GlideRecord('sys_db_object');\n\tgr.addQuery('name','ml_solution');\n\tgr.query();\n\tif(gr.next()){\n\t\tgr.delete_access = true;\n\t\tgr.update();\n\t\tgs.info('Upgrade Script: Delete Application Access Updated for ml_solution table');\n}","sys_class_name":"sys_script_fix","sys_id":"9a0370ea7710111053761c481e5a9947","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_script_fix_9a0370ea7710111053761c481e5a9947","sys_updated_by":"admin","sys_created_on":"2022-06-28 00:20:24","name":"Fix Script: Allow Delete on ml_solution","sys_name":"Fix Script: Allow Delete on ml_solution","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"28","description":"virtual.agent user should be changed to a non-interactive user","sys_updated_on":"2023-02-02 19:41:32","sys_tags":"","record_for_rollback":"false","script":"convertToNonInteractive();\n\nfunction convertToNonInteractive() {\n\tvar gr = new GlideRecord(\"sys_user\");\n\tgr.addQuery(\"user_name\", \"virtual.agent\");\n\tgr.query();\n\tif (gr.next()) {\n\t\t// override data policies\n\t\tgr.setUseEngines(false);\n\t\t// bypass business rules\n\t\tgr.setWorkflow(false);\n\t\tgr.web_service_access_only = true;\n\t\tgr.update();\n\t} else {\n\t\t// \"Insert Default User\" script will enable web_service_access_only if VA user is not found\n\t\tgs.info(\"Failed to find user virtual.agent\");\n\t}\n}\n","sys_class_name":"sys_script_fix","sys_id":"9a69428e432021108aa06a6f5bb8f2d0","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_9a69428e432021108aa06a6f5bb8f2d0","sys_updated_by":"admin","sys_created_on":"2023-01-24 00:02:31","name":"Convert VA user to non-interactive user","sys_name":"Convert VA user to non-interactive user","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"9","description":"The UI Policy 'Hide Icons' exists in 2 different plugins with the same sys_id. So this fix script deletes this UI Policy.","sys_updated_on":"2023-10-13 18:52:43","sys_tags":"","record_for_rollback":"false","script":"/*\nDelete UI Policy\n- Log message when deletion of the UI Policy fails\n*/\nvar uiPolicyGr = new GlideRecord('sys_ui_policy');\nuiPolicyGr.addQuery('table', 'sys_sg_screen');\nuiPolicyGr.addQuery('sys_id', '85d3760473231300b8d77a2f1bf6a72e');\nuiPolicyGr.query();\nif (uiPolicyGr.next()) {\n\tgs.info('Deleting UI policy: ' + uiPolicyGr.getValue('sys_id'));\n\tuiPolicyGr.deleteRecord();\n} else {\n\tgs.warn('Unable to find UI Policy ' + uiPolicyGr.getValue('sys_id') + ' on sys_sg_screen table. ');\n}\n\n/*\nDelete corresponding UI Policy Action\n- Log message when deletion of the UI Policy Action fails\n*/\nvar uiPolicyActionGr = new GlideRecord('sys_ui_policy_action');\nuiPolicyActionGr.addQuery('ui_policy', '85d3760473231300b8d77a2f1bf6a72e');\nuiPolicyActionGr.query();\nif (uiPolicyActionGr.next()) {\n\tgs.info('Deleting UI policy Action: ' + uiPolicyActionGr.getValue('sys_id'));\n\tuiPolicyActionGr.deleteRecord();\n} else {\n\tgs.warn('Unable to find UI Policy ' + uiPolicyActionGr.getValue('sys_id') + ' on sys_sg_screen table.');\n}","sys_class_name":"sys_script_fix","sys_id":"9a6f5e5a73f53510a1dd936aaf148b64","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/75d42bbf04312210559073c06a02f78d","value":"75d42bbf04312210559073c06a02f78d"},"sys_update_name":"sys_script_fix_9a6f5e5a73f53510a1dd936aaf148b64","sys_updated_by":"admin","sys_created_on":"2023-10-12 20:16:30","name":"Delete conflicting UI Policy","sys_name":"Delete conflicting UI Policy","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"The with-condition start rule should not be available yet in Quebec. This script adds reference qualifiers to remove this option from lanes and activities.","sys_updated_on":"2020-10-01 16:23:54","sys_tags":"","record_for_rollback":"false","script":"function hideStartRule(table, qualifier, reference) {\n\tvar gr = new GlideRecord(\"sys_dictionary\");\n\tgr.setWorkflow(false);\n\tgr.addQuery(\"name\", table);\n\tgr.addQuery(\"element\", \"start_rule\");\n    gr.query();\n\n    while (gr.next()) {\n        gr.setValue(\"reference\", reference);\n        gr.setValue(\"internal_type\", \"reference\");\n        gr.setValue(\"reference_qual\", \"active=true^EQ\");\n        gr.update();\n    }\n}\n\nfunction deleteStarRuleChoices() {\n\tvar gr = new GlideRecord(\"sys_choice\");\n\tgr.setWorkflow(false);\n\tgr.addQuery(\"name\", \"IN\", \"sys_pd_activity,sys_pd_lane\");\n\tgr.addQuery(\"element\", \"start_rule\");\n    gr.query();\n\t\n\twhile (gr.next()) {\n\t\tgr.deleteRecord();\n    }\n}\n\nhideStartRule(\"sys_pd_lane\", \"sys_id!=77ebf7a3533110108b45ddeeff7b125a^EQ\", \"sys_pd_lane_start_rule_definition\");\nhideStartRule(\"sys_pd_activity\", \"sys_id!=4d197b23533110108b45ddeeff7b129c^EQ\", \"sys_pd_activity_start_rule_definition\");\ndeleteStarRuleChoices();","sys_class_name":"sys_script_fix","sys_id":"9a82ce1a53231010cc98ddeeff7b1244","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd5e23f304752210559073c06a02f753","value":"cd5e23f304752210559073c06a02f753"},"sys_update_name":"sys_script_fix_9a82ce1a53231010cc98ddeeff7b1244","sys_updated_by":"admin","sys_created_on":"2020-10-01 16:23:54","name":"Hide with-condition start rule","sys_name":"Hide with-condition start rule","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Update definition's column type from reference to list of references","sys_updated_on":"2023-05-09 01:24:47","sys_tags":"","record_for_rollback":"true","script":"var gr = new GlideRecord(\"sys_dictionary\");\ngr.addQuery(\"name\", \"sys_one_extend_usage\");\ngr.addQuery(\"element\", \"definition\");\ngr.query();\nif (gr.next()) {\n\tvar internalType = gr.getValue(\"internal_type\");\n\tif(internalType != \"glide_list\") {\n        gr.setValue(\"internal_type\", \"glide_list\");\n        gr.setValue(\"column_label\", \"Definitions\");\n\t\tgr.update();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"9aad87bbc7222110967a34c91dc26090","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7c84affb04312210559073c06a02f73d","value":"7c84affb04312210559073c06a02f73d"},"sys_update_name":"sys_script_fix_9aad87bbc7222110967a34c91dc26090","sys_updated_by":"admin","sys_created_on":"2023-05-09 01:23:22","name":"Change OneExtendUsage column type","sys_name":"Change OneExtendUsage column type","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"true","sys_mod_count":"13","description":"This fix script is to revert back to old native mobile \"Employee Profile\" cards from the new cards shipped as part of Utah next experience. This script is only for the customers who have upgraded to Utah and want to go back to old mobile views.","sys_updated_on":"2022-08-25 10:11:01","sys_tags":"","record_for_rollback":"true","script":"//Switch runManually to true in order to run this script\nvar runManually = false;\nif (runManually) {\n    var util = new sn_me.MobileNextExpUpgradeUtil();\n    revertEmployeeProfileCard();\n}\n\nfunction revertEmployeeProfileCard() {\n    var ep = [\n        //Coworker List Item Config\n        {\n            \"masterItem\": \"47a5c9051b3fb010322f0fe0604bcb44\",\n            \"newCard\": \"8049edec07c95910264f78e99cd30031\",\n            \"oldCard\": \"b2ac74891bfbb010322f0fe0604bcb4e\",\n            \"table\": \"sys_sg_master_item\"\n        },\n        //Direct Reports List Item Config\t\n        {\n            \"masterItem\": \"b0e209411b3fb010322f0fe0604bcb01\",\n            \"newCard\": \"8049edec07c95910264f78e99cd30031\",\n            \"oldCard\": \"b2ac74891bfbb010322f0fe0604bcb4e\",\n            \"table\": \"sys_sg_master_item\"\n        },\n        //Manager List Item Config\t\n        {\n            \"masterItem\": \"bc2f344d1bfbb010322f0fe0604bcb0c\",\n            \"newCard\": \"8049edec07c95910264f78e99cd30031\",\n            \"oldCard\": \"b2ac74891bfbb010322f0fe0604bcb4e\",\n            \"table\": \"sys_sg_master_item\"\n        },\n        //Selected User Profile\t\n        {\n            \"masterItem\": \"7c3945c8535001106d79ddeeff7b1240\",\n            \"newCard\": \"ffbaec1107459910264f78e99cd300a1\",\n            \"oldCard\": \"813e4100539001106d79ddeeff7b12d7\",\n            \"table\": \"sys_sg_form_screen\"\n        }\n    ];\n\n    ep.forEach(function revertEachLink(link) {\n        util.switchConnection(link.table, \"view_config\", link.masterItem, link.newCard, link.oldCard);\n    });\n}","sys_class_name":"sys_script_fix","sys_id":"9ae64a1853e19910fedfddeeff7b125c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1e95bac2738f001001b566b90ff6a7cd","value":"1e95bac2738f001001b566b90ff6a7cd"},"sys_update_name":"sys_script_fix_9ae64a1853e19910fedfddeeff7b125c","sys_updated_by":"admin","sys_created_on":"2022-08-22 09:56:53","name":"Mobile Revert Next Exp - EP","sys_name":"Mobile Revert Next Exp - EP","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1e95bac2738f001001b566b90ff6a7cd","value":"1e95bac2738f001001b566b90ff6a7cd"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Finds duplicate system_id jobs and re-runs SchedulerVNCC for nodes which have duplicate system_id jobs","sys_updated_on":"2022-03-02 19:49:43","sys_tags":"","record_for_rollback":"true","script":"(function() {\n    if (pm.isZboot())\n        return;\n\n    var ga = new GlideAggregate(\"sys_trigger\");\n    ga.setWorkflow(false);\n    ga.addNotNullQuery(\"parent\");\n    ga.addNotNullQuery(\"system_id\");\n    ga.addQuery(\"system_id\", \"!=\", \"ALL NODES\");\n    ga.addQuery(\"system_id\", \"!=\", \"ACTIVE NODES\");\n    ga.addAggregate(\"COUNT\", \"system_id\");\n    ga.groupBy(\"system_id\");\n    ga.groupBy(\"parent\");\n    ga.query();\n\n    var nodeSystemIds = {};\n    while (ga.next()) {\n        if (parseInt(ga.getAggregate(\"COUNT\", \"system_id\")) > 1) {\n            nodeSystemIds[ga.getValue(\"system_id\")] = true;\n        }\n    }\n\n    for (var systemId in nodeSystemIds) {\n        var node = new GlideRecord(\"sys_cluster_state\");\n        node.addQuery(\"system_id\", systemId);\n        node.addQuery(\"status\", \"online\");\n        node.query();\n        if (node.next()) {\n            gs.print(\"Re-running SchedulerVNCC for node: \" + systemId + \" since duplicate system_id jobs found pinned to this node\");\n            new SchedulerVNCC().propagateRATriggersForNode(node);\n        }\n    }\n})();","sys_class_name":"sys_script_fix","sys_id":"9af989b453460110b72addeeff7b122d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4863eb7304312210559073c06a02f71c","value":"4863eb7304312210559073c06a02f71c"},"sys_update_name":"sys_script_fix_9af989b453460110b72addeeff7b122d","sys_updated_by":"admin","sys_created_on":"2022-03-02 19:46:06","name":"Clean up duplicate system_id child jobs","sys_name":"Clean up duplicate system_id child jobs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"5","description":"Updates Usecase Id directly on the ML solution definition\r\nThis applies for Quebec/Rome -> SD upgrade. ","sys_updated_on":"2021-10-21 23:13:58","sys_tags":"","record_for_rollback":"true","script":"executeFix();\n\nfunction executeFix() {\n\tvar configGr = new GlideRecord(AutoResolutionConstants.CONFIG_TABLE_NAME);\n\tconfigGr.addQuery('target_table_name', AutoResolutionConstants.INCIDENT_TABLE_NAME);\n\tconfigGr.query();\n\t\n\tif (configGr.next()) {\n\t\tvar mlSolutionName = configGr.getValue('ml_solution_name');\n\t\t// check if the solution is from Quebec and update it\n\t\tif (!gs.nil(mlSolutionName)) \n\t\t\tupdateMLCapabilityDefinition(mlSolutionName);\n\t\telse {\n\t\t\tvar languageConfigGr = new GlideRecord(AutoResolutionConstants.CONFIG_LANGUAGE_TABLE_NAME);\n\t\t\tlanguageConfigGr.addQuery('configuration', configGr.getUniqueValue());\n\t\t\tlanguageConfigGr.query();\n\t\t\twhile (languageConfigGr.next()) {\n\t\t\t\tmlSolutionName = languageConfigGr.getValue('ml_solution_name');\n\t\t\t\t// update for the solutions on language configurations\n\t\t\t\tif (!gs.nil(mlSolutionName))\n\t\t\t\t\tupdateMLCapabilityDefinition(mlSolutionName);\n\t\t\t}\n\t\t}\n\t}\t\n}\n\nfunction updateMLCapabilityDefinition(solutionName) {\n\tvar gr = new GlideRecord('ml_capability_definition_base');\n\tgr.addQuery('solution_name', solutionName);\n\tgr.query();\n\t\n\tif (gr.next()) {\n\t\tvar newProps = {};\n\t\tnewProps = JSON.parse(gr.getValue('solution_properties'));\n\t\tnewProps.advancedParams = {\"mluc\":AutoResolutionConstants.INCIDENT_USE_CASE_ID};\n\t\tgr.setValue('solution_properties', JSON.stringify(newProps));\n\t\tgr.update();\n\t\tgs.info('IAR Fix Script execution: Finished updating ML Usecase Id for Incident Auto-Resolution configuration with solution name: {0}', solutionName);\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"9b2c785e77173010f14a24f1cd5a99d3","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca4f3f704b52210559073c06a02f789","value":"aca4f3f704b52210559073c06a02f789"},"sys_update_name":"sys_script_fix_9b2c785e77173010f14a24f1cd5a99d3","sys_updated_by":"admin","sys_created_on":"2021-10-21 17:09:23","name":"Update ML Usecase Id for IAR","sys_name":"Update ML Usecase Id for IAR","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"5","description":"Extract hostname from the instance URL and popuate in Hostname allow list(sys_cs_hostname_allow_list) table ","sys_updated_on":"2021-03-26 06:42:41","sys_tags":"","record_for_rollback":"false","script":"var url = gs.getProperty(\"glide.servlet.uri\");\n\nif (!gs.nil(url)) {\n\tvar hostnameHelper = new global.AllowedHostnameHelper();\n\tvar hostname = hostnameHelper.extractHostnameFromURL(url);\t\n\tif (hostnameHelper.checkHostnameExists(hostname)) \n\t\tgs.info('Given hostname {0} already exists in the Hostname allow list table.', hostname);\n\telse {\n\t\thostnameHelper.insertHostname(hostname);\n\t\tgs.info('Added hostname {0} from url {1} in the Hostname allow list table.', hostname, url);\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"9b6c303f73122010f14a063f34f6a712","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_9b6c303f73122010f14a063f34f6a712","sys_updated_by":"admin","sys_created_on":"2021-02-19 19:47:34","name":"Populate hostname in allow list for CS","sys_name":"Populate hostname in allow list for CS","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Repalce sys_cs_ tables' ACL role from maint to admin","sys_updated_on":"2019-01-07 23:28:11","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('sys_security_acl_role');\ngr.addQuery('sys_name', 'STARTSWITH', 'sys_cs_');\ngr.addQuery('sys_name', 'ENDSWITH', '.maint');\ngr.addQuery('sys_security_acl.operation', 'read');\ngr.query();\nwhile (gr.next()) {\n   var name = gr.sys_name.toString();\n   gr.setDisplayValue('sys_user_role', 'admin');\n   gr.update();\n   gs.info(\"update acl role [\" + name + \"] to [\" + gr.sys_name + \"]\");\n}\n","sys_class_name":"sys_script_fix","sys_id":"9b7f276a0b7223000e83c71437673a86","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_9b7f276a0b7223000e83c71437673a86","sys_updated_by":"admin","sys_created_on":"2019-01-07 23:28:11","name":"fix sys_cs_ tables' acl role","sys_name":"fix sys_cs_ tables acl role","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"This is one time script which change sys_dictionary for selected table which has reference to sys_flow_context, set reference_cascade rule to none intead of --None-- (same as null). Why we changing it ? : If we set cascade rule to none, it will not clear the value when record get deleted from sys_flow_context Owner : Dev-Flow Engine","sys_updated_on":"2021-09-22 19:13:56","sys_tags":"","record_for_rollback":"false","script":"\n\t\t\t var gr = new GlideRecord(\"sys_dictionary\"); gr.addEncodedQuery(\"reference=sys_flow_context^elementLIKEcontext^nameINsc_cat_item_review_flow_context_mtom,sc_req_item,sc_service_fulfillment_step_data,sys_flow_plan_context_binding,var__m_sys_flow_step_definition_output_779583e053020300f5bf435723dc342b,var__m_sys_hub_flow_logic_variable_5ede711653223300414eddeeff7b1256\"); gr.reference_cascade_rule = 'none'; gr.setWorkflow(false); gr.updateMultiple();","sys_class_name":"sys_script_fix","sys_id":"9be1448977323010b599e0490e5a9921","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fd4b2f7304352210559073c06a02f77a","value":"fd4b2f7304352210559073c06a02f77a"},"sys_update_name":"sys_script_fix_9be1448977323010b599e0490e5a9921","sys_updated_by":"sunil.kumar@snc","sys_created_on":"2021-09-22 19:13:56","name":"Flow designer : DEF0237132 ","sys_name":"Flow designer : DEF0237132 ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"sunil.kumar@snc","sys_policy":""},{"before":"false","unloadable":"true","sys_mod_count":"1","description":"Set Default HistoryWalker Implementation.","sys_updated_on":"2024-04-25 12:47:59","sys_tags":"","record_for_rollback":"false","script":"(function() {\n    if (GlidePluginManager.isZboot())\n        gs.setProperty('com.snc.walker.default', 'CHECKPOINT');\n})();","sys_class_name":"sys_script_fix","sys_id":"9c1b5e199f31021065fe946eda0a1c3f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3247abbb04b12210559073c06a02f7df","value":"3247abbb04b12210559073c06a02f7df"},"sys_update_name":"sys_script_fix_9c1b5e199f31021065fe946eda0a1c3f","sys_updated_by":"admin","sys_created_on":"2024-04-25 12:47:28","name":"Set Default HistoryWalker Implementation","sys_name":"Set Default HistoryWalker Implementation","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"2","description":"Dashboard relationship health tab missing widgets. Need to apply new portal page one more time.","sys_updated_on":"2019-05-01 19:10:13","sys_tags":"","record_for_rollback":"false","script":"sn_applyonce.ApplyOnce.allowOneMoreUpdate(\"sys_portal_page_10f398c0eb10220078e44d3df106fe9d.xml\");\ngs.log(\"Relationship health portal page apply once API called\");","sys_class_name":"sys_script_fix","sys_id":"9c5149d3b7013300ee0d3177ee11a956","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/989b6bf304352210559073c06a02f712","value":"989b6bf304352210559073c06a02f712"},"sys_update_name":"sys_script_fix_9c5149d3b7013300ee0d3177ee11a956","sys_updated_by":"admin","sys_created_on":"2019-05-01 14:56:48","name":"Apply relationship health portal page","sys_name":"Apply relationship health portal page","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"This fix script is used to populate the newly introduced filter_type column for existing records of sys_generative_ai_prompt_config ","sys_updated_on":"2024-06-07 16:14:18","sys_tags":"","record_for_rollback":"true","script":"gs.info(sn_i18n.Message.getMessage(\"one_extend\", \"Started executing fix script: Fill filter_type  for ai_prompt_config\"));\n\n// Populate filter_type field for existing genAIPromptConfigs(sys_generative_ai_prompt_config) records.\nvar genAIPromptConfigGr = new GlideRecord(\"sys_generative_ai_prompt_config\");\ngenAIPromptConfigGr.query();\ngenAIPromptConfigGr.addNullQuery('filter_type');\ngenAIPromptConfigGr.setValue('filter_type', 'default');\ngenAIPromptConfigGr.updateMultiple();\n\ngs.info(sn_i18n.Message.getMessage(\"one_extend\", \"Successfully completed executing fix script: Fill filter_type  for ai_prompt_config\"));","sys_class_name":"sys_script_fix","sys_id":"9c5624d77fa60210f465c3b76d86653c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7c84affb04312210559073c06a02f73d","value":"7c84affb04312210559073c06a02f73d"},"sys_update_name":"sys_script_fix_9c5624d77fa60210f465c3b76d86653c","sys_updated_by":"admin","sys_created_on":"2024-06-07 16:14:18","name":"Fill filter_type  for ai_prompt_config","sys_name":"Fill filter_type  for ai_prompt_config","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Sets nlu utterance source column to manual","sys_updated_on":"2022-10-07 08:07:11","sys_tags":"","record_for_rollback":"false","script":"(function() {\n    if (pm.isZboot()) {\n        return;\n    }\n\n\n    var utteranceGr = new GlideRecord(\"sys_nlu_utterance\");\n    utteranceGr.addNullQuery('source');\n    utteranceGr.setValue('source', 'manual');\n    utteranceGr.updateMultiple();\n    gs.info('NLU Utterance: updated utterance source field to manual');\n\n})();","sys_class_name":"sys_script_fix","sys_id":"9ca072f65349d110ec1fddeeff7b12a1","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_script_fix_9ca072f65349d110ec1fddeeff7b12a1","sys_updated_by":"admin","sys_created_on":"2022-08-05 11:04:33","name":"NLU utterance source cloumn","sys_name":"NLU utterance source cloumn","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"true","sys_mod_count":"3","description":"Sets 'problem.role.relate_closed_incidents' property to '-nobody-' on upgrade .\r\nSets 'com.snc.problem.create_from_incident.copy_attachments' property to false on upgrade.","sys_updated_on":"2021-11-08 10:56:16","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tif (GlidePluginManager.isZboot())\n\t\treturn;\n\tvar prevWF = gs.getSession().getWorkflow();\n\ttry {\n\t\tgs.getSession().setWorkflow(true);\n\t\tgs.setProperty(\"problem.role.relate_closed_incidents\", \"-nobody-\");\n\t\tgs.setProperty('com.snc.problem.create_from_incident.copy_attachments', false);\n\t}\n\tfinally{\n\t\tgs.getSession().setWorkflow(prevWF);\n\t}\n})();","sys_class_name":"sys_script_fix","sys_id":"9d6ee058530a3010f4fdddeeff7b1249","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8ddc67fb04352210559073c06a02f70d","value":"8ddc67fb04352210559073c06a02f70d"},"sys_update_name":"sys_script_fix_9d6ee058530a3010f4fdddeeff7b1249","sys_updated_by":"admin","sys_created_on":"2021-08-14 07:39:56","name":"Problem Mngmt: Set Upgrade Properties","sys_name":"Problem Mngmt: Set Upgrade Properties","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Sets Domain Master Attribute of Shift Contact Preferences to 'group'","sys_updated_on":"2021-10-27 17:57:44","sys_tags":"","record_for_rollback":"true","script":"var shiftContactPrefGr = new GlideRecord('sys_dictionary');\t\nshiftContactPrefGr.get('name', 'cmn_rota_contact_preference');\t\nvar ga = new GlideAttributes(shiftContactPrefGr.attributes);\t\nif (ga.containsAttribute('domain_master')) {\t\n    ga.setAttribute('domain_master', 'group');\n    shiftContactPrefGr.attributes = ga.serializeAttributes();\t\n    shiftContactPrefGr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"9d91001853673010a487ddeeff7b12be","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_script_fix_9d91001853673010a487ddeeff7b12be","sys_updated_by":"admin","sys_created_on":"2021-10-27 17:57:44","name":"On-Call Reset Domain Master Attribute","sys_name":"On-Call Reset Domain Master Attribute","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"31","description":"This is a migration which migrates Contact Support memnu from sys_cs_branding_setup to va_branding_contact_menu","sys_updated_on":"2021-03-19 20:58:36","sys_tags":"","record_for_rollback":"false","script":"var brandingGr = new GlideRecord('sys_cs_branding_setup');\nbrandingGr.query();\n\nwhile (brandingGr.next()) {\n    var utils = new ContactMenuUtils(brandingGr);\n    utils.insertDefaultContactMenuItems();\n}","sys_class_name":"sys_script_fix","sys_id":"9d985bbe533200109686ddeeff7b124d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/24a3b33704b52210559073c06a02f7d4","value":"24a3b33704b52210559073c06a02f7d4"},"sys_update_name":"sys_script_fix_9d985bbe533200109686ddeeff7b124d","sys_updated_by":"admin","sys_created_on":"2020-02-10 10:06:35","name":"Moving ContactMenu from brandingRecord  ","sys_name":"Moving ContactMenu from brandingRecord  ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"14","description":"This script updates the \"Color\" and the \"Quick Action menu color\" labels in sys_sg_navigation table by prepending Legacy as a prefix.","sys_updated_on":"2022-09-02 16:16:49","sys_tags":"","record_for_rollback":"true","script":"function updateNavigationFieldLabels() {\n\tgs.info(\"Field labels update for `sys_sg_navigation` has started\");\n\tvar sysDictGr = new GlideRecord('sys_dictionary');\n\tsysDictGr.addQuery(\"name\", \"sys_sg_navigation\");\n\tsysDictGr.addQuery(\"element\", [\"color\", \"quick_actions_menu_color\"]);\n\tsysDictGr.query();\n\t\n\twhile (sysDictGr.next()) {\n\t\tif (sysDictGr.getValue('column_label') === 'Color')\n\t\t\tsysDictGr.setValue(\"column_label\", \"Legacy Color\");\n\t\telse if (sysDictGr.getValue('column_label') === 'Quick Actions Menu Color')\n\t\t\tsysDictGr.setValue('column_label', \"Legacy Quick Actions Menu Color\");\n\t\tsysDictGr.update();\n\t}\n\tgs.info(\"Field labels update for `sys_sg_navigation` has ended\");\n}\n\nupdateNavigationFieldLabels();","sys_class_name":"sys_script_fix","sys_id":"9dd82c37772111109560df454b5a9984","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/32f4abff04312210559073c06a02f765","value":"32f4abff04312210559073c06a02f765"},"sys_update_name":"sys_script_fix_9dd82c37772111109560df454b5a9984","sys_updated_by":"admin","sys_created_on":"2022-09-02 00:09:35","name":"Update color labels in sys_sg_navigation","sys_name":"Update color labels in sys_sg_navigation","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Update destination_screen reference qualifer of sys_sg_button table","sys_updated_on":"2020-12-23 05:50:16","sys_tags":"","record_for_rollback":"false","script":"function updateDestinationScreenRefQualOfButton() {\n    var gr = new GlideRecord('sys_dictionary');\n    gr.addQuery('name', 'sys_sg_button');\n    gr.addQuery('element', 'destination_screen');\n    gr.query();\n    if (!gr.next())\n        return;\n\t\n    gr.setValue('reference_qual', \"javascript: new SGParameterScreenHelper().getFilteredScreenRefQual();\");\n    gr.setWorkflow(false);\n    gr.update();\n}\n\nupdateDestinationScreenRefQualOfButton();","sys_class_name":"sys_script_fix","sys_id":"9e1113f073112010470a87086bf6a7f7","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b5f42bff04312210559073c06a02f748","value":"b5f42bff04312210559073c06a02f748"},"sys_update_name":"sys_script_fix_9e1113f073112010470a87086bf6a7f7","sys_updated_by":"admin","sys_created_on":"2020-12-23 05:50:16","name":"Update destination ref qual of button","sys_name":"Update destination ref qual of button","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Change the table referenced by 'trigger' field on ui_notification_inbox from 'notification_trigger' to 'sys_notification'.","sys_updated_on":"2019-08-24 22:11:55","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tvar sysNotifTable = 'sys_notification';\n\tvar notifTriggerTable = 'notification_trigger';\n\t\n\tif (!(new GlideRecord(sysNotifTable).isValid()))\n\t\treturn;\n\n\tvar gr = new GlideRecord('sys_dictionary');\n\tgr.addQuery('name', 'ui_notification_inbox');\n\tgr.addQuery('element', 'trigger');\n\tgr.addQuery('reference', notifTriggerTable);\n\tgr.query();\n\t\n\tif (gr.next()) {\n\t\tgr.setValue('reference', sysNotifTable);\n\t\tgr.update();\n\t}\n})();","sys_class_name":"sys_script_fix","sys_id":"9ff1b6980b27330085c16c2367673aa2","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0893a3f304312210559073c06a02f7f1","value":"0893a3f304312210559073c06a02f7f1"},"sys_update_name":"sys_script_fix_9ff1b6980b27330085c16c2367673aa2","sys_updated_by":"admin","sys_created_on":"2019-08-24 22:11:55","name":"Change trigger reference on notif inbox","sys_name":"Change trigger reference on notif inbox","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"0","description":"Remove now-filter component from sn-component-filter scope to allow recreation","sys_updated_on":"2023-11-24 10:33:50","sys_tags":"","record_for_rollback":"true","script":"function runFix() {\n    if (!pm.isZboot()) {\n      // find 'now-filter' component in previous 'sn-component-filter' scope and remove it\n      var oldScope = '87f745a49f471a5ac8f5832fd3af649a';\n      var gr = new GlideRecord('sys_ux_lib_component');\n      if (gr.get('8c35b0a3e06259fbd60c761b6f59cc29') && gr.getValue('sys_scope') === oldScope) {\n        gs.info('Found ' + gr.getValue('tag') + ' component definition in outdated scope. We\\'re addressing it promptly.');\n        gs.info('Removing ' + gr.getValue('tag') + ' from sys_ux_lib_component');\n        gr.deleteRecord();\n      }\n\n      gr = new GlideRecord('sys_ux_macroponent');\n      if (gr.get('3a258764f3c0eff24169f03511509673') && gr.getValue('sys_scope') === oldScope) {\n        gs.info('Removing ' + gr.getValue('name') + ' from sys_ux_macroponent');\n        gr.deleteRecord();\n      }\n\n      gs.info('Done removing now-filter in outdated scope. It will be recreated in latest scope when corresponding plugin activates.');\n    }\n}\n\nrunFix();","sys_class_name":"sys_script_fix","sys_id":"a05f31c443323110d48f4824c9b8f2ac","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/eec96fbb04f12210559073c06a02f711","value":"eec96fbb04f12210559073c06a02f711"},"sys_update_name":"sys_script_fix_a05f31c443323110d48f4824c9b8f2ac","sys_updated_by":"admin","sys_created_on":"2023-11-24 10:33:50","name":"Address now-filter scope change","sys_name":"Clean old now-filter scope","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"If CVSS score for any existing hardening settings have been changed as part of new baseline changes, those settings needs to be captured as changed settings for hardening comparison.","sys_updated_on":"2023-09-14 21:00:13","sys_tags":"","record_for_rollback":"true","script":"var scComplianceUtil = new sn_vsc.VSCComplianceUtil();\nvar gr = new GlideRecord('sn_vsc_instance_hardening_settings');\ngr.addEncodedQuery(\"harc_name=Enable Account Recovery^ORharc_name=Enable Updated Version of Multi SSO Plugin\");\ngr.query();\nwhile(gr.next()) {\n\tscComplianceUtil.updateSettingsInsert(gr.sys_id, gr.compliance_status);\n}","sys_class_name":"sys_script_fix","sys_id":"a0656e15a0513110f877a1d68480d508","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"sys_update_name":"sys_script_fix_a0656e15a0513110f877a1d68480d508","sys_updated_by":"maint","sys_created_on":"2023-09-14 21:00:13","name":"SC V1.3.2- Capture changes to CVSS score","sys_name":"SC V1.3.2- Capture changes to CVSS score","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"sys_created_by":"maint","sys_policy":"read"},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Clear attributes in sys_ux_composite_data to support all field types for sort_by field","sys_updated_on":"2021-11-02 13:57:19","sys_tags":"","record_for_rollback":"true","script":"if (!pm.isZboot()) {\n\tvar gr = new GlideRecord('sys_dictionary');\n\tgr.addQuery(\"name\", \"sys_ux_composite_datasource\");\n\tgr.addQuery(\"element\", \"sort_by\");\n\tgr.addNotNullQuery(\"attributes\");\n\tgr.query();\n\tif (gr.next()) {\n\t\tgr.attributes = \"\";\n\t\tgr.update();\n\t\tgs.print(\"Changed sys_ux_composite_data.sort_by Dictionary entry to support all field types\");\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"a0730a8e8763701092f199b73cbb35ca","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8218a73304f12210559073c06a02f779","value":"8218a73304f12210559073c06a02f779"},"sys_update_name":"sys_script_fix_a0730a8e8763701092f199b73cbb35ca","sys_updated_by":"admin","sys_created_on":"2021-11-02 13:57:19","name":"EVAM data source interleaving all types ","sys_name":"EVAM data source interleaving all types ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"11","description":"Update Field Label for 'Origin Type' to 'Artifact Type' and 'App Scope' to 'Artifact Scope' for the table 'outbound_request_usage_metrics'.","sys_updated_on":"2021-02-10 21:54:46","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\t\n\tif (pm.isZboot())\n\t\treturn; //Only run for upgrade\n\t\n\tvar fieldLabelArray = [];\n\t// add json object containing old field label and new field label\n\tfieldLabelArray.push({\"element\" : \"origin_type\", \"oldLabel\" : \"Origin Type\", \"newLabel\" : \"Artifact Type\", \"plural\": \"Artifact Types\" });\n\tfieldLabelArray.push({\"element\" : \"app_scope\", \"oldLabel\" : \"App Scope\", \"newLabel\" : \"Artifact Scope\", \"plural\": \"Artifact Scopes\" });\n\t\n\tvar tableName = \"outbound_request_usage_metrics\";\n\t\n\tfor (var i = 0; i < fieldLabelArray.length ; i++) {\n\t\tvar labelJsonObj = fieldLabelArray[i];\n\t\t//another for loop should be ok as Array length is 2\n\t\tvar oldLabel = labelJsonObj.oldLabel.toString();\n\t\tvar newLabel = labelJsonObj.newLabel.toString();\n\t\tvar element = labelJsonObj.element.toString();\n\t\tvar plural = labelJsonObj.plural.toString();\n\t\t\n\t\tgs.log(\"Changing field label of \" + tableName + \"['\"+ element + \"'] from \" + oldLabel + \" to \" + newLabel);\n\t\tif(!GlideTableDescriptor.isValid(tableName))\n\t\t\treturn;\n\t\t\n\t\tvar gr = new GlideRecord('sys_dictionary');\n\t\tgr.addQuery('name', tableName);\n\t\tgr.addQuery('element', element);\n\t\tgr.addQuery('column_label', oldLabel);\n\t\tgr.query();\n\t\tif (gr.next()) {\n\t\t\tgr.setValue('column_label', newLabel);\n\t\t\tgr.setWorkflow(false);\n\t\t\tgr.update();\n\t\t}\n\t\tgr = new GlideRecord('sys_documentation');\n\t\tgr.addQuery('name', tableName);\n\t\tgr.addQuery('element', element);\n\t\tgr.addQuery('language', 'en');\n\t\tgr.addQuery('label', oldLabel);\n\t\tgr.query();\n\t\tif (gr.next()) {\n\t\t\tgr.setValue('label', newLabel);\n\t\t\tgr.setValue('plural', plural);\n\t\t\tgr.setWorkflow(false);\n\t\t\tgr.update();\n\t\t}\n\t\tgs.log(\"Done changing field label of \" + tableName + \"['\"+ element + \"']\");\n\t}\n})();","sys_class_name":"sys_script_fix","sys_id":"a0ecdaec5b92201048cf51d11581c723","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8d9babf304352210559073c06a02f7e5","value":"8d9babf304352210559073c06a02f7e5"},"sys_update_name":"sys_script_fix_a0ecdaec5b92201048cf51d11581c723","sys_updated_by":"admin","sys_created_on":"2021-02-10 00:26:08","name":"Update Field Label for UA Metrics Table","sys_name":"Update Field Label for UA Metrics Table","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Mobile Offline - Add the new queue: \"mobile_offline_payload_gen_queue\" to the \"event.limited.queue\" to be able to make use of the new Event Management System for generating Mobile Offline Payloads","sys_updated_on":"2020-04-02 02:36:12","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tvar adder = new AddValueToCsvProperty();\n\tadder.add('event.limited.queues', 'mobile_offline_payload_gen_queue');\n})();","sys_class_name":"sys_script_fix","sys_id":"a0f6f16353330010c722ddeeff7b12f8","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/baa57f7b04b52210559073c06a02f754","value":"baa57f7b04b52210559073c06a02f754"},"sys_update_name":"sys_script_fix_a0f6f16353330010c722ddeeff7b12f8","sys_updated_by":"admin","sys_created_on":"2020-04-02 02:36:12","name":"Mobile Offline: add event queue entry","sys_name":"Mobile Offline: add event queue entry","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"8","description":"","sys_updated_on":"2019-08-28 13:20:58","sys_tags":"","record_for_rollback":"false","script":"var table = 'cmdb_ci_outage';\nvar column = 'short_description';\n\nvar dictionaryRecord = new GlideRecord('sys_dictionary');\ndictionaryRecord.setWorkflow(false);\ndictionaryRecord.addQuery('name', table);\ndictionaryRecord.addQuery('element', '');\ndictionaryRecord.query();\nif (dictionaryRecord.next() && dictionaryRecord.getValue('text_index') == false) {\n\tdictionaryRecord.setValue('text_index', true);\n\tdictionaryRecord.update();\n\n\tSNC.DictionaryAttribute.set(table, column, 'ts_weight', 50);\n\tGlideTextIndexEvent().indexAll(table, '');\n}","sys_class_name":"sys_script_fix","sys_id":"a1283a81536733005e32ddeeff7b1257","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd0d2b3f04352210559073c06a02f71d","value":"cd0d2b3f04352210559073c06a02f71d"},"sys_update_name":"sys_script_fix_a1283a81536733005e32ddeeff7b1257","sys_updated_by":"admin","sys_created_on":"2019-08-27 06:48:04","name":"Enable text indexing on Outage","sys_name":"Enable text indexing on Outage","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"true","sys_mod_count":"0","description":"","sys_updated_on":"2023-10-31 19:44:50","sys_tags":"","record_for_rollback":"true","script":"var oob_sources = {\n\t\"Tasks - Incidents\": \"1086235318f23110f8776e40dedab8d6\",\n\t\"Tasks - Problems\": \"7fc6235318f23110f8776e40dedab838\",\n\t\"People - Companies\": \"c8a72f5318f23110f8776e40dedab828\",\n\t\"Tasks - Catalog Tasks\": \"9dc72f5318f23110f8776e40dedab88a\",\n\t\"Tasks - Requests\": \"e9e7ef1318f23110f8776e40dedab89b\",\n\t\"Tasks - Change Requests\": \"c2462bdf18b23110f8776e40dedab87f\",\n\t\"People - Users\": \"29f6ef1318f23110f8776e40dedab894\",\n\t\"Tasks - Requested Items\": \"3917abdf18b23110f8776e40dedab8c3\",\n\t\"Tasks - Change Tasks\": \"e837235318f23110f8776e40dedab82a\",\n\t\"People - Groups\": \"d9672f5318f23110f8776e40dedab874\",\n\t\"Knowledge & Catalog - Catalog Items\": \"05872f5318f23110f8776e40dedab87e\",\n\t\"Knowledge & Catalog - Knowledge\": \"9c182f5318f23110f8776e40dedab87b\"\n};\n\nvar oobIds = [];\nfor (var oobSource in oob_sources)\n    oobIds.push(oob_sources[oobSource]);\n\nvar fields = [\"active\", \"condition\", \"group\", \"roles\", \"source_table\"];\nvar existingSources = GlideRecord(\"sys_search_source\");\nexistingSources.addQuery(\"sys_created_by\", \"system\");\nexistingSources.addQuery(\"sys_id\", \"NOT IN\", oobIds);\nexistingSources.query();\nwhile (existingSources.next()) {\n\tvar newId = oob_sources[existingSources.getValue(\"name\")];\n\tif (!newId)\n\t\tcontinue;\n\t// Retrieve new record\n\tvar correspondingSource = GlideRecord(\"sys_search_source\");\n\tcorrespondingSource.get(newId);\n\n\t// Copy field value changes to new record\n\tvar updated = false;\n\tfor (var fieldIndex in fields) {\n\t\tvar field = fields[fieldIndex];\n\t\tvar existingValue = trim(existingSources.getValue(field));\n\t\tvar newValue = trim(correspondingSource.getValue(field));\n\t\tif (newValue === existingValue)\n\t\t\tcontinue;\n\t\tupdated = true;\t\t\n\t\tif (!existingValue)\n\t\t\texistingValue = \"\";\n\t\tcorrespondingSource.setValue(field, existingValue);\n\t}\n\tif (updated)\n\t\tcorrespondingSource.update();\n\n\t// Replace old sys_id with new sys_id in m2m table\n\tvar m2m = GlideRecord(\"m2m_search_context_config_search_source\");\n\tm2m.addQuery(\"source\", existingSources.getUniqueValue());\n\tm2m.query();\n\tm2m.setValue(\"source\", newId);\n\tm2m.updateMultiple();\n\n\t// Remove old record\n\texistingSources.deleteRecord();\n}\n\n// Trim to account for condition leading/trailing whitespace\nfunction trim(value) {\n\tif (value)\n\t\tvalue = value.trim();\n\treturn value;\n}","sys_class_name":"sys_script_fix","sys_id":"a190dc2c5fd271109fa90676607313b7","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/37eda37304752210559073c06a02f7b6","value":"37eda37304752210559073c06a02f7b6"},"sys_update_name":"sys_script_fix_a190dc2c5fd271109fa90676607313b7","sys_updated_by":"admin","sys_created_on":"2023-10-31 19:44:50","name":"Replace search sources for translations","sys_name":"Replace search sources for translations","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Migrate open_nlu_driver_language.dialog_acts_supported","sys_updated_on":"2023-01-25 16:34:23","sys_tags":"","record_for_rollback":"true","script":"// Set dialog_acts_supported to FALSE for ALL open_nlu_driver_language records\nvar gr = new GlideRecord(\"open_nlu_driver_language\");\ngr.initialize();\ngr.setValue(\"dialog_acts_supported\", false);\ngr.setWorkflow(false);\ngr.updateMultiple();\n\n// Set dialog_acts_supported to TRUE for the \"Service Now NLU record for English\" record\ngr = new GlideRecord(\"open_nlu_driver_language\");\ngr.initialize();\ngr.get(\"297e8c635b2200101f254d3ba881c707\");\ngr.setValue(\"dialog_acts_supported\", true);\ngr.setWorkflow(false);\ngr.update();","sys_class_name":"sys_script_fix","sys_id":"a20532e2eb606110c27601c7c15228d9","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1ac3fb3704b52210559073c06a02f785","value":"1ac3fb3704b52210559073c06a02f785"},"sys_update_name":"sys_script_fix_a20532e2eb606110c27601c7c15228d9","sys_updated_by":"admin","sys_created_on":"2023-01-25 16:34:23","name":"Migrate dialog_acts_supported","sys_name":"Migrate dialog_acts_supported","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"true","sys_mod_count":"3","description":"\n\t\t\tSet the glide.activity.reload_timestamp to force a reload of all activity streams created prior to upgrade.\n\t\t","sys_updated_on":"2021-02-18 18:52:05","sys_tags":"","record_for_rollback":"false","script":"\n\t\t\t(function() {\n\t\t\t\tGlideActivityFix.fix_forceReloadAfterRebuild();\n\t\t\t})();","sys_class_name":"sys_script_fix","sys_id":"a21047cbc3122010c86903db7940dd1a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bb08e33304f12210559073c06a02f7ac","value":"bb08e33304f12210559073c06a02f7ac"},"sys_update_name":"sys_script_fix_a21047cbc3122010c86903db7940dd1a","sys_updated_by":"admin","sys_created_on":"2021-02-17 22:06:47","name":"Force Activity Reload After Upgrade","sys_name":"Force Activity Reload After Upgrade","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"8","description":"Migrate setup topics from general settings to default profile topics","sys_updated_on":"2021-04-20 10:21:34","sys_tags":"","record_for_rollback":"false","script":"var generalSettingObj = {};\nvar predecessorGr = new GlideRecord('sys_script_fix');\npredecessorGr.addQuery('sys_id', 'be909a87c7b91010fd68220eb4c2607b');\npredecessorGr.query();\nvar alreadyRan = predecessorGr.next();\n\nvar gr;\nif (!alreadyRan) {\n  gr = new GlideRecord('sys_cs_general_settings');\n  gr.addQuery('sys_domain', '=', 'global');\n  gr.setLimit(1);\n  gr.query();\n  while (gr.next()) {\n    var generalSetting = {\n      greeting: gr.getValue('welcome_topic'),\n      survey: gr.getValue('survey_topic'),\n      live_agent: gr.getValue('live_agent_topic'),\n      explore_help: gr.getValue('explore_help_topic'),\n      error: gr.getValue('error_topic'),\n      closing: gr.getValue('closing_topic'),\n      fallback: gr.getValue('fallback_topic'),\n      anything_else: gr.getValue('anything_else_topic')\n    };\n    updateContextProfileTopicForGlobal(generalSetting);\n  }\n\n  var grDomain = new GlideRecord('sys_cs_general_settings');\n  grDomain.addQuery('sys_domain', '!=', 'global');\n  grDomain.query();\n  while (grDomain.next()) {\n    var generalSettingDomain = {\n      greeting: grDomain.getValue('welcome_topic'),\n      survey: grDomain.getValue('survey_topic'),\n      live_agent: grDomain.getValue('live_agent_topic'),\n      explore_help: grDomain.getValue('explore_help_topic'),\n      error: grDomain.getValue('error_topic'),\n      closing: grDomain.getValue('closing_topic'),\n      fallback: grDomain.getValue('fallback_topic'),\n      anything_else: grDomain.getValue('anything_else_topic')\n    };\n    var sysDomain = grDomain.getValue('sys_domain');\n    var keys = Object.keys(generalSettingDomain);\n      keys.forEach(function(key, index) {\n        insertContextProfileTopic(sysDomain, key, generalSettingDomain[key]);\n      });\n  }\n}\n\n//temporarily disable the data policy on the \"active' flag\ngr = new GlideRecord('sys_data_policy2');\ngr.get('3757909353651010a813ddeeff7b1222');\ngr.setValue('active', false);\ngr.update();\n//set the default sys_cs_context_profile record active flag to true\ngr = new GlideRecord('sys_cs_context_profile');\ngr.get('3a33973653211010a813ddeeff7b125a');\ngr.setValue('active', true);\ngr.update();\n//reactivate the data policy on the active flag\ngr = new GlideRecord('sys_data_policy2');\ngr.get('3757909353651010a813ddeeff7b1222');\ngr.setValue('active', true);\ngr.update();\n\nfunction updateContextProfileTopicForGlobal(generalSetting) {\n  var grpt = new GlideRecord('sys_cs_context_profile_topic');\n  grpt.addQuery('context_profile', '3a33973653211010a813ddeeff7b125a');\n  grpt.query();\n  while (grpt.next()) {\n      var topicType = grpt.getValue('topic_type');\n      var sysId = grpt.getValue('sys_id');\n      generalSettingObj[topicType] = sysId;\n      if (generalSetting[topicType]) {\n          grpt.setValue('topic', generalSetting[topicType]);\n      }\n      else if (GlideStringUtil.nil(grpt.getValue('topic'))) {\n          grpt.setValue('topic', 'NULL');\n      }\n      grpt.update();\n  }\n}\n\nfunction insertContextProfileTopic(domain, gsKey, gsValue) {\n  var grptDomain = new GlideRecord('sys_cs_context_profile_topic');\n  grptDomain.initialize();\n  grptDomain.topic_type = gsKey;\n  grptDomain.topic = gsValue;\n  grptDomain.context_profile = '3a33973653211010a813ddeeff7b125a';\n  grptDomain.sys_domain = domain;\n  grptDomain.sys_overrides = generalSettingObj[gsKey];\n  grptDomain.insert();\n}","sys_class_name":"sys_script_fix","sys_id":"a21ec0db59e32010fa9b2a95320e903b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9ec3fb3704b52210559073c06a02f784","value":"9ec3fb3704b52210559073c06a02f784"},"sys_update_name":"sys_script_fix_a21ec0db59e32010fa9b2a95320e903b","sys_updated_by":"admin","sys_created_on":"2020-07-09 01:18:04","name":"VA Migrate to Custom Greetings","sys_name":"VA Migrate Setup Topics","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"5","description":"This script is to migrate the Signal data from \r\n1. Search Event ( sys_search_event ) to Search Signal Events table ( sys_search_signal_event ) and \r\n2. Search Results Clicked (sys_search_result_clicked) to Search Signal Result Event table ( sys_search_signal_result_event) ","sys_updated_on":"2020-04-26 16:31:40","sys_tags":"","record_for_rollback":"false","script":"function getSignalEventSysId(searchEvent) {\n    var g = new GlideRecord('sys_search_signal_event');\n    g.addQuery('search_event', searchEvent);\n    g.query();\n    g.next();\n\n    return g.getUniqueValue();\n}\n\nfunction populateSearchSignalEvent() {\n    var searchEventGr = new GlideRecord('sys_search_event');\n    searchEventGr.query();\n\n    while (searchEventGr.next()) {\n        var searchEventSysId = searchEventGr.getUniqueValue();\n        var browser = searchEventGr.getValue(\"browser\");\n        var latitude = searchEventGr.getValue(\"latitude\");\n        var longitude = searchEventGr.getValue(\"longitude\");\n        var searchResults = searchEventGr.getValue(\"search_results\");\n\n        var searchSignalEventGr = new GlideRecord('sys_search_signal_event');\n        if (!searchSignalEventGr.get('search_event', searchEventSysId)) {\n            searchSignalEventGr.initialize();\n            searchSignalEventGr.setValue(\"search_event\", searchEventSysId);\n            searchSignalEventGr.setValue(\"browser\", browser);\n            searchSignalEventGr.setValue(\"latitude\", latitude);\n            searchSignalEventGr.setValue(\"longitude\", longitude);\n            searchSignalEventGr.setValue(\"searchResults\", searchResults);\n\n            searchSignalEventGr.insert();\n        }\n    }\n}\n\nfunction populateSearchSignalResultEvent() {\n    var resultClickedGr = new GlideRecord('sys_search_result_clicked');\n    resultClickedGr.query();\n\n    while (resultClickedGr.next()) {\n        var searchEvent = resultClickedGr.getValue(\"search_event\");\n        var resultDocId = resultClickedGr.getValue(\"result_doc_id\");\n        var description = resultClickedGr.getValue(\"label_description\");\n        var sourceTable = resultClickedGr.getValue(\"source_table\");\n        var clickIndex = resultClickedGr.getValue(\"click_index\");\n\n        var searchSignalEventSysId = getSignalEventSysId(searchEvent);\n\n        var resultEventGr = new GlideRecord('sys_search_signal_result_event');\n        if (!(resultEventGr.get('search_signal_event', searchSignalEventSysId) &&\n                resultEventGr.get('label_description', description))) {\n\t\t\t\n            resultEventGr.initialize();\n            resultEventGr.setValue(\"result_doc_id\", resultDocId);\n            resultEventGr.setValue(\"label_description\", description);\n            resultEventGr.setValue(\"source_table\", sourceTable);\n            resultEventGr.setValue(\"search_signal_event\", searchSignalEventSysId);\n            resultEventGr.setValue(\"ais_doc_id\", null);\n\n            var searchSignalResultEventSysId = resultEventGr.insert();\n            if (searchSignalResultEventSysId != null) {\n                populateSearchSignalResultEventAction(searchSignalResultEventSysId, clickIndex);\n            }\n        }\n    }\n}\n\nfunction populateSearchSignalResultEventAction(searchSignalResultEventSysId, clickIndex) {\n    var resultEventActionGr = new GlideRecord('sys_search_signal_result_event_action');\n    if (!resultEventActionGr.get('search_signal_result_event', searchSignalResultEventSysId)) {\n        resultEventActionGr.initialize();\n        resultEventActionGr.setValue(\"search_signal_result_event\", searchSignalResultEventSysId);\n        resultEventActionGr.setValue(\"signal_type\", \"CLICK\");\n        resultEventActionGr.setValue(\"signal_value\", clickIndex);\n        resultEventActionGr.insert();\n    }\n}\n\npopulateSearchSignalEvent();\npopulateSearchSignalResultEvent();","sys_class_name":"sys_script_fix","sys_id":"a28c0fbe5bd01010681ced35cc81c7eb","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/be946b3f04312210559073c06a02f73b","value":"be946b3f04312210559073c06a02f73b"},"sys_update_name":"sys_script_fix_a28c0fbe5bd01010681ced35cc81c7eb","sys_updated_by":"admin","sys_created_on":"2020-04-24 22:49:26","name":"Migrate Search Signal Data","sys_name":"Migrate Search Signal Data","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"modify expired column to be a choicelist of Active/Expired","sys_updated_on":"2020-07-16 19:34:31","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tvar gr = new GlideRecord(\"sys_dictionary\");\n\tgr.addQuery(\"table\", \"license_details\");\n\tgr.addQuery(\"element\", \"expired\");\n\tgr.query();\n\tif (gr.next()) {\n\t\tgr.setValue(\"choice\", 3);\n\t\tgr.setValue(\"column_label\", \"Status\");\n\t\tgr.update();\n\t}\n})();","sys_class_name":"sys_script_fix","sys_id":"a28c25e977821010dcf24f20681061bc","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8bc96fbb04f12210559073c06a02f755","value":"8bc96fbb04f12210559073c06a02f755"},"sys_update_name":"sys_script_fix_a28c25e977821010dcf24f20681061bc","sys_updated_by":"admin","sys_created_on":"2020-07-16 19:34:31","name":"update_license_details","sys_name":"update_license_details","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Delete the following count configs: SMBEN100002,SMBEN100003,SMBEN100004,SMBEN100005,SMBEN100006,SMBEN100007,SMBEN100008,SMBEN100009,SMBEN100017,SMBEN100018,SMBEN100019,SMBEN100020,SMBEN100021,SMBEN100022,SMBEN100023,SMBEN100024","sys_updated_on":"2017-10-06 21:52:52","sys_tags":"","record_for_rollback":"false","script":"var defnIDs = [\"SMBEN100002\",\"SMBEN100003\",\"SMBEN100004\",\"SMBEN100005\",\"SMBEN100006\",\"SMBEN100007\",\"SMBEN100008\",\"SMBEN100009\",\"SMBEN100017\",\"SMBEN100018\",\"SMBEN100019\",\"SMBEN100020\",\"SMBEN100021\",\"SMBEN100022\",\"SMBEN100023\",\"SMBEN100024\"];\nSNC.UsageAnalyticsScriptUtils.deleteCountConfigs(defnIDs);\ngs.log(\"Deleted count configs: \" + defnIDs);","sys_class_name":"sys_script_fix","sys_id":"a3317493672103003832f1d557415a0e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e36423fb04312210559073c06a02f798","value":"e36423fb04312210559073c06a02f798"},"sys_update_name":"sys_script_fix_a3317493672103003832f1d557415a0e","sys_updated_by":"admin","sys_created_on":"2017-10-06 21:52:24","name":"Retire Count Configs","sys_name":"Retire Count Configs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Populate enable search for existing configuration records","sys_updated_on":"2022-12-05 11:20:42","sys_tags":"","record_for_rollback":"true","script":"try {\n    var diagramBuilderConfigGR = new GlideRecord(\"sn_diagram_builder_configuration\");\n    diagramBuilderConfigGR.query();\n    diagramBuilderConfigGR.setValue(\"enable_search\", true);\n    diagramBuilderConfigGR.updateMultiple();\n} catch (ex) {\n    gs.error(ex);\n}","sys_class_name":"sys_script_fix","sys_id":"a358438a53eb1110de44ddeeff7b12fa","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1cf7ad026abf3abab12e761ddaa6e9df","value":"1cf7ad026abf3abab12e761ddaa6e9df"},"sys_update_name":"sys_script_fix_a358438a53eb1110de44ddeeff7b12fa","sys_updated_by":"admin","sys_created_on":"2022-12-05 11:20:42","name":"Populate enable search","sys_name":"Populate enable search","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1cf7ad026abf3abab12e761ddaa6e9df","value":"1cf7ad026abf3abab12e761ddaa6e9df"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"Set cost adjustment default value  for contract table.","sys_updated_on":"2023-12-14 23:45:11","sys_tags":"","record_for_rollback":"true","script":"function setCostAdjustmentDefaultValue() {\n\tvar rec = new GlideRecord('sys_dictionary');\n\trec.addQuery('name', 'ast_contract');\n\trec.addQuery('element', 'cost_adjustment');\n\trec.setValue('default_value', '0');\n\trec.updateMultiple();\n}\nsetCostAdjustmentDefaultValue();","sys_class_name":"sys_script_fix","sys_id":"a36e1c43536a3110fe5cddeeff7b12f5","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1a3927f704f12210559073c06a02f7be","value":"1a3927f704f12210559073c06a02f7be"},"sys_update_name":"sys_script_fix_a36e1c43536a3110fe5cddeeff7b12f5","sys_updated_by":"admin","sys_created_on":"2023-11-21 00:51:45","name":"Set cost adjustment default value ","sys_name":"Set cost adjustment default value ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Set update CI status from RITM property to false for zboot.","sys_updated_on":"2023-05-09 07:26:18","sys_tags":"","record_for_rollback":"false","script":"function updateProperty() {\n\tif (GlidePluginManager.isZboot()) {\n\t\tgs.setProperty('glide.itam_update_ci_status_from_ritm', 'false');\n\t}\n}\nupdateProperty();","sys_class_name":"sys_script_fix","sys_id":"a371ac0093b221109b7bbfa86cba1083","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/52696b3b04f12210559073c06a02f74e","value":"52696b3b04f12210559073c06a02f74e"},"sys_update_name":"sys_script_fix_a371ac0093b221109b7bbfa86cba1083","sys_updated_by":"admin","sys_created_on":"2023-05-09 07:26:18","name":"Set update CI status from RITM property","sys_name":"Set update CI status from RITM property","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"9","description":"Fix Script to change the internal type of IP Address fields in selected tables defined under app-cmdb to 'ip_addr' Glide Element type. ","sys_updated_on":"2022-02-26 03:34:19","sys_tags":"","record_for_rollback":"false","script":"var totalStart = new Date().getTime();\nfixCmdbIPAddressColumnType();\nvar totalEnd = new Date().getTime();\n\ngs.debug('FIX_IPADDR_CMDB: [Total execution time = ' + (totalEnd - totalStart) + ' ms]');\n\nfunction fixCmdbIPAddressColumnType() {\n    gs.debug(\"FIX_IPADDR_CMDB: Starting the fix script 'fixCmdbIPAddressColumnType'\");\n\n    var ipFields = {\n        cmdb_alias: [{\n            'name': 'ip_address'\n        }],\n        cmdb_ci: [{\n            'name': 'ip_address'\n        }],\n        cmdb_ci_network_adapter: [{\n            'name': 'ip_default_gateway'\n        }],\n        cmdb_ip_address_range: [{\n                'name': 'start_ip'\n            },\n            {\n                'name': 'end_ip'\n            }\n        ],\n        cmdb_switch_port: [{\n            'name': 'ip_address'\n        }],\n        cmdb_tcp: [{\n            'name': 'ip'\n        }],\n        cmdb_tcp_connection: [{\n                'name': 'from_ip'\n            },\n            {\n                'name': 'to_ip'\n            }\n        ],\n        cmdb_tcp_half: [{\n                'name': 'from_ip'\n            },\n            {\n                'name': 'to_ip'\n            }\n        ],\n        dscy_route_next_hop: [{\n            'name': 'next_hop_ip_address'\n        }],\n        dscy_swtch_partition: [{\n            'name': 'base_ip_address'\n        }]\n    };\n\n    IPAddrFixScriptUtil.fixIPAddressColumnType('FIX_IPADDR_CMDB', ipFields);\n\n    gs.debug(\"FIX_IPADDR_CMDB: End of fix script 'fixCmdbIPAddressColumnType'\");\n}","sys_class_name":"sys_script_fix","sys_id":"a3943455788ccd10f877d7b3636c09b7","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_a3943455788ccd10f877d7b3636c09b7","sys_updated_by":"varsha.rao","sys_created_on":"2021-11-24 20:47:07","name":"Fix IP Address Column Type in app-cmdb","sys_name":"Fix IP Address Column Type in app-cmdb","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Migrate sys_cs_topic which needs to be indexed to its own corpus and delete its data from its parent corpus (sys_metadata).","sys_updated_on":"2020-10-12 22:10:07","sys_tags":"","record_for_rollback":"false","script":"new GlideTSUtil().addTableToMigrationList('sys_cs_topic');\nnew GlideTextIndexEvent().migrateTable('sys_cs_topic', null);","sys_class_name":"sys_script_fix","sys_id":"a3ddbf7953331010ad82ddeeff7b1260","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_a3ddbf7953331010ad82ddeeff7b1260","sys_updated_by":"admin","sys_created_on":"2020-10-12 22:10:07","name":"Migrate Topic Table for Text Indexing","sys_name":"Migrate Topic Table for Text Indexing","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Updates the sys_analytics_bucket metadata field to change its label to \"Configuration\" and type to \"simple_name_values\"","sys_updated_on":"2021-01-26 08:39:59","sys_tags":"","record_for_rollback":"false","script":"var table = 'sys_analytics_bucket';\nvar field = 'bucket_metadata';\nvar dictEntry = new GlideRecord('sys_dictionary');\ndictEntry.addQuery('name', table);\ndictEntry.addQuery('element', field);\ndictEntry.setLimit(1);\ndictEntry.query();\nif (dictEntry.next()) {\n\tdictEntry.setValue('internal_type', 'simple_name_values');\n\tdictEntry.setValue('column_label', 'Configuration');\n\tdictEntry.update();\n\tgs.info('Updated ' + table + ' ' + field + ' label and type');\n} else {\n\tgs.info('Did not find the dictionary record for ' + field + ' in ' + table);\n}\n\nvar docEntry = new GlideRecord('sys_documentation');\ndocEntry.addQuery('name', table);\ndocEntry.addQuery('element', field);\ndocEntry.addQuery('language', 'en');\ndocEntry.setLimit(1);\ndocEntry.query();\nif (docEntry.next()) {\n\tdocEntry.setValue('label', 'Configuration');\n\tdocEntry.setValue('plural', 'Configurations');\n\tdocEntry.update();\n\tgs.info('Updated ' + table + ' ' + field + ' documentation entry');\n} else {\n\tgs.info('Did not find the documentation record for ' + field + ' in ' + table);\n}","sys_class_name":"sys_script_fix","sys_id":"a44c3ab353312010d69cddeeff7b129d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/07d4abbf04312210559073c06a02f7f6","value":"07d4abbf04312210559073c06a02f7f6"},"sys_update_name":"sys_script_fix_a44c3ab353312010d69cddeeff7b129d","sys_updated_by":"maint","sys_created_on":"2021-01-26 08:39:59","name":"Update Analytics Bucket Metadata field","sys_name":"Update Analytics Bucket Metadata field","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Drop table_field unique index in sys_highlighted_value ","sys_updated_on":"2019-08-26 23:18:14","sys_tags":"","record_for_rollback":"false","script":"dropTableFieldIndex();\nfunction dropTableFieldIndex() {\n\tvar td = GlideTableDescriptor.get(\"sys_highlighted_value\");\n\tif (!td.isValid())\n\t\treturn;\n\tvar ids = td.getIndexDescriptors();\n\tif (!ids)\n\t\treturn;\n\tvar idValues = ids.values().iterator();\n\twhile (idValues.hasNext()) {\n\t\tvar id = idValues.next();\n\t\tif (!id.isUnique())\n\t\t\tcontinue;\n\t\tvar idFields = id.getFields();\n\t\tif (!idFields || idFields.size() != 2)\n\t\t\tcontinue;\n\t\tif (idFields.contains('table') && idFields.contains('field')) {\n\t\t\tgs.log('Found \"table_field\" unique index, proceed to drop it');\n\t\t\tnew GlideIndexUtils().drop(id);\n\t\t\treturn;\n\t\t}\n\t}\n\tgs.log('\"table_field\" unique index not found, no index dropped');\n}","sys_class_name":"sys_script_fix","sys_id":"a472b048c7233300cff9337bf4c2600d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/72ac63bb04352210559073c06a02f754","value":"72ac63bb04352210559073c06a02f754"},"sys_update_name":"sys_script_fix_a472b048c7233300cff9337bf4c2600d","sys_updated_by":"admin","sys_created_on":"2019-08-23 18:31:15","name":"Drop sys_highlighted_value unque index ","sys_name":"Drop sys_highlighted_value unque index ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Will activate the flow \"Set visibility of Analytics applications\" for upgraded customers only so based on the com.glide.par.unified_analytics.enabled value this flow will activate/deactivate Performance Analytics, reports and Platform Analytics Administration Menus.","sys_updated_on":"2024-07-10 12:56:12","sys_tags":"","record_for_rollback":"true","script":"gs.info('Activate workflow for upgraded customers script - Start');\n\nif (!pm.isZboot()) {\n\tvar gr = new GlideRecord('sys_hub_flow');\n\tif (gr.get('a0363aca4f21711054e85e8330ce0b7a') && gr.getValue('active') == false) {\n\t\tgr.setValue('active', true);\n\t\tif (gr.update())\n\t\t\tgs.info('Activating the flow \"Set visibility of Analytics applications\" for upgraded customers.');\n\t} else\n\t\tgs.info('Flow \"Set visibility of Analytics applications\" was not found.');\n}\ngs.info('Activate workflow for upgraded customers script - End');","sys_class_name":"sys_script_fix","sys_id":"a56c293553130210828fddeeff7b1292","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/143b677304352210559073c06a02f7e2","value":"143b677304352210559073c06a02f7e2"},"sys_update_name":"sys_script_fix_a56c293553130210828fddeeff7b1292","sys_updated_by":"admin","sys_created_on":"2024-07-10 12:55:18","name":"Activate workflow for upgraded customers","sys_name":"Activate workflow for upgraded customers","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"6","description":"Changes the sys_pd_process_definition label to be singular instead of plural.","sys_updated_on":"2021-08-03 18:20:52","sys_tags":"","record_for_rollback":"false","script":"function updateProcessDefinitionLabelToSingular() {\n\tvar tableName = 'sys_pd_process_definition';\n\tvar label = 'Process Definition';\n\tvar pluralLabel = label + 's';\n\t\n\tif(!GlideTableDescriptor.isValid(tableName))\n\t\treturn;\n\n\tvar docGr = new GlideRecord('sys_documentation');\n\tdocGr.addQuery('name', tableName);\n\tdocGr.addQuery('element', null);\n\tdocGr.query();\n\t\n\tif (docGr.next()) {\n\t\tdocGr.setValue('label', label);\n\t\tdocGr.setValue('plural', pluralLabel);\n\t\tdocGr.update();\n\t}\n\n\tvar dictGr = new GlideRecord('sys_db_object');\n\tdictGr.addQuery('name', tableName);\n\tdictGr.query();\n\t\n\tif (dictGr.next()) {\n\t\tdictGr.setValue('label', label);\n\t\tdictGr.update();\n\t}\n}\n\nif(!pm.isZboot()) {\n\tgs.log('Changing sys_pd_process label from \"Process Definitions\" to \"Process Definition\"');\n\tupdateProcessDefinitionLabelToSingular();\n}","sys_class_name":"sys_script_fix","sys_id":"a596c2ab7321301056dff358caf6a7c6","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/903e67b304752210559073c06a02f757","value":"903e67b304752210559073c06a02f757"},"sys_update_name":"sys_script_fix_a596c2ab7321301056dff358caf6a7c6","sys_updated_by":"admin","sys_created_on":"2021-07-30 19:58:53","name":"Change process definition label singular","sys_name":"Change process definition label singular","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":"read"},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Deleting the scheduled job \"Clean up dangling references from sys_object_source\"","sys_updated_on":"2022-09-27 07:44:27","sys_tags":"","record_for_rollback":"false","script":"gs.log('Starting to delete the \"Clean up dangling references from sys_object_source\" scheduled job');\ndeleteCleanUpScheduleJob();\n\nfunction deleteCleanUpScheduleJob() {\n\tvar gr = new GlideRecord(\"sysauto_script\");\n\tgr.addQuery(\"sys_id\", \"1121b4fadbd320504ae9c16c13961915\");\n\tgr.query();\n\tif (gr.next()) {\n\t\tgr.deleteRecord();\n\t}\n}\n","sys_class_name":"sys_script_fix","sys_id":"a5f1cbb3100a1110f877013233a53f17","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fdd8237704f12210559073c06a02f787","value":"fdd8237704f12210559073c06a02f787"},"sys_update_name":"sys_script_fix_a5f1cbb3100a1110f877013233a53f17","sys_updated_by":"admin","sys_created_on":"2022-09-27 07:44:27","name":"Delete clean up job for Sources table","sys_name":"Delete clean up job for Sources table","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"update user preferences glide.ui.menu.main.pinned.id for pinned menus","sys_updated_on":"2023-02-08 15:49:43","sys_tags":"","record_for_rollback":"true","script":"(function() {\n    var fixMap = {\n        \"all\": \"d6e462a5c3533010cbd77096e940dd8c\",\n        \"workspaces\": \"63242b61c3133010cbd77096e940dd23\",\n        \"favorites\": \"1b682fe1c3133010cbd77096e940dd18\",\n        \"history\": \"c51543a5c3133010cbd77096e940dd43\",\n        \"f15a7264c320011001dd7096e940dd37\": \"1b682fe1c3133010cbd77096e940dd18\",\n        \"605a7264c320011001dd7096e940ddd2\": \"c51543a5c3133010cbd77096e940dd43\",\n        \"535a3264c320011001dd7096e940ddae\": \"63242b61c3133010cbd77096e940dd23\"\n    };\n\n    var gr = new GlideRecord(\"sys_user_preference\");\n    gr.addQuery(\"name\", \"glide.ui.menu.main.pinned.id\");\n    gr.query();\n\n    while (gr.next()) {\n        var key = gr.getValue(\"value\");\n        if (key !== null && fixMap[key] !== undefined) {\n            gr.value = fixMap[key];\n            gr.update();\n        }\n    }\n})();","sys_class_name":"sys_script_fix","sys_id":"a63230e65b210110fb2a210bb881c79e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/33eda37304752210559073c06a02f7b7","value":"33eda37304752210559073c06a02f7b7"},"sys_update_name":"sys_script_fix_a63230e65b210110fb2a210bb881c79e","sys_updated_by":"admin","sys_created_on":"2022-02-11 07:27:22","name":"Update Pinned Menu User Preference","sys_name":"Update Pinned Menu User Preference","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2019-08-21 22:00:41","sys_tags":"","record_for_rollback":"false","script":"var rtype = new GlideRecord('sys_aw_renderer_type');\nrtype.query();\nvar rtype_sysid = {};\n//{layout: \"bfacd1a10f517300bb57f4a1ff767e92\", record: \"56a1aaa10f513300bb57f4a1ff767ede\"}\nwhile(rtype.next()){\n\trtype_sysid[rtype.getValue(\"renderer_type\")] = rtype.getValue(\"sys_id\");\n}\nvar gr = new GlideRecord('sys_aw_renderer');\ngr.query();\nwhile(gr.next()){\n\tvar val = gr.getValue(\"renderer_type\") || \"\";\n\t// var dval = gr.getDisplayValue(\"renderer_type\");\n\t\n\t// if new record renderer_type then check if value in existing renderer types(rtype_sysid)\n\tif (val in rtype_sysid){ // old record\n\t\tvar sys_id = rtype_sysid[val];\n\t\t// update renderer type to sys_id instead\n\t\tgr.type_ext = sys_id;\n\t\tgr.update();\n\t}\n\telse{ \n\t\t// if val not in dict, then it could be either new record with sys_id or old record which is not either a 'record' or 'layout' but a new custom one.\n\t\t// if not a sys_id, then insert the value in sys_aw_renderer_type and update the record\n\t\tif (val.length > 0 && val.length < 32 && val !== 'record' && val!=='layout'){\n\t\t\t// insert into sys_aw_renderer_type, get sys_id and update gr\n\t\t\tvar rtype_ins = new GlideRecord('sys_aw_renderer_type');\n\t\t\trtype_ins.initialize();\n\t\t\trtype_ins.renderer_type = val;\n\t\t\tvar newsysid = rtype_ins.insert();\n\t\t\t// get renderer record\n\t\t\trtype_ins = new GlideRecord('sys_aw_renderer');\n\t\t\trtype_ins.addQuery('sys_id',gr.getValue('sys_id'));\n\t\t\trtype_ins.query();\n\t\t\t// update sysid\n\t\t\twhile(rtype_ins.next()){\n\t\t\t\trtype_ins.type_ext = newsysid;\n\t\t\t\trtype_ins.update();\n\t\t\t} \n\t\t} else if (val.length == 32){\n\t\t\tvar updquery = new GlideRecord('sys_aw_renderer');\n\t\t\tupdquery.type_ext = val;\n\t\t\tupdquery.update();\n\t\t}\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"a68497d7771333005dccab6f58106162","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/590a233f04f12210559073c06a02f731","value":"590a233f04f12210559073c06a02f731"},"sys_update_name":"sys_script_fix_a68497d7771333005dccab6f58106162","sys_updated_by":"admin","sys_created_on":"2019-08-21 22:00:41","name":"Migrate renderer_type to type_ext","sys_name":"Migrate renderer_type to type_ext","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Ensures the column label for Experience Type is renamed to display Layouts","sys_updated_on":"2022-11-28 17:38:32","sys_tags":"","record_for_rollback":"true","script":"// Rename dictionary and documentation for Activity Renderer Experience Type to Layout\nvar gr = new GlideRecord('sys_dictionary');\ngr.addQuery('name', 'sys_playbook_activity_renderer');\ngr.addQuery('element', 'type');\ngr.query();\n\nif(gr.next()) {\n\tgr.setValue('column_label', 'Layout');\n\tgr.update();\n}\n\ngr = new GlideRecord('sys_documentation');\ngr.addQuery('name', 'sys_playbook_activity_renderer');\ngr.addQuery('element', 'type');\ngr.query();\n\nif(gr.next()) {\n\tgr.setValue('label', 'Layout');\n\tgr.setValue('plural', 'Layouts');\n\tgr.setValue('hint', 'An activity\\'s layout');\n\tgr.update();\n}\n\n// Rename dictionary and documentation for Activity UI Experience Type to Layout\ngr = new GlideRecord('sys_dictionary');\ngr.addQuery('name', 'sys_playbook_experience_activity_ui');\ngr.addQuery('element', 'experience_type');\ngr.query();\n\nif(gr.next()) {\n\tgr.setValue('column_label', 'Layout');\n\tgr.update();\n}\n\ngr = new GlideRecord('sys_documentation');\ngr.addQuery('name', 'sys_playbook_experience_activity_ui');\ngr.addQuery('element', 'experience_type');\ngr.query();\n\nif(gr.next()) {\n\tgr.setValue('label', 'Layout');\n\tgr.setValue('plural', 'Layouts');\n\tgr.setValue('hint', 'The layout which this Activity UI applies to');\n\tgr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"a6a1efdec3131110948404186e40ddf0","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/055e23f304752210559073c06a02f753","value":"055e23f304752210559073c06a02f753"},"sys_update_name":"sys_script_fix_a6a1efdec3131110948404186e40ddf0","sys_updated_by":"admin","sys_created_on":"2022-11-23 21:33:53","name":"Rename Playbook Experience Type","sys_name":"Rename Playbook Experience Type","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"0","description":"Due to some records having the incorrect element name, they need to be deleted to be replaced by the records with the correct element names. This requires executing this fix script before plugin update.","sys_updated_on":"2019-10-10 07:06:57","sys_tags":"","record_for_rollback":"false","script":"if (!pm.isZboot())\n\tdeleteModelFields();\n\n// we only need to delete the model fields that aren't camel cased\n// the `element` column is lowercased but the `field_label`column is camel cased\n// the table is locked down to maint only so customization is not allowed\nfunction deleteModelFields() {\n\tvar modelFields = new GlideRecord('sys_declarative_action_model_field');\n  modelFields.query();\n\n  while(modelFields.next()) {\n    if (modelFields.getValue('element') != modelFields.getValue('field_label')) {\n      modelFields.deleteRecord();\n    }\n}\n}","sys_class_name":"sys_script_fix","sys_id":"a6c5edd7539000103eddddeeff7b12f1","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f39caf7b04352210559073c06a02f73f","value":"f39caf7b04352210559073c06a02f73f"},"sys_update_name":"sys_script_fix_a6c5edd7539000103eddddeeff7b12f1","sys_updated_by":"admin","sys_created_on":"2019-10-10 07:06:57","name":"Trigger model fields to regenerate","sys_name":"Trigger model fields to regenerate","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"The property 'glide.ui.polaris.ais_ready' should be present only in the 'AI Search For Next Experience'. If it exists in any other scopes (like Global) from an earlier version, this fix script will delete that record so that the property can be created in the correct scope.","sys_updated_on":"2022-10-13 03:06:43","sys_tags":"","record_for_rollback":"true","script":"var AIS_NEXT_EXP_SCOPE_ID = '3c467b5f0bf130109e0fa4e6e9c4c946';\nvar AIS_READY_PROPERTY_NAME = 'glide.ui.polaris.ais_ready';\n\nvar propGr = new GlideRecord('sys_properties');\npropGr.addQuery('name', AIS_READY_PROPERTY_NAME);\npropGr.addQuery('sys_scope', '!=', AIS_NEXT_EXP_SCOPE_ID);\npropGr.query();\nif (propGr.next()) {\n\tgs.info('Deleting property ' + AIS_READY_PROPERTY_NAME + ' in scope ' + propGr.sys_scope.name);\n\tpropGr.deleteRecord();\n} else\n\tgs.info('Property ' + AIS_READY_PROPERTY_NAME + ' does not exist in non-AI Search For Next Experience scopes');\n","sys_class_name":"sys_script_fix","sys_id":"a72a58c943a211102a4df03a5ab8f24c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0a99ab7b04f12210559073c06a02f746","value":"0a99ab7b04f12210559073c06a02f746"},"sys_update_name":"sys_script_fix_a72a58c943a211102a4df03a5ab8f24c","sys_updated_by":"admin","sys_created_on":"2022-10-13 03:04:47","name":"Delete AisReady Property in Global Scope","sys_name":"Delete AisReady Property in Global Scope","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"\"Interaction - On Created\" business rule was responsible for creating live_group_profile for a conversation before Orlando. In Orlando, this code is done in Java by conversation server, and this business rule now conflicts with that code. The BR will be deleted if no customizations has been made; if this BR was customized, this fix script will deactivate it to prevent conflicts. ","sys_updated_on":"2020-04-27 23:19:48","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord(\"sys_script\");\nif (gr.get(\"049dcda33b302300a0bd8cd834efc4e3\")) {\n    gr.active = false;\n    gr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"a781c7330f5850103b68ff5eef767e82","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/989c2b7b04352210559073c06a02f7cc","value":"989c2b7b04352210559073c06a02f7cc"},"sys_update_name":"sys_script_fix_a781c7330f5850103b68ff5eef767e82","sys_updated_by":"admin","sys_created_on":"2020-04-27 23:19:48","name":"Delete \"Interaction - On Created\" BR","sys_name":"Delete \"Interaction - On Created\" BR","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2020-09-01 08:08:38","sys_tags":"","record_for_rollback":"false","script":"\n          // Widgets -  \"Homepage Search\", \"Typeahead\", \"Faceted Search\n          // Add sp_instance sys_id here to reclassify\n          var instances = [];\n\n          reclassSearchInstances();\n          function reclassSearchInstances() {\n            try {\n              var gr = new GlideRecord('sp_instance');\n              if (!gr.isValid())\n                return;\n              gr.addQuery('sys_id', 'IN', instances);  \n              gr.addQuery('sys_class_name', 'sp_instance');\n              gr.query();\n              while (gr.next()) {\n                  var packageId = gr.sys_package;\n                  gr.setValue('sys_class_name', 'sp_instance_ais');\n                  gr.autoSysFields(false);\n                  gr.setWorkflow(false);\n                  gr.update();\n                  gr.setValue('sys_package', packageId);\n                  gr.update();\n              }\n            } catch (err) {\n              gs.print('Reclassification of Search widgets instances failed with error - ' + err.name + '::' + err.message);\n            }}","sys_class_name":"sys_script_fix","sys_id":"a82575240f03101064a25a6c8b767ea7","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/69996b7b04f12210559073c06a02f7e2","value":"69996b7b04f12210559073c06a02f7e2"},"sys_update_name":"sys_script_fix_a82575240f03101064a25a6c8b767ea7","sys_updated_by":"admin","sys_created_on":"2020-09-01 08:08:38","name":"Reclassifying Search widgets","sys_name":"Reclassifying Search widgets","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"8","description":"","sys_updated_on":"2019-01-18 10:13:52","sys_tags":"","record_for_rollback":"false","script":"gs.log(\"Fix Script: Adding Architecture fields in BA started\");\ncheckAndAddFields('platform_host','Platform Host',getMaxSequence()+1);\ncheckAndAddFields('platform_application','Platform Application',getMaxSequence()+1);\n\nfunction getMaxSequence(){\n\tgs.log(\"Fetching max sequence number for cmdb_ci_business_app table on architecture_type\");\n\tvar maxValue = 0;\n\tvar max = new GlideAggregate('sys_choice');\n\tmax.addQuery('name', 'cmdb_ci_business_app');\n\tmax.addQuery('element', 'architecture_type');\n\tmax.addAggregate('MAX', 'sequence');\n\tmax.setGroup(false);\n\tmax.query();\n\tif (max.next()) {\n\t\tmaxValue = max.getAggregate('MAX', 'sequence');\n\t}\n\tgs.log(\"Max sequence number for cmdb_ci_business_app table on architecture_type is \"+ maxValue);\n\treturn parseInt(maxValue);\n}\n\nfunction checkAndAddFields(architectureField,label,sequence){\n\tgs.log(\"Checking and adding \"+label+ \" if it doesnt exists\");\n\tvar gr = new GlideRecord('sys_choice');\n\tgr.addQuery('name', 'cmdb_ci_business_app');\n\tgr.addQuery('element', 'architecture_type');\n\tgr.addQuery('value', architectureField);\n\t\n\tgr.query();\n\tif(gr.getRowCount()==0){\n\t\tgr.initialize();\n\t\tgr.name = 'cmdb_ci_business_app';\n\t\tgr.element = 'architecture_type';\n\t\tgr.language = 'en';\n\t\tgr.label = label;\n\t\tgr.value = architectureField;\n\t\tgr.sequence =  sequence;\n\t\tgr.insert();\n\t}else{\n\t\tgs.log(\"No updation of Architecture Field choices is required\");\n\t}\n}\ngs.log(\"Fix Script: Adding Architecture fields in BA ended\");","sys_class_name":"sys_script_fix","sys_id":"a843110e5303230027c9ddeeff7b12fa","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_a843110e5303230027c9ddeeff7b12fa","sys_updated_by":"admin","sys_created_on":"2019-01-18 09:05:18","name":"Adding Architecture fields in BA","sys_name":"Adding Architecture fields in BA","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"4","description":"Replace sys_ux_lib_component reference with sys_ux_macroponent reference.","sys_updated_on":"2023-02-10 09:40:06","sys_tags":"","record_for_rollback":"true","script":"function replaceWithMacroponentSysId(libComponentSysId) {\n    var mcp = new GlideRecord('sys_ux_macroponent');\n    if (mcp.get('root_component', libComponentSysId)) {\n\t\tcount++;\n        return mcp.getValue('sys_id');\n    } else {\n        logs.push('Invalid sys_ux_lib_component. sysId:' + libComponentSysId);\n    }\n\n}\n\nvar logs = [];\nvar count = 0;\nlogs.push('Replace lib_component with macroponent started');\nvar parWidgets = new GlideRecord('par_dashboard_widget');\nparWidgets.query();\nwhile (parWidgets.next()) {\n    if (parWidgets.getDisplayValue('component') === '') {\n        mcpSysId = replaceWithMacroponentSysId(parWidgets.getValue('component'));\n        if (mcpSysId) {\n            parWidgets.setValue('component', mcpSysId);\n            parWidgets.update();\n        }\n    }\n}\nlogs.push(count + ' records have been successfully updated');\nlogs.push('Replace lib_component with macroponent ended');\ngs.log(logs.join('\\n'), 'a89e695753f0a51030b7ddeeff7b12c3');","sys_class_name":"sys_script_fix","sys_id":"a89e695753f0a51030b7ddeeff7b12c3","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/143b677304352210559073c06a02f7e2","value":"143b677304352210559073c06a02f7e2"},"sys_update_name":"sys_script_fix_a89e695753f0a51030b7ddeeff7b12c3","sys_updated_by":"admin","sys_created_on":"2023-02-09 05:43:26","name":"Replace lib_component with macroponent","sys_name":"Replace lib_component with macroponent","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Applies for Vancouver upgrades. Updates choice values for fields on the IAR context table.","sys_updated_on":"2023-01-03 07:47:11","sys_tags":"","record_for_rollback":"true","script":"executeFix();\n\nfunction executeFix() {\n\tupdateTaskProcessingStateChoiceRecords();\n}\n\n/**\n * Updates choice records for the task_processing_state field on the context table.\n */\nfunction updateTaskProcessingStateChoiceRecords() {\n\tvar element = \"task_processing_state\";\n\tvar oldStateValue = \"intent_prediction\";\n\tvar updatedChoiceLabel = \"Intent processing\";\n\tvar updatedChoiceValue = AutoResolutionConstants.TASK_PROCESSING_STATE.INTENT_PROCESSING;\n\t\n\tdeactivateChoiceRecords(AutoResolutionConstants.CONTEXT_TABLE_NAME, element, oldStateValue);\n\taddChoiceRecord(AutoResolutionConstants.CONTEXT_TABLE_NAME, element, updatedChoiceLabel, updatedChoiceValue);\n\tsetChoiceSequenceForElement(AutoResolutionConstants.CONTEXT_TABLE_NAME, element, AutoResolutionConstants.TASK_PROCESSING_STATE);\n}\n\n/**\n * Adds a new choice record for  records with the same table name and choice value,\n * for all languages. Translations of choice records have different labels, but share \n * the same choice value.\n * @param {string} tableName\tthe name of the table that the choice record is associated with\n * @param {string} element\t\tthe name of the table element with choices\n * @param {string} choiceLabel\tthe label of the choice\n * @param {string} choiceValue\tthe value of the choice\n * @return {void}\n */\nfunction addChoiceRecord(tableName, element, choiceLabel, choiceValue) {\n\tvar choiceGr = new GlideRecord(\"sys_choice\");\n\tchoiceGr.initialize();\n\tchoiceGr.setValue(\"element\", element);\n\tchoiceGr.setValue(\"name\", tableName);\n\tchoiceGr.setValue(\"label\", choiceLabel);\n\tchoiceGr.setValue(\"value\", choiceValue);\n\tchoiceGr.setValue(\"language\", \"en\");\n\tvar choiceId = choiceGr.insert();\n\n\tif (gs.nil(choiceId))\n\t\tgs.error(\"Error inserting new choice record for element {0} with choice value {1} on table {2}\", element, choiceValue, tableName);\n\t\n\tgs.info(\"Choice value {0} has successfully been inserted for element {1} on table {2}\", choiceValue, element, tableName);\n}\n\n/**\n * Deactivates choice records for all records with the same table name and choice value,\n * for all languages. Translations of choice records have different labels, but share \n * the same choice value.\n * @param {string} tableName\tthe name of the table that the choice record is associated with\n * @param {string} element\t\tthe name of the table element with choices\n * @param {value} choiceValue\tthe name of the choice\n * @return {void}\n */\nfunction deactivateChoiceRecords(tableName, element, choiceValue) {\n\tvar choiceGr = new GlideRecord(\"sys_choice\");\n\tchoiceGr.addQuery(\"name\", tableName);\n\tchoiceGr.addQuery(\"element\", element);\n\tchoiceGr.addQuery(\"value\", choiceValue);\n\tchoiceGr.query();\n\tchoiceGr.setValue(\"inactive\", true);\n\tchoiceGr.updateMultiple();\n\n\tgs.info(\"Choice value {0} for element {1} on table {2} has been set to inactive\", choiceValue, element, tableName);\n}\n\n/**\n * Sets the choice display order for a specified element in increments of 10, given the\n * choices ordered in an object\n * @param {string} tableName\tthe name of the table\n * @param {element} element\t\tthe name of the element on the table containing choices\n * @param {Object} orderedObj\tan object with the choices for the element in ordered form\n */\nfunction setChoiceSequenceForElement(tableName, element, orderedObj) {\n\tvar orderNumber = 10;\n\tfor (var state in orderedObj) {\n\t\tvar choiceGr = new GlideRecord(\"sys_choice\");\n\t\tchoiceGr.addQuery(\"name\", tableName);\n\t\tchoiceGr.addQuery(\"element\", element);\n\t\tchoiceGr.addQuery(\"value\", orderedObj[state]);\n\t\tchoiceGr.query();\n\t\tchoiceGr.setValue(\"sequence\", orderNumber);\n\t\tchoiceGr.updateMultiple();\n\t\torderNumber += 10;\n\t}\n\n\tgs.info(\"The choice sequence has been updated for the element {0} on the table {1}, with the order: {2}\", \n\t\telement, tableName, Object.keys(orderedObj).toString());\n}","sys_class_name":"sys_script_fix","sys_id":"a91eef1f4f0021100b6f3e84b2ce0bd8","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca4f3f704b52210559073c06a02f789","value":"aca4f3f704b52210559073c06a02f789"},"sys_update_name":"sys_script_fix_a91eef1f4f0021100b6f3e84b2ce0bd8","sys_updated_by":"maint","sys_created_on":"2023-01-03 07:47:11","name":"Update IAR context table schema","sys_name":"Update IAR context table schema","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"1","description":"Rename labels of stats table","sys_updated_on":"2024-08-22 17:40:07","sys_tags":"","record_for_rollback":"true","script":"renameColumnLabels();\n\nfunction renameColumnLabels() {\n\trenameColumnLabel(\"ais_ingest_datasource_stats\", 'state', 'Ingestion State', 'Keyword Ingestion State');\n}\n\nfunction renameColumnLabel(tableName, columnName, existingLabel, replaceWith) {\n\tvar sysDictionaryGr = new GlideRecord('sys_dictionary');\n\tsysDictionaryGr.addQuery('name', tableName);\n\tsysDictionaryGr.addQuery('element', columnName);\n\tsysDictionaryGr.addQuery('column_label', existingLabel);\n\tsysDictionaryGr.query();\n\t\n\tif (sysDictionaryGr.next()) {\n\t\tsysDictionaryGr.setValue('column_label', replaceWith);\n\t\tsysDictionaryGr.update();\n\t\t\n\t\tgs.info('Replaced the label of column ' + columnName + ' from ' + existingLabel + ' with ' + replaceWith + ' on the table ' + tableName);\n\t} else {\n\t\tgs.warn('Could not replace the label of column ' + columnName + ' from ' + existingLabel + ' with ' + replaceWith + ' on the table ' + tableName);\n\t}\t\n}","sys_class_name":"sys_script_fix","sys_id":"a93690c7eb001210b338ec8e4252281d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/76946b3f04312210559073c06a02f73b","value":"76946b3f04312210559073c06a02f73b"},"sys_update_name":"sys_script_fix_a93690c7eb001210b338ec8e4252281d","sys_updated_by":"admin","sys_created_on":"2024-08-20 10:00:06","name":"Rename field labels of stats table","sys_name":"Rename field labels of stats table","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Update sys_cs_channel.name from string to a translated_field","sys_updated_on":"2023-01-24 02:26:52","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('sys_dictionary');\ngr.addQuery('name', 'sys_cs_channel');\ngr.addQuery('element', 'name');\ngr.addQuery('internal_type', 'string');\ngr.setWorkflow(false);\ngr.query();\nif (gr.next()) {\n    gr.setValue('internal_type', 'translated_field');\n    gr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"a97ee602c3e021109a481f820c40dd1b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_a97ee602c3e021109a481f820c40dd1b","sys_updated_by":"admin","sys_created_on":"2023-01-24 02:26:52","name":"Update VA channel name type","sys_name":"Update VA channel name type","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Update VTB labels count in card","sys_updated_on":"2019-04-12 12:13:11","sys_tags":"","record_for_rollback":"false","script":"var grCard = new GlideRecord('vtb_card');\ngrCard.addQueryString('removed=false^label_1=true^ORlabel_2=true^ORlabel_3=true^ORlabel_4=true^ORlabel_5=true^ORlabel_6=true^ORlabel_7=true', true);\ngrCard.query();\nvar labelsCount = new Array(7);\nwhile(grCard.next()) {\n\tvar count = 0;\n\tfor (var i=1; i<=7; i++) {\n\t\tif (grCard.getValue('label_' + i) == '1')\n\t\t\tcount++;\n\t}\n\n\tif (count > 0) {\n\t\tif (!labelsCount[count-1]) labelsCount[count-1] = [];\n\t\tlabelsCount[count-1].push(grCard.getUniqueValue());\n\t}\n}\n\nvar chunkSize = 1000;\n\nfor (var l=0; l<7; l++) {\n\tif (!labelsCount[l]) continue;\n\tfor (j=0; j<labelsCount[l].length; j+=chunkSize) {\n\t\tgrCard = new GlideRecord('vtb_card');\n\t\tvar endIndex = Math.min(labelsCount[l].length, j+chunkSize);\n\t\tgrCard.addQuery('sys_id', 'IN', labelsCount[l].slice(j, endIndex));\n\t\tgrCard.setValue('labels_count', l+1);\n\t\tgrCard.updateMultiple();\n\t}\n}\n","sys_class_name":"sys_script_fix","sys_id":"a9b5aa017334330081e06502edf6a7b9","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d334a77b04312210559073c06a02f7ff","value":"d334a77b04312210559073c06a02f7ff"},"sys_update_name":"sys_script_fix_a9b5aa017334330081e06502edf6a7b9","sys_updated_by":"admin","sys_created_on":"2019-04-12 12:13:11","name":"Update VTB labels count in card","sys_name":"Update VTB labels count in card","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"After activation of KMF,  KCV missing records patch update script automatically calculates new KCV for for KMF instance and module keys  and update the existing records ","sys_updated_on":"2020-09-25 21:14:36","sys_tags":"","record_for_rollback":"false","script":"var kcvRecords = new SNC.KCVPatchUpdateAPI();\nvar message = kcvRecords.calculatesKCV();\ngs.info(\"Staus : \" + message);","sys_class_name":"sys_script_fix","sys_id":"aa2f04605b231010e9ca49eb1e81c773","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7f83a3f304312210559073c06a02f787","value":"7f83a3f304312210559073c06a02f787"},"sys_update_name":"sys_script_fix_aa2f04605b231010e9ca49eb1e81c773","sys_updated_by":"admin","sys_created_on":"2020-09-25 21:14:36","name":"KCV missing records patch update","sys_name":"KCV missing records patch update","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Delete the Team Development Process Push scheduled job.","sys_updated_on":"2013-12-05 22:43:07","sys_tags":"","record_for_rollback":"false","script":"if(!pm.isZboot()) {\n\tvar gr = new GlideRecord(\"sysauto_script\");\n\tif(gr.isValid()) {\n\t\tgr.addQuery(\"sys_id\",\"9777f44097220100d308124eda297511\");\n\t\tgr.query();\n\t\tgr.setWorkflow(false);\n\t\tif(gr.next())\n\t\t\tgr.deleteRecord();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"aa724210d721110050f5edcb9e6103ee","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ff04a7f704312210559073c06a02f761","value":"ff04a7f704312210559073c06a02f761"},"sys_update_name":"sys_script_fix_aa724210d721110050f5edcb9e6103ee","sys_updated_by":"admin","sys_created_on":"2013-12-05 22:43:07","name":"Delete Team Development Scheduled Job","sys_name":"Delete Team Development Scheduled Job","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"","sys_updated_on":"2023-09-08 07:26:16","sys_tags":"","record_for_rollback":"false","script":"gs.log(\"Fix Script: Make software model non mandatory start\");\nmakeFieldNonMandatory('cmdb_software_product_model');\n\nfunction makeFieldNonMandatory(field_name){\n\tvar gr = new GlideRecord('sys_dictionary');\n\tgr.addQuery('name', 'cmdb_ci_business_app');\n\tgr.addQuery('element', field_name);\n\t\n\tgr.query();\n\tif(gr.next()){\n\t\tgr.setValue('mandatory',false);\n\t\tgr.update();\n\t\tgs.log(\"Fix Script: Updating Mandatory attribute done\");\n\t}\n}\ngs.log(\"Fix Script: Make software model non mandatory end\");","sys_class_name":"sys_script_fix","sys_id":"aacc645ba30131109eb0cc4a66fcdad0","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_aacc645ba30131109eb0cc4a66fcdad0","sys_updated_by":"admin","sys_created_on":"2023-09-08 07:21:34","name":"Make software model non mandatory","sys_name":"Make software model non mandatory","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Set Time to next step field for custom escalation to 15 minutes as default","sys_updated_on":"2023-03-16 07:32:02","sys_tags":"","record_for_rollback":"false","script":"var dictionaryGR = new GlideRecord('sys_dictionary');\ndictionaryGR.addQuery('name', 'cmn_rota_esc_step_def');\ndictionaryGR.addQuery('element', 'time_to_next_step');\ndictionaryGR.setLimit(1);\ndictionaryGR.query();\nif (dictionaryGR.next()) {\n    dictionaryGR.default_value = '00:15:00';\n    dictionaryGR.setWorkflow(false); //turn off workflow so cache is not flushed each time\n    dictionaryGR.update();\n}","sys_class_name":"sys_script_fix","sys_id":"ab5b926a532d2110d0d4ddeeff7b1257","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_script_fix_ab5b926a532d2110d0d4ddeeff7b1257","sys_updated_by":"admin","sys_created_on":"2023-03-16 07:32:02","name":"Time to next step default value","sys_name":"Time to next step default value","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Reparents the following search tables to extend sys_metadata: 'sys_search_context_config', 'sys_search_facet', 'sys_search_filter', 'sys_search_source_filter', 'sys_search_genius_result_model', 'm2m_search_context_config_search_scripted_processor', 'm2m_search_context_config_search_source'","sys_updated_on":"2021-02-17 19:30:26","sys_tags":"","record_for_rollback":"false","script":"var tablesToReparent = ['sys_search_context_config', 'sys_search_facet', 'sys_search_filter', 'sys_search_source_filter', 'sys_search_genius_result_model', 'm2m_search_context_config_search_scripted_processor', 'm2m_search_context_config_search_source'];\n\nfunction start() {\n    var startTime = new Date();\n    reparentSearchConfigTables();\n    var endTime = new Date();\n\n    var elapsedTime = endTime - startTime;\n    gs.info('Total time elapsed for reparenting search config tables in ms: ' + elapsedTime);\n}\n\nfunction reparentSearchConfigTables() {\n    if (pm.isZboot()) {\n        gs.log('Upgrade: no need to reparent search configuration tables, zbooting');\n        return;\n    }\n\n    // Step 1: Set sys_scope for existing search context config record\n    setSearchContextSysScope();\n\n    // Step 2: Run the reparenting logic\n    var TABLE_HIERARCHY_EDITOR_LIVE = \"glide.db.table.hierarchy_editor.live\";\n    var useLiveReparentingProp = gs.getProperty(TABLE_HIERARCHY_EDITOR_LIVE, \"true\");\n    var isTableHierarchyEditorLive = useLiveReparentingProp === \"true\";\n    if (isTableHierarchyEditorLive) {\n        gs.info(\"Setting the property: \" + TABLE_HIERARCHY_EDITOR_LIVE + \" value to: false\");\n        GlideProperties.set(TABLE_HIERARCHY_EDITOR_LIVE, \"false\");\n    }\n    \n    try {\n        tablesToReparent.forEach(function(tableName) {\n            gs.log('Upgrade: starting ' + tableName + ' reparent to sys_metadata');\n            var tpc = new GlideTableParentChange(tableName);\n            if (tpc.change('', 'sys_metadata'))\n                gs.log('Upgrade: completed ' + tableName + ' reparent to sys_metadata');\n            else\n                gs.log('Upgrade: failed to reparent ' + tableName + ' to sys_metadata');\n        });\n    } catch (ex) {\n        gs.log('Exception thrown during reparenting: ' + e);\n    } finally {\n        if (isTableHierarchyEditorLive) {\n            GlideProperties.set(TABLE_HIERARCHY_EDITOR_LIVE, isTableHierarchyEditorLive + '');\n            gs.info(\"Setting the property: \" + TABLE_HIERARCHY_EDITOR_LIVE + \" value to: \" + isTableHierarchyEditorLive );\n        }\n    }\n\n    // Step 3: Update application_id column to calc field\n    updateAppIdFieldType();\n\n    // Step 4: Set sys_scope for existing records in remaining search tables\n    setSysScope();\n}\n\n// for tables other than sys_search_context_config, iterate over each record and set sys_scope = global\nfunction setSysScope() {\n    tablesToReparent.forEach(function(tableName) {\n        if (tableName === 'sys_search_context_config')\n            return;\n\n        var gr = new GlideRecord(tableName);\n        gr.query();\n\n        gs.log('Setting sys_scope for existing ' + tableName + ' records.');\n        while (gr.next()) {\n            gr.setValue('sys_scope', 'global');\n            gr.update();\n        }\n    });\n}\n\n// for records in sys_search_context_config, set sys_scope to application_id\nfunction setSearchContextSysScope() {\n    var gr = new GlideRecord('sys_search_context_config');\n    gr.query();\n\n    gs.log('Setting sys_scope for existing sys_search_context_config records.');\n    while (gr.next()) {\n        var app_id = gr.getValue('application_id');\n        gr.setValue('sys_scope', app_id);\n        gr.update();\n    }\n}\n\n// drop application_id column\nfunction updateAppIdFieldType() {\n    gs.log(\"Setting the column 'application_id' from 'sys_search_context_config' to a calc field.\");\n\n    var gr = new GlideRecord('sys_dictionary');\n    gr.addQuery('name', 'sys_search_context_config');\n    gr.addQuery('element', 'application_id');\n    gr.query();\n\n    while (gr.next()) {\n        gs.log(\"Found the column 'application_id' from 'sys_search_context_config'.\");\n        gr.setValue('virtual', true);\n        gr.setValue('read_only', true);\n        gr.setValue('calculation', 'current.sys_scope;');\n        gr.update();\n    }\n}\n\nstart();","sys_class_name":"sys_script_fix","sys_id":"ab9d535453022010dda1ddeeff7b128b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0a99ab7b04f12210559073c06a02f746","value":"0a99ab7b04f12210559073c06a02f746"},"sys_update_name":"sys_script_fix_ab9d535453022010dda1ddeeff7b128b","sys_updated_by":"admin","sys_created_on":"2021-01-28 00:14:24","name":"Reparent search configuration tables","sys_name":"Reparent search configuration tables","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Fetches all the migrated pa_widgets names from the bridging table, loooks up for translations in sys_ui_message table and migrates them to the sys_ui_message table.\r\n\r\nThe code field in sys_ui_message is unitilised in order to disambiguate the translations","sys_updated_on":"2024-12-02 12:50:17","sys_tags":"","record_for_rollback":"true","script":"var CODE_KEY = 'PAR_MIGRATION_COMPONENT';\n\nfunction hasMigratedTranslations() {\n\tvar grTranslation = new GlideRecord('sys_ui_message');\n\tgrTranslation.addQuery('code', CODE_KEY);\n\tgrTranslation.query();\n\n\treturn grTranslation.getRowCount() > 0;\n}\n\nfunction getWidgetsToTranslate() {\n\tvar widgetNames = [];\n\n\tvar grComponentBridge = new GlideRecord('par_coreui_migration_bridge_component');\n\tgrComponentBridge.addNotNullQuery('widget');\n\tgrComponentBridge.addNullQuery('report');\n\tgrComponentBridge.addNotNullQuery('component');\n\tgrComponentBridge.addNullQuery('filter');\n\tgrComponentBridge.addQuery('is_last', true);\n\tgrComponentBridge.addQuery('type', 'widget');\n\n\tgrComponentBridge.query();\n\n\twhile(grComponentBridge.next()) {\n\t\tvar nameKey = grComponentBridge.widget.name.toString().toLowerCase();\n\t\twidgetNames.push(nameKey);\t\t\n\t}\n\n\tvar arrayUtil = new ArrayUtil();\n\treturn arrayUtil.unique(widgetNames); // return only the unique entries\n}\n\nfunction getSysTranslationRecords(names) {\n\tvar translations = {};\n\n\tvar grTranslations = new GlideRecord('sys_translated');\n\tgrTranslations.addQuery('name', 'pa_widgets');\n\tgrTranslations.addQuery('element', \"name\");\n\tgrTranslations.addQuery('value', 'IN', names.join());\n\n\tgrTranslations.query();\n\n\twhile(grTranslations.next()){\n\t\tvar translationKey = grTranslations.getValue('value');\n\t\tvar language = grTranslations.getValue('language');\n\t\tvar translation =  grTranslations.getValue('label');\n\n\t\tvar translationObject = {\n\t\t\tkey: translationKey,\n\t\t\ttranslation: translation,\n\t\t\tlanguage: language\n\t\t};\n\n\t\tif (!translations[language])\n\t\t\ttranslations[language] = {};\n\n\t\ttranslations[language][translationKey] = translationObject;\n\t}\n\treturn translations;\n}\n\n\nfunction createSysUiMessageTranslationRecord(translation) {\n\tvar grTranslation = new GlideRecord('sys_ui_message');\n\tgrTranslation.initialize();\n\tgrTranslation.key = translation.key;\n\tgrTranslation.message = translation.translation;\n\tgrTranslation.language = translation.language;\n\tgrTranslation.code = CODE_KEY;\n\treturn grTranslation.insert();\n}\n\nfunction createSysUiMessageTranslationRecords(widgetNames, translations) {\n\tvar sysIds = [];\n\n\tfor(var language in translations){\n\t\tfor(var i = 0; i < widgetNames.length; i++) {\n\t\t\tvar name = widgetNames[i];\n\t\t\tvar translation = translations[language][name];\n\n\t\t\tvar sysId = createSysUiMessageTranslationRecord(translation);\n\t\t\tsysIds.push(sysId);\n\t\t}\n\t}\n\t\n\treturn sysIds;\n}\n\nfunction hasMigratedDashboardArtifacts() {\n\tvar unifiedAnalyticsEnabled = gs.getProperty('com.glide.par.unified_analytics.enabled', 'false') === 'true';\n\n\tvar componentGr = new GlideRecord('par_coreui_migration_bridge_component');\n\tcomponentGr.query();\n\n\treturn unifiedAnalyticsEnabled && componentGr.getRowCount();\n}\n\nfunction main() {\n\tgs.info(\"***Starting 'Migrate pa_widgets' translation records' fix script***\");\n\n\tif(!hasMigratedDashboardArtifacts()) {\n\t\tgs.info('Bulk migration has not been performed or Platform Analytics Experience has not been activated. Could not query the translation records');\n\t\tgs.info(\"***End of 'Migrate pa_widgets' translation records' fix script***\");\n\t\treturn;\n\t}\n\n\tif(hasMigratedTranslations()){\n\t\tgs.info('Migrations have already been migrated. Nothing new to migrate');\n\t\tgs.info(\"***End of 'Migrate pa_widgets' translation records' fix script***\");\n\t\treturn;\n\t}\n\t\n\tvar widgetNames = getWidgetsToTranslate();\n\tgs.info('Found: ' + widgetNames.length + ' unique pa_widget names');\n\n\tvar translations = getSysTranslationRecords(widgetNames);\n\n\tvar createdSysUiMessageSysIds = createSysUiMessageTranslationRecords(widgetNames, translations);\n\t\n\tgs.info('Created : ' + createdSysUiMessageSysIds.length + ' sys_ui_message records for various languages');\n\tgs.info('Created sys_ui_message sys_ids: ' + JSON.stringify(createdSysUiMessageSysIds));\n\tgs.info(\"***End of 'Migrate pa_widgets' translation records' fix script***\");\n}\n\nmain();\n","sys_class_name":"sys_script_fix","sys_id":"ac132c24439e1210e184ac4b96b8f2e2","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/013ba77304352210559073c06a02f7f1","value":"013ba77304352210559073c06a02f7f1"},"sys_update_name":"sys_script_fix_ac132c24439e1210e184ac4b96b8f2e2","sys_updated_by":"admin","sys_created_on":"2024-12-02 12:50:17","name":"Migrate pa_widgets translations","sys_name":"Migrate pa_widgets translations","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Since the platform now supports multiple versions of Jasmine all existing \"Run Server Side Script\" steps must have a default version selected","sys_updated_on":"2018-07-25 20:39:37","sys_tags":"","record_for_rollback":"false","script":"var step = new GlideRecord('sys_atf_step');\n\n// Get all \"Run Server Side Script\" steps\nstep.addQuery('step_config', '41de4a935332120028bc29cac2dc349a');\nstep.query();\n\n// Loop through RSSS steps\nwhile (step.next()) {\n  var stepID = step.getUniqueValue();\n\n  // Check the 'jasmine_version' input variable for this test step\n  var variable = new GlideRecord('sys_variable_value');\n  variable.addQuery('document_key', stepID);\n  variable.addQuery('variable', '42f2564b73031300440211d8faf6a777');\n  variable.query();\n\n  // Only update this variable if it doesn't currently have a value set\n  if (!variable.next()) {\n    step.inputs.jasmine_version = '1.3';\n    if (step.update() !== null)\n      gs.info('Set Jasmine version for step ' + stepID + ' to ' +  step.inputs.jasmine_version);\n    else\n      gs.warn('Failed to update Jasmine version for step ' + stepID);\n  } else {\n    gs.info('Jasmine version for step ' + stepID + ' already set to ' + step.inputs.jasmine_version + ', no change made');\n  }\n}\n","sys_class_name":"sys_script_fix","sys_id":"ac55568b73031300440211d8faf6a71c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18792f3b04f12210559073c06a02f71d","value":"18792f3b04f12210559073c06a02f71d"},"sys_update_name":"sys_script_fix_ac55568b73031300440211d8faf6a71c","sys_updated_by":"admin","sys_created_on":"2018-07-06 20:09:47","name":"Set default Jasmine version","sys_name":"Set default Jasmine version","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Remove disableTableCleaner attribute for sys_flow_context_inputs_chunk table","sys_updated_on":"2024-08-29 00:16:32","sys_tags":"","record_for_rollback":"true","script":"\n\tSNC.DictionaryAttribute.set(\"sys_flow_context_inputs_chunk\", null, \"disableTableCleaner\", false);\n","sys_class_name":"sys_script_fix","sys_id":"ad6620fddb9c5610497c1a481396197c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/063be77304352210559073c06a02f7e4","value":"063be77304352210559073c06a02f7e4"},"sys_update_name":"sys_script_fix_ad6620fddb9c5610497c1a481396197c","sys_updated_by":"lin.yuan@snc","sys_created_on":"2024-08-29 00:16:32","name":"Remove disableTableCleaner attribute ","sys_name":"Remove disableTableCleaner attribute ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"lin.yuan@snc","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"4","description":"Populate cb topic library usage from existing sys_cb_topic graph for store app topics from existing (upgrade) instances","sys_updated_on":"2024-04-18 22:35:39","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord(\"sys_cs_topic_library_usage\");\ngr.addQuery(\"calling_cs_topic_id.model_type\", \"llm\");\ngr.query();\nvar hash = {}; // use a hash to keep track of what we're going to insert and remove duplicates before we insert\nwhile (gr.next()) {\n    var calling_cb_topic = gr.calling_cs_topic_id.cb_topic_id;\n    var library_cb_topic = gr.library_cs_topic_id.cb_topic_id;\n    if (calling_cb_topic && library_cb_topic) { //eliminate bad references\n        if (!hash.hasOwnProperty([calling_cb_topic, library_cb_topic])) {\n            hash[[calling_cb_topic, library_cb_topic]] = true; // add to hash; use calling topic + library topic id as the key\n            var cbTopicLibraryUsageGr = new GlideRecord(\"sys_cb_topic_library_usage\");\n            cbTopicLibraryUsageGr.setValue('calling_cb_topic_id', calling_cb_topic);\n            cbTopicLibraryUsageGr.setValue('library_cb_topic_id', library_cb_topic);\n            cbTopicLibraryUsageGr.insert();\n            gs.info(\"Populating sys_cb_topic_library_usage. \" + calling_cb_topic + \",\" + library_cb_topic);\n        }\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"adeb8991a3010210f1d55971e31e615c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_adeb8991a3010210f1d55971e31e615c","sys_updated_by":"admin","sys_created_on":"2024-03-19 00:16:44","name":"Populate cb topic library usage","sys_name":"Populate cb topic library usage","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"4","description":"Nlq capablity currently does not require training, thus setting the state of nlq solutions to \"Solution Complete\" in ml_solution table which overwrites default value \"Waiting for Training\"","sys_updated_on":"2021-05-05 06:52:49","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tvar nlqPrefix = 'nlq_model_info';\n\tvar mlSolutionGR = new GlideRecord('ml_solution');\n\tmlSolutionGR.addQuery('state','waiting_for_training');\n\tmlSolutionGR.query();\n\twhile (mlSolutionGR.next()) { \n\t\tvar solutionName = mlSolutionGR.getValue('solution_name').substring(0,nlqPrefix.length);\n\t\tif(solutionName==nlqPrefix){\n\t\t\tmlSolutionGR.setValue('state','solution_complete');\n\t\t\tmlSolutionGR.setWorkflow(false);\n\t\t\tmlSolutionGR.update();\n\t\t}\n\t}\n})();","sys_class_name":"sys_script_fix","sys_id":"ae44cf9353332010df5fddeeff7b1255","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cebd633304752210559073c06a02f7f7","value":"cebd633304752210559073c06a02f7f7"},"sys_update_name":"sys_script_fix_ae44cf9353332010df5fddeeff7b1255","sys_updated_by":"admin","sys_created_on":"2021-05-04 05:57:00","name":"Set nlq solutions for prediction only","sys_name":"Set nlq solutions for prediction only","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"The purpose of this script is to drop indexes and changes column attributes","sys_updated_on":"2024-11-15 14:44:06","sys_tags":"","record_for_rollback":"true","script":"\n      (function(){\n        var naaGlobalUtil = new global.NowAssistAdminGlobalScopedUtil();\n        var dropIndex = naaGlobalUtil.dropIndex.bind(naaGlobalUtil);\n        var updateColumn = naaGlobalUtil.updateColumn.bind(naaGlobalUtil);\n\n            dropIndex('sn_nowassist_skill_config_status',['skill_config']);\n            dropIndex('sn_ns_skill_config_ui',['skill_config']);\n            dropIndex('sn_ns_skill_config_var_set_ui',['var_set']);\n\n            updateColumn('sn_nowassist_skill_config_status', 'skill_config', 'unique', false);\n            updateColumn('sn_ns_skill_config_ui', 'skill_config', 'unique', false);\n            updateColumn('sn_ns_skill_config_var_set_ui', 'var_set', 'unique', false);\n\n            updateColumn('sn_nowassist_skill_config', 'active', 'column_label', 'Active (Deprecated)');\n            updateColumn('sn_nowassist_skill_config', 'in_product_roles', 'column_label', 'In Product Access Roles (Deprecated)');\n            updateColumn('sn_nowassist_skill_config', 'in_product_active', 'column_label', 'In Product Active (Deprecated)');\n        })();\n      ","sys_class_name":"sys_script_fix","sys_id":"ae4915037fb9121061d13705bc8665f9","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7c395aaa53003110453cddeeff7b123c","value":"7c395aaa53003110453cddeeff7b123c"},"sys_update_name":"sys_script_fix_ae4915037fb9121061d13705bc8665f9","sys_updated_by":"admin","sys_created_on":"2024-11-15 14:44:06","name":"Drop NAA skill config unique attribute","sys_name":"Drop NAA skill config unique attribute","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/7c395aaa53003110453cddeeff7b123c","value":"7c395aaa53003110453cddeeff7b123c"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"changes model_domain type from choice to glide_list and updates read_only flag to false","sys_updated_on":"2021-08-10 10:04:21","sys_tags":"","record_for_rollback":"false","script":"(function() {\n    if (pm.isZboot()) {\n        return;\n    }\n    var tables = NLUConstants.tables;\n    var glideRecord = new GlideRecord(tables.SYS_DICTIONARY);\n    glideRecord.addQuery('name', tables.SYS_NLU_MODEL);\n    glideRecord.addQuery('element', 'model_domain');\n    glideRecord.query();\n    if (glideRecord.next()) {\n        glideRecord.setValue('read_only', 'false');\n        glideRecord.setValue('internal_type', 'glide_list');\n        glideRecord.update();\n        gs.info('NLU Model: Upgraded model_domain column to glide_list');\n    }\n\n})();","sys_class_name":"sys_script_fix","sys_id":"ae80a7f653313010ec1fddeeff7b127f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_script_fix_ae80a7f653313010ec1fddeeff7b127f","sys_updated_by":"admin","sys_created_on":"2021-08-10 05:09:39","name":"NLU - model_domain field","sys_name":"NLU - model_domain field","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Updates the labels for cmdb_ci_service_auto to match CSDM-5 terminology","sys_updated_on":"2024-09-03 13:11:22","sys_tags":"","record_for_rollback":"true","script":"\t\tvar LOG_PREFIX = 'fix_csdm5_service_auto_label: ';\n\n\t\t/**\n\t\t *\n\t\t * @param {String} table the name of the table in the schema.\n\t\t * @param {String} prevLabel if current label isn't equal this value, the renaming is skipped.\n\t\t * @param {String} newLabel\n\t\t * @returns\n\t\t */\n\t\tfunction renameTableLabel(table, prevLabel, newLabel) {\n\t\t    var dbObj = new GlideRecord(\"sys_db_object\");\n\t\t    dbObj.addQuery(\"name\", table);\n\t\t    dbObj.query();\n\n\t\t    if (!dbObj.next()) {\n\t\t        gs.info(LOG_PREFIX + 'table ' + table + ' not found on sys_db_object.\\nSkipping label change.');\n\t\t        return;\n\t\t    }\n\n\t\t    var currLabel = String(dbObj.getValue('label'));\n\n\t\t    //already changed, skip\n\t\t    if (currLabel === newLabel)\n\t\t        return;\n\n\t\t    if (currLabel !== prevLabel) {\n\t\t        gs.info(LOG_PREFIX + 'table ' + table + ' appears to have customized label. Expected: ' + prevLabel + ', having: ' + currLabel +\n\t\t            '\\nSkipping label change.');\n\t\t        return;\n\t\t    }\n\n\t\t    dbObj.setValue('label', newLabel);\n\t\t    dbObj.update();\n\t\t    gs.info(LOG_PREFIX + 'Modified label for table ' + table + ' from \\'' + currLabel + '\\' to \\'' + newLabel + '\\'.');\n\t\t}\n\n\t\t/**\n\t\t *\n\t\t * @param {String} table the name of the table in the schema.\n\t\t * @param {Array} expectedLabels put all expected labels here.\n\t\t * If current plural label doesn't match any of the expected, then renaming is skipped.\n\t\t * When changing singular label on sys_db_object, the plural label may update automatically on sys_documentation.\n\t\t * Because of that, expectedLabels should contain the original plural bale, and the new singular label with 's' appended at the end.\n\t\t * @param {String} newLabel\n\t\t */\n\t\tfunction renameTableLabelPlural(table, expectedLabels, newLabel) {\n\t\t    var docObj = new GlideRecord(\"sys_documentation\");\n\t\t    docObj.addQuery(\"name\", table);\n\t\t    docObj.addQuery('language', 'en');\n\t\t    docObj.addNullQuery(\"element\");\n\t\t    docObj.query();\n\n\t\t    if (!docObj.next()) {\n\t\t        gs.info(LOG_PREFIX + 'table ' + table + ' not found on sys_documentation.\\nSkipping plural label change.');\n\t\t        return;\n\t\t    }\n\n\t\t    var currLabel = String(docObj.getValue(\"plural\"));\n\n\t\t    //already changed, skip\n\t\t    if (currLabel === newLabel)\n\t\t        return;\n\n\t\t    if (expectedLabels.indexOf(currLabel) === -1) {\n\t\t        gs.info(LOG_PREFIX + 'table ' + table + ' appears to have customized plural label. Expected one of: [' + expectedLabels.join(',') + '], having: ' + currLabel +\n\t\t            '\\nSkipping plural label change.');\n\t\t        return;\n\t\t    }\n\n\t\t    docObj.setValue(\"plural\", newLabel);\n\t\t    docObj.update();\n\t\t    gs.info(LOG_PREFIX + 'Modified plural label for table ' + table + ' from \\'' + currLabel + '\\' to \\'' + newLabel + '\\'.');\n\t\t}\n\n\n\t\t/**\n \t\t* @param {String} tableName the table in which the field is in.\n \t\t* @param {String} fromLabel the current label\n \t\t* @param {String} toLabel the new label to set\n \t\t*/\n\t\tfunction changeColumnLabel(tableName, fromLabel, toLabel) {\n            var dictGr = new GlideRecord(\"sys_dictionary\");\n            dictGr.addQuery(\"name\", tableName);\n            dictGr.addQuery(\"column_label\", fromLabel);\n            dictGr.query();\n            if (dictGr.next()) {\n                dictGr.setValue(\"column_label\", toLabel);\n                dictGr.update();\n                gs.log(LOG_PREFIX + \"The column label '\" + fromLabel + \"' of '\" + tableName + \"' table has been changed to '\" + toLabel + \"'.\");\n                return;\n            }\n            gs.log(LOG_PREFIX + \"The column label '\" + fromLabel + \"' of '\" + tableName + \"' table wasn't found.\");\n        }\n\n\n\t\tfunction execute() {\n\t\t    if (pm.isZboot()) {\n\t\t        gs.info(LOG_PREFIX + \"skipping on z-boot. Relevant only for upgrade flow.\");\n\t\t        return;\n\t\t    }\n\n\t\t    var scope = gs.getCurrentScopeName();\n\t\t    if (\"rhino.global\" != scope) {\n\t\t        gs.info(LOG_PREFIX + 'skipping because not in global scope: ' + scope);\n\t\t        return;\n\t\t    }\n\n\t\t    gs.info(LOG_PREFIX + 'started fix run.');\n\t\t    var table = 'cmdb_ci_service_auto';\n\t\t    renameTableLabel(table, 'Application Service', 'Service Instance');\n\t\t    var expectedPluralLabels = [\n\t\t        'Application Services'\n\t\t    ];\n\t\t    renameTableLabelPlural(table, expectedPluralLabels, 'Service Instances');\n\n\t\t\tchangeColumnLabel('sa_service_group_member', 'Application Service', 'Service Instance');\n\t\t    gs.info(LOG_PREFIX + 'finished fix run.');\n\t\t}\n\n\t\texecute();","sys_class_name":"sys_script_fix","sys_id":"aeac0b7597d01210d92eb8b3f153aff1","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_script_fix_aeac0b7597d01210d92eb8b3f153aff1","sys_updated_by":"admin","sys_created_on":"2024-08-29 12:20:22","name":"fix_csdm5_service_auto_label","sys_name":"fix_csdm5_service_auto_label","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2024-03-11 17:50:20","sys_tags":"","record_for_rollback":"true","script":"var writeAuditOOBACLList = ['8325fc354fd431103e4c2044dd72e04a'];\nempty_acl_fix(writeAuditOOBACLList);\nfunction empty_acl_fix(writeAuditOOBACLList) {\n    new global.AccessControlUtils().deleteCustomerUpdatesForAuditedEmptyACLs(writeAuditOOBACLList);\n}","sys_class_name":"sys_script_fix","sys_id":"af103bbe837c4a1032acc320ceaad36b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"sys_update_name":"sys_script_fix_af103bbe837c4a1032acc320ceaad36b","sys_updated_by":"admin","sys_created_on":"2024-03-11 17:50:20","name":"Decustomize Collaboration ACL","sys_name":"Decustomize Collaboration ACL","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"sys_created_by":"admin","sys_policy":"read"},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Replace changed boost_context_field  ids in ais_rule_action","sys_updated_on":"2021-08-26 17:00:04","sys_tags":"","record_for_rollback":"false","script":"var fTargetField = 'boost_context_field';\nvar fTargetTable = 'ais_rule_action';\n\nvar fReplacements = {\n    'domain': 'domains_id',\n    'location': 'location_id',\n    'roles': 'roles_id'\n};\n\nvar gr = new GlideRecord(fTargetTable);\ngr.addQuery(fTargetField, \"IN\", Object.keys(fReplacements));\ngr.query();\n\nvar ruleIdsCheckedForPublish = [];\nvar profileIdsToPublish = [];\nvar profileNamesToPublish = [];\n\nwhile (gr.next()) {\n    // Find already published profiles to republish later\n    var ruleId = gr.getValue('rule');\n    if (!ruleIdsCheckedForPublish.includes(ruleId)) {\n        ruleIdsCheckedForPublish.push(ruleId);\n        var rule = new GlideRecord('ais_rule');\n        rule.get(ruleId);\n        var profileId = rule.getValue('profile');\n        if (!profileIdsToPublish.includes(profileId)) {\n            var profile = new GlideRecord('ais_search_profile');\n            profile.get(profileId)\n            if (profile.getValue('state') == \"PUBLISHED\")\n                profileNamesToPublish.push(profile.getValue('name'));\n        }\n    }\n    var key = gr.getValue(fTargetField);\n    gr.setValue(fTargetField, fReplacements[key]);\n    gr.update();\n}\n\n// Republish already published profiles\nif (profileNamesToPublish.length > 0) {\n    var synchronizer = new sn_ais.Synchronizer();\n    for (var i = 0; i < profileNamesToPublish.length; i++)\n        synchronizer.publishProfile(profileNamesToPublish[i])\n}","sys_class_name":"sys_script_fix","sys_id":"b030e81cb71230109fa9b381de11a948","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/76946b3f04312210559073c06a02f73b","value":"76946b3f04312210559073c06a02f73b"},"sys_update_name":"sys_script_fix_b030e81cb71230109fa9b381de11a948","sys_updated_by":"admin","sys_created_on":"2021-08-26 16:53:02","name":"Update Boot Action Context IDs","sys_name":"Update Boot Action Context IDs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Migrate the existing relevancy models to the table used by the new ML framework","sys_updated_on":"2022-02-16 09:03:54","sys_tags":"","record_for_rollback":"false","script":"\nmigrateAisRelevancyModel();\nfunction migrateAisRelevancyModel() {\n\tgs.info('AI Search relevancy model migration started');\n\tvar pushRelevancyService = new sn_ais.PushRelevancyService();\n\tvar aisRelevancyModelGr = new GlideRecord('ais_search_profile_relevancy_model');\n\taisRelevancyModelGr.addQuery('current', true);\n\taisRelevancyModelGr.query();\n\twhile (aisRelevancyModelGr.next()) {\n\t\t//push relevancy model to AIS backend\n\t\tvar artifactId = aisRelevancyModelGr.getUniqueValue();\n\t\tvar relevancyModelJson = aisRelevancyModelGr.getValue(\"relevancy_model\");\n\t\tpushRelevancyService.pushRelevancyModelToAisFromLegacyRelevancyModelTable(artifactId, relevancyModelJson);\n\t\tgs.info('AI Search relevancy model '+artifactId+' was successfully upgraded');\n\t}\n\tgs.info('AI Search relevancy model migration complete');\n}","sys_class_name":"sys_script_fix","sys_id":"b065b28cc3b501105af13b4d2840dda2","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/76946b3f04312210559073c06a02f73b","value":"76946b3f04312210559073c06a02f73b"},"sys_update_name":"sys_script_fix_b065b28cc3b501105af13b4d2840dda2","sys_updated_by":"admin","sys_created_on":"2022-02-16 09:03:54","name":"AI Search Migration Legacy Relevancy Mod","sys_name":"AI Search Migration Legacy Relevancy Model","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Disables the 'CMDB Health Dashboard - Relationship Score Calculation' and 'CMDB Health Dashboard - Relationship Compliance Processor' scheduled jobs","sys_updated_on":"2024-03-23 22:42:41","sys_tags":"","record_for_rollback":"false","script":"//ba0871a6cb543200cab07f1b734c9c37 -- Relationship Score Calculation Job\n//22f283f3cb001200cab07f1b734c9c12 -- RelationshipCompliance Processor Job\ngs.log(\"Starting disabling relationship health jobs\");\nvar gr = new GlideRecord('sysauto_script');\nvar ids = [\"ba0871a6cb543200cab07f1b734c9c37\", \"22f283f3cb001200cab07f1b734c9c12\"];\ngr.addQuery('sys_id', ids);\ngr.query();\nwhile(gr.next()){\n\tgr.setValue('active', 'false');\n\tgr.update();\n}\ngs.log(\"Disabled relationship health jobs\");","sys_class_name":"sys_script_fix","sys_id":"b0c3ae3aeb41021053a1a1c6285228c6","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_b0c3ae3aeb41021053a1a1c6285228c6","sys_updated_by":"admin","sys_created_on":"2024-03-23 22:39:31","name":"Disable relationship health jobs","sys_name":"Disable relationship health jobs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Add synch attachments attribute to sys_pd_process_definition table","sys_updated_on":"2024-08-23 06:54:45","sys_tags":"","record_for_rollback":"true","script":"gs.log('Setting sys_pd_process_definition synch_attachments attribute to true');\nSNC.DictionaryAttribute.set(\"sys_pd_process_definition\", \"\", \"synch_attachments\", \"true\");\ngs.log('Completed updating sys_pd_process_definition attribute');","sys_class_name":"sys_script_fix","sys_id":"b1444fbb43041210cab0ebfe99b8f2f3","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/903e67b304752210559073c06a02f757","value":"903e67b304752210559073c06a02f757"},"sys_update_name":"sys_script_fix_b1444fbb43041210cab0ebfe99b8f2f3","sys_updated_by":"admin","sys_created_on":"2024-08-23 06:54:45","name":"synch_attachments to Process definition","sys_name":"synch_attachments to Process definition","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":"read"},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Update catalog_channel_analytics table's engagement_channel field's choice label from \"Workspace\" to \"Service workspace portal\"","sys_updated_on":"2024-04-10 11:15:46","sys_tags":"","record_for_rollback":"true","script":"var gr = new GlideRecord(\"sys_choice\");\ngr.addEncodedQuery(\"name=catalog_channel_analytics^element=engagement_channel^value=workspace^language=en\");\ngr.setWorkflow(false);\ngr.setRunEngines(false);\ngr.query();\nwhile (gr.next()) {\n\tgr.setValue(\"label\", \"Service workspace portal\");\n\tgr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"b1c6709377200210b6ffb2a07b5a99e3","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/43adafff04352210559073c06a02f77e","value":"43adafff04352210559073c06a02f77e"},"sys_update_name":"sys_script_fix_b1c6709377200210b6ffb2a07b5a99e3","sys_updated_by":"admin","sys_created_on":"2024-02-29 07:39:31","name":"Engagement channel choice label update","sys_name":"Engagement channel choice label update","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"The script updates the \"Advanced\" field labels' to \"Use pages and Sections\" in sys_sg_parameter_screen","sys_updated_on":"2024-11-06 13:07:13","sys_tags":"","record_for_rollback":"true","script":"function updateAdvancedFieldLabels() {\n    gs.info(\"Field labels update for `sys_sg_parameter_screen` has started\");\n    var sysDictGr = new GlideRecord('sys_dictionary');\n    sysDictGr.addQuery(\"name\", \"sys_sg_parameter_screen\");\n    sysDictGr.addQuery(\"element\", \"advanced\");\n    sysDictGr.addQuery(\"column_label\", \"Advanced\");\n    sysDictGr.query();\n    while (sysDictGr.next()) {\n        sysDictGr.setValue(\"column_label\", \"Use Pages and Sections\");\n        sysDictGr.update();\n    }\n    gs.info(\"Field labels update for `sys_sg_parameter_screen` has ended\");\n}\nupdateAdvancedFieldLabels();","sys_class_name":"sys_script_fix","sys_id":"b20626c07f31121032ef7e3d9c8665f4","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b5f42bff04312210559073c06a02f748","value":"b5f42bff04312210559073c06a02f748"},"sys_update_name":"sys_script_fix_b20626c07f31121032ef7e3d9c8665f4","sys_updated_by":"admin","sys_created_on":"2024-11-06 12:34:40","name":"Update labels in sys_sg_parameter_screen","sys_name":"Update labels in sys_sg_parameter_screen","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"15","description":"","sys_updated_on":"2019-08-20 22:27:34","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tGlideFixStuff.migrateUINotificationsToSysNotification();\n})();","sys_class_name":"sys_script_fix","sys_id":"b2579df40f5333005605539ac4767e9b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0893a3f304312210559073c06a02f7f1","value":"0893a3f304312210559073c06a02f7f1"},"sys_update_name":"sys_script_fix_b2579df40f5333005605539ac4767e9b","sys_updated_by":"admin","sys_created_on":"2019-08-13 18:29:45","name":"Upgrade UI Notifications To V2","sys_name":"Upgrade UI Notifications To V2","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"Converting total_time in nlq_table_guesser_query_log table from nanoseconds to milliseconds","sys_updated_on":"2023-02-22 07:17:53","sys_tags":"","record_for_rollback":"true","script":"var gr = new GlideRecord('nlq_table_guesser_query_log');\ngr.query(); \nwhile (gr.next()) {\n    gr.setValue('total_time', (gr.getValue('total_time') / 1000000).toFixed(3));\n    gr.setWorkflow(false);\n    gr.update();\n} \n// explicitly update hint as it does not \n// get updated from dict folder\nvar gc = new GlideRecord('sys_documentation');\ngc.addQuery('name', 'nlq_table_guesser_query_log');\ngc.addQuery('language', 'en');\ngc.query();\nwhile (gc.next()) {\n\tif (gc.getValue('element') == 'total_time') {\n        gc.setValue('hint', 'Total time in milliseconds');\n\t\tgc.setWorkflow(false);\n        gc.update();\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"b25888d1c3012110fadf21007d40dd93","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cebd633304752210559073c06a02f7f7","value":"cebd633304752210559073c06a02f7f7"},"sys_update_name":"sys_script_fix_b25888d1c3012110fadf21007d40dd93","sys_updated_by":"admin","sys_created_on":"2023-02-15 02:58:05","name":"NLQTableGuesser - Total time to millisec","sys_name":"NLQTableGuesser - Total time to millisec","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"Set default values for table access policy fields for help and guidance tables","sys_updated_on":"2021-10-04 05:16:06","sys_tags":"","record_for_rollback":"false","script":"resetAccessPolicyDefaults();\n\nfunction resetAccessPolicyDefaults() {\n\tvar tables = [\"help_answer\",\"help_content\",\"help_guidance\",\"help_guidance_step\",\"help_guidance_task\",\"help_m2m_step_dependency\",\"help_question\",\"help_setup_dependency\",\"help_user_interaction\",\"help_user_interaction_log\",\"help_user_interaction_step\"];\n\t\t\n\tvar fields = [\n\t\t{ name: \"read_access\", defaultValue: \"true\" },\n\t\t{ name: \"create_access\", defaultValue: \"true\" },\n\t\t{ name: \"update_access\", defaultValue: \"true\" },\n\t\t{ name: \"delete_access\", defaultValue: \"true\" },\n\t\t{ name: \"ws_access\", defaultValue: \"true\" },\n\t\t{ name: \"alter_access\", defaultValue: \"true\" },\n\t\t{ name: \"actions_access\", defaultValue: \"true\" },\n\t\t{ name: \"client_scripts_access\", defaultValue: \"true\" },\n\t\t{ name: \"configuration_access\", defaultValue: \"true\" }\n\t];\n\t\n\tupdateDictionary(fields);\n\t\n\t// Reset all default values in the dictionary for the *_access fields on help and guidance tables\n\tfunction updateDictionary(fields) {\n\t\t// Reset default value in the dictionary\n\t\tvar tableRec = new GlideRecord('sys_db_object');\n\t\ttableRec.addQuery('name', 'IN', tables.join(\",\")); \n\t\ttableRec.query();\n\t\twhile (tableRec.next()) {\n\t\t\tfor (var fieldIndex in fields) {\n\t\t\t\tvar field = fields[fieldIndex];\n\t\t\t\tif (field && field.name) {\t\n\t\t\t\t\tif(!(tableRec.name == \"help_guidance_task\" && field.name == \"delete_access\"))\n\t\t\t\t\t\ttableRec[field.name] = field.defaultValue;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttableRec.update();\n\t\t}\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"b270865d5352301089abddeeff7b12d8","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/562ba37304352210559073c06a02f751","value":"562ba37304352210559073c06a02f751"},"sys_update_name":"sys_script_fix_b270865d5352301089abddeeff7b12d8","sys_updated_by":"admin","sys_created_on":"2021-08-30 02:42:46","name":"Update table access policy fields","sys_name":"Update table access policy fields","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"","sys_updated_on":"2025-03-31 19:29:25","sys_tags":"","record_for_rollback":"true","script":"// We already ship necessary suggestion reader groups for these records OOTB\nvar OOTB_AIS_SACS = [\n    '00731b9d5b231010d9a5ce1a8581c7dd', // Service Portal Default Search Application\n    '7296910f53171010069addeeff7b12e7', // ESC Portal Default Search Application\n];\n\nvar SUGGESTED_UTTERANCES = 'ab822a20ff0022103910ffffffffff7e';\n\nvar READER_GROUPS_TO_ADD = [{\n    suggestion_type: 'Now Assist Suggested Query Reader Group for ',\n    section_header: 'Ask Now Assist',\n    limit: 3,\n    click_in_mode: false,\n    order: 250,\n    readers: [{\n        sys_suggestion_reader_id: SUGGESTED_UTTERANCES,\n        order: 100,\n    }, ],\n    autoLink: false\n}];\n\nfunction readerGroupHasBeenCreatedForSAC(groupJson, sacGR) {\n    var targetReaderGroupName = groupJson.suggestion_type + sacGR.getValue('name');\n    var readerGroupGR = new GlideRecord('sys_suggestion_reader_group');\n    readerGroupGR.addQuery('suggestion_type', targetReaderGroupName);\n    readerGroupGR.query();\n    return readerGroupGR.hasNext();\n}\n\nfunction createReaderGroupForSAC(groupJson, sacGR) {\n    var readerGroupUtils = new SuggestionReaderGroupUtils();\n    readerGroupUtils.createSingleSuggestionReaderGroup(groupJson, sacGR.getValue('sys_id'), sacGR.getValue('name'));\n}\n\nfunction tableExists(tableName) {\n    return new TableUtils(tableName).tableExists();\n}\n\nvar portalTable = 'sp_portal';\nvar searchApplicationTable = 'sys_search_context_config';\n\nif (tableExists(portalTable) && tableExists(searchApplicationTable)) {\n    var spGr = new GlideRecord(portalTable);\n    spGr.addQuery('enable_ais', true);\n    spGr.query();\n    var portalSacs = [];\n    while (spGr.next()) {\n        var sacId = spGr.getValue('search_application');\n        if (portalSacs.indexOf(sacId) == -1) {\n            portalSacs.push(sacId);\n        }\n    }\n    var sacGR = new GlideRecord(searchApplicationTable);\n    sacGR.addQuery('search_engine', 'ai_search');\n    sacGR.addQuery('sys_id', 'IN', portalSacs.join(','));\n    sacGR.query();\n    while (sacGR.next()) {\n        if (OOTB_AIS_SACS.indexOf(sacGR.getValue('sys_id')) == -1) {\n            for (var i = 0; i < READER_GROUPS_TO_ADD.length; i++) {\n                var groupJson = READER_GROUPS_TO_ADD[i];\n                if (!readerGroupHasBeenCreatedForSAC(groupJson, sacGR)) {\n                    createReaderGroupForSAC(groupJson, sacGR);\n                }\n            }\n        }\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"b288383bffd42210c0f1ffffffffff83","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0e99ab7b04f12210559073c06a02f745","value":"0e99ab7b04f12210559073c06a02f745"},"sys_update_name":"sys_script_fix_b288383bffd42210c0f1ffffffffff83","sys_updated_by":"admin","sys_created_on":"2025-03-22 02:50:45","name":"Create Suggested Utterances Reader Group","sys_name":"Create Suggested Utterances Reader Group","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"5","description":"Convert deprecated interaction.channel references to interaction.type choice list values","sys_updated_on":"2018-10-05 21:05:57","sys_tags":"","record_for_rollback":"false","script":"migrateInteractionChannelToType();\n\nfunction migrateInteractionChannelToType() {\n\tvar connGR = new GlideRecord('interaction_connector');\n\n\tif (!connGR.isValid()) {\n\t\tgs.log('Interaction connector table does not exist.');\n\t\treturn;\n\t}\n\n\tconnGR.addQuery(\"sys_id\", \"IN\",\n\t\t\"28a59893873103002ae97e2526cb0b5d,45c367463b801300758ce9b534efc4ea,e3c2a22eb3b203002186a72256a8dc71\");\n\tconnGR.query();\n\twhile (connGR.next()) {\n\t\tvar choiceGR = new GlideRecord('sys_choice');\n\t\tchoiceGR.addQuery(\"name\", \"interaction\");\n\t\tchoiceGR.addQuery(\"element\", \"type\");\n\t\tchoiceGR.addQuery(\"value\", connGR.getValue(\"name\"));\n\t\tchoiceGR.query();\n\t\tif (choiceGR.next()) {\n\t\t\tvar interactionGR = new GlideRecord('interaction');\n\t\t\tif (!interactionGR.isValidField('channel')) {\n\t\t\t\tgs.log('Interaction \"channel\" column does not exist.');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tinteractionGR.addQuery(\"channel\", connGR.getValue(\"sys_id\"));\n\t\t\tinteractionGR.addNullQuery(\"type\");\n\t\t\tinteractionGR.query();\n\t\t\tinteractionGR.setValue('type', choiceGR.getValue(\"value\"));\n\t\t\tinteractionGR.setWorkflow(false);\n\t\t\tinteractionGR.setUseEngines(false);\n\t\t\tinteractionGR.updateMultiple();\n\t\t\tgs.log('Updated ' + interactionGR.getRowCount() + ' ' + connGR.getValue(\"name\") + ' interaction record(s) to use the \"type\" field.');\n\t\t}\n\t}\n}\n","sys_class_name":"sys_script_fix","sys_id":"b312ead0730123004a905ee515f6a7af","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/989c2b7b04352210559073c06a02f7cc","value":"989c2b7b04352210559073c06a02f7cc"},"sys_update_name":"sys_script_fix_b312ead0730123004a905ee515f6a7af","sys_updated_by":"admin","sys_created_on":"2018-10-05 18:09:05","name":"Migrate interaction channel to type","sys_name":"Migrate interaction channel to type","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"This fix script will run once on upgrade to populate missing references to the Next experience dashboard on pa_dashboard table (Legacy dashboards)","sys_updated_on":"2024-11-01 13:48:34","sys_tags":"","record_for_rollback":"true","script":"if(pm.isZboot())\n\tgs.info('Populate Experience Dashboard field script was skipped on Zboot.');\nelse {\n\tgs.info('Populate Experience Dashboard field script - Start');\n\tvar util = new PopulateExperienceDashboard();\n\tutil.populate();\n\tgs.info('Populate Experience Dashboard field script - End');\n}\n","sys_class_name":"sys_script_fix","sys_id":"b317056ec1211210f8774a731dd135e2","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/013ba77304352210559073c06a02f7f1","value":"013ba77304352210559073c06a02f7f1"},"sys_update_name":"sys_script_fix_b317056ec1211210f8774a731dd135e2","sys_updated_by":"admin","sys_created_on":"2024-11-01 13:48:34","name":"Populate Experience Dashboard field","sys_name":"Populate Experience Dashboard field","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Remove no longer used choice","sys_updated_on":"2014-03-07 19:58:48","sys_tags":"","record_for_rollback":"false","script":"var choice = new GlideRecord(\"sys_choice\");\nchoice.addQuery(\"name\", \"sys_sync_history\");\nchoice.addQuery(\"element\", \"type\");\nchoice.addQuery(\"value\", \"staging\");\nchoice.query();\nif (choice.next()) {\n\tchoice.setWorkflow(false);\n\tchoice.deleteRecord();\n}","sys_class_name":"sys_script_fix","sys_id":"b31fc371bf1311001875647fcf0739d2","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ff04a7f704312210559073c06a02f761","value":"ff04a7f704312210559073c06a02f761"},"sys_update_name":"sys_script_fix_b31fc371bf1311001875647fcf0739d2","sys_updated_by":"admin","sys_created_on":"2014-03-07 19:58:48","name":"Update sync history choice value","sys_name":"Update sync history choice value","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2019-08-27 17:16:41","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tvar adder = new AddValueToCsvProperty();\n\tadder.add('event.limited.queues', 'flow_engine');\n})();","sys_class_name":"sys_script_fix","sys_id":"b32d85990f2333005605539ac4767e0d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/063be77304352210559073c06a02f7e4","value":"063be77304352210559073c06a02f7e4"},"sys_update_name":"sys_script_fix_b32d85990f2333005605539ac4767e0d","sys_updated_by":"admin","sys_created_on":"2019-08-27 17:16:41","name":"Add Flow Engine To Event Limited Queues","sys_name":"Add Flow Engine To Event Limited Queues","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"","sys_updated_on":"2021-09-27 21:52:03","sys_tags":"","record_for_rollback":"false","script":"SNC.DelegatedDevelopmentUtil.updateAllMetaDataPermissions();","sys_class_name":"sys_script_fix","sys_id":"b3ec4eaec7723010d447c17cf4c260fd","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/903e67b304752210559073c06a02f757","value":"903e67b304752210559073c06a02f757"},"sys_update_name":"sys_script_fix_b3ec4eaec7723010d447c17cf4c260fd","sys_updated_by":"admin","sys_created_on":"2021-09-27 21:06:07","name":"Sync PAD Users - All Metadata","sys_name":"Sync PAD Users - All Metadata","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":"read"},{"before":"false","unloadable":"false","sys_mod_count":"4","description":"For customers upgrading from Q --> R we want the IAR flow to work as we have removed NLU dependency, hence update Intent to topic map records with the correct topic and make it active. ","sys_updated_on":"2021-05-11 00:11:12","sys_tags":"","record_for_rollback":"false","script":"executeFix();\n\nfunction executeFix() {\n\t\n\tif (!AutoResolutionUtil.intentTopicMapRecordsExist()) {\n\t\tgs.info('IAR Fix Script execution: there are no records in {0} table, nothing to be updated.', AutoResolutionConstants.INTENT_TOPIC_MAP_TABLE_NAME);\n\t\treturn;\n\t}\n\t\n\t//if there is any active record then that implies customer has already been using IAR when NLU is disabled, so nothing needs to be updated\n\tif (AutoResolutionUtil.isAnyIntentTopicMapRecordActive()) {\n\t\tgs.info('IAR Fix Script execution: there is atleast one active record in {0} table, nothing to be updated.', AutoResolutionConstants.INTENT_TOPIC_MAP_TABLE_NAME);\n\t\treturn;\n\t}\n\t\n\t//if intent topic map records exist find alternative matched topic for each intent and update the record\n\tAutoResolutionUtil.updateIntentTopicMapRecords();\n}\n\n","sys_class_name":"sys_script_fix","sys_id":"b42dce6c73003010f14a063f34f6a70b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca4f3f704b52210559073c06a02f789","value":"aca4f3f704b52210559073c06a02f789"},"sys_update_name":"sys_script_fix_b42dce6c73003010f14a063f34f6a70b","sys_updated_by":"admin","sys_created_on":"2021-05-07 23:06:24","name":"Fix IAR flow for NLU Customers","sys_name":"Fix IAR flow for NLU Customers","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"4","description":"","sys_updated_on":"2021-04-14 18:39:48","sys_tags":"","record_for_rollback":"false","script":"(function() {\n    if (pm.isZboot())\n        return;\n\n    var gr = new GlideRecord('sys_dictionary');\n    gr.addQuery('name', 'sys_transform_definition');\n    gr.addQuery('element', 'label');\n    gr.addOrCondition('element', 'description');\n    gr.addQuery('internal_type', 'string');\n    gr.query();\n\n    if (gr.next()) {\n        new TranslationUtils().convert(\"sys_transform_definition\", [\"label\", \"description\"]);\n        gs.info('sys_transform_definition.label, sys_transform_definition.description internal type changed from \"string\" to \"translated_text\"');\n    }\n\n    var grCategory = new GlideRecord('sys_dictionary');\n    grCategory.addQuery('name', 'sys_transform_category');\n    grCategory.addQuery('element', 'label');\n    grCategory.addQuery('internal_type', 'string');\n    grCategory.query();\n\n    if (grCategory.next()) {\n        new TranslationUtils().convert(\"sys_transform_category\", [\"label\"]);\n        gs.info('sys_transform_category.label internal type changed from \"string\" to \"translated_text\"');\n    }\n\n}());","sys_class_name":"sys_script_fix","sys_id":"b4c366810f63601037983a3485767ef9","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e55b63b304352210559073c06a02f7f6","value":"e55b63b304352210559073c06a02f7f6"},"sys_update_name":"sys_script_fix_b4c366810f63601037983a3485767ef9","sys_updated_by":"admin","sys_created_on":"2021-04-14 17:31:18","name":"Transform Definition and Category i18n","sys_name":"Transform Definition i18n","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Executes the corresponding scheduled job that will attempt to update all Instance Root Key (IRK) metadata.","sys_updated_on":"2023-08-29 19:51:18","sys_tags":"","record_for_rollback":"true","script":"(function() {\n    var JOB = 'b66df7804f013110fd02a02b32ce0bcc';\n    var gr = new GlideRecord('sysauto_script');\n    if (!gr.get(JOB)) {\n        gs.error(\"Update all Instance Root Key metadata :: Could not find scheduled job with sys_id: \" + JOB);\n        return;\n    }\n    SncTriggerSynchronizer.executeNow(gr);\n})();","sys_class_name":"sys_script_fix","sys_id":"b50ef3c04f013110fd02a02b32ce0bf9","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7f83a3f304312210559073c06a02f787","value":"7f83a3f304312210559073c06a02f787"},"sys_update_name":"sys_script_fix_b50ef3c04f013110fd02a02b32ce0bf9","sys_updated_by":"admin","sys_created_on":"2023-08-29 19:51:18","name":"Update all Instance Root Key metadata","sys_name":"Update all Instance Root Key metadata","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Fixing labels for table and fields on sa_service_group_member and cmdb_ci_service_group to read \"Application Service *\"","sys_updated_on":"2020-07-06 11:58:46","sys_tags":"","record_for_rollback":"false","script":"function updateFieldLabel(tableName, fieldName, oldLabel, newLabel) {\n\tvar path = tableName + '.' + fieldName;\n\tvar gr = new GlideRecord('sys_dictionary');\n\tgs.log('Attempting change of label for ' + path + ' from ' + oldLabel + ' to ' + newLabel);\n\tgr.addQuery('name', tableName);\n\tgr.addQuery('element', fieldName);\n\tgr.query();\n\tif (gr.next()) {\n\t\tvar currentLabel = gr.getValue('column_label');\n\t\tif (currentLabel != oldLabel) {\n\t\t\tgs.log('Skipping label change, expected ' + oldLabel + ' but found ' + currentLabel);\n\t\t\treturn;\n\t\t}\n\t\tgr.setValue('column_label', newLabel);\n\t\tgr.update();\n\t\tgs.log('Changed label of ' + path + ' to ' + newLabel);\n\t} else {\n\t\tgs.log('Record ' + path + ' not found in sys_dictionary. Skipping...');\n\t}\n}\n\n//This function updates doc label for table (element=NULL)\nfunction updateDocLabels(tableName, oldLabel, newLabel, oldPlural, newPlural) {\n\tvar gr = new GlideRecord('sys_documentation');\n\tgs.log('Attempting change of table label for ' + tableName + ' from ' + oldLabel + ' to ' + newLabel);\n\tgr.addQuery('language', 'en');\n\tgr.addQuery('name', tableName);\n\tgr.addQuery('element', 'NULL');\n\tgr.query();\n\tif (gr.next()) {\n\t\tvar wasModified = false;\n\t\tvar currentLabel = gr.getValue('label');\n\t\tif (currentLabel == oldLabel) {\n\t\t\tgr.setValue('label', newLabel);\n\t\t\twasModified = true;\n\t\t} else {\n\t\t\tgs.log('Skipping singular label change in sys_documentation, expected ' + oldLabel + ' but found ' + currentLabel);\n\t\t}\n\n\t\tcurrentLabel = gr.getValue('plural');\n\t\tif (currentLabel == oldPlural) {\n\t\t\tgr.setValue('plural', newPlural);\n\t\t\twasModified = true;\n\t\t} else {\n\t\t\tgs.log('Skipping plural label change in sys_documentation, expected ' + oldPlural + ' but found ' + currentLabel);\n\t\t}\n\t\t\n\t\tif (wasModified) {\n\t\t\tgr.update();\n\t\t\tgs.log('Updated sys_documentation record for ' + tableName + ' to ' + [newLabel, newPlural]);\n\t\t}\n\t} else {\n\t\tgs.log('Record for ' + tableName + ' not found in sys_documentation. Skipping...');\n\t}\n}\n\nupdateDocLabels('sa_service_group_member', 'Business Service Group Members', 'Application Service Group Member', 'Business Service Group Members', 'Application Service Group Members');\nupdateDocLabels('cmdb_ci_service_group',  'Business Service Group', 'Application Service Group', 'Business Service Groups', 'Application Service Groups');\n\nupdateFieldLabel('sa_service_group_member', 'service', 'Business Service', 'Application Service');\nupdateFieldLabel('sa_service_group_member', 'service_group', 'Business Service Group', 'Application Service Group');","sys_class_name":"sys_script_fix","sys_id":"b51f37c6b73110105984eb25de11a9fc","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_script_fix_b51f37c6b73110105984eb25de11a9fc","sys_updated_by":"admin","sys_created_on":"2020-07-06 06:44:29","name":"Fix labels for sa_service_group_member","sys_name":"Fix labels for sa_service_group_member","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"6","description":"Changes the actual and business percentage fields on task_sla to \"percent_complete\" with threshold attributes on upgraded instances","sys_updated_on":"2018-01-11 15:24:25","sys_tags":"","record_for_rollback":"false","script":"if (!pm.isZboot()) {\n\tvar dictionaryGR = new GlideRecord('sys_dictionary');\n\tdictionaryGR.addQuery('name', 'task_sla');\n\tdictionaryGR.addQuery('element', 'IN', 'percentage,business_percentage');\n\tdictionaryGR.query();\n\tvar dictionaryMod = sn_collision.CollisionAPI.atLeastOneWillNotBeReplacedOnUpgrade(dictionaryGR);\n\n\tvar styleGR = new GlideRecord('sys_ui_style');\n\tstyleGR.addQuery('name', 'task_sla');\n\tstyleGR.addQuery('element', 'IN', 'business_percentage,percentage,stage');\n\tstyleGR.query();\n\tvar styleMod = sn_collision.CollisionAPI.atLeastOneWillNotBeReplacedOnUpgrade(styleGR);\n\n\tif (!dictionaryMod && !styleMod) {\n\t\t// Update percentage fields to percent_complete if not edited\n\t\tdictionaryGR.query();\n\t\twhile (dictionaryGR.next()) {\n\t\t\tdictionaryGR.setValue('internal_type','percent_complete');\n\t\t\tdictionaryGR.setValue('attributes', 'target_threshold_colors=0:#71e279;50:#fcc742;75:#fc8a3d;100:#f95050');\n\t\t\tdictionaryGR.update();\n\t\t}\n\n\t\t// Remove field styles\n\t\tvar um = new GlideUpdateManager2();\n\t\tum.load(\"com.snc.sla\", \"delete_styles\");\n\t}\n}\n\n","sys_class_name":"sys_script_fix","sys_id":"b5d6edbf231303001488dc1756bf651a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d19e7b704f12210559073c06a02f7da","value":"5d19e7b704f12210559073c06a02f7da"},"sys_update_name":"sys_script_fix_b5d6edbf231303001488dc1756bf651a","sys_updated_by":"admin","sys_created_on":"2018-01-03 14:44:26","name":"Change task_sla percent fields","sys_name":"Change task_sla percent fields","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"6","description":"To convert the '&' symbol in sys_ui_message table to 'and' for proper translation","sys_updated_on":"2025-01-27 07:31:08","sys_tags":"","record_for_rollback":"true","script":"(function() {\n    var sys_gr = new GlideRecord(\"sys_ui_message\");\n    sys_gr.addQuery(\"keyLIKEPlease select the table & field(s) you want to use to retrieve your similarity results, and the table and fields you want compared\");\n    sys_gr.query();\n\trecord_found = false;\n    while (sys_gr.next()) {\n\t\tsys_gr.setValue(\"key\",\"STEP 2: Please select the table and field(s) you want to use to retrieve your similarity results, and the table and fields you want compared\");\n\t\tsys_gr.update();\n\t\trecord_found=true;\n    }\n\tif (record_found==true){\n\t\tgs.info(\"Converted the ampersand symbols to and in sys_ui_message table\");\n\t}\n\telse {\n        gs.info(\"No record containing ampersand symbol in sys_ui_message table found\");\n    }\n\n}());","sys_class_name":"sys_script_fix","sys_id":"b5ff29c87f8b1210802567062d86651c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_script_fix_b5ff29c87f8b1210802567062d86651c","sys_updated_by":"admin","sys_created_on":"2025-01-07 12:02:02","name":"Convert ampersand to and","sys_name":"Convert ampersand to and","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"This script removes unique constraint from Name column of sys_decision table.","sys_updated_on":"2022-04-27 23:18:34","sys_tags":"","record_for_rollback":"false","script":"var tableName = 'sys_decision';\nvar columnName = 'name';\n\n// set unique false\nvar gr = new GlideRecord(\"sys_dictionary\");\ngr.addQuery(\"element\", columnName);\ngr.addQuery(\"name\", tableName);\ngr.query();\ngr.next();\ngr.setValue(\"unique\", false);\ngr.setWorkflow(false);\ngr.update();\n\n// Remove index created on Name field in DB\nvar isUniqueIndex = true;\nvar columnsInIndex = [columnName];\nvar util = new GlideIndexUtils();\nutil.dropByExactElementSequence(tableName, isUniqueIndex, columnsInIndex);","sys_class_name":"sys_script_fix","sys_id":"b658167aa3830110e355f99246fcda17","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/a85b23b304352210559073c06a02f73f","value":"a85b23b304352210559073c06a02f73f"},"sys_update_name":"sys_script_fix_b658167aa3830110e355f99246fcda17","sys_updated_by":"admin","sys_created_on":"2022-04-27 23:14:09","name":"Remove unique constaint from Decision","sys_name":"Remove unique constaint from Decision","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"4","description":"Delete legacy event processor job if  new event processor exists","sys_updated_on":"2022-11-15 23:05:20","sys_tags":"","record_for_rollback":"true","script":"\n    if (!pm.isZboot()){\n\n        //Check if we have legacy event processors\n\t\tvar legacyJobs = queryLegacyEventsProcessJobs();\n\t\tvar legacyJobsCount = legacyJobs.getRowCount();\n\n\t\tif (legacyJobsCount > 0) {\n\t\t\t\n\t\t    // Make sure we now have the new event processors \n\t\t    var newEventsProcessJobs = queryNewEventsProcessJobs();\n\t\t    var newEventsProcessJobsCount = newEventsProcessJobs.getRowCount();\n\n\t\t    if (newEventsProcessJobsCount > 0) {\n\t\t        gs.print(\"Deleting the legacy events process job now\");\n\t\t        deleteLegacyEventsProcessJobs();\n\t\t    } else {\n\t\t        gs.print(\"Could not find new event processors!\");\n\t\t    }\n\n\t\t    gs.print(\"Completed converting legacy event processors to new event processors\");\n\n\t\t}else{\n\t\t\tgs.print(\"Could not find legacy event processors!\");\n\t\t}\n\t}\n\n\n\n\n\t\tfunction queryLegacyEventsProcessJobs() {\n\t\t    var eventsJobs = new GlideRecord(\"sys_trigger\");\n\t\t    eventsJobs.addQuery(\"job_context\", \"CONTAINS\", \"gs.eventsProcess()\");\n\t\t    eventsJobs.orderBy(\"repeat\");\n\t\t    eventsJobs.query();\n\n\t\t    gs.print(\"Found \" + eventsJobs.getRowCount() + \" job(s) matching query: [\" + eventsJobs.getEncodedQuery() + \"]\");\n\t\t    return eventsJobs;\n\t\t}\n\n\t\tfunction queryNewEventsProcessJobs() {\n\t\t    var eventsJobs = new GlideRecord(\"sys_trigger\");\n\t\t    eventsJobs.addEncodedQuery(\"job_contextLIKEgs.processDelegatedEvents^system_id=^ORsystem_id!=ACTIVE NODES\");\n\t\t    eventsJobs.query();\n\n\t\t    return eventsJobs;\n\t\t}\n\n\t\tfunction deleteLegacyEventsProcessJobs() {\n\t\t    var eventsJobs = queryLegacyEventsProcessJobs();\n\n\t\t    while (eventsJobs.next()) {\n\t\t        gs.print(\"Delete existing legacy events processor - \" + eventsJobs.getValue(\"sys_id\"));\n\t\t        eventsJobs.deleteRecord();\n\t\t    }\n\t\t}","sys_class_name":"sys_script_fix","sys_id":"b676951643c351100c3b1343acb8f274","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4863eb7304312210559073c06a02f71c","value":"4863eb7304312210559073c06a02f71c"},"sys_update_name":"sys_script_fix_b676951643c351100c3b1343acb8f274","sys_updated_by":"admin","sys_created_on":"2022-11-11 01:18:30","name":"delete legacy event processor job","sys_name":"delete legacy event processor job","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Runs the Security Center Suites","sys_updated_on":"2022-11-08 23:37:01","sys_tags":"","record_for_rollback":"false","script":"var SCHEDULED_AUDITOR_SCAN = \"789a691d51031110fa9bb36230460140\";\nvar gr = new GlideRecord(\"sysauto_scan\");\nif (gr.get(SCHEDULED_AUDITOR_SCAN))\n    gs.executeNow(gr);","sys_class_name":"sys_script_fix","sys_id":"b72579d984031110fa9bae9b6f433d3e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"sys_update_name":"sys_script_fix_b72579d984031110fa9bae9b6f433d3e","sys_updated_by":"admin","sys_created_on":"2022-11-08 00:48:09","name":"Run Security Center Suites","sys_name":"Run Security Center Suites","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"sys_created_by":"admin","sys_policy":"read"},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Changes the sys_uib_template.description column from a Translated Field to Translated Text so that it is not limited by the max length of Translated Fields.","sys_updated_on":"2023-08-22 15:19:13","sys_tags":"","record_for_rollback":"true","script":"updateUIBTemplateDescriptionType();\nfunction updateUIBTemplateDescriptionType () {\n\tvar gr = new GlideRecord(\"sys_dictionary\");\n\tgr.addQuery(\"name\", \"sys_uib_template\");\n\tgr.addQuery(\"element\", 'description');\n\tgr.query();\n\tif (gr.next()) {\n\t\tgr.setValue(\"internal_type\", \"translated_text\");\n\t\tgr.update();\n\t}\n};\n","sys_class_name":"sys_script_fix","sys_id":"b806ba7da3f43110aae2a462a51e61b2","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f193e7f304312210559073c06a02f725","value":"f193e7f304312210559073c06a02f725"},"sys_update_name":"sys_script_fix_b806ba7da3f43110aae2a462a51e61b2","sys_updated_by":"admin","sys_created_on":"2023-08-22 15:02:12","name":"Change sys_uib_template description type","sys_name":"Change sys_uib_template description type","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"0","description":"Allow upgrade of two Pre-G mid-scripts. Prevent it from being skipped during upgrade.","sys_updated_on":"2023-03-29 19:30:40","sys_tags":"","record_for_rollback":"true","script":"var sysScriptGr = new GlideRecord('sys_script');\nsysScriptGr.addQuery('sys_id', 'IN', ['2450c0003702120069da03488e41f1d5', '210c00803702120069da03488e41f1e4']);\nsysScriptGr.addQuery('active', false);\nsysScriptGr.query();\n\nwhile (sysScriptGr.next()) {\n\tif (sysScriptGr.getValue('sys_mod_count') < 2) {\n\t\tvar sysUpdateGr = new GlideRecord('sys_update_xml');\n\t\tsysUpdateGr.addQuery('name', sysScriptGr.getValue('sys_update_name'));\n\t\tsysUpdateGr.setValue('replace_on_upgrade', true);\n\t\tsysUpdateGr.updateMultiple();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"b83e77ba43f12110b99c734e3bb8f2b7","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/42b8273704f12210559073c06a02f78d","value":"42b8273704f12210559073c06a02f78d"},"sys_update_name":"sys_script_fix_b83e77ba43f12110b99c734e3bb8f2b7","sys_updated_by":"now.midServer","sys_created_on":"2023-03-29 19:30:40","name":"Allow Upgrade of Pre-G Mid Related Scrip","sys_name":"Remove Pre-G Related Script","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"now.midServer","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Change field values of advanced, prediction fields, pre-processing extension point, and post-processing extension point for ITSM IAR configuration","sys_updated_on":"2022-12-01 15:47:41","sys_tags":"","record_for_rollback":"true","script":"setDefaultValues();\n\nfunction setDefaultValues() {\n    var configGr = new GlideRecord(AutoResolutionConstants.CONFIG_TABLE_NAME);\n    configGr.addQuery(AutoResolutionConstants.CONFIGURATION_TABLENAME_FIELD_NAME, AutoResolutionConstants.INCIDENT_TABLE_NAME);\n    configGr.query();\n\n\tif (configGr.next()) {\n\t\tconfigGr.setValue('advanced','true');\n\t\tconfigGr.setValue(AutoResolutionConstants.IAR_PREDICTION_FIELDS_COLUMN_NAME,'short_description');\n\t\tconfigGr.setValue(AutoResolutionConstants.PRE_PROCESSING_EXT_POINT_FIELD_NAME,'a383f707eb39011054009861eb52281a');\n\t\tconfigGr.setValue(AutoResolutionConstants.POST_PROCESSING_EXT_POINT_FIELD_NAME,'87917be2ebf5011054009861eb5228a4');\n\t\tconfigGr.update();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"b8885f70f7671110a8ea9ef0e3bfd69b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca4f3f704b52210559073c06a02f789","value":"aca4f3f704b52210559073c06a02f789"},"sys_update_name":"sys_script_fix_b8885f70f7671110a8ea9ef0e3bfd69b","sys_updated_by":"admin","sys_created_on":"2022-12-01 15:18:12","name":"Set ITSM IAR config default values","sys_name":"Set ITSM IAR config default values","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"17","description":"Existing response templates are associated with all active response template channels during\n      upgrade. Note, new templates are not associated with any channel be default. The user must specify which channels\n      they want after template creation.\n    ","sys_updated_on":"2020-08-13 17:56:50","sys_tags":"","record_for_rollback":"false","script":"linkActiveResponseChannels();\nfunction linkActiveResponseChannels() {\n\tvar templatesGr = new GlideRecord('sn_templated_snip_note_template');\n\tvar channelsGr = new GlideRecord('sn_templated_snip_channel');\n\tvar m2mGr = new GlideRecord('m2m_response_template_to_channel');\n\tvar channelIds = [];\n\n\tchannelsGr.query();\n\twhile(channelsGr.next()) {\n\t\tchannelIds.push(channelsGr.getUniqueValue());\n\t}\n\n\ttemplatesGr.query();\n\n\twhile(templatesGr.next()) {\n\t\tfor (var i = 0; i < channelIds.length; i++) {\n\t\t\tvar channelId = channelIds[i];\n\t\t\tm2mGr.initialize();\n\t\t\tm2mGr.setValue('sys_scope', templatesGr.getValue('sys_scope'));\n\t\t\tm2mGr.setValue('channel', channelId);\n\t\t\tm2mGr.setValue('response_template', templatesGr.getUniqueValue());\n\t\t\tm2mGr.insert();\n\t\t}\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"b88a281653a2101041bbddeeff7b1269","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2d3597c80b67320036e62c7885673a43","value":"2d3597c80b67320036e62c7885673a43"},"sys_update_name":"sys_script_fix_b88a281653a2101041bbddeeff7b1269","sys_updated_by":"admin","sys_created_on":"2020-08-12 16:40:24","name":"Link active response channels","sys_name":"Link active response channels","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/2d3597c80b67320036e62c7885673a43","value":"2d3597c80b67320036e62c7885673a43"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"On zboot or upgrade, Index sys_embedded_help_content table. This helps users with search results from sys_embedded_help_content table in help panel. This is required when user upgrades to new release.","sys_updated_on":"2021-09-07 09:56:11","sys_tags":"","record_for_rollback":"false","script":"gs.log(\"Fix Script: Index sys_embedded_help_content table\");\nif (!pm.isZboot() && new sn_ais.StatusApi().isAisEnabled()) {\n   new sn_ais.IndexEvent().indexTable(\"sys_embedded_help_content\");\n   new sn_ais.Synchronizer().publishProfile(\"help_panel_search_profile\");\n}","sys_class_name":"sys_script_fix","sys_id":"b897c4d25b0230109779b9a23381c703","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/562ba37304352210559073c06a02f751","value":"562ba37304352210559073c06a02f751"},"sys_update_name":"sys_script_fix_b897c4d25b0230109779b9a23381c703","sys_updated_by":"admin","sys_created_on":"2021-08-20 10:05:07","name":"Index sys_embedded_help_content table","sys_name":"Index sys_embedded_help_content table","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"4","description":"Update label and hint of post_process_script column in sys_alias_templates table\r\nUpdate  calculation and hint of ID column in sys_alias table","sys_updated_on":"2020-04-09 18:04:10","sys_tags":"","record_for_rollback":"false","script":"updateColumnAttributes();\nfunction updateColumnAttributes() {\n\tif (pm.isZboot())\n\t\treturn;\n\tupdateIDCalculation();\n\tupdateIDHint();\n\tupdatePostProcessScriptLabelAndHint();\n}\n\nfunction updatePostProcessScriptLabelAndHint() {\n\tvar gr = new GlideRecord(\"sys_documentation\");\n\tgr.addQuery(\"name\", \"sys_alias_templates\");\n\tgr.addQuery(\"element\", \"post_process_script\");\n\tgr.query();\n\tif (gr.next()) {\n\t\tgr.setValue(\"label\", \"On Create Script\");\n\t\tgr.setValue(\"plural\", \"On Create Scripts\");\n\t\tgr.setValue(\"hint\", \"Connection and Credential creation script\");\n\t\tgr.setWorkflow(false);\n\t\tgr.update();\n\t}\n}\n\nfunction updateIDHint() {\n\tvar gr = new GlideRecord(\"sys_documentation\");\n\tgr.addQuery(\"name\", \"sys_alias\");\n\tgr.addQuery(\"element\", \"id\");\n\tgr.query();\n\tif (gr.next()) {\n\t\tgr.setValue(\"hint\", \"Calculated field with format: scope name and handle name. Non-alphanumeric characters are replaced with underscores\");\n\t\tgr.setWorkflow(false);\n\tgr.update();\n\t}\n}\n\nfunction updateIDCalculation() {\n\tvar gr = new GlideRecord(\"sys_dictionary\");\n\tgr.addQuery(\"name\", \"sys_alias\");\n\tgr.addQuery(\"element\", \"id\");\n\tgr.query();\n\tif(gr.next()) {\n\t\tgr.setValue(\"calculation\", \"if (current.name) {current.id = (current.sys_scope.scope != 'global') ? current.sys_scope.scope + '.' + current.name.replace(/[^A-Za-z0-9_]/g, '_') : current.name.replace(/[^A-Za-z0-9_]/g, '_');}\");\n\t\tgr.setWorkflow(false);\n\t\tgr.update();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"b8ba4d02530010103ff6ddeeff7b12c2","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fdd8237704f12210559073c06a02f787","value":"fdd8237704f12210559073c06a02f787"},"sys_update_name":"sys_script_fix_b8ba4d02530010103ff6ddeeff7b12c2","sys_updated_by":"admin","sys_created_on":"2020-04-09 17:46:27","name":"UpdateLabelCalculationHintAliasTemplate","sys_name":"UpdateLabelCalculationHintAliasTemplate","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"9","description":"Set system property \"com.snc.incident.communicate_prb_workaround_to_inc_worknotes\" to true for zboot","sys_updated_on":"2024-09-16 10:21:46","sys_tags":"","record_for_rollback":"true","script":"if (GlidePluginManager.isZboot()) {\n    var prevWF = gs.getSession().getWorkflow();\n    try {\n        gs.getSession().setWorkflow(false);\n        gs.setProperty(\"com.snc.incident.communicate_prb_workaround_to_inc_worknotes\", true);\n    } finally {\n        gs.getSession().setWorkflow(prevWF);\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"b8e67acd43545210c04d8772d9b8f2bb","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d81b6b3304352210559073c06a02f76e","value":"d81b6b3304352210559073c06a02f76e"},"sys_update_name":"sys_script_fix_b8e67acd43545210c04d8772d9b8f2bb","sys_updated_by":"admin","sys_created_on":"2024-08-27 02:49:07","name":"Set worknotes as default on zboot","sys_name":"Set worknotes as default on zboot","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"true","sys_mod_count":"6","description":"Set 'problem_task.closed.can_reassess_on_closed_problem' property to true for upgrade instances.","sys_updated_on":"2021-11-08 10:47:57","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tif (GlidePluginManager.isZboot())\n\t\treturn;\n\tvar prevWF = gs.getSession().getWorkflow();\n\ttry {\n\t\tgs.getSession().setWorkflow(true);\n\t\tgs.setProperty('problem_task.closed.can_reassess_on_closed_problem', true);\n\t}\n\tfinally{\n\t\tgs.getSession().setWorkflow(prevWF);\n\t}\n})();","sys_class_name":"sys_script_fix","sys_id":"b90ef4ef534a3010527dddeeff7b12c6","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/46dca7fb04352210559073c06a02f7cb","value":"46dca7fb04352210559073c06a02f7cb"},"sys_update_name":"sys_script_fix_b90ef4ef534a3010527dddeeff7b12c6","sys_updated_by":"admin","sys_created_on":"2021-08-24 11:12:58","name":"Set reassess on ptask property to true","sys_name":"Set reassess on ptask property to true","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2019-04-01 13:51:51","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tvar engineVersion = \"2010\";\n\tvar propertyGr = new GlideRecord('sys_properties');\n\tif (propertyGr.get(\"6d2b60427f0000016a7ec9e914cc4cee\"))\n\t\tengineVersion = propertyGr.getValue(\"value\");\n\n\tSLAProperties.updatePropertiesModules(engineVersion);\t\n})();","sys_class_name":"sys_script_fix","sys_id":"b9b2da2557603300491d8f90ac94f94e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d19e7b704f12210559073c06a02f7da","value":"5d19e7b704f12210559073c06a02f7da"},"sys_update_name":"sys_script_fix_b9b2da2557603300491d8f90ac94f94e","sys_updated_by":"admin","sys_created_on":"2019-04-01 13:51:51","name":"Update SLA Properties pages - New York","sys_name":"Update SLA Properties pages - New York","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"6","description":"Changes property glide.identification_engine.self_cleaning_mutex_enabled to false","sys_updated_on":"2021-10-12 21:41:17","sys_tags":"","record_for_rollback":"false","script":"\ngs.info(\"Setting system property glide.identification_engine.self_cleaning_mutex_enabled\");\nvar script = \"(function (){\\n\" +\n\t\t\"\tgs.setProperty('glide.identification_engine.self_cleaning_mutex_enabled', 'false');\\n\" +\n\t\t\"\tgs.info('Disabling self cleaning mutex. IRE will switch using to BatchSelfCleaning mutex');\\n\" +\n\t\t\"})()\";\n\nvar when = new GlideDateTime();\nwhen.add(60 * 60 * 1000); //Adding an hour to be on safer side to make sure all the upgrade is done. \nGlideRunScriptJob.scheduleScript(script, 'Activate Batch Mutex', when);\n","sys_class_name":"sys_script_fix","sys_id":"b9eee6a5ebb2301007d5a1c6285228fc","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_b9eee6a5ebb2301007d5a1c6285228fc","sys_updated_by":"admin","sys_created_on":"2021-09-24 21:05:36","name":"Activate BatchSelfCleaningMutex","sys_name":"Activate BatchSelfCleaningMutex","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Remove \"Prevent Duplicate Form Headers\" business rule, so users can enter a header record for the same table and instead return the lowest order record of the same table.","sys_updated_on":"2020-06-12 00:58:14","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('sys_script');\nif(gr.get('2e032b770f2333002a001271ff767e4b')){\n\tgr.deleteRecord();\n}\n","sys_class_name":"sys_script_fix","sys_id":"ba69c3d253111010ac9bddeeff7b126f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ba9c2f7b04352210559073c06a02f7cb","value":"ba9c2f7b04352210559073c06a02f7cb"},"sys_update_name":"sys_script_fix_ba69c3d253111010ac9bddeeff7b126f","sys_updated_by":"admin","sys_created_on":"2020-06-12 00:58:14","name":"Remove Prevent Duplicate Form Headers","sys_name":"Remove Prevent Duplicate Form Headers","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"update column_label for `whitelisted` to `Opted in all topics by default`","sys_updated_on":"2020-08-29 21:19:12","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('sys_documentation');\ngr.addQuery('name', 'sys_cs_channel');\ngr.addQuery('element', 'whitelisted');\ngr.addQuery('language', 'en');\ngr.query();\nif(gr.next() && gr.getValue('label') == 'Whitelisted') {\n    gr.setValue('label', 'Opted in all topics by default');\n    gr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"ba78457f53be9010ad82ddeeff7b12de","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_ba78457f53be9010ad82ddeeff7b12de","sys_updated_by":"admin","sys_created_on":"2020-08-29 21:00:20","name":"Update Label on Chat Channel Field","sys_name":"Update Label on Chat Channel Field","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"17","description":"When a new record for table rotation gets created, many business rules need to get executed. \r\nThis script will make sure that all required business rules will get executed even during/after the install and upgrade process","sys_updated_on":"2021-10-26 05:13:46","sys_tags":"","record_for_rollback":"false","script":"// Make sure business rules are running after the insertion.\n\nvar session = gs.getSession();\nvar previous = session.setWorkflow(true);\n\nvar tableName = 'sys_cs_click_metrics';\nvar rotations = 7;\nvar duration = '1970-01-02 00:00:00'; // copied from the existing value. This means 1\n\nvar gr = new GlideRecord('sys_table_rotation');\n\ngr.addQuery('name', tableName);\ngr.query();\n\nif(gr.next()) {\n\tgs.info(getScriptName()+'The table rotation for '+ tableName+' table already exists. No record will be created');\n}\nelse {\n\tgr.setWorkflow(true);\n\tgr.setValue('name', tableName);\n\tgr.setValue('duration', duration);\n\tgr.setValue('type', 'rotate');\n\tgr.setValue('rotations', rotations);\n\tvar sysId = gr.insert();\n\n\tgs.info(getScriptName()+'The table rotation for '+tableName+' is now created by the fix-script. sys_id='+sysId);\n}\n\nfunction getScriptName() {\n\treturn 'Fix_Script:Table Rotation for Click Metrics:';\n}\n","sys_class_name":"sys_script_fix","sys_id":"ba82b8c6539330105400ddeeff7b127a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_ba82b8c6539330105400ddeeff7b127a","sys_updated_by":"admin","sys_created_on":"2021-10-20 21:47:00","name":"Table Rotation for  Click Metrics","sys_name":"Table Rotation for  Click Metrics","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"For applications created from Application Templates, set the sys_package.ide_created value to AES","sys_updated_on":"2023-03-07 19:39:56","sys_tags":"","record_for_rollback":"true","script":"gs.info('FIX SCRIPT: Updating the sys_package.ide_created field for any custom apps created from a Template.');\n\nvar appTemplateRecs = new GlideRecord('sys_app_template_output_var_instance');\nappTemplateRecs.addQuery('name', 'app_sys_id');\nappTemplateRecs.addQuery('template_instance.state', 'complete');\nappTemplateRecs.addQuery('template_instance.app_template', true);\nappTemplateRecs.addQuery('value', 'NOT LIKE', 'step');\n\nappTemplateRecs.query();\n\ngs.info('FIX SCRIPT: Found ' + appTemplateRecs.getRowCount() + ' App Template - App record(s)!');\n\nvar updateCnt = 0;\nvar appSysIdArray = [];\nwhile (appTemplateRecs.next()) {\n\n\tvar appSysId = appTemplateRecs.getValue('value');\n\tappSysIdArray.push(appSysId);\n\n\t// Update in batches of 1000, or until there are no more records to process\n\tif (appTemplateRecs.hasNext() && appSysIdArray.length < 1000)\n\t\tcontinue;\n\n\tvar gmu = new GlideMultipleUpdate('sys_package');\n\tgmu.addQuery('sys_id', 'IN', appSysIdArray);\n\tgmu.addNullQuery('ide_created');\n\tgmu.addQuery('sys_class_name', 'sys_app');  // Only update those records that have a corresponding sys_app record\n\n\tgmu.setValue('ide_created', 'AES');\n\t\n\tgmu.execute();\n\tupdateCnt += gmu.getUpdateCount();\n\tappSysIdArray = [];  // Reset the array for the next loop\n}\n\ngs.info('FIX SCRIPT: Total sys_package records updated: ' + updateCnt);","sys_class_name":"sys_script_fix","sys_id":"baea1d7def8da510e398958cae97d707","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2fbb6b3704352210559073c06a02f707","value":"2fbb6b3704352210559073c06a02f707"},"sys_update_name":"sys_script_fix_baea1d7def8da510e398958cae97d707","sys_updated_by":"admin","sys_created_on":"2023-02-16 22:16:31","name":"Backfill sys_package.ide_created value","sys_name":"Backfill sys_package.ide_created value","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"This script deactivates the \"SNC - ITIL - Close Related\" business rule from Kingston release.","sys_updated_on":"2017-07-05 09:06:46","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('sys_script');\nif(gr.get('1df059ffc61122750121f956646103c5')){\n\tgr.setValue('active', false);\n\tgr.update();\n}\n\n","sys_class_name":"sys_script_fix","sys_id":"bb3a16f40b3332001604628393673a16","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/a80ca3b704352210559073c06a02f7ad","value":"a80ca3b704352210559073c06a02f7ad"},"sys_update_name":"sys_script_fix_bb3a16f40b3332001604628393673a16","sys_updated_by":"admin","sys_created_on":"2017-07-04 11:11:01","name":"Deactivate Close Related Business Rule","sys_name":"Deactivate Close Related Business Rule","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Under CSDM effort, for CMDB table(and its entire hierarchy), column label for 'Assignment Group' will be changed to 'Change Group'. Column name will not change.","sys_updated_on":"2020-07-17 19:09:28","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('sys_dictionary');\ngr.addEncodedQuery('column_label=Assignment Group^name=cmdb^element=assignment_group');\ngr.query();\nif(gr.getRowCount() == 1 && gr.next()) {\n  gr.setValue('column_label','Change Group');\n  gs.info(\"For 'Base Configuration Item'(cmdb) table, updating label of 'Assignment Group' to 'Change Group'\");\n  gr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"bbbcdf787302101061b79c0c6df6a7c5","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_bbbcdf787302101061b79c0c6df6a7c5","sys_updated_by":"admin","sys_created_on":"2020-07-14 17:18:31","name":"CMDB - Assignment Group to Change Group","sys_name":"CMDB - Assignment Group to Change Group","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Drop the composite index of table, field and workspace on sys_highlighted_value. ","sys_updated_on":"2024-05-16 03:47:39","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tif (pm.isZboot())\n\t\treturn;\n\n\tvar td = GlideTableDescriptor.get('sys_highlighted_value');\n\tvar ids = td.getIndexDescriptors();\n\n\tvar indexName = '';\n\tvar idValues = ids.values().iterator();\n\twhile (idValues.hasNext()) {\n\t\tvar id = idValues.next();\n\t\tvar idFields = id.getFields();\n\t\tif (idFields.contains('workspace') && idFields.contains('table') && idFields.contains('field')) {\n\t\t\tgs.log('Fix Script: found matching index');\n\t\t\tindexName = id.getIndexName();\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (indexName) {\n\t\tvar indexUtils = new GlideIndexUtils();\n\t\tvar result = indexUtils.dropByName('sys_highlighted_value', indexName);\n\t\tif (result)\n\t\t\tgs.log('Dropped composite index on sys_highlighted_value', 'highlighed_value_drop_index');\n\t\telse\n\t\t\tgs.log('Failed to drop composite index on sys_highlighted_value', 'highlighed_value_drop_index');\n\t} else\n\t\tgs.log('Composite index on sys_highlighted_value not present', 'highlighed_value_drop_index');\n})();","sys_class_name":"sys_script_fix","sys_id":"bbf5e088a3120210c323e46bd31e616d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/72ac63bb04352210559073c06a02f754","value":"72ac63bb04352210559073c06a02f754"},"sys_update_name":"sys_script_fix_bbf5e088a3120210c323e46bd31e616d","sys_updated_by":"admin","sys_created_on":"2024-05-16 03:46:41","name":"Drop sys_highlighed_value composite idx","sys_name":"Drop sys_highlighed_value composite idx","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"1","description":"Removes the activity stream sys_properties that are currently owned by CMDB Workspace scoped app unless they have been customized. The properties are re-added to global (com.snc.cmdb) later during upgrade","sys_updated_on":"2020-10-20 22:22:47","sys_tags":"","record_for_rollback":"false","script":"var logName = \"CMDB Workspace Fix\";\nvar props = new GlideRecord(\"sys_properties\");\nvar deleteCount = 0;\n// 230016d573131300ee4dd3c72bf6a7cd sys_id is the identifier for CMDB Workspace application\nprops.addEncodedQuery(\"nameSTARTSWITHglide.ui.^nameENDSWITH_activity.fields^sys_scope=230016d573131300ee4dd3c72bf6a7cd\");\nprops.query();\ngs.log(\"Found \" + props.getRowCount() + \" sys_properties records in CMDB Workspace scope\", logName);\nwhile (props.next()) {\n\tvar testIsCustomized = new GlideRecord(\"sys_properties\");\n\ttestIsCustomized.get(props.getValue(\"sys_id\"));\n\tif (!sn_collision.CollisionAPI.willBeReplacedOnUpgrade(testIsCustomized)) {\n\t\tgs.log(props.getValue(\"name\") + \" has been customized and will not be removed\", logName);\n\t\tcontinue;\n\t}\n\tif (!props.deleteRecord()) {\n\t\tgs.logError(\"Failure deleting sys_property record for: \" + name, logName);\n\t\tcontinue;\n\t}\n\tdeleteCount++;\n}\ngs.log(\"Successfully deleted \" + deleteCount + \" CMDB Workspace sys_properties records\", logName);","sys_class_name":"sys_script_fix","sys_id":"bc4b416c0740201017b703767cd30068","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_bc4b416c0740201017b703767cd30068","sys_updated_by":"admin","sys_created_on":"2020-10-20 22:17:15","name":"Remove properties from CMDB Workspace","sys_name":"Remove properties from CMDB Workspace","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Responsive Dashboards were introduced in the Istanbul release and used by default for all new (zbooted) instances. \r\nTo promote the functionality and give the new experience for  existing customers, Responsive Dashboards will be automatically enabled upon the upgrade to NY (or higher) realease with this script by setting the system property 'glide.cms.enable.responsive_grid_layout' to true.\r\n\r\nCustomer will still be able to disable the Responsive Dashboards if they are not ready for the new functionality by setting the system property 'glide.cms.enable.responsive_grid_layout' to false.\r\n\r\nIf the property does not exist on the customer instance, there is no need to add it as part of this script, since it will be added as part of 'Add dashboard properties' fix script ( sys_script_fix_1fd118d2b310030037c482ff86a8dc03).","sys_updated_on":"2019-03-22 13:21:51","sys_tags":"","record_for_rollback":"false","script":"enableResponsiveDashboards();\n\n/*\nIf we are upgrading and the property to enable Responsive Dashboards is set to false, we want the value to be true. On zBoot the property is by default true.\nIf the property does not exist on the customer instance, there is no need to add it as part of this script, since it will be added as part of 'Add dashboard properties' fix script ( sys_script_fix_1fd118d2b310030037c482ff86a8dc03).\n*/\nfunction enableResponsiveDashboards() {\n\tif (!pm.isZboot() && gs.getProperty('glide.cms.enable.responsive_grid_layout') === 'false') { // upgrading and property exist but is set to false\n\t\tvar systemPropertiesGR = new GlideRecord('sys_properties');\n\t\tsystemPropertiesGR.addQuery('name', 'glide.cms.enable.responsive_grid_layout');\n\t\tsystemPropertiesGR.query();\n\t\tif (systemPropertiesGR.next()) {\n\t\t\tsystemPropertiesGR.setValue('value', true);\n\t\t\tsystemPropertiesGR.update();\n\t\t}\n\t}  // else property is already set to true or scripts run on a zbooted instance, in which case we don't do anything since the property will be set as true by default\n}","sys_class_name":"sys_script_fix","sys_id":"bc97a035871033004ebe6b2b36cb0b5a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/411bab3304352210559073c06a02f767","value":"411bab3304352210559073c06a02f767"},"sys_update_name":"sys_script_fix_bc97a035871033004ebe6b2b36cb0b5a","sys_updated_by":"admin","sys_created_on":"2019-03-20 14:54:30","name":"Enable Responsive Dashboards on Upgrade","sys_name":"Enable Responsive Dashboards on Upgrade","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Change default value for is_result_memoizable column and make label, hint wording user friendly.","sys_updated_on":"2023-06-27 17:51:47","sys_tags":"","record_for_rollback":"false","script":"var dictionaryGR = new GlideRecord(\"sys_dictionary\");\nif (dictionaryGR.isValid()) {\n    dictionaryGR.addQuery(\"name\", \"sys_ux_screen_condition\");\n    dictionaryGR.addQuery(\"element\", \"is_result_memoizable\");\n    dictionaryGR.query();\n    if (dictionaryGR.next()) {\n        dictionaryGR.setValue(\"column_label\", \"Cache Result\");\n\tdictionaryGR.setValue(\"default_value\", true);\n        dictionaryGR.update();\n    }\n}\nvar documentationGR = new GlideRecord(\"sys_documentation\");\nif (documentationGR.isValid()) {\n    documentationGR.addQuery(\"name\", \"sys_ux_screen_condition\");\n    documentationGR.addQuery(\"element\", \"is_result_memoizable\");\n    documentationGR.query();\n    if (documentationGR.next()) {\n        documentationGR.setValue(\"hint\", \"Set to false if script needs to re-evaluate on screen loads or changes\");\n        documentationGR.update();\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"be45437f77e3211007e85e4aef5a9952","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f193e7f304312210559073c06a02f725","value":"f193e7f304312210559073c06a02f725"},"sys_update_name":"sys_script_fix_be45437f77e3211007e85e4aef5a9952","sys_updated_by":"admin","sys_created_on":"2023-06-27 17:51:47","name":"Update for Screen Conditions Table","sys_name":"Update for Screen Conditions Table","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Add 'ManualStagingTable' discovery source","sys_updated_on":"2021-11-29 23:13:23","sys_tags":"","record_for_rollback":"false","script":"var dsUtil = new global.CMDBDataSourceUtil();\ndsUtil.addDataSource(\"ManualStagingTable\");","sys_class_name":"sys_script_fix","sys_id":"bf30b4c4531921107da2ddeeff7b128d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_bf30b4c4531921107da2ddeeff7b128d","sys_updated_by":"admin","sys_created_on":"2021-11-29 23:13:23","name":"Add ManualStagingTable discovery source","sys_name":"Add ManualStagingTable discovery source","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Fixes the link in Customer Action \"Enable 3DES deprecation for Password2 Fields\" step \"Enable Complete or Partial Deprecation\", also rename critical update stage from \"Update steps\" to \"Steps\".","sys_updated_on":"2024-04-16 00:01:51","sys_tags":"","record_for_rollback":"false","script":"var grCustActions = new GlideRecord('sn_critical_update');\ngrCustActions.addEncodedQuery('up_active=true');\ngrCustActions.query();\nwhile (grCustActions.next()) {\n    var custActionId = grCustActions.sys_id;\n    grContext = new GlideRecord('sys_pd_context');\n    grContext.addQuery('input_record', custActionId);\n    grContext.orderByDesc('sys_created_on');\n    grContext.setLimit(1);\n    grContext.query();\n    if (grContext.next()) {\n        var contextId = grContext.sys_id;\n        if (grContext.label == 'Update steps') {\n            grContext.label = \"Steps\";\n            grContext.update();\n        }\n        // Update sys_properties link only for Customer Action, 'Enable 3DES deprecation for Password2 Fields'\n        if (custActionId == '175eecd9ffd03110684fffffffffff38') {\n            var grActivityContext = new GlideRecord('sys_pd_activity_context');\n            grActivityContext.addQuery('context', contextId);\n            grActivityContext.addQuery('activity_type', '!=', '');\n            grActivityContext.query();\n            while (grActivityContext.next()) {\n                var grVal = new GlideRecord('sys_variable_value');\n                grVal.addEncodedQuery('document=sys_pd_activity_context^document_key=' + grActivityContext.sys_id + '^variable.label=Description^valueCONTAINShttp://system_properties_ui.do/?');\n                grVal.query();\n                if (grVal.next()) {\n                    var updDesc = grVal.value.replace('http://system_properties_ui.do/?', '/now/nav/ui/classic/params/target/system_properties_ui.do%3F');\n                    grVal.setValue('value', updDesc);\n                    grVal.update();\n                    break;\n                }\n            }\n        }\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"bf39e77638300210f877ca914d638059","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/983e67b304752210559073c06a02f755","value":"983e67b304752210559073c06a02f755"},"sys_update_name":"sys_script_fix_bf39e77638300210f877ca914d638059","sys_updated_by":"maint","sys_created_on":"2024-03-11 17:19:45","name":"Fix Customer Action activity link","sys_name":"Fix Customer Action activity link","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","sys_policy":"read"},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"","sys_updated_on":"2022-02-04 23:52:51","sys_tags":"","record_for_rollback":"true","script":"var result = new SNC.VaultUtilAPI().clearToken();\ngs.info(\"Cleared Token: \" + result);","sys_class_name":"sys_script_fix","sys_id":"bfd425a707010110aeee9ad77cd300cb","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7f83a3f304312210559073c06a02f787","value":"7f83a3f304312210559073c06a02f787"},"sys_update_name":"sys_script_fix_bfd425a707010110aeee9ad77cd300cb","sys_updated_by":"admin","sys_created_on":"2022-01-20 17:08:08","name":"Clear Vault Token","sys_name":"Clear Vault Token","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"1","description":" In the San Diego release, a script action was introduced to re-encrypt the SSH private key using the new KMF key.\r\n During this script action, the \"Encrypt SSH private key\" business rule was temporarily deactivated, creating a record in the sys_update_xml table. This record prevents upgrading the business rule to the new version introduced in  the Washington release.\r\nUsing this fix job, if the old version of the business rule still exists and a record for it is present in the sys_update_xml table, we set replace_on_upgrade to true to ensure the business rule gets upgraded.\r\n  ","sys_updated_on":"2024-06-24 15:22:28","sys_tags":"","record_for_rollback":"true","script":"gs.log('Setting \"replace_on_upgrade\" in the sys_update_xml record for the \"Encrypt SSH private key\" business rule'); \n// The hash codes of the script and the condition of the old version of the business rule\nvar OLD_SCRIPT_HASH_CODE = -2136766200;\nvar OLD_CONDITION_HASH_CODE = 1067958605;\n\n// Step 1: Ensure the business rule is active and its script and condition match the old business rule\nvar gr = new GlideRecord(\"sys_script\");\ngr.addQuery(\"name\", \"Encrypt ssh private key\");\ngr.addQuery(\"active\", true);\ngr.query();\nvar currentScriptHashCode = 0;\nvar currentConditionHashCode = 0;\nif (gr.next()) {\n\tcurrentScriptHashCode = hashCode(gr.getValue(\"script\"));\n\tcurrentConditionHashCode = hashCode(gr.getValue(\"condition\"));\n}\n\n// Step 2: If the business rule was not upgraded, query the sys_update_xml table for a record \n// for the business rule with replace_on_upgrade set to false. Find the most recently created record.\nif (currentScriptHashCode == OLD_SCRIPT_HASH_CODE && currentConditionHashCode == OLD_CONDITION_HASH_CODE) {\n\tvar updateGr = new GlideRecord(\"sys_update_xml\");\n\tupdateGr.addQuery(\"target_name\", \"Encrypt ssh private key\");\n\tupdateGr.addQuery(\"type\", \"Business Rule\");\n\tupdateGr.addQuery(\"replace_on_upgrade\", false);\n\tupdateGr.orderByDesc(\"sys_created_on\");\n\tupdateGr.setLimit(1);\n\tupdateGr.query();\n}\n\n// Step3: set replace_on_upgrade to true\nif (updateGr && updateGr.next()) {\n    var before = gs.getSession().getWorkflow();\n    gs.getSession().setWorkflow(false);\n    updateGr.setValue(\"replace_on_upgrade\", true);\n    updateGr.update();\n    gs.getSession().setWorkflow(before);\n    gs.log('\"replace_on_upgrade\" was set to true for the \"Encrypt ssh private key\" business rule record in the \"sys_udpate_xmL\" table');\n}\n    \t\n// A method to calculate the hashCode of the input string. \nfunction hashCode(str) {\n\tvar hash = 0;\n\n    if (!str || str.length === 0) {\n\t\treturn hash;\n\t}\n    for (var i = 0; i < str.length; i++) {\n\t\tvar hCode = str.charCodeAt(i);\n\t\thash = (hash << 5) - hash + hCode;\n\t\thash |= 0; // Convert to 32bit integer\n\t}\n\treturn hash;\n}\n","sys_class_name":"sys_script_fix","sys_id":"c0697fac7783021088531b699a5a99cd","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/91d8237704f12210559073c06a02f73b","value":"91d8237704f12210559073c06a02f73b"},"sys_update_name":"sys_script_fix_c0697fac7783021088531b699a5a99cd","sys_updated_by":"now.midserver","sys_created_on":"2024-06-24 15:20:23","name":"Allow Upgrade SSH Private Key BR","sys_name":"Allow Upgrade SSH Private Key BR","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"now.midserver","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Change the display value from step to summary on sys_atf_test_result_item","sys_updated_on":"2017-12-16 01:29:31","sys_tags":"","record_for_rollback":"false","script":"// change display value on Test Log table from step field to summary field\nvar dictionaryGR = new GlideRecord(\"sys_dictionary\");\ndictionaryGR.addQuery(\"name\", \"sys_atf_test_result_item\");\ndictionaryGR.addQuery(\"element\", \"step\");\ndictionaryGR.query();\nif (dictionaryGR.next()) {\n\tif (dictionaryGR.getValue(\"display\") == false)\n\t\tgs.info(\"Display value for step field on sys_atf_test_result_item is already false\");\n\telse {\n\t\tdictionaryGR.setValue(\"display\", false);\n\t\tdictionaryGR.update();\n\t\tgs.info(\"Set display value for step field on sys_atf_test_result_item to false\");\n\t}\n}\n\ndictionaryGR.initialize();\ndictionaryGR.addQuery(\"name\", \"sys_atf_test_result_item\");\ndictionaryGR.addQuery(\"element\", \"summary\");\ndictionaryGR.query();\nif (dictionaryGR.next()) {\n\tif (dictionaryGR.getValue(\"display\") == true)\n\t\tgs.info(\"Display value for summary field on sys_atf_test_result_item is already true\");\n\telse {\n\t\tdictionaryGR.setValue(\"display\", true);\n\t\tdictionaryGR.update();\n\t\tgs.info(\"Set display value for summary field on sys_atf_test_result_item to true\");\n\t}\n}\n\n// update failing step to reference step result instead of test log to reflect the new display value\ndictionaryGR.initialize();\ndictionaryGR.addQuery(\"name\", \"sys_atf_test_result\");\ndictionaryGR.addQuery(\"element\", \"first_failing_step\");\ndictionaryGR.query();\nif (dictionaryGR.next()) {\n\tif (dictionaryGR.getValue(\"reference\") == \"sys_atf_test_result_step\")\n\t\tgs.info(\"First failing step field already references sys_atf_test_result_step\");\n\telse {\n\t\tdictionaryGR.setValue(\"reference\", \"sys_atf_test_result_step\");\n\t\tdictionaryGR.update();\n\t\tgs.info(\"Set the reference for first failing step field to be sys_atf_test_result_step\");\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"c08cf5f16743030091d005225685ef9e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18792f3b04f12210559073c06a02f71d","value":"18792f3b04f12210559073c06a02f71d"},"sys_update_name":"sys_script_fix_c08cf5f16743030091d005225685ef9e","sys_updated_by":"admin","sys_created_on":"2017-12-16 01:18:56","name":"Set the display value for Test Logs","sys_name":"Set the display value for Test Logs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"","sys_updated_on":"2024-09-30 12:22:52","sys_tags":"","record_for_rollback":"true","script":"var oldPropertyName = 'com.snc.pdf.html2pdf.newflow.enabled';\nvar newPropertyName = 'com.snc.pdf.generation.v2.enabled';\nvar propertyGR = new GlideRecord('sys_properties');\n\n// Query for the system property by its old name\npropertyGR.addQuery('name', oldPropertyName);\npropertyGR.query();\n\nif (propertyGR.next()) {\n    // Update the name and set the value to true\n    propertyGR.name = newPropertyName;\n    propertyGR.value = 'true';\n    propertyGR.update();\n    gs.info('System property \"' + oldPropertyName + '\" renamed to \"' + newPropertyName + '\" and value updated to true.');\n} else {\n    gs.info('System property \"' + oldPropertyName + '\" not found.');\n}","sys_class_name":"sys_script_fix","sys_id":"c100401837011210b232b46c24924b00","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/790c27b704352210559073c06a02f758","value":"790c27b704352210559073c06a02f758"},"sys_update_name":"sys_script_fix_c100401837011210b232b46c24924b00","sys_updated_by":"admin","sys_created_on":"2024-09-30 12:20:34","name":"Enable PDF generation V2 by default","sys_name":"Enable PDF generation V2 by default","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Glide One Extend is now installed as part of the platform and has dependencies on Flow Designer, which is installed after the OneExtend plugin. This fix script repairs the OneExtend plugin to ensure that the Flow Designer artifacts are installed as expected.","sys_updated_on":"2023-07-11 18:04:23","sys_tags":"","record_for_rollback":"true","script":"var pluginName = 'com.glide.one_extend';\nvar pluginManager = new GlidePluginManager();\nif (pluginManager.isActive(pluginName))\n   pluginManager.repairPlugin(pluginName);","sys_class_name":"sys_script_fix","sys_id":"c16c4f10530031103296ddeeff7b1256","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_c16c4f10530031103296ddeeff7b1256","sys_updated_by":"admin","sys_created_on":"2023-07-11 18:04:23","name":"Repair OneExtend Plugin","sys_name":"Repair OneExtend Plugin","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Update sys_cs_provider.sender_action mandatory field to be false","sys_updated_on":"2020-08-27 15:20:59","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord(\"sys_dictionary\");\ngr.addQuery(\"name\", \"sys_cs_provider\");\ngr.addQuery(\"element\", \"sender_action\");\ngr.setWorkflow(false);\ngr.query();\nif (gr.next()) {\n  gr.setValue(\"mandatory\", false);\n  gr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"c1862103533610101fdbddeeff7b12b1","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9cc37b3704b52210559073c06a02f781","value":"9cc37b3704b52210559073c06a02f781"},"sys_update_name":"sys_script_fix_c1862103533610101fdbddeeff7b12b1","sys_updated_by":"admin","sys_created_on":"2020-08-27 15:20:59","name":"Update sys_cs_provider sender_action","sys_name":"Update sys_cs_provider sender_action","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"A scheduled job is triggered to migrate the sys attachment zips from 3DES encryption to KMF encryption.","sys_updated_on":"2025-01-21 13:06:08","sys_tags":"","record_for_rollback":"true","script":"if (!pm.isZboot())\n    queueJobTrigger();\n\nfunction queueJobTrigger() {\n    gs.log('Running fix script to migrate Zip Sys Attachments', 'ZipAttachmentsMigrate');\n    var JOB_NAME = \"Sys Attachments Zip Migration Job\";\n    var JOB_ID = \"30444228a3d312101ab74b28441e6197\";\n    var READY_STATE = 0;\n    var RUN_ONCE = 0;\n    var JOB_EXECUTION_TIME = new GlideDateTime();\n\tJOB_EXECUTION_TIME.addSeconds(3600);\n    var trigger = new GlideRecord(\"sys_trigger\");\n    trigger.setValue(\"state\", READY_STATE);\n    trigger.setValue(\"next_action\", JOB_EXECUTION_TIME);\n    trigger.setValue(\"job_id\", JOB_ID);\n    trigger.setValue(\"name\", JOB_NAME);\n    trigger.setValue(\"trigger_type\", RUN_ONCE);\n    trigger.insert();\n}","sys_class_name":"sys_script_fix","sys_id":"c1b50668a3d312101ab74b28441e611d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4f54a7bb04312210559073c06a02f7de","value":"4f54a7bb04312210559073c06a02f7de"},"sys_update_name":"sys_script_fix_c1b50668a3d312101ab74b28441e611d","sys_updated_by":"admin","sys_created_on":"2025-01-21 13:06:08","name":"Migrate Zip Sys Attachments to AES","sys_name":"Migrate Zip Sys Attachments to AES","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"In Team Development, Local Change (sys_sync_change) added a new Update Set (update_set) field,\n\t\t\twhich needs to be populated from the related version's Source field.\n\t\t","sys_updated_on":"2014-01-18 22:04:18","sys_tags":"","record_for_rollback":"false","script":"var count = 0;\nvar change = new GlideRecord(\"sys_sync_change\");\nchange.addNullQuery(\"update_set\");\nchange.query();\nwhile(change.next()) {\n\tvar version = change.version;\n\tif (version == null) {\n\t\t// Should never happen.  Clean up this corrupt change since we found it.\n\t\tchange.deleteRecord();\n\t\tcontinue; \n\t}\n\tif (version.source_table == 'sys_update_set') {\n\t\tchange.update_set = version.source;\n\t\tchange.setWorkflow(false);\n\t\tchange.setSystem(true);\n\t\tif (change.update())\n\t\t\tcount++;\n\t}\n}\ngs.print('Finished populating new sys_sync_change.update_set field.  ' + count + ' changes made.');","sys_class_name":"sys_script_fix","sys_id":"c1be9022c3121100bac1addbdfba8f56","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ff04a7f704312210559073c06a02f761","value":"ff04a7f704312210559073c06a02f761"},"sys_update_name":"sys_script_fix_c1be9022c3121100bac1addbdfba8f56","sys_updated_by":"admin","sys_created_on":"2014-01-18 22:00:45","name":"Populate Local Change Update Set field","sys_name":"Populate Local Change Update Set field","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Update the label for the table sys_notification_execution from Notification Execution to Notification Log","sys_updated_on":"2021-09-28 19:45:15","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tif (pm.isZboot())\n\t\treturn;\n\n\tvar dbObject = new GlideRecord('sys_db_object');\n\tdbObject.addQuery('name', 'sys_notification_execution');\n\tdbObject.query();\n\tif (!dbObject.next())\n\t\treturn;\n\t\n\tdbObject.setValue('label', 'Notification Log');\n\tdbObject.setWorkflow(false);\n\tdbObject.update();\n\t\n\tvar doc = new GlideRecord('sys_documentation');\n\tdoc.addQuery('name', 'sys_notification_execution');\n\tdoc.addNullQuery('element');\n\tdoc.addQuery('label', 'Notification Execution');\n\tdoc.query();\n\tif (!doc.next())\n\t\treturn;\n\t\n\tdoc.setValue('label', 'Notification Log');\n\tdoc.setValue('plural', 'Notification Logs');\n\tdoc.setWorkflow(false);\n\tdoc.update();\n\n})();","sys_class_name":"sys_script_fix","sys_id":"c1fc76f25332301092f0ddeeff7b1254","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4c93a3f304312210559073c06a02f7f1","value":"4c93a3f304312210559073c06a02f7f1"},"sys_update_name":"sys_script_fix_c1fc76f25332301092f0ddeeff7b1254","sys_updated_by":"admin","sys_created_on":"2021-09-28 19:19:19","name":"Update notification execution label","sys_name":"Update notification execution label","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"","sys_updated_on":"2020-07-22 00:53:52","sys_tags":"","record_for_rollback":"false","script":"var adder = new AddValueToCsvProperty();\nadder.add('event.limited.queues', 'sn_csdm_tso_queue');","sys_class_name":"sys_script_fix","sys_id":"c2884d5f7302101061b79c0c6df6a7d9","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_c2884d5f7302101061b79c0c6df6a7d9","sys_updated_by":"admin","sys_created_on":"2020-07-22 00:53:30","name":"Add CSDM TSO to Event Limited Queues","sys_name":"Add CSDM TSO to Event Limited Queues","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"4","description":"Update any existing \"SLA Async Delegator\" jobs to be on demand instead of repeating as they are about to be replaced by a job that is included as part of the Service Level Management plugin","sys_updated_on":"2019-03-19 11:37:58","sys_tags":"","record_for_rollback":"false","script":"(function () {\n\tvar sysTriggerGr = new GlideRecord(\"sys_trigger\");\n\tsysTriggerGr.addQuery(\"name\", \"SLA Async Delegator\");\n\tsysTriggerGr.addQuery(\"script\", \"CONTAINS\", \"new SLAAsyncDelegator\");\n\tsysTriggerGr.setValue(\"trigger_type\", \"2\");\n\tsysTriggerGr.updateMultiple();\n})();","sys_class_name":"sys_script_fix","sys_id":"c2db225157503300491d8f90ac94f98a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d19e7b704f12210559073c06a02f7da","value":"5d19e7b704f12210559073c06a02f7da"},"sys_update_name":"sys_script_fix_c2db225157503300491d8f90ac94f98a","sys_updated_by":"admin","sys_created_on":"2019-03-19 10:46:13","name":"Disable \"SLA Async Delegator\" job","sys_name":"Disable \"SLA Async Delegator\" job","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Set codesigning just_in_time(JIT) feature to true on upgrade","sys_updated_on":"2023-09-14 00:18:19","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\n    //This Fix script should only run for Upgrade not for Zboot.\n    if (pm.isZboot())\n        return;\n\n    var propGr = new GlideRecord('sys_properties');\n    propGr.addQuery('name', 'com.snc.kmf.signature.use.jit_loading');\n    propGr.query();\n    if (propGr.next()) {\n        var propValue = propGr.getValue('value');\n        if (propValue == 'false') {\n\t\tpropGr.setValue('value', 'true');\n\t\tpropGr.update();\n\t\tgs.log(\"CODESIGNING: JIT property is set to true\");\n\t    }\n    }\n\n}());","sys_class_name":"sys_script_fix","sys_id":"c3bac645471531100ff05fac416d43b9","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ffcd2b3304752210559073c06a02f779","value":"ffcd2b3304752210559073c06a02f779"},"sys_update_name":"sys_script_fix_c3bac645471531100ff05fac416d43b9","sys_updated_by":"admin","sys_created_on":"2023-09-14 00:18:19","name":"Turn on JIT property on upgrade","sys_name":"Turn on JIT property on upgrade","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"0","description":"Delete unwanted wizard answer records created in the sys_wizard_answer table for the MID Server.","sys_updated_on":"2024-10-10 14:30:57","sys_tags":"","record_for_rollback":"false","script":"deleteUnwantedWizardAnswerRecords();\n\nfunction deleteUnwantedWizardAnswerRecords() {\n    var wizardAnswers = ['SNMP Trap Collector Context',\n        'ECC Agent Memory Metric',\n        'ECC Agent RGR Metric',\n        'ECC Agent Counter Metric',\n        'ECC Agent Scalar Metric',\n        'vCenter Event Collector Context'\n    ];\n\n    var gr = new GlideRecord('sys_wizard_answer');\n    gr.addQuery('active', true);\n\tgr.addQuery('name', 'IN', wizardAnswers);\n    gr.query();\n\n    while (gr.next()) {\n        gs.info(gs.getMessage(\"Deleted sys_wizard_answer record: {0}\", gr.getValue('name')));\n        gr.deleteRecord();\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"c44cf07d43230210471d6692e9b8f282","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/42b8273704f12210559073c06a02f78d","value":"42b8273704f12210559073c06a02f78d"},"sys_update_name":"sys_script_fix_c44cf07d43230210471d6692e9b8f282","sys_updated_by":"now.midserver","sys_created_on":"2024-07-22 19:19:04","name":"Delete wizard answer records for MID","sys_name":"Delete wizard answer records for MID","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"now.midserver","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"For all existing Click Modal Button steps, if the timeout is not set, set it to 5 seconds.","sys_updated_on":"2017-10-20 23:42:12","sys_tags":"","record_for_rollback":"false","script":"// if the timeout on existing Click Modal Button steps is not set or is 0,\n// set timeout to 5 seconds. Steps with a timeout of 0 have a null value\n// in the database\nvar clickModalStep = new GlideRecord(\"sys_atf_step\");\nclickModalStep.addQuery(\"step_config\", \"22aed143dfe0220062fe6c7a4df2639d\");\nclickModalStep.addNullQuery(\"timeout\");\nclickModalStep.setValue(\"timeout\", \"0 00:00:05\");\nclickModalStep.updateMultiple();\n\ngs.info(\"Updated \" + clickModalStep.getRowCount() + \" existing Click Modal Button step record(s)\");","sys_class_name":"sys_script_fix","sys_id":"c471113f6731030091d005225685ef69","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18792f3b04f12210559073c06a02f71d","value":"18792f3b04f12210559073c06a02f71d"},"sys_update_name":"sys_script_fix_c471113f6731030091d005225685ef69","sys_updated_by":"admin","sys_created_on":"2017-10-20 23:38:50","name":"Set timeout on click modal button steps","sys_name":"Set timeout on click modal button steps","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Update the column type of following:\r\nsys_cb_topic.category - reference -> glide_list\r\nsys_cs_topic.category - reference -> glide_list","sys_updated_on":"2020-09-12 04:03:12","sys_tags":"","record_for_rollback":"false","script":"GlideFixStuff.changeVirtualAgentColumnType();","sys_class_name":"sys_script_fix","sys_id":"c55421847313101081e06502edf6a73b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_c55421847313101081e06502edf6a73b","sys_updated_by":"admin","sys_created_on":"2020-09-12 04:03:12","name":"Update Virtual Agent column type","sys_name":"Update Virtual Agent column type","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Modify sys_cs_topic.cb_topic_id type, changing it from string to reference","sys_updated_on":"2018-10-11 21:35:04","sys_tags":"","record_for_rollback":"false","script":"updateColumnType();\nfunction updateColumnType() {\n    var gr = new GlideRecord(\"sys_dictionary\");\n    gr.addQuery(\"name\", \"sys_cs_topic\");\n    gr.addQuery(\"internal_type\", \"string\");\n    gr.addQuery(\"element\", \"cb_topic_id\");\n    gr.setWorkflow(false);\n    gr.query();\n\n    if(gr.next()) {\n        gr.setValue(\"internal_type\", \"reference\");\n        gr.update();\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"c608065a3b01230028fa456993efc490","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_c608065a3b01230028fa456993efc490","sys_updated_by":"admin","sys_created_on":"2018-10-11 21:20:20","name":"Modify sys_cs_topic.cb_topic_id type","sys_name":"Modify sys_cs_topic.cb_topic_id type","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"36","description":"This fix script turns on audit for the hermes_cluster_config table. We are blacklisting 3 fields from auditing: cluster_seq, last_status_was_offline, and num_in_a_row. All other fields will be audit enabled.","sys_updated_on":"2025-02-12 22:50:48","sys_tags":"","record_for_rollback":"true","script":"var isAuditDisabled = function(attributes) {\n        var attrs = attributes.split(',');\n        for (var i = 0; i < attrs.length; i++) {\n            var attr = attrs[i].trim();\n            if (attr == 'no_audit=true')\n            return true;\n        }\n        return false;\n    };\n\n    var disableAuditForColumn = function (column) {\n        var hccDict = new GlideRecord('sys_dictionary');\n        hccDict.addQuery('name', 'hermes_cluster_config');\n        hccDict.addQuery('element', column);\n        hccDict.setLimit(1);\n        hccDict.query();\n        if (hccDict.next()) {\n            var attributes = hccDict.getValue('attributes');\n            if (attributes != null) {\n                if (!isAuditDisabled(attributes)) {\n                    gs.log('Updating hermes_cluster_config column: ' + column + ' to disable auditing');\n                    if (attributes.length != 0) {\n                        attributes = attributes + ',no_audit=true';\n                    } else {\n                        attributes = 'no_audit=true';\n                    }\n                    hccDict.setValue('attributes', attributes);\n                    hccDict.update();\n                } else {\n                    gs.log('Audit already disabled for hermes_cluster_config column: ' + column);\n                }\n            } else {  // In case attributes field is not set yet\n                gs.log('Updating hermes_cluster_config column: ' + column + ' to disable auditing');\n                attributes = 'no_audit=true';\n                hccDict.setValue('attributes', attributes);\n                hccDict.update();\n            }\n        }\n    };\n\n    var enableAuditForColumn = function (column) {\n        var hccDict = new GlideRecord('sys_dictionary');\n        hccDict.addQuery('name', 'hermes_cluster_config');\n        hccDict.addQuery('element', column);\n        hccDict.setLimit(1);\n        hccDict.query();\n        if (hccDict.next()) {\n            var audit = hccDict.getValue('audit');\n            if (audit == 0) {\n                gs.log('Updating hermes_cluster_config column: ' + column + ' to enable auditing');\n                hccDict.setValue('audit', 1);\n                hccDict.update();\n            } else {\n                gs.log('Audit already enabled for hermes_cluster_config column: ' + column);\n            }\n        }\n    };\n\n    var enableAudit = function() {\n        var hccDict = new GlideRecord('sys_dictionary');\n        hccDict.addQuery('name', 'hermes_cluster_config');\n        hccDict.addNullQuery('element');\n        hccDict.setLimit(1);\n        hccDict.query();\n        gs.log('Checking if hermes_cluster_config is enabled for audit...');\n        if (hccDict.next()) {\n            var isAudit = hccDict.getValue('audit');\n            if (isAudit == 0) {\n                gs.log('Updating hermes_cluster_config audit to true');\n                hccDict.setValue('audit', 1);\n                hccDict.update();\n                gs.log('hermes_cluster_config audit enabled');\n            } else {\n                gs.log('hermes_cluster_config is already audit enabled');\n            }\n        }\n        var gr = new GlideRecord('sys_dictionary');\n        gr.addQuery('name', 'hermes_cluster_config');\n        gr.query();\n        while (gr.next()) {\n            var column = gr.getValue('element');\n            if (column === 'cluster_seq' || column === 'num_in_a_row' || column === 'last_status_time') {\n                disableAuditForColumn(column);\n            } else {\n                enableAuditForColumn(column);\n            }\n        }\n    };\n    enableAudit();\n    ","sys_class_name":"sys_script_fix","sys_id":"c623b4a343010210cea0ace405b8f234","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/03d4abbf04312210559073c06a02f7f9","value":"03d4abbf04312210559073c06a02f7f9"},"sys_update_name":"sys_script_fix_c623b4a343010210cea0ace405b8f234","sys_updated_by":"admin","sys_created_on":"2024-03-25 23:25:14","name":"EnableHermesClusterConfigAudit","sys_name":"EnableHermesClusterConfigAudit","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Calculate purity field is introduced in quebec. For clustering solution pre quebec cal_purity will be set to true if solution definition has purity fields selected otherwise set to false.","sys_updated_on":"2020-09-01 18:16:40","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord(\"ml_capability_definition_clustering\");\ngr.initialize();\nif (gr.isValidField('cal_purity')) {\n\tvar clustering_def = new GlideRecord(\"ml_capability_definition_clustering\");\n\tclustering_def.query();\n\twhile (clustering_def.next()) {\n\t\tif (clustering_def.getValue('cal_purity') == null)  {\n\t\t\tif (clustering_def.getValue('purity_fields') == null){\n\t\t\t\tclustering_def.setValue('cal_purity',0);\n\t\t\t} else {\n\t\t\t\tclustering_def.setValue('cal_purity',1);\n\t\t\t}\n\t\t\tclustering_def.update();\n\t\t}\n\t}\t\n}\n","sys_class_name":"sys_script_fix","sys_id":"c62d7f24a5c71010f87760b440283ae3","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_script_fix_c62d7f24a5c71010f87760b440283ae3","sys_updated_by":"maint","sys_created_on":"2020-09-01 18:15:55","name":"Quebec-Cal Purity field","sys_name":"Quebec-Cal Purity field","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","sys_policy":""},{"before":"true","unloadable":"true","sys_mod_count":"0","description":"Creator of the dashboard was stored in par_dashboard_user_metadata table, we have a requirement to add owner user and group. This script migrates owner users from par_dashboard_user_metadata.created_by_user to par_dashboard_permission table setting owner field true.","sys_updated_on":"2023-07-18 14:04:04","sys_tags":"","record_for_rollback":"true","script":"gs.info('par_dashboard_permission owner migration - Update or insert owner user to par_dashboard_permission. Start');\nmigrateDashboardOwnerData();\ngs.info('par_dashboard_permission owner migration - Update or insert owner user to par_dashboard_permission. End');\n\nfunction migrateDashboardOwnerData(){\n\tif (pm.isZboot())\n\t\treturn;\n\n\tvar gr = new GlideRecord(\"par_dashboard_user_metadata\");\n\tgr.query();\n\twhile (gr.next()) {\n\t\tvar ownerUserId = gr.created_by_user;\n\t\tvar dashboardId = gr.dashboard;\n\t\tgs.info('Migrating par_dashboard_permission for dashboard with id'+dashboardId);\n\t\t\n\t\tupdateDashboardPermissionForOwnerUser(dashboardId, ownerUserId);\n\t}\n\n\tgs.info('par_dashboard_permission migrateDashboardOwnerData. End');\n}\n\nfunction updateDashboardPermissionForOwnerUser(dashboardId, ownerUserId){\n\tvar grDashboardPermission = new GlideRecord(\"par_dashboard_permission\");\n\tgrDashboardPermission.addQuery(\"dashboard\",dashboardId);\n\tgrDashboardPermission.addQuery(\"user\",ownerUserId);\n\tgrDashboardPermission.query();\n\tif (grDashboardPermission.next()) {\n\t\tgrDashboardPermission.setValue(\"owner\", true);\n\t\tif (grDashboardPermission.update())\n\t\t\treturn;\n\t\tgs.log(\"par_dashboard_permission - failed to update owner field. Will try to insert new record\");\n\t\t\n\t} \n\t// we dont have any permission for owner user or could not update current record lets insert new one\n\tgrDashboardPermission = new GlideRecord(\"par_dashboard_permission\");\n\tgrDashboardPermission.initialize();\n\tgrDashboardPermission.setValue(\"dashboard\",dashboardId);\n\tgrDashboardPermission.setValue(\"user\",ownerUserId);\n\tgrDashboardPermission.setValue(\"owner\", true);\n\tif (!grDashboardPermission.insert())\n\t\tgs.log(\"par_dashboard_permission - failed to insert new record to par_dashboard_permission table for dashboard with id\"+dashboardId+\" and user with id\"+ownerUserId);\n\n}\n","sys_class_name":"sys_script_fix","sys_id":"c6ef3d2243c071103293f05ba9b8f233","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/143b677304352210559073c06a02f7e2","value":"143b677304352210559073c06a02f7e2"},"sys_update_name":"sys_script_fix_c6ef3d2243c071103293f05ba9b8f233","sys_updated_by":"admin","sys_created_on":"2023-07-18 14:04:04","name":"par_dashboard_permission owner migration","sys_name":"par_dashboard_permission owner migration","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"","sys_updated_on":"2022-03-02 19:52:29","sys_tags":"","record_for_rollback":"true","script":"(function() {\n    if (pm.isZboot())\n        return;\n\n    function getKnownSystemIds() {\n        var knownSystemIds = [];\n        var state = new GlideAggregate(\"sys_cluster_state\");\n        state.setWorkflow(false);\n        state.groupBy(\"system_id\");\n        state.query();\n        while (state.next()) {\n            knownSystemIds.push(state.getValue(\"system_id\"));\n        }\n        return knownSystemIds;\n    }\n\n    var knownSystemIds = getKnownSystemIds();\n    var ga = new GlideAggregate(\"sys_trigger\");\n    ga.setWorkflow(false);\n    ga.addNotNullQuery(\"parent\");\n    ga.addNotNullQuery(\"system_id\");\n    ga.addQuery(\"system_id\", \"!=\", \"ALL NODES\");\n    ga.addQuery(\"system_id\", \"!=\", \"ACTIVE NODES\");\n    ga.addQuery(\"system_id\", \"NOT IN\", GlideStringUtil.join(knownSystemIds));\n    ga.groupBy(\"system_id\");\n    ga.query();\n    while (ga.next()) {\n        var node = new GlideRecord(\"sys_cluster_state\");\n        node.setValue(\"system_id\", ga.getValue(\"system_id\"));\n        node.setValue(\"sys_id\", \"deleted\");\n        gs.print(\"Run SchedulerVNCC for deleted node: \" + ga.getValue(\"system_id\"));\n        new SchedulerVNCC().propagateRATriggersForNode(node);\n    }\n})();","sys_class_name":"sys_script_fix","sys_id":"c6f2dd7c53460110b72addeeff7b1246","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4863eb7304312210559073c06a02f71c","value":"4863eb7304312210559073c06a02f71c"},"sys_update_name":"sys_script_fix_c6f2dd7c53460110b72addeeff7b1246","sys_updated_by":"admin","sys_created_on":"2022-03-02 19:46:35","name":"Clean up unknown system_id child jobs","sys_name":"Clean up unknown system_id child jobs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"10","description":"Ensure multiple `glide.ui.concourse.onmessage_enforce_same_origin_whitelist` values to be comma separated. DEF0410054","sys_updated_on":"2023-06-09 17:35:15","sys_tags":"","record_for_rollback":"true","script":"var gr = new GlideRecord('sys_properties');\ngr.addQuery('name', 'glide.ui.concourse.onmessage_enforce_same_origin_whitelist');\ngr.addNotNullQuery('value');\ngr.query();\nwhile (gr.next()){\n\tvar propVal = gr.getValue('value');\n\tvar cleanPropVal = propVal.trim().replace(/\\r?\\n/g, \",\");\n\tgr.setValue('value', cleanPropVal);\n\tgr.setValue('description', 'List of trusted origins we allow to propagate messages (sent via window.postMessage) in the UI. Origins must be separated by a comma, line breaks can negatively affect page rendering.');\n\tgr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"c725ce75a3132110ccd2b2dd341e61e9","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ce442f7b04312210559073c06a02f798","value":"ce442f7b04312210559073c06a02f798"},"sys_update_name":"sys_script_fix_c725ce75a3132110ccd2b2dd341e61e9","sys_updated_by":"admin","sys_created_on":"2023-06-08 21:41:30","name":"Comma separate concourse whitelist","sys_name":"Comma separate concourse whitelist","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"This Fix script searches for any existing sys_dictionary entry for 'sys_email_canned_message' having internal_type  for element 'body' as 'html'. \r\n\r\nIf  the entry exists then it updates internal_type  for element 'body' to 'html_script' from 'html' and returns. \r\n\r\nThen Fix script searches for any existing sys_dictionary entry for 'sys_email_canned_message' having internal_type  for element 'body' as 'string'. \r\n\r\nIf  the entry exists then it formats the body of any existing 'sys_email_canned_message' with 'internal_type' as 'string' using a scriptable API that uses OutLookDivformatter . \r\n\r\nOnce the body is formatted ,  then the 'internal_type' of 'body' element  for  'sys_email_canned_message' is updated from 'string' to 'html_script'.","sys_updated_on":"2019-01-17 04:06:51","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\t\t//query for sys_dictionary entry to check for table name 'sys_email_canned_message' with 'internal_type' as 'html'\n\t\tvar stringDictionaryEntries = new GlideRecord('sys_dictionary');\n\t\tstringDictionaryEntries.addActiveQuery();\n\t\tstringDictionaryEntries.addQuery('name', 'sys_email_canned_message');\n\t\tstringDictionaryEntries.addQuery('element', 'body');\n\t\tstringDictionaryEntries.query();\n\t\n\t\tif(stringDictionaryEntries.next()) {\n\t\t\tvar internalType = stringDictionaryEntries.getValue('internal_type');\n\t    \t\tif(internalType == 'html_script')\n\t\t\t\tgs.info('Update Body field for Canned Messages: skipping fix column already html_script');\n\t\t\telse if(internalType == 'html') {\n\t\t\t\tgs.info('Update Body field for Canned Messages: updating type from html to html_script');\n\t\t\t\tstringDictionaryEntries.setValue('internal_type','html_script');\n\t\t\t}\n\t\t\telse if(internalType == 'string'){ \n\t\t\t\tif (gs.getProperty(\"glide.ui.email_client.html\") == \"false\") {\n\t\t\t\t\tgs.info('Update Body field for Canned Messages: skipping email client is in Text mode');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tupdateCannedMessagesFromStringToHtmlScript();\n\t\t\t\tgs.info('Update Body field for Canned Messages: updating type from string to html_script');\n\t\t\t\tstringDictionaryEntries.setValue('internal_type','html_script');\n\t\t\t}\n\t\t\t\n\t\t\tgs.info('Update Body field for Canned Messages: updating dependent field of body');\n\t\t\tstringDictionaryEntries.setValue('use_dependent_field',true);\n\t\t\tstringDictionaryEntries.setValue('dependent','table');\n\t\t\tstringDictionaryEntries.setValue('dependent_on_field','table');\n\t\t\tstringDictionaryEntries.update();\n\t\t}\n\t\n    \t\tfunction updateCannedMessagesFromStringToHtmlScript() {\n\t\t\tvar cannedMessage = new GlideRecord('sys_email_canned_message');\n\t\t\tcannedMessage.query();\n\t\t\twhile (cannedMessage.next()) {\n\t\t\t\t//format the body by using the scriptable API and set the format body back to the cannedMessage\n\t\t\t\tif (!gs.nil(cannedMessage.body)) {\n\t\t\t\t\tvar formattedText = SNC.EmailClientFormatter.formatEmailText(cannedMessage.body + '');\n\t\t\t\t\tcannedMessage.setValue('body', formattedText);\n\t\t\t\t\tcannedMessage.update();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t})();","sys_class_name":"sys_script_fix","sys_id":"c726c7e1770323005a4820089a106148","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8308a33304f12210559073c06a02f7a9","value":"8308a33304f12210559073c06a02f7a9"},"sys_update_name":"sys_script_fix_c726c7e1770323005a4820089a106148","sys_updated_by":"admin","sys_created_on":"2019-01-17 04:06:51","name":"Update Body field for Canned Messages","sys_name":"Update Body field for Canned Messages","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"22","description":"Populate diagram options field for existing diagram builder configuration records","sys_updated_on":"2022-12-02 09:28:27","sys_tags":"","record_for_rollback":"true","script":"try {\n    var diagramBuilderConfigGR = new GlideRecord(\"sn_diagram_builder_configuration\");\n    diagramBuilderConfigGR.addNullQuery('diagram_options');\n    diagramBuilderConfigGR.query();\n\n    diagramBuilderConfigGR.setValue(\"diagram_options\", BuilderConfiguration.getDefaultDiagramOptions());\n    diagramBuilderConfigGR.updateMultiple();\n} catch (ex) {\n    gs.error(ex);\n}","sys_class_name":"sys_script_fix","sys_id":"c727efcc43671110a0ed690908b8f2b4","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1cf7ad026abf3abab12e761ddaa6e9df","value":"1cf7ad026abf3abab12e761ddaa6e9df"},"sys_update_name":"sys_script_fix_c727efcc43671110a0ed690908b8f2b4","sys_updated_by":"admin","sys_created_on":"2022-11-29 08:27:05","name":"Populate diagram options configuration","sys_name":"Populate diagram options configuration","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1cf7ad026abf3abab12e761ddaa6e9df","value":"1cf7ad026abf3abab12e761ddaa6e9df"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Update ml request schedule name (sys_trigger name) from solution definition sysId to solution name","sys_updated_on":"2023-05-03 16:05:31","sys_tags":"","record_for_rollback":"true","script":"var baseSol = new GlideRecord(\"ml_capability_definition_base\");\nbaseSolQ = baseSol.addQuery(\"capability.value\", \"clustering_trainer\");\nbaseSolQ.addOrCondition(\"capability.value\", \"similarity_trainer\");\nbaseSolQ.addOrCondition(\"capability.value\", \"workflow_clustering_trainer\");\nbaseSolQ.addOrCondition(\"capability.value\", \"workflow_similarity_trainer\");\nbaseSol.query();\nwhile (baseSol.next()) {\n    var sysautoGr = new GlideRecord(\"sysauto_script\");\n    sysautoGr.addQuery(\"name\", baseSol.sys_id);\n    sysautoGr.query();\n    while (sysautoGr.next()) {\n        sysautoGr.setValue(\"name\", baseSol.solution_name);\n        sysautoGr.update();\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"c72b538277e22110a918d4f64b5a9992","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_script_fix_c72b538277e22110a918d4f64b5a9992","sys_updated_by":"admin","sys_created_on":"2023-05-03 16:05:31","name":"Update ML request schedule name","sys_name":"Update ML request schedule name","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"6","description":"Copy data from sys_analytics_bucket table to sys_analytics_app table","sys_updated_on":"2024-10-01 15:17:16","sys_tags":"","record_for_rollback":"true","script":"gs.log(\"Upgrade: Started copying application data\");\nvar analyticsBucket = new GlideRecord('sys_analytics_bucket');\nanalyticsBucket.addEncodedQuery('bucket_table_name!=sys_ux_metrics_app^NQbucket_table_name=sys_ux_metrics_app^application_nameINFlow Designer UI,Studio');\nanalyticsBucket.query();\nvar analyticsApp = new GlideRecord('sys_analytics_app');\nvar analyticsAppConfig = new GlideRecord('sys_analytics_app_config');\nwhile(analyticsBucket.next()) {\n    try {\n      analyticsApp.initialize();\n\t  analyticsApp.setWorkflow(false);\n      analyticsApp.app_sys_id = analyticsBucket.bucket_document_id;\n      analyticsApp.application_name = analyticsBucket.application_name;\n      analyticsApp.table_name = analyticsBucket.bucket_table_name;\n      analyticsApp.analytics_channel = analyticsBucket.analytics_channel;\n      analyticsApp.enable_unauthenticated_user_tracking = analyticsBucket.enable_unauthenticated_user_tracking;\n      analyticsApp.active = analyticsBucket.enabled;\n      var analyticsAppSysId = analyticsApp.insert();\n      if (analyticsBucket.bucket_metadata) {\n\t\tanalyticsAppConfig.initialize();\n\t  \tanalyticsAppConfig.setWorkflow(false);\n      \tanalyticsAppConfig.sys_analytics_app = analyticsAppSysId;\n        analyticsAppConfig.configuration = analyticsBucket.bucket_metadata;\n\t\tif (analyticsBucket.bucket_metadata_customer_override) {\n\t\t\tanalyticsAppConfig.customer_override_configuration = analyticsBucket.bucket_metadata_customer_override;\n\t\t}\n\t\tanalyticsAppConfig.insert();\t\t\n      }\n    } catch(e) {\n      gs.log(\"Upgrade: Error while copying data for the application: \" +  analyticsBucket.application_name + \" : \" + e.message);\n    }\n}\ngs.log(\"Upgrade: Completed copying application data\");\n","sys_class_name":"sys_script_fix","sys_id":"c74367127fff42103ff504866d86654c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/07d4abbf04312210559073c06a02f7f6","value":"07d4abbf04312210559073c06a02f7f6"},"sys_update_name":"sys_script_fix_c74367127fff42103ff504866d86654c","sys_updated_by":"admin","sys_created_on":"2024-08-06 07:07:59","name":"Copy from Analytics Bkt to Analytics App","sys_name":"Copy from Analytics Bkt to Analytics App","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"4","description":"Fix script for enabling Employee center integration to work in Microsoft GCCH and DOD environments, which appends teams url  endpoints in response headers. The sys id : \"3f448fae732930106e22b6c14cf6a78c\" is associated with \"Employee Center Core/Service Portal: Employee Center\" response header record.\r\n","sys_updated_on":"2023-04-10 10:28:13","sys_tags":"","record_for_rollback":"false","script":"(function() {\n    if (gs.getProperty('glide.regulated_instance', 'false') == 'true') {\n        var sysResponseGr = new GlideRecord(\"sys_response_header\");\n        if (sysResponseGr.get(\"3f448fae732930106e22b6c14cf6a78c\")) {\n            sysResponseGr.setValue(\"header_value\", \"frame-ancestors 'self' *.teams.microsoft.us\");\n            sysResponseGr.update();\n        }\n    }\n})();","sys_class_name":"sys_script_fix","sys_id":"c77c43e243022110194ee883a9b8f25b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3d1da2705b021200a4656ede91f91ab6","value":"3d1da2705b021200a4656ede91f91ab6"},"sys_update_name":"sys_script_fix_c77c43e243022110194ee883a9b8f25b","sys_updated_by":"admin","sys_created_on":"2023-04-10 07:30:32","name":"Modify CSP headers for GCCH and DOD env","sys_name":"Modify CSP headers for GCCH and DOD env","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3d1da2705b021200a4656ede91f91ab6","value":"3d1da2705b021200a4656ede91f91ab6"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Set the value of the mode column to be 'followup' for any entries in the sys_gen_ai_message_history table that do not have the mode field set.","sys_updated_on":"2024-09-06 21:51:50","sys_tags":"","record_for_rollback":"true","script":"var messageHistoryGr = new GlideRecord('sys_gen_ai_message_history');\nmessageHistoryGr.query(\"mode!=aisearch\");\nmessageHistoryGr.query();\nmessageHistoryGr.setValue(\"mode\", \"followup\");\nmessageHistoryGr.updateMultiple();\n","sys_class_name":"sys_script_fix","sys_id":"c784fa547f6c5210db85e6b6bc866588","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_c784fa547f6c5210db85e6b6bc866588","sys_updated_by":"admin","sys_created_on":"2024-09-06 05:03:44","name":"Update sys_gen_ai_message_history mode","sys_name":"Update sys_gen_ai_message_history mode","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Create tasks and subtasks for in-flight TOLs. Close already process subtasks and tasks.","sys_updated_on":"2019-03-25 23:56:58","sys_tags":"","record_for_rollback":"false","script":"var script = \"new SamUpgradeTransferOrderLines().createTasksForInflightTOLs();\";\nGlideRunScriptJob.scheduleScript(script);","sys_class_name":"sys_script_fix","sys_id":"c7ef08afa1983300964fa6bc32299bf7","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/45672bfb04b12210559073c06a02f7c5","value":"45672bfb04b12210559073c06a02f7c5"},"sys_update_name":"sys_script_fix_c7ef08afa1983300964fa6bc32299bf7","sys_updated_by":"admin","sys_created_on":"2019-03-25 23:13:51","name":"Create tasks for in-flight TOLs","sys_name":"Create tasks for in-flight TOLs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Comply with policy change for objectionable language in core_company sys_choice entries.\n\t\t","sys_updated_on":"2020-09-17 22:27:56","sys_tags":"","record_for_rollback":"false","script":"// Get all targeted sys_choice entries\nvar choiceValues = new GlideRecord(\"sys_choice\");\nchoiceValues.addQuery(\"value\", \"blacklist\");  // <---- Underlying choice value\nchoiceValues.addQuery(\"name\", \"core_company\");\nchoiceValues.addQuery(\"element\", \"rank_tier\");\nchoiceValues.query();\n\nwhile(choiceValues.next()) {\n    // Identify language for this sys_choice entry\n    var language = choiceValues.language;\n    if (!language) {\n        continue;\n    }\n\n    // Ensure a translation for the affected string exists (unless the language is en)\n    if (language != \"en\") {\n        var translation = new GlideRecord(\"sys_ui_message\");\n        translation.addQuery(\"key\", \"Excluded Supplier\"); // <---- Updated\n        translation.addQuery(\"language\", language);\n        translation.setLimit(1);\n        translation.query();\n\n        // Skip if no sys_message translation so we don't replace with the English translation\n        if(!translation.hasNext()) {\n            gs.log(\"No translation exists for <Excluded Supplier> in \" + language);\n            continue;\n        }\n    }\n\n    // DO NOT USE A VARIABLE FOR THE LABEL HERE! STRING PULL AUTOMATION NEEDS THE ACTUAL STRING.\n    choiceValues.label = gs.getMessageLang(\"Excluded Supplier\", language);\n    choiceValues.setWorkflow(false);\n    choiceValues.update();\n}\n","sys_class_name":"sys_script_fix","sys_id":"c7f19bf1f0d31010f8772ae3093a9ab8","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/eec96fbb04f12210559073c06a02f711","value":"eec96fbb04f12210559073c06a02f711"},"sys_update_name":"sys_script_fix_c7f19bf1f0d31010f8772ae3093a9ab8","sys_updated_by":"maint","sys_created_on":"2020-09-17 22:27:56","name":"Compliance for core_company sys_choice","sys_name":"Compliance for core_company sys_choice","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"7","description":"Setting NLQ output source to BNF for all records in nlq_query_log table till and including vancouver release. ","sys_updated_on":"2023-11-28 06:17:18","sys_tags":"","record_for_rollback":"true","script":"var gr = new GlideRecord('nlq_query_log');\nvar bnf = \"BNF\";\nvar outputSource = \"output_source\";\ngr.addNullQuery(outputSource);\ngr.query();\nwhile (gr.next()) {\n    gr.setValue(outputSource, bnf);\n    gr.setWorkflow(false);\n    gr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"c900a604c3003110d4cc21007d40dd4b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cebd633304752210559073c06a02f7f7","value":"cebd633304752210559073c06a02f7f7"},"sys_update_name":"sys_script_fix_c900a604c3003110d4cc21007d40dd4b","sys_updated_by":"admin","sys_created_on":"2023-07-10 19:58:26","name":"Set NLQ OutputSource to BNF","sys_name":"Set NLQ OutputSource to BNF","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Set the value of attach_sla to true for Service Contract contract model.","sys_updated_on":"2019-01-30 18:27:23","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tvar contract = new GlideRecord(\"cmdb_contract_product_model\");\n\tcontract.setWorkflow(false);\n\n\t// For zboot set attach_sla true for Service Contract\n\t// Otherwise set all to true to preserve behaviour for upgrading customers\n\tif (pm.isZboot()) {\n\t\tif (contract.get(\"8881e836c3102000b959fd251eba8f29\")) {\n\t\t\tcontract.attach_sla = true;\n\t\t\tcontract.update();\n\t\t}\n\t} else {\n\t\tcontract.query();\n\t\twhile (contract.next()) {\n\t\t\tcontract.attach_sla = true;\n\t\t\tcontract.update();\n\t\t}\n\t}\n})();","sys_class_name":"sys_script_fix","sys_id":"c9278586b713230034d1da23ee11a9a3","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5e3927f704f12210559073c06a02f7bd","value":"5e3927f704f12210559073c06a02f7bd"},"sys_update_name":"sys_script_fix_c9278586b713230034d1da23ee11a9a3","sys_updated_by":"admin","sys_created_on":"2019-01-30 18:27:23","name":"Set Service Contract Attach SLAs","sys_name":"Set Service Contract Attach SLAs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Remove mandatory attribute from source_element_id field on sys_ux_addon_event_mapping dictionary","sys_updated_on":"2022-03-22 15:41:25","sys_tags":"","record_for_rollback":"true","script":"var glideRecord = new GlideRecord(\"sys_dictionary\");\nif (glideRecord.isValid()) {\n    glideRecord.setWorkflow(false);\n    glideRecord.setUseEngines(false);\n    glideRecord.addQuery(\"name\", \"sys_ux_addon_event_mapping\");\n    glideRecord.addQuery(\"element\", \"source_element_id\");\n    glideRecord.query();\n    if (glideRecord.next()) {\n        glideRecord.setValue(\"mandatory\", \"false\");\n        glideRecord.update();\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"c9799347ff1201101cb3ff4e253bf1bb","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f193e7f304312210559073c06a02f725","value":"f193e7f304312210559073c06a02f725"},"sys_update_name":"sys_script_fix_c9799347ff1201101cb3ff4e253bf1bb","sys_updated_by":"admin","sys_created_on":"2022-03-22 15:41:25","name":"Made source element non-mandatory - AOEM","sys_name":"Made source element non-mandatory - AOEM","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Event field on the provider notification form to show all the events available in the event registry and not restricted to any table","sys_updated_on":"2021-09-28 19:33:17","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tif (pm.isZboot())\n\t\treturn;\n\n\tvar dbObject = new GlideRecord('sys_dictionary');\n\tdbObject.addQuery('name', 'sys_notification');\n\tdbObject.addQuery('element','event');\n\tdbObject.query();\n\tif (!dbObject.next())\n\t\treturn;\n\tdbObject.setValue('reference_qual', '');\n\tdbObject.setWorkflow(false);\n\tdbObject.update();\n\n})();","sys_class_name":"sys_script_fix","sys_id":"c97ebaf25332301092f0ddeeff7b124f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4c93a3f304312210559073c06a02f7f1","value":"4c93a3f304312210559073c06a02f7f1"},"sys_update_name":"sys_script_fix_c97ebaf25332301092f0ddeeff7b124f","sys_updated_by":"admin","sys_created_on":"2021-09-28 19:33:17","name":"Decouple table & event for notification","sys_name":"Decouple table & event for notification","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Remove auto-generated ACLs for role 'nobody' from Activity tables","sys_updated_on":"2022-01-18 23:31:17","sys_tags":"","record_for_rollback":"true","script":"(function() {\n    if (pm.isZboot())\n        return;\n\n    gs.log('Running fix script: \"Remove Nobody ACLs from Activity Tables\"');\n    var operations = ['create', 'delete', 'write'];\n    var supplementalAcls = new GlideRecord('sys_security_acl');\n    supplementalAcls.addQuery('name', 'STARTSWITH', 'sys_activity_supplemental');\n    supplementalAcls.addQuery('operation.name', operations);\n    supplementalAcls.query();\n\n    var aclsToDelete = [];\n    while (supplementalAcls.next()) {\n        if (!hasNobodyAclRole(supplementalAcls))\n            continue;\n\n        aclsToDelete.push(supplementalAcls.getUniqueValue());\n    }\n\n    var activityAcls = new GlideRecord('sys_security_acl');\n    activityAcls.addQuery('name', 'sys_activity');\n    activityAcls.addQuery('operation.name', ['delete']);\n    activityAcls.query();\n\n    while (activityAcls.next()) {\n        if (!hasNobodyAclRole(activityAcls))\n            continue;\n\n        aclsToDelete.push(activityAcls.getUniqueValue());\n    }\n\n    var aclDeleteQuery = new GlideRecord('sys_security_acl');\n    aclDeleteQuery.addQuery('sys_id', aclsToDelete);\n    aclDeleteQuery.query();\n\n    gs.log('Deleting ' + aclDeleteQuery.getRowCount() + ' autogenerated Activity ACLs');\n\n    aclDeleteQuery.deleteMultiple();\n\n    function hasNobodyAclRole(acl) {\n        var aclRole = new GlideRecord('sys_security_acl_role');\n        aclRole.addQuery('sys_security_acl', acl.getUniqueValue());\n        aclRole.addQuery('sys_user_role', 'b05940500a0a0aa70090a4893f6ff35d');\n        aclRole.query();\n\n        return aclRole.next() ? aclRole : null;\n    }\n})();","sys_class_name":"sys_script_fix","sys_id":"c9b868cfc301011082c603db7940dd1f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bb08e33304f12210559073c06a02f7ac","value":"bb08e33304f12210559073c06a02f7ac"},"sys_update_name":"sys_script_fix_c9b868cfc301011082c603db7940dd1f","sys_updated_by":"admin","sys_created_on":"2022-01-18 23:31:17","name":"Remove Nobody ACLs from Activity Tables","sys_name":"Remove Nobody ACLs from Activity Tables","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"18","description":"This script derives categories from connected content for topics and populates Connected Category table .","sys_updated_on":"2022-09-06 06:46:33","sys_tags":"","record_for_rollback":"true","script":"new global.TopicCategoryUtil().setConnectedCategoryFromConnectedContent();","sys_class_name":"sys_script_fix","sys_id":"c9ccade0eb0111103d6b2ff2a25228b1","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/92ed237304752210559073c06a02f7a0","value":"92ed237304752210559073c06a02f7a0"},"sys_update_name":"sys_script_fix_c9ccade0eb0111103d6b2ff2a25228b1","sys_updated_by":"admin","sys_created_on":"2022-07-29 06:18:09","name":"Derive category from Connected Content","sys_name":"Derive category from Connected Content","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"4","description":"Rename Experience Type to UI Layout in sys_pd_activity_definition","sys_updated_on":"2022-12-07 19:56:52","sys_tags":"","record_for_rollback":"true","script":"var gr = new GlideRecord('sys_dictionary');\ngr.addQuery('name', 'sys_pd_activity_definition');\ngr.addQuery('internal_type', 'reference');\ngr.addQuery('element', 'activity_type');\ngr.query();\nif (gr.next()) {\n\tgr.setValue('column_label', 'UI Layout');\n\tgr.update();\n}\ngr = new GlideRecord('sys_documentation');\ngr.addQuery('name', 'sys_pd_activity_definition');\ngr.addQuery('element', 'activity_type');\ngr.query();\nif (gr.next()) {\n\tgr.setValue('label', 'UI Layout');\n\tgr.setValue('plural', 'UI Layouts');\n\tgr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"ca009fb24f231110ac8b5201b1ce0b14","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/903e67b304752210559073c06a02f757","value":"903e67b304752210559073c06a02f757"},"sys_update_name":"sys_script_fix_ca009fb24f231110ac8b5201b1ce0b14","sys_updated_by":"admin","sys_created_on":"2022-12-07 19:47:12","name":"Rename Experience Type in activity def","sys_name":"Rename Experience Type in activity def","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":"read"},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"sys_ui_form_section: Use position as display value","sys_updated_on":"2019-08-06 21:43:39","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('sys_dictionary');\ngr.addQuery('element', 'position');\ngr.addQuery('name', 'sys_ui_form_section');\ngr.query();\nif (gr.next()) {\n\tif (gr.getValue('display') == true)\n\t\tgs.info(\"Display value for sys_ui_form_section.position is already true\");\n\telse {\n\t\tgr.setValue(\"display\", true);\n\t\tgr.setWorkFlow(false);\n\t\tgr.setUseEngines(false);\n\t\tgr.update();\n\t\tgs.info(\"Set display value for sys_ui_form_section.position to true\");\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"ca942126c7433300cff9337bf4c2605e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ba9c2f7b04352210559073c06a02f7cb","value":"ba9c2f7b04352210559073c06a02f7cb"},"sys_update_name":"sys_script_fix_ca942126c7433300cff9337bf4c2605e","sys_updated_by":"admin","sys_created_on":"2019-08-06 19:45:40","name":"Set position as display value","sys_name":"Set position as display value","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"Adding allow_public=true for table_name column present in help_content table.","sys_updated_on":"2022-01-27 08:34:57","sys_tags":"","record_for_rollback":"false","script":"gs.log('Start adding dictionary attribute allow_public for table_name of help_content');\nSNC.DictionaryAttribute.set('help_content', 'table_name', 'allow_public', 'true');\ngs.log('Finished adding dictionary attribute allow_public for table_name of help_content');\n\nvar gr = new GlideRecord(\"sys_dictionary\");\n\tgr.addActiveQuery();\n\tgr.addQuery(\"name\", \"help_content\");\n\tgr.addQuery(\"element\", \"records\");\n\tgr.query();\n\t\n\tif(gr.next()) {\n\t\tvar internalType = gr.getValue(\"internal_type\");\n\t\tif(internalType != \"glide_list\") {\n\t\t\tgs.log(\"Update internal_type of help_content.records field to glide_list\");\n\t\t\tgr.setValue(\"internal_type\", \"glide_list\");\n\t\t\tgr.update();\n\t\t}\n\t}\n","sys_class_name":"sys_script_fix","sys_id":"cac2807753c50110f54fddeeff7b1206","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/562ba37304352210559073c06a02f751","value":"562ba37304352210559073c06a02f751"},"sys_update_name":"sys_script_fix_cac2807753c50110f54fddeeff7b1206","sys_updated_by":"admin","sys_created_on":"2022-01-21 04:43:49","name":"Add allow_public attribute to table_name","sys_name":"Add allow_public attribute to table_name","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"8","description":"Allow all scopes to access the \"Default SLA workflow\"","sys_updated_on":"2017-03-10 10:57:03","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tvar defaultSLAWorkflowID = \"4b6570360a0a0b3000bbacab877713f2\";\n\t\n\tvar wfWorkflowGr = new GlideRecord(\"wf_workflow\");\n\tif (!wfWorkflowGr.get(defaultSLAWorkflowID)) {\n\t\tgs.warn(\"Fix job \\\"All scope access to Default SLA workflow\\\" failed to find the workflow record\");\n\t\treturn;\n\t}\n\t\n\twfWorkflowGr.setValue(\"access\", \"public\");\n\tif (wfWorkflowGr.update())\n\t\tgs.log(\"Fix job \\\"All scope access to Default SLA workflow\\\" updated workflow \\\"\" +\n\t\t\t   wfWorkflowGr.getDisplayValue() + \"\\\" to be accessible from all scopes\");\n\telse\n\t\tgs.warn(\"Fix job \\\"All scope access to Default SLA workflow\\\" failed to update workflow \\\"\" +\n\t\t\t    wfWorkflowGr.getDisplayValue() + \"\\\" so that it is accessible from all scopes\");\n})();","sys_class_name":"sys_script_fix","sys_id":"cb1a0993eb1132001b44666cd206fe83","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d19e7b704f12210559073c06a02f7da","value":"5d19e7b704f12210559073c06a02f7da"},"sys_update_name":"sys_script_fix_cb1a0993eb1132001b44666cd206fe83","sys_updated_by":"admin","sys_created_on":"2017-03-09 17:15:36","name":"All scope access to Default SLA workflow","sys_name":"All scope access to Default SLA workflow","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"5","description":"Check if existing classic app is already being used; in that case turn on  (set to true) classic app flag .i.e. glide.ui.m.allow_classic_mobile_app; otherwise set it to false","sys_updated_on":"2020-06-04 16:11:28","sys_tags":"","record_for_rollback":"false","script":"gs.log(\"running fix script to determine classic app prior usage\");\nif (!pm.isZboot() && isClassicAppOAuthSafeToUpgrade()) {\n    var classicAppUser = isClassicAppUser();\n    gs.log(\"upgraded instance found; found glide.ui.m.allow_classic_mobile_app=\" + classicAppUser);\n    updateClassicApp(classicAppUser);\n}\n\n//update classic app status based on prior usage\nfunction updateClassicApp(classicAppUser) {\n    updateClassicAppProperty(classicAppUser);\n    updateClassicOAuth(classicAppUser);\n}\n\n//update property value based on prior usage\nfunction updateClassicAppProperty(classicAppUser) {\n    gs.setProperty(\"glide.ui.m.allow_classic_mobile_app\", classicAppUser);\n}\n\n//if user has beforehand disable classic app, don't enable it\nfunction isClassicAppOAuthSafeToUpgrade() {\n    var oAuthEntityGR = new GlideRecord('oauth_entity');\n    oAuthEntityGR.get(\"be57bb02533102006b0fc91a8dc5877c\");\n    return sn_collision.CollisionAPI.willBeReplacedOnUpgrade(oAuthEntityGR);\n}\n\n//update OAuth glide record for ServiceNow Classic Mobile App\nfunction updateClassicOAuth(classicAppUser) {\n    var oAuthEntityGR = new GlideRecord('oauth_entity');\n    oAuthEntityGR.get(\"be57bb02533102006b0fc91a8dc5877c\");\n    if (classicAppUser == true) {\n        oAuthEntityGR.setValue('active', 1);\n    } else {\n        expireClassicAppTokens();\n        expirePushRegistrations();\n        oAuthEntityGR.setValue('active', 0);\n    }\n    oAuthEntityGR.update();\n}\n\n//expire register app tokens - to force logout users\nfunction expireClassicAppTokens() {\n    var oAuthGR = new GlideRecord('oauth_credential');\n    oAuthGR.addQuery(\"peer\", \"be57bb02533102006b0fc91a8dc5877c\");\n    oAuthGR.query();\n    var expires = new GlideDateTime();\n    while (oAuthGR.next()) {\n        oAuthGR.setValue('expires', expires);\n        oAuthGR.update();\n    }\n}\n\n//un-register push notification for classic app\nfunction expirePushRegistrations() {\n    var pushNotifGR = new GlideRecord('sys_push_notif_app_install');\n    pushNotifGR.addQuery(\"sys_push_application_id\", \"ab704041ff1102009738ffffffffff33\");\n    pushNotifGR.addQuery(\"active\", 1);\n    pushNotifGR.query();\n    while (pushNotifGR.next()) {\n        pushNotifGR.setValue('active', 0);\n        pushNotifGR.update();\n    }\n}\n\nfunction isClassicAppUser() {\n    var mobileDevicesExists = false;\n    var mobileDevicesGR = new GlideRecord('sys_mobile_devices');\n    if (mobileDevicesGR.isValid()) {\n        mobileDevicesGR.addQuery('app_id', 'IN', 'com.servicenow.servicenow,com.servicenow.servicenow-internal');\n        mobileDevicesGR.query();\n        mobileDevicesExists = mobileDevicesGR.hasNext();\n    } else {\n        mobileDevicesExists = false;\n    }\n    return mobileDevicesExists;\n}","sys_class_name":"sys_script_fix","sys_id":"cb5ff909c3081010ce53bb62ef40ddf7","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/54242b3b04312210559073c06a02f7b3","value":"54242b3b04312210559073c06a02f7b3"},"sys_update_name":"sys_script_fix_cb5ff909c3081010ce53bb62ef40ddf7","sys_updated_by":"admin","sys_created_on":"2020-04-06 19:00:49","name":"Update classic app based on prior usage","sys_name":"Update classic app based on prior usage","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"Updates topics categorized as Small talk or Setup with Topic Types","sys_updated_on":"2020-10-07 22:49:12","sys_tags":"","record_for_rollback":"false","script":"function updateTopicType(table) {\n    var SETUP_TOPIC_CATEGORY = '5628e7f27373230025d032e954f6a7de';\n    var SMALL_TALK_CATEGORY = '23242db273603300c1dc32e954f6a79f';\n    var SETUP_TOPIC_TYPE = 'SETUP_TOPIC';\n    var SMALL_TALK_TYPE = 'SMALL_TALK';\n    var gr = new GlideRecord(table);\n    gr.query();\n    while (gr.next()) {\n        if (gr.type == 'STANDARD' || gr.type == '' && !gr.library) {\n            if (gr.category == SETUP_TOPIC_CATEGORY) {\n                gr.type = SETUP_TOPIC_TYPE;\n                gr.category = '';\n            }\n            if (gr.category == SMALL_TALK_CATEGORY) {\n                gr.type = SMALL_TALK_TYPE;\n                gr.flexible_conversation_switching = true;\n                gr.category = '';\n            }\n            if (gr.design_category == SMALL_TALK_CATEGORY) {\n                gr.type = SMALL_TALK_TYPE;\n                gr.flexible_conversation_switching = true;\n                gr.design_category = '';\n                removeDesignCategoryFromDefinition(gr);\n                updateLastPublishedOn(gr);\n            }\n            if (gr.design_category == SETUP_TOPIC_CATEGORY) {\n                gr.type = SETUP_TOPIC_TYPE;\n                gr.design_category = '';\n                removeDesignCategoryFromDefinition(gr);\n                updateLastPublishedOn(gr);\n            }\n            gr.update();\n        }\n        // remove \"Setup Topic\" category on topic blocks\n        else if (gr.library) {\n            if (gr.category == SETUP_TOPIC_CATEGORY) {\n                gr.category = '';\n            }\n            if (gr.design_category == SETUP_TOPIC_CATEGORY) {\n                gr.design_category = '';\n                removeDesignCategoryFromDefinition(gr);\n                updateLastPublishedOn(gr);\n            }\n            gr.update();\n        }\n    }\n}\n\nfunction removeDesignCategoryFromDefinition(gr) {\n    var definition = JSON.parse(gr.definition);\n    definition.design_category = '';\n    gr.definition = JSON.stringify(definition);\n}\n\nfunction updateLastPublishedOn(gr) {\n    if (isPublished(gr)) {\n        var publishTime = new GlideDateTime(gs.nowDateTime());\n        publishTime.addSeconds(60);\n        // this fixes the issue where the topic appears as \"Draft\"\n        gr.last_published_on = publishTime.getValue();\n    }\n}\n\nfunction isPublished(cs_topic) {\n    if (cs_topic.published) {\n        var cb_topic = new GlideRecord('sys_cb_topic');\n        cb_topic.addQuery('sys_id', cs_topic.cb_topic_id);\n        cb_topic.query();\n\n        if (cb_topic.next()) {\n            return new GlideDateTime(cs_topic.last_published_on) >= new GlideDateTime(cb_topic.sys_updated_on);\n        }\n    }\n    return false;\n}\n\n// migrate sys_cs_topic first so sys_updated_on is not updated before comparing it to last_published_on\nupdateTopicType('sys_cs_topic');\nupdateTopicType('sys_cb_topic');\n","sys_class_name":"sys_script_fix","sys_id":"cb90ab715ba21010d033d82d9681c7b2","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_cb90ab715ba21010d033d82d9681c7b2","sys_updated_by":"admin","sys_created_on":"2020-08-11 16:39:32","name":"Update Small Talk and Setup Topic Types","sys_name":"Update Small Talk and Setup Topic Types","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"For Service portal search, this script enables Suggestions for Zboot instances and Typeahead for upgrade instances","sys_updated_on":"2020-09-18 10:30:00","sys_tags":"","record_for_rollback":"false","script":"fixSPSearchAsYouTypeProperty();\n\nfunction fixSPSearchAsYouTypeProperty () {\n\tif (pm.isZboot())\n\t\treturn; // value already correct OOB\n\n\tvar propertyGR = new GlideRecord(\"sys_properties\");\n\tif (!propertyGR.get(\"name\", \"glide.service_portal.search_as_you_type_behavior\"))\n\t\treturn; // no record found, nothing to do\n\n\t// Change from OOB \"suggestions\" to \"typeahead\" for upgrades to avoid changing existing instance behavior.\n\t// A \"before\" glidefix has already written out an update for upgrades that already had the property.\n\tpropertyGR.setValue('value', 'typeahead');\n\n\t// turn workflow on so an update is written out to prevent future regression\n\tvar wf = gs.getSession().setWorkflow(true);\n\tpropertyGR.update();\n\tgs.getSession().setWorkflow(wf);\n}","sys_class_name":"sys_script_fix","sys_id":"ccbb2ba457e30010a9ad48e1a9552919","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/69996b7b04f12210559073c06a02f7e2","value":"69996b7b04f12210559073c06a02f7e2"},"sys_update_name":"sys_script_fix_ccbb2ba457e30010a9ad48e1a9552919","sys_updated_by":"admin","sys_created_on":"2020-03-11 10:30:00","name":"Suggestions/Typeahead for ServicePortal","sys_name":"Suggestions/Typeahead for ServicePortal","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"","sys_updated_on":"2019-02-15 14:35:43","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tvar changeSocUtil = new global.ChangeSoCUtil();\n\tchangeSocUtil.updateLegacyChangeScheduleModule(true);\n\tchangeSocUtil.migrateChangeSchedule(true);\n})();","sys_class_name":"sys_script_fix","sys_id":"cd4b848fc3301300b6dcdfdc64d3aeb7","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_update_name":"sys_script_fix_cd4b848fc3301300b6dcdfdc64d3aeb7","sys_updated_by":"admin","sys_created_on":"2018-03-16 13:48:06","name":"Migrate Legacy Change Schedules","sys_name":"Migrate Legacy Change Schedules","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"6","description":"Add missing Model Category OOB data with empty Asset Class, only if a Model Category for CI Class doesn't already exist","sys_updated_on":"2019-04-26 00:05:36","sys_tags":"","record_for_rollback":"false","script":"fixRecordsInModelCategory();\n\nfunction fixRecordsInModelCategory() {\n\tvar gr = new GlideRecord('cmdb_model_category');\n\tvar modelCategoryObj = getModelCategoryObj();\n\tfor (var sysId in modelCategoryObj) {\n\t\tgr.initialize();\n\t\tgr.get(sysId);\n\t\t\n\t\tvar cmdbCiClass = modelCategoryObj[sysId]['cmdb_ci_class'];\n\t\t\n\t\tif (!gr.isValidRecord() && !gs.nil(cmdbCiClass) && !doesRecordExist(cmdbCiClass)) {\n\t\t\tinsertModelCategoryRecord(sysId, modelCategoryObj[sysId]);\n\t\t}\n\t}\n}\n\nfunction doesRecordExist(cmdbCiClass) {\n\tvar gr = new GlideRecord('cmdb_model_category');\n\tgr.addQuery('cmdb_ci_class', cmdbCiClass);\n\tgr.setLimit(1);\n\tgr.query();\n\treturn gr.hasNext();\n}\n\nfunction insertModelCategoryRecord(sysId, modelCategoryRecordObj) {\n\tvar gr = new GlideRecord('cmdb_model_category');\n\tgr.initialize();\n\tgr.setNewGuidValue(sysId);\n\tfor (var key in modelCategoryRecordObj) {\n\t\tif (key === 'matched') {//'matched' is not column so skip it\n\t\t\tcontinue;\n\t\t}\n\t\tvar val = modelCategoryRecordObj[key];\n\t\tif (val === 'null' || key === 'asset_class') {\n\t\t\tgr.setValue(key, 'NULL');\n\t\t} else {\n\t\t\tgr.setValue(key, val);\n\t\t}\n\t}\n\tgr.insert();\n}\n\nfunction getModelCategoryObj() {\n\tvar modelCategoryObj = {};\n\t\tmodelCategoryObj['0200c954c3031000b959fd251eba8fb9'] = {\n\t\t\t'name':'Zones',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'alm_asset',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_vm_zones',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['04e9f054c3031000b959fd251eba8f2f'] = {\n\t\t\t'name':'ESX Resource Pool',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_esx_resource_pool',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['06d6fc14c3031000b959fd251eba8fc9'] = {\n\t\t\t'name':'Data Center Zone',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_zone',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['0afc3890c3031000b959fd251eba8f8b'] = {\n\t\t\t'name':'Linux Server',\n\t\t\t'allow_as_master':'1',\n\t\t\t'allow_in_bundle':'1',\n\t\t\t'allow_pre_allocation':'1',\n\t\t\t'asset_class':'alm_hardware',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_linux_server',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['0dfe3890c3031000b959fd251eba8f5c'] = {\n\t\t\t'name':'Sybase Catalog',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_db_syb_catalog',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['18eaf054c3031000b959fd251eba8f9c'] = {\n\t\t\t'name':'Hardware',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'1',\n\t\t\t'allow_pre_allocation':'1',\n\t\t\t'asset_class':'alm_hardware',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_hardware',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['18fdf454c3031000b959fd251eba8fc8'] = {\n\t\t\t'name':'Oracle Catalog',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_db_ora_catalog',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['1beb7454c3031000b959fd251eba8f82'] = {\n\t\t\t'name':'JBoss',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_app_server_jboss',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['218323293743100044e0bfc8bcbe5d61'] = {\n\t\t\t'name':'Consumable',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'1',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'alm_consumable',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'null',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['21e9f054c3031000b959fd251eba8f03'] = {\n\t\t\t'name':'Email Server',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_email_server',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['23ff7854c3031000b959fd251eba8fe7'] = {\n\t\t\t'name':'Tomcat Connector',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_tomcat_connector',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['2dd5bc14c3031000b959fd251eba8f32'] = {\n\t\t\t'name':'Business Process',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_business_process',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['32eb7454c3031000b959fd251eba8f35'] = {\n\t\t\t'name':'IP Server',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_ip_server',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['35bf2d4137101000deeabfc8bcbe5dbd'] = {\n\t\t\t'name':'Software License',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'alm_license',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'null',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['37d57c14c3031000b959fd251eba8fad'] = {\n\t\t\t'name':'Application',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_appl',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['3dfe3854c3031000b959fd251eba8f42'] = {\n\t\t\t'name':'Printer',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'1',\n\t\t\t'allow_pre_allocation':'1',\n\t\t\t'asset_class':'alm_hardware',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_printer',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['42fe3854c3031000b959fd251eba8f76'] = {\n\t\t\t'name':'Router Interface',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'dscy_router_interface',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['43eaf054c3031000b959fd251eba8f82'] = {\n\t\t\t'name':'FTP Server',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_ftp_server',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['46fdb814c3031000b959fd251eba8f5e'] = {\n\t\t\t'name':'Next Hop Routing Rule',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'dscy_route_next_hop',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['4dfe7854c3031000b959fd251eba8f73'] = {\n\t\t\t'name':'Switch Port',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'dscy_switchport',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['4dffb854c3031000b959fd251eba8f36'] = {\n\t\t\t'name':'UPS Input',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_ups_input',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['51fdf454c3031000b959fd251eba8fd4'] = {\n\t\t\t'name':'Oracle Instance',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_db_ora_instance',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['53e9b054c3031000b959fd251eba8ffc'] = {\n\t\t\t'name':'Domino',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_app_server_domino',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['55d57c14c3031000b959fd251eba8fa6'] = {\n\t\t\t'name':'AIX Server',\n\t\t\t'allow_as_master':'1',\n\t\t\t'allow_in_bundle':'1',\n\t\t\t'allow_pre_allocation':'1',\n\t\t\t'asset_class':'alm_hardware',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_aix_server',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['57d5bc14c3031000b959fd251eba8fd7'] = {\n\t\t\t'name':'Computer Peripheral',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'1',\n\t\t\t'allow_pre_allocation':'1',\n\t\t\t'asset_class':'alm_hardware',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_peripheral',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['58fdb454c3031000b959fd251eba8ff0'] = {\n\t\t\t'name':'Network Adapter',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_network_adapter',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['5fea3454c3031000b959fd251eba8f3d'] = {\n\t\t\t'name':'IP Device',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_ip_device',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['5ffcb454c3031000b959fd251eba8f82'] = {\n\t\t\t'name':'Microsoft SQL Catalog',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_db_mssql_catalog',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['5ffe7854c3031000b959fd251eba8f4c'] = {\n\t\t\t'name':'Switch Forwarding Rule',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'dscy_swtch_fwd_rule',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['60eaf054c3031000b959fd251eba8fe3'] = {\n\t\t\t'name':'IBM Websphere',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_app_server_websphere',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['65eaf054c3031000b959fd251eba8f42'] = {\n\t\t\t'name':'Exit Interface Routing Rule',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'dscy_route_interface',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['6800c954c3031000b959fd251eba8f85'] = {\n\t\t\t'name':'Windows Service',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_windows_service',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['68d5f814c3031000b959fd251eba8f0f'] = {\n\t\t\t'name':'Cluster',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_cluster',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['69d57c14c3031000b959fd251eba8fc7'] = {\n\t\t\t'name':'Application Software',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_application_software',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['69fdf454c3031000b959fd251eba8fc1'] = {\n\t\t\t'name':'NFS File System',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_file_system_nfs',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['6ae9b054c3031000b959fd251eba8fe1'] = {\n\t\t\t'name':'Disk',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_disk',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['6ffd3854c3031000b959fd251eba8f3b'] = {\n\t\t\t'name':'Print Queue',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_print_queue',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['6ffdf454c3031000b959fd251eba8ffa'] = {\n\t\t\t'name':'Outlet',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_pdu_outlet',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['73d479803713100044e0bfc8bcbe5d79'] = {\n\t\t\t'name':'Monitor',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'1',\n\t\t\t'allow_pre_allocation':'1',\n\t\t\t'asset_class':'alm_hardware',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'null',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['7900c954c3031000b959fd251eba8f7e'] = {\n\t\t\t'name':'Windows Server',\n\t\t\t'allow_as_master':'1',\n\t\t\t'allow_in_bundle':'1',\n\t\t\t'allow_pre_allocation':'1',\n\t\t\t'asset_class':'alm_hardware',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_win_server',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['7a00c954c3031000b959fd251eba8f77'] = {\n\t\t\t'name':'Windows Cluster Resource',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_win_cluster_resource',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['7ad6fc14c3031000b959fd251eba8f90'] = {\n\t\t\t'name':'Data Center',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_datacenter',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['7efe7854c3031000b959fd251eba8f53'] = {\n\t\t\t'name':'Switch Partition',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'dscy_swtch_partition',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['7feb7454c3031000b959fd251eba8fb4'] = {\n\t\t\t'name':'LDAP Service',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_infra_service_ldap',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['80d6fc14c3031000b959fd251eba8fd7'] = {\n\t\t\t'name':'Database Catalog',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_db_catalog',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['80ffb854c3031000b959fd251eba8f15'] = {\n\t\t\t'name':'UPS',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'1',\n\t\t\t'allow_pre_allocation':'1',\n\t\t\t'asset_class':'alm_hardware',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_ups',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['81feb9c137101000deeabfc8bcbe5dc4'] = {\n\t\t\t'name':'Computer',\n\t\t\t'allow_as_master':'1',\n\t\t\t'allow_in_bundle':'1',\n\t\t\t'allow_pre_allocation':'1',\n\t\t\t'asset_class':'alm_hardware',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_computer',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['82ff7854c3031000b959fd251eba8fee'] = {\n\t\t\t'name':'UNIX Daemon',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_unix_daemon',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['82ffb854c3031000b959fd251eba8f1c'] = {\n\t\t\t'name':'UPS Alarm',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_ups_alarm',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['84ffb854c3031000b959fd251eba8fe8'] = {\n\t\t\t'name':'Web Server',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_web_server',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['85ffb854c3031000b959fd251eba8fe1'] = {\n\t\t\t'name':'Web Application',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_web_application',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['88d6fc14c3031000b959fd251eba8f89'] = {\n\t\t\t'name':'Computer Room AC',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'alm_asset',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_crac',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['88ffb854c3031000b959fd251eba8f93'] = {\n\t\t\t'name':'Virtual Machine Instance',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_vm_instance',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['89d5f814c3031000b959fd251eba8f08'] = {\n\t\t\t'name':'Circuit',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_circuit',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['8cd5bc14c3031000b959fd251eba8fbc'] = {\n\t\t\t'name':'Cluster Virtual IP',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_cluster_vip',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['8cfdf454c3031000b959fd251eba8ff3'] = {\n\t\t\t'name':'OS/X Server',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'alm_hardware',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_osx_server',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['8ffdf454c3031000b959fd251eba8f1c'] = {\n\t\t\t'name':'Network Gear',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'1',\n\t\t\t'allow_pre_allocation':'1',\n\t\t\t'asset_class':'alm_hardware',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_netgear',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['90eaf054c3031000b959fd251eba8f7b'] = {\n\t\t\t'name':'File System',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_file_system',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['90fe3854c3031000b959fd251eba8f6f'] = {\n\t\t\t'name':'Rack',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'alm_hardware',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_rack',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['91ff7854c3031000b959fd251eba8fe0'] = {\n\t\t\t'name':'Tomcat',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_app_server_tomcat',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['92fe7854c3031000b959fd251eba8fd9'] = {\n\t\t\t'name':'Sybase Instance',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_db_syb_instance',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['94028b6a1b5310002502fbcd2c071315'] = {\n\t\t\t'name':'Bundle',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'1',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'1',\n\t\t\t'cmdb_ci_class':'null',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['96ffb854c3031000b959fd251eba8fef'] = {\n\t\t\t'name':'Web Service',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_web_service',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['98b44470d7311100158ba6859e610353'] = {\n\t\t\t'name':'Work Task',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'null',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['996b568ec3102000b959fd251eba8f19'] = {\n\t\t\t'name':'Contract',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'null',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['9bffb854c3031000b959fd251eba8f9a'] = {\n\t\t\t'name':'Virtual Private Network',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_vpn',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['9bfff054c3031000b959fd251eba8ff9'] = {\n\t\t\t'name':'Virtual Machine',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_vm',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['9cfcb454c3031000b959fd251eba8f7b'] = {\n\t\t\t'name':'Memory Module',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_memory_module',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['9dea3454c3031000b959fd251eba8f36'] = {\n\t\t\t'name':'IP Address',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_ip_address',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['9f00c954c3031000b959fd251eba8fb1'] = {\n\t\t\t'name':'Wire',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'dscy_net_wire',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['a0d5bc14c3031000b959fd251eba8f0d'] = {\n\t\t\t'name':'BEA Weblogic',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_app_server_weblogic',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['a1d5bc14c3031000b959fd251eba8f5f'] = {\n\t\t\t'name':'Business Service',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_service',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['a4d6fc14c3031000b959fd251eba8fee'] = {\n\t\t\t'name':'Database Instance',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_db_instance',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['a5d63890c3031000b959fd251eba8f75'] = {\n\t\t\t'name':'Computer Room',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_computer_room',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['a5ffb854c3031000b959fd251eba8fda'] = {\n\t\t\t'name':'VMware vCenter Instance',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_vcenter',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['a800c954c3031000b959fd251eba8f70'] = {\n\t\t\t'name':'Windows Cluster Node',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_win_cluster_node',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['a9fdb454c3031000b959fd251eba8fe9'] = {\n\t\t\t'name':'Netware Server',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'alm_hardware',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_netware_server',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['aad57c14c3031000b959fd251eba8fc0'] = {\n\t\t\t'name':'Application Server',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_app_server',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['aafcb454c3031000b959fd251eba8f96'] = {\n\t\t\t'name':'Microsoft SQL Instance',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_db_mssql_instance',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['abfd3854c3031000b959fd251eba8f08'] = {\n\t\t\t'name':'Patch',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_patches',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['adea3454c3031000b959fd251eba8f44'] = {\n\t\t\t'name':'IP Network',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_ip_network',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['ae963be4d7311100158ba6859e61030a'] = {\n\t\t\t'name':'Work Order',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'null',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['b1eaf054c3031000b959fd251eba8fdc'] = {\n\t\t\t'name':'IBM Mainframe',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'alm_hardware',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_mainframe',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['b1fdf454c3031000b959fd251eba8fcd'] = {\n\t\t\t'name':'Oracle Database Listener',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_db_ora_listener',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['b1ff7854c3031000b959fd251eba8ff5'] = {\n\t\t\t'name':'UNIX Server',\n\t\t\t'allow_as_master':'1',\n\t\t\t'allow_in_bundle':'1',\n\t\t\t'allow_pre_allocation':'1',\n\t\t\t'asset_class':'alm_hardware',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_unix_server',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['b2d5bc14c3031000b959fd251eba8f96'] = {\n\t\t\t'name':'Cluster Node',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_cluster_node',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['b7d5bc14c3031000b959fd251eba8fd0'] = {\n\t\t\t'name':'Communication Device',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_comm',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['b9eb7414c3031000b959fd251eba8fe5'] = {\n\t\t\t'name':'IP Phone',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'1',\n\t\t\t'allow_pre_allocation':'1',\n\t\t\t'asset_class':'alm_hardware',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_ip_phone',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['bbe9b054c3031000b959fd251eba8fda'] = {\n\t\t\t'name':'Directory Server',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_directory_server',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['bbfe3854c3031000b959fd251eba8ff2'] = {\n\t\t\t'name':'SNC Component',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_snc_component',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['bceb7454c3031000b959fd251eba8f42'] = {\n\t\t\t'name':'IP Switch',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'1',\n\t\t\t'asset_class':'alm_hardware',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_ip_switch',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['c4d4fe4937101000deeabfc8bcbe5d91'] = {\n\t\t\t'name':'Server',\n\t\t\t'allow_as_master':'1',\n\t\t\t'allow_in_bundle':'1',\n\t\t\t'allow_pre_allocation':'1',\n\t\t\t'asset_class':'alm_hardware',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_server',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['c5e93890c3031000b959fd251eba8f7d'] = {\n\t\t\t'name':'Desktop Software',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_desktop_software',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['c6eaf054c3031000b959fd251eba8f95'] = {\n\t\t\t'name':'Group',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_group',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['c7d6fc14c3031000b959fd251eba8ff5'] = {\n\t\t\t'name':'DB2 Catalog',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_db_db2_catalog',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['c7fcb454c3031000b959fd251eba8f9d'] = {\n\t\t\t'name':'MySQL Catalog',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_db_mysql_catalog',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['c8eb7454c3031000b959fd251eba8f62'] = {\n\t\t\t'name':'Java Server',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_app_server_java',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['c8ffb854c3031000b959fd251eba8f2f'] = {\n\t\t\t'name':'UPS Bypass',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_ups_bypass',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['c9d5bc50c3031000b959fd251eba8fbc'] = {\n\t\t\t'name':'Accessory',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_acc',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['cceb7454c3031000b959fd251eba8f2d'] = {\n\t\t\t'name':'IP Router',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'1',\n\t\t\t'allow_pre_allocation':'1',\n\t\t\t'asset_class':'alm_hardware',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_ip_router',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['cdfe7854c3031000b959fd251eba8f25'] = {\n\t\t\t'name':'Solaris Server',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'alm_hardware',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_solaris_server',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['ceeab490c3031000b959fd251eba8f52'] = {\n\t\t\t'name':'Infrastructure Software',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_inf_software',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['d1d6fc14c3031000b959fd251eba8fd0'] = {\n\t\t\t'name':'Database',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_database',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['d4fe3854c3031000b959fd251eba8f89'] = {\n\t\t\t'name':'SMB File System',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_file_system_smb',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['d5fd3854c3031000b959fd251eba8f28'] = {\n\t\t\t'name':'PDU',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'alm_hardware',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_pdu',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['d7eaf054c3031000b959fd251eba8fa3'] = {\n\t\t\t'name':'HPUX Server',\n\t\t\t'allow_as_master':'1',\n\t\t\t'allow_in_bundle':'1',\n\t\t\t'allow_pre_allocation':'1',\n\t\t\t'asset_class':'alm_hardware',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_hpux_server',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['d9fd3854c3031000b959fd251eba8f01'] = {\n\t\t\t'name':'Parallels',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_vm_parallels',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['d9fdf454c3031000b959fd251eba8f23'] = {\n\t\t\t'name':'Network Infrastructure Item',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'dscy_net_base',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['dafcb454c3031000b959fd251eba8fe2'] = {\n\t\t\t'name':'MySQL Instance',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_db_mysql_instance',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['dd411ee03734200044e0bfc8bcbe5d50'] = {\n\t\t\t'name':'ESX Server',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'alm_hardware',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_esx_server',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['ddd5bc14c3031000b959fd251eba8fb5'] = {\n\t\t\t'name':'Cluster Resource',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_cluster_resource',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['ddeb7454c3031000b959fd251eba8f3b'] = {\n\t\t\t'name':'IP Service Instance',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_ip_service',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['df7c5918c3031000b959fd251eba8fa5'] = {\n\t\t\t'name':'IBM Mainframe LPAR',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'alm_hardware',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_mainframe_lpar',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['dffe7854c3031000b959fd251eba8f2c'] = {\n\t\t\t'name':'Storage Device',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'1',\n\t\t\t'allow_pre_allocation':'1',\n\t\t\t'asset_class':'alm_hardware',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_msd',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['e0fdf454c3031000b959fd251eba8f37'] = {\n\t\t\t'name':'Network Traffic',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_net_traffic',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['e1008d14c3031000b959fd251eba8f18'] = {\n\t\t\t'name':'Web Site',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_web_site',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['e200c954c3031000b959fd251eba8f5d'] = {\n\t\t\t'name':'Windows Cluster',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_win_cluster',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['e3008d14c3031000b959fd251eba8f1f'] = {\n\t\t\t'name':'Websphere Cell',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_websphere_cell',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['e3eaf054c3031000b959fd251eba8f33'] = {\n\t\t\t'name':'Infrastructure Service',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_infra_service',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['e3ffb854c3031000b959fd251eba8f4a'] = {\n\t\t\t'name':'UPS Output',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_ups_output',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['ece9b054c3031000b959fd251eba8ff4'] = {\n\t\t\t'name':'DNS Name',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_dns_name',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['eefe7854c3031000b959fd251eba8f1e'] = {\n\t\t\t'name':'Software',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_spkg',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['eeffb854c3031000b959fd251eba8fc6'] = {\n\t\t\t'name':'VMware',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_vm_vmware',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\tmodelCategoryObj['f9d63054c3031000b959fd251eba8f21'] = {\n\t\t\t'name':'DB2 Instance',\n\t\t\t'allow_as_master':'0',\n\t\t\t'allow_in_bundle':'0',\n\t\t\t'allow_pre_allocation':'0',\n\t\t\t'asset_class':'null',\n\t\t\t'bundle':'0',\n\t\t\t'cmdb_ci_class':'cmdb_ci_db_db2_instance',\n\t\t\t'enforce_verification':'0',\n\t\t\t'matched':false\n\t\t};\n\t\t\n\t\treturn modelCategoryObj;\n\t}","sys_class_name":"sys_script_fix","sys_id":"ce1e13f953b023009961ddeeff7b1262","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e325237304712210559073c06a02f7be","value":"e325237304712210559073c06a02f7be"},"sys_update_name":"sys_script_fix_ce1e13f953b023009961ddeeff7b1262","sys_updated_by":"admin","sys_created_on":"2018-09-28 04:20:39","name":"Fix records in Model Category","sys_name":"Fix records in Model Category","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Set the SLA reset_action default value to 'complete' to avoid changing the existing behavior on upgraded instances","sys_updated_on":"2017-05-12 13:18:04","sys_tags":"","record_for_rollback":"false","script":"if (!pm.isZboot()) {\n\t// set the default to 'complete' (applicable for new SLA definitions)\n\tvar gr = new GlideRecord('sys_dictionary');\n\tgr.addQuery('name', 'contract_sla');\n\tgr.addQuery('element', 'reset_action');\n\tgr.query();\n\tif (gr.next()){\n\t\tgr.setValue('default_value','complete');\n\t\tgr.update();\n\t}\n\t// updates existing SLA defitions\n\tvar slaGr = new GlideRecord('contract_sla');\n\tslaGr.setValue('reset_action', 'complete');\n\tslaGr.updateMultiple();\n}","sys_class_name":"sys_script_fix","sys_id":"ce6069fb672232006e6eadab9485ef54","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d19e7b704f12210559073c06a02f7da","value":"5d19e7b704f12210559073c06a02f7da"},"sys_update_name":"sys_script_fix_ce6069fb672232006e6eadab9485ef54","sys_updated_by":"admin","sys_created_on":"2017-05-12 13:08:21","name":"Set SLA Reset action default to complete","sys_name":"Set SLA Reset action default to complete","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2022-09-29 06:40:19","sys_tags":"","record_for_rollback":"true","script":"var gr = new GlideRecord('sys_dictionary');\ngr.addQuery('name', 'par_dashboard_widget');\ngr.addQuery('element', 'visualization');\ngr.addNullQuery('reference_cascade_rule');\ngr.query();\nif (gr.next()) {\n\tgr.setValue('reference_cascade_rule', 'none');\n\tgr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"ce6541a0c7121110f376a0736cc260b1","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/143b677304352210559073c06a02f7e2","value":"143b677304352210559073c06a02f7e2"},"sys_update_name":"sys_script_fix_ce6541a0c7121110f376a0736cc260b1","sys_updated_by":"admin","sys_created_on":"2022-09-29 06:40:19","name":"par_dashboard_widget cascade  rule ","sys_name":"par_dashboard_widget cascade  rule ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"0","description":"As part of Security P0 issue, a write audit updated all the empty ACLs in the customer farm. This fix script removes all the write audit updates for affected security center ACLs, so that the upgrades can overwrite those ACLs with the OOB ACLs.","sys_updated_on":"2024-03-06 07:26:53","sys_tags":"","record_for_rollback":"true","script":"var writeAuditOOBACLList = ['c941b97f536310106c4bddeeff7b12de', 'b350bd3f536310106c4bddeeff7b1299', '4301357f536310106c4bddeeff7b1290', '1551f97f536310106c4bddeeff7b12cb'];\n\nempty_acl_fix(writeAuditOOBACLList);\n\nfunction empty_acl_fix(writeAuditOOBACLList) {\n    new global.AccessControlUtils().deleteCustomerUpdatesForAuditedEmptyACLs(writeAuditOOBACLList);\n}","sys_class_name":"sys_script_fix","sys_id":"cea1fb05ff300210243dffffffffff3b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f53f19bac362fa22ca2e93692d32f18f","value":"f53f19bac362fa22ca2e93692d32f18f"},"sys_update_name":"sys_script_fix_cea1fb05ff300210243dffffffffff3b","sys_updated_by":"admin","sys_created_on":"2024-03-06 07:26:53","name":"Decustomize Tb record type acls","sys_name":"Decustomize Tb record type acls","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f53f19bac362fa22ca2e93692d32f18f","value":"f53f19bac362fa22ca2e93692d32f18f"},"sys_created_by":"admin","sys_policy":"read"},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"As part of a new security directive in Y, the platform introduced a new Deny Unless decision typed ACL in addition to regular ACLs which now default to Allow If. Allow Ifs grant access to a resource as long as one of them passes. Whereas Deny Unlesses restrict access as soon as one of them fails. Deny Unlesses also run before Allow Ifs. \r\n\r\nFor new customers we have added new complementary Deny Unlesses for our out of box tables. For upgrading customers we have decided to deactivate the new Deny Unlesses so we don't break any features in case a customer has added custom Allow Ifs to our tables.","sys_updated_on":"2024-10-16 22:34:26","sys_tags":"","record_for_rollback":"true","script":"var tables = [\n    'sys_pd_activity_type',\n    'sys_playbook_activity_renderer',\n    'sys_playbook_experience',\n    'sys_playbook_experience_action_assignment_map',\n    'sys_playbook_experience_activity_ui',\n    'sys_playbook_experience_configuration',\n    'sys_playbook_experience_record_generator',\n    'sys_playbook_experience_state_to_status',\n    'sys_playbook_experience_status_mapping',\n    'sys_playbook_experience_status_to_state'\n];\nfunction deactivate() {\n    if (!isAPIPresent() || !isSystemReady())\n        return;\n    var denyACLIds = getDenyACLs();\n    var batchId = gs.generateGUID();\n    gs.info(\n        'BatchId [' + batchId + ']. \\n' +\n        'Playbook Experience deactivate Deny Unless ACLs on upgrade. \\n' +\n        'Attempting to deactivate [' + denyACLIds.join(',') + '].'\n    );\n    var skippedIds = [];\n    try {\n        var api = getAPI();\n        skippedIds =\n            new api().deactivateACLsAndFiltersOnUpgrade(denyACLIds);\n    } catch (err) {\n        gs.info(\n            'BatchId [' + batchId + ']. \\n' +\n            'Exception occurred while attempting to deactivate Deny Unless ACLs on upgrade. \\n' +\n            'Error is [' + err + ']. \\n'\n        );\n        return;\n    }\n    gs.info(\n        'BatchId [' + batchId + ']. \\n' +\n        'Finished deactivating Deny Unless ACLs on upgrade. \\n' +\n        'ACLs skipped [' + skippedIds.join(',') + '].'\n    );\n}\nfunction isAPIPresent() {\n    try {\n        return !!getAPI();\n    } catch (err) {\n        return false;\n    }\n}\nfunction getAPI() {\n    try {\n        return sn_data_filter.SlowRolloutUpgradeHelperAPI ||\n            sn_security_upgrade_utils.SlowRolloutUpgradeHelperAPI;\n    } catch (err) {\n        return undefined;\n    }\n}\nfunction isSystemReady() {\n    return !GlidePluginManager.isZboot() &&\n        GlidePluginManager.isUpgradeSystemBusy();\n}\nfunction getDenyACLs() {\n    var gr = new GlideRecord('sys_security_acl');\n    gr.addQuery('name', 'IN', tables.join(','));\n    gr.addQuery('decision_type', 'deny');\n    gr.addActiveQuery();\n    gr.query();\n    var ids = [];\n    while (gr.next()) {\n        ids.push(gr.getUniqueValue());\n    }\n    return ids;\n}\ndeactivate();","sys_class_name":"sys_script_fix","sys_id":"cf062c65a3111210b5911aaaf31e61cf","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/055e23f304752210559073c06a02f753","value":"055e23f304752210559073c06a02f753"},"sys_update_name":"sys_script_fix_cf062c65a3111210b5911aaaf31e61cf","sys_updated_by":"admin","sys_created_on":"2024-10-16 22:34:26","name":"[PB] Deactivate deny unless on upgrade","sys_name":"[PB] Deactivate deny unless on upgrade","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":"read"},{"before":"false","unloadable":"true","sys_mod_count":"6","description":"Fix script to create bot properties and db image files","sys_updated_on":"2022-05-03 18:41:10","sys_tags":"","record_for_rollback":"true","script":"createAssociativeFiles();\n\nfunction createAssociativeFiles() {\n    gs.info('Running Fix script for creating slack bot records');\n    var slackBotConfig = new SlackBotConfig();\n    slackBotConfig.createRecords();\n}","sys_class_name":"sys_script_fix","sys_id":"cf0da7231bb60110382c43b8b04bcb3d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9cc37b3704b52210559073c06a02f781","value":"9cc37b3704b52210559073c06a02f781"},"sys_update_name":"sys_script_fix_cf0da7231bb60110382c43b8b04bcb3d","sys_updated_by":"admin","sys_created_on":"2022-04-18 02:50:37","name":"Slack-Create Associate Files","sys_name":"Slack-Create Associate Files","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"akhil.parashara@snc","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"This script set property 'no_bulk_migration' to true for PA Core UI dashboards - Asset Overview, My Assets, Asset Contract Overview.","sys_updated_on":"2024-03-21 07:03:48","sys_tags":"","record_for_rollback":"true","script":"var paDashboardSysIds = ['fa5fe3e1773130107384c087cc5a99d5'/* Asset Overview */, '2bbf2161770230107384c087cc5a9924'/* My Assets */, '68ee1f30770230107384c087cc5a992e'/* Asset Contract Overview */];\nvar paDashboardsRecord = new GlideRecord('pa_dashboards');\npaDashboardsRecord.addQuery('sys_id', 'IN', paDashboardSysIds);\npaDashboardsRecord.query();\nwhile (paDashboardsRecord.next()) {\n\tpaDashboardsRecord.no_bulk_migration = true;\n\tpaDashboardsRecord.update();\n}\n","sys_class_name":"sys_script_fix","sys_id":"cf28740e7705421033d370607b5a992f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2b1e23b304752210559073c06a02f7ca","value":"2b1e23b304752210559073c06a02f7ca"},"sys_update_name":"sys_script_fix_cf28740e7705421033d370607b5a992f","sys_updated_by":"admin","sys_created_on":"2024-03-21 07:03:48","name":"ITAM:PA Dashboards disable auto migrate","sys_name":"ITAM:PA Dashboards disable auto migrate","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Fixing questionable language for sys_choices used int pa_dimensions, Element=security_type","sys_updated_on":"2020-08-31 09:25:29","sys_tags":"","record_for_rollback":"false","script":"// Get all targeted sys_choice entries\nvar choiceValues = new GlideRecord(\"sys_choice\");\nchoiceValues.addQuery(\"value\", \"1\");  // <---- Underlying choice value\nchoiceValues.addQuery(\"name\", \"pa_dimensions\");\nchoiceValues.addQuery(\"element\", \"security_type\");\nchoiceValues.query();\n\nwhile(choiceValues.next()) {\n    // Identify language for this sys_choice entry\n    var language = choiceValues.language;\n    if (!language) {\n        continue;\n    }\n\n    // Ensure a translation for the affected string exists (unless the language is en)\n    if (language != \"en\") {\n        var translation = new GlideRecord(\"sys_ui_message\");\n        translation.addQuery(\"key\", \"Deny List\"); // <---- Updated\n        translation.addQuery(\"language\", language);\n        translation.setLimit(1);\n        translation.query();\n\n        // Skip if no sys_message translation so we don't replace with the English translation\n        if(!translation.hasNext()) {\n            gs.log(\"No translation exists for Deny list in \" + language);\n            continue;\n        }\n    }\n\n    // DO NOT USE A VARIABLE FOR THE LABEL HERE! STRING PULL AUTOMATION NEEDS THE ACTUAL STRING.\n    choiceValues.label = gs.getMessageLang(\"Deny List\", language);\n    choiceValues.setWorkflow(false);\n    choiceValues.update();\n}\n\nchoiceValues = new GlideRecord(\"sys_choice\");\nchoiceValues.addQuery(\"value\", \"2\");  // <---- Underlying choice value\nchoiceValues.addQuery(\"name\", \"pa_dimensions\");\nchoiceValues.addQuery(\"element\", \"security_type\");\nchoiceValues.query();\n\nwhile(choiceValues.next()) {\n    // Identify language for this sys_choice entry\n    var language = choiceValues.language;\n    if (!language) {\n        continue;\n    }\n\n    // Ensure a translation for the affected string exists (unless the language is en)\n    if (language != \"en\") {\n        var translation = new GlideRecord(\"sys_ui_message\");\n        translation.addQuery(\"key\", \"Allow List\"); // <---- Updated\n        translation.addQuery(\"language\", language);\n        translation.setLimit(1);\n        translation.query();\n\n        // Skip if no sys_message translation so we don't replace with the English translation\n        if(!translation.hasNext()) {\n            gs.log(\"No translation exists for Allow List in \" + language);\n            continue;\n        }\n    }\n\n    // DO NOT USE A VARIABLE FOR THE LABEL HERE! STRING PULL AUTOMATION NEEDS THE ACTUAL STRING.\n    choiceValues.label = gs.getMessageLang(\"Allow List\", language);\n    choiceValues.setWorkflow(false);\n    choiceValues.update();\n}","sys_class_name":"sys_script_fix","sys_id":"cf5bf418b70310101f48c359ee11a9ad","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/eec96fbb04f12210559073c06a02f711","value":"eec96fbb04f12210559073c06a02f711"},"sys_update_name":"sys_script_fix_cf5bf418b70310101f48c359ee11a9ad","sys_updated_by":"admin","sys_created_on":"2020-08-31 09:22:11","name":"PaDimensions-Language-Choices","sys_name":"PaDimensions-Language-Choices","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Change the default value from cmdb_ci to cmdb_ci_service for source field on blackout and maintenance schedules","sys_updated_on":"2018-01-08 14:25:31","sys_tags":"","record_for_rollback":"false","script":"var dictGR = new GlideRecord('sys_dictionary');\ndictGR.addQuery('name', 'cmn_schedule_condition');\ndictGR.addQuery('element', 'applies_to');\ndictGR.query();\n\nif (dictGR.next() && (!dictGR.getValue('default_value'))) {\n\tdictGR.setValue('default_value', 'cmdb_ci_service');\n\tdictGR.update();\n\n\tdictGR = new GlideRecord('sys_dictionary');\n\tdictGR.addQuery('name', 'cmn_schedule_condition');\n\tdictGR.addQuery('element', 'source');\n\tdictGR.query();\n\n\tif (dictGR.next()) {\n\t\tdictGR.setValue('default_value', 'cmdb_ci_service');\n\t\tdictGR.update();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"cf809bd1232303001488dc1756bf6576","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d00ba33304352210559073c06a02f77e","value":"d00ba33304352210559073c06a02f77e"},"sys_update_name":"sys_script_fix_cf809bd1232303001488dc1756bf6576","sys_updated_by":"admin","sys_created_on":"2018-01-08 14:24:08","name":"Change Default Value of Source ","sys_name":"Change Default Value of Source ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"18","description":"Dynamically schedules a job that willasynchronouslyattempt to populate the source_instance_id field with the current instance's sys_id on KMF instance keys that can be unwrapped and have an empty source_instance_id .","sys_updated_on":"2023-07-27 21:12:59","sys_tags":"","record_for_rollback":"true","script":"(function() {\n    var JOB_NAME = \"Populate instance on KMF instance keys job\";\n    var JOB_EXECUTION_TIME = new GlideDateTime();\n    var SCRIPT = \"SNC.KMFFixes.attemptToUpdateInstanceKeysWithInstanceId();\";\n    GlideRunScriptJob.scheduleScript(SCRIPT, JOB_NAME, JOB_EXECUTION_TIME);\n    gs.info(\"Successfully scheduled a new job to populate the source_instance_id field on KMF instance keys\");\n})();","sys_class_name":"sys_script_fix","sys_id":"cfb8001943103110fd02d04e45b8f2d1","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7f83a3f304312210559073c06a02f787","value":"7f83a3f304312210559073c06a02f787"},"sys_update_name":"sys_script_fix_cfb8001943103110fd02d04e45b8f2d1","sys_updated_by":"maint","sys_created_on":"2023-07-26 16:32:33","name":"Populate instance on KMF instance keys","sys_name":"Populate instance on KMF instance keys","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Update 'Users in fields' label  to 'Recipients in fields' in sys_notification","sys_updated_on":"2021-02-26 09:24:46","sys_tags":"","record_for_rollback":"false","script":"function updateRecipientFieldLabel(tableName) {\n\tif(!GlideTableDescriptor.isValid(tableName))\n\t\treturn;\n\n\tgr = new GlideRecord('sys_documentation');\n\tgr.addQuery('name', tableName);\n\tgr.addQuery('element', 'recipient_fields');\n\tgr.addQuery('language', 'en');\n\tgr.addQuery('label', 'Users in fields');\n\tgr.query();\n\tif (gr.next()) {\n\t\tgr.setValue('label', 'Recipients in fields');\n\t\tgr.setValue('plural', 'Recipients in fields');\n\t\tgr.update();\n\t}\n\n\tvar gr = new GlideRecord('sys_dictionary');\n\tgr.addQuery('name', tableName);\n\tgr.addQuery('element', 'recipient_fields');\n\tgr.addQuery('column_label', 'Users in fields');\n\tgr.query();\n\tif (gr.next()) {\n\t\tgr.setValue('column_label', 'Recipients in fields');\n\t\tgr.update();\n\t}\n}\n\nif(!pm.isZboot())\nupdateRecipientFieldLabel('sys_notification');\n\n","sys_class_name":"sys_script_fix","sys_id":"d0b14269c32a20101aa940c1d840dd98","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4c93a3f304312210559073c06a02f7f1","value":"4c93a3f304312210559073c06a02f7f1"},"sys_update_name":"sys_script_fix_d0b14269c32a20101aa940c1d840dd98","sys_updated_by":"admin","sys_created_on":"2021-02-25 11:37:46","name":"Update Recipient Field label","sys_name":"Update Recipient Field label","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"update cache isolation level","sys_updated_on":"2024-11-22 00:43:59","sys_tags":"","record_for_rollback":"true","script":"var gr = new GlideRecord('sys_dictionary');\ngr.addQuery('name','sys_script_vtable');\ngr.addQuery('element', 'cache_isolation_level');\ngr.query();\n\nif (gr.next()){\n\tgr.read_only = 'false';\n\tgr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"d0dc92cd43861210b39307dcc4b8f2e3","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/eab3e73704312210559073c06a02f7b2","value":"eab3e73704312210559073c06a02f7b2"},"sys_update_name":"sys_script_fix_d0dc92cd43861210b39307dcc4b8f2e3","sys_updated_by":"admin","sys_created_on":"2024-11-22 00:43:59","name":"update cache isolation level","sys_name":"update cache isolation level","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Deactivate Standard Change Proposal Flow for upgrade customers","sys_updated_on":"2024-08-05 15:24:01","sys_tags":"","record_for_rollback":"true","script":"if (pm.isZboot()) {\n\tvar flowGr = new GlideRecord('sys_hub_flow');\n\tif (flowGr.get('665e4a627723021013d4aeb4bb5a994c')) {\n\t\tflowGr.active = true;\n\t\tflowGr.update();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"d0df08d6773b421013d4aeb4bb5a9936","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/97bb2b3704352210559073c06a02f7b9","value":"97bb2b3704352210559073c06a02f7b9"},"sys_update_name":"sys_script_fix_d0df08d6773b421013d4aeb4bb5a9936","sys_updated_by":"admin","sys_created_on":"2024-08-05 15:22:29","name":"Deactivate Std Change Proposal Flow","sys_name":"Deactivate Std Change Proposal Flow","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"","sys_updated_on":"2022-10-07 09:48:05","sys_tags":"","record_for_rollback":"true","script":"var dictGr = new GlideRecord('sys_dictionary');\ndictGr.addQuery('name', 'ml_label_user_feedback');\ndictGr.addQuery('element', 'utterance_reference');\ndictGr.addNotNullQuery('reference_cascade_rule');\ndictGr.setLimit(1);\ndictGr.query();\n\nif (dictGr.next()) {\n    dictGr.setValue('reference_cascade_rule', '');\n    dictGr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"d16c3a0fc75a1110c59d3d9c95c2602a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_script_fix_d16c3a0fc75a1110c59d3d9c95c2602a","sys_updated_by":"admin","sys_created_on":"2022-10-07 09:40:23","name":"Remove cascade delete on utt ref of UFT","sys_name":"Remove cascade delete on utt ref of UFT","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"","sys_updated_on":"2025-03-27 03:09:16","sys_tags":"","record_for_rollback":"true","script":"(function() {\n    //This Fix script should only run for Upgrade not for Zboot.\n    if (pm.isZboot())\n        return;\n    var aclGr = new GlideRecord('sys_security_acl');\n    aclGr.addQuery('name', 'sys_generative_ai_custom_header_api_key_credentials').addOrCondition('name', 'sys_generative_ai_custom_header_api_key_credentials.*');\n    aclGr.addQuery('operation', 'IN', 'create,delete,write');\n    aclGr.query();\n    while (aclGr.next()) {\n        var rolesUpdatedByCustomer = false;\n        var roleGr = getRolesForAcl(aclGr);\n        while (roleGr.next()) {\n            if (SncAppFiles.hasCustomerUpdate(roleGr)) {\n                gs.info('Customer update found for sys_security_acl_role ' + roleGr.getUniqueValue());\n                rolesUpdatedByCustomer = true;\n            }\n        }\n\n        if (!rolesUpdatedByCustomer && !SncAppFiles.hasCustomerUpdate(aclGr)) {\n            var rolesForDeletion = getRolesForAcl(aclGr);\n            while (rolesForDeletion.next()) {\n                gs.info('Deleting sys_security_acl_role ' + rolesForDeletion.getUniqueValue());\n                rolesForDeletion.deleteRecord();\n            }\n            gs.info('Deleting sys_security_acl ' + aclGr.getUniqueValue());\n            aclGr.deleteRecord();\n        } else {\n            gs.info('Customer update found, skipping sys_security_acl ' + aclGr.getUniqueValue());\n        }\n    }\n\n    function getRolesForAcl(aclGr) {\n        var roleGr = new GlideRecord('sys_security_acl_role');\n        roleGr.addQuery('sys_security_acl', aclGr.getValue('sys_id'));\n        roleGr.query();\n        return roleGr;\n    }\n}());","sys_class_name":"sys_script_fix","sys_id":"d20b9689ff20e210b093ffffffffff7e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7c84affb04312210559073c06a02f73d","value":"7c84affb04312210559073c06a02f73d"},"sys_update_name":"sys_script_fix_d20b9689ff20e210b093ffffffffff7e","sys_updated_by":"admin","sys_created_on":"2025-03-26 07:22:31","name":"Clean custom header credential acls","sys_name":"Clean custom header credential acls","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"0","description":"As part of Security P0 issue, a write audit updated all the empty ACLs in the customer farm. This fix script removes all the write audit updates for affected security center ACLs, so that the upgrades can overwrite those ACLs with the OOB ACLs.","sys_updated_on":"2024-04-03 10:20:30","sys_tags":"","record_for_rollback":"true","script":"var writeAuditOOBACLList = ['fbfa343277c20110ff643a91fa5a99a8'];\nempty_acl_fix(writeAuditOOBACLList);\n\nfunction empty_acl_fix(writeAuditOOBACLList) {\n    new global.AccessControlUtils().deleteCustomerUpdatesForAuditedEmptyACLs(writeAuditOOBACLList);\n}","sys_class_name":"sys_script_fix","sys_id":"d2c3ac1a5315c21085c3ddeeff7b1293","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/26329d35f52d4510f877c32d14052947","value":"26329d35f52d4510f877c32d14052947"},"sys_update_name":"sys_script_fix_d2c3ac1a5315c21085c3ddeeff7b1293","sys_updated_by":"admin","sys_created_on":"2024-04-03 10:20:30","name":"De-customize ACLs","sys_name":"De-customize ACLs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/26329d35f52d4510f877c32d14052947","value":"26329d35f52d4510f877c32d14052947"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Update the label for the table sys_notification_execution_log","sys_updated_on":"2020-07-14 22:37:27","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tif (pm.isZboot())\n\t\treturn;\n\n\tvar dbObject = new GlideRecord('sys_db_object');\n\tdbObject.addQuery('name', 'sys_notification_execution_log');\n\tdbObject.query();\n\tif (!dbObject.next())\n\t\treturn;\n\t\n\tdbObject.setValue('label', 'Execution Log');\n\tdbObject.setWorkflow(false);\n\tdbObject.update();\n\t\n\tvar doc = new GlideRecord('sys_documentation');\n\tdoc.addQuery('name', 'sys_notification_execution_log');\n\tdoc.addNullQuery('element');\n\tdoc.addQuery('label', 'Sys Notification Execution Log');\n\tdoc.query();\n\tif (!doc.next())\n\t\treturn;\n\t\n\tdoc.setValue('label', 'Execution Log');\n\tdoc.setValue('plural', 'Execution Logs');\n\tdoc.setWorkflow(false);\n\tdoc.update();\n\n})();\n","sys_class_name":"sys_script_fix","sys_id":"d2efdcc91b861410409396482b4bcb5d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4c93a3f304312210559073c06a02f7f1","value":"4c93a3f304312210559073c06a02f7f1"},"sys_update_name":"sys_script_fix_d2efdcc91b861410409396482b4bcb5d","sys_updated_by":"russell.chadwick@snc","sys_created_on":"2020-07-14 22:16:30","name":"Update execution logs label","sys_name":"Update execution logs label","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"russell.chadwick@snc","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Fix script to explicitly set the type of PA jobs to \"Scores and Text\". However this is the default value ","sys_updated_on":"2017-09-18 14:16:49","sys_tags":"","record_for_rollback":"false","script":"gs.info('Setting the \"collect\" column to \"Both scores and text\" in all PA Jobs');\nvar gr = new GlideRecord('sysauto_pa');\ngr.addQuery('run_type', '!=', 'once');\ngr.addNullQuery('collect');\ngr.setValue('collect', 'scores_text');\ngr.updateMultiple();\ngs.info('Done setting the value of \"collect\" column to \"Both scores and text\"');","sys_class_name":"sys_script_fix","sys_id":"d31a9a5d671103002bc845210585ef7c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/539a23bf04f12210559073c06a02f7aa","value":"539a23bf04f12210559073c06a02f7aa"},"sys_update_name":"sys_script_fix_d31a9a5d671103002bc845210585ef7c","sys_updated_by":"admin","sys_created_on":"2017-09-18 14:12:13","name":"Set collection type to \"Scores and Text\"","sys_name":"Set collection type to \"Scores and Text\"","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"4","description":"update button reference_qual of ui parameter dictionary to use a script include to dynamicall change it so that ui parameters can accept more button types","sys_updated_on":"2019-08-29 22:33:16","sys_tags":"","record_for_rollback":"false","script":"(function() {\n            var sysDictionaryGr = new GlideRecord(\"sys_dictionary\");\n            sysDictionaryGr.addQuery(\"name\", \"sys_sg_ui_parameter\");\n            sysDictionaryGr.addQuery(\"element\", \"button\");\n            sysDictionaryGr.query();\n            if(!sysDictionaryGr.next())\n                return;\n            \n            sysDictionaryGr.setValue(\"reference_qual\", \"javascript:new SgReferenceQualifiers().getGroupedInputReferenceQualifier();\");\n            sysDictionaryGr.update();\n            })();\n        ","sys_class_name":"sys_script_fix","sys_id":"d33268c6e72333005e3b03a003f6a9d9","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/75d42bbf04312210559073c06a02f78d","value":"75d42bbf04312210559073c06a02f78d"},"sys_update_name":"sys_script_fix_d33268c6e72333005e3b03a003f6a9d9","sys_updated_by":"admin","sys_created_on":"2019-08-29 22:05:33","name":"update button reference_qual of ui param","sys_name":"update button reference_qual of ui parameter to call script include","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Updating JSON columns in OneAPI invocation tables to string for performance enhancement","sys_updated_on":"2023-04-04 00:16:11","sys_tags":"","record_for_rollback":"false","script":"updateColumnType(\"one_api_service_plan_feature_invocation\" , [\"raw_input\",\"input\",\"raw_output\",\"output\"]);\nupdateColumnType(\"one_api_service_plan_invocation\" , [\"input\", \"output\", \"execution_plan\"]);\n\nfunction updateColumnType(tableName, elements) {\n\tfor (var i = 0; i < elements.length; i++) {\n\t\tvar gr = new GlideRecord(\"sys_dictionary\");\n\t\tgr.addQuery(\"name\", tableName);\n\t\tgr.addQuery(\"element\", elements[i]);\n\t\tgr.query();\n\t\tif (gr.next()) {\n\t\t\tgr.setValue(\"internal_type\", \"string\");\n\t\t\tgr.update();\n\t\t}\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"d3a8eaa4c3822110634cdb450a40ddf3","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fc84affb04312210559073c06a02f73e","value":"fc84affb04312210559073c06a02f73e"},"sys_update_name":"sys_script_fix_d3a8eaa4c3822110634cdb450a40ddf3","sys_updated_by":"admin","sys_created_on":"2023-04-04 00:16:11","name":"Change OneAPI JSON columns to String","sys_name":"Change OneAPI JSON columns to String","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"true","sys_mod_count":"2","description":"Sets 'com.snc.incident.create_from_interaction.save' property to false on upgrade .","sys_updated_on":"2022-05-18 11:10:41","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tif (GlidePluginManager.isZboot())\n\t\treturn;\n\tgs.setProperty('com.snc.incident.create_from_interaction.save', false);\n})();","sys_class_name":"sys_script_fix","sys_id":"d47bdb9a53033010b569ddeeff7b12ee","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d2b76f7f04b12210559073c06a02f78a","value":"d2b76f7f04b12210559073c06a02f78a"},"sys_update_name":"sys_script_fix_d47bdb9a53033010b569ddeeff7b12ee","sys_updated_by":"admin","sys_created_on":"2021-10-09 18:26:33","name":"Set Interaction to Incident properties","sys_name":"Set Interaction to Incident properties","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"","sys_updated_on":"2019-02-15 10:00:46","sys_tags":"","record_for_rollback":"false","script":"gs.log(\"Fix Script: Adding new choice value CRUD to Qualifier Type field in cmdb_rel_attributes started\");\ncheckAndAddField('cmdb_ci_qualifier_crud','CRUD');\n\nfunction getMaxSequence(){\n\tgs.log(\"Fetching max sequence number of choices for cmdb_rel_attributes table on qualifier_type\");\n\tvar maxValue = 0;\n\tvar max = new GlideAggregate('sys_choice');\n\tmax.addQuery('name', 'cmdb_rel_attributes');\n\tmax.addQuery('element', 'qualifier_type');\n\tmax.addAggregate('MAX', 'sequence');\n\tmax.setGroup(false);\n\tmax.query();\n\tif (max.next()) {\n\t\tmaxValue = max.getAggregate('MAX', 'sequence');\n\t}\n\tgs.log(\"Max sequence number for cmdb_rel_attributes table on qualifier_type is \"+ maxValue);\n\treturn parseInt(maxValue);\n}\n\nfunction checkAndAddField(choiceVal,label){\n\tgs.log(\"Checking and adding \"+label+ \" if it doesnt exists\");\n\tvar gr = new GlideRecord('sys_choice');\n\tgr.addQuery('name', 'cmdb_rel_attributes');\n\tgr.addQuery('element', 'qualifier_type');\n\tgr.addQuery('value', choiceVal);\n\tgr.query();\n\tif(gr.getRowCount()==0){\n\t\tvar choiceSequence = getMaxSequence()+1;\n\t\tgr.initialize();\n\t\tgr.name = 'cmdb_rel_attributes';\n\t\tgr.element = 'qualifier_type';\n\t\tgr.language = 'en';\n\t\tgr.label = label;\n\t\tgr.value = choiceVal;\n\t\tgr.sequence = choiceSequence ;\n\t\tgr.insert();\n\t}else{\n\t\tgs.log(\"No updation of Qualifier Field choices is required\");\n\t}\n}\ngs.log(\"Fix Script: Adding new choice value to Qualifier Type field in cmdb_rel_attributes ended\");","sys_class_name":"sys_script_fix","sys_id":"d4dde5cb3ba72300a70fe79c83efc4da","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_d4dde5cb3ba72300a70fe79c83efc4da","sys_updated_by":"admin","sys_created_on":"2019-02-15 09:57:43","name":"Add CRUD choice value to qualifier type","sys_name":"Add CRUD choice value to qualifier type","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Add AgentClientCollector discovery source","sys_updated_on":"2020-09-25 00:41:14","sys_tags":"","record_for_rollback":"false","script":"var dsUtil = new global.CMDBDataSourceUtil();\ndsUtil.addDataSource(\"AgentClientCollector\");","sys_class_name":"sys_script_fix","sys_id":"d4e4b3400f2310108397fc91ff767e1c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_d4e4b3400f2310108397fc91ff767e1c","sys_updated_by":"admin","sys_created_on":"2020-09-25 00:41:14","name":"Add AgentClientCollector source","sys_name":"Add AgentClientCollector source","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"This script is  to update the primary topic fields on content connected to 'Employee' taxonomy. It will deactivate and activate all the topics under 'Employee' taxonomy to trigger the process of updating primary topic field. This step is required to make search configurations work with 'Employee' taxonomy.","sys_updated_on":"2021-07-27 06:43:01","sys_tags":"","record_for_rollback":"false","script":"var employeeUtil = new sn_ect.EmployeeTaxonomyUtil();\nemployeeUtil.toggleTopicsActiveState();\n","sys_class_name":"sys_script_fix","sys_id":"d503bf1ec7213010fedf0bcbe2c260f1","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9f678ed6c3003010069aec4b7d40ddba","value":"9f678ed6c3003010069aec4b7d40ddba"},"sys_update_name":"sys_script_fix_d503bf1ec7213010fedf0bcbe2c260f1","sys_updated_by":"admin","sys_created_on":"2021-07-27 06:43:01","name":"Set primary topics for Employee taxonomy","sys_name":"Set primary topics for Employee taxonomy","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/9f678ed6c3003010069aec4b7d40ddba","value":"9f678ed6c3003010069aec4b7d40ddba"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"3","description":"In the old ecc_queue table definition, the ecc_queue.* read/write ACLs were generated dynamically with randomly assigned sys_ids. Because of this, maintaining these ACLs is not feasible. This FixScript deletes the dynamically generated ACLs, and during the upgrade, they are replaced with fixed ACLs.","sys_updated_on":"2024-09-05 22:15:46","sys_tags":"","record_for_rollback":"true","script":"gs.info(\"Starting FixScript: DeleteDynamicallyCreatedEccQueueACLs.\");\nvar aclSysIds = getReadWriteACLSysIds(\"ecc_queue.*\", \"allow\");\nvar adminRoleSysId = getRoleSysId(\"admin\");\nfor (var i = 0; i < aclSysIds.length; i++) {\n    aclSysId = aclSysIds[i];\n    // Skip any customized ACLs\n    if (!isCustomizedACL(aclSysId)) {\n    \t// Retrieve roles assigned to the ACL\n\tvar gr = new GlideRecord(\"sys_security_acl_role\");\n\tgr.addQuery(\"sys_security_acl\", aclSysId);\n\tgr.query();\n\t\n\t// Delete the ACL if it has only one assigned admin role\n\t// Deleting the ACL will also cascade and delete the corresponding admin role record\n\tif (gr.getRowCount() == 1) {\n\t\tgr.next();\n\t\tif (adminRoleSysId && gr.getValue(\"sys_user_role\") == adminRoleSysId)\n\t\t\tdeleteACL(aclSysId);\n        }\n    }\n}\ngs.info(\"FixScript complete:: DeleteDynamicallyCreatedEccQueueACLs.\")\n\n/**\n * Returns the sys_ids of the read/write ACLs with the specified aclName and decType.\n */\nfunction getReadWriteACLSysIds(aclName, decType) {\n    var aclSysIds =[];\n    var gr = new GlideRecord(\"sys_security_acl\");\n    gr.addQuery(\"name\", aclName);\n    gr.addQuery(\"operation\",\"IN\", [\"read\",\"write\"]);\n    gr.addQuery(\"decision_type\", decType);\n    gr.query();\n\n    while(gr.next())\n        aclSysIds.push(gr.getUniqueValue());\n\n    return aclSysIds;\n}\n\n/**\n * Returns the sys_id of the user role with the specified roleName. If the role does not exist, it returns null.\n */\nfunction getRoleSysId(roleName) {\n    var gr = new GlideRecord(\"sys_user_role\");\n    gr.addQuery(\"name\", roleName);\n    gr.query();\n    return (gr.next())? gr.getUniqueValue(): null;\n}\n\n/**\n * Returns true if the acl with aclSysId is modified by the user\n */\nfunction isCustomizedACL(aclSysId) {\n    var gr = new GlideRecord(\"sys_update_xml\");\n    gr.addQuery(\"name\", \"sys_security_acl_\" + aclSysId);\n    gr.query();\n    return gr.hasNext();\n}\n\n/**\n * Delete the acl specified by aclSysId\n */\nfunction deleteACL(aclSysId) {\n    var gr = new GlideRecord(\"sys_security_acl\");\n    if (gr.get(aclSysId)) {\n\t\tgr.deleteRecord();\n\t\tgs.info(\"Deleting ACL with sys_id: \" + aclSysId );\n\t} else\n\t\tgs.info(\"ACL with sys_id: \" + aclSysId + \" is not available on the instance\");\n}\n","sys_class_name":"sys_script_fix","sys_id":"d5a579c0779052104c781b699a5a992d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9b8363f304312210559073c06a02f7b9","value":"9b8363f304312210559073c06a02f7b9"},"sys_update_name":"sys_script_fix_d5a579c0779052104c781b699a5a992d","sys_updated_by":"now.midserver","sys_created_on":"2024-08-23 20:29:23","name":"DeleteDynamicallyCreatedEccQueueACLs","sys_name":"DeleteDynamicallyCreatedEccQueueACLs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"now.midserver","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"install_status column in cmdb table is labeled 'Status' whcich is ambiguous since there is another column with name status and label Status.","sys_updated_on":"2022-03-30 23:05:09","sys_tags":"","record_for_rollback":"true","script":"\n\nrenameInstallStatus();\n\nfunction renameInstallStatus() {\n\tif(!pm.isZboot()) {\n\t\tvar gr = new GlideRecord('sys_dictionary');\n\t\tgr.addEncodedQuery('name=cmdb^element=install_status');\n\t\tgr.query();\n\t\tif(gr.getRowCount() == 1 && gr.next() && gr.getValue('column_label') == 'Status') {\n\t\t\tgr.setValue('column_label','Install Status');\n\t\t\tgs.info(\"For 'Base Configuration Item'(cmdb) table, updating label of 'Status' to 'Install Status'\");\n\t\t\tgr.update();\n\t\t}\n}}","sys_class_name":"sys_script_fix","sys_id":"d6377def53564110af64ddeeff7b1243","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_d6377def53564110af64ddeeff7b1243","sys_updated_by":"admin","sys_created_on":"2022-03-23 21:50:45","name":"Relabel install_status to Install Status","sys_name":"Relabel install_status to Install Status","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"6","description":"","sys_updated_on":"2024-02-02 21:36:04","sys_tags":"","record_for_rollback":"true","script":"var DICTIONARY_TABLE = 'sys_dictionary';\nvar BADGE_COUNT_TABLE = 'sys_sg_badge_count';\nfunction updateRequiredAppletLauncherToFalse() {\n\tgs.info(\"updateRequiredAppletLauncherToFalse started\");\n    var gr = new GlideRecord(DICTIONARY_TABLE);\n    gr.addQuery('name', BADGE_COUNT_TABLE);\n    gr.addQuery('element', 'applet_launcher');\n    gr.query();\n    if (gr.next()) {\n        gr.setValue('mandatory', 'false');\n        gr.update();\n\t\tgs.info(\"updateRequiredAppletLauncherToFalse completed\");\n    }\n}\nfunction updateDefaultValueOfLocationChoice() {\n\tgs.info(\"updateDefaultValueOfLocationChoice started.\");\n\tvar gr = new GlideRecord(DICTIONARY_TABLE);\n    gr.addQuery('name', BADGE_COUNT_TABLE);\n\tgr.addQuery('element', 'location');\n\tgr.query();\n    if (gr.next()) {\n        gr.setValue('default_value', 'header_function');\n        gr.update();\n\t\tgs.info(\"updateDefaultValueOfLocationChoice completed.\");\n    }\n}\ngs.info(\"Update of sys_sg_badge_count for NavTab started.\");\nupdateRequiredAppletLauncherToFalse();\nupdateDefaultValueOfLocationChoice();\ngs.info(\"Update of sys_sg_badge_count for NavTab completed.\");\n","sys_class_name":"sys_script_fix","sys_id":"d6509b9e93000210cffa5ffbf18918c7","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fdd42bbf04312210559073c06a02f7a6","value":"fdd42bbf04312210559073c06a02f7a6"},"sys_update_name":"sys_script_fix_d6509b9e93000210cffa5ffbf18918c7","sys_updated_by":"admin","sys_created_on":"2024-02-01 19:24:47","name":"Update sys_sg_badge_count for NavTab","sys_name":"Update sys_sg_badge_count for NavTab","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Removed update_synch attribute from ui_notification_inbox table.","sys_updated_on":"2019-08-23 17:14:31","sys_tags":"","record_for_rollback":"false","script":"function removeUpdateSynch(attribs) {\n\tif (!attribs.length)\n\t\treturn attribs;\n\n\tattribs = attribs.replace('update_synch=true', '')\n\t\t\t\t\t.replace('update_synch', '')\n\t\t\t\t\t.replace(',,', ',');\n\n\tif (attribs.substring(0,1).equals(\",\"))\n\t\tattribs = attribs.substring(1);\n\n\tif (attribs.substring(attribs.length-1).equals(\",\"))\n\t\tattribs = attribs.substring(0, attribs.length-1);\n}\n\n\n(function () {\n\tvar gr = new GlideRecord('sys_dictionary');\n\tgr.addNullQuery('element');\n\tgr.addQuery('name', 'ui_notification_inbox');\n\tgr.query();\n\twhile (gr.next()) {\n\t\tif (!gr.getED().hasAttribute(\"update_synch\"))\n\t\t\tcontinue;\n\n\t\tvar att = removeUpdateSynch(gr.attributes.toString());\n\t\tgr.setValue('attributes', att);\n\t\tgr.update();\n\t}\n})();","sys_class_name":"sys_script_fix","sys_id":"d6612c770b13330085c16c2367673a28","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0893a3f304312210559073c06a02f7f1","value":"0893a3f304312210559073c06a02f7f1"},"sys_update_name":"sys_script_fix_d6612c770b13330085c16c2367673a28","sys_updated_by":"admin","sys_created_on":"2019-08-23 17:14:31","name":"Remove update_synch from notif inbox","sys_name":"Remove update_synch from notif inbox","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"10","description":"Insert the default VA user for Glide Conversation Server","sys_updated_on":"2023-01-27 20:43:04","sys_tags":"","record_for_rollback":"false","script":"insertVAUser();\n\nfunction insertVAUser() {\n\tvar gr = new GlideRecord(\"sys_user\");\n\tgr.addQuery(\"user_name\", \"virtual.agent\");\n\tgr.query();\n\tif (!gr.next()) {\n\t\t// override data policies\n\t\tgr.setUseEngines(false);\n\t\t// bypass business rules\n\t\tgr.setWorkflow(false);\n        // insert the default va user\n\t\tgr.initialize();\n\t\tgr.user_name = \"virtual.agent\";\n\t\tgr.first_name = \"Virtual\";\n\t\tgr.last_name = \"Agent\";\n\t\tgr.web_service_access_only = true;\n\t\tvar sys_id = gr.insert();\n\t\tif (sys_id != null) {\n\t\t\tgs.log(\"Successfully created the default Virtual Agent user virtual.agent (\" + gr.sys_id + \")\");\n\t\t} else {\n\t\t\tgs.error(\"Failed to create the default Virtual Agent user\");\n\t\t\treturn;\n\t\t}\n\t}\n\t// store the user id to a sys property\n\tgs.setProperty(\"com.glide.cs.va.sys_user\", gr.sys_id);\n\tgs.log(\"Successfully set the system property com.glide.cs.va.sys_user to the user virtual.agent (\" + gr.sys_id + \")\");\n}\n","sys_class_name":"sys_script_fix","sys_id":"d6763e9353360010cf8cddeeff7b12f9","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_d6763e9353360010cf8cddeeff7b12f9","sys_updated_by":"admin","sys_created_on":"2020-02-11 19:33:00","name":"Insert the default VA user","sys_name":"Insert the default VA user","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"add 'allow_references=true' attribute to sys_aw_form_header_secondary_values.field","sys_updated_on":"2020-03-11 23:57:50","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tvar gr = new GlideRecord(\"sys_dictionary\");\n\tif (!gr.isValid())\n\t\treturn;\n\tgr.addQuery('name', 'sys_aw_form_header_secondary_values');\n\tgr.addQuery('element', 'field');\n\tgr.query();\n\tif (gr.next()) {\n\t\tgs.info(\"add allow_reference=true attribute to sys_aw_form_header_secondary_values.field\");\n\t\t// currently the field has no attributes, so we can do set instead of append\n\t\tgr.setValue('attributes', 'allow_references=true');\n\t\tgr.update();\n\t}\n})();\n        ","sys_class_name":"sys_script_fix","sys_id":"d6f681f0ff630010cff95b9f793bf138","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ba9c2f7b04352210559073c06a02f7cb","value":"ba9c2f7b04352210559073c06a02f7cb"},"sys_update_name":"sys_script_fix_d6f681f0ff630010cff95b9f793bf138","sys_updated_by":"admin","sys_created_on":"2020-03-11 23:57:50","name":"allow reference on header seconary field","sys_name":"allow reference on header seconary field","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Removes the snc_internal role from the Life Cycle Control ACLs for upgrade customer instances who previously had the role-less ACLs and the Explicit Roles plugin installed.","sys_updated_on":"2024-06-17 16:43:40","sys_tags":"","record_for_rollback":"true","script":"gs.info('CMDB LCC fix script: Checking for non-maint roles in Life Cycle Control ACLs');\n\n//OOB ACL records provided for life_cycle_control table: sys id's\nvar lccWriteAcl = '7d174615b7620010ee0d3177ee11a963';\nvar lccReadAcl = 'e8f6c215b7620010ee0d3177ee11a9a6';\nvar lccCreateAcl = '17544a91b7620010ee0d3177ee11a9a2';\n//Delete ACL record skipped as it has the \"answer = false\" script in place\n\nvar idArr = [lccWriteAcl, lccReadAcl, lccCreateAcl];\n\nvar gr = new GlideRecord('sys_security_acl_role');\ngr.addQuery('sys_security_acl','IN',idArr.toString());\ngr.addQuery('sys_user_role.name','CONTAINS','snc_internal');\ngr.query();\n\nif(gr.getRowCount() > 0){\n\tgs.info('CMDB LCC fix-script: {0} records identified in sys_security_acl_role for removal', gr.getRowCount());\n    gr.deleteMultiple();\n}","sys_class_name":"sys_script_fix","sys_id":"d73fc9ec4f923110245532f0b1ce0bdc","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_d73fc9ec4f923110245532f0b1ce0bdc","sys_updated_by":"admin","sys_created_on":"2023-10-31 23:43:01","name":"Clear snc_ roles from Life Cycle Control","sys_name":"Clear snc_ roles from Life Cycle Control","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"6","description":"","sys_updated_on":"2022-08-24 03:43:15","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord(\"sys_user_role_contains\");\ngr.addQuery(\"contains\", \"7722dd809320220028517a75e57ffb9d\"); //sn_apm.apm_role\ngr.addQuery(\"sys_id\", \"b9ec01a03b403300a70fe79c83efc4b4\");\ngr.query();\n//fix script to remove sn_apm.apm_user role from business_planner role, which is been deleted in Quebec release\nif(gr.next()) {\n\tgs.info(\"Deleting sn_apm.apm_user role from business_role contained roles\");\n\tgr.setWorkflow(false);\n\tvar deletedRole = gr.deleteRecord();\n\tif(deletedRole)\n\t\tgs.info(\"Deleted sn_apm.apm_user role from business_role contained roles\");\n\telse\n\t\tgs.info(\"Failed to remove sn_apm.apm_user role from business_role contained roles\");\n\tgr.setWorkflow(true);\n}","sys_class_name":"sys_script_fix","sys_id":"d7c2c3f051e11110f877a679568f6382","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9d9de7ff04352210559073c06a02f775","value":"9d9de7ff04352210559073c06a02f775"},"sys_update_name":"sys_script_fix_d7c2c3f051e11110f877a679568f6382","sys_updated_by":"maint","sys_created_on":"2022-08-24 03:34:57","name":"Remove apm_user from business_planner","sys_name":"Remove apm_user from business_planner","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","sys_policy":""},{"before":"false","unloadable":"true","sys_mod_count":"1","description":"Update model component's component parameter field with default value","sys_updated_on":"2019-11-05 21:32:04","sys_tags":"","record_for_rollback":"false","script":"updateRecords();\nfunction updateRecords() {\n\tvar model = new GlideRecord(\"cmdb_m2m_model_component\");\n\tmodel.addNullQuery(\"component_parameter\");\n\tmodel.setValue(\"component_parameter\", \"mandatory\");\n\tmodel.setWorkflow(false);\n\tmodel.updateMultiple();\n}","sys_class_name":"sys_script_fix","sys_id":"d7c5e2fbe9700010fa9b7897d72b11b8","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e325237304712210559073c06a02f7be","value":"e325237304712210559073c06a02f7be"},"sys_update_name":"sys_script_fix_d7c5e2fbe9700010fa9b7897d72b11b8","sys_updated_by":"admin","sys_created_on":"2019-11-05 21:29:49","name":"Update model component records","sys_name":"Update model component records","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"Unpublish read-only setup topics if the plugin is upgrading.","sys_updated_on":"2020-04-21 19:24:04","sys_tags":"","record_for_rollback":"false","script":"var wf = gs.getSession().getWorkflow();\ngs.getSession().setWorkflow(false);\nupdate();\ngs.getSession().setWorkflow(wf);\n\nfunction update() {\n\tvar upgrade = isUpgrade();\n\tif (upgrade) {\n\t\tdeactivateAllReadOnlySetupTopics();\n\t}\n}\n\nfunction isUpgrade() {\n\tvar gr = new GlideRecord('sys_cs_general_settings');\n\t// check the OOB general settings\n\tgr.addQuery('sys_id', '586237553b1323009cbbcea234efc42f');\n\tgr.query();\n\tif (gr.next()) {\n\t\tvar closingTopic = gr.getValue('closing_topic');\n\t\t// setup topic is the new read-only version\n\t\t// it is the first time install the plugin\n\t\tif (closingTopic === '57cde45053130010cf8cddeeff7b1291') {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\n\nfunction deactivateAllReadOnlySetupTopics() {\n\tvar readOnlySetupTopics = ['284e2c5053130010cf8cddeeff7b12df',\n\t\t\t\t\t\t'30ade05053130010cf8cddeeff7b12f3',\n\t\t\t\t\t\t'57cde45053130010cf8cddeeff7b1291',\n\t\t\t\t\t\t'9bae209053130010cf8cddeeff7b12ba',\n\t\t\t\t\t\t'aa0e685053130010cf8cddeeff7b127d',\n\t\t\t\t\t\t'b18df45853130010cf8cddeeff7b12fd',\n\t\t\t\t\t\t'ce2ee85053130010cf8cddeeff7b12bf',\n\t\t\t\t\t\t'eefd285053130010cf8cddeeff7b12b9',\n\t\t\t\t\t\t'f5ed285053130010cf8cddeeff7b12e1'];\n\n\treadOnlySetupTopics.forEach(deactivateTopic);\n}\n\nfunction deactivateTopic(sysId) {\n    gs.log(\"Deactivating topic in sys_cs_topic: \"+sysId);\n\tvar gr = new GlideRecord('sys_cs_topic');\n\tgr.addQuery('sys_id', sysId);\n\tgr.query();\n\tif (gr.next()) {\n\t\tgr.active = false;\n\t\tif (gr.update()) {\n\t\t\tgs.log(\"Successfully deactivated topic in sys_cs_topic: \"+sysId);\n\t\t} else {\n\t\t\tgs.log(\"Failed to deactivate topic in sys_cs_topic: \"+sysId);\n\t\t}\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"d8031ba953941010cf8cddeeff7b12e9","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/79d37f3704b52210559073c06a02f7ed","value":"79d37f3704b52210559073c06a02f7ed"},"sys_update_name":"sys_script_fix_d8031ba953941010cf8cddeeff7b12e9","sys_updated_by":"admin","sys_created_on":"2020-04-21 01:01:57","name":"Unpublish read-only setup topics ","sys_name":"Unpublish read-only setup topics ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"A script to load license data that is present locally in the instance. ","sys_updated_on":"2020-10-13 18:35:52","sys_tags":"","record_for_rollback":"false","script":"if (pm.isZboot())\n\tSNC.UsageAnalyticsScriptUtils.loadLocalLicenseData();","sys_class_name":"sys_script_fix","sys_id":"d82d00425b331010dabf7efa1d81c785","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e36423fb04312210559073c06a02f798","value":"e36423fb04312210559073c06a02f798"},"sys_update_name":"sys_script_fix_d82d00425b331010dabf7efa1d81c785","sys_updated_by":"admin","sys_created_on":"2020-10-12 23:20:18","name":"Load local data through downloader","sys_name":"Load local data through downloader","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"0","description":"Remove extra choice 'send-ready' associated with sys_email.type field.","sys_updated_on":"2024-01-18 04:21:40","sys_tags":"","record_for_rollback":"true","script":"function deleteExtraChoice() {\n\tvar choices = new GlideRecord(\"sys_choice\");\n\tchoices.addQuery(\"name\", \"sys_email\");\n\tchoices.addQuery(\"element\", \"type\");\n\tchoices.addQuery(\"language\", \"en\");\n\tchoices.addQuery(\"label\", \"send-ready\");\n\tchoices.addQuery(\"inactive\", \"false\");\n\tchoices.setWorkflow(false);\n\tchoices.query();\n\n\t//We need one choice => Forward the pointer once and don't delete it\t\n\tchoices.next();\n\n\tif (choices.getRowCount() > 1) {\n\t\twhile (choices.next()) {\n\t\t\tgs.debug(\"deleting the extra choice(sys_email.type.send-ready): \" + choices.getUniqueValue());\n\t\t\tchoices.deleteRecord();\t\n\t\t}\n\t} else {\n\t\tgs.debug(\"only one choice available for sys_email.type.send-ready\");\n\t}\n}\ndeleteExtraChoice();","sys_class_name":"sys_script_fix","sys_id":"d854bba953f33110c0d8ddeeff7b12ba","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8308a33304f12210559073c06a02f7a9","value":"8308a33304f12210559073c06a02f7a9"},"sys_update_name":"sys_script_fix_d854bba953f33110c0d8ddeeff7b12ba","sys_updated_by":"maint","sys_created_on":"2024-01-18 03:58:05","name":"Remove duplicate sys_email.type choice","sys_name":"Remove duplicate sys_email.type choice","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"5","description":"Change internal type from translated_text to translated_field","sys_updated_on":"2023-08-09 16:59:02","sys_tags":"","record_for_rollback":"false","script":"modifyFieldType();\n\nfunction modifyFieldType() {\n    if (pm.isZboot())\n        return;\n\n    var glideRecord = new GlideRecord(\"sys_dictionary\");\n    glideRecord.addEncodedQuery(\"name=sys_search_source^internal_type=translated_text\");\n    glideRecord.query();\n    if (glideRecord.next()) {\n        glideRecord.setValue('internal_type', 'translated_field');\n        glideRecord.update();\n        gs.log('internal type modified');\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"d879fb91c3203110c51402fca140ddce","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0a99ab7b04f12210559073c06a02f746","value":"0a99ab7b04f12210559073c06a02f746"},"sys_update_name":"sys_script_fix_d879fb91c3203110c51402fca140ddce","sys_updated_by":"admin","sys_created_on":"2023-08-08 20:11:19","name":"Modify sys_search_source column","sys_name":"Modify sys_search_source column","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"Removes mandatory attribute from dictionary fields of IDE git credentials","sys_updated_on":"2024-08-13 20:46:14","sys_tags":"","record_for_rollback":"false","script":"new global.IDEGlobalUtils().fixIdeGitCredentialTableSchema();","sys_class_name":"sys_script_fix","sys_id":"d88e4e3c93c41210e7959b94818918b4","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fd254d9443a161100967247e6bb8f200","value":"fd254d9443a161100967247e6bb8f200"},"sys_update_name":"sys_script_fix_d88e4e3c93c41210e7959b94818918b4","sys_updated_by":"maint","sys_created_on":"2024-08-13 19:02:47","name":"Remove mandatory from IDE git credential","sys_name":"Remove mandatory from IDE git credential","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/fd254d9443a161100967247e6bb8f200","value":"fd254d9443a161100967247e6bb8f200"},"sys_created_by":"maint","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"3","description":"This fix script will run once to update the default value for pa_indicators.role_override to false for upgrading customers.","sys_updated_on":"2020-07-06 13:28:17","sys_tags":"","record_for_rollback":"false","script":"gs.log(\"Fix Script: Set role_override default value to false - started\");\nvar gr = new GlideRecord('sys_dictionary');\ngr.addQuery('name', 'pa_indicators');\ngr.addQuery('element', 'role_override');\ngr.addQuery('default_value', true);\ngr.query();\nif (gr.next()) {\n\tgr.setValue('default_value', false);\n\tgr.update();\n}\ngs.log(\"Fix Script: Set role_override default value to false - ended\");","sys_class_name":"sys_script_fix","sys_id":"d8a89d923b315010ba51ac20e2efc462","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/539a23bf04f12210559073c06a02f7aa","value":"539a23bf04f12210559073c06a02f7aa"},"sys_update_name":"sys_script_fix_d8a89d923b315010ba51ac20e2efc462","sys_updated_by":"admin","sys_created_on":"2020-07-06 13:18:49","name":"Set role_override default value to false","sys_name":"Set role_override default value to false","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Load SLA Report Ranges from the com.snc.sla plugin only if the instance does not have custom sys_report_range records already defined for the task_sla table's actual time left field, if OOTB report range exists then override it","sys_updated_on":"2023-10-05 16:20:38","sys_tags":"","record_for_rollback":"false","script":"(function() {\n    var ootbRange = \"d13b4615b7610110c5aebc16de11a94a,cc2784e7738130102eb52d2b04f6a73d,d878cce7738130102eb52d2b04f6a7e0,1e5b4c6b738130102eb52d2b04f6a71a,326b8c6b738130102eb52d2b04f6a708,1f1dcc6b738130102eb52d2b04f6a702\";\n    var gr = new GlideRecord(\"sys_report_range\");\n    gr.addQuery(\"name\", \"task_sla\");\n    gr.addQuery(\"element\", \"time_left\");\n    gr.addQuery(\"sys_id\", \"NOT IN\", ootbRange);\n    gr.setLimit(1);\n    gr.query();\n    if (!gr.hasNext()) {\n        gs.log(\"Loading sys_report_ranges for task_sla.time_left\", \"[com.snc.sla][Fix Script: Load SLA Report Ranges]\");\n        GlideUpdateManager2().load(\"com.snc.sla\", \"update.report_ranges\");\n    }\n\n})();","sys_class_name":"sys_script_fix","sys_id":"d8b5490c43793110b8cf8beeaab8f27a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d19e7b704f12210559073c06a02f7da","value":"5d19e7b704f12210559073c06a02f7da"},"sys_update_name":"sys_script_fix_d8b5490c43793110b8cf8beeaab8f27a","sys_updated_by":"admin","sys_created_on":"2023-10-05 13:10:53","name":"SLA Report Ranges v2","sys_name":"SLA Report Ranges v2","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Corrects capitalization of \"MAC\" in the network adapter table for the MAC manufacturer field","sys_updated_on":"2024-10-08 17:31:26","sys_tags":"","record_for_rollback":"true","script":"capitalizeMac();\n\nfunction capitalizeMac(){\n\tif(pm.isZboot()){\n\t\treturn;\n\t}\n\n\tvar gr = new GlideRecord('sys_dictionary');\n\tgr.addQuery('name','cmdb_ci_network_adapter');\n\tgr.addQuery('element', 'mac_manufacturer');\n\tgr.query();\n\n\tif(gr.next() && gr.getValue('column_label').equals('Mac manufacturer')){\n\t\tgr.setValue('column_label','MAC manufacturer');\n\t\tgr.update();\n\t}\n\n\tvar docGr = new GlideRecord('sys_documentation');\n\tdocGr.addQuery('name', 'cmdb_ci_network_adapter');\n\tdocGr.addQuery('element', 'mac_manufacturer');\n\tdocGr.addQuery('language', 'en');\n\tdocGr.query();\n\n\tif(docGr.next()){\n\t    var needsUpdate = false;\n\t    if(docGr.getValue('label').equals('Mac manufacturer')){\n\t\t    docGr.setValue('label', 'MAC manufacturer');\n\t\t    needsUpdate = true;\n\t\t}\n\n\t    if(docGr.getValue('plural').equals('Mac manufacturers')){\n\t\t    docGr.setValue('plural', 'MAC manufacturers');\n\t\t    needsUpdate = true;\n\t\t}\n\n        if(needsUpdate)\n\t\t    docGr.update();\n\t}\n}\n\n","sys_class_name":"sys_script_fix","sys_id":"d8d3d6f253c5d610602fddeeff7b1238","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_d8d3d6f253c5d610602fddeeff7b1238","sys_updated_by":"admin","sys_created_on":"2024-10-08 17:31:26","name":"Fix mac label for network adapter table","sys_name":"Fix mac label for network adapter table","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"8","description":"Applies to upgrade to SD and above releases.\r\n\r\nFor VA notification (both chat and messaging) contents,  the field type for message was \"string_full_utf8 \". We are changing it to \"email_script\"","sys_updated_on":"2021-08-09 20:18:35","sys_tags":"","record_for_rollback":"false","script":"changeFieldTypeForColumn('message_heading', 'string_full_utf8', 'email_script');\nchangeFieldTypeForColumn('message', 'string_full_utf8', 'email_script');\n\nfunction changeFieldTypeForColumn(columnName, oldType, newType) {\n\tvar sysDictionaryGr = new GlideRecord('sys_dictionary');\n\tsysDictionaryGr.addQuery('name', 'sys_notification_va_content');\n\tsysDictionaryGr.addQuery('element', columnName);\n\tsysDictionaryGr.query();\n\t\n\tif (sysDictionaryGr.next()) {\n\t\tvar currentType = sysDictionaryGr.internal_type.getRefRecord().getValue('name');\n\n\t\tif (newType === currentType) {\n\t\t\tgs.info('Notification content column {0} is already of type {1}. Nothing to change', columnName, newType);\n\t\t\treturn;\n\t\t} else if (currentType === oldType) {\n\t\t\tsysDictionaryGr.setValue('internal_type', newType);\n\t\t\tsysDictionaryGr.setValue('dependent', 'notification.table');\n\t\t\tsysDictionaryGr.setValue('dependent_on_field', 'notification.table');\n\t\t\tsysDictionaryGr.update();\n\t\t\t\n\t\t\tgs.info('Successfully updated the type of notification content column {0} from {1} to {2}', columnName, oldType, newType);\n\t\t} else {\n\t\t\t// Just in case the customer has changed the type. This will never happen\n\t\t\tgs.info('Skipping notification content column type change. Invalid current type {0}', currentType);\n\t\t}\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"d90c3f3fff703010635f056d793bf197","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9cc37b3704b52210559073c06a02f78f","value":"9cc37b3704b52210559073c06a02f78f"},"sys_update_name":"sys_script_fix_d90c3f3fff703010635f056d793bf197","sys_updated_by":"admin","sys_created_on":"2021-06-24 16:19:21","name":"Change notification content field types","sys_name":"Change notification content field types","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Randomize the run time of the Physical Table Stat Gatherer sys_triggers so there is no contention when multiple DBI's(in one DB server) run the same job.\r\nThis fix script randomizes daily, monthly and yearly jobs with a drift of 12 hours","sys_updated_on":"2025-04-30 18:09:01","sys_tags":"","record_for_rollback":"true","script":"\n    //Randomizing the run_time of the sys_trigger between 1-12 hours\n    var randomNumSecs = Math.floor(Math.random() * (12 * 60 * 60)) + 1;\n\n    updateTriggerRunTime('ef99697453e1111076bcddeeff7b12d7', randomNumSecs, 'Daily');\n    updateTriggerRunTime('651dd4375be00210fadffb8f9281c7d9', randomNumSecs + 60, 'Monthly');\n    updateTriggerRunTime('828d10775be00210fadffb8f9281c796', randomNumSecs, 'Yearly');\n\n    function updateTriggerRunTime(sysTriggerSysId, updatedtime, type) {\n        var sysTriggerGr = new GlideRecord('sys_trigger');\n        if(sysTriggerGr.get(sysTriggerSysId)) {\n            var currentRunTime = sysTriggerGr.getValue('run_time');\n            var currentNextAction = sysTriggerGr.getValue('next_action');\n            if (!!currentRunTime) {\n                var newRunTime = new GlideDateTime(currentRunTime);\n                newRunTime.addSeconds(updatedtime);\n                var newNextAction = new GlideDateTime(currentNextAction);\n                newNextAction.addSeconds(updatedtime);\n                sysTriggerGr.setValue('run_time', newRunTime);\n                sysTriggerGr.setValue('next_action', newNextAction);\n                sysTriggerGr.update();\n                gs.log('Updating the run_time of Physical Table ' + type + ' Stats Gatherer sys_trigger from: ' + currentRunTime + ' to: ' + newRunTime + ' and next_action from: ' + currentNextAction + ' to: ' + newNextAction);\n            }\n        } else {\n            gs.log('Failed to update run_time for stats gatherer job: ' + sysTriggerSysId);\n        }\n    }","sys_class_name":"sys_script_fix","sys_id":"d9ceb8a0ff9122105f6affffffffff95","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b62ee3b304752210559073c06a02f7b4","value":"b62ee3b304752210559073c06a02f7b4"},"sys_update_name":"sys_script_fix_d9ceb8a0ff9122105f6affffffffff95","sys_updated_by":"maint","sys_created_on":"2025-04-30 18:09:01","name":"Randomize Stats Gatherer jobs run time","sys_name":"Randomize Stats Gatherer jobs run time","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"9","description":"In order to prevent tabs from appearing in portals configured for Dynamic Window or Full Page Experience, we need to clean up any Navigation Tab records that have been created for sources built on the sys_gen_ai_skill table.","sys_updated_on":"2025-04-03 00:30:05","sys_tags":"","record_for_rollback":"true","script":"(function() {\n    if (pm.isZboot())\n        return;\n\n    //Fetch all mapped search sources built on skills where exclude in search is true\n    var skillSacs = [];\n\n    if (gs.tableExists('ais_search_profile_ais_search_source_m2m')) {\n        var linkedSources = new GlideRecord('ais_search_profile_ais_search_source_m2m');\n        linkedSources.addEncodedQuery('search_source.datasource.source=sys_gen_ai_skill^exclude_in_regular_search=true');\n        linkedSources.query();\n\n        //For each config that delete the corresponding NavTab Record\n        while (linkedSources.next()) {\n            skillSacs.push(linkedSources.search_source.sys_id);\n        }\n    }\n\n    if (gs.tableExists('sys_search_filter') && skillSacs.length > 0) {\n\n        var navTabGr = new GlideRecord('sys_search_filter');\n        navTabGr.addEncodedQuery('ais_search_sourceIN' + skillSacs.join(','));\n        navTabGr.query();\n\n        navTabGr.deleteMultiple();\n    }\n\n}());","sys_class_name":"sys_script_fix","sys_id":"da1a30afff202210ed11ffffffffff38","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/76946b3f04312210559073c06a02f73b","value":"76946b3f04312210559073c06a02f73b"},"sys_update_name":"sys_script_fix_da1a30afff202210ed11ffffffffff38","sys_updated_by":"admin","sys_created_on":"2025-04-02 19:12:27","name":"Delete nav tabs for Skills","sys_name":"Delete nav tabs for Skills","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"Migrate data from CMDB Insight Data table to new table - CMDB Product Insight Data","sys_updated_on":"2023-02-23 04:38:22","sys_tags":"","record_for_rollback":"true","script":"var util = new sn_cmdb_ws.CMDBWsInsightUtil();\nutil.migrateInsightDataRecords();","sys_class_name":"sys_script_fix","sys_id":"da4bd90b53012110b87eddeeff7b1253","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_update_name":"sys_script_fix_da4bd90b53012110b87eddeeff7b1253","sys_updated_by":"admin","sys_created_on":"2023-02-20 19:31:06","name":"Migrate CMDB Insight Data","sys_name":"Migrate CMDB Insight Data","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Table Rotation for  Analytics Data Points Queue","sys_updated_on":"2022-05-20 18:16:34","sys_tags":"","record_for_rollback":"false","script":"// Make sure business rules are running after the insertion.\nvar session = gs.getSession();\nsession.setWorkflow(true);\nvar tableName = 'sys_analytics_data_points_queue';\nvar rotations = 3;\nvar duration = '1970-01-02 00:00:00'; // copied from the existing value. This means 1\nvar gr = new GlideRecord('sys_table_rotation');\ngr.addQuery('name', tableName);\ngr.query();\nif(gr.next()) {\n\tgs.info(getScriptName()+'The table rotation for '+ tableName+' table already exists. No record will be created');\n}\nelse {\n\tgr.setWorkflow(true);\n\tgr.setValue('name', tableName);\n\tgr.setValue('duration', duration);\n\tgr.setValue('type', 'rotate');\n\tgr.setValue('rotations', rotations);\n\tvar sysId = gr.insert();\n\tgs.info(getScriptName()+'The table rotation for '+tableName+' is now created by the fix-script. sys_id='+sysId);\n}\nfunction getScriptName() {\n\treturn 'Fix_Script:Table Rotation for Analytics Data Points Queue:';\n}","sys_class_name":"sys_script_fix","sys_id":"daa2f38a776701105679bcc8ca5a9987","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/07d4abbf04312210559073c06a02f7f6","value":"07d4abbf04312210559073c06a02f7f6"},"sys_update_name":"sys_script_fix_daa2f38a776701105679bcc8ca5a9987","sys_updated_by":"admin","sys_created_on":"2022-05-20 18:16:34","name":"Table Rotation - Analytics Data Points","sys_name":"Table Rotation - Analytics Data Points","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Delete the 'com.glide.hub.flow_engine.debug' property. If it was set to true before deletion then set 'com.glide.hub.flow_engine.log_level' to DEBUG","sys_updated_on":"2023-08-28 05:57:28","sys_tags":"","record_for_rollback":"true","script":"var oldPropName = 'com.glide.hub.flow_engine.debug';\nvar oldPropValue = gs.getProperty(oldPropName, null);\n\nvar newPropName = 'com.glide.hub.flow_engine.log_level';\nvar newPropValue = gs.getProperty(newPropName);\n\nif (oldPropValue == null) {\n    gs.log('Deprecated property ' + oldPropName + ' does not exist. No action performed.');\n} else {\n    if (oldPropValue === 'true' && newPropValue !== 'DEBUG') {\n        gs.log('Deprecated property ' + oldPropName + ' exists with value ' + oldPropValue + ' . Changing property ' + newPropName + ' from ' + newPropValue + ' to DEBUG.');\n        var gr = new GlideRecord('sys_properties');\n        gr.addQuery('name', newPropName);\n        gr.query();\n        if (gr.next()) {\n            gr.setValue('value', 'DEBUG');\n            gr.setWorkflow(false);\n            gr.update();\n        }\n    }\n\n    gs.log('Deleting deprecated property ' + oldPropName + ' having value ' + oldPropValue + '.');\n    var oldPropGr = new GlideRecord('sys_properties');\n    oldPropGr.addQuery('name', oldPropName);\n    oldPropGr.query();\n    if (oldPropGr.next()) {\n        oldPropGr.deleteRecord();\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"dae8a3a3773031105e821815ff5a99fd","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/063be77304352210559073c06a02f7e4","value":"063be77304352210559073c06a02f7e4"},"sys_update_name":"sys_script_fix_dae8a3a3773031105e821815ff5a99fd","sys_updated_by":"admin","sys_created_on":"2023-08-28 05:01:06","name":"Delete the flow_engine.debug property","sys_name":"Delete the flow_engine.debug property","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Adding Delete Cascade reference on rate limit violation and rate limit count","sys_updated_on":"2024-07-30 08:24:57","sys_tags":"","record_for_rollback":"true","script":"(function() {\n\tvar update_reference_cascade_rule = function(table_name, element) {\n        var gr = new GlideRecord('sys_dictionary');\n        gr.addQuery('name', table_name);\n        gr.addQuery('element', element);\n        gr.query();\n        if (gr.next()) {\n            gr.setValue('reference_cascade_rule', 'delete');\n            return gr.update();\n        }\n    };\t\n\n    update_reference_cascade_rule('sys_one_extend_rate_limit_count', 'rate_limit_rule');\n    update_reference_cascade_rule('sys_one_extend_rate_limit_violations', 'rate_limit_rule');\n    return;\n})();\n","sys_class_name":"sys_script_fix","sys_id":"db13b7c09fb74210ea3a2fca9a0a1c1c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7c84affb04312210559073c06a02f73d","value":"7c84affb04312210559073c06a02f73d"},"sys_update_name":"sys_script_fix_db13b7c09fb74210ea3a2fca9a0a1c1c","sys_updated_by":"admin","sys_created_on":"2024-07-30 08:24:57","name":"Cascade delete on rate limit rules","sys_name":"Cascade delete on rate limit rules","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"When parameter screen pagination is set to \"Off\" set the advanced boolean field to true","sys_updated_on":"2021-03-25 06:57:50","sys_tags":"","record_for_rollback":"false","script":"var parameterScreens = new GlideRecord(\"sys_sg_parameter_screen\");\nparameterScreens.addQuery(\"pagination_type\", \"off\");\nparameterScreens.setValue(\"advanced\", true);\nparameterScreens.updateMultiple();","sys_class_name":"sys_script_fix","sys_id":"db3d89e2534320100874ddeeff7b121a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b5f42bff04312210559073c06a02f748","value":"b5f42bff04312210559073c06a02f748"},"sys_update_name":"sys_script_fix_db3d89e2534320100874ddeeff7b121a","sys_updated_by":"admin","sys_created_on":"2021-03-25 06:57:50","name":"Parameter pagination to advanced","sys_name":"Parameter pagination to advanced","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Links the db_audio record to include the audio attachment","sys_updated_on":"2021-02-02 15:54:37","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('db_audio');\nif (gr.get('a0b698b09f201200d5f9b3e2957fcf88')) {\n  gs.print(\"db_audio record found\");\n  if (!gr.getValue(\"audio\")) {\n    gs.print(\"audio field empty updating\");\n    gr.setValue(\"audio\", \"14c698b09f201200d5f9b3e2957fcf34\");\n    gr.update();\n  }\n}","sys_class_name":"sys_script_fix","sys_id":"dc43609277c620109636cba40910615d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d4442b7b04312210559073c06a02f7ee","value":"d4442b7b04312210559073c06a02f7ee"},"sys_update_name":"sys_script_fix_dc43609277c620109636cba40910615d","sys_updated_by":"admin","sys_created_on":"2021-02-02 15:54:37","name":"Update Audio Attachment SysId","sys_name":"Update Audio Attachment SysId","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"Update default template for OOTB topics","sys_updated_on":"2021-12-08 07:30:05","sys_tags":"","record_for_rollback":"true","script":"var gr = new GlideRecord('topic');\n    gr.addNullQuery('template');\n    gr.query();\n    while(gr.next()){\n\t  gr.setValue('template','4fb26c9cc3d030102ec1a589a840ddbd');\n\t  gr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"dc8df92df49c0d10f877f91bb76e1867","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4249e63a28d54d61bb6fbf61fd86cccb","value":"4249e63a28d54d61bb6fbf61fd86cccb"},"sys_update_name":"sys_script_fix_dc8df92df49c0d10f877f91bb76e1867","sys_updated_by":"maint","sys_created_on":"2021-12-08 07:08:10","name":"Update template for OOTB topics","sys_name":"Update template for OOTB topics","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/4249e63a28d54d61bb6fbf61fd86cccb","value":"4249e63a28d54d61bb6fbf61fd86cccb"},"sys_created_by":"maint","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"The sys_class_name column has been added to the chg_policy_action table. The chg_approval_def table extends chg_policy_action and will inherit this field. This field is required to ensure references to chg_policy_action are directed to the correct table based on the record's class.","sys_updated_on":"2019-02-18 16:04:06","sys_tags":"","record_for_rollback":"false","script":"(function() {\n    if (!gs.tableExists(\"chg_policy_action\"))\n        return;\n    var tableExtensions = GlideDBObjectManager.get().getAllExtensions(\"chg_policy_action\");\n    for (var i = tableExtensions.size() - 1; i > -1; i--) {\n        var table = tableExtensions.get(i);\n\t\tvar gr = new GlideRecord(table);\n\t\tif (!gr.isValid())\n\t\t\tcontinue;\n\t\tgr.addNullQuery(\"sys_class_name\");\n\t\tgr.query();\n\t\twhile (gr.next()) {\n\t\t\tgr.setValue(\"sys_class_name\", table);\n\t\t\tgr.setWorkflow(false);\n\t\t\tgr.autoSysFields(false);\n\t\t\tgr.update();\n\t\t}\n\t}\n})();","sys_class_name":"sys_script_fix","sys_id":"dcb4753d532323008ef67c2c0fc58703","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/463c67f704352210559073c06a02f76b","value":"463c67f704352210559073c06a02f76b"},"sys_update_name":"sys_script_fix_dcb4753d532323008ef67c2c0fc58703","sys_updated_by":"admin","sys_created_on":"2019-02-11 13:21:25","name":"Set chg_approval_def sys_class_name","sys_name":"Set chg_approval_def sys_class_name","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Copy glide_list kb_knowledge.can_read_user_criteria and kb_knowledge.cannot_read_user_criteria values to an array table","sys_updated_on":"2019-07-29 17:40:47","sys_tags":"","record_for_rollback":"false","script":"var dicEnt = new GlideRecord('sys_dictionary');\ndicEnt.addQuery('name', 'kb_knowledge');\ndicEnt.addQuery('array_denormalized','false');\ndicEnt.addQuery('element', 'IN', 'can_read_user_criteria,cannot_read_user_criteria');\ndicEnt.query();\nwhile(dicEnt.next()){\n\tif(dicEnt.getValue('element') == \"can_read_user_criteria\"){\n\t\tif(gs.tableExists('kb_knowledgecan_read_user_criteria')){\n\t\t\tvar canReadTable = new GlideRecord(\"kb_knowledgecan_read_user_criteria\");\n\t\t\tcanReadTable.deleteMultiple();\n\t\t}\n\t\tGlideFixStuff.initGlideListArrayOptimization('kb_knowledge', 'can_read_user_criteria');\n\t}\n\telse if(dicEnt.getValue('element') == \"cannot_read_user_criteria\"){\n\t\tif(gs.tableExists('kb_knowledgecannot_read_user_criteria')){\n\t\t\tvar cannotReadTable = new GlideRecord(\"kb_knowledgecannot_read_user_criteria\");\n\t\t\tcannotReadTable.deleteMultiple();\n\t\t}\n\t\tGlideFixStuff.initGlideListArrayOptimization('kb_knowledge', 'cannot_read_user_criteria');\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"dd2c8aff537233008bd7ddeeff7b1288","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2fe727ff04b12210559073c06a02f7dd","value":"2fe727ff04b12210559073c06a02f7dd"},"sys_update_name":"sys_script_fix_dd2c8aff537233008bd7ddeeff7b1288","sys_updated_by":"admin","sys_created_on":"2019-07-29 11:24:36","name":"Fix kb_knowledge denormalize uc list","sys_name":"Fix kb_knowledge denormalize uc list","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2013-02-27 21:05:11","sys_tags":"","record_for_rollback":"false","script":"\n\t\t\tfixTableHints();\n\n\t\t\tfunction fixTableHints() {\n\t\t\t\tvar doc = new GlideRecord(\"sys_documentation\");\n\t\t\t\tdoc.initialize();\n\t\t\t\tdoc.addQuery(\"name\", \"sys_db_object\");\n\t\t\t\tdoc.addQuery(\"element\", \"user_role\");\n\t\t\t\tdoc.addQuery(\"language\", \"en\");\n\t\t\t\tdoc.query();\n\t\t\t\tif (doc.next()) {\n\t\t\t\t\tdoc.hint = \"Role required for end users to access this table\";\n\t\t\t\t\tif (doc.changes() && doc.update() != null) {\n\t\t\t\t\t\tgs.log(\"Updated sys_db_object user_role hint\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t","sys_class_name":"sys_script_fix","sys_id":"dd46e6b534b33000a92e751b2ec66125","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/eb0467f704312210559073c06a02f7d2","value":"eb0467f704312210559073c06a02f7d2"},"sys_update_name":"sys_script_fix_dd46e6b534b33000a92e751b2ec66125","sys_updated_by":"michael.hoefer","sys_created_on":"2013-02-27 21:05:11","name":"Fix Tables Documentation","sys_name":"Fix Tables Documentation","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"michael.hoefer","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"","sys_updated_on":"2024-06-20 21:18:50","sys_tags":"","record_for_rollback":"true","script":"var gr = new GlideRecord('sys_dictionary');\ngr.addQuery('name','sys_parallel_job');\ngr.addQuery('element', 'retry_count');\ngr.query();\n\nif (gr.next()){\n\tgr.default_value = '-1';\n\tgr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"dda764e3ff320210fe6343d0653bf12f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cc93a3f304312210559073c06a02f7ce","value":"cc93a3f304312210559073c06a02f7ce"},"sys_update_name":"sys_script_fix_dda764e3ff320210fe6343d0653bf12f","sys_updated_by":"admin","sys_created_on":"2024-06-20 21:14:08","name":"Change parallel job retry count default","sys_name":"Change parallel job retry count default","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Remove Audit attribute for sys_atf_whitelist","sys_updated_on":"2024-10-15 20:32:53","sys_tags":"","record_for_rollback":"true","script":"var tablesList = [\"sys_atf_whitelist\"];\n\t\tdisableAudit();\n\n\t\tfunction disableAudit() {\n\t\tgs.info(\"Executing PI fix script: Reduce audit footprint \" + tablesList);\n\t\tvar gr = new GlideRecord('sys_dictionary');\n\t\tgr.addQuery('name', 'IN', tablesList);\n\t\tgr.addQuery('internal_type', 'collection');\n\t\tgr.addQuery(\"audit\", true);\n\n\t\tgr.setValue(\"audit\", false);\n\t\tgr.updateMultiple();\n\t\t}","sys_class_name":"sys_script_fix","sys_id":"dddf3a8dff111210870bffffffffff07","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/da89277b04f12210559073c06a02f7d6","value":"da89277b04f12210559073c06a02f7d6"},"sys_update_name":"sys_script_fix_dddf3a8dff111210870bffffffffff07","sys_updated_by":"admin","sys_created_on":"2024-10-15 20:32:53","name":"Remove Audit for sys_atf_whitelist","sys_name":"Remove Audit for sys_atf_whitelist","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"true","sys_mod_count":"0","description":"1. change *topic_type* column's display label to *Topic* in sys_cs_conversation_task\r\n2. change *consumer* column's display attribute to *true* in sys_cs_consumer_account","sys_updated_on":"2019-05-11 16:30:33","sys_tags":"","record_for_rollback":"false","script":"var updateConvTask = new GlideRecord('sys_dictionary');\nupdateConvTask.addQuery('name', 'sys_cs_conversation_task');\nupdateConvTask.addQuery('element', 'topic_type');\nupdateConvTask.query();\nif (updateConvTask.next()) {\n\tupdateConvTask.setValue('column_label', 'Topic');\n\tupdateConvTask.update();\n}\n\nvar updateConsumerAccount = new GlideRecord('sys_dictionary');\nupdateConsumerAccount.addQuery('name', 'sys_cs_consumer_account');\nupdateConsumerAccount.addQuery('element', 'consumer');\nupdateConsumerAccount.query();\nif (updateConsumerAccount.next()) {\n\tupdateConsumerAccount.setValue('display', 'true');\n\tupdateConsumerAccount.update();\n}","sys_class_name":"sys_script_fix","sys_id":"dde4fce20b113300dee1c71437673a4d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_dde4fce20b113300dee1c71437673a4d","sys_updated_by":"admin","sys_created_on":"2019-05-11 16:30:33","name":"Update CS dictionary columns","sys_name":"Update CS dictionary columns","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"","sys_updated_on":"2020-09-09 11:48:59","sys_tags":"","record_for_rollback":"false","script":"var choiceValues = new GlideRecord(\"sys_choice\");\nchoiceValues.addQuery(\"value\", \"master_item_field\");\nchoiceValues.addQuery(\"name\", \"sys_sg_embedded_screen_map\");\nchoiceValues.addQuery(\"element\", \"type\");\nchoiceValues.query();\n\nwhile(choiceValues.next()) {\n\tvar language = choiceValues.language;\n\tif (!language)\n\t\tcontinue;\n\t\n\tif (language != \"en\") {\n\t\tvar translation = new GlideRecord(\"sys_ui_message\");\n\t\ttranslation.addQuery(\"key\", \"Item configuration field\");\n\t\ttranslation.addQuery(\"language\", language);\n\t\ttranslation.setLimit(1);\n\t\ttranslation.query();\n\n\t\tif(!translation.hasNext()) {\n\t\t\tgs.log(\"No translation exists for Item configuration field in \" + language);\n\t\t\tcontinue;\n\t\t}\n\t}\n\n\tchoiceValues.label = gs.getMessageLang(\"Item configuration field\", language);\n\tchoiceValues.setWorkflow(false);\n\tchoiceValues.update();\n}","sys_class_name":"sys_script_fix","sys_id":"de03b3cb5b071010a175309fb681c7c4","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/eec96fbb04f12210559073c06a02f711","value":"eec96fbb04f12210559073c06a02f711"},"sys_update_name":"sys_script_fix_de03b3cb5b071010a175309fb681c7c4","sys_updated_by":"admin","sys_created_on":"2020-09-09 11:44:45","name":"sys_script_fix","sys_name":"sys_script_fix","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Promote description column from sys_pd_activity to sys_pd_derivative in process automation designer.","sys_updated_on":"2024-02-26 21:17:35","sys_tags":"","record_for_rollback":"false","script":"if (!pm.isZboot())\n    GlideDBUtil.promoteColumn(\"sys_pd_activity\", \"sys_pd_derivative\", \"description\");","sys_class_name":"sys_script_fix","sys_id":"de371f80a3e002108125474446fcda15","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/903e67b304752210559073c06a02f757","value":"903e67b304752210559073c06a02f757"},"sys_update_name":"sys_script_fix_de371f80a3e002108125474446fcda15","sys_updated_by":"admin","sys_created_on":"2024-02-19 16:46:28","name":" Promote description column","sys_name":" Promote description column","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":"read"},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Copies the custom channel system property time out to the appropriate Channel row's Conversation Idle Timeout","sys_updated_on":"2021-03-23 22:35:03","sys_tags":"","record_for_rollback":"false","script":"var sysPropGR = new GlideRecord('sys_properties');\nsysPropGR.addQuery('name', 'ENDSWITH', '_idle_timeout');\nsysPropGR.query();\n\nwhile(sysPropGR.next()) {\n\ttry{\n\t\tvar name = sysPropGR.getValue('name');\n\t\tvar channelName = name.match(/com.glide.cs.(.*)_idle_timeout/)[1];\n\n\t\tvar channelGR = new GlideRecord('sys_cs_channel');\n\t\tchannelGR.addQuery('name', channelName);\n\t\tchannelGR.query();\n\n\t\tif(channelGR.next()) {\n\t\t\tchannelGR.setValue('timeout', sysPropGR.getValue('value'));\n\t\t\tchannelGR.update();\n\t\t}\n\t}\n\tcatch(ex) {\n\t\tgs.error('Failed to migrate sys property for custom channel timeout for ' + name);\n\t}\n}\n","sys_class_name":"sys_script_fix","sys_id":"de81cdb9534320103296ddeeff7b12b2","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_de81cdb9534320103296ddeeff7b12b2","sys_updated_by":"admin","sys_created_on":"2021-03-22 21:46:03","name":"Move channel timeouts to channel table","sys_name":"Move channel timeouts to channel table","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2021-05-18 22:05:49","sys_tags":"","record_for_rollback":"false","sys_class_name":"sys_script_fix","sys_id":"deb8ee0cc7503010b59949f988c2609b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/063be77304352210559073c06a02f7e4","value":"063be77304352210559073c06a02f7e4"},"sys_update_name":"sys_script_fix_deb8ee0cc7503010b59949f988c2609b","sys_updated_by":"admin","sys_created_on":"2021-05-18 22:05:49","name":"This fix script is part of DEF0210873, W","sys_name":"Remove flow designer ACTIVE NODES jobs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":"protected"},{"before":"false","unloadable":"false","sys_mod_count":"10","description":"Migrates the visible flag from sys_cs_topic table to sys_gen_ai_skill_config table. ","sys_updated_on":"2024-03-28 16:05:33","sys_tags":"","record_for_rollback":"true","script":"var topicGr = new GlideRecord(\"sys_cs_topic\");\ntopicGr.addQuery(\"model_type\", \"llm\");\ntopicGr.query();\n\nvar skillDocumentVisibilityMap = {};\nwhile (topicGr.next()) {\n    skillDocumentVisibilityMap[topicGr.sys_id] = topicGr.visible.toString() === 'true';\n}\n\nif (Object.keys(skillDocumentVisibilityMap).length > 0) {\n    var skillConfigGr = new GlideRecord(\"sys_gen_ai_skill_config\");\n    skillConfigGr.addQuery(\"skill_id.skill_document\", \"IN\", Object.keys(skillDocumentVisibilityMap).join(','));\n    skillConfigGr.query();\n\n    while (skillConfigGr.next()) {\n        var skillDocumentId = skillConfigGr.skill_id.skill_document.toString();\n\n        if (skillDocumentVisibilityMap.hasOwnProperty(skillDocumentId)) {\n            skillConfigGr.visible = skillDocumentVisibilityMap[skillDocumentId] ? \"true\" : \"false\";\n            skillConfigGr.update();\n            gs.info(\"Updated visible flag of skill: \" + skillDocumentId + \" to \" + skillDocumentVisibilityMap[skillDocumentId]);\n        }\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"dece22359f810210f29e21164b0a1c24","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_dece22359f810210f29e21164b0a1c24","sys_updated_by":"admin","sys_created_on":"2024-03-20 20:49:49","name":"Migrate visible flag from topic to skill","sys_name":"Migrate visible flag from topic to skill","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"6","description":"Updating the type and size of 'recommendation' field from Choice of max_length 40 to String of max_length 200","sys_updated_on":"2024-04-04 08:58:02","sys_tags":"","record_for_rollback":"true","script":"updateRecommendation(\"ml_label_candidate\");\nupdateRecommendation(\"ml_labeled_data\");\n\n\nfunction updateRecommendation(tableName) {\n    var gr = new GlideRecord(\"sys_dictionary\");\n    gr.addQuery(\"name\", tableName);\n    gr.addQuery(\"element\", \"recommendation\");\n    gr.query();\n\n    if (gr.next()) {\n        gr.setValue(\"internal_type\", \"string\");\n        gr.setValue(\"max_length\", \"200\");\n        gr.setValue(\"choice\", \"\");\n        gr.update();\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"dfcdc6a135aa7110f8779e2a3d4cd767","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_script_fix_dfcdc6a135aa7110f8779e2a3d4cd767","sys_updated_by":"admin","sys_created_on":"2023-11-16 17:04:25","name":"Update type and length of recommendation","sys_name":"Update type and length of recommendation","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"Fix default values for new trigger rule group_assigned and when fields","sys_updated_on":"2021-03-01 18:59:00","sys_tags":"","record_for_rollback":"false","script":"updateDefaultTriggerRuleUserGroupFields();\n\nfunction updateDefaultTriggerRuleUserGroupFields() {\n\tif (pm.isZboot())\n\t\treturn;\n\n\tvar gr = new GlideRecord(\"trigger_rule\");\n\tgr.addNullQuery(\"trigger_group_assigned\");\n\tgr.addNullQuery(\"trigger_when\");\n\tgr.setValue(\"trigger_group_assigned\", false);\n\tgr.setValue(\"trigger_when\", \"condition_matches\");\n\tgr.updateMultiple();\n}","sys_class_name":"sys_script_fix","sys_id":"e031100f53a620100999ddeeff7b1266","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_script_fix_e031100f53a620100999ddeeff7b1266","sys_updated_by":"admin","sys_created_on":"2021-03-01 18:55:59","name":"trigger rule default values","sys_name":"trigger rule default values","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Append task_cmdb_ci_business_app to the Copy Related List property so that Business Applications are included when copying a Change request","sys_updated_on":"2019-03-19 14:07:37","sys_tags":"","record_for_rollback":"false","script":"var businessAppTable = 'task_cmdb_ci_business_app';\nvar propRelatedList = 'com.snc.change_request.copy.related_lists';\nvar property = gs.getProperty(propRelatedList);\nif (property) {\n\tvar propertyArr = property.split(',');\n\tif (!new ArrayUtil().contains(propertyArr, businessAppTable)) {\n\t\tpropertyArr.push(businessAppTable);\n\t\tgs.setProperty(propRelatedList, propertyArr.join(','));\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"e06e29ca233210101488dc1756bf65d1","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/32b7af7f04b12210559073c06a02f7fb","value":"32b7af7f04b12210559073c06a02f7fb"},"sys_update_name":"sys_script_fix_e06e29ca233210101488dc1756bf65d1","sys_updated_by":"admin","sys_created_on":"2019-03-15 11:40:12","name":"Append business application to copy chan","sys_name":"Append business application to copy change ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"12","description":"The sys_number table field (category) is being converted to a reference to sys_db_object (Table) so that it is easier to use prevents errors.  Also, the number (number) and number of digits (maximum_digit) fields are getting new defaults.","sys_updated_on":"2012-09-22 00:24:39","sys_tags":"","record_for_rollback":"false","script":"//update the category to a reference to sys_db_object\nvar gr = new GlideRecord(\"sys_dictionary\");\ngr.addQuery(\"name\", \"sys_number\");\ngr.addQuery(\"element\", \"category\");\ngr.query();\nif (gr.next()) {\n\tgr.setValue(\"internal_type\", \"reference\");\n\tgr.setValue(\"reference\", \"sys_db_object\");\n\tgr.setValue(\"reference_key\", \"name\");\n\tgr.update();\n}\n\n//set the default value to 0 for number and update label\ngr = new GlideRecord(\"sys_dictionary\");\ngr.addQuery(\"name\", \"sys_number\");\ngr.addQuery(\"element\", \"number\");\ngr.query();\nif (gr.next()) {\n\tgr.setValue(\"default_value\", \"1000\");\n\tgr.update();\n}\ngr = new GlideRecord(\"sys_documentation\");\ngr.addQuery(\"name\", \"sys_number\");\ngr.addQuery(\"element\", \"number\");\ngr.addQuery(\"language\", \"en\");\ngr.query();\n\nif (gr.next()) {\n\tgr.setValue(\"hint\", \"Starting number for any counter based on this numbering scheme\");\n\tgr.update();\n}\n\n//set the default value to 0 for number\ngr = new GlideRecord(\"sys_dictionary\");\ngr.addQuery(\"name\", \"sys_number\");\ngr.addQuery(\"element\", \"maximum_digits\");\ngr.query();\nif (gr.next()) {\n\tgr.setValue(\"default_value\", \"7\");\n\tgr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"e1398796bf6030001875647fcf0739d4","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fe0427f704312210559073c06a02f71a","value":"fe0427f704312210559073c06a02f71a"},"sys_update_name":"sys_script_fix_e1398796bf6030001875647fcf0739d4","sys_updated_by":"admin","sys_created_on":"2012-09-21 01:02:17","name":"Update Number Maintenance Fields","sys_name":"Update Number Maintenance Fields","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"We added sys_class_name field in Rome release, on sys_cs_auto_resolution_context table. This script will update this field for existing customers\r\nUpgrade scenario: Q to any higher relases","sys_updated_on":"2021-04-08 17:05:59","sys_tags":"","record_for_rollback":"false","script":"updateSysClassNameOnContextRecord();\n\nfunction updateSysClassNameOnContextRecord() {\n\tvar contextGr = new GlideRecord('sys_cs_auto_resolution_context');\n\tcontextGr.addNullQuery('sys_class_name');\n\t\n\tcontextGr.setValue('sys_class_name', 'sys_cs_auto_resolution_context');\n\tcontextGr.updateMultiple();\n}","sys_class_name":"sys_script_fix","sys_id":"e23ac747ff932010635f056d793bf10c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca4f3f704b52210559073c06a02f789","value":"aca4f3f704b52210559073c06a02f789"},"sys_update_name":"sys_script_fix_e23ac747ff932010635f056d793bf10c","sys_updated_by":"admin","sys_created_on":"2021-04-08 15:14:35","name":"Update sys class name on context records","sys_name":"Update sys class name on context records","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Change the refQual of column \"problem\" in table \"problem_task\"","sys_updated_on":"2024-03-25 10:08:00","sys_tags":"","record_for_rollback":"true","script":"updateColumnRefQual();\n\nfunction updateColumnRefQual() {\n    var gr = new GlideRecord(\"sys_dictionary\");\n    gr.addEncodedQuery(\"reference_qual_conditionISEMPTY^dynamic_ref_qualISEMPTY^reference_qualISEMPTY^name=problem_task^element=problem\");\n    gr.setWorkflow(false);\n    gr.query();\n    if (gr.next()) {\n        gr.setValue(\"use_reference_qualifier\", \"advanced\");\n        gr.setValue(\"reference_qual\", \"javascript:ProblemTaskModel.getRefQualForParent(current);\");\n        gr.update();\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"e29b465f43c1821041c239aaaab8f2ae","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/02dca7fb04352210559073c06a02f7cc","value":"02dca7fb04352210559073c06a02f7cc"},"sys_update_name":"sys_script_fix_e29b465f43c1821041c239aaaab8f2ae","sys_updated_by":"admin","sys_created_on":"2024-03-25 10:00:39","name":"Update dictionary refQual for pTask","sys_name":"Update dictionary refQual for pTask","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"This fix script is used for upgrading customer to update their business process to new fields","sys_updated_on":"2020-09-22 07:24:32","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('cmdb_ci_business_process');\ngr.query();\ngr.setWorkflow(false);\ngr.setValue('life_cycle_stage','Ideation');\ngr.setValue('life_cycle_stage_status','Under Evaluation');\ngr.updateMultiple();","sys_class_name":"sys_script_fix","sys_id":"e344755f73131010ec95d11ee2f6a76e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1eddeb3304752210559073c06a02f787","value":"1eddeb3304752210559073c06a02f787"},"sys_update_name":"sys_script_fix_e344755f73131010ec95d11ee2f6a76e","sys_updated_by":"admin","sys_created_on":"2020-09-22 07:24:32","name":"Update life cycle stage and status","sys_name":"Update life cycle stage and status","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"6","description":"This Fix Script updates the \"Irrelevant\" Utterance choices in ml_labeled_data.\r\n","sys_updated_on":"2023-04-05 03:15:38","sys_tags":"","record_for_rollback":"true","script":"if (!pm.isZboot()) {\n    // ULT\n    addChoiceRecord(\"ml_labeled_data\", \"label_type\", \"Irrelevant to this model\", \"irrelevant_to_this_model\", 5);\n    updateChoiceRecordLabel(\"ml_labeled_data\", \"label_type\", \"Irrelevant to any model\", \"irrelevant\");\n\n    addChoiceRecord(\"ml_labeled_data\", \"source\", \"Manual\", \"manual\", 3);\n    addChoiceRecord(\"ml_labeled_data\", \"source\", \"Issue Auto Resolution\", \"issue_auto_resolution\", 4);\n    addChoiceRecord(\"ml_label_candidate\", \"source\", \"Issue Auto Resolution\", \"issue_auto_resolution\", 3);\n}\n\n\n/**\n * Adds a new choice record for  records with the same table name and choice value,\n * for all languages. Translations of choice records have different labels, but share \n * the same choice value.\n * @param {string} tableName\tthe name of the table that the choice record is associated with\n * @param {string} element\t\tthe name of the table element with choices\n * @param {string} choiceLabel\tthe label of the choice\n * @param {string} choiceValue\tthe value of the choice\n * @return {void}\n */\nfunction addChoiceRecord(tableName, element, choiceLabel, choiceValue, sequence) {\n    var choiceGr = new GlideRecord(\"sys_choice\");\n    choiceGr.initialize();\n    choiceGr.setValue(\"element\", element);\n    choiceGr.setValue(\"name\", tableName);\n    choiceGr.setValue(\"label\", choiceLabel);\n    choiceGr.setValue(\"value\", choiceValue);\n    choiceGr.setValue(\"sequence\", sequence);\n    choiceGr.setValue(\"language\", \"en\");\n    var choiceId = choiceGr.insert();\n\n    if (gs.nil(choiceId))\n        gs.error(\"Error inserting new choice record for element {0} with choice value {1} on table {2}\", element, choiceValue, tableName);\n\n    gs.info(\"Choice value {0} has successfully been inserted for element {1} on table {2}\", choiceValue, element, tableName);\n}\n\nfunction updateChoiceRecordLabel(tableName, element, choiceLabel, choiceValue) {\n    var choiceGr = new GlideRecord(\"sys_choice\");\n    choiceGr.addQuery(\"name\", tableName);\n    choiceGr.addQuery(\"element\", element);\n    choiceGr.addQuery(\"value\", choiceValue);\n    choiceGr.query();\n    if (choiceGr.next()) {\n        choiceGr.setValue(\"label\", choiceLabel);\n        choiceGr.update();\n    }\n\n    gs.info(\"Choice value {0} for element {1} on table {2} has choice label updated to {3}\", choiceValue, element, tableName, choiceLabel);\n}","sys_class_name":"sys_script_fix","sys_id":"e3a63ca5879121104effedb73cbb3536","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_script_fix_e3a63ca5879121104effedb73cbb3536","sys_updated_by":"admin","sys_created_on":"2023-02-28 11:20:58","name":"Update ml_labeled_data","sys_name":"Update ml_labeled_data","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Sets reclaimable size attribute(min_reclaim_size_mb) to 1024mb for mass encryption job table.","sys_updated_on":"2024-10-17 04:17:23","sys_tags":"","record_for_rollback":"true","script":"addReclaimSizeAttribute();\n\nfunction addReclaimSizeAttribute() {\n    try {\n        var td = GlideTableDescriptor.get('sys_mass_encryption_job');\n        if (td == null) {\n            gs.error(\"Table Descriptor for 'sys_mass_encryption_job' is null, unable to add 'min_reclaim_size_mb' attribute\");\n            return;\n        }\n        var ed = td.getED();\n        if (ed == null) {\n            gs.error(\"Element Descriptor for 'sys_mass_encryption_job' is null, unable to add 'min_reclaim_size_mb' attribute\");\n            return;\n        }\n        GlideBootstrap.mergeTableAttributes(ed, 'min_reclaim_size_mb=1024');\n        gs.info(\"'min_reclaim_size_mb' attribute added and set to 1024mb for sys_mass_encryption_job table\");\n    } catch (e) {\n        gs.error(\"Exception adding min_reclaim_size_mb attribute to encryption job table - \" + e.toString());\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"e3b15ce17f151210dfcf4af7ac86653c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e2d36b7704312210559073c06a02f7f4","value":"e2d36b7704312210559073c06a02f7f4"},"sys_update_name":"sys_script_fix_e3b15ce17f151210dfcf4af7ac86653c","sys_updated_by":"admin","sys_created_on":"2024-10-16 21:09:34","name":"Add reclaim attribute to encryption job","sys_name":"Add reclaim attribute to encryption job","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Update label and hint of send_by_default column in sys_notif_destination_type table","sys_updated_on":"2021-04-05 06:00:26","sys_tags":"","record_for_rollback":"false","script":"function updateSendByDefaultFieldLabel(tableName) {\n\tif(!GlideTableDescriptor.isValid(tableName))\n\t\treturn;\n\n\tvar gr = new GlideRecord('sys_documentation');\n\tgr.addQuery('name', tableName);\n\tgr.addQuery('element', 'send_by_default');\n\tgr.addQuery('language', 'en');\n\tgr.query();\n\tif (gr.next()) {\n\t\tgr.setValue('label', 'Auto Opt-in');\n\t\tgr.setValue('plural', 'Auto Opt-in');\n\t\tgr.setValue('hint', 'If checked, the recipient who has not explicitly subscribed/unsubscribed to receive a notification on this destination type will start receiving them.');\n\t\tgr.update();\n\t}\n\n\tvar grDictionary = new GlideRecord('sys_dictionary');\n\tgrDictionary.addQuery('name', tableName);\n\tgrDictionary.addQuery('element', 'send_by_default');\n\tgrDictionary.addQuery('column_label', 'Send By Default');\n\tgrDictionary.query();\n\tif (grDictionary.next()) {\n\t\tgrDictionary.setValue('column_label', 'Auto Opt-in');\n\t\tgrDictionary.update();\n\t}\n}\n\nif(!pm.isZboot())\nupdateSendByDefaultFieldLabel('sys_notif_destination_type');\n\n","sys_class_name":"sys_script_fix","sys_id":"e3fee7900f5b201051218e8ebc767e2c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4c93a3f304312210559073c06a02f7f1","value":"4c93a3f304312210559073c06a02f7f1"},"sys_update_name":"sys_script_fix_e3fee7900f5b201051218e8ebc767e2c","sys_updated_by":"admin","sys_created_on":"2021-03-31 04:54:03","name":"Update Send By Default Field","sys_name":"Update Send By Default Field","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Fix script for modifying labels of CMDB tables for J release","sys_updated_on":"2016-10-09 07:41:42","sys_tags":"","record_for_rollback":"false","script":"//API: renameTable(tableName, previousLabel, targetLabel, plural)\n//     changeHint(tableName, previousHint, targetHint);\n\ngs.log(\"Changing labels of CMDB tables for J release\");\n\n//PRB711807 - Endpoint labels are not expressing the fact these are endpoint.\n\nrenameTable(\"cmdb_ci_endpoint_mysql_cl_dn\", \"MySQL Cluster Data Node\", \"MySQL Cluster Data Node Endpoint\", \"MySQL Cluster Data Node Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_msmq\", \"MSMQ Flow\", \"MSMQ Flow Endpoint\", \"MSMQ Flow Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_ent_vault\", \"Enterprise Vault EP\", \"Enterprise Vault Endpoint\", \"Enterprise Vault Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_ldap\", \"LDAP\", \"LDAP Endpoint\", \"LDAP Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_sap_app\", \"SAP APP EP\", \"SAP APP Endpoint\", \"SAP APP Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_fromcluster_t\", \"FromCluster_to_RabbitMQ\", \"FromCluster_to_RabbitMQ Endpoint\", \"FromCluster_to_RabbitMQ Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_f5\", \"F5 Mirror\", \"F5 Mirror Endpoint\", \"F5 Mirror Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_postgresql\", \"PostgreSQL DB\", \"PostgreSQL DB Endpoint\", \"PostgreSQL DB Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_dctm_broker\", \"DCTM Connection to broker\", \"DCTM Connection to broker Endpoint\", \"DCTM Connection to broker Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_ejb\", \"EJB\", \"EJB Endpoint\", \"EJB Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_ctg\", \"CTG\", \"CTG Endpoint\", \"CTG Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_ssas\", \"SSAS\", \"SSAS Endpoint\", \"SSAS Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_fastsearch\", \"Fast Search\", \"Fast Search Endpoint\", \"Fast Search Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_mq\", \"MQ\", \"MQ Endpoint\", \"MQ Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_mapi_hub\", \"MAPI-HUB\", \"MAPI-HUB Endpoint\", \"MAPI-HUB Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_hpom\", \"HPOM\", \"HPOM Endpoint\", \"HPOM Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_db2sql\", \"DB2 UDB\", \"DB2 UDB Endpoint\", \"DB2 UDB Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_ad_domain\", \"Active Directory Domain to Domain Controllers\", \"Active Directory Domain to Domain Controllers Endpoint\", \"Active Directory Domain to Domain Controllers Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_xenapp_comp\", \"XenApp or Presentation Server Components\", \"XenApp or Presentation Server Components Endpoint\", \"XenApp or Presentation Server Components Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_ajp\", \"AJP\", \"AJP Endpoint\", \"AJP Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_ssas_mssql\", \"SSAS for MSSQL\", \"SSAS for MSSQL Endpoint\", \"SSAS for MSSQL Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_imap\", \"IMAP\", \"IMAP Endpoint\", \"IMAP Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_smtp\", \"SMTP\", \"SMTP Endpoint\", \"SMTP Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_app_storage\", \"Application To Storage\", \"Application To Storage Endpoint\", \"Application To Storage Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_tbco_confile\", \"Tibco Conf File\", \"Tibco Conf File Endpoint\", \"Tibco Conf File Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_storage_fc\", \"Storage FC Connectivity\", \"Storage FC Connectivity Endpoint\", \"Storage FC Connectivity Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_rabbitmq\", \"RabbitMQ EP\", \"RabbitMQ Endpoint\", \"RabbitMQ Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_docbase\", \"DocBase Connection\", \"DocBase Connection Endpoint\", \"DocBase Connection Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_ems_jndi\", \"EMS JNDI\", \"EMS JNDI Endpoint\", \"EMS JNDI Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_tcp\", \"TCP\", \"TCP Endpoint\", \"TCP Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_ssis_mssql\", \"SSIS for MSSQL\", \"SSIS for MSSQL Endpoint\", \"SSIS for MSSQL Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_mysql_server\", \"MySQL Server\", \"MySQL Server Endpoint\", \"MySQL Server Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_dctm_index\", \"DCTM Index Agent Connection\", \"DCTM Index Agent Connection Endpoint\", \"DCTM Index Agent Connection Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_nntp\", \"NNTP\", \"NNTP Endpoint\", \"NNTP Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_ms_sql_server\", \"MS SQL Server EP\", \"MS SQL Server Endpoint\", \"MS SQL Server Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_dctm_job\", \"DCTM Job Processor\", \"DCTM Job Processor Endpoint\", \"DCTM Job Processor Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_oracle_rac\", \"Oracle RAC DB\", \"Oracle RAC DB Endpoint\", \"Oracle RAC DB Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_sybase\", \"Sybase\", \"Sybase Endpoint\", \"Sybase Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_iifp\", \"IIFP\", \"IIFP Endpoint\", \"IIFP Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_network\", \"Network EP\", \"Network Endpoint\", \"Network Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_itam\", \"ITAM Asset Center EP\", \"ITAM Asset Center Endpoint\", \"ITAM Asset Center Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_tibco_file\", \"Tibco File Listener\", \"Tibco File Listener Endpoint\", \"Tibco File Listener Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_mq_mem\", \"MQ Cross-memory\", \"MQ Cross-memory Endpoint\", \"MQ Cross-memory Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_ftp\", \"FTP\", \"FTP Endpoint\", \"FTP Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_aq\", \"Advanced Queue\", \"Advanced Queue Endpoint\", \"Advanced Queue Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_biztalk\", \"BizTalk Connection\", \"BizTalk Connection Endpoint\", \"BizTalk Connection Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_tibco_hawk\", \"Tibco Hawk EP\", \"Tibco Hawk Endpoint\", \"Tibco Hawk Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_mq_flow\", \"MQ Flow\", \"MQ Flow Endpoint\", \"MQ Flow Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_rfc\", \"RFC\", \"RFC Endpoint\", \"RFC Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_oracle_db\", \"Oracle DB\", \"Oracle DB Endpoint\", \"Oracle DB Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_sap\", \"SAP Application Server EP\", \"SAP Application Server Endpoint\", \"SAP Application Server Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_sp_connection\", \"Sharepoint connection\", \"Sharepoint connection Endpoint\", \"Sharepoint connection Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_rabbitmq_queu\", \"RabbitMQ Queue EP\", \"RabbitMQ Queue Endpoint\", \"RabbitMQ Queue Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_ems\", \"EMS\", \"EMS Endpoint\", \"EMS Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_tibco_bw\", \"Tibco BW\", \"Tibco BW Endpoint\", \"Tibco BW Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_remote_tcp\", \"Remote TCP Cross-memory\", \"Remote TCP Cross-memory Endpoint\", \"Remote TCP Cross-memory Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_peoplesoft\", \"Peoplesoft Application Server EP\", \"Peoplesoft Application Server Endpoint\", \"Peoplesoft Application Server Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_jms_server\", \"JMS Server\", \"JMS Server Endpoint\", \"JMS Server Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_wmb_depend\", \"WMB Dependency\", \"WMB Dependency Endpoint\", \"WMB Dependency Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_mysql_slave\", \"MySQL Slave Server\", \"MySQL Slave Server Endpoint\", \"MySQL Slave Server Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_obj_cms_srv\", \"Business Objects CMS Server\", \"Business Objects CMS Server Endpoint\", \"Business Objects CMS Server Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_ad_forest\", \"Active Directory Forest\", \"Active Directory Forest Endpoint\", \"Active Directory Forest Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_oracle_esb\", \"Oracle ESB Connection\", \"Oracle ESB Connection Endpoint\", \"Oracle ESB Connection Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_mapi\", \"MAPI\", \"MAPI Endpoint\", \"MAPI Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_vm_esx\", \"VirtualMachine to ESX Storage\", \"VirtualMachine to ESX Storage Endpoint\", \"VirtualMachine to ESX Storage Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_pop3\", \"POP3\", \"POP3 Endpoint\", \"POP3 Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_mysql_cl_mg\", \"MySQL Cluster MGM\", \"MySQL Cluster MGM Endpoint\", \"MySQL Cluster MGM Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_ssis_file\", \"SSIS file\", \"SSIS file Endpoint\", \"SSIS file Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_listener_wmb\", \"HTTP Listener to WMB Dependency\", \"HTTP Listener to WMB Dependency Endpoint\", \"HTTP Listener to WMB Dependency Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_ssis\", \"SSIS\", \"SSIS Endpoint\", \"SSIS Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_crm\", \"CRM Component\", \"CRM Component Endpoint\", \"CRM Component Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_jms_flow\", \"JMS Flow\", \"JMS Flow Endpoint\", \"JMS Flow Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_http\", \"HTTP(S)\", \"HTTP(S) Endpoint\", \"HTTP(S) Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_dliver_cnrl\", \"Citrix Delivery Controller\", \"Citrix Delivery Controller Endpoint\", \"Citrix Delivery Controller Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_sap_db\", \"SAP HANA DB EP\", \"SAP HANA DB Endpoint\", \"SAP HANA DB Endpoints\");\nrenameTable(\"cmdb_ci_endpoint_exchange\", \"Exchange 2013\", \"Exchange 2013 Endpoint\", \"Exchange 2013 Endpoints\");\n\n\ngs.log(\"Done changing labels for CMDB tables\");\n\n\nfunction renameTable(tableName, previousLabel, targetLabel, plural){\n\t//Rename Sys Db Object\n\tgs.log(\"About to change label of \" + tableName + \" from \" + previousLabel + \" to \" + targetLabel);\n\tvar dbObj = new GlideRecord(\"sys_db_object\");\n\tdbObj.addQuery(\"name\",tableName);\n\tdbObj.query();\n\tif(dbObj.next()){\n\t\tvar currentLabel = dbObj.getValue(\"label\");\n\t\tif (currentLabel != previousLabel) {\n\t\t\tgs.log(\"No need to change label: current label=\" + currentLabel +\", expected=\" + previousLabel);\n\t\t\treturn;\n\t\t}\n\t\tdbObj.setValue(\"label\",targetLabel);\n\t\tdbObj.update();\n\t\tgs.log(\"Changed label of \" + tableName + \" to \" + targetLabel);\n\t} else {\n\t\tgs.log(\"Table \" + tableName + \" not found in sys_db_object\");\n\t}\n\t\n\t// Modify plural in sys_documentation table\n\tvar docObj = new GlideRecord(\"sys_documentation\");\n\tdocObj.addQuery(\"name\",tableName);\n\tdocObj.addNullQuery(\"element\");\n\tdocObj.query();\n\tif(docObj.next()){\n\t\tvar currentPlural = docObj.getValue(\"plural\");\n\t\tif (currentPlural != plural) {\n\t\t\tgs.log(\"Changing plural to \" + plural);\n\t\t\tdocObj.setValue(\"plural\", plural);\n\t\t\tdocObj.update();\n\t\t}\n\t} else {\n\t\tgs.log(\"Table \" + tableName + \" not found in sys_documentation\");\n\t}\n\t\n\tgs.log(\"Done changing label of \" + tableName);\n}\n\nfunction changeHint(tableName, previousHint, targetHint){\n\t// Modifying hint in sys_documentation table\n\tgs.log(\"Changing hint of \" + tableName + \" from \" + previousHint + \" to \" + targetHint);\n\tvar docObj = new GlideRecord(\"sys_documentation\");\n\tdocObj.addQuery(\"name\",tableName);\n\tdocObj.addNullQuery(\"element\");\n\tdocObj.query();\n\tif(docObj.next()){\n\t\tvar currentHint = docObj.getValue(\"hint\");\n\t\tif (currentHint != previousHint) {\n\t\t\tgs.log(\"No need to change hint: current=\" + currentHint + \", expected=\" + previousHint);\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tgs.log(\"Changing hint to \" + targetHint);\n\t\tdocObj.setValue(\"hint\", targetHint);\n\t\tdocObj.update();\n\t}\n\t\n\tgs.log(\"Done changing hint of \" + tableName);\n}","sys_class_name":"sys_script_fix","sys_id":"e40061e20b922200b0020d2835673ae0","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_e40061e20b922200b0020d2835673ae0","sys_updated_by":"admin","sys_created_on":"2016-10-09 07:41:42","name":"J Release: Update CMDB Table Labels","sys_name":"J Release: Update CMDB Table Labels","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"7","description":"This script is to get new native mobile \"Favorite\" cards compatible with the next experience theme. This script should be run only if the instance is on Utah or post Utah family release.","sys_updated_on":"2022-08-25 10:10:00","sys_tags":"","record_for_rollback":"true","script":"//Switch runManually to true in order to run this script\nvar runManually = false;\nif (runManually) {\n    var util = new sn_me.MobileNextExpUpgradeUtil();\n    upgradeFavoritesCard();\n}\n\nfunction upgradeFavoritesCard() {\n    var favorites = [\n        //favorites (with image)\n        {\n            \"masterItem\": \"67d525ca773101108f64b2487b5a992e\",\n            \"newCard\": \"737198bb777811109033bfeacf5a99ad\",\n            \"oldCard\": \"d21629ca773101108f64b2487b5a9974\"\n        },\n        //favorites (without image)\n        {\n            \"masterItem\": \"a466a9ca773101108f64b2487b5a99f1\",\n            \"newCard\": \"d5fb80b377f411109033bfeacf5a99e4\",\n            \"oldCard\": \"de36e5ca773101108f64b2487b5a99ca\"\n        }\n    ];\n\n    favorites.forEach(function revertEachLink(link) {\n        util.switchConnection(\"sys_sg_master_item\", \"view_config\", link.masterItem, link.oldCard, link.newCard);\n    });\n}","sys_class_name":"sys_script_fix","sys_id":"e4046cb853651110fedfddeeff7b12e4","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4249e63a28d54d61bb6fbf61fd86cccb","value":"4249e63a28d54d61bb6fbf61fd86cccb"},"sys_update_name":"sys_script_fix_e4046cb853651110fedfddeeff7b12e4","sys_updated_by":"admin","sys_created_on":"2022-08-23 16:03:59","name":"Mobile Next Exp - EC","sys_name":"Mobile Next Exp - EC","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/4249e63a28d54d61bb6fbf61fd86cccb","value":"4249e63a28d54d61bb6fbf61fd86cccb"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"0","description":"Fix script to update Operational status to \"Non-Operational (2)\" of those VMWare VMs whose Status (install_status) is \"Retired (7)\" but Operational status (operational_status) is still \"Operational (1)\"","sys_updated_on":"2023-05-29 12:07:02","sys_tags":"","record_for_rollback":"true","script":"var gr = new GlideMultipleUpdate(\"cmdb_ci_vmware_instance\");\ngr.addQuery('install_status', '7');\ngr.addQuery('operational_status', '1');\ngr.setValue('operational_status', '2');\ngr.execute();\n","sys_class_name":"sys_script_fix","sys_id":"e480e422970bed90b2ee33671153af45","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/91d8237704f12210559073c06a02f73b","value":"91d8237704f12210559073c06a02f73b"},"sys_update_name":"sys_script_fix_e480e422970bed90b2ee33671153af45","sys_updated_by":"now.discovery.content","sys_created_on":"2023-05-29 12:07:02","name":"Update OS of Retired VMWare VMs","sys_name":"Update OS of Retired VMWare VMs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"now.discovery.content","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"Change ml_stopwords name field type from string to translated_field.","sys_updated_on":"2023-10-03 05:57:05","sys_tags":"","record_for_rollback":"true","script":"if (!pm.isZboot()) {\n\n    var gr = new GlideRecord(\"sys_dictionary\");\n    gr.addQuery(\"name\", \"ml_stopwords\");\n    gr.addQuery(\"element\", \"name\");\n    gr.query();\n    if (gr.next()) {\n        gr.setValue(\"internal_type\", \"translated_field\");\n        gr.update();\n        gs.info(\"Changed ml_stopwords name field type to translated_field\");\n    }\n\n}","sys_class_name":"sys_script_fix","sys_id":"e48cb046b7213110a918d94ece11a99e","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_script_fix_e48cb046b7213110a918d94ece11a99e","sys_updated_by":"admin","sys_created_on":"2023-09-29 07:34:25","name":"Change ml_stopwords name field type","sys_name":"Change ml_stopwords name field type","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"This fix script updates the properties 'glide.ui.url.external' and 'glide.ui.url.external.content' to false for new customers.","sys_updated_on":"2021-12-22 05:51:01","sys_tags":"","record_for_rollback":"true","script":"\nif(pm.isZboot()) {\n\tgs.info(\"Disable Connect External Link System Properties for fresh instances.\");\n\tvar before = gs.getSession().getWorkflow();\n\tgs.getSession().setWorkflow(false);\n\tgs.setProperty(\"glide.ui.url.external\", false);\n\tgs.setProperty(\"glide.ui.url.external.content\", false);\n\tgs.getSession().setWorkflow(before);\n}\n","sys_class_name":"sys_script_fix","sys_id":"e4937d8a1be4011052a5c146604bcb9a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d4442b7b04312210559073c06a02f7ee","value":"d4442b7b04312210559073c06a02f7ee"},"sys_update_name":"sys_script_fix_e4937d8a1be4011052a5c146604bcb9a","sys_updated_by":"admin","sys_created_on":"2021-12-22 05:51:01","name":"Disable External Link for Fresh instance","sys_name":"Disable External Link for Fresh instance","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Analytics Migrate User Consent Decisions","sys_updated_on":"2024-05-20 15:18:39","sys_tags":"","record_for_rollback":"true","script":"","sys_class_name":"sys_script_fix","sys_id":"e529840977d321105679bcc8ca5a99a8","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/07d4abbf04312210559073c06a02f7f6","value":"07d4abbf04312210559073c06a02f7f6"},"sys_update_name":"sys_script_fix_e529840977d321105679bcc8ca5a99a8","sys_updated_by":"maint","sys_created_on":"2023-06-06 05:58:54","name":"Analytics Migrate User Consent Decisions","sys_name":"Analytics Migrate User Consent Decisions","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"5","description":"Fix script to deactivate all Deny ACLs with roles created on sys_security_attribute table for upgrades.","sys_updated_on":"2024-10-02 17:00:24","sys_tags":"","record_for_rollback":"true","script":"gs.info(\"Execute fix script to deactivate deny acls on sys_security_attribute table during upgrade\");\nif (!GlidePluginManager.isZboot()) {\n    var securityAttributeSysIds = [\"2bdebf109f8112108647e8c40b0a1c74\", \"683f37509f8112108647e8c40b0a1cae\", \"7d9ffb509f8112108647e8c40b0a1ce8\", \"999affd89f4112108647e8c40b0a1c65\", \"ee3ebfdc9f4112108647e8c40b0a1cb0\"];\n    var api = new sn_security_upgrade_utils.SlowRolloutUpgradeHelperAPI();\n    var skippedIds = api.deactivateACLsAndFiltersOnUpgrade(securityAttributeSysIds);\n    if (skippedIds.length == 0) {\n        gs.info(\"Fix script to deactivate deny acls on sys_security_attribute table during upgrade, deactivated all listed sysIds\");\n    } else {\n        gs.warn(\"Skipped denyacl sys_ids on sys_security_attribute table from deactivation during upgrade are: \" + skippedIds);\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"e532a7a89fc112108647e8c40b0a1c7c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8525ef3304712210559073c06a02f7b2","value":"8525ef3304712210559073c06a02f7b2"},"sys_update_name":"sys_script_fix_e532a7a89fc112108647e8c40b0a1c7c","sys_updated_by":"admin","sys_created_on":"2024-10-01 23:28:27","name":"Deactivate acls on sys_security_attribut","sys_name":"Deactivate acls on sys_security_attribut","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"8","description":"Updates class_count in ml_solution table by counting rows in ml_class table for existing solutions.","sys_updated_on":"2018-10-02 18:10:13","sys_tags":"","record_for_rollback":"false","script":"var gr_ml_solution = new GlideRecord('ml_solution');\ngr_ml_solution.query();\n\nwhile(gr_ml_solution.next()){\n   var gr_ml_class = new GlideRecord('ml_class');\n   gr_ml_class.addQuery('solution',gr_ml_solution.sys_id);\n   gr_ml_class.query();\n   var ml_class_count = gr_ml_class.getRowCount();\n   gr_ml_solution.class_count = ml_class_count;\n   gr_ml_solution.update();\n}","sys_class_name":"sys_script_fix","sys_id":"e5666ddb733023000256f259faf6a72a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_script_fix_e5666ddb733023000256f259faf6a72a","sys_updated_by":"admin","sys_created_on":"2018-10-02 11:14:27","name":"Update 'ml_solution.class_count' column","sys_name":"Update 'ml_solution.class_count' column","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Remove the default value from the \"reporting\" element on sys_flow_execution_setting ","sys_updated_on":"2023-03-31 14:19:56","sys_tags":"","record_for_rollback":"true","script":"(function () {\n\tvar gr = new GlideRecord(\"sys_dictionary\");\n\tgr.addQuery(\"name\", \"sys_flow_execution_setting\");\n\tgr.addQuery(\"element\", \"reporting\");\n\tgr.query();\n\tif (gr.next()) {\n\t\tgr.default_value = \"\";\n\t\tgr.update();\n\t}\n})();","sys_class_name":"sys_script_fix","sys_id":"e5c7496377312110f5bf23e2fa5a99fe","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0a3be77304352210559073c06a02f7e3","value":"0a3be77304352210559073c06a02f7e3"},"sys_update_name":"sys_script_fix_e5c7496377312110f5bf23e2fa5a99fe","sys_updated_by":"russ.sarbora","sys_created_on":"2023-03-31 14:14:16","name":"Remove default value for reporting","sys_name":"Remove default value for reporting","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"0","description":"sys_hub_ui_element.name cannot be localized because it is type string instead of translated_text","sys_updated_on":"2021-04-09 23:54:48","sys_tags":"","record_for_rollback":"false","script":"(function() {\n    if (pm.isZboot())\n        return;\n\t\n\tvar gr = new GlideRecord('sys_dictionary');\n\tgr.addQuery('name', 'sys_hub_ui_element');\n\tgr.addQuery('element', 'label');\n\tgr.addQuery('internal_type', 'string');\n\tgr.query();\n\t\n\tif(gr.next()) {\n\t\tnew TranslationUtils().convert(\"sys_hub_ui_element\",[\"label\"]);\n\t\tgs.info('sys_hub_ui_element.name internal type changed from \"string\" to \"translated_text\"');\n\t}\n}());","sys_class_name":"sys_script_fix","sys_id":"e5fdfdebb7132010388487c2de11a969","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/de9b2ff304352210559073c06a02f782","value":"de9b2ff304352210559073c06a02f782"},"sys_update_name":"sys_script_fix_e5fdfdebb7132010388487c2de11a969","sys_updated_by":"admin","sys_created_on":"2021-04-09 23:54:48","name":"Change FD UI element label to TRT","sys_name":"Change FD UI element label to TRT","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"true","sys_mod_count":"2","description":"Updates all pre-existing Activity Overrides with these new columns,\r\n1. Set Active to true, the default value for new records\r\n2. Set UI based on Renderer","sys_updated_on":"2021-09-27 17:34:51","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('sys_playbook_activity_renderer');\ngr.addNullQuery('active');\ngr.setValue('active', true);\ngr.updateMultiple();\n\ngr = new GlideRecord('sys_playbook_activity_renderer');\ngr.addNullQuery('ui_selector');\ngr.addNullQuery('activity_ui');\ngr.addNotNullQuery('renderer');\ngr.setValue('ui_selector', 'renderer');\ngr.updateMultiple();","sys_class_name":"sys_script_fix","sys_id":"e623bb6807b2301051ff3342cfd3005a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/055e23f304752210559073c06a02f753","value":"055e23f304752210559073c06a02f753"},"sys_update_name":"sys_script_fix_e623bb6807b2301051ff3342cfd3005a","sys_updated_by":"admin","sys_created_on":"2021-09-21 23:41:31","name":"Playbook Activate Activity Overrides","sys_name":"Playbook Activate Activity Overrides","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"","sys_updated_on":"2023-04-14 18:52:01","sys_tags":"","record_for_rollback":"true","script":"//This script changes the reference from cmdb_ci to service_offering in the service_offering_commitment table\n// Previously, a sys_dictionary update record was used.  However, this is a bad practice.  The dictionary\n// schema was updated, but older instances need a fix script to change it instead of the sys_dictionary update\n\nif (canFixServiceOfferingReference(\"service_availability\"))\n\tfixServiceOfferingReference(\"service_availability\");\nif (canFixServiceOfferingReference(\"service_offering_commitment\"))\n\tfixServiceOfferingReference(\"service_offering_commitment\");\n\nfunction canFixServiceOfferingReference(originTable) {\n\tvar gr = new GlideRecord(\"sys_dictionary\"); \n\tgr.addQuery(\"name\", originTable);\n\tgr.addQuery(\"element\", \"service_offering\");\n\tgr.addQuery(\"reference\", \"service_offering\");\n\tgr.query();\n\t\n\t// Check to see if reference is already set to service_offering\n\tif (gr.hasNext()) {\n\t\tgs.print(originTable + \" table already has service_offering reference set to service_offering - NOT cmdb_ci\");\n\t\treturn false;\n\t}\n\t\n\t// Check to see if any of the references are not of type service_offering\n\tgr = new GlideRecord(originTable);\n\tgr.query();\n\twhile(gr.next()){\n\t\tif(gr.service_offering.sys_class_name != \"service_offering\"){\n\t\t\tgs.print(originTable + \" table has non-service_offering references set in this field - CANNOT CHANGE REFERENCE\");\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\t// Able to change reference\n\treturn true;\n}\n\nfunction fixServiceOfferingReference(originTable){\n\tvar gr = new GlideRecord(\"sys_dictionary\");\n\tgr.addQuery(\"name\", originTable);\n\tgr.addQuery(\"element\", \"service_offering\");\n\tgr.query();\n\tif(gr.next()){\n\t\tgr.reference = \"service_offering\";\n\t\tgr.update();\n\t\tgs.print(\"Changed \" + originTable + \".service_offering reference to service_offering from cmdb_ci\");\n\t}\n}\n","sys_class_name":"sys_script_fix","sys_id":"e6354ec0ff526110ae206ade413bf176","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4a39e3f704f12210559073c06a02f7f9","value":"4a39e3f704f12210559073c06a02f7f9"},"sys_update_name":"sys_script_fix_e6354ec0ff526110ae206ade413bf176","sys_updated_by":"admin","sys_created_on":"2023-04-14 18:24:10","name":"Adjust service_offering references","sys_name":"Adjust service_offering references","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Fixes the display column of sys_app_template_dependency_definition","sys_updated_on":"2021-06-23 17:56:17","sys_tags":"","record_for_rollback":"false","script":"var dictionaryRecord = new GlideRecord('sys_dictionary');\ndictionaryRecord.addQuery('name', 'sys_app_template_dependency_definition');\ndictionaryRecord.addQuery('element', 'type');\ndictionaryRecord.addQuery('display', 'true');\ndictionaryRecord.query();\n\nif (dictionaryRecord.next()) {\n\tdictionaryRecord.setWorkflow(false);\n\tdictionaryRecord.setValue('display', 'false');\n\tdictionaryRecord.update();\n}","sys_class_name":"sys_script_fix","sys_id":"e638c3a35b30301083f30f216581c731","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2fbb6b3704352210559073c06a02f707","value":"2fbb6b3704352210559073c06a02f707"},"sys_update_name":"sys_script_fix_e638c3a35b30301083f30f216581c731","sys_updated_by":"admin","sys_created_on":"2021-06-23 17:55:27","name":"Fix display columns","sys_name":"Fix display columns","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"0","description":"As part of Security P0 issue, a write audit updated all the empty ACLs in the customer farm. This fix script removes all the write audit updates for affected security center ACLs, so that the upgrades can overwrite those ACLs with the OOB ACLs.","sys_updated_on":"2024-06-12 07:33:18","sys_tags":"","record_for_rollback":"true","script":"var writeAuditOOBACLList = ['06f258a9432131100bd09f18d9b8f287', '2b5d99e5473875103f3fd922736d430e'];\nempty_acl_fix(writeAuditOOBACLList);\n\nfunction empty_acl_fix(writeAuditOOBACLList) {\n    new global.AccessControlUtils().deleteCustomerUpdatesForAuditedEmptyACLs(writeAuditOOBACLList);\n}","sys_class_name":"sys_script_fix","sys_id":"e64f9c7053fe0210e3feddeeff7b12d4","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0d2383dd53687510b256ddeeff7b12b8","value":"0d2383dd53687510b256ddeeff7b12b8"},"sys_update_name":"sys_script_fix_e64f9c7053fe0210e3feddeeff7b12d4","sys_updated_by":"admin","sys_created_on":"2024-06-12 07:33:18","name":"De-customize TCM UIB ACLs","sys_name":"De-customize TCM UIB ACLs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/0d2383dd53687510b256ddeeff7b12b8","value":"0d2383dd53687510b256ddeeff7b12b8"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Rename the property for controlling the population of Service offering on change from task to change_request","sys_updated_on":"2020-09-14 19:54:50","sys_tags":"","record_for_rollback":"false","script":"var propGr = new GlideRecord('sys_properties');\npropGr.addQuery('name', 'com.snc.task.populate_service_offering');\npropGr.query();\n\nif (propGr.next()) {\n\tpropGr.setValue('name', 'com.snc.change_request.populate_service_offering');\n\tpropGr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"e6b3dbfc23df10101488dc1756bf65ee","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/32b7af7f04b12210559073c06a02f7fb","value":"32b7af7f04b12210559073c06a02f7fb"},"sys_update_name":"sys_script_fix_e6b3dbfc23df10101488dc1756bf65ee","sys_updated_by":"admin","sys_created_on":"2020-09-14 19:54:50","name":"Rename task svc_offering to chg","sys_name":"Rename task svc_offering to chg","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Running this script will activate polaris theme for agent chat","sys_updated_on":"2021-10-15 00:36:10","sys_tags":"","record_for_rollback":"true","script":"\n    gs.info(\"Check and update polaris theme on agent chat\");\n    new sn_hr_sp.EmployeeCenterEasyInstall().checkAndUpdateAgentConfig();","sys_class_name":"sys_script_fix","sys_id":"e6ead68c739b30106d1f57903bf6a71b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3d1da2705b021200a4656ede91f91ab6","value":"3d1da2705b021200a4656ede91f91ab6"},"sys_update_name":"sys_script_fix_e6ead68c739b30106d1f57903bf6a71b","sys_updated_by":"admin","sys_created_on":"2021-10-15 00:36:10","name":"EasyInstall Activate polaris config Chat","sys_name":"EasyInstall Activate polaris config Chat","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3d1da2705b021200a4656ede91f91ab6","value":"3d1da2705b021200a4656ede91f91ab6"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"5","description":"Migrate Agent Workspace search sources from the global data model to the modular data model.\r\nThis script checks for search sources already present in Agent workspace and Next Experience Workspace to avoid duplication while migrating active search sources","sys_updated_on":"2022-07-06 17:05:42","sys_tags":"","record_for_rollback":"false","script":"/*\n * Migrate all active search sources to the Agent Workspace search configuration\n *\n *   In previous releases, Agent Workspace had a global search configuration,\n *   and queried all active search sources.  Now, we support multiple workspaces\n *   where each workspace has its own search configuration.\n */\nfunction migrateAgentWorkspaceSearchSources() {\n    var AW_SEARCH_CONFIG_ID = \"4961e3e7871033000929717936cb0ba7\";\n    var NEXT_EXPERIENCE_SEARCH_CONFIG_ID = \"c861cea2c7022010099a308dc7c26041\";\n    var SEARCH_CONFIG_TABLE = \"sys_search_context_config\";\n    var SEARCH_SOURCE_TABLE = \"sys_search_source\";\n    var SEARCH_CONFIG_TO_SOURCE_TABLE = \"m2m_search_context_config_search_source\";\n\n    // get the agent workspace search configuration\n\n    var awSearchConfig = new GlideRecord(SEARCH_CONFIG_TABLE);\n    awSearchConfig.get(AW_SEARCH_CONFIG_ID);\n\n    var configId = awSearchConfig.getValue(\"sys_id\");\n    var configName = awSearchConfig.getValue(\"name\");\n\n    gs.debug(configName, \"Agent Workspace config name\");\n    gs.debug(configId, \"Agent Workspace config id\");\n\n    // get a list of sources already associated to the agent workspace search configuration and Next experience configuration\n\n    var awSourceJoins = new GlideRecord(SEARCH_CONFIG_TO_SOURCE_TABLE);\n    var sacQC = awSourceJoins.addQuery(\"search_context_config\", AW_SEARCH_CONFIG_ID);\n    sacQC.addOrCondition(\"search_context_config\", NEXT_EXPERIENCE_SEARCH_CONFIG_ID);\n    awSourceJoins.query();\n\n    var awSourceIds = [];\n    while (awSourceJoins.next()) {\n        var awSourceId = awSourceJoins.getValue(\"source\");\n        awSourceIds.push(awSourceId);\n    }\n\n    gs.debug(awSourceIds, \"Agent Workspace & Next Experience search sources\");\n\n    // get a list of all active search sources that are not present in either Agent Workspace or Next Experience\n\n    var allActiveSources = new GlideRecord(SEARCH_SOURCE_TABLE);\n    allActiveSources.addActiveQuery();\n    allActiveSources.addQuery('sys_id', 'NOT IN', awSourceIds.join(','));\n    allActiveSources.orderBy(\"sys_created_on\");\n    allActiveSources.query();\n\n    // for each active search source, if it's not already associated to the\n    // Agent Workspace configuration or Next Experience, add it.\n\n    var order = 0;\n    while (allActiveSources.next()) {\n        var activeSourceId = allActiveSources.getValue(\"sys_id\");\n        order += 100;\n        gs.debug(activeSourceId, \"adding source to Agent Workspace config\");\n        awSourceJoins.initialize();\n        awSourceJoins.search_context_config = AW_SEARCH_CONFIG_ID;\n        awSourceJoins.source = activeSourceId;\n        awSourceJoins.order = order;\n        awSourceJoins.insert();\n\n    }\n}\n\nmigrateAgentWorkspaceSearchSources();","sys_class_name":"sys_script_fix","sys_id":"e6f7cd8887e033000929717936cb0b21","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2b3a837a0bb732007a0e41d6f6673a7f","value":"2b3a837a0bb732007a0e41d6f6673a7f"},"sys_update_name":"sys_script_fix_e6f7cd8887e033000929717936cb0b21","sys_updated_by":"admin","sys_created_on":"2019-03-27 16:35:44","name":"Migrate Agent Workspace Search Sources","sys_name":"Migrate Agent Workspace Search Sources","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/2b3a837a0bb732007a0e41d6f6673a7f","value":"2b3a837a0bb732007a0e41d6f6673a7f"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"6","description":"Updated default value of opened_at attribute of Interaction table","sys_updated_on":"2022-02-25 01:08:23","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('sys_dictionary');\n\ngr.addEncodedQuery('name=interaction^element=opened_at');\ngr.query();\n\nif (gr.next()) {\n\tgr.setValue('default_value', 'javascript:new GlideDateTime()');\n\tgr.setValue('dynamic_default_value', '');\n    gr.setValue('use_dynamic_default', false);\n\tgr.update();\n\tgs.info('Interaction: Updated opened_at attribute default_value for interaction table through fix script.');\n} else {\n\tgs.info('Interaction: Could not find opened_at attribute default_value for interaction table in fix script.');\n}","sys_class_name":"sys_script_fix","sys_id":"e79e2dcb77b0011069d4ebdf8c5a992f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/989c2b7b04352210559073c06a02f7cc","value":"989c2b7b04352210559073c06a02f7cc"},"sys_update_name":"sys_script_fix_e79e2dcb77b0011069d4ebdf8c5a992f","sys_updated_by":"admin","sys_created_on":"2022-01-06 18:25:30","name":"Update default value of opened_at","sys_name":"Update default value of opened_at","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"4","description":"If the glide.activity.api_version property has been modified previously, it will not be updated during upgrade. This script ensures that each instance is using activity stream version 1 after upgrade.","sys_updated_on":"2022-03-16 18:09:45","sys_tags":"","record_for_rollback":"true","script":"(function() {\n\tif (pm.isZboot())\n\t\treturn;\n\n\tvar apiVersion = gs.getProperty('glide.activity.api_version', '0');\n\tif (apiVersion !== \"1\") {\n\t\tgs.setProperty('glide.activity.api_version', '1');\n\t\tgs.log('Forced Activity Stream to Version 1', \"FIX_SCRIPT_ENABLE_ACTIVITY_V1\");\n\t}\n\n\t// For some customers, activity rule properties were added in Quebec to ensure that sys_activity capture was completely turned off.\n\t// They will prevent V1 from working if enabled.\n\tvar activityRuleProperties = new GlideRecord('sys_properties');\n\tactivityRuleProperties.addQuery('name', 'STARTSWITH', 'glide.activity.rule.active.');\n\tactivityRuleProperties.query();\n\n\tif (activityRuleProperties.getRowCount() > 0) {\n\t\tgs.print('Deleting activity rule properties', \"FIX_SCRIPT_ENABLE_ACTIVITY_V1\");\n\t\tactivityRuleProperties.deleteMultiple();\n\t}\n})();","sys_class_name":"sys_script_fix","sys_id":"e7ef6f52c302011082c603db7940dd34","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bb08e33304f12210559073c06a02f7ac","value":"bb08e33304f12210559073c06a02f7ac"},"sys_update_name":"sys_script_fix_e7ef6f52c302011082c603db7940dd34","sys_updated_by":"admin","sys_created_on":"2022-03-07 23:08:22","name":"Ensure Activity Stream V1 Enabled","sys_name":"Ensure Activity Stream V1 Enabled","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"6","description":"Remove cascade delete on utterance column of nlu_batch_test_result table","sys_updated_on":"2022-10-20 07:11:53","sys_tags":"","record_for_rollback":"true","script":"var dictGr = new GlideRecord('sys_dictionary');\ndictGr.addQuery('name', 'nlu_batch_test_result');\ndictGr.addQuery('element', 'utterance');\ndictGr.addNotNullQuery('reference_cascade_rule');\ndictGr.setLimit(1);\ndictGr.query();\nif (dictGr.next()) {\n    dictGr.setValue('reference_cascade_rule', '');\n    dictGr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"e8527e62a3221110f066d78446fcda62","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_script_fix_e8527e62a3221110f066d78446fcda62","sys_updated_by":"admin","sys_created_on":"2022-10-18 06:13:27","name":"Remove cascade delete on Utt of test res","sys_name":"Remove cascade delete on Utt of test res","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"5","description":"This script is to get new native mobile \"Recommended For You\" cards compatible with the next experience theme. This script should be run only if the instance is on Utah or post Utah family release.","sys_updated_on":"2022-08-25 10:10:10","sys_tags":"","record_for_rollback":"true","script":"//Switch runManually to true in order to run this script\nvar runManually = false;\nif (runManually) {\n    var util = new sn_me.MobileNextExpUpgradeUtil();\n    upgradeRFYCard();\n}\n\nfunction upgradeRFYCard() {\n    var rfy = [\n        //Recommended For You Articles\t\n        {\n            \"masterItem\": \"f92d2b2feb3101103d6b2ff2a25228f7\",\n            \"newCard\": \"3b0dbd55534d1110fedfddeeff7b1252\",\n            \"oldCard\": \"5650b3efeb3101103d6b2ff2a2522884\"\n        },\n        //Recommended For You Request\n        {\n            \"masterItem\": \"8e21bbefeb3101103d6b2ff2a252281f\",\n            \"newCard\": \"528cca51538d1110fedfddeeff7b12c8\",\n            \"oldCard\": \"0c31fbefeb3101103d6b2ff2a25228ec\"\n        },\n        //Recommended For You Request without image\n        {\n            \"masterItem\": \"7d470fa4eb0201103d6b2ff2a2522818\",\n            \"newCard\": \"228e4ad1538d1110fedfddeeff7b122b\",\n            \"oldCard\": \"a8484be4eb0201103d6b2ff2a25228a3\"\n        }\n    ];\n\n    rfy.forEach(function revertEachLink(link) {\n        util.switchConnection(\"sys_sg_master_item\", \"view_config\", link.masterItem, link.oldCard, link.newCard);\n    });\n}","sys_class_name":"sys_script_fix","sys_id":"e865203c53651110fedfddeeff7b12a8","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3d1da2705b021200a4656ede91f91ab6","value":"3d1da2705b021200a4656ede91f91ab6"},"sys_update_name":"sys_script_fix_e865203c53651110fedfddeeff7b12a8","sys_updated_by":"admin","sys_created_on":"2022-08-23 16:07:29","name":"Mobile Next Exp - EC Core","sys_name":"Mobile Next Exp - EC Core","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3d1da2705b021200a4656ede91f91ab6","value":"3d1da2705b021200a4656ede91f91ab6"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"0","description":"As part of Security P0 issue, a write audit updated all the empty ACLs in the customer farm. This fix script removes all the write audit updates for affected security center ACLs, so that the upgrades can overwrite those ACLs with the OOB ACLs.","sys_updated_on":"2024-03-13 09:14:22","sys_tags":"","record_for_rollback":"true","script":"var writeAuditOOBACLList = ['b0557a78c3c33010965e070e9140dd4f'];\nempty_acl_fix(writeAuditOOBACLList);\n\nfunction empty_acl_fix(writeAuditOOBACLList) {\n\tnew global.AccessControlUtils().deleteCustomerUpdatesForAuditedEmptyACLs(writeAuditOOBACLList);\n}","sys_class_name":"sys_script_fix","sys_id":"e88d806f93fcc210bee512f984891849","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5ca1bcb3733320103e366238edf6a706","value":"5ca1bcb3733320103e366238edf6a706"},"sys_update_name":"sys_script_fix_e88d806f93fcc210bee512f984891849","sys_updated_by":"admin","sys_created_on":"2024-03-13 09:14:22","name":"De-customize SC ACLs","sys_name":"De-customize SC ACLs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5ca1bcb3733320103e366238edf6a706","value":"5ca1bcb3733320103e366238edf6a706"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"14","description":"This script will replace the \"Sync Ops Status for CMDB CI\" Business Rule (shipped via fix script) with the new Business Rule (shipped as sys_script record). If there are no changes made to the existing Business Rule, this will deactive the old BR and activate the newly shipped BR. If there are customization to the old BR, activating the new BR will be skipped.","sys_updated_on":"2024-10-30 22:36:13","sys_tags":"","record_for_rollback":"true","script":"var NEW_SYNC_OPS_STATUS_FOR_CMDB_CI_BR = {\n    SYS_ID: \"3f06db7bebc731100c0bb5d5d85228d4\",\n    NAME: \"Sync Ops Status for CMDB CI\"\n};\n\nvar OLD_SYNC_OPS_STATUS_FOR_CMDB_CI_BR = {\n    NAME: \"Sync Ops Status for CMDB CI\",\n    DEPRECATED_NAME: \"Sync Ops Status for CMDB CI (DEPRECATED)\"\n};\n\nvar SYS_SCRIPT = {\n    TABLE: \"sys_script\",\n    NAME: \"name\",\n    ACTIVE: \"active\",\n    COLLECTION: \"collection\",\n    SCRIPT: \"script\",\n    SYS_CREATED_BY: \"sys_created_by\",\n    SYS_ID: \"sys_id\"\n};\n\nvar OPERATORS = {\n    NOT_EQUAL: \"!=\",\n    CONTAINS: \"CONTAINS\"\n};\n\nfunction updateRecord(gr, values) {\n    if (gr.isValid()) {\n        for (var field in values) {\n            gr.setValue(field, values[field]);\n        }\n        gr.update();\n    }\n}\n\n// query the newly shipped BR\nvar newBrGr = new GlideRecord(SYS_SCRIPT.TABLE);\nnewBrGr.get(NEW_SYNC_OPS_STATUS_FOR_CMDB_CI_BR.SYS_ID);\n\n// query for any active BR with the name\nvar oldBrGr = new GlideRecord(SYS_SCRIPT.TABLE);\noldBrGr.addQuery(SYS_SCRIPT.COLLECTION, \"cmdb_ci\");\noldBrGr.addQuery(SYS_SCRIPT.SYS_CREATED_BY, \"system\");\noldBrGr.addQuery(SYS_SCRIPT.SYS_ID, OPERATORS.NOT_EQUAL, NEW_SYNC_OPS_STATUS_FOR_CMDB_CI_BR.SYS_ID);\noldBrGr.addQuery(SYS_SCRIPT.NAME, OLD_SYNC_OPS_STATUS_FOR_CMDB_CI_BR.NAME)\n    .addOrCondition(SYS_SCRIPT.SCRIPT, OPERATORS.CONTAINS, \"var OpsStatusSynchronizer = Class.create();\"); // in case the customer has changed the name,\n\noldBrGr.query();\nvar rowCount = oldBrGr.getRowCount();\n\n// for zbooted instance always activate the new BR\nif (pm.isZboot()) {\n\t//DEF0530178: take no action, no longer activating the new business rule\n    /*updateRecord(newBrGr, {\n        active: true\n    });\n    gs.log(\"Activated the new BR for zboot instance\", \"ci_state_management\"); */\n} else {\n    // deactivate the old BR only if there's one & only record with above query condition\n    if (rowCount > 1) {\n        gs.log(\"There are multiple 'Sync Ops Status for CMDB CI' Business Rule (BR). Skip deactivating the BR.\", \"ci_state_management\");\n    } else if (rowCount == 0) {\n        gs.log(\"No 'Sync Ops Status for CMDB CI' Business Rule (BR) found.\", \"ci_state_management\");\n    } else {\n        if (sn_collision.CollisionAPI.willBeReplacedOnUpgrade(oldBrGr)) { // update if the old BR is not customized\n\t\t\t/*DEF0530178: leave new Sync Ops Status business rule inactive\n            updateRecord(newBrGr, {\n                active: false\n            }); */\n\n            updateRecord(oldBrGr, {\n                active: false,\n                name: OLD_SYNC_OPS_STATUS_FOR_CMDB_CI_BR.DEPRECATED_NAME // rename old BR as deprecated\n            });\n            gs.log(\"No changes detected on existing 'Sync Ops Status for CMDB CI' Business Rule (BR). Deactivating the existing BR\", \"ci_state_management\");\n        } else {\n            gs.log(\"Changes detected on existing 'Sync Ops Status for CMDB CI' Business Rule (BR). Skipping activating the new BR\");\n        }\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"e928933febc731100c0bb5d5d852287b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_e928933febc731100c0bb5d5d852287b","sys_updated_by":"admin","sys_created_on":"2023-12-18 19:04:44","name":"Migrate 'Sync Ops Status for CMDB CI' BR","sys_name":"Migrate 'Sync Ops Status for CMDB CI' BR","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Update the label for the table sys_notification_execution_log from Execution Log to Log","sys_updated_on":"2021-09-28 19:44:41","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tif (pm.isZboot())\n\t\treturn;\n\n\tvar dbObject = new GlideRecord('sys_db_object');\n\tdbObject.addQuery('name', 'sys_notification_execution_log');\n\tdbObject.query();\n\tif (!dbObject.next())\n\t\treturn;\n\t\n\tdbObject.setValue('label', 'Log');\n\tdbObject.setWorkflow(false);\n\tdbObject.update();\n\t\n\tvar doc = new GlideRecord('sys_documentation');\n\tdoc.addQuery('name', 'sys_notification_execution_log');\n\tdoc.addNullQuery('element');\n\tdoc.addQuery('label', 'Execution Log');\n\tdoc.query();\n\tif (!doc.next())\n\t\treturn;\n\t\n\tdoc.setValue('label', 'Log');\n\tdoc.setValue('plural', 'Logs');\n\tdoc.setWorkflow(false);\n\tdoc.update();\n\n})();","sys_class_name":"sys_script_fix","sys_id":"e97a3eb25332301092f0ddeeff7b127d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4c93a3f304312210559073c06a02f7f1","value":"4c93a3f304312210559073c06a02f7f1"},"sys_update_name":"sys_script_fix_e97a3eb25332301092f0ddeeff7b127d","sys_updated_by":"admin","sys_created_on":"2021-09-28 19:13:11","name":"Update execution logs label","sys_name":"Update execution logs label","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Change sys_sg_media_section text from translated_field to translated_text to be in line with the max_length of 1000 in that column.","sys_updated_on":"2024-04-05 18:09:26","sys_tags":"","record_for_rollback":"true","script":"function updateToTranslatedText(table, column) {\n    var glideRecord = new GlideRecord(\"sys_dictionary\");\n    glideRecord.addQuery('name', table);\n    glideRecord.addQuery('element', column);\n    glideRecord.addQuery('internal_type', 'translated_field');\n    glideRecord.query();\n\n    while (glideRecord.next()) {\n        glideRecord.setValue('internal_type', 'translated_text');\n        glideRecord.update();\n    }\n}\nupdateToTranslatedText('sys_sg_media_section', 'text');","sys_class_name":"sys_script_fix","sys_id":"e9c3a407935d0210cffa5ffbf18918a0","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fdd42bbf04312210559073c06a02f7a6","value":"fdd42bbf04312210559073c06a02f7a6"},"sys_update_name":"sys_script_fix_e9c3a407935d0210cffa5ffbf18918a0","sys_updated_by":"admin","sys_created_on":"2024-04-05 18:09:26","name":"Change text type of media section","sys_name":"Change text type of media section","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"1","description":"A followup to Utah cmdb_datasource_last_update data migration, ensure migration script is complete by running it one more time ","sys_updated_on":"2024-04-17 00:55:55","sys_tags":"","record_for_rollback":"false","script":"\n  var g = new GlideRecord('cmdb_datasource_last_update');\n  g.addNullQuery('cmdb_ci'); //invalid records\n  g.deleteMultiple();\n\n  var scheduledRecord = new GlideRecord('sysauto_script');\n  // SysId of the daily scheduled job 'Copy values for cmdb_datasource_last_update'\n  scheduledRecord.get('0b5ca1e0eb13111007d5a1c628522893');\n  if(scheduledRecord.getValue('active') != 'true') {\n    scheduledRecord.setValue('active', 'true');\n    scheduledRecord.update();\n  }\n","sys_class_name":"sys_script_fix","sys_id":"ea5522e237e102103c6f425174924bb9","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_script_fix_ea5522e237e102103c6f425174924bb9","sys_updated_by":"admin","sys_created_on":"2024-04-17 00:37:32","name":"Migrate datasource last update data","sys_name":"Migrate datasource last update data","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Updating host core count label and hint in ecc_agent table\r\nUpdating mandatory field for script name in ecc_agent_script_include table","sys_updated_on":"2024-05-17 18:23:21","sys_tags":"","record_for_rollback":"true","script":"\n    /* Update the Host cpu core count label on table ecc_agent */\n    var updateEccAgent = new GlideRecord('sys_dictionary');\n    updateEccAgent.addQuery('name', 'ecc_agent');\n    updateEccAgent.addQuery('element', 'host_cpu_core_count');\n    updateEccAgent.query();\n    if (updateEccAgent.next()) {\n        updateEccAgent.setValue('column_label', 'Host physical processor/core count');\n        updateEccAgent.update();\n    }\n\n    /* Update the Host cpu core count hint on table ecc_agent */\n    var documentationGr = new GlideRecord('sys_documentation');\n    documentationGr.addQuery('name', 'ecc_agent');\n    documentationGr.addQuery('element', 'host_cpu_core_count');\n    documentationGr.query();\n    if (documentationGr.next()) {\n        documentationGr.setValue('hint', 'For Windows MID Servers: number of physical processors currently available on a system. For Linux MID Servers: number of physical cores (note that if hyperthreading is enabled, there may be logical processors included in the count)');\n        documentationGr.update();\n    }\n\n    /* Make name field mandatory on ecc_agent_script_include */\n    var updateEccAgentScript = new GlideRecord('sys_dictionary');\n    updateEccAgentScript.addQuery('name', 'ecc_agent_script_include');\n    updateEccAgentScript.addQuery('element', 'name');\n    updateEccAgentScript.query();\n    if (updateEccAgentScript.next()) {\n        updateEccAgentScript.setValue('mandatory', 'true');\n        updateEccAgentScript.update();\n}","sys_class_name":"sys_script_fix","sys_id":"ea7e1898439e4210471d6692e9b8f2d3","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/42b8273704f12210559073c06a02f78d","value":"42b8273704f12210559073c06a02f78d"},"sys_update_name":"sys_script_fix_ea7e1898439e4210471d6692e9b8f2d3","sys_updated_by":"now.midserver","sys_created_on":"2024-05-16 22:49:20","name":"Update ecc agent dictionary","sys_name":"Update ecc agent dictionary","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"now.midserver","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"For all existing record query steps, set the timeout to 5 seconds.","sys_updated_on":"2018-10-31 00:23:11","sys_tags":"","record_for_rollback":"false","script":"// if the timeout existing record query steps is not set,\n// set timeout to 5 seconds\nvar recordQueryStep = new GlideRecord(\"sys_atf_step\");\nrecordQueryStep.addQuery(\"step_config\", \"0270b8005f30220012b44adb7f46666a\");\nrecordQueryStep.addNullQuery(\"timeout\");\nrecordQueryStep.query();\nwhile (recordQueryStep.next()) {\n\trecordQueryStep.setValue(\"timeout\", \"0 00:00:05\");\n\trecordQueryStep.update();\n}\ngs.info(\"Updated \" + recordQueryStep.getRowCount() + \" existing record query record(s)\");\n","sys_class_name":"sys_script_fix","sys_id":"eaed49ad6771030091d005225685ef5a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18792f3b04f12210559073c06a02f71d","value":"18792f3b04f12210559073c06a02f71d"},"sys_update_name":"sys_script_fix_eaed49ad6771030091d005225685ef5a","sys_updated_by":"admin","sys_created_on":"2017-10-13 23:37:04","name":"Set default timeout for record query","sys_name":"Set default timeout for record query","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Change the field type of 'label' and 'description' to 'String' from 'Translated Text'","sys_updated_on":"2024-10-04 12:36:33","sys_tags":"","record_for_rollback":"false","script":"if (!pm.isZboot()) {\n    var dictionaryGr = new GlideRecord('sys_dictionary');\n    var tableQuery = dictionaryGr.addQuery('name', 'sys_pd_process_definition');\n    tableQuery.addOrCondition('name', 'sys_pd_derivative');\n    tableQuery.addOrCondition('name', 'sys_pd_activity');\n    tableQuery.addOrCondition('name', 'sys_pd_lane');\n    var elementQuery = dictionaryGr.addQuery('element', 'description');\n    elementQuery.addOrCondition('element', 'label');\n    dictionaryGr.query();\n    while (dictionaryGr.next()) {\n        dictionaryGr.setValue('internal_type', 'String');\n        dictionaryGr.setWorkflow(false);\n        dictionaryGr.update();\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"ebb9e0e947055290c66544b4116d43a5","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/903e67b304752210559073c06a02f757","value":"903e67b304752210559073c06a02f757"},"sys_update_name":"sys_script_fix_ebb9e0e947055290c66544b4116d43a5","sys_updated_by":"jaspreetsingh.saini@snc","sys_created_on":"2024-10-04 12:36:33","name":"Change field type for playbooks","sys_name":"Change field type for playbooks","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"jaspreetsingh.saini@snc","sys_policy":"read"},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Fix script to deactivate all Deny ACLs with roles created on sys_security_data_filter table for upgrades.","sys_updated_on":"2024-10-02 16:59:19","sys_tags":"","record_for_rollback":"true","script":"gs.info(\"Execute fix script to deactivate deny acls with roles on sys_security_data_filter table during upgrade\");\nif (!GlidePluginManager.isZboot()) {\n    var securityDatafilterSysIds = [\"73b140649f8112108647e8c40b0a1c5e\", \"a772cc649f8112108647e8c40b0a1c73\", \"d9c288a49f8112108647e8c40b0a1c27\", \"e2efb3909f8112108647e8c40b0a1c48\", \"f73288649f8112108647e8c40b0a1c6f\"];\n    var api = new sn_security_upgrade_utils.SlowRolloutUpgradeHelperAPI();\n    var skippedIds = api.deactivateACLsAndFiltersOnUpgrade(securityDatafilterSysIds);\n    if (skippedIds.length == 0) {\n        gs.info(\"Fix script to deactivate deny acls on sys_security_data_filter table during upgrade, deactivated all listed sysIds\");\n    } else {\n        gs.warn(\"Skipped denyacl sys_ids on sys_security_data_filter table from deactivation during upgrade are: \" + skippedIds);\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"ed442f2c9fc112108647e8c40b0a1c10","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6a68e7b304f12210559073c06a02f700","value":"6a68e7b304f12210559073c06a02f700"},"sys_update_name":"sys_script_fix_ed442f2c9fc112108647e8c40b0a1c10","sys_updated_by":"admin","sys_created_on":"2024-10-01 23:37:47","name":"Deactivate acls on sys_security_datafilt","sys_name":"Deactivate acls on sys_security_datafilt","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2023-09-18 20:28:43","sys_tags":"","record_for_rollback":"true","script":"\ngs.info(\"Populating Table field on 'CMDB Data Management Policy' table for existing records\");\n\nvar grPolicy = new GlideRecord('cmdb_data_management_policy');\ngrPolicy.addEncodedQuery('table=NULL');\ngrPolicy.query();\ngrPolicy.setValue('table', 'cmdb_ci');\ngrPolicy.updateMultiple();\n\ngs.info(\"Done populating Table field on 'CMDB Data Management Policy' table for existing records\");","sys_class_name":"sys_script_fix","sys_id":"ed96c3e653d5b110af64ddeeff7b1277","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_update_name":"sys_script_fix_ed96c3e653d5b110af64ddeeff7b1277","sys_updated_by":"admin","sys_created_on":"2023-09-18 20:28:43","name":"Update CMDB DM Policy - Table field","sys_name":"Update CMDB DM Policy - Table field","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"16","description":"Removes incorrect reference fields from v_ais_result_improvement_rule_condition_builder_values.domain","sys_updated_on":"2021-01-08 20:04:31","sys_tags":"","record_for_rollback":"false","script":"if (!pm.isZboot()) {\n    var gr = new GlideRecord('sys_dictionary');\n    gr.addQuery('name', 'v_ais_result_improvement_rule_condition_builder_values');\n    gr.addQuery('element=domain');\n    gr.query();\n    if (gr.next()) {\n        gr.setValue('reference', \"NULL\");\n\t\tgr.setValue('reference_cascade_rule', \"NULL\");\n\t\tgr.setValue('reference_qual_condition', \"NULL\");\n\t\tgr.setValue('use_dependent_field', 0);\n        gr.setValue('choice', 0);\n        gr.update();\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"edc16452b72120109fa9b381de11a96d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/76946b3f04312210559073c06a02f73b","value":"76946b3f04312210559073c06a02f73b"},"sys_update_name":"sys_script_fix_edc16452b72120109fa9b381de11a96d","sys_updated_by":"admin","sys_created_on":"2021-01-08 19:09:51","name":"Update AIS Rule Condition Builder Domain","sys_name":"Update AIS Rule Condition Builder Domain","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2024-02-08 06:49:16","sys_tags":"","record_for_rollback":"true","script":"updateHeaderConfig();\n\nfunction getActionGroup() {\n  try {\n    var gr = new GlideRecord(\"sp_instance\");\n    gr.addQuery(\"sp_widget\", \"67863c0d073330108d6d78e99cd30080\");\n    gr.orderByDesc(\"sys_created_on\");\n    gr.query();\n\n    if (gr.next()) {\n      return global.JSON.parse(gr.widget_parameters).action_group.value;\n    }\n  }catch(err){\n    gs.info(err)\n    return;\n  }\n}\n\nfunction checkIfDefaultHeaderExists() {\n  var headeConifgGR = new GlideRecord(sn_employee.ep_Constants.TABLES.EP_HEADER_CONFIG.NAME);\n  headeConifgGR.addQuery(\"default\", true);\n  headeConifgGR.query();\n  return headeConifgGR.next();\n}\n\nfunction updateHeaderConfig() {\n  if(checkIfDefaultHeaderExists())\n    return;\n\n    var headeConifgGR = new GlideRecord(sn_employee.ep_Constants.TABLES.EP_HEADER_CONFIG.NAME);\n    headeConifgGR.addActiveQuery();\n    headeConifgGR.addQuery(\"default\", false);\n    headeConifgGR.orderByDesc(\"sys_created_on\");\n    headeConifgGR.query();\n    if (headeConifgGR.next()) {\n        var actionGroup = getActionGroup() || sn_employee.ep_Constants.OOB_DEFAULT_ACTION_GROUP;\n        headeConifgGR.actions= actionGroup;\n        headeConifgGR.setValue(sn_employee.ep_Constants.TABLES.EP_HEADER_CONFIG.FIELDS.BG_IMAGE, true);\n        headeConifgGR.setValue(sn_employee.ep_Constants.TABLES.EP_HEADER_CONFIG.FIELDS.DISABLE_LINKS, false);\n        headeConifgGR.setValue(sn_employee.ep_Constants.TABLES.EP_HEADER_CONFIG.FIELDS.DEFAULT, true);\n        headeConifgGR.setValue(sn_employee.ep_Constants.TABLES.EP_HEADER_CONFIG.FIELDS.EDIT_IMAGES, true);\n        headeConifgGR.setValue(sn_employee.ep_Constants.TABLES.EP_HEADER_CONFIG.FIELDS.SHOW_PRONOUN, true);\n        headeConifgGR.update();\n    }\n}\n\n","sys_class_name":"sys_script_fix","sys_id":"edf1e0a877d0021094a3b3277b5a99c9","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1e95bac2738f001001b566b90ff6a7cd","value":"1e95bac2738f001001b566b90ff6a7cd"},"sys_update_name":"sys_script_fix_edf1e0a877d0021094a3b3277b5a99c9","sys_updated_by":"admin","sys_created_on":"2024-02-08 06:49:16","name":"Header Config Update Values","sys_name":"Header Config Update Values","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1e95bac2738f001001b566b90ff6a7cd","value":"1e95bac2738f001001b566b90ff6a7cd"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Fix labels for the Similarity Fields  to fields, similarity window filters to lookup filters, window refresh frequency to refresh frequency.","sys_updated_on":"2019-03-11 18:04:47","sys_tags":"","record_for_rollback":"false","script":"if (!pm.isZboot()) {\n\tvar fields_label = 'Fields';\n\tvar refresh_label = 'Refresh Frequency';\n\tvar filter_label = 'Filters';\n\tvar label = '';\n\t\n\t//change label on sys_db_object\n\tvar sys_dict = new GlideRecord(\"sys_dictionary\");\nsys_dict.addEncodedQuery('name=ml_solution_definition^elementSTARTSWITHsimilarity_window_filter^ORelementSTARTSWITHprediction_input_fields^ORelementSTARTSWITHupdate_frequency');\n\tsys_dict.query();\n\twhile (sys_dict.next()) {\n\t\tvar element = sys_dict.getValue('element');\n\t\tvar col_label = sys_dict.getValue('column_label');\n\t\tif ( (element == 'similarity_window_filter') && (col_label != filter_label)) {\n\t\t\tlabel = filter_label;\n\t\t} else if ( (element == 'update_frequency') && (col_label != refresh_label)) {\n\t\t\tlabel = refresh_label;\n\t\t} else if ((element == 'prediction_input_fields') && (col_label != fields_label)){\n\t\t\tlabel = fields_label;\n\t\t}\n\t\tif (label) {\n\t\t\tsys_dict.setValue('column_label',label);\n\t\t\tsys_dict.update();\n\t\t\tgs.log('Changed '+ col_label + 'to '+ label);\n\t\t\tlabel = '';\n\t\t}\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"edfde3f1b7403300d1dcf8b8ee11a946","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_script_fix_edfde3f1b7403300d1dcf8b8ee11a946","sys_updated_by":"admin","sys_created_on":"2019-03-11 17:59:10","name":"Fix labels for ml solution definition","sys_name":"Fix labels for ml solution definition","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Analytics Consent Policy Migration","sys_updated_on":"2023-08-31 12:05:23","sys_tags":"","record_for_rollback":"false","script":"(function() {\n    // Based on analytics properties update the consent policies for all countries\n    // glide.analytics.user.consent.popup.disabled true and glide.analytics.user.auto.consent\n    var USER_CONSENT_POPUP_DISABLED = 'glide.analytics.user.consent.popup.disabled';\n    var userConsentPopupDisabledGR = new GlideRecord('sys_properties');\n    userConsentPopupDisabledGR.addQuery('name', USER_CONSENT_POPUP_DISABLED);\n    userConsentPopupDisabledGR.query();\n    var foundUserConsentPopupDisabledProp = userConsentPopupDisabledGR.next();\n    var userConsentPopupDisabledValue = userConsentPopupDisabledGR.getValue(\"value\");\n    if (foundUserConsentPopupDisabledProp) {\n        gs.info(\"Property Found: \" + USER_CONSENT_POPUP_DISABLED + \" with value: \" + userConsentPopupDisabledValue);\n    } else {\n        gs.info(\"Property Not Found: \" + USER_CONSENT_POPUP_DISABLED);\n    }\n\n    var USER_AUTO_CONSENT = 'glide.analytics.user.auto.consent';\n    var userAutoConsentGR = new GlideRecord('sys_properties');\n    userAutoConsentGR.addQuery('name', USER_AUTO_CONSENT);\n    userAutoConsentGR.query();\n    var foundUserAutoConsentProp = userAutoConsentGR.next();\n    var userAutoConsentValue = userAutoConsentGR.getValue(\"value\");\n    if (foundUserAutoConsentProp) {\n        gs.info(\"Property Found: \" + USER_AUTO_CONSENT + \" with value: \" + userAutoConsentValue);\n    } else {\n        gs.info(\"Property Not Found: \" + USER_AUTO_CONSENT);\n    }\n\n    if (foundUserConsentPopupDisabledProp && userConsentPopupDisabledValue === \"true\") {\n        if (foundUserAutoConsentProp && userAutoConsentValue === \"true\") {\n                // All countries will be updated to \"No Consent Required\" Consent Policy\n                var gr = new GlideRecord(\"core_country\");\n                gr.addNullQuery(\"analytics_consent_policy\");\n                gr.setValue(\"analytics_consent_policy\", \"ef0bb519773311105679bcc8ca5a99ad\");\n                gr.updateMultiple();\n                gs.info(\"Updated All countries consent policy to 'No Consent Required'\");\n            } else {\n                // All countries will be updated to \"Disabled\" Consent Policy\n                var gr = new GlideRecord(\"core_country\");\n                gr.addNullQuery(\"analytics_consent_policy\");\n                gr.setValue(\"analytics_consent_policy\", \"618a7d12779021105679bcc8ca5a9970\");\n                gr.updateMultiple();\n                gs.info(\"Updated All countries consent policy to 'Disabled'\");\n            }\n    } else {\n        gs.info(\"Since Property: \" + USER_CONSENT_POPUP_DISABLED + \" has value: \" + userConsentPopupDisabledValue + \" Region specfic default consent policies will be applied.\");\n\n        // European Countries will be updated to \"Explicit Op In\" Consent Policy\n        var gr = new GlideRecord(\"core_country\");\n        gr.addNullQuery(\"analytics_consent_policy\");\n        // Austria, Belgium, Bulgaria, Croatia, Cyprus, Czech Republic, Denmark, Estonia, Finland, France, Germany, Greece, Hungary,\n        // Ireland, Italy, Latvia, Lithuania, Luxembourg, Malta, Netherlands, Poland, Portugal, Romania, Slovakia, Slovenia, Spain, Sweden,\n        // United Kingdom, Iceland, Liechtenstein, Norway, Switzerland\n        gr.addQuery(\"iso3166_2\", \"IN\", [\"AT\", \"BE\", \"BG\", \"HR\", \"CY\", \"CZ\", \"DK\", \"EE\", \"FI\", \"FR\", \"DE\", \"GR\", \"HU\", \"IE\", \"IT\", \"LV\", \"LT\", \"LU\", \"MT\", \"NL\", \"PL\", \"PT\", \"RO\", \"SK\", \"SI\", \"ES\", \"SE\", \"GB\", \"IS\", \"LI\", \"NO\", \"CH\"]);\n        gr.setValue(\"analytics_consent_policy\", \"87f9b519773311105679bcc8ca5a9922\");\n        gr.updateMultiple();\n        gs.info(\"European Countries will be updated to 'Explicit Op In' Consent Policy\");\n\n        // United States will be updated to \"No Consent Required\" Consent Policy\n        var gr = new GlideRecord(\"core_country\");\n        gr.addNullQuery(\"analytics_consent_policy\");\n        gr.addQuery(\"iso3166_2\", \"=\", \"US\");\n        gr.query();\n        gr.next();\n        gr.setValue(\"analytics_consent_policy\", \"ef0bb519773311105679bcc8ca5a99ad\");\n        gr.update();\n        gs.info(\"United States will be updated to 'No Consent Required' Consent Policy\");\n\n        // Rest All Countries will be updated to \"Notice\" Consent Policy\n        var gr = new GlideRecord(\"core_country\");\n        gr.addNullQuery(\"analytics_consent_policy\");\n        gr.setValue(\"analytics_consent_policy\", \"562bf159773311105679bcc8ca5a9983\");\n        gr.updateMultiple();\n        gs.info(\"Rest of the Countries will be updated to 'Notice' Consent Policy\");\n    }\n\n    if (foundUserConsentPopupDisabledProp) {\n        userConsentPopupDisabledGR.deleteRecord();\n        gs.info(\"Property deleted: \" + USER_CONSENT_POPUP_DISABLED);\n    }\n\n    if (foundUserAutoConsentProp) {\n        userAutoConsentGR.deleteRecord();\n        gs.info(\"Property deleted: \" + USER_AUTO_CONSENT);\n    }\n})();\n","sys_class_name":"sys_script_fix","sys_id":"ee68183577b311105679bcc8ca5a997d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/07d4abbf04312210559073c06a02f7f6","value":"07d4abbf04312210559073c06a02f7f6"},"sys_update_name":"sys_script_fix_ee68183577b311105679bcc8ca5a997d","sys_updated_by":"admin","sys_created_on":"2022-12-16 14:08:39","name":"Analytics Consent Policy Migration","sys_name":"Update Country Analytics Consent Policy","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Populate a valid label for each OneExtend Capability Attribute","sys_updated_on":"2024-06-17 21:02:47","sys_tags":"","record_for_rollback":"true","script":"var defnAttributeGr = new GlideRecord(\"sys_one_extend_definition_attribute\");\ndefnAttributeGr.addNullQuery(\"label\");\ndefnAttributeGr.query();\nwhile (defnAttributeGr.next()) {\n\tvar name = defnAttributeGr.getValue(\"name\");\n\n\t// Construct valid label based on name\n\tvar label = name;\n\tif (name.indexOf(\"_\") >= 0) {\n\t\t// Handle snake case\n\t\tlabel = name.replace(/(^\\w)/g, function (match) {\n\t\t\treturn match[0].toUpperCase();\n\t\t}).replace(/([-_]\\w)/g, function (match) {\n\t\t\treturn \" \" + match[1].toUpperCase();\n\t\t}).trim();\n\t} else {\n\t\t// Handle camel case\n\t\tlabel = name.replace(/([A-Z])/g, ' $1');\n\t\tlabel = label.charAt(0).toUpperCase() + label.slice(1);\n\t\tlabel = label.trim();\n\t}\n\n\t// Update label\n\tdefnAttributeGr.label = label;\n\tdefnAttributeGr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"eeafb822437202106c3603295bb8f231","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7c84affb04312210559073c06a02f73d","value":"7c84affb04312210559073c06a02f73d"},"sys_update_name":"sys_script_fix_eeafb822437202106c3603295bb8f231","sys_updated_by":"admin","sys_created_on":"2024-06-17 21:02:47","name":"Populate Label Field for Attributes","sys_name":"Populate Label Field for Attributes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Update the SLA definition field on task_sla to have display value set to true for upgraded instances","sys_updated_on":"2017-11-02 12:00:16","sys_tags":"","record_for_rollback":"false","script":"if (!pm.isZboot()) {\n\t// set the display to 'true' for sla definition field\n\tvar dictionaryGR = new GlideRecord('sys_dictionary');\n\tdictionaryGR.addQuery('name', 'task_sla');\n\tdictionaryGR.addQuery('display', 'true');\n\n\tdictionaryGR.query();\n\tif (dictionaryGR.getRowCount() == 0){\n\t\tdictionaryGR = new GlideRecord('sys_dictionary');\n\t\tdictionaryGR.addQuery('name', 'task_sla');\n\t\tdictionaryGR.addQuery('element', 'sla');\n\t\tdictionaryGR.query();\n\t\tif (dictionaryGR.next()){\n\t\t\tdictionaryGR.setValue('display','true');\n\t\t\tdictionaryGR.update();\n\t\t}\n\t}\n\telse\n\t\tgs.log('Not setting display value as there is a field already set as a display field');\n}","sys_class_name":"sys_script_fix","sys_id":"ef54a137230203001488dc1756bf65c0","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d19e7b704f12210559073c06a02f7da","value":"5d19e7b704f12210559073c06a02f7da"},"sys_update_name":"sys_script_fix_ef54a137230203001488dc1756bf65c0","sys_updated_by":"admin","sys_created_on":"2017-11-02 11:15:08","name":"Update SLA display value to true","sys_name":"Update SLA display value to true","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Making glide.asset.create_ci_with_ire property true for new customers","sys_updated_on":"2020-04-11 13:56:24","sys_tags":"","record_for_rollback":"false","script":"if (pm.isZboot()) {\n\tgs.setProperty('glide.asset.create_ci_with_ire', true);\n}","sys_class_name":"sys_script_fix","sys_id":"f029a662730010107e88ef66fbf6a79a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/45672bfb04b12210559073c06a02f7c5","value":"45672bfb04b12210559073c06a02f7c5"},"sys_update_name":"sys_script_fix_f029a662730010107e88ef66fbf6a79a","sys_updated_by":"admin","sys_created_on":"2020-04-11 13:56:24","name":"Set create_ci_with_ire property to true","sys_name":"Set create_ci_with_ire property to true","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Generate User Hashes","sys_updated_on":"2021-05-06 01:24:32","sys_tags":"","record_for_rollback":"false","script":"var script = \"sn_app_analytics.GlideUserHash.createUserHashes()\";\nGlideRunScriptJob.scheduleScript(script);\n","sys_class_name":"sys_script_fix","sys_id":"f058dc80c3003010d4437f9ec840dd60","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/07d4abbf04312210559073c06a02f7f6","value":"07d4abbf04312210559073c06a02f7f6"},"sys_update_name":"sys_script_fix_f058dc80c3003010d4437f9ec840dd60","sys_updated_by":"admin","sys_created_on":"2021-05-06 01:18:12","name":"Generate User Hashes","sys_name":"Generate User Hashes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"CMDB Policy Type table has a boolean field named has_manual_process, which might have empty values. They need to be changed to false. (PRB1671906)","sys_updated_on":"2023-10-23 21:16:51","sys_tags":"","record_for_rollback":"true","script":"gs.info('Starting to set has_manual_process to false for empty/null values on cmdb_policy_type table');\nvar grPolicyType = new GlideRecord('cmdb_policy_type');\ngrPolicyType.addEncodedQuery('has_manual_processISEMPTY');\ngrPolicyType.query();\ngrPolicyType.setValue('has_manual_process', false);\ngrPolicyType.updateMultiple();\ngs.info('Done setting has_manual_process to false for empty/null values on cmdb_policy_type table');","sys_class_name":"sys_script_fix","sys_id":"f07123b553023110af64ddeeff7b12ad","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"sys_update_name":"sys_script_fix_f07123b553023110af64ddeeff7b12ad","sys_updated_by":"admin","sys_created_on":"2023-10-23 21:16:51","name":"CMDB Policy Type has_manual_process","sys_name":"CMDB Policy Type has_manual_process","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"1","description":"As part of Security P0 issue, a write audit updated all the empty ACLs in the customer farm. This fix script removes all the write audit updates for affected security center ACLs, so that the upgrades can overwrite those ACLs with the OOB ACLs.","sys_updated_on":"2024-03-06 07:32:56","sys_tags":"","record_for_rollback":"true","script":"var writeAuditOOBACLList = ['2e76e534c3722010ea04a5a1d840dd81'];\nfunction empty_acl_fix(writeAuditOOBACLList) {\n\tnew global.AccessControlUtils().deleteCustomerUpdatesForAuditedEmptyACLs(writeAuditOOBACLList);\n}\nempty_acl_fix(writeAuditOOBACLList);","sys_class_name":"sys_script_fix","sys_id":"f0bfab09c3f00210cc4da5a1d840ddbd","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4524dc30c331101080d6d3658940dd22","value":"4524dc30c331101080d6d3658940dd22"},"sys_update_name":"sys_script_fix_f0bfab09c3f00210cc4da5a1d840ddbd","sys_updated_by":"admin","sys_created_on":"2024-03-06 07:19:03","name":"De-Customize app shell ACL","sys_name":"De-Customize app shell ACL","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/4524dc30c331101080d6d3658940dd22","value":"4524dc30c331101080d6d3658940dd22"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"5","description":"For all the Issue Auto-Resolution Contexts which has intent_topic_state as 'intent_with_ar_disabled_topic', update them to have state as 'intent_without_topic' and add the reason 'Topic not enabled for Auto-Resolution\r\nRename label for topic_enabled_for_auto_resolution column on sys_cs_auto_resolution_matched_intents as Deprecated","sys_updated_on":"2021-05-12 22:04:23","sys_tags":"","record_for_rollback":"false","script":"executeFix();\nchangeColumnLabel('sys_cs_auto_resolution_matched_intents', 'topic_enabled_for_auto_resolution');\n\nfunction executeFix() {\n\tvar contextGa = new GlideAggregate(AutoResolutionConstants.CONTEXT_TABLE_NAME);\n\tcontextGa.addQuery('intent_topic_state', 'intent_with_ar_disabled_topic');\n\tcontextGa.addAggregate('COUNT');\n\tcontextGa.query();\n\t\n\tvar totalRecords = contextGa.next() ? contextGa.getAggregate('COUNT') : 0;\n\t\n\tif (totalRecords > 0) {\n\t\n\t\tgs.info('Updating intent_topic_state on {0} Auto-Resolution context records.', totalRecords);\n\n\t\tvar contextGr = new GlideRecord(AutoResolutionConstants.CONTEXT_TABLE_NAME);\n\t\tcontextGr.addQuery('intent_topic_state', 'intent_with_ar_disabled_topic');\n\t\tcontextGr.query();\n\n\t\tcontextGr.setValue('intent_topic_state', AutoResolutionConstants.INTENT_TOPIC_STATE['NO_MATCHED_TOPIC']);\n\t\tcontextGr.setValue('reason', AutoResolutionConstants.AR_DISABLED_TOPIC);\n\t\tcontextGr.updateMultiple();\n\n\t\tgs.info('Successfully updated intent_topic_state and reason on {0} Auto-Resolution context records. ', totalRecords);\n\t} else {\n\t\tgs.info('No records found in Auto-Resolution context table to be updated for auto-resolution disabled intent_topic_state');\n\t}\n}\n\nfunction changeColumnLabel(tableName, columnName) {\n\tvar dictionaryGr = new GlideRecord('sys_dictionary');\n\tdictionaryGr.addQuery('name', tableName);\n\tdictionaryGr.addQuery('element', columnName);\n\tdictionaryGr.query();\n\t\n\tif (dictionaryGr.next()) {\n\t\tvar currentLabel = dictionaryGr.getValue('column_label');\n\t\tif (currentLabel && currentLabel.length > 0 && !(currentLabel.indexOf('Deprecated') >= 0)) {\n\t\t\tcurrentLabel += ' (Deprecated)';\n\t\t\tdictionaryGr.setValue('column_label', currentLabel);\n\t\t\tdictionaryGr.update();\n\t\t\tgs.info('{0} column label has been updated to be deprecated in table {1}.', currentLabel, tableName);\n\t\t}\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"f27c51d473572010f14a063f34f6a75d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca4f3f704b52210559073c06a02f789","value":"aca4f3f704b52210559073c06a02f789"},"sys_update_name":"sys_script_fix_f27c51d473572010f14a063f34f6a75d","sys_updated_by":"admin","sys_created_on":"2021-03-30 18:08:04","name":"IAR Update AR flag and context state","sys_name":"IAR Update AR flag and context state","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"72","description":"A delayed scheduled job is triggered after upgrade to calculate \"sys_user_has_role\" records to ensure there are not missing assignments.","sys_updated_on":"2022-05-03 15:58:33","sys_tags":"","record_for_rollback":"true","script":"scheduleUserHasRoleJob();\n\nfunction scheduleUserHasRoleJob() {\n    var JOB_ID = \"3824c9a04f030110c6e235e552ce0b59\";\n    var SLUSHBUCKET = \"glide.ui.schedule_slushbucket_save_for_group_roles\";\n    var slushbucketProperty = new GlideRecord(\"sys_properties\");\n    slushbucketProperty.addQuery(\"name\", SLUSHBUCKET);\n    slushbucketProperty.addQuery(\"value\", true);\n    slushbucketProperty.query();\n    if (!slushbucketProperty.next())\n        return;\n\n    if (GlidePluginManager.isZboot() || bypassAutoJobExecution())\n        return;\n\n    var job = new GlideRecord(\"sysauto_script\");\n    job.addQuery(\"sys_id\", JOB_ID);\n    job.addActiveQuery();\n    job.query();\n    if (job.next())\n        updateJobTrigger(JOB_ID);\n\n}\n\n\n/*\n * Method allows to skip the job trigger creation during the upgrade\n * This option is for customers with a very large sys_user_has_role table that might\n * take a day to process.\n */\nfunction bypassAutoJobExecution() {\n    var SKIP_TRIGGER = \"glide.skip.auto_slushbucket_job\";\n    var bypassJobScheduler = new GlideRecord(\"sys_properties\");\n    bypassJobScheduler.addQuery(\"name\", SKIP_TRIGGER);\n    bypassJobScheduler.addQuery(\"value\", true);\n    bypassJobScheduler.query();\n    if (bypassJobScheduler.next())\n        return true;\n    return false;\n}\n\n/*\n * Method to update the zbooted job trigger with \n * the execution time\n */\nfunction updateJobTrigger(job) {\n    gs.info(\"scheduling job!\");\n    var TRIGGER_CLASS = \"com.snc.automation.ScriptJob\";\n    var DOCUMENT_NAME = \"Addresses User Has Role Errors\";\n    var STATE = \"Ready\";\n    var jobExecutionTime = new String(getExecutionTime());\n    var trigger = new GlideRecord(\"sys_trigger\");\n    trigger.addQuery(\"document_key\", job);\n    trigger.addQuery(\"name\", DOCUMENT_NAME);\n    trigger.query();\n    if (trigger.next()) {\n        trigger.setValue(\"next_action\", jobExecutionTime);\n        trigger.setValue(\"upgrade_safe\", false);\n        trigger.setValue(\"trigger_type\", 0);\n        trigger.setValue(\"state\", STATE);\n        trigger.setValue(\"trigger_class\", TRIGGER_CLASS);\n        trigger.setWorkflow(false);\n        trigger.update();\n    }\n}\n\n/*\n * Function calculates time four hours from now.\n */\nfunction getExecutionTime() {\n    var offset = 0;\n    var DELAY = 4 * 3600 * 1000;\n    var now = new GlideDateTime();\n    var tzOffset = now.getTZOffset();\n    if (now.isDST())\n        offset = now.getDSTOffset();\n    now.add(DELAY + offset + (-1) * tzOffset);\n    return now.getDisplayValue();\n}","sys_class_name":"sys_script_fix","sys_id":"f29712a04f470110c6e235e552ce0be8","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd54e3bb04312210559073c06a02f757","value":"cd54e3bb04312210559073c06a02f757"},"sys_update_name":"sys_script_fix_f29712a04f470110c6e235e552ce0be8","sys_updated_by":"admin","sys_created_on":"2022-04-20 23:10:47","name":"Activate Slushbucket Schedule Execution","sys_name":"Activate Slushbucket Schedule Execution","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"6","description":"This fix script override the sys_property 'glide.user.default_password' value to a random string if the property is default value. \r\n\r\nProperty value is not changed if the password is not the default password.","sys_updated_on":"2018-12-08 20:12:08","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\t\t//This fix script will only run for the Zboot scenarios\n\t\tif (!pm.isZboot()) \n\t\t\treturn;\n\t\tGlidePropertiesDB.invalidate();\n\t\t//change the password only if its the default one else no need to change\n\t\tif (gs.getProperty(\"glide.user.default_password\") != \"MyComp@ny123!\") {\n\t\t\tgs.info('Default Password Sys Property value will not be updated, as its not a default password');\n\t\t\treturn;\n\t\t}\n\t\tGlidePropertiesDB.set(\"glide.user.default_password\", GlideSecureRandomUtil.getSecureRandomString(13));\n}());","sys_class_name":"sys_script_fix","sys_id":"f376e86453122300eb7c0a1806dc346f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b259273b04f12210559073c06a02f7fa","value":"b259273b04f12210559073c06a02f7fa"},"sys_update_name":"sys_script_fix_f376e86453122300eb7c0a1806dc346f","sys_updated_by":"admin","sys_created_on":"2018-12-07 07:13:28","name":"Override default password sys property","sys_name":"Override default password sys property","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"true","sys_mod_count":"0","description":"Creates missing many-to-many records between sc_cat_item and sc_category based on sc_cat_item.category reference field value","sys_updated_on":"2016-03-08 18:51:15","sys_tags":"","record_for_rollback":"false","script":"addMissingItemCategoryM2M();\n\nfunction addMissingItemCategoryM2M() {\n\tgs.print(\"Adding missing sc_cat_item::sc_category m2m records\");\n\tvar gr = new GlideRecord('sc_cat_item');\n\tgr.addNotNullQuery(\"category\");\n    gr.query();\n\twhile (gr.next()) {\n\t\tvar cat = gr.getValue(\"category\");\n\t\tvar m2m = new GlideRecord(\"sc_cat_item_category\");\n\t\tm2m.addQuery(\"sc_cat_item\", gr.getUniqueValue());\n\t\tm2m.addQuery(\"sc_category\", cat);\n\t\tm2m.query();\n\t\tif (m2m.next()) {\n\t\t\t//gs.print(\"Found existing m2m record for item: \" + m2m.sc_cat_item.getDisplayValue() + \", category: \" + m2m.sc_category.getDisplayValue());\n\t\t\tcontinue;\n\t\t}\n\t\t\t\n\t\tm2m.sc_cat_item = gr.getUniqueValue();\n\t\tm2m.sc_category = cat;\n\t\tgs.print(\"***** Creating missing m2m record for item: \" + gr.name + \", category: \" + gr.category.getDisplayValue());\n\t\tm2m.insert();\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"f37cec25d7021200a9addd173e24d493","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/69996b7b04f12210559073c06a02f7e2","value":"69996b7b04f12210559073c06a02f7e2"},"sys_update_name":"sys_script_fix_f37cec25d7021200a9addd173e24d493","sys_updated_by":"admin","sys_created_on":"2016-03-08 18:51:15","name":"Add missing sc_cat_item::sc_category m2m","sys_name":"Add missing sc_cat_item::sc_category m2m","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"true","sys_mod_count":"1","description":"Deletes depreceated email account properties: glide.pop3.port, glide.smtp.auth, glide.pop3.secure, glide.smtp.encryption, glide.pop3.password","sys_updated_on":"2021-09-05 15:24:33","sys_tags":"","record_for_rollback":"false","script":"removeDepreceatedRecords();\nfunction removeDepreceatedRecords() {\n \tif (pm.isZboot())\n\t\treturn;\n  gs.log(\"--- Executing Fix Script : Removes Depreceated Email Account Properties ----\");\n\tvar gr = new GlideRecord('sys_properties');\n\tgr.addQuery('name','IN','glide.pop3.port,glide.smtp.auth,glide.pop3.secure,glide.smtp.encryption,glide.pop3.password');\n\tgr.query();\n\twhile(gr.next()){\n\t\tvar isDeleted = gr.deleteRecord();\n    if(isDeleted)\n\t\t  gs.log(gr.getValue(\"name\") + \" has been removed\");\n\t}\n  gs.log(\"--- End of Fix Script Execution : Removes Depreceated Email Account Properties ----\");\n}\n","sys_class_name":"sys_script_fix","sys_id":"f40ba79773123010cfd308b24ff6a749","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8093a3f304312210559073c06a02f7f2","value":"8093a3f304312210559073c06a02f7f2"},"sys_update_name":"sys_script_fix_f40ba79773123010cfd308b24ff6a749","sys_updated_by":"admin","sys_created_on":"2021-09-05 15:21:05","name":"Removes Depreceated Email Properties","sys_name":"Removes Depreceated Email Acc Properties","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"This fix script will be used  for following operations :\r\nClear the security center ace app bundle to fix the customer action menu","sys_updated_on":"2024-06-06 22:01:45","sys_tags":"","record_for_rollback":"true","script":"var scAPI = new sn_vsc_api.UpdateControls();\nscAPI.resetSCAceAppConfigBundle();\n","sys_class_name":"sys_script_fix","sys_id":"f40ca44377660210c2123a91fa5a9948","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"sys_update_name":"sys_script_fix_f40ca44377660210c2123a91fa5a9948","sys_updated_by":"admin","sys_created_on":"2024-06-06 22:01:45","name":"SC reset ace app config bundle","sys_name":"SC reset ace app config bundle","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"sys_created_by":"admin","sys_policy":"read"},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Copies the existing searches and clicks for a workspace user under sys_user_preference -> workspace.globalSearch.recentActions to individual user preference records for each individual workspace","sys_updated_on":"2021-12-06 19:41:26","sys_tags":"","record_for_rollback":"true","script":"var configService = new WorkspaceSearchConfigurationService();\nconfigService.copyLegacySuggestionsForPolaris();","sys_class_name":"sys_script_fix","sys_id":"f47884df5b080110d9a5ce1a8581c775","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/37eda37304752210559073c06a02f7b6","value":"37eda37304752210559073c06a02f7b6"},"sys_update_name":"sys_script_fix_f47884df5b080110d9a5ce1a8581c775","sys_updated_by":"admin","sys_created_on":"2021-11-30 23:20:18","name":"Copy workspace suggestions for Polaris","sys_name":"Copy workspace suggestions for Polaris","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2019-10-20 15:53:36","sys_tags":"","record_for_rollback":"false","script":"(function(){\n\tgs.debug(\"Attempting OOB NY landing page migration.\");\n\n\tvar nyCCRE = '4cc7a8297710330022f7f4d2681061b3';\n\tvar nyTree = {\n\t\t\"4cc7a8297710330022f7f4d2681061b3\": [\n\t\t\t\"24fd4f1473203300f7353c78caf6a716\",\n\t\t\t\"dafec35473203300f7353c78caf6a759\",\n\t\t\t\"344f475473203300f7353c78caf6a7ab\",\n\t\t\t\"63dec35473203300f7353c78caf6a754\"\n\t\t]\n\t};\n\tvar nyPermissions = [];\n\tvar orlandoCCRE = 'f4ee6ecd236000100e4bc50947bf655d';\n\n\tUXFMigrationUtils.fixOOBNYLandingPage(nyCCRE, JSON.stringify(nyTree), nyPermissions, orlandoCCRE);\n})();","sys_class_name":"sys_script_fix","sys_id":"f4be3a26232000109fdec50947bf653c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2b3a837a0bb732007a0e41d6f6673a7f","value":"2b3a837a0bb732007a0e41d6f6673a7f"},"sys_update_name":"sys_script_fix_f4be3a26232000109fdec50947bf653c","sys_updated_by":"admin","sys_created_on":"2019-10-20 15:53:36","name":"OOB Default Landing Page migration","sys_name":"OOB Default Landing Page migration","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/2b3a837a0bb732007a0e41d6f6673a7f","value":"2b3a837a0bb732007a0e41d6f6673a7f"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"24","description":"","sys_updated_on":"2020-10-12 18:44:19","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tGlideRunScriptJob.scheduleScript('new global.SamModelLifecycleToProductLifecycle().process();');\n}());","sys_class_name":"sys_script_fix","sys_id":"f4f113580f831010a2bb13b2ff767ee1","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e325237304712210559073c06a02f7be","value":"e325237304712210559073c06a02f7be"},"sys_update_name":"sys_script_fix_f4f113580f831010a2bb13b2ff767ee1","sys_updated_by":"admin","sys_created_on":"2020-08-31 20:43:39","name":"SAM - Copy lifecycles to custom table","sys_name":"SAM - Copy lifecycles to custom table","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"9","description":"Update ESC config view to default view on Portal configuration module for existing user.","sys_updated_on":"2021-07-15 04:01:45","sys_tags":"","record_for_rollback":"false","script":"var EC_APP_MODULE = 'd7a3b29644013410f877e29d0519246b';\n\nvar moduleGr = new GlideRecord('sys_app_module');\n\nif (new GlidePluginManager().isActive('com.sn_ex_employee_center_pro') && moduleGr.get(EC_APP_MODULE)) {\n    moduleGr.setValue('view_name', '');\n    moduleGr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"f5bd622453113010a487ddeeff7b128c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3d1da2705b021200a4656ede91f91ab6","value":"3d1da2705b021200a4656ede91f91ab6"},"sys_update_name":"sys_script_fix_f5bd622453113010a487ddeeff7b128c","sys_updated_by":"admin","sys_created_on":"2021-07-09 04:47:16","name":"Update ESC config view for existing user","sys_name":"Update ESC config view for existing user","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3d1da2705b021200a4656ede91f91ab6","value":"3d1da2705b021200a4656ede91f91ab6"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"0","description":"Delete all loggedInUserIsNotUnique MID Server issue records","sys_updated_on":"2024-07-31 23:48:46","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('ecc_agent_issue');\ngr.addQuery('source', 'loggedInUserIsNotUnique');\ngr.query();\ngr.deleteMultiple();","sys_class_name":"sys_script_fix","sys_id":"f5cfa61043bf0210471d6692e9b8f2c2","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/42b8273704f12210559073c06a02f78d","value":"42b8273704f12210559073c06a02f78d"},"sys_update_name":"sys_script_fix_f5cfa61043bf0210471d6692e9b8f2c2","sys_updated_by":"now.midserver","sys_created_on":"2024-07-30 21:53:28","name":"Resolve MID Server Logged in User Issues","sys_name":"Resolve MID Server Logged in User Issues","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"now.midserver","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Trigger Domain column promotion from sys_hub_trigger_template to sys_hub_trigger_definition table","sys_updated_on":"2024-09-22 06:59:20","sys_tags":"","record_for_rollback":"true","script":"//if its not a zboot\nif (!pm.isZboot()) {\n    var tableDesc = GlideTableDescriptor.get(\"sys_hub_trigger_template\");\n    //promote the sys_domain column if the column exists in sys_hub_trigger_template table\n    if (tableDesc.isValid() && tableDesc.getElementDescriptor(\"sys_domain\", false)) {\n        gs.log(\"Promoting sys_domain column of sys_hub_trigger_template to sys_hub_trigger_definition started\");\n        GlideDBUtil.promoteColumn('sys_hub_trigger_template', 'sys_hub_trigger_definition', 'sys_domain');\n        gs.log(\"Promoting sys_domain column of sys_hub_trigger_template to sys_hub_trigger_definition completed\");\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"f5d8256577b812108f25d9e6bd5a9952","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fd4b2f7304352210559073c06a02f77a","value":"fd4b2f7304352210559073c06a02f77a"},"sys_update_name":"sys_script_fix_f5d8256577b812108f25d9e6bd5a9952","sys_updated_by":"admin","sys_created_on":"2024-09-22 06:59:00","name":"Trigger Domain column promotion","sys_name":"Trigger Domain column promotion","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"This fix script migrates the VA Notification Providers to Channels.","sys_updated_on":"2020-07-29 04:48:26","sys_tags":"","record_for_rollback":"false","script":"\n//get all the notification providers related to CAF.\nvar gr = new GlideRecord('sys_cs_notification_channel_configuration');\ngr.query();\n\n//for each notification provider update the notification_channel with single CAF notification provider and delete the old notification provider.\nwhile(gr.next()) {\n\tvar provider_gr = new GlideRecord('sys_notification_provider');\n\tvar channel_gr = new GlideRecord('sys_notification_channel');\n\t\n\tprovider_gr.get(gr.get('notification_provider'));\n\tprovider_gr.deleteRecord();\n\t\n\tchannel_gr.setValue('provider', 'dfd16d88531610109686ddeeff7b126b');\n\tchannel_gr.update;\n\t\n\tgr.setValue('notification_provider', 'dfd16d88531610109686ddeeff7b126b');\n\tgr.update();\t\n}","sys_class_name":"sys_script_fix","sys_id":"f5dd7561531210109686ddeeff7b1204","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9cc37b3704b52210559073c06a02f78f","value":"9cc37b3704b52210559073c06a02f78f"},"sys_update_name":"sys_script_fix_f5dd7561531210109686ddeeff7b1204","sys_updated_by":"admin","sys_created_on":"2020-07-29 04:48:26","name":"Migrating VA Notification Provider To Ch","sys_name":"Migrating VA Notification Provider To Ch","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Open up the on-call tables to be accessible from other scope, this fix script will provide the following access on a table\r\n1. Read access\r\n2. Create access\r\n3. Update access\r\n4. Delete access\r\n5. Alter table access\r\n6. UI Actions access\r\n7. Client scripts access","sys_updated_on":"2021-04-19 06:00:34","sys_tags":"","record_for_rollback":"false","script":"var onCallTables = [\n\t\"cmn_rota\",\n\t\"cmn_rota_roster\",\n\t\"cmn_rota_member\",\n\t\"cmn_rota_contact_preference\",\n\t\"cmn_rota_escalation\",\n\t\"cmn_rota_escalation_set\",\n\t\"cmn_rota_esc_step_def\",\n\t\"cmn_rota_resp_cache\",\n\t\"on_call_communication_type\",\n\t\"on_call_escalation_comm\",\n\t\"on_call_escalation_con_attempt\",\n\t\"on_call_escalation_level\",\n\t\"on_call_escalation_response\",\n\t\"on_call_escalation\",\n\t\"on_call_group_preference\",\n\t\"on_call_user_contact_preference\",\n\t\"on_call_user_preference\",\n\t\"sys_on_call_contact_source\",\n\t\"sys_on_call_group_template\",\n\t\"sys_on_call_shift_template\",\n\t\"roster_schedule_span_proposal\",\n\t\"roster_schedule_span\",\n\t\"trigger_rule\"\n];\n\nupdateOnCallTables();\n\nfunction updateOnCallTables() {\n\t\n\tif (pm.isZboot())\n\t\treturn;\n\t\n\tvar dbObjects = new GlideRecord('sys_db_object');\n\tdbObjects.addQuery('name', 'IN', onCallTables.join(','));\n\tdbObjects.setValue('read_access', true);\n\tdbObjects.setValue('update_access', true);\n\tdbObjects.setValue('create_access', true);\n\tdbObjects.setValue('delete_access', true);\n\tdbObjects.setValue('alter_access', true);\n\tdbObjects.setValue('actions_access', true);\n\tdbObjects.setValue('client_scripts_access', true);\n\tdbObjects.setValue('ws_access', true);\n\t\n\tdbObjects.setWorkflow(false);\n\tdbObjects.setUseEngine(false);\n\tdbObjects.updateMultiple();\n}","sys_class_name":"sys_script_fix","sys_id":"f60ceeb653532010bf68ddeeff7b12bd","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_script_fix_f60ceeb653532010bf68ddeeff7b12bd","sys_updated_by":"admin","sys_created_on":"2021-04-07 18:29:01","name":"Update On-Call CRUD Access","sys_name":"Update On-Call CRUD Access","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Allow delete on sys_nlu_model table","sys_updated_on":"2023-05-25 05:27:02","sys_tags":"","record_for_rollback":"true","script":"var gr = new GlideRecord('sys_db_object');\ngr.addQuery('name', 'sys_nlu_model');\ngr.query();\nif (gr.next()) {\n    gr.delete_access = true;\n    gr.update();\n    gs.info('Upgrade Script: Delete Application Access Updated for sys_nlu_model table');\n}","sys_class_name":"sys_script_fix","sys_id":"f65fda81a3432110f066d78446fcda1b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_script_fix_f65fda81a3432110f066d78446fcda1b","sys_updated_by":"admin","sys_created_on":"2023-05-25 05:27:02","name":"Allow Delete sys_nlu_model","sys_name":"Allow Delete sys_nlu_model","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"","sys_updated_on":"2020-03-03 03:54:31","sys_tags":"","record_for_rollback":"false","script":"function dropProviderColumn () {\n\tgs.print(\"Now dropping the column 'provider' from 'sys_cs_nlu_language'.\");\n\tgs.dropColumn('sys_cs_nlu_language', 'provider');\n}\n\ndropProviderColumn();\n\nfunction updateLanguageColumnType() {\n    var gr = new GlideRecord(\"sys_dictionary\");\n\tgr.addQuery(\"name\", \"sys_cs_nlu_language\");\n    gr.addQuery(\"internal_type\", \"string\");\n    gr.addQuery(\"element\", \"language\");\n    gr.query();\n    if(gr.next()) {\n        gr.setValue(\"internal_type\", \"reference\");\n\t\tgr.setValue(\"reference\", \"open_nlu_driver_language\");\n        gr.setValue(\"max_length\", \"32\");\n        gr.setValue(\"unique\", \"false\");\n        gr.update();\n    }\n}\n\nupdateLanguageColumnType();","sys_class_name":"sys_script_fix","sys_id":"f6e9e7fdc7130010fd68220eb4c26025","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_script_fix_f6e9e7fdc7130010fd68220eb4c26025","sys_updated_by":"admin","sys_created_on":"2020-03-03 03:54:31","name":"Fix sys_cs_nlu_language column","sys_name":"Fix sys_cs_nlu_language column","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"7","description":"Add pending_disposal as a sub-state for upgrading customers in alm_asset","sys_updated_on":"2020-04-27 17:35:28","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\t// From paris the substate choice list will also contain Pending disposal when state is Retired\n\tvar sysChoiceGr = new GlideRecord('sys_choice');\n\tsysChoiceGr.addQuery('name', 'alm_asset');\n\tsysChoiceGr.addQuery('element', 'substatus');\n\tsysChoiceGr.addQuery('value', 'pending_disposal');\n\tsysChoiceGr.addQuery('dependent_value', 7);\n\tsysChoiceGr.query();\n\tif (!sysChoiceGr.next()) {\n\t\tsysChoiceGr.initialize();\n\t\tsysChoiceGr.setValue('name', 'alm_asset');\n\t\tsysChoiceGr.setValue('element', 'substatus');\n\t\tsysChoiceGr.setValue('sequence', 5);\n\t\tsysChoiceGr.setValue('label', 'Pending disposal');\n\t\tsysChoiceGr.setValue('value', 'pending_disposal');\n\t\tsysChoiceGr.setValue('dependent_value', 7);\n\t\tif (sysChoiceGr.insert()) {\n\t\t\tgs.log('Fix Script: Show Pending disposal in substate choice list when Retired state is selected on Asset');\n\t\t} else { gs.log('Fix Script: Asset: Update substate choice list - Failed'); }\n\t}\n}());","sys_class_name":"sys_script_fix","sys_id":"f6f7657ac7109010d665ffc603c260f1","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/45672bfb04b12210559073c06a02f7c5","value":"45672bfb04b12210559073c06a02f7c5"},"sys_update_name":"sys_script_fix_f6f7657ac7109010d665ffc603c260f1","sys_updated_by":"admin","sys_created_on":"2020-04-24 14:09:55","name":"Asset: Update substate choice list","sys_name":"Asset: Update substate choice list","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Deprecate depens_on column of one_api_service_plan_feature. Copy value to new column depends_on_list.","sys_updated_on":"2024-05-31 08:05:31","sys_tags":"","record_for_rollback":"true","script":"var gr = new GlideRecord('one_api_service_plan_feature');\ngr.addEncodedQuery('depends_on_list=NULL^depends_on!=NULL');\ngr.query();\nwhile (gr.next()) {\n    gr.setValue('depends_on_list', gr.getValue('depends_on'));\n    gr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"f727e2b83722021033a1e84c24924bbe","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fc84affb04312210559073c06a02f73e","value":"fc84affb04312210559073c06a02f73e"},"sys_update_name":"sys_script_fix_f727e2b83722021033a1e84c24924bbe","sys_updated_by":"admin","sys_created_on":"2024-05-31 07:23:18","name":"Deprecate depends_on column ","sys_name":"Deprecate depends_on column ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"Changing nlq_query_log and nlq_table_guesser_query_log table rotation  duration from 6 weeks to 6 months","sys_updated_on":"2021-10-07 18:24:51","sys_tags":"","record_for_rollback":"false","script":"var duration_7days = gs.getDurationDate('7 0:0:0');\nvar duration_30days = gs.getDurationDate('30 0:0:0');\n\nvar gr = new GlideRecord(\"sys_table_rotation\");\ngr.addQuery('name=nlq_query_log^ORname=nlq_table_guesser_query_log');\ngr.addQuery('duration',  duration_7days);\ngr.setValue('duration', duration_30days);\ngr.updateMultiple();\n","sys_class_name":"sys_script_fix","sys_id":"f7fd50515303301090a1ddeeff7b1244","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cebd633304752210559073c06a02f7f7","value":"cebd633304752210559073c06a02f7f7"},"sys_update_name":"sys_script_fix_f7fd50515303301090a1ddeeff7b1244","sys_updated_by":"admin","sys_created_on":"2021-10-06 02:09:51","name":"NLQ log table rotation = 6 months ","sys_name":"NLQ log table rotation = 6 months ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"4","description":"Make \"update_synch\" false for table \"std_change_record_producer\"","sys_updated_on":"2017-11-01 12:28:53","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tif (!pm.isZboot())\n\t\tSNC.DictionaryAttribute.set(\"std_change_record_producer\", null, \"update_synch\", \"false\");\n})();","sys_class_name":"sys_script_fix","sys_id":"f81cc41f3b820300a1344180e2efc4ff","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b80be33304352210559073c06a02f76b","value":"b80be33304352210559073c06a02f76b"},"sys_update_name":"sys_script_fix_f81cc41f3b820300a1344180e2efc4ff","sys_updated_by":"admin","sys_created_on":"2017-10-31 15:35:57","name":"Synch false \"std_change_record_producer\"","sys_name":"Synch false \"std_change_record_producer\"","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"5","description":"This fix script will be used to adjust existing data for sn_gf_goal_target. There are three new columns which are introduced (qualitative_base_value, qualitative_actual_value, qualitative_target_value). So, if the type field is set to 'milestone' then set the qualitative columns accordingly as per progress (percent_complete).","sys_updated_on":"2023-06-23 06:36:57","sys_tags":"","record_for_rollback":"true","script":"setQualitativeColumns();\n\nfunction setQualitativeColumns() {\n    var targetGr = new GlideRecord(\"sn_gf_goal_target\");\n    targetGr.addQuery('type', 'milestone');\n    targetGr.addNullQuery('measure');\n    targetGr.addNotNullQuery('percent_complete');\n    targetGr.query();\n\n    var unitSysId = '1ceb378c530b21107d1cddeeff7b12fe';\n\tvar targetSysIdList = [];\n    gs.info(\"Goals and Target data model changes: Starting\");\n    while (targetGr.next()) {\n        targetGr.setValue('measure', unitSysId);\n        targetGr.setValue('qualitative_base_value', 'yes');\n\t\ttargetGr.setValue('qualitative_target_value', 'yes');\n        targetGr.setValue('qualitative_actual_value', 'yes');\n\t\tif (targetGr.getValue('percent_complete') === '0') {\n\t\t\ttargetGr.setValue('qualitative_actual_value', 'no');\n\t\t}\n        targetGr.setWorkflow(false);\n        gs.info(\"Target data model changes: Updating target record with sys id \"+targetGr.getUniqueValue());\n        targetGr.update();\n\t\t//also update the target progress associated to it\n\t\ttargetSysIdList.push(targetGr.getUniqueValue());\n    }\n\n    gs.info(\"Goals and Target data model changes: Done updating target records\");\n\tvar targetProgressGr = new GlideRecord(\"sn_gf_goal_target_progress\");\n\ttargetProgressGr.addEncodedQuery('targetIN'+targetSysIdList.join());\n\ttargetProgressGr.query();\n\n    gs.info(\"Target Progress data model changes: Starting\");\n\twhile(targetProgressGr.next()) {\n\t\ttargetProgressGr.setValue('qualitative_progress_value','yes');\n\t\tif (targetProgressGr.getValue('percent_complete') === '0') {\n\t\t\ttargetProgressGr.setValue('qualitative_progress_value','no');\n\t\t}\n\t\ttargetProgressGr.setWorkflow(false);\n        gs.info(\"Target Progress data model changes: Updating target progress record with sys id \"+targetProgressGr.getUniqueValue());\n\t\ttargetProgressGr.update();\n\t}\n    gs.info(\"Target Progress data model changes: Done updating target progress records\");\n\n}","sys_class_name":"sys_script_fix","sys_id":"f8d12305532321107d1cddeeff7b12e2","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/11879041532030103913ddeeff7b12d8","value":"11879041532030103913ddeeff7b12d8"},"sys_update_name":"sys_script_fix_f8d12305532321107d1cddeeff7b12e2","sys_updated_by":"admin","sys_created_on":"2023-06-19 07:01:31","name":"SetQualitativeTargetsCoIfTypeIsMilestone","sys_name":"SetQualitativeTargetsCoIfTypeIsMilestone","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/11879041532030103913ddeeff7b12d8","value":"11879041532030103913ddeeff7b12d8"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Update nlu_provider field in open_nlu_predict_feedback table by following audit_log.nlu_provider","sys_updated_on":"2020-11-14 14:54:29","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('open_nlu_predict_feedback');\ngr.query();\nwhile (gr.next()) {\n  // fetch audit log value\n  var audit_log = gr.audit_log;\n  if (!audit_log) {\n    continue;\n  }\n\n  // fetch audit log reference\n  var audit_log_ref = audit_log.getRefRecord();\n  if (!audit_log_ref) {\n    continue;\n  }\n\n  // determine nlu_driver id\n  var nlu_driver = audit_log_ref.getValue('nlu_driver');\n  if (!nlu_driver) {\n    continue;\n  }\n    \n  gr.setValue('nlu_provider', nlu_driver);\n  gr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"f95794a853e020101fdbddeeff7b126a","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1ac3fb3704b52210559073c06a02f785","value":"1ac3fb3704b52210559073c06a02f785"},"sys_update_name":"sys_script_fix_f95794a853e020101fdbddeeff7b126a","sys_updated_by":"admin","sys_created_on":"2020-11-14 14:54:29","name":"Add NLU driver to feedback","sys_name":"Add NLU driver to feedback","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"This fix script will remove the orphan record in \"sys_security_acl\" and \"sys_ux_data_broker_transform\" for Admin center. This script is required to solve one of the defect raised by security team [DEF0492778].","sys_updated_on":"2024-04-10 11:14:40","sys_tags":"","record_for_rollback":"true","script":"/*\nDelete Orphan ACL\n*/\nvar grAcl = new GlideRecord('sys_security_acl');\ngrAcl.addQuery('sys_id', 'f8a02f425b66011011ca51d11581c7f3');\ngrAcl.query();\n\nif (grAcl.next()) {\n\tgs.info('Deleting orphan ACL: ' + grAcl.getValue('sys_id'));\n\tgrAcl.deleteRecord();\n} else {\n\tgs.warn('Unable to find ACL record ' + grAcl.getValue('sys_id') + ' on sys_security_acl table.');\n}\n\n\n/*\nDelete Orphan data broker\n*/\nvar grDB = new GlideRecord('sys_ux_data_broker_transform');\ngrDB.addQuery('sys_id', 'c1e9245e5ba6011011ca51d11581c73d');\ngrDB.query();\n\nif (grDB.next()) {\n\tgs.info('Deleting orphan data broker: ' + grDB.getValue('sys_id'));\n\tgrDB.deleteRecord();\n} else {\n\tgs.warn('Unable to find data broker record ' + grDB.getValue('sys_id') + ' on sys_ux_data_broker_transform table.');\n}\n","sys_class_name":"sys_script_fix","sys_id":"f9b1b420a3ed06101e9a3c6346fcda3b","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1163fa730f102010e8c940c1df767e8c","value":"1163fa730f102010e8c940c1df767e8c"},"sys_update_name":"sys_script_fix_f9b1b420a3ed06101e9a3c6346fcda3b","sys_updated_by":"maint","sys_created_on":"2024-04-10 11:14:40","name":"Delete orphan ACL and Data Broker ","sys_name":"Delete orphan ACL and Data Broker ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1163fa730f102010e8c940c1df767e8c","value":"1163fa730f102010e8c940c1df767e8c"},"sys_created_by":"maint","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"9","description":"fix type of cmn_rota_roster field on cmn_rota_esc_step_def table","sys_updated_on":"2021-04-18 17:20:01","sys_tags":"","record_for_rollback":"false","script":"var SCRIPT_NAME = 'fix_esc_step_rosters_field: ';\nfunction processFixScript() {\n\tif (pm.isZboot())\n\t\treturn;\n\t\n\tgs.log(SCRIPT_NAME + 'Started updating cmn_rota_roster field type to List');\n\n\tvar escStepGr = new GlideRecord('cmn_rota_esc_step_def');\n\tescStepGr.addEncodedQuery('cmn_rota_rosterISNOTEMPTY');\n\tescStepGr.query();\n\twhile (escStepGr.next()) {\n\t\tif (escStepGr.isValidField('cmn_rota_rosters')) {\n\t\t\tescStepGr.cmn_rota_rosters = escStepGr.cmn_rota_roster + '';\n\t\t\tescStepGr.setWorkflow(false);\n\t\t\tescStepGr.setUseEngine(false);\n\t\t\tescStepGr.update();\n\t\t} else\n\t\t\tgs.log(SCRIPT_NAME + 'cmn_rota_rosters is not a valid field on ' + escStepGr.getUniqueValue());\n\t}\n\n\tvar dictionaryGr = new GlideRecord('sys_dictionary');\n\tdictionaryGr.addQuery('name', 'cmn_rota_escalation_set');\n\tdictionaryGr.addQuery('element', 'cmn_rota');\n\tdictionaryGr.addQuery('mandatory', true);\n\tdictionaryGr.setLimit(1);\n\tdictionaryGr.query();\n\n\tif (dictionaryGr.next()) {\n\t\tdictionaryGr.setValue('mandatory', false);\n\t\tdictionaryGr.update();\n\t}\n}\n\ntry {\n\tprocessFixScript();\n} catch(err) {\n\tgs.error(SCRIPT_NAME + err);\n} finally {\n\tgs.log(SCRIPT_NAME + 'Finished updating cmn_rota_roster field type to List');\n}","sys_class_name":"sys_script_fix","sys_id":"f9c9537453572010bf68ddeeff7b12cf","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_script_fix_f9c9537453572010bf68ddeeff7b12cf","sys_updated_by":"admin","sys_created_on":"2021-04-01 16:33:46","name":"Fix escalation step Roster field","sys_name":"Fix escalation step Roster field","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Update the label for the field \"reason\" from \"Intent topic state reason\" to \"Task processing state reason\"","sys_updated_on":"2022-03-23 13:56:57","sys_tags":"","record_for_rollback":"true","script":"updateIARReasonLabel();\n\nfunction updateIARReasonLabel() {\n\tvar newLabel = 'Task processing state reason';\n\tvar columnGr = new GlideRecord('sys_dictionary');\n\tcolumnGr.addQuery('name', 'sys_cs_auto_resolution_context');\n\tcolumnGr.addQuery('element', 'reason');\n\tcolumnGr.query();\n\t\n\tif (!columnGr.next())\n\t\treturn;\n\t\n\tif (columnGr.getValue('column_label') === newLabel)\n\t\treturn;\n\t\n\tcolumnGr.setValue(\"column_label\", newLabel);\n\tcolumnGr.setValue(\"sys_name\", newLabel);\n\tcolumnGr.update();\n\t\n\tvar documentationGr = new GlideRecord('sys_documentation');\n\tdocumentationGr.addQuery('name', 'sys_cs_auto_resolution_context');\n\tdocumentationGr.addQuery('element', 'reason');\n\tdocumentationGr.query();\n\tdocumentationGr.next();\n\tdocumentationGr.setValue('label', newLabel);\n\tdocumentationGr.setValue('plural', newLabel + 's');\n\tdocumentationGr.setValue('sys_name', newLabel);\n\tdocumentationGr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"fa270c63539a4110af71ddeeff7b125f","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca4f3f704b52210559073c06a02f789","value":"aca4f3f704b52210559073c06a02f789"},"sys_update_name":"sys_script_fix_fa270c63539a4110af71ddeeff7b125f","sys_updated_by":"admin","sys_created_on":"2022-03-23 13:56:57","name":"Update IAR reason label","sys_name":"Update IAR reason label","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"2","description":"","sys_updated_on":"2022-12-20 14:53:11","sys_tags":"","record_for_rollback":"false","script":"if (pm.isZboot()) {\n    \tgs.info(\"No need to replace indexes for on par_dashboard_permission fields\");\n\t} else {\n\t\tgs.info(\"Adding indexes\");\n\t\taddIndexes();\n\t}\n\nfunction addIndexes() {\n    var table = 'par_dashboard_permission';\n    var dbi = GlideDBConfiguration.getDBI(table);\n    var dbindex = new GlideDBIndex(dbi);\n    var td = GlideTableDescriptor.get(table);\n    if (!td.isValid()) {\n        gs.info(\"Invalid table descriptor on par_dashboard_permission\");\n    }\n\n    var currentIndexes = td.getIndexDescriptors().values().toArray();\n    var alreadyHasNewIndex = false;\n    gs.info(\"Found \" + currentIndexes.length + \" indexes to process\");\n    for (var i = 0; i < currentIndexes.length; i++) {\n    \tvar indexArrAsString = currentIndexes[i].getFields().toString()\n        if (indexArrAsString == '[dashboard, group]' || indexArrAsString == '[dashboard, user]' || indexArrAsString == '[dashboard, role]') {\n            if (dbindex.exists(currentIndexes[i])) {\n                gs.info('Dropping dashboard permission index ' + currentIndexes[i].getFields().toString());\n                dbindex.drop(currentIndexes[i]);\n            }\n        } else if (indexArrAsString == '[dashboard, role, group, user]') {\n            alreadyHasNewIndex = true;\n            gs.info('Found new dashboard permission index');\n        }\n    }\n    if (!alreadyHasNewIndex) {\n        gs.info('Creating new dashboard permission index');\n        var newIdx = new GlideIndexDescriptor(table, 'idx_par_dash_combined_index', ['dashboard', 'role', 'group', 'user']);\n        dbindex.create(table, [newIdx]);\n    } else {\n    \tgs.info('Skipping index creation as it already exists');\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"faca704bb7731110997a9f78ce11a95c","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/143b677304352210559073c06a02f7e2","value":"143b677304352210559073c06a02f7e2"},"sys_update_name":"sys_script_fix_faca704bb7731110997a9f78ce11a95c","sys_updated_by":"admin","sys_created_on":"2022-12-20 14:49:12","name":"Replace indexes on parDashboardPermissio","sys_name":"Replace indexes on parDashoardPermissiom","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"27","description":"Migrate any existing IAR model from configuration to language configuration schema. \r\nApplicable for Quebec to Rome upgrades","sys_updated_on":"2022-01-11 18:18:01","sys_tags":"","record_for_rollback":"false","script":"migrate();\nchangeColumnLabel(AutoResolutionConstants.CONFIG_TABLE_NAME, 'ml_solution_name');\nchangeColumnLabel(AutoResolutionConstants.CONFIG_TABLE_NAME, 'ml_status_last_updated');\nchangeColumnLabel(AutoResolutionConstants.CONFIG_TABLE_NAME, 'ml_training_progress');\nchangeColumnLabel(AutoResolutionConstants.CONFIG_TABLE_NAME, 'ml_training_state');\n\nfunction migrate() {\n\t//check if there is any model\n\tvar modelResultObject = {};\n\tmodelResultObject = AutoResolutionUtil.checkIARModelExists();\n\t\n\t//This is not expected but worst case scenario\n\tif (gs.nil(modelResultObject) || Object.keys(modelResultObject).length === 0) {\n\t\tgs.warn('Unexpected error occurred during Issue Auto-Resolution migration fix script execution');\n\t\treturn;\n\t}\n\t\n\tif (!gs.nil(modelResultObject) && !modelResultObject.modelExists) {\n\t\tgs.info('No migration required as Issue Auto-Resolution model does not exist.');\n\t\treturn;\n\t}\n\t\n\tif (AutoResolutionLanguageHelper.checkConfigExistsForLanguageAndSolutionName('en', modelResultObject.solutionName)) {\n\t\tgs.info('No migration required as Issue Auto-Resolution Language model already exists.');\n\t\treturn;\n\t}\n\t\n\t//honor IAR Configuration active flag and copy it over to language configuration active flag\t\n\tvar languageConfigGr = new GlideRecord(AutoResolutionConstants.CONFIG_LANGUAGE_TABLE_NAME);\n\tlanguageConfigGr.setValue('configuration', modelResultObject.configurationSysId);\n\tlanguageConfigGr.setValue('ml_solution_name', modelResultObject.solutionName);\n\tlanguageConfigGr.setValue('ml_training_state', modelResultObject.trainingState);\n\tlanguageConfigGr.setValue('ml_training_progress', modelResultObject.trainingProgress);\n\tlanguageConfigGr.setValue('ml_status_last_updated', modelResultObject.lastUpdate);\n\tlanguageConfigGr.setValue('active', modelResultObject.configurationActive);\n\tlanguageConfigGr.setValue('training_language', 'en'); //default to english\n\tlanguageConfigGr.setValue('latest_trained_version', modelResultObject.latestTrainedVersion);\n\tlanguageConfigGr.insert();\n\t\n\tgs.info('Successfully migrated Issue Auto-Resolution model {0} to use language configuration', modelResultObject.solutionName);\n\t\n\t//Update IAR Configuration table fields\n\tvar autoResConfigGr = new GlideRecord(AutoResolutionConstants.CONFIG_TABLE_NAME);\n\tautoResConfigGr.get(modelResultObject.configurationSysId);\n\tautoResConfigGr.setValue('ml_solution_name', '');\n\tautoResConfigGr.setValue('ml_training_state', '');\n\tautoResConfigGr.setValue('ml_training_progress', '');\n\tautoResConfigGr.setValue('ml_status_last_updated', '');\n\tautoResConfigGr.setValue('training_language', 'en'); //default to english\n\tautoResConfigGr.update();\n\tgs.info('Successfully updated Issue Auto-Resolution Configuration training language to English (en)');\n}\n\nfunction changeColumnLabel(tableName, columnName) {\n\tvar dictionaryGr = new GlideRecord('sys_dictionary');\n\tdictionaryGr.addQuery('name', tableName);\n\tdictionaryGr.addQuery('element', columnName);\n\tdictionaryGr.query();\n\t\n\tif (dictionaryGr.next()) {\n\t\tvar currentLabel = dictionaryGr.getValue('column_label');\n\t\tif (currentLabel && currentLabel.length > 0 && !(currentLabel.indexOf('Deprecated') >= 0)) {\n\t\t\tcurrentLabel += ' (Deprecated)';\n\t\t\tdictionaryGr.setValue('column_label', currentLabel);\n\t\t\tdictionaryGr.update();\n\t\t\tgs.info('{0} column label has been updated to be deprecated in Auto-Resolution Configuration table.', currentLabel);\n\t\t}\n\t}\n\t\n}\n","sys_class_name":"sys_script_fix","sys_id":"fad7d47d738f2010f14a063f34f6a7c7","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca4f3f704b52210559073c06a02f789","value":"aca4f3f704b52210559073c06a02f789"},"sys_update_name":"sys_script_fix_fad7d47d738f2010f14a063f34f6a7c7","sys_updated_by":"admin","sys_created_on":"2021-03-22 18:46:15","name":"Migrate IAR model to language config","sys_name":"Migrate IAR model to language config","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"This Fix Script updates cross scope delete access for ml_labeled_data","sys_updated_on":"2023-03-19 13:17:25","sys_tags":"","record_for_rollback":"true","script":" if (!pm.isZboot()) {\n     var dbObj = new GlideRecord(\"sys_db_object\");\n     dbObj.addQuery(\"name\", \"ml_labeled_data\");\n     dbObj.query();\n     if (dbObj.next()) {\n         dbObj.setValue(\"delete_access\", true);\n         dbObj.update();\n         gs.log(\"Enable Delete access for ML Labeled Data table \");\n     }\n }","sys_class_name":"sys_script_fix","sys_id":"fad8cf2f53a12110ec1fddeeff7b1209","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_script_fix_fad8cf2f53a12110ec1fddeeff7b1209","sys_updated_by":"admin","sys_created_on":"2023-03-19 13:17:25","name":"Update ml_labeled_data delete access","sys_name":"Update ml_labeled_data delete access","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"7","description":"Records in one_api_service_plan, one_api_service_plan_feature, one_api_feature, one_api_feature_provider, one_api_service_plan_feature_edge are auto generated. This fix script sets update_synch to false for these tables so that upon upgrade the auto generated records in this table will not get captured in update sets.","sys_updated_on":"2025-05-13 22:09:17","sys_tags":"","record_for_rollback":"true","script":"if (!pm.isZboot()) {\n    var oneApiTables = [\"one_api_service_plan\", \"one_api_service_plan_feature\", \"one_api_feature\", \"one_api_feature_provider\", \"one_api_service_plan_feature_edge\"];\n\n    for (var tableIdx in oneApiTables) {\n        makeUpdateSyncFalse(oneApiTables[tableIdx]);\n    }\n}\n\nfunction makeUpdateSyncFalse(tableName) {\n    var dbObjGr = new GlideRecord(\"sys_db_object\");\n    dbObjGr.addQuery(\"name=\" + tableName + \"^super_classISNOTEMPTY\");\n    dbObjGr.query();\n    //if the table schema is extending sys_metadata table\n    if (dbObjGr.next()) {\n        // Find the table's sys_id\n        var oneApiTable = new GlideRecord(\"sys_dictionary\");\n        oneApiTable.addQuery(\"name\", tableName);\n        oneApiTable.addQuery(\"element\", \"\");\n        oneApiTable.query();\n        if (!oneApiTable.next() || oneApiTable.hasNext()) {\n            gs.warn('Searching for a single ' + tableName + ' record in the ' +\n                'sys_dictionary table failed. Not modifying update_synch attribute');\n            return;\n        }\n        // Attributes are a comma separated list\n        var attributes = oneApiTable.getValue(\"attributes\").split(\",\");\n        for (var i = 0; i < attributes.length; i++) {\n            if (attributes[i].indexOf(\"update_synch\") == 0) {\n                attributes[i] = \"update_synch=false\";\n                oneApiTable.setValue(\"attributes\", attributes.join(\",\"));\n                oneApiTable.update();\n                break;\n            }\n        }\n        // Find the table's update_synch attribute\n        var updateSynchAttribute = new GlideRecord(\"sys_schema_attribute_m2m\");\n        updateSynchAttribute.addQuery(\"schema\", oneApiTable.getUniqueValue());\n        // Update synch attribute sys_id is always the same\n        updateSynchAttribute.addQuery(\"attribute\", \"eb8ce330eb321100d4360c505206feac\");\n        updateSynchAttribute.query();\n        updateSynchAttribute.setValue(\"value\", \"false\");\n        if (updateSynchAttribute.next()) {\n            updateSynchAttribute.update();\n        } else {\n            updateSynchAttribute.setValue(\"schema\", oneApiTable.getUniqueValue());\n            updateSynchAttribute.setValue(\"attribute\", \"eb8ce330eb321100d4360c505206feac\");\n            updateSynchAttribute.insert();\n        }\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"fae254f4ffa56210cbd9fffffffffff7","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fc84affb04312210559073c06a02f73e","value":"fc84affb04312210559073c06a02f73e"},"sys_update_name":"sys_script_fix_fae254f4ffa56210cbd9fffffffffff7","sys_updated_by":"admin","sys_created_on":"2025-05-13 20:59:33","name":"Set update_synch to false for one api","sys_name":"Set update_synch to false for one api","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"15","description":"Delete records from sys_update_xml with name as glide.licensing.auto_entitlement.last_run if they exist","sys_updated_on":"2021-03-03 09:39:15","sys_tags":"","record_for_rollback":"false","script":"deleteLicAutoEntlLastRunRecordsFromSysUpdateXML();\n\nfunction deleteLicAutoEntlLastRunRecordsFromSysUpdateXML() {\n\n    // No need to clean up the records during zbooting\n    if (pm.isZboot())\n        return;\n\n\tvar sysUpdateXMLRecord = new GlideRecord('sys_update_xml');\n\tsysUpdateXMLRecord.addQuery('name', 'sys_properties_7aeb2ce30b4510102705ae9b37673ac9');\n\tsysUpdateXMLRecord.query();\n\tsysUpdateXMLRecord.setWorkflow(false);\n\tsysUpdateXMLRecord.deleteMultiple();\n}\n","sys_class_name":"sys_script_fix","sys_id":"fb29d80f5ba220108c7054fced81c7a2","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8bc96fbb04f12210559073c06a02f755","value":"8bc96fbb04f12210559073c06a02f755"},"sys_update_name":"sys_script_fix_fb29d80f5ba220108c7054fced81c7a2","sys_updated_by":"admin","sys_created_on":"2021-03-01 19:29:33","name":"Remove Entl last run records from update","sys_name":"Remove Entl last run records from update","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"4","description":"Applies the default value to the \"process non-contractual SLAs\" flag to existing contracts","sys_updated_on":"2017-06-12 15:10:34","sys_tags":"","record_for_rollback":"false","script":"var defaultValue;\n// get default value\nvar gr = new GlideRecord('sys_dictionary');\ngr.addQuery('name', 'ast_contract');\ngr.addQuery('element', 'process_non_contractual_slas');\ngr.query();\nif (gr.next())\n\tdefaultValue = gr.getValue('default_value');\n// set default value to existing contracts\nif (!JSUtil.nil(defaultValue)){\n\tvar slaGr = new GlideRecord('ast_contract');\n\tslaGr.setValue('process_non_contractual_slas', defaultValue);\n\tslaGr.updateMultiple();\n}","sys_class_name":"sys_script_fix","sys_id":"fb7db962678332006e6eadab9485efa0","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5e3927f704f12210559073c06a02f7bd","value":"5e3927f704f12210559073c06a02f7bd"},"sys_update_name":"sys_script_fix_fb7db962678332006e6eadab9485efa0","sys_updated_by":"admin","sys_created_on":"2017-06-02 12:44:10","name":"Set process non-contractual SLAs default","sys_name":"Set process non-contractual SLAs default","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Updates the counters \"Related breakdowns\" and \"Related jobs\" for each Indicator and \"Related dashboards\" for each Widget.","sys_updated_on":"2014-09-12 00:25:32","sys_tags":"","record_for_rollback":"false","script":"updateIndicatorCounters();\nupdateWidgetCounters();\n\nfunction updateIndicatorCounters() {\n  var rec = new GlideRecord('pa_indicators');\n  rec.query();\n  while (rec.next()) {\n    var ga = new GlideAggregate('pa_job_indicators');\n    ga.addQuery(\"indicator\", rec.sys_id);\n    ga.addAggregate('COUNT');\n    ga.query();\n    var related_jobs = ga.next() ? ga.getAggregate('COUNT') : 0;\n  \n    ga = new GlideAggregate('pa_indicator_breakdowns');\n    ga.addQuery(\"indicator\", rec.sys_id);\n    ga.addAggregate('COUNT');\n    ga.query();\n    var related_breakdowns = ga.next() ? ga.getAggregate('COUNT') : 0;\n    \n    rec.related_jobs = related_jobs;\n    rec.related_breakdowns = related_breakdowns;\n    rec.update();\n  }\n}\n\nfunction updateWidgetCounters() {\n  var rec = new GlideRecord('pa_widgets');\n  if (!rec.isValid()) {\n\t  return;\n  }\n\n  rec.query();\n  while (rec.next()) {\n    var ga = new GlideAggregate('sys_portal_preferences');\n    ga.addQuery('name', 'sys_id');\n    ga.addQuery('value', rec.sys_id);\n    ga.addAggregate('COUNT');\n    ga.query();\n    var related_dashboards = ga.next() ? ga.getAggregate('COUNT') : 0;\n  \n    rec.related_dashboards = related_dashboards;\n    rec.update();\n  }\n}","sys_class_name":"sys_script_fix","sys_id":"fc110422eb032100871aac6aa206fef3","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/539a23bf04f12210559073c06a02f7aa","value":"539a23bf04f12210559073c06a02f7aa"},"sys_update_name":"sys_script_fix_fc110422eb032100871aac6aa206fef3","sys_updated_by":"admin","sys_created_on":"2014-09-11 22:47:19","name":"PA Update Related Counts","sys_name":"PA Update Related Counts","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"9","description":"Popluates the the fields used by the 2011 SLA Engine to support Journal and System fields in conditions. Journal and System fields are not enabled by default when using HistoryWalker to improve performance","sys_updated_on":"2021-03-25 16:26:26","sys_tags":"","record_for_rollback":"false","script":"(function() {\n\tnew SLAAdvancedConditionUtil()\n\t\t.updateAllAdvanced()\n\t\t.updateAllAdvancedIfJournal()\n\t\t.updateAllAdvancedIfSystem()\n\t\t.updateAllAdvancedIfJournalAndSystem()\n\t\t.updateAllNull();\n})();","sys_class_name":"sys_script_fix","sys_id":"fc402806730320102eb52d2b04f6a7f5","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d19e7b704f12210559073c06a02f7da","value":"5d19e7b704f12210559073c06a02f7da"},"sys_update_name":"sys_script_fix_fc402806730320102eb52d2b04f6a7f5","sys_updated_by":"admin","sys_created_on":"2021-03-23 13:58:55","name":"SLA - Populate advanced field usage","sys_name":"SLA - Populate advanced field usage","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"true","unloadable":"false","sys_mod_count":"5","description":"","sys_updated_on":"2023-11-16 05:27:14","sys_tags":"","record_for_rollback":"true","script":"var writeAuditOOBACLList = ['c444706d4f5031103e4c2044dd72e04f','a95f8825105cb150f877390914077ec2','64b948e9101cb150f877390914077e90','22cf6fd510d8b150f877390914077e86'];\n\tempty_acl_fix(writeAuditOOBACLList);\n\n\tfunction empty_acl_fix(writeAuditOOBACLList) {\n\t\tgs.info(\"*** Started deletion of ACL write audit customizations for AES and Collaboration ACLS ***\", \"Empty_ACL_customization_deletion_FS\");\n\t\tnew global.AccessControlUtils().deleteCustomerUpdatesForAuditedEmptyACLs(writeAuditOOBACLList);\n\t\tgs.info(\"*** Completed deletion of ACL write audit customizations for AES and Collaboration ACLS ***\", \"Empty_ACL_customization_deletion_FS\");\n\t}","sys_class_name":"sys_script_fix","sys_id":"fc9d07e66cd63110f877ba1e75e3cf43","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_script_fix_fc9d07e66cd63110f877ba1e75e3cf43","sys_updated_by":"maint","sys_created_on":"2023-11-07 14:02:18","name":"Empty ACL Remediation","sys_name":"Empty ACL Remediation","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_created_by":"maint","sys_policy":"read"},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Enable all Connect / Live Feed Modules Notifications so that Polaris at a user preference level works fine.","sys_updated_on":"2022-09-30 08:55:08","sys_tags":"","record_for_rollback":"true","script":"//Only Run when Polaris is Enabled.\nif (sn_ui.PolarisUI.isEnabled()) {\n    var modules = \"application.title=Connect^ORapplication.title=Live Feed^ORtitle=Connect Chat\";\n    var notifications = \"category.name=Connect^ORcategory.name=Live Feed\";\n\n    activeRecords('sys_app_module', modules);\n    activeRecords('sysevent_email_action', notifications);\n}\n\nfunction activeRecords(table, queryConditions) {\n    var gr = new GlideRecord(table);\n    gr.addEncodedQuery(queryConditions);\n    gr.query();\n    gr.setValue('active', \"true\");\n    gr.updateMultiple();\n}\n","sys_class_name":"sys_script_fix","sys_id":"fce82a3c53121110d3d5ddeeff7b1247","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d4442b7b04312210559073c06a02f7ee","value":"d4442b7b04312210559073c06a02f7ee"},"sys_update_name":"sys_script_fix_fce82a3c53121110d3d5ddeeff7b1247","sys_updated_by":"admin","sys_created_on":"2022-09-30 08:55:08","name":"Active Connect Notifications/Modules","sys_name":"Active Connect Notifications/Modules","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"Polaris should be active only on zboot.","sys_updated_on":"2021-08-19 04:44:52","sys_tags":"","record_for_rollback":"false","script":"if (pm.isZboot()) {\n    var before = gs.getSession().getWorkflow();\n    gs.getSession().setWorkflow(false);\n    gs.setProperty(\"glide.ui.polaris.experience\", true);\n    gs.getSession().setWorkflow(before);\n}","sys_class_name":"sys_script_fix","sys_id":"fd1671f1c7023010099a308dc7c260f5","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/37eda37304752210559073c06a02f7b6","value":"37eda37304752210559073c06a02f7b6"},"sys_update_name":"sys_script_fix_fd1671f1c7023010099a308dc7c260f5","sys_updated_by":"admin","sys_created_on":"2021-08-19 04:44:52","name":"Activate Polaris on zboot","sys_name":"Activate Polaris on zboot","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Rename Activity Type to UI Layout in sys_pd_activity_context","sys_updated_on":"2022-12-07 19:57:08","sys_tags":"","record_for_rollback":"true","script":"gr = new GlideRecord('sys_dictionary');\ngr.addQuery('name', 'sys_pd_activity_context');\ngr.addQuery('internal_type', 'reference');\ngr.addQuery('element', 'activity_type');\ngr.query();\nif (gr.next()) {\n\tgr.setValue('column_label', 'UI Layout');\n\tgr.update();\n}\ngr = new GlideRecord('sys_documentation');\ngr.addQuery('name', 'sys_pd_activity_context');\ngr.addQuery('element', 'activity_type');\ngr.query();\nif (gr.next()) {\n\tgr.setValue('label', 'UI Layout');\n\tgr.setValue('plural', 'UI Layouts');\n\tgr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"fd401bb64f231110ac8b5201b1ce0bc3","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5c3e67b304752210559073c06a02f757","value":"5c3e67b304752210559073c06a02f757"},"sys_update_name":"sys_script_fix_fd401bb64f231110ac8b5201b1ce0bc3","sys_updated_by":"admin","sys_created_on":"2022-12-07 19:49:14","name":"Rename Activity Type in activity context","sys_name":"Rename Activity Type in activity context","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"Set default value for new group_manager_field on cmn_rota_esc_step_def table","sys_updated_on":"2021-04-16 10:35:53","sys_tags":"","record_for_rollback":"false","script":"updateDefaultGroupManagerField();\n\nfunction updateDefaultGroupManagerField() {\n\tif (pm.isZboot())\n\t\treturn;\n\n\tvar gr = new GlideRecord(\"cmn_rota_esc_step_def\");\n\tgr.setWorkflow(false);\n\tgr.addNullQuery(\"group_manager_field\");\n\tgr.setValue(\"group_manager_field\", \"manager\");\n\tgr.updateMultiple();\n}","sys_class_name":"sys_script_fix","sys_id":"fd8f329c730720102eb52d2b04f6a754","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_script_fix_fd8f329c730720102eb52d2b04f6a754","sys_updated_by":"admin","sys_created_on":"2021-03-18 15:04:24","name":"Set group manager field default value","sys_name":"Set group manager field default value","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"3","description":"removes mandatory attribute from dictionary fields of kafka credentials","sys_updated_on":"2022-05-02 09:33:10","sys_tags":"","record_for_rollback":"false","script":"function removeMandatoryFromField(fieldName) {\t\t\t\t\n\tgs.log(\"Removing from kafka_ssl_credentials mandatory for \" +fieldName);\n\tvar dictionaryGr = new GlideRecord('sys_dictionary');\t\t\n\tdictionaryGr.addQuery(\"name\", \"kafka_ssl_credentials\");\n\tdictionaryGr.addQuery(\"element\", fieldName);\n\tdictionaryGr.query();           \n\tif (dictionaryGr.next()) {\n\t\tdictionaryGr.setValue(\"mandatory\", \"false\");\n\t\tdictionaryGr.setWorkflow(false);\n\t\tdictionaryGr.update();\n\t} else {\n\t\tgs.log(\"Failed to fix dictionary entry for table: kafka_ssl_credentials could not find a valid dictionary record for field :\" + fieldName);\n\t}\n}\n\nremoveMandatoryFromField(\"key_password\");\nremoveMandatoryFromField(\"keystore\");\nremoveMandatoryFromField(\"keystore_password\");\nremoveMandatoryFromField(\"truststore\");\nremoveMandatoryFromField(\"truststore_password\");\n","sys_class_name":"sys_script_fix","sys_id":"fdebc9101b1b491056802f40604bcb6d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/91d8237704f12210559073c06a02f73b","value":"91d8237704f12210559073c06a02f73b"},"sys_update_name":"sys_script_fix_fdebc9101b1b491056802f40604bcb6d","sys_updated_by":"ola.shaked@snc","sys_created_on":"2022-05-02 09:18:38","name":"Remove mandatory from kafka credentials ","sys_name":"Remove mandatory from kafka credentials ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"ola.shaked@snc","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"1","description":"","sys_updated_on":"2014-03-26 05:24:25","sys_tags":"","record_for_rollback":"false","script":"var gr = new GlideRecord('sys_sync_change');\ngr.addNullQuery('changed_by');\ngr.query();\nvar num = 0;\nwhile(gr.next()) {\n\tvar user = GlideUser.getUser(gr.updated_by);\n\tif (user != null) {\n\t\tgr.changed_by = user.getID();\n\t\tif (gr.update() != null)\n\t\t\tnum++;\n\t}\n}\ngs.log(\"Populated \" + num + \" sys_sync_change.changed_by fields\");","sys_class_name":"sys_script_fix","sys_id":"fded09b3c3231100a77f4ddcddba8fb5","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ff04a7f704312210559073c06a02f761","value":"ff04a7f704312210559073c06a02f761"},"sys_update_name":"sys_script_fix_fded09b3c3231100a77f4ddcddba8fb5","sys_updated_by":"michael.hoefer","sys_created_on":"2014-03-26 05:11:22","name":"Populate Changed By Field","sys_name":"Populate Changed By Field","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"michael.hoefer","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"0","description":"The default value for different date/time type varies, and the current default value of \"yyyy-MM-dd HH:mm:ss\" does not apply to all type. We're adding a business rule to dynamically handle default value setting.","sys_updated_on":"2022-03-25 22:37:41","sys_tags":"","record_for_rollback":"true","script":"var gr = new GlideRecord(\"sys_dictionary\");\ngr.addQuery(\"name\", \"sys_transform_entry\");\ngr.addQuery(\"element\", \"date_format\");\ngr.query();\n\nif(gr.next()) {\n  gr.default_value = \"NULL\";\n  gr.update();\n}","sys_class_name":"sys_script_fix","sys_id":"fe26185c73220110366dfe629f148b04","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7783a3f304312210559073c06a02f7ce","value":"7783a3f304312210559073c06a02f7ce"},"sys_update_name":"sys_script_fix_fe26185c73220110366dfe629f148b04","sys_updated_by":"admin","sys_created_on":"2022-03-25 22:37:41","name":"Remove default value for Field Map","sys_name":"Remove default value for Field Map","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"8","description":"In Article versioning, during checkout attachments of that version is copied over to the cheked out version. But the links to the attachment in article content is not updated to point to the copeid over attachments. It will continue to use old version's attachments, if for some reason users are not able to access old version then the links will be broken to the users with they are not updated to use copied over attachments. This fix script will fix the sysids in the attachment links.\r\n\r\nNote: Please choose to run the fixscript in the background if you have so many articles.","sys_updated_on":"2020-01-02 17:11:40","sys_tags":"","record_for_rollback":"false","script":"//We want to replace Sys Ids of attachment of any previous version of article\n//with the Sys Ids of corresponding attachment of current article.\n\n//For example, We have 3 versions of article with images.\n//Version 1 - Outdated, It has an image attachment with sysids (ABC),\n//Version 2 - Outdated, It has two image attachments with sysids (DEF, GHI). Attachment DEF is created by copying ABC from Version 1\n//            when Version 1 is checked out to create version 1.01 and consequently published becoming 2.0\n//Version 3 - Published, It has three image attachments (JKL, MNO, PQR). DEF became JKL and GHI became MNO, PQR is a new attachment.\n\n//Images with src=\"sys_attachment.do?sys_id=ABC\" stays as it is in version 1 but in version 2 it will\n//become src=\"sys_attachment.do?sys_id=DEF\" and the in version 3 should become src=\"sys_attachment.do?sys_id=JKL\".\n//Similarly images with src=\"sys_attachment.do?sys_id=GHI\" stays as it is in version 2 but in version 3 it will\n//become src=\"sys_attachment.do?sys_id=MNO\"\n\n//No need to worry about articles with just one version\n\n//1) Get article with more than one version - count(article_id) > 1\n//2) For each article_id, Get all the versions\n//3) For each article_id, fetch attachment records of all versions\n//4) For each attachment find out corresponding attachment in the current article version\n//5) Now update the versions with attachment mapping.\n\n\n\nfixAttachments();\n\n/**\n * Get article with more than one version - count(article_id) > 1\n */\nfunction getArticlesIds() {\n\tvar articles = new GlideAggregate('kb_knowledge');\n\tarticles.addNotNullQuery('article_id');\n\tarticles.addAggregate('COUNT', 'article_id');\n\tarticles.groupBy('article_id');\n\tarticles.addHaving('COUNT', '>', 1);\n\tarticles.query();\n\t\n\treturn articles;\n}\n\n/**\n * Get all the versions of a given articleId in the order they are created.\n */\nfunction getArticleVersions(articleId) {\n\t//Query for all the versions of the article\n\tvar article = new GlideRecord('kb_knowledge');\n\tarticle.addQuery('article_id', articleId);\n\tarticle.orderBy('sys_created_on');\n\tarticle.query();\n\tvar versions = [];\n\tvar tableName;\n\t\n\t//Loop over the versions and collect the details\n\twhile (article.next()) {\n\t\tversions[article.sys_id + ''] = {\n\t\t\t\"map\": []\n\t\t};\n\t\tif (!tableName)\n\t\t\ttableName = article.sys_class_name + '';\n\t}\n\t\n\treturn {\n\t\t\"versions\": versions,\n\t\t\"tableName\": tableName\n\t};\n}\n\n/**\n * For the given SysId of article versions and the tableName, returns\n * copied attachment sysid of a previous version's attachment for each\n * version\n */\nfunction processAttachments(sysIds, versions, tableName) {\n\t\n\t//Query for all the attachments of all the versions\n\t//order by created\n\tvar attach = new GlideRecord('sys_attachment');\n\tattach.addQuery('table_name', tableName);\n\tattach.addQuery('table_sys_id', 'IN', sysIds.join());\n\tattach.orderBy('sys_created_on');\n\tattach.query();\n\t\n\tvar prevTableSysId = 'prevTableSysId'; //Dummy value\n\tvar curTableSysId = 'curTableSysId'; //Dummy value\n\t\n\tvar prevAttachments = [];\n\tvar prevAttachmentDetails = [];\n\t\n\tvar curAttachments = [];\n\tvar curAttachDetails = [];\n\tvar curAttachIds = null;\n\tvar mappedSysIds = null;\n\tvar mapFunc = function(key) {return curAttachments[key];};\n\t\t\n\twhile (attach.next()) {\n\t\tcurTableSysId = attach.table_sys_id + '';\n\t\tif (prevTableSysId != curTableSysId) {\n\t\t\t//Attachments of a newer version than what is processed till now\n\t\t\t//Map previous attachments sys_id to new attachment sys_ids using file_name, size_bytes,,] content_type.\n\t\t\tcurAttachIds = Object.keys(curAttachments);\n\t\t\tif (curAttachIds && curAttachIds.length > 0) {\n\t\t\t\tcurAttachDetails = curAttachIds.map(mapFunc);\n\t\t\t\tif (prevAttachments.length > 0) {\n\t\t\t\t\tmappedSysIds = mapPreviousAttachmentToCurrent(curAttachments, curAttachDetails, prevAttachments, prevAttachmentDetails);\n\t\t\t\t\tversions[prevTableSysId].map = mappedSysIds;\n\t\t\t\t}\n\t\t\t\t//Copy current attachment ids and details to previous attachment array\n\t\t\t\tprevAttachments = prevAttachments.concat(curAttachIds.slice(0)); //Using slice so it does deep copy.\n\t\t\t\tprevAttachmentDetails = prevAttachmentDetails.concat(curAttachDetails.slice(0));\n\t\t\t}\n\t\t\tcurAttachments = [];\n\t\t\tcurAttachDetails = [];\n\t\t\tprevTableSysId = curTableSysId + '';\n\t\t}\n\t\tcurAttachments[attach.sys_id + ''] = attach.file_name + attach.size_bytes + attach.content_type;\n\t}\n\t//Do the processing once again for the last version\n\tcurAttachIds = Object.keys(curAttachments);\n\tif (curAttachIds && curAttachIds.length > 0) {\n\t\tcurAttachDetails = curAttachIds.map(mapFunc);\n\t\tif (prevAttachments.length > 0) {\n\t\t\tmappedSysIds = mapPreviousAttachmentToCurrent(curAttachments, curAttachDetails, prevAttachments, prevAttachmentDetails);\n\t\t\tversions[prevTableSysId].map = mappedSysIds;\n\t\t}\n\t\t//Copy current attachment ids and details to previous attachment array\n\t\tprevAttachments = prevAttachments.concat(Object.keys(curAttachments).slice(0)); //Using slice so it does deep copy.\n\t\tprevAttachmentDetails = prevAttachmentDetails.concat(Object.values(curAttachments).slice(0));\n\t}\n\n\treturn versions;\n\n}\n\n/**\n * Based on the details of a previous attachment (file_name, size_bytes, content_type),\n * it is mapped to a current attachment with same details.\n */\nfunction mapPreviousAttachmentToCurrent(curAttachments, curAttachDetails, prevAttachments, prevAttachmentDetails) {\n\tvar mappedSysIds = [];\n\tvar curAttachIds = Object.keys(curAttachments);\n\tif (curAttachIds && curAttachIds.length > 0) {\n\t\tfor (var pi = 0; pi < prevAttachments.length; pi++) {\n\t\t\tvar sysId = prevAttachments[pi];\n\t\t\tvar details = prevAttachmentDetails[pi];\n\t\t\tvar idx = curAttachDetails.indexOf(details);\n\t\t\tif (idx > -1) {\n\t\t\t\tvar newSysId = curAttachIds[idx];\n\t\t\t\tmappedSysIds[sysId + ''] = newSysId + '';\n\t\t\t}\n\t\t}\n\t}\n\treturn mappedSysIds;\n}\n\n/**\n * Main function that orchestrates the updating attachment sysids of attachment\n * links to previous versions attachment\n */\nfunction fixAttachments() {\n\tgs.log('Fix Attachment Links - Start', 'FIX_ATTACHMENT_LINKS');\n\tvar articles = getArticlesIds();\n\tvar versioning = new global.KBVersioning();\n\n\twhile (articles.next()) {\n\t\tgs.log('Fixing Attachment Links for Article (Article Id) = ' + articles.article_id, 'FIX_ATTACHMENT_LINKS');\n\n\t\tvar articleVersions = getArticleVersions(articles.article_id + '');\n\n\t\t//We now have all the versions of an article in the older to latest order.\n\t\t//Lets loop over the attachments of all the versions and construct the\n\t\t//attachment details and map it\n\t\tvar versions = articleVersions.versions;\n\t\tvar sysIds = Object.keys(versions);\n\t\tif (sysIds) {\n\t\t\tprocessAttachments(sysIds, versions, articleVersions.tableName);\n\n\t\t\t//Now update the attachment sys id in every field of article\n\t\t\tvar templateFieldCache = [];\n\t\t\tfor (var i = 0; i < sysIds.length; i++) {\n\t\t\t\tvar artSysId = sysIds[i];\n\t\t\t\tvar artDetail = versions[artSysId];\n\t\t\t\tvar attachMap = artDetail.map;\n\t\t\t\tif (!gs.nil(attachMap)) {\n\t\t\t\t\tvar oldSysIds = Object.keys(attachMap);\n\t\t\t\t\tif (oldSysIds && oldSysIds.length > 0) {\n\t\t\t\t\t\tvar article = new GlideRecord(articleVersions.tableName);\n\t\t\t\t\t\tarticle.setWorkflow(false);\n\t\t\t\t\t\tarticle.autoSysFields(false);\n\t\t\t\t\t\tif (article.get(artSysId)) {\n\t\t\t\t\t\t\tgs.log('Processing article ' + article.number + ' - ' + article.version.version + ' - ' + article.workflow_state, 'FIX_ATTACHMENT_LINKS');\n\t\t\t\t\t\t\tvar fields = templateFieldCache[article.sys_class_name];\n\t\t\t\t\t\t\tif (!fields || gs.nil(fields)) {\n\t\t\t\t\t\t\t\tfields = versioning.getArticleFields(article);\n\t\t\t\t\t\t\t\ttemplateFieldCache[article.sys_class_name + ''] = fields;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar updated = false;\n\t\t\t\t\t\t\tfor (var j = 0; j < fields.length; j++) {\n\t\t\t\t\t\t\t\tvar fieldName = fields[j];\n\t\t\t\t\t\t\t\tvar updatedField = false;\n\t\t\t\t\t\t\t\tif (!gs.nil(article[fieldName])) {\n\t\t\t\t\t\t\t\t\tvar fieldValue = article[fieldName].toString();\n\t\t\t\t\t\t\t\t\tfor (var k = 0; k < oldSysIds.length; k++) {\n\t\t\t\t\t\t\t\t\t\tvar oldSysId = oldSysIds[k];\n\t\t\t\t\t\t\t\t\t\tif (!gs.nil(oldSysId) && !gs.nil(attachMap[oldSysId]) && fieldValue.indexOf(oldSysId) > -1) {\n\t\t\t\t\t\t\t\t\t\t\tvar newSysId = attachMap[oldSysId];\n\t\t\t\t\t\t\t\t\t\t\tgs.log('Updating: (' + fieldName + ') ' + oldSysId + ' -> ' + newSysId, 'FIX_ATTACHMENT_LINKS');\n\t\t\t\t\t\t\t\t\t\t\tfieldValue = fieldValue.replaceAll(oldSysId, newSysId);\n\t\t\t\t\t\t\t\t\t\t\tupdatedField = true;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif(updatedField) {\n\t\t\t\t\t\t\t\t\t\tarticle[fieldName] = fieldValue;\n\t\t\t\t\t\t\t\t\t\tupdated = true;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (updated) {\n\t\t\t\t\t\t\t\tgs.log('Saving changes to article ' + article.article_id, 'FIX_ATTACHMENT_LINKS');\n\t\t\t\t\t\t\t\tarticle.update();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tgs.log('Article not updated - SysId=' + article.sys_id, 'FIX_ATTACHMENT_LINKS');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}","sys_class_name":"sys_script_fix","sys_id":"fe2e733657030300d873ac71ef94f9d7","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/67dc6bfb04352210559073c06a02f738","value":"67dc6bfb04352210559073c06a02f738"},"sys_update_name":"sys_script_fix_fe2e733657030300d873ac71ef94f9d7","sys_updated_by":"admin","sys_created_on":"2017-12-19 13:02:56","name":"Fix attachment links on article versions","sys_name":"Fix attachment links on article versions","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"5","description":"Update existing preserver and exclude entries for hermes / kafka related tables\r\nUpdate existing preserver and exclude entries that refers to 'hermes_app_ids' to use new table name 'hermes_app_services'","sys_updated_on":"2024-10-28 22:58:39","sys_tags":"","record_for_rollback":"true","script":"updateExisting();\n\nfunction updateExisting() {\n    //update table name used in clone records\n    _updateExistingRecords();\n\n    //update clone records\n    _updatePreservers();\n    _updateExcludes();\n}\n\n//updates preserve entries for hermes/kafka tables to default=true\nfunction _updatePreservers() {\n    var grPreserver = new GlideRecord(\"clone_data_preserver\");\n    //sys_ids are for sys_kafka_topic and sys_kafka_namespace\n    grPreserver.addEncodedQuery(\"tableLIKEhermes_^ORsys_id=94fe33b2430331101f401daa5ab8f25a^ORsys_id=3fbe7f72430331101f401daa5ab8f25d\");\n    grPreserver.setValue(\"default\", true);\n    grPreserver.updateMultiple();\n}\n\n//updates exclude entries for hermes/kafka tables to default=true\nfunction _updateExcludes() {\n    var grExclude = new GlideRecord(\"clone_data_exclude\");\n    //sys_ids are for sys_kafka_topic and sys_kafka_namespace\n    grExclude.addEncodedQuery(\"nameLIKEhermes_^ORsys_id=a1914c07430331101f401daa5ab8f241^ORsys_id=dc810c07430331101f401daa5ab8f228\");\n    grExclude.setValue(\"default\", true);\n    grExclude.updateMultiple();\n}\n\n//updates reference to hermes_app_ids to hermes_app_services\nfunction _updateExistingRecords() {\n    var grPreserver = new GlideRecord(\"clone_data_preserver\");\n    grPreserver.addQuery(\"sys_id\", \"7f4da990431331103464827cfbb8f2c5\");\n    grPreserver.query();\n    if (grPreserver.next()) {\n        grPreserver.setValue(\"name\", \"Hermes Application Services Preserver\");\n        grPreserver.setValue(\"table\", \"hermes_app_services\");\n        grPreserver.update();\n    }\n\n    var grExclude = new GlideRecord(\"clone_data_exclude\");\n    grExclude.addQuery(\"sys_id\", \"ee6d6d90431331103464827cfbb8f24e\");\n    grExclude.query();\n    if (grExclude.next()) {\n        grExclude.setValue(\"name\", \"hermes_app_services\");\n        grExclude.update();\n    }\n}","sys_class_name":"sys_script_fix","sys_id":"fea65255436112102e8d1daa5ab8f2e8","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/03d4abbf04312210559073c06a02f7f9","value":"03d4abbf04312210559073c06a02f7f9"},"sys_update_name":"sys_script_fix_fea65255436112102e8d1daa5ab8f2e8","sys_updated_by":"admin","sys_created_on":"2024-10-28 22:40:45","name":"Update Preserve and Exclude Entries","sys_name":"Update Preserve and Exclude Entries","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"true","sys_mod_count":"6","description":"1. change *Messaging Provider*  display label to *Provider Channel* for sys_cs_provider_channel table\r\n2. change *Messaging Provider Application*  display label to *Provider Channel Identity* for sys_cs_provider_application table\r\n","sys_updated_on":"2020-08-06 22:22:21","sys_tags":"","record_for_rollback":"false","script":"function updateTableDisplayName(tableName, displayName) {\n\tvar updateConvTask = new GlideRecord('sys_db_object');\n\tupdateConvTask.addQuery('name', tableName);\t\n\tupdateConvTask.query();\n\tif (updateConvTask.next()) {\n\t\tupdateConvTask.setValue('label', displayName);\n\t\tupdateConvTask.update();\n\t}\n}\n\nupdateTableDisplayName('sys_cs_provider', 'Provider Channel');\nupdateTableDisplayName('sys_cs_provider_application', 'Provider Channel Identity');\n","sys_class_name":"sys_script_fix","sys_id":"febffdd473e6101042281188caf6a751","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/14c37b3704b52210559073c06a02f782","value":"14c37b3704b52210559073c06a02f782"},"sys_update_name":"sys_script_fix_febffdd473e6101042281188caf6a751","sys_updated_by":"admin","sys_created_on":"2020-08-06 21:48:22","name":"Update CAF Table names ","sys_name":"Update CAF Table names ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"before":"false","unloadable":"false","sys_mod_count":"2","description":"Checks if substate choices are present and inserts them if necessary","sys_updated_on":"2023-10-12 14:13:08","sys_tags":"","record_for_rollback":"true","script":"function addSubstateEntriesInChoiceTable() {\n\tvar choiceData = [{\n\t\tdependent_value: 6,\n\t\telement: 'substatus',\n\t\thint: '',\n\t\tinactive: false,\n\t\tlabel: 'Pending donation',\n\t\tlanguage: 'en',\n\t\tname: 'alm_asset',\n\t\tsequence: 5,\n\t\tvalue: 'pending_donation',\n\t}, {\n\t\tdependent_value: 9,\n\t\telement: 'substatus',\n\t\thint: '',\n\t\tinactive: false,\n\t\tlabel: 'Pending donation',\n\t\tlanguage: 'en',\n\t\tname: 'alm_asset',\n\t\tsequence: 5,\n\t\tvalue: 'pending_donation',\n\t}];\n\tchoiceData.forEach(function(choiceRecordData) {\n\t\tvar choiceGr = new GlideRecord('sys_choice');\n\t\tchoiceGr.addQuery('name', choiceRecordData.name);\n\t\tchoiceGr.addQuery('element', choiceRecordData.element);\n\t\tchoiceGr.addQuery('value', choiceRecordData.value);\n\t\tchoiceGr.addQuery('dependent_value', choiceRecordData.dependent_value);\n\t\tchoiceGr.query();\n\t\tif (!choiceGr.hasNext()) {\n\t\t\tchoiceGr.initialize();\n\t\t\tObject.keys(choiceRecordData).forEach(function(columnName) {\n\t\t\t\tchoiceGr.setValue(columnName, choiceRecordData[columnName]);\n\t\t\t});\n\t\t\tchoiceGr.insert();\n\t\t}\n\t});\n}\n\naddSubstateEntriesInChoiceTable();","sys_class_name":"sys_script_fix","sys_id":"ffce455610f53110f877b44d102381d9","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/45672bfb04b12210559073c06a02f7c5","value":"45672bfb04b12210559073c06a02f7c5"},"sys_update_name":"sys_script_fix_ffce455610f53110f877b44d102381d9","sys_updated_by":"admin","sys_created_on":"2023-10-12 13:54:48","name":"Asset - add missing substates","sys_name":"Asset - add missing substates","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""}]}