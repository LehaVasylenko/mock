{"result":[{"sys_mod_count":"21","sys_updated_on":"2016-07-06 19:39:43","script":"(function runAction(/*Optional GlideRecord*/ current) {\n\t\n\tif (current.state == 'approved') {\n\t\treturn;\n\t}\n\t\n\tif (current.state == 'requested' && (gs.hasRole('admin') || gs.hasRole('approval_admin') || (new ApprovalDelegationUtil().isMyApproval(current)))) {\n\t\tcurrent.state = 'approved';\n\t\tcurrent.update();\n\t} else {\n\t\tvar number = current.sysapproval.number;\n\t\tvar errorMessage;\n\n\t\tif (typeof number === \"undefined\" || number === null) {\n\t\t\terrorMessage = gs.getMessage(\"There was an error approving this request.\");\n\t\t} else {\n\t\t\terrorMessage = gs.getMessage(\"There was an error approving {0}.\", number);\n\t\t}\n\n\t\treturn new Error(errorMessage);\n\t}\n\t\n})(current);","sys_class_name":"sys_push_notif_act_script","sys_id":"333ecc6253020200601fa3fc9ec58727","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/54242b3b04312210559073c06a02f7b3","value":"54242b3b04312210559073c06a02f7b3"},"sys_update_name":"sys_push_notif_act_script_333ecc6253020200601fa3fc9ec58727","sys_updated_by":"admin","sys_created_on":"2015-08-25 23:02:40","name":"Approval - Approve","sys_name":"Approval - Approve","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"sys_mod_count":"5","sys_updated_on":"2016-07-06 19:39:28","script":"(function runAction(/*Optional GlideRecord*/ current) {\n\t\n\tif (current.state == 'rejected') {\n\t\treturn;\n\t}\n\t\n\tif (current.state == 'requested' && (gs.hasRole('approval_admin') || (new ApprovalDelegationUtil().isMyApproval(current)))) {\n\t\tcurrent.state = 'rejected';\n\t\tcurrent.update();\n\t} else {\n\t\tvar number = current.sysapproval.number;\n\t\tvar errorMessage;\n\n\t\tif (typeof number === \"undefined\" || number === null) {\n\t\t\terrorMessage = gs.getMessage(\"There was an error rejecting this request.\");\n\t\t} else {\n\t\t\terrorMessage = gs.getMessage(\"There was an error rejecting {0}.\", number);\n\t\t}\n\n\t\treturn new Error(errorMessage);\n\t}\n\t\n})(current);","sys_class_name":"sys_push_notif_act_script","sys_id":"632ecc6253020200601fa3fc9ec58708","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/54242b3b04312210559073c06a02f7b3","value":"54242b3b04312210559073c06a02f7b3"},"sys_update_name":"sys_push_notif_act_script_632ecc6253020200601fa3fc9ec58708","sys_updated_by":"admin","sys_created_on":"2015-08-25 23:01:50","name":"Approval - Reject","sys_name":"Approval - Reject","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""}]}