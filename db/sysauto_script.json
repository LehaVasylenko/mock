{"result":[{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2015-07-14 16:06:13","sys_class_name":"sysauto_script","sys_id":"002c1e70eb11020079a62a7ac106fe26","sys_updated_by":"admin","sys_created_on":"2015-07-14 16:06:13","run_start":"2015-07-14 16:05:18","sys_name":"Process Geocoding Request","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"0","active":"false","time_zone":"","script":"var geocodingRequest = new GlideRecord(\"sys_geocoding_request\");\ngeocodingRequest.orderBy(\"sys_created_on\");\ngeocodingRequest.setLimit(1);\ngeocodingRequest.query();\nif(geocodingRequest.next()){\n\tvar point = GoogleMapsHelper.google_getLatLong(geocodingRequest.address);\n\tif (point[0] && point[1]){\n\t\tvar locationRecord = new GlideRecord(geocodingRequest.record_table);\n\t\tlocationRecord.addQuery(\"sys_id\", geocodingRequest.record);\n\t\tlocationRecord.query();\n\t\tif(locationRecord.next()){\n\t\t\tlocationRecord.latitude = point[0];\n\t\t\tlocationRecord.longitude = point[1];\n\t\t\tlocationRecord.update();\n\t\t}\n\t}\n\tgeocodingRequest.deleteRecord();\n}\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7b186b3304f12210559073c06a02f733","value":"7b186b3304f12210559073c06a02f733"},"condition":"","sys_update_name":"sysauto_script_002c1e70eb11020079a62a7ac106fe26","offset_type":"0","name":"Process Geocoding Request","max_drift":"","run_period":"1970-01-01 00:00:10","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 04:00:00","run_as_tz":"","run_as":"","run_type":"daily","sys_updated_on":"2025-05-08 19:30:25","sys_class_name":"sysauto_script","sys_id":"002d3bf3ff787110d185612a453bf15f","sys_updated_by":"admin","sys_created_on":"2023-08-29 01:07:56","run_start":"2023-08-29 01:06:45","sys_name":"Sync Instance Metadata to Central","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bcadabf277f311109c62f5f3cb5a992a","value":"bcadabf277f311109c62f5f3cb5a992a"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 04:00:00","sys_mod_count":"6","active":"true","time_zone":"floating","script":"new sn_entitlement.SubscriptionStateUtils().report();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bcadabf277f311109c62f5f3cb5a992a","value":"bcadabf277f311109c62f5f3cb5a992a"},"condition":"","sys_update_name":"sysauto_script_002d3bf3ff787110d185612a453bf15f","offset_type":"0","name":"Sync Instance Metadata to Central","max_drift":"1970-01-01 00:20:00","run_period":"1970-01-02 00:00:00","sys_policy":"read"},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":"","run_type":"periodically","sys_updated_on":"2024-02-23 19:17:46","sys_class_name":"sysauto_script","sys_id":"004678e353301010a116ddeeff7b128f","sys_updated_by":"admin","sys_created_on":"2020-05-21 14:57:55","run_start":"2020-05-21 14:52:27","sys_name":"Disconnected Chat Timeout","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"true","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"5","active":"true","time_zone":"","script":"//Periodically checks for \"disconnected\" chat sessions and ends the conversation if they\n//have been disconnected for the specified period of time\nvar disconnect_timeout = gs.getProperty(\"com.glide.cs.chat_disconnect_timeout\",60); // 60s\nnew global.IdleChatHandler().processDisconnectedSessions(disconnect_timeout);","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"condition":"","sys_update_name":"sysauto_script_004678e353301010a116ddeeff7b128f","offset_type":"","name":"Disconnected Chat Timeout","max_drift":"","run_period":"1970-01-01 00:01:00","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2020-04-13 09:40:28","sys_class_name":"sysauto_script","sys_id":"004eecc353333300c722ddeeff7b12a9","sys_updated_by":"admin","sys_created_on":"2019-09-14 11:47:47","run_start":"2019-09-14 11:46:36","sys_name":"Mobile Analytics - Create settings for new NativeClients","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"3","active":"true","time_zone":"","script":"sn_mobile_analytics.MobileAnalytics.createSettingsForNewNativeClients();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cbd4abbf04312210559073c06a02f7f5","value":"cbd4abbf04312210559073c06a02f7f5"},"condition":"sn_mobile_analytics.MobileAnalytics.isEnabled();","sys_update_name":"sysauto_script_004eecc353333300c722ddeeff7b12a9","offset_type":"0","name":"Mobile Analytics - Create settings for new NativeClients","max_drift":"","run_period":"1970-01-01 01:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2022-06-27 21:02:11","sys_class_name":"sysauto_script","sys_id":"0163c4a653101110456dddeeff7b1217","sys_updated_by":"admin","sys_created_on":"2022-06-27 21:02:11","run_start":"2022-06-27 20:49:33","sys_name":"CMDB Update domain_directory Size","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"var startTime = new GlideDateTime();\nvar log = function(logMsg) {\n\tgs.log(logMsg, 'domain_directory_job');\n};\nlog('Started domain_directory field size update job');\nvar tables = [\n\t'cmdb_ci_appl_glassfish',\n\t'cmdb_ci_appl_peoplesoft',\n\t'cmdb_ci_app_server_weblogic',\n\t'cmdb_ci_endpoint_weblogic_module',\n\t'cmdb_ci_appl_weblogic_jms'\n];\n\nvar maxLength = 1024;\nvar columnName = 'domain_directory';\ntables.forEach(function (table, idx){\n\tupdateFieldLength(table, columnName, maxLength);\n});\n\nfunction updateFieldLength(tableName, fieldName, maxLength) {\n\tvar gr = new GlideRecord(\"sys_dictionary\");\n\tgr.addQuery(\"name\", tableName);\n\tgr.addQuery(\"element\", fieldName);\n\tgr.addQuery(\"max_length\", \"<\", maxLength);\n\tgr.query();\n\tif (gr.next()) {\n\t\tlog(\"started updating Table: \" + gr.getValue('name') + \" Field: \" + gr.getValue(\"element\") + \" Max Length: \" + maxLength);\n\t\tgr.setValue('max_length', maxLength);\n\t\tgr.update();\n\t}\n}\nvar endTime = new GlideDateTime();\nvar totalTime = GlideDateTime.subtract(startTime, endTime).getDurationValue();\nlog('Completed domain_directory field size update job, Total Time: '+totalTime);","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_0163c4a653101110456dddeeff7b1217","offset_type":"0","name":"CMDB Update domain_directory Size","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2024-03-24 06:34:02","sys_class_name":"sysauto_script","sys_id":"02019087530142106adfddeeff7b1262","sys_updated_by":"admin","sys_created_on":"2024-03-24 06:34:02","run_start":"2024-03-24 06:26:39","sys_name":"CMDB Data Certification UI View Cleanup","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 11:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"var viewGr = new GlideRecord('sys_ui_view');\nviewGr.addQuery('name', 'STARTSWITH', 'cmdb_data_cert_');\nviewGr.addQuery('sys_created_on', '<', gs.daysAgo(7));\nviewGr.query();\nwhile(viewGr.next()) {\n\tsn_cmdb_data_manager.CMDBDataManagerScopedScriptableApis.deleteCertificationView(viewGr.getValue('name'));\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"condition":"","sys_update_name":"sysauto_script_02019087530142106adfddeeff7b1262","offset_type":"0","name":"CMDB Data Certification UI View Cleanup","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2022-11-22 20:53:32","sys_class_name":"sysauto_script","sys_id":"026f4ac277131110ec2af11d8c5a99ef","sys_updated_by":"admin","sys_created_on":"2022-11-22 20:53:32","run_start":"2022-11-22 20:52:41","sys_name":"Clean Expired Rollback Contexts","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"new GlideRollbackReaper().reapByType('redact');","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c836bb304312210559073c06a02f7b5","value":"8c836bb304312210559073c06a02f7b5"},"condition":"","sys_update_name":"sysauto_script_026f4ac277131110ec2af11d8c5a99ef","offset_type":"0","name":"Clean Expired Redacted Rollback Contexts","max_drift":"","run_period":"1970-01-01 01:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2016-06-11 00:25:38","sys_class_name":"sysauto_script","sys_id":"02ad3dfbebb312007c94efc9a206fef2","sys_updated_by":"admin","sys_created_on":"2016-06-11 00:25:38","run_start":"2016-06-11 00:22:04","sys_name":"CI Lifecycle Management - Restore Internal State Management Tables","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"0","active":"false","time_zone":"","script":"SNC.StateManagementScriptableApi.restoreStateMgmtTables();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_02ad3dfbebb312007c94efc9a206fef2","offset_type":"0","name":"CI Lifecycle Management - Restore Internal State Management Tables","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2018-02-08 22:14:16","sys_class_name":"sysauto_script","sys_id":"0366606fd700130039b8ef44de6103f0","sys_updated_by":"admin","sys_created_on":"2018-02-08 22:14:16","run_start":"2018-02-08 22:11:36","sys_name":"Stuck Duplicate CI Remediations Cleaner","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 09:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"new SNC.CMDBDuplicateMerger().cleanUpStuckRemediations();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_0366606fd700130039b8ef44de6103f0","offset_type":"0","name":"Stuck Duplicate CI Remediations Cleaner","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2018-09-25 12:10:43","sys_class_name":"sysauto_script","sys_id":"037d65c1737023008564b17afef6a7d3","sys_updated_by":"admin","sys_created_on":"2018-09-25 11:57:36","run_start":"2018-09-25 11:55:31","sys_name":"VA-Adapter Update Profile","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 18:30:00","sys_mod_count":"0","active":"true","time_zone":"","script":"// Delete all the consumer channel records, inorder to update the latest user profile.\nvar gr = new GlideRecord('sys_cs_consumer_channel');\ngr.query();\ngr.deleteMultiple();\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/14c37b3704b52210559073c06a02f782","value":"14c37b3704b52210559073c06a02f782"},"condition":"","sys_update_name":"sysauto_script_037d65c1737023008564b17afef6a7d3","offset_type":"","name":"VA-Adapter Update Profile","max_drift":"","run_period":"1970-01-01 00:00:02","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2020-05-07 23:13:06","sys_class_name":"sysauto_script","sys_id":"05226603b4ec1010fa9b5a04f86dbf10","sys_updated_by":"admin","sys_created_on":"2020-05-07 23:11:30","run_start":"2020-05-07 23:11:11","sys_name":"SAM/CI - Populate Licensing Data","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 12:00:00","sys_mod_count":"2","active":"true","time_zone":"","script":"function sampPopulateLUAData() {\n\tvar sysTriggerGr = new GlideRecord('sys_trigger');\n\tsysTriggerGr.addQuery('job_context', 'CONTAINS', '05226603b4ec1010fa9b5a04f86dbf10');\n\tsysTriggerGr.addQuery('state', '1');\n\tsysTriggerGr.query();\n\tif (sysTriggerGr.getRowCount() >= 2) {\n\t\t// If there is already one job running, no need to run the current one\n\t\treturn;\n\t}\n\tif(GlidePluginManager.isActive('com.snc.samp'))\n\t{\n\t\tvar jobLogGr = new GlideRecord('samp_job_log');\n\t\tjobLogGr.initialize();\n\t\tjobLogGr.setValue('name', 'SAM/CI - Populate Licensing Data');\n\t\tjobLogGr.setValue('status', 'in progress');\n\t\tjobLogGr.insert();\n\n\t\ttry {\n\t\t\tnew global.SAMLicensingUtility().populateSAMCloudInsightsCIUsageData();\n\t\t\tjobLogGr.setValue('status', 'completed');\n\t\t} catch (error) {\n\t\t\tjobLogGr.setValue('status', 'failed');\n\t\t}\n\t\tjobLogGr.update();\n\t}else{\n\t\tnew global.SAMLicensingUtility().populateSAMCloudInsightsCIUsageData();\n\t}\n}\nsampPopulateLUAData();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/45672bfb04b12210559073c06a02f7c5","value":"45672bfb04b12210559073c06a02f7c5"},"condition":"\n GlidePluginManager.isActive('com.snc.samp') || ( GlidePluginManager.isActive('com.sn_cld_intg_aws') && GlidePluginManager.isActive('com.sn_cld_intg_azure'))","sys_update_name":"sysauto_script_05226603b4ec1010fa9b5a04f86dbf10","offset_type":"0","name":"SAM/CI - Populate Licensing Data","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":"","run_type":"periodically","sys_updated_on":"2023-04-17 10:54:36","sys_class_name":"sysauto_script","sys_id":"052a54a6ff310110456d766cf43bf182","sys_updated_by":"admin","sys_created_on":"2022-02-23 15:53:36","run_start":"2022-02-23 15:51:58","sys_name":"CIAffected Event Processor 0","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 06:00:00","sys_mod_count":"1","active":"true","time_zone":"","script":"GlideEventManager('cmdb_ci_affected').process();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_052a54a6ff310110456d766cf43bf182","offset_type":"0","name":"CIAffected Event Processor 0","max_drift":"","run_period":"1970-01-01 00:01:00","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"weekly","sys_updated_on":"2021-02-10 05:30:00","sys_class_name":"sysauto_script","sys_id":"05737e64b7122010b0bea9a32e11a93f","sys_updated_by":"admin","sys_created_on":"2021-02-10 04:02:39","run_start":"2021-02-10 02:03:03","sys_name":"Remove Orphaned Attachments","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"6","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"5","active":"true","time_zone":"","script":"/*\n Delete orphaned attachments from file attachments and image attachments from WS\n*/\n\nvar attachmentsUtil = new global.AttachmentActionsUtil();\nvar attachmentsToDelete = getAttachmentIds();\nattachmentsUtil.deleteAttachments(attachmentsToDelete);\n\n//cleanup entry records\ncleanupProcessedEntries();\n\nfunction getAttachmentIds() {\n\n    var attachmentIds = [];\n\n    var grCleanerEntry = new GlideRecord(\"sys_attachment_cleaner_entry\");\n    //get queued records older than 5 days\n    grCleanerEntry.addQuery(\"status\", \"QUEUED\");\n    grCleanerEntry.addQuery(\"sys_created_on\", \"<\", gs.daysAgoStart(5));\n    grCleanerEntry.query();\n\n    while (grCleanerEntry.next()) {\n        attachmentIds.push(grCleanerEntry.attachment + '');\n        //update status\n        grCleanerEntry.status = \"PROCESSED\";\n        grCleanerEntry.update();\n    }\n\n    return attachmentIds.join(\",\");\n}\n\nfunction cleanupProcessedEntries() {\n    var grCleanerEntry = new GlideRecord(\"sys_attachment_cleaner_entry\");\n    //get processed records older than 15 days\n    grCleanerEntry.addQuery(\"status\", \"PROCESSED\");\n    grCleanerEntry.addQuery(\"sys_created_on\", \"<\", gs.daysAgoStart(15));\n    grCleanerEntry.deleteMultiple();\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/81f3e7b704312210559073c06a02f79e","value":"81f3e7b704312210559073c06a02f79e"},"condition":"","sys_update_name":"sysauto_script_05737e64b7122010b0bea9a32e11a93f","offset_type":"","name":"Remove Orphaned Attachments","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2019-08-16 18:08:22","sys_class_name":"sysauto_script","sys_id":"0584d37f7347330061b79c0c6df6a746","sys_updated_by":"admin","sys_created_on":"2019-08-11 01:14:33","run_start":"2019-08-11 01:00:00","sys_name":"Convert Services Progress Refresher","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"10","active":"true","time_zone":"","script":"var total_arr = {};\nvar gr_bulk_service = new GlideRecord('cmdb_convert_bulk_services');\ngr_bulk_service.addQuery('status',['READY','IN PROGRESS']);\ngr_bulk_service.query();\nwhile(gr_bulk_service.next()) {\n  var bulk_id = gr_bulk_service.getValue('sys_id');\n  populate_total(bulk_id);\n  pupulate_for_status(bulk_id,'COMPLETE');\n  pupulate_for_status(bulk_id,'FAILED');\n  pupulate_for_status(bulk_id, 'IN PROGRESS');\n  if(total_arr.hasOwnProperty(bulk_id)) {\n    var ipc = Number(total_arr[bulk_id].inprogress);\n    var fc = Number(total_arr[bulk_id].failed);\n    var cc = Number(total_arr[bulk_id].completed);\n    var tc = Number(total_arr[bulk_id].total);\n    var current_count = ipc + fc + cc;\n    var percent = Math.floor(current_count * 100 / tc);\n    gr_bulk_service.setValue('progress', percent);\n    var status = 'READY';\n    if(ipc > 0)\n      status = 'IN PROGRESS';\n    else if(fc > 0 && fc + cc == tc)\n      status = 'COMPLETED_WITH_FAILURE';\n    else if(cc == tc)\n      status = 'COMPLETE';\n\n    if(status != 'READY')\n      gr_bulk_service.setValue('status', status);\n\n    gr_bulk_service.update();\n  }\n}\n\n\nfunction populate_total(bulk_id) {\n  var gr_entry_total = new GlideAggregate('cmdb_convert_bulk_services_entry');\n  gr_entry_total.addAggregate('COUNT');\n  gr_entry_total.addQuery('bulk_transform', bulk_id);\n  gr_entry_total.groupBy('bulk_transform');\n  gr_entry_total.query();\n  var t = 0;\n  var temp_progress = {};\n  if(gr_entry_total.next()) {\n    t = gr_entry_total.getAggregate('COUNT');\n  }\n  temp_progress.total = t;\n  total_arr[bulk_id] = temp_progress;\n}\n\n\nfunction pupulate_for_status(bulk_id, status) {\n  var gr_entry_completed = new GlideAggregate('cmdb_convert_bulk_services_entry');\n  gr_entry_completed.addQuery('status',status);\n  gr_entry_completed.addQuery('bulk_transform', bulk_id);\n  gr_entry_completed.addAggregate('COUNT');\n  gr_entry_completed.groupBy('bulk_transform');\n  gr_entry_completed.query();\n  var c = 0;\n  if(gr_entry_completed.next()){\n    c = gr_entry_completed.getAggregate('COUNT');\n  }\n  switch(status) {\n    case 'COMPLETE':\n      total_arr[bulk_id].completed = c;\n      break;\n    case 'FAILED':\n      total_arr[bulk_id].failed = c;\n      break;\n    case 'IN PROGRESS':\n      total_arr[bulk_id].inprogress = c;\n      break;\n  }\n}\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"condition":"","sys_update_name":"sysauto_script_0584d37f7347330061b79c0c6df6a746","offset_type":"","name":"Convert Services Progress Refresher","max_drift":"","run_period":"1970-01-01 00:00:10","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"monthly","sys_updated_on":"2020-04-09 17:01:13","sys_class_name":"sysauto_script","sys_id":"05b4adf253f700100f16ddeeff7b12fa","sys_updated_by":"admin","sys_created_on":"2020-03-30 17:21:22","run_start":"2020-03-30 17:17:11","sys_name":"Manage Activity fanouts","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 00:00:00","sys_mod_count":"0","active":"true","time_zone":"floating","script":"var actSubCtx = ActivitySubscriptionContext.getContext();\nvar pullService = actSubCtx.getService( ActivityConstants.ACTIVITY_STREAM_PULL_SERVICE);\npullService.updateInactiveStreams();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/27dc6bfb04352210559073c06a02f739","value":"27dc6bfb04352210559073c06a02f739"},"condition":"pm.isActive('com.snc.activity_subscriptions') && (gs.getProperty('com.snc.actsub.core.disable_plugin', 'false') == 'false');","sys_update_name":"sysauto_script_05b4adf253f700100f16ddeeff7b12fa","offset_type":"","name":"Manage Activity fanouts","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"weekly","sys_updated_on":"2019-03-28 09:41:05","sys_class_name":"sysauto_script","sys_id":"065594e387103300f917e55936cb0b26","sys_updated_by":"admin","sys_created_on":"2019-03-28 09:41:05","run_start":"2019-03-28 09:41:05","sys_name":"Prune Search Events And Search Suggestions","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"7","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"1","active":"true","time_zone":"","script":"var service = new SearchSuggestionService();\nservice.pruneSearchSuggestions();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0e99ab7b04f12210559073c06a02f745","value":"0e99ab7b04f12210559073c06a02f745"},"condition":"","sys_update_name":"sysauto_script_065594e387103300f917e55936cb0b26","offset_type":"0","name":"Prune Search Suggestions","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/system","value":"system"},"run_type":"daily","sys_updated_on":"2021-08-09 21:03:14","sys_class_name":"sysauto_script","sys_id":"07543d3ec7313010b59949f988c260b5","sys_updated_by":"sunil.kumar@snc","sys_created_on":"2021-08-09 20:54:09","run_start":"2021-08-09 20:53:28","sys_name":"FlowDesigner : Cleanup Record watcher","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"2","active":"true","time_zone":"","script":"\n\t\t\t\n\t\t\tcleanOrphanRWForFlows()\n\n\t\t\tfunction cleanOrphanRWForFlows() {\n\t\t\tif ('system' != gs.getUserID()) {\n\t\t\t gs.error(\"JOB FlowDesigner : Cleanup Record watcher  not running as SYSTEM. Contact System Administrator.\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar deleteSize = 100;\n\t\t\tvar ids = [];\n\t\t\tvar recordWatcher = new GlideRecord(\"sys_rw_action\");\n\t\t\trecordWatcher.addEncodedQuery(\"action_prefixSTARTSWITHflow.^context!=NULL\");\n\t\t\trecordWatcher.setWorkflow(false);\n\t\t\trecordWatcher.query();\n\n\n\t\t\tvar flowContext = new GlideRecord(\"sys_flow_context\");\n\n\t\t\twhile(recordWatcher.next()){\n\t\t\ttry {\n\t\t\tvar flow_context_metaData = JSON.parse(recordWatcher.getValue(\"context\"));\n\t\t\t if(flow_context_metaData.sys_flow_context){\n\t\t\t   flowContext.initialize();\n\t\t\t   flowContext.setWorkflow(false);\n\t\t\t   flowContext.get(flow_context_metaData.sys_flow_context);\n\n\t\t\t   if(!flowContext.isValidRecord() || (flowContext.getValue(\"state\") === \"COMPLETE\" || flowContext.getValue(\"state\") === \"CANCELLED\" || flowContext.getValue(\"state\") === \"ERROR\")){\n\t\t\t\t   gs.info(\"Found orphan RW records, Deleting RW for flow context \"+ flow_context_metaData.sys_flow_context);\n\t\t\t\t   ids.push(recordWatcher.sys_id.toString());\n\t\t\t\t   if (ids.length >= deleteSize) {\n\t\t\t\t\t deleteChunks(ids);\n\t\t\t\t\tids = [];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t  }\n\t\t\t  } catch (err) {\n\t\t\t   gs.error(\"Error in FlowDesigner : Cleanup Record watcher, sys_rw_action sys_id \"+recordWatcher.sys_id +\" . Error is \"+err.message);\n\t\t\t  }\n\t\t\t}\n\n\t\t\tif (ids.length > 0) {\n\t\t\t deleteChunks(ids);\n\t\t\t}\n\t\t\t}\n\n\t\t\tfunction deleteChunks(ids) {\n\t\t\t  var chunks = new GlideRecord('sys_rw_action');\n\t\t\t  chunks.addQuery('sys_id', 'IN', ids.join(','));\n\t\t\t  chunks.deleteMultiple();\n\t\t\t}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/063be77304352210559073c06a02f7e4","value":"063be77304352210559073c06a02f7e4"},"condition":"","sys_update_name":"sysauto_script_07543d3ec7313010b59949f988c260b5","offset_type":"0","name":"FlowDesigner : Cleanup Record watcher","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 01:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/maint","value":"maint"},"run_type":"periodically","sys_updated_on":"2025-04-11 21:50:11","sys_class_name":"sysauto_script","sys_id":"082dbb5eff30221075f2ffffffffff86","sys_updated_by":"admin","sys_created_on":"2025-04-11 21:49:19","run_start":"2024-05-09 21:17:56","sys_name":"Hermes Diagnostics Check Ports","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 01:00:00","sys_mod_count":"2","active":"true","time_zone":"floating","script":"if (new sn_hermes.HermesUtil().isEnabled()) {\n    try {\n        //test external ports\n        new sn_hermes.HermesUtil().testPorts(true);\n    } catch (e) {\n        gs.log(\"Hermes Diagnostics Check Ports: \" + e.getMessage());\n    }\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/03d4abbf04312210559073c06a02f7f9","value":"03d4abbf04312210559073c06a02f7f9"},"condition":"","sys_update_name":"sysauto_script_082dbb5eff30221075f2ffffffffff86","offset_type":"0","name":"Hermes Diagnostics Check Ports","max_drift":"1970-01-01 00:10:00","run_period":"1970-01-01 00:30:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2015-05-04 13:35:28","sys_class_name":"sysauto_script","sys_id":"08745913f31131002e6bae4716612bf1","sys_updated_by":"admin","sys_created_on":"2015-01-04 09:10:06","run_start":"2015-01-06 09:05:44","sys_name":"Update Query Based Services","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"7","active":"true","time_zone":"","script":"var qbsManager = new SNC.QueryBasedServiceManager();\nqbsManager.updateAllSvcAssoc();\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"condition":"","sys_update_name":"sysauto_script_08745913f31131002e6bae4716612bf1","offset_type":"","name":"Update Query Based Services","max_drift":"","run_period":"1970-01-01 00:10:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 03:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"monthly","sys_updated_on":"2022-10-24 23:55:15","sys_class_name":"sysauto_script","sys_id":"09764d51c7132010f02b23b881c260ab","sys_updated_by":"admin","sys_created_on":"2021-04-02 19:09:54","run_start":"2021-04-02 19:05:03","sys_name":"Clean Up all previous releases Codesigning OOB records","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/eae404d3c31320101109046f5e40dd41","value":"eae404d3c31320101109046f5e40dd41"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 03:00:00","sys_mod_count":"1","active":"false","time_zone":"floating","script":"var codeSigningAPI = new sn_cs_ns.CodeSigningAPI();\ncodeSigningAPI.cleanUpOldOOBRecords();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/eae404d3c31320101109046f5e40dd41","value":"eae404d3c31320101109046f5e40dd41"},"condition":"","sys_update_name":"sysauto_script_09764d51c7132010f02b23b881c260ab","offset_type":"0","name":"Clean Up all previous releases Codesigning OOB records","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2024-04-04 06:24:12","sys_class_name":"sysauto_script","sys_id":"0a87e3c577830010d81e7811a91061f0","sys_updated_by":"admin","sys_created_on":"2020-02-17 09:32:42","run_start":"2024-04-02 18:30:00","sys_name":"Portal Analyzer","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"95","active":"true","time_zone":"","script":"// CONSTANTS\nvar DB_VIEW = \"sp_page_widgets\";\nvar WIDGET_SYS_ID = \"wid_sys_id\";\nvar PAGE_SYS_ID = \"pg_sys_id\";\nvar PORTAL_ANALYZER = \"sp_portal_analyzer\";\nvar WIDGET_NAME = \"wid_name\";\nvar PAGE_ID = \"pg_id\";\nvar CATEGORIES = [\"Uncategorized\", \"OOTB\", \"Cloned\", \"New\", \"Customized\"]; // order is key here\n\nvar util = new PortalAnalyzerUtils();\nvar pageViews = {}; // to hold page-view counts against sys ID to avoid multiple getPageViewCount invocation\nvar userViews = {}; // to hold user counts against sys ID to avoid multiple getUserCountByPage invocation\nvar widgetCategory = {}; // to hold widget customization category \nvar widgets;\nvar pa = null;\nvar widgetSysID, pageSysID, category;\n\ntry {\n    var paT = new GlideRecord(PORTAL_ANALYZER); // clean portal analyzer table before inserting latest records\n    paT.deleteMultiple();\n    var widgetCustomization = new SPDiagnosticsDriver();\n    var gr = new GlideRecord(DB_VIEW); // database view call\n    gr.query();\n    while (gr.next()) {\n        pa = new GlideRecord(PORTAL_ANALYZER);\n        pa.initialize();\n        widgetSysID = gr.getValue(WIDGET_SYS_ID);\n        pageSysID = gr.getValue(PAGE_SYS_ID);\n        widgets = [];\n        widgets.push(widgetSysID);\n        if (!widgetCategory.hasOwnProperty(widgetSysID)) {\n            widgets = widgetCustomization.categorize(JSON.stringify(widgets));\n            widgets = JSON.parse(widgets); // Diagnostic Driver categorize API returns a string\n            widgetCategory[widgetSysID] = CATEGORIES[widgets[widgetSysID][\"widgetCustDetails\"][\"category\"]];\n        }\n        if (!pageViews.hasOwnProperty(pageSysID))\n            pageViews[pageSysID] = util.getPageViewCount(pageSysID);\n        if (!userViews.hasOwnProperty(pageSysID))\n            userViews[pageSysID] = util.getUserCountByPage(pageSysID);\n        category = widgetCategory[widgetSysID];\n        pa.status = category; // start updating pa glide record\n        pa.widget = widgetSysID; // widget is a reference and we need sys ID for reference field to work\n\tpa.widget_id = widgetSysID; // widget_id is a string and we need this for export to excel/csv\n        pa.page = pageSysID; // page is a reference and we need sys ID for reference field to work\n\tpa.page_id = pageSysID; // page_id is a string and we need this for export to excel/csv\n        pa.page_views = pageViews[pageSysID];\n        pa.users = userViews[pageSysID];\n        pa.insert();\n    }\n} catch (error) {\n    gs.error(\"Exception in --Portal Analyzer-- schedule job\");\n    gs.error(\"Error : \" + error);\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/69996b7b04f12210559073c06a02f7e2","value":"69996b7b04f12210559073c06a02f7e2"},"condition":"","sys_update_name":"sysauto_script_0a87e3c577830010d81e7811a91061f0","offset_type":"0","name":"Portal Analyzer","max_drift":"","run_period":"1970-04-01 00:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2025-07-09 10:52:43","sys_class_name":"sysauto_script","sys_id":"0b5ca1e0eb13111007d5a1c628522893","sys_updated_by":"admin","sys_created_on":"2022-11-18 02:30:12","run_start":"2022-11-18 02:28:41","sys_name":"Copy values for cmdb_datasource_last_update","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 06:00:00","sys_mod_count":"2","active":"false","time_zone":"","script":"var modifyColumn = new ModifyColumnsForCMDBDataSourceLastUpdate();\nmodifyColumn.copyValues();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_0b5ca1e0eb13111007d5a1c628522893","offset_type":"0","name":"Copy values for cmdb_datasource_last_update","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"weekly","sys_updated_on":"2023-05-03 12:11:10","sys_class_name":"sysauto_script","sys_id":"0b6de217530010106c61ddeeff7b12bc","sys_updated_by":"admin","sys_created_on":"2020-04-13 22:09:15","run_start":"2020-04-13 22:07:33","sys_name":"ML Clustering Model Update Cleanup","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"1","active":"true","time_zone":"","script":"new MLClusteringUtils().deleteUnavailableClusterModels(parseInt(gs.getProperty(\"glide.platform_ml.max_clustering_attachments_history_in_weeks\",1)));","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"condition":"","sys_update_name":"sysauto_script_0b6de217530010106c61ddeeff7b12bc","offset_type":"0","name":"ML Clustering Model Update Cleanup","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2017-05-15 18:10:55","sys_class_name":"sysauto_script","sys_id":"0bae5772f32232008e31301e73612bff","sys_updated_by":"admin","sys_created_on":"2017-05-09 17:56:56","run_start":"2017-05-09 17:55:49","sys_name":"Clean ML Artifact Object Cache","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"6","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-02 03:00:00","sys_mod_count":"2","active":"true","time_zone":"","script":"new SNC.MLArtifactCleaner().cleanCacheObjectsOlderThan(24);","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"condition":"","sys_update_name":"sysauto_script_0bae5772f32232008e31301e73612bff","offset_type":"0","name":"Clean ML Artifact Object Cache","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2019-07-08 17:27:49","sys_class_name":"sysauto_script","sys_id":"0c98a05b0fd233006e5140c1df767e19","sys_updated_by":"admin","sys_created_on":"2019-07-02 16:27:12","run_start":"2019-10-01 11:00:00","sys_name":"Trigger Full Scan","run_dayofmonth":"7","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"7","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-02 02:02:00","sys_mod_count":"64","active":"true","time_zone":"","script":"var scan = new sn_instance_scan.ScanInstance();\nvar result = scan.triggerFullScan();\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f10d2b3f04352210559073c06a02f7f1","value":"f10d2b3f04352210559073c06a02f7f1"},"condition":"","sys_update_name":"sysauto_script_0c98a05b0fd233006e5140c1df767e19","offset_type":"","name":"Trigger Full Scan","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"weekly","sys_updated_on":"2022-02-10 04:31:05","sys_class_name":"sysauto_script","sys_id":"0d718fc253210110b9d3ddeeff7b12b2","sys_updated_by":"admin","sys_created_on":"2022-02-10 04:31:05","run_start":"2022-02-10 04:30:19","sys_name":"Update catalog items conversational render type","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"7","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 00:00:00","sys_mod_count":"0","active":"true","time_zone":"floating","script":"new sn_sc.CatalogConversationHelper().updateCatalogItemsConversationalRenderType();\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/43adafff04352210559073c06a02f77e","value":"43adafff04352210559073c06a02f77e"},"condition":"","sys_update_name":"sysauto_script_0d718fc253210110b9d3ddeeff7b12b2","offset_type":"0","name":"Update catalog items conversational render type","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 01:45:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2024-06-03 22:34:37","sys_class_name":"sysauto_script","sys_id":"0dcd4f777397e010960c6039faf6a799","sys_updated_by":"admin","sys_created_on":"2021-04-10 23:39:10","run_start":"2021-04-10 23:21:02","sys_name":"CMDB Workspace - Populate aggregates Daily","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 01:45:00","sys_mod_count":"4","active":"true","time_zone":"floating","script":"/* \n/*\n/*\n * Calls util which calculates number of CIs for encoded queries and the group as a whole.\n */\nvar cmdbWorkspaceUtil = new sn_cmdb_ws.CMDBWorkspaceUtil();\ncmdbWorkspaceUtil.populateNoOfMatchingCIsForEncQrys();\ncmdbWorkspaceUtil.populateManagementAggregates();\n\nvar landingPageUtil = new sn_cmdb_ws.CMDBWsLandingPageUtil();\nlandingPageUtil.populateImportantActionDailyData();\n\nvar cmdbWsProductAdoptionUtil = new sn_cmdb_ws.CMDBWsProductAdoptionUtil(); \ncmdbWsProductAdoptionUtil.populateAdoptionAggregates();\n\nvar cmdbWsInsightsUtil = new sn_cmdb_ws.CMDBWsInsightUtil();\ncmdbWsInsightsUtil.resetAppServiceClassificationJob();\n\nvar cmdbWsPerfInsightsUtil = new sn_cmdb_ws.CMDBWsPerfInsightsUtil(); \ncmdbWsPerfInsightsUtil.populatePerfInsightsAggregates();\n\nCMDBWsDMUtil.calculateAgingTasks();\n\n// Invoke CMDB Workspace Aggregates collection PA job\ncmdbWorkspaceUtil.invokeWsAggregatesDailyPAJob();\n\nvar cmdbWsWorkload = new sn_cmdb_ws.CMDBWsDMWorkload();\ncmdbWsWorkload.refreshWorkloadAggTable();\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"condition":"","sys_update_name":"sysauto_script_0dcd4f777397e010960c6039faf6a799","offset_type":"0","name":"CMDB Workspace - Populate aggregates Daily","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/maint","value":"maint"},"run_type":"weekly","sys_updated_on":"2025-07-09 10:54:10","sys_class_name":"sysauto_script","sys_id":"0de900f3433d421050bb6e702cb8f282","sys_updated_by":"system","sys_created_on":"2024-05-02 20:42:17","run_start":"2024-05-01 20:37:59","sys_name":"Remove Servicenow Performance Dashboard","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"7","sys_created_by":"maint","upgrade_safe":"false","offset":"","run_time":"1970-01-01 00:00:00","sys_mod_count":"8","active":"false","time_zone":"floating","script":"// This script removes the \"Servicenow Performance\" dashboard for customers who haven't used it\n// in the past 6 months. It runs after upgrade, during a time when most customers don't have\n// as much activity going on, because it has a query on the navigator history that may take some time.\n// In order to run once and at a specific time of the week, this is a weekly script that disables\n// itself after running.\n\nvar performanceDashboardID = \"8d090efd53513010d185ddeeff7b124e\";\n\nfunction usedDashboard() {\n    var ga = new GlideAggregate('sys_ui_navigator_history');\n    ga.addEncodedQuery(\"sys_created_onRELATIVEGT@month@ago@6\");\n    ga.addQuery('url', 'CONTAINS', performanceDashboardID);\n    ga.addQuery('url', 'DOES NOT CONTAIN', 'sys_ui_navigator_history');\n    ga.addAggregate('COUNT');\n    ga.query();\n    if (ga.next()) {\n        return ga.getAggregate('COUNT') > 0;\n    }\n    return false;\n}\n\nfunction deleteDashboardFiles(dashboardId) {\n    var files = [];\n    if (gs.nil(dashboardId)) {\n        gs.addErrorMessage('dashboardId is empty.');\n        return;\n    }\n\n    var gr = new GlideRecord('pa_dashboards');\n    if (!gr.get(dashboardId)) {\n        gs.addErrorMessage(dashboardId + ' is invalid dashboard ID');\n        return;\n    }\n    files.push(['pa_dashboards', gr.getUniqueValue()]);\n\n    // Add related tabs content\n    var grDashboardTabs = new GlideRecord(\"pa_m2m_dashboard_tabs\");\n    grDashboardTabs.addQuery(\"dashboard\", dashboardId);\n    grDashboardTabs.query();\n    while (grDashboardTabs.next()) {\n        files.push(['pa_m2m_dashboard_tabs', grDashboardTabs.getUniqueValue()]);\n\n        var tabSysId = grDashboardTabs.getValue(\"tab\");\n        var grTabs = new GlideRecord(\"pa_tabs\");\n\n        if (grTabs.get(tabSysId)) {\n            files.push(['pa_tabs', grTabs.getUniqueValue()]);\n            var canvasPageSysId = grTabs.getValue(\"canvas_page\");\n            var portalPageSysId = grTabs.getValue(\"page\");\n\n            // Add tab's related legacy page\n            var grPortalPage = new GlideRecord(\"sys_portal_page\");\n            if (grPortalPage.get(portalPageSysId)) {\n                files.push(['sys_portal_page', grPortalPage.getUniqueValue()]);\n\n                var grPortal = new GlideRecord(\"sys_portal\");\n                grPortal.addQuery(\"page\", portalPageSysId);\n                grPortal.query();\n                while (grPortal.next()) {\n                    files.push(['sys_portal', grPortal.getUniqueValue()]);\n\n                    var portalPreferenceGR = new GlideRecord('sys_portal_preferences');\n                    portalPreferenceGR.addQuery('portal_section', grPortal.getUniqueValue());\n                    portalPreferenceGR.query();\n                    while (portalPreferenceGR.next())\n                        files.push(['sys_portal_preferences', portalPreferenceGR.getUniqueValue()]);\n                }\n            }\n\n            // Add tab's related canvas page\n            var grGridCanvas = new GlideRecord(\"sys_grid_canvas\");\n            if (grGridCanvas.get(canvasPageSysId)) {\n                files.push(['sys_grid_canvas', grGridCanvas.getUniqueValue()]);\n\n                // Add grid canvas panes related to the canvas page\n                var grGridCanvasPane = new GlideRecord('sys_grid_canvas_pane');\n                grGridCanvasPane.addQuery(\"grid_canvas\", grGridCanvas.getUniqueValue());\n                grGridCanvasPane.query();\n                while (grGridCanvasPane.next()) {\n                    files.push(['sys_grid_canvas_pane', grGridCanvasPane.getUniqueValue()]);\n                }\n\n                var grCanvasPreferences = new GlideRecord('sys_canvas_preferences');\n                grCanvasPreferences.addQuery('canvas_page', canvasPageSysId);\n                grCanvasPreferences.query();\n                while (grGridCanvasPane.next()) {\n                    files.push(['sys_canvas_preferences', grCanvasPreferences.getUniqueValue()]);\n                }\n            }\n        }\n    }\n\n    // Add dashboard permissions\n    var grDashboardPermissions = new GlideRecord(\"pa_dashboards_permissions\");\n    grDashboardPermissions.addQuery(\"dashboard\", dashboardId);\n    grDashboardPermissions.query();\n    while (grDashboardPermissions.next()) {\n        files.push(['pa_dashboards_permissions', grDashboardPermissions.getUniqueValue()]);\n    }\n\n    for (var i = 0; i < files.length; i++) {\n        var file = files[i];\n        var fileGr = new GlideRecord(file[0]);\n        fileGr.get(file[1]);\n        fileGr.deleteRecord();\n    }\n}\n\nfunction removeGraphsFromSlowPatternForms() {\n    var sectionsToDelete = ['4171c6c8c3093200ca27ff9c02d3aee0', 'dbff5288c3413200ca27ff9c02d3aeae', '55007f503b113200d43625c703efc423',\n        '03c4c20cc3093200ca27ff9c02d3aef6', 'feb4c20cc3093200ca27ff9c02d3aea2', '38977b3367703200ca27ebc172415a41',\n        '7e973f3367703200ca27ebc172415a65', '65c8b8c1c3013200ca27ff9c02d3ae3c', 'bbb8b8c1c3013200ca27ff9c02d3ae51',\n        '0ac54a0cc3093200ca27ff9c02d3aee7', '48c54a0cc3093200ca27ff9c02d3ae15'\n    ];\n    for (var i = 0; i < sectionsToDelete.length; i++) {\n        var sectionId = sectionsToDelete[i];\n        var gr = new GlideRecord('sys_ui_section');\n        gr.get(sectionId);\n        gr.deleteRecord();\n    }\n}\n\nfunction disableJRobinWrites() {\n    GlidePropertiesDB.set(\"com.glide.velocious.jrobin.disable_jrobin_writes\", true);\n}\n\nif (!usedDashboard()) {\n    deleteDashboardFiles(performanceDashboardID);\n    removeGraphsFromSlowPatternForms();\n    disableJRobinWrites();\n}\n\nvar gr = new GlideRecord('sysauto_script');\ngr.get('0de900f3433d421050bb6e702cb8f282');\ngr.setValue('active', false);\ngr.update();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f6e7e3ff04b12210559073c06a02f7e8","value":"f6e7e3ff04b12210559073c06a02f7e8"},"condition":"","sys_update_name":"sysauto_script_0de900f3433d421050bb6e702cb8f282","offset_type":"0","name":"Remove Servicenow Performance Dashboard","max_drift":"","run_period":"1970-01-01 00:01:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2015-05-14 15:38:48","sys_class_name":"sysauto_script","sys_id":"0e27b960c332010016194ffe5bba8fbc","sys_updated_by":"admin","sys_created_on":"2013-07-22 23:36:19","run_start":"2013-07-22 23:34:51","sys_name":"LDAP Connection Test","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"32","active":"true","time_zone":"","script":"testLDAPServers();\n\nfunction testLDAPServers() {\n    var ldapServer = new GlideRecord(\"ldap_server_config\");\n    ldapServer.addActiveQuery();\n    ldapServer.query();\n    var errMsg = \"\";\n    var total_serverconfigs = 0; \n    var failed_serverconfigs = 0;\n    var succeeded_serverconfigs = 0;\n    while (ldapServer.next()) {\n        total_serverconfigs++;\n        var ldap = new GlideLDAP();\n        // get LDAP server config\n        ldap.setConfigID(ldapServer.getUniqueValue());\n        // Setup connection parameters\n        var env = ldap.setup();\n        if (env == null) {\n            failed_serverconfigs++;\n            errMsg = \"Failed environment setup, missing URL\";\n            gs.eventQueue(\"ldap.connection_failed\",  ldapServer, ldapServer.getDisplayValue(), errMsg);\n            gs.logError(\"LDAP Server: \" + ldapServer.getDisplayValue() + \" failed scheduled connection test: \" + errMsg, \"LDAP\");\n            continue;\n        }\n        // Test Connection\n        errMsg = \"Go to LDAP server record and perform a manual connection test for additional information. \";\n        try {\n            var opStatusTrueAuthoritative    = true;\n            var opStatusFalseAuthoritative  = false;\n            var ldapConnectionTester = new GlideLDAPTestConnectionProcessor(ldapServer.getUniqueValue(), null, opStatusTrueAuthoritative, opStatusFalseAuthoritative);\n            ldapConnectionTester.testServerURLConnections();\n            var allURLConnResults = gs.getSession().getProperty(\"ldap_test.all_urls.result\");\n            // Clear results in session\n            gs.getSession().clearProperty(\"ldap_test.all_urls.result\");\n            \n            var urlresultIterator = allURLConnResults.iterator();\n            var retestURLIDs = new Array();\n            var retestURLs = new Array();\n            var total_urls = allURLConnResults.size();\n            var active_urls = 0;\n            var failed_urls = 0;\n           \n            while(urlresultIterator.hasNext()) {\n                var ldapURL = urlresultIterator.next();\n                if(ldapURL.isActive() == false)\n                    continue;\n                \n                active_urls++;\n                // Connection Successful\n                // If server operational_status is false and connection successful it will be changed to true, if opStatusTrueAuthoritative=true\n                // Also ldap.operational_status.up event will be fired\n                if(ldapURL.getTestErrorCode() == 0)\n                    continue;\n                \n                // Connection Failed\n                failed_urls++;\n                var eventParm1 = \"LDAP Server: \" + ldapServer.getDisplayValue() + ' URL: ' + ldapURL.getURL();\n                var urlErrMsg = '';\n                urlErrMsg += \"ErrorCode: \" + ldapURL.getTestErrorCode() + \". \";\n                urlErrMsg += \"ErrorMessage: \" +  GlideXMLUtil.removeInvalidChars(ldapURL.getTestErrorMessage()) + \". \";\n                var urlRecord = new GlideRecord('ldap_server_url');\n                urlRecord.get(ldapURL.getID());\n                gs.eventQueue(\"ldap.connection_failed\",  ldapServer, eventParm1, urlErrMsg);\n                gs.logError(eventParm1 + \" failed scheduled connection test. \" + urlErrMsg, \"LDAP\");\n                    \n                // Collect the list of URL's that needs retest in a SubJob\n                retestURLIDs.push(ldapURL.getID());\n                retestURLs.push(ldapURL.getURL());\n            }// while\n            \n            // we have more than 1 active urls and they all failed test connection \n            // for succeeded ones, we also only count the the ones that have more than 1 active urls\n            if (active_urls>0) {\n                if (active_urls == failed_urls) {\n                    failed_serverconfigs++; \n                    SNC.SecurityEventSender.sendLDAPTestConnectionFailedSummaryEventData(ldapServer.getUniqueValue(), \"total_urls=\" + total_urls + \", active_urls=\"+active_urls + \", failed_urls=\"+failed_urls);\n                } else {\n                    succeeded_serverconfigs++;\n                }\n            }\n            \n            if(retestURLIDs.length > 0 && opStatusFalseAuthoritative == false) {\n                // Retest and set URLs operational_status to false, if connection fails again in LDAP SubJob.\n                gs.log( \"LDAP SubJob to retest failed URLs. Server=\" + ldapServer.getDisplayValue() + ' URLs=' + retestURLs.join(' ') , \"LDAP\");\n                createSubJob(getSubJobScript(ldapServer.getUniqueValue(), retestURLIDs));\n            }\n        } catch(e) {\n            failed_serverconfigs++;\n            // Fire event to trigger email notification\n            errMsg += e.message;\n            gs.eventQueue(\"ldap.connection_failed\",  ldapServer, ldapServer.getDisplayValue(), errMsg);\n            gs.logError(\"LDAP Server: \" + ldapServer.getDisplayValue() + \" failed scheduled connection test. \" + errMsg, \"LDAP\");\n        }\n    }\n    \n    // generate summary event for all server configs\n    SNC.SecurityEventSender.sendLDAPTestConnectionAllServConfigSummaryEventData(\"total_serverconfigs=\" + total_serverconfigs + \", succeeded_serverconfigs=\" + succeeded_serverconfigs + \", failed_serverconfigs=\" + failed_serverconfigs);\n}\n\nfunction getSubJobScript(ldapServerId, retestURLIDs) {\n    var subJobScript = 'new LDAPURLUtils().runSubJobScript(\\\"' + ldapServerId + '\\\", \\\"' + retestURLIDs.join() + '\\\")';\n    return subJobScript;\n}\n\nfunction createSubJob(subJobScript) {\n    var name   = \"LDAP Connection Test - SubJob\";\n    var when   = getNextActionTime();\n    GlideRunScriptJob.scheduleScript(subJobScript, name, when);\n}\n\nfunction getNextActionTime() {\n    var jobRunInterval = new GlideDateTime(current.run_period);\n    var nextActionInSec = Math.min(5*60, jobRunInterval.getNumericValue()/2000);\n    gs.log('LDAP SubJob run in ' + nextActionInSec + ' seconds', \"LDAP\");\n    var nextActionTime = new GlideDateTime();\n    nextActionTime.addSeconds(nextActionInSec);\n    return nextActionTime;\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d6c727bf04b12210559073c06a02f7fe","value":"d6c727bf04b12210559073c06a02f7fe"},"condition":"","sys_update_name":"sysauto_script_0e27b960c332010016194ffe5bba8fbc","offset_type":"0","name":"LDAP Connection Test","max_drift":"","run_period":"1970-01-01 00:15:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2021-09-07 16:31:04","sys_class_name":"sysauto_script","sys_id":"0f8c0e48b76a74102455f158ee11a967","sys_updated_by":"admin","sys_created_on":"2021-09-07 16:30:26","run_start":"2021-09-07 16:22:57","sys_name":"CSDM Product Model Assignment","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"1","active":"true","time_zone":"","script":"//This script creates or locates appropriate product models and assigns them to CIs where the \"model_id\" field is empty.\n//Note: this does not apply to the entire CMDB, specific CI classes are called out inside the script include method below\nnew CSDMModelUtil().populateEmptyProductModels();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_0f8c0e48b76a74102455f158ee11a967","offset_type":"0","name":"CSDM Product Model Assignment","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2023-10-24 22:52:41","sys_class_name":"sysauto_script","sys_id":"0fff6af6772320108043270bba10619b","sys_updated_by":"admin","sys_created_on":"2021-04-20 04:54:10","run_start":"2021-04-20 04:52:42","sys_name":"Trigger Notifications for CMDB DM Stale Tasks","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"9","active":"true","time_zone":"","script":"var notifications_frequency = gs.getProperty('cmdb.data.manager.stale.tasks.notifications.frequency', 7);\nvar notifications_condition = 'last_notification_timeISEMPTY^sys_created_onRELATIVELT@dayofweek@ago@' + notifications_frequency + '^NQlast_notification_timeRELATIVELT@dayofweek@ago@' +notifications_frequency;\n\nvar tasks = [];\nvar taskGr = new GlideRecord('cmdb_data_management_task');\ntaskGr.addEncodedQuery(notifications_condition);\ntaskGr.addQuery('state', 1); //Open tasks\ntaskGr.query();\nwhile (taskGr.next()) {\n        tasks.push(taskGr.getValue('sys_id'));\n}\n\nif (tasks.length > 0) {\n    var tasksMap = {};\n    var sysApprovalGr = new GlideRecord('sysapproval_approver');\n    sysApprovalGr.addQuery('state', 'requested');\n    sysApprovalGr.addQuery('sysapproval', 'IN', tasks);\n    sysApprovalGr.query();\n    while (sysApprovalGr.next()) {\n        if (tasksMap[sysApprovalGr.getValue('sysapproval')] == undefined) {\n            tasksMap[sysApprovalGr.getValue('sysapproval')] = [];\n        }\n        if (tasksMap[sysApprovalGr.getValue('sysapproval')].indexOf(sysApprovalGr.getValue('sysapproval')) < 0) {\n            tasksMap[sysApprovalGr.getValue('sysapproval')].push(sysApprovalGr.getValue('approver'));\n        }\n    }\n    Object.keys(tasksMap).forEach(function(sysapproval) {\n        gs.eventQueue(\"cmdbdatamanager.task.stale\", taskGr, tasksMap[sysapproval].toString(), sysapproval);\n    });\n\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"condition":"","sys_update_name":"sysauto_script_0fff6af6772320108043270bba10619b","offset_type":"","name":"Trigger Notifications for CMDB DM Stale Tasks","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":"","run_type":"daily","sys_updated_on":"2024-01-16 19:29:20","sys_class_name":"sysauto_script","sys_id":"10bf5c71477261503fbe9e25126d43fa","sys_updated_by":"admin","sys_created_on":"2023-05-14 17:54:06","run_start":"2023-05-14 17:45:52","sys_name":"Sidebar Discussion Reminder","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/fa27a0dd53423010bf68ddeeff7b12ac","value":"fa27a0dd53423010bf68ddeeff7b12ac"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 00:00:00","sys_mod_count":"7","active":"true","time_zone":"GMT","script":"new sn_sow_collab.SOWSidebarNotificationsUtils().sendEmails();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fa27a0dd53423010bf68ddeeff7b12ac","value":"fa27a0dd53423010bf68ddeeff7b12ac"},"condition":"","sys_update_name":"sysauto_script_10bf5c71477261503fbe9e25126d43fa","offset_type":"0","name":"Sidebar Discussion Reminder","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"weekly","sys_updated_on":"2023-09-08 05:28:19","sys_class_name":"sysauto_script","sys_id":"1186e18f43013110e4aa4594bfb8f29a","sys_updated_by":"admin","sys_created_on":"2023-09-07 16:33:42","run_start":"2023-09-07 16:29:01","sys_name":"Orphan ML Update Set Attachment Cleanup","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"2","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"1","active":"true","time_zone":"","script":"var grAttachment = new GlideRecord(\"sys_attachment\");\ngrAttachment.addQuery(\"table_name\", \"ml_update_set\");\ngrAttachment.query();\n\nwhile (grAttachment.next()) {\n    var grUpdateSet = new GlideRecord(\"ml_update_set\");\n    grUpdateSet.addQuery(\"sys_id\", grAttachment.table_sys_id);\n    grUpdateSet.query();\n    if (!grUpdateSet.next()) {\n        gs.info(\"Deleting Attachment with File name: \" + grAttachment.file_name + \" for Table sys ID: \" + grAttachment.table_sys_id);\n        grAttachment.deleteRecord();\n    }\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"condition":"","sys_update_name":"sysauto_script_1186e18f43013110e4aa4594bfb8f29a","offset_type":"0","name":"Orphan ML Update Set Attachment Cleanup","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/maint","value":"maint"},"run_type":"daily","sys_updated_on":"2024-08-27 21:52:07","sys_class_name":"sysauto_script","sys_id":"11eb7ad177d81210c2123a91fa5a9951","sys_updated_by":"maint","sys_created_on":"2024-08-27 21:49:40","run_start":"2024-08-27 21:47:51","sys_name":"Set run as user for SC PA jobs","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"run_dayofweek":"1","sys_created_by":"maint","upgrade_safe":"false","offset":"","run_time":"1970-01-02 07:00:00","sys_mod_count":"1","active":"true","time_zone":"","script":"//Set Run as user if SC PA jobs do not have valid run as user.\nvar scUtil = new sn_vsc.SCMetricsUtil();\nscUtil.setRunAsUser();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"condition":"","sys_update_name":"sysauto_script_11eb7ad177d81210c2123a91fa5a9951","offset_type":"0","name":"Set run as user for SC PA jobs","max_drift":"","run_period":"","sys_policy":"read"},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2021-08-04 20:01:57","sys_class_name":"sysauto_script","sys_id":"12603f49c73130102f7d69467ec2605f","sys_updated_by":"admin","sys_created_on":"2021-08-04 19:27:40","run_start":"2021-08-04 19:26:05","sys_name":"Delete old Integration Hub debug files on MID servers.","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"2","active":"true","time_zone":"","script":"\n var priority = 'Standard'; var eccParams = { 'source': 'deleteExpiredIHubPlans', 'topic': 'SystemCommand'}; new SNC.MidEccSender().broadcastToAllMidServers(priority, eccParams, {});","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/211d6f3f04352210559073c06a02f7ae","value":"211d6f3f04352210559073c06a02f7ae"},"condition":"","sys_update_name":"sysauto_script_12603f49c73130102f7d69467ec2605f","offset_type":"0","name":"Delete old Integration Hub debug files on MID servers.","max_drift":"","run_period":"","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2024-04-08 20:52:48","sys_class_name":"sysauto_script","sys_id":"12884a71531130103296ddeeff7b12bf","sys_updated_by":"admin","sys_created_on":"2021-07-12 23:16:47","run_start":"2021-07-12 23:16:18","sys_name":"Generate Virtual Agent Push Notifications","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"8","active":"true","time_zone":"","script":"sn_cs.VASystemObject.generateMobilePushNotifications();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"condition":"sn_cs.VASystemObject.shouldGenerateMobilePushNotifications();","sys_update_name":"sysauto_script_12884a71531130103296ddeeff7b12bf","offset_type":"","name":"Generate Virtual Agent Push Notifications","max_drift":"","run_period":"1970-01-01 00:01:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"weekly","sys_updated_on":"2018-10-17 09:06:58","sys_class_name":"sysauto_script","sys_id":"1386c583d7010200c1ed0fbc5e61036c","sys_updated_by":"admin","sys_created_on":"2015-07-08 23:22:29","run_start":"2015-07-08 23:22:02","sys_name":"Checkpoint Reaper","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"6","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 09:00:00","sys_mod_count":"1","active":"true","time_zone":"","script":"SNC.ServiceMappingFactory.reapCheckpoints();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"condition":"","sys_update_name":"sysauto_script_1386c583d7010200c1ed0fbc5e61036c","offset_type":"","name":"Checkpoint Reaper","max_drift":"","run_period":"1970-04-01 00:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2025-06-05 07:22:15","sys_class_name":"sysauto_script","sys_id":"15cc6a2d770e0210c2123a91fa5a990f","sys_updated_by":"admin","sys_created_on":"2024-05-08 18:59:48","run_start":"2024-05-08 18:59:00","sys_name":"SC Capture MI data","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"run_dayofweek":"1","sys_created_by":"maint","upgrade_safe":"false","offset":"","run_time":"1970-01-01 18:00:00","sys_mod_count":"1","active":"true","time_zone":"","script":"var scMIFUtil = new sn_vsc.SCMIFUtil();\nscMIFUtil.captureSCMIData();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"condition":"","sys_update_name":"sysauto_script_15cc6a2d770e0210c2123a91fa5a990f","offset_type":"0","name":"SC Capture MI data","max_drift":"","run_period":"","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2016-12-12 13:08:26","sys_class_name":"sysauto_script","sys_id":"16915817d72322005aed4ebfae6103c4","sys_updated_by":"admin","sys_created_on":"2016-12-12 13:08:26","run_start":"2016-12-02 14:30:02","sys_name":"[Reporting]  Import Tables expire non-active","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 01:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"//read the import tables that expires today and delete them\nvar gr = new GlideRecord('sys_report_import_table');\ngr.addQuery('active','false');\ngr.query();\nwhile(gr.next()){\n\tvar deleted = SNC.ImportTableUtils.deleteImportTable(gr.sys_id);\n\tgs.print('Reporting - Import Tables expire non-active job. Table deleted=' + gr.table);\n}\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b535677304712210559073c06a02f751","value":"b535677304712210559073c06a02f751"},"condition":"// is there any temporary table that expires today?\nvar ga = new GlideAggregate('sys_report_import_table');\nga.addAggregate('COUNT');\nga.addQuery('active','false');\nga.query();\nga.next();\nga.getAggregate('COUNT') !== '0'","sys_update_name":"sysauto_script_16915817d72322005aed4ebfae6103c4","offset_type":"0","name":"[Reporting]  Import Tables expire non-active","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2021-08-20 07:15:33","sys_class_name":"sysauto_script","sys_id":"1738989577423010b4b74b640d5a9903","sys_updated_by":"pravinpratap.pushkar","sys_created_on":"2021-08-17 08:46:56","run_start":"2021-08-17 08:35:48","sys_name":"Ecc Queue Usage Analytics - Aggregate all topics from ecc_queue to ecc_queue_usage_analytics","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"pravinpratap.pushkar","upgrade_safe":"false","offset":"","run_time":"1969-12-31 19:30:00","sys_mod_count":"1","active":"true","time_zone":"","script":"insertPrevDayECCTopics();\n\nfunction insertPrevDayECCTopics() {\n    var encodedQuery = getEncodedQuery();\n    var eccRecord = new GlideAggregate('ecc_queue');\n    eccRecord.addAggregate('COUNT', 'topic');\n    eccRecord.addEncodedQuery(encodedQuery);\n    eccRecord.query();\n\n    var usageAnalyticsRec = new GlideRecord('ecc_queue_usage_analytics');\n    usageAnalyticsRec.initialize();\n    var aggregatedOn = getYesterdayDate();\n    while (eccRecord.next()) {\n        usageAnalyticsRec.topic = eccRecord.topic;\n        usageAnalyticsRec.count = eccRecord.getAggregate('COUNT', 'topic');\n        usageAnalyticsRec.aggregated_on = aggregatedOn;\n        usageAnalyticsRec.insert();\n    }\n}\n\nfunction getEncodedQuery() {\n    var topicFilters = ['queue.stats', 'HeartbeatProbe', 'queue.processing', 'SystemCommand'];\n    var previousDayFilter = 'sys_created_onONYesterday@javascript:gs.beginningOfYesterday()@javascript:gs.endOfYesterday()';\n\n    var encodedQuery = 'topic!=' + topicFilters[0] + '^ORtopic=NULL';\n    for (var i = 1; i < topicFilters.length; i++) {\n        encodedQuery = encodedQuery + '^' + 'topic!=' + topicFilters[i] + '^ORtopic=NULL';\n    }\n    encodedQuery = encodedQuery + '^' + previousDayFilter;\n    return encodedQuery;\n}\n\nfunction getYesterdayDate() {\n    var dateTime = gs.daysAgoStart(1);\n    var gdt = new GlideDateTime(dateTime);\n    return gdt.getDate();\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/42b8273704f12210559073c06a02f78d","value":"42b8273704f12210559073c06a02f78d"},"condition":"","sys_update_name":"sysauto_script_1738989577423010b4b74b640d5a9903","offset_type":"0","name":"Ecc Queue Usage Analytics - Aggregate all topics from ecc_queue to ecc_queue_usage_analytics","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2013-04-08 18:21:03","sys_class_name":"cert_audit","sys_id":"191fffeedf60010068c37a0d3df26351","sys_updated_by":"admin","sys_created_on":"2013-04-08 18:18:11","run_start":"2013-04-08 18:15:18","sys_name":"Server Minimum Statistics","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"5","active":"true","time_zone":"","script":"new SNC.CertificationProcessing().runAudit(current.sys_id, current.template.filter.sys_id, current.template.sys_id);","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e457afbb04b12210559073c06a02f744","value":"e457afbb04b12210559073c06a02f744"},"condition":"","sys_update_name":"cert_audit_191fffeedf60010068c37a0d3df26351","offset_type":"","name":"Server Minimum Statistics","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"weekly","sys_updated_on":"2020-10-01 04:21:49","sys_class_name":"sysauto_script","sys_id":"196323dd73231010a64ec3ed8ff6a7f1","sys_updated_by":"admin","sys_created_on":"2020-09-28 20:43:00","run_start":"2020-09-28 20:35:17","sys_name":"CMDB Multisource Query Usage Analytics","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"6","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"8","active":"true","time_zone":"","script":"SNC.IREUsageScriptableApi.getMultisourceQueryUsageAnalytics();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_196323dd73231010a64ec3ed8ff6a7f1","offset_type":"0","name":"CMDB Multisource Query Usage Analytics","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 07:00:00","run_as_tz":"","run_as":"","run_type":"daily","sys_updated_on":"2025-05-08 19:33:33","sys_class_name":"sysauto_script","sys_id":"1a493ab2ff292110d185612a453bf1f4","sys_updated_by":"admin","sys_created_on":"2023-03-17 04:14:00","run_start":"2023-03-17 04:12:23","sys_name":"Subscription Details","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bcadabf277f311109c62f5f3cb5a992a","value":"bcadabf277f311109c62f5f3cb5a992a"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 18:00:00","sys_mod_count":"26","active":"false","time_zone":"","script":"gs.info(`SubscriptionDetailsScheduledJob - started`);\n\nconst run = () => {\n    gs.info(`SubscriptionDetailsScheduledJob - run`);\n    const start = Date.now();\n    new sn_entitlement.SubscriptionDetailService().createSubscriptionDetails();\n    gs.info(`SubscriptionDetailsScheduledJob elapsed time(ms) : ${Date.now() - start}`);\n};\n\nconst ss = new sn_entitlement.SubscriptionService();\nconst entityTotal = ss.getUserCountByNeedsToBeProcessed() + ss.getGroupCountByNeedsToBeProcessed();\nconst instanceStateUtils = new sn_entitlement.InstanceStateUtils();\n\n// This script is intended to run:\n//    Daily - For instances with less than or equal to 50k users/groups\n//    Never - For instances with greater than 50k users/groups or open instances\nif (entityTotal > 50000)\n    gs.info(`SubscriptionDetailsScheduledJob - abort due to user + group count of ${entityTotal}`);\nelse if (instanceStateUtils.isInstanceOpen())\n    gs.info(`SubscriptionDetailsScheduledJob - abort due to open instance`);\nelse\n    run();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bcadabf277f311109c62f5f3cb5a992a","value":"bcadabf277f311109c62f5f3cb5a992a"},"condition":"","sys_update_name":"sysauto_script_1a493ab2ff292110d185612a453bf1f4","offset_type":"0","name":"Subscription Details","max_drift":"","run_period":"","sys_policy":"read"},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":"","run_type":"periodically","sys_updated_on":"2021-07-15 04:12:23","sys_class_name":"sysauto_script","sys_id":"1cdd29b7c32013009cbbdccdf3d3ae88","sys_updated_by":"admin","sys_created_on":"2018-03-06 18:34:38","run_start":"2018-03-06 18:33:25","sys_name":"Conversation Support Queue Timer Task","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"1","active":"true","time_zone":"","script":"sn_cs.VASystemObject.checkSupportQueuesSchedule();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"condition":"","sys_update_name":"sysauto_script_1cdd29b7c32013009cbbdccdf3d3ae88","offset_type":"","name":"Conversation Support Queue Timer Task","max_drift":"","run_period":"1970-01-01 00:01:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 17:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2021-03-09 12:10:57","sys_class_name":"sysauto_script","sys_id":"1da0ed27c32220102c5b4e483c40ddb7","sys_updated_by":"admin","sys_created_on":"2021-03-03 14:37:58","run_start":"2021-03-03 13:58:43","sys_name":"Inactive User Credential CleanUp","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 17:00:00","sys_mod_count":"6","active":"true","time_zone":"floating","script":"var days = gs.getProperty('glide.webauthn.delete_credential_not_used_since_days', 90);\nvar now = new GlideDateTime();\nvar daysInMillisecond = days * 86400000;\nnow.subtract(daysInMillisecond);\ndeleteCredentialsWithValueLessOREqualToTime(now);\n\nfunction deleteCredentialsWithValueLessOREqualToTime(time) {\n\tgs.info(\"Start: Deleting credentials with last used time less than equal to \" + time.getDisplayValue());\n\tvar gr = new GlideRecord('sys_user_public_credential');\n\n\tif(!gr.isValid()) {\n\t\tgs.debug('unable to get credentials for cleanup utility.');\n\t\treturn;\n\t}\n\t\n\tgr.addQuery(\"last_used_time\", \"<=\", time);\n\tgr.query();\n\tgr.deleteMultiple();\n\tgs.info(\"End: Deleting credentials with last used time less than equal to \" + time.getDisplayValue());\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9f152f3304712210559073c06a02f70e","value":"9f152f3304712210559073c06a02f70e"},"condition":"","sys_update_name":"sysauto_script_1da0ed27c32220102c5b4e483c40ddb7","offset_type":"0","name":"Inactive User Credential CleanUp","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 12:11:06","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2025-06-05 06:50:56","sys_class_name":"sysauto_script","sys_id":"1e318661a00ec210f877d142267461f4","sys_updated_by":"system","sys_created_on":"2024-05-08 15:54:52","run_start":"2025-06-05 10:48:01","sys_name":"Process client push notifications","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"run_dayofweek":"4","sys_created_by":"maint","upgrade_safe":"false","offset":"","run_time":"1970-01-01 12:11:06","sys_mod_count":"11","active":"true","time_zone":"floating","script":"//Execute cds client schedule\n// download records - this is synchronous\nnew global.CanonicalRepo().syncDataWithRepositoryByTable('sn_vsc_client_push_notifications');\n// data downloaded\nnew sn_vsc.CustomerPushActionUtils().deactivateCPARecords();\nnew sn_vsc.CustomerPushActionUtils().activateCPARecords();\nnew sn_vsc.CustomerPushActionUtils().handleCPARecordUpdates();\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"condition":"","sys_update_name":"sysauto_script_1e318661a00ec210f877d142267461f4","offset_type":"0","name":"Process client push notifications","max_drift":"","run_period":"1970-01-04 12:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2021-03-30 22:38:09","sys_class_name":"sysauto_script","sys_id":"1e70fdf453032010347cddeeff7b123c","sys_updated_by":"cong.thieu","sys_created_on":"2021-03-19 22:45:15","run_start":"2021-03-19 22:35:59","sys_name":"Purge Orphaned Containerized MID Servers","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"cong.thieu","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"2","active":"true","time_zone":"","script":"/**\nThis script removes orphaned containerized mid servers if they are down more than max_retention_days.\nContainerized mid server are the ones with 'null' or 'empty' container_id.\n    - If containerized mid servers are down for more than max_retention_days, delete mid server records\n    - If containerized mid servers are down for less than (max_retention_days - warn_days), then clear mid issue records\n    - If containerized mid servers are down for more than (max_retention_days - warn_days), then create a mid issue records\n*/\n\npurgeOrphanedMIDContainers(30, 7);\n\nfunction purgeOrphanedMIDContainers(max_retention_days, warn_days) {\n\tvar issueSource = \"PurgeOrphanedContainerizedMID\";\n\tvar issueMessage = \"Warning: The MID server will be removed after it is down for more than max retention days\";\n\tvar count = 0;\n\n\tif (max_retention_days <= warn_days || warn_days < 3) {\n\t\tgs.log(\"Aborted execution. max_retention_days must be greater than warn_days and warn_days must be at least 3!\");\n\t\treturn;\n\t}\n\t\n\t//-----------------------------------------------------\n\t// 1. Remove orphan containerized mid servers\n\t//-----------------------------------------------------\n\tvar agentGr = new GlideRecord('ecc_agent');\n\tagentGr.addNotNullQuery(\"container_id\");\n\tagentGr.addQuery(\"status\", 'Down');\n\t// 'last_refreshed' is the last time the mid server successfully sent a heart beat to instance\n\t// Note that we cannot use 'stopped' because mid server may not shut down cleanly\n\tagentGr.addQuery(\"last_refreshed\", \"<=\", gs.daysAgo(max_retention_days));\n\tagentGr.query();\n\tcount = agentGr.getRowCount();\n\tagentGr.deleteMultiple();\n\tgs.log(\"Deleted \" + count + \" orphaned containerized mid server records\");\n\n\t//-----------------------------------------------------\n\t// 2. Resolve existing issue if MID is alive again\n\t//-----------------------------------------------------\n\tvar agentIssueGr = new GlideRecord('ecc_agent_issue');\n\tagentIssueGr.addQuery(\"source\", issueSource);\n\tagentIssueGr.addQuery(\"message\", issueMessage);\n\tagentIssueGr.query();\n\tvar listAgentSysIds = \"\";\n\twhile (agentIssueGr.next()) {\n\t\tif (listAgentSysIds != '')\n\t\t\tlistAgentSysIds += \",\";\n\t\tlistAgentSysIds += agentIssueGr.getValue(\"mid_server\");\n\t}\n\n\tvar midManage = new MIDServerManage();\n\tvar agentSysId;\n\t\n\tagentGr = new GlideRecord('ecc_agent');\n\tagentGr.addNotNullQuery(\"container_id\");\n\tagentGr.addQuery(\"sys_id\", 'in', listAgentSysIds);\n\tagentGr.addQuery(\"last_refreshed\", \">\", gs.daysAgo(max_retention_days - warn_days));\n\tagentGr.query();\n\tcount = 0;\n\twhile (agentGr.next()) {\n\t\tagentSysId = agentGr.getUniqueValue();\n\t\tmidManage.resolveExistingIssues(agentSysId, issueSource, issueMessage); \n\t\tcount += 1;\n\t}\n\t\n\tif (count > 0) {\n\t\tgs.log(\"Resolved \" + count + \" \" + issueSource + \" issue records\");\n\t}\n\n\t//-----------------------------------------------------\n\t// 3. Create new issue if MID reaches the grace period\n\t//-----------------------------------------------------\n\tagentGr = new GlideRecord('ecc_agent');\n\tagentGr.addNotNullQuery(\"container_id\");\n\tagentGr.addQuery(\"status\", 'Down');\n\tagentGr.addQuery(\"last_refreshed\", \"<=\", gs.daysAgo(max_retention_days - warn_days));\n\tagentGr.query();\n\tcount = 0;\n\twhile (agentGr.next()) {\n\t\tagentSysId = agentGr.getUniqueValue();\n\t\tmidManage.createOrUpdateIssue(agentSysId, issueSource, issueMessage);\n\t\tcount += 1;\n\t}\n\t\n\tif (count > 0) {\n\t\tgs.log(\"Created \" + count + \" \" + issueSource + \" issue records\");\n\t}\n}\n\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/42b8273704f12210559073c06a02f78d","value":"42b8273704f12210559073c06a02f78d"},"condition":"","sys_update_name":"sysauto_script_1e70fdf453032010347cddeeff7b123c","offset_type":"0","name":"Purge Orphaned Containerized MID Servers","max_drift":"","run_period":"","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2024-10-30 20:40:57","sys_class_name":"sysauto_script","sys_id":"1fbfd45a73d1011026f6aa114df6a797","sys_updated_by":"admin","sys_created_on":"2022-01-29 01:13:27","run_start":"2022-01-29 01:06:33","sys_name":"Cleanup Orphan CIs","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"96","active":"false","time_zone":"","script":"function process() {\n    // Start timer\n    var timeStart = new Date();\n    var timeSpent = 0;\n    // Max amount of time we want to process\n    var maxTime = parseInt(gs.getProperty('cmdb.orphan.job.max.runtime', 30 * 60)); // 30 mins\n    var dependentCIHelper = new DependentCIHelper();\n    var jobUtil = new CleanupOrphanJobUtil();\n    // Lower the log setting for CMDB Dependent CI class \n    jobUtil.lowerLogLevel();\n    var rerun = false;\n    var ext = GlideDBObjectManager.get().getAllExtensions('cmdb_ci');\n    for (var x = 0; x < ext.size(); ++x) {\n        var cmdbTable = ext.get(x);\n        if (dependentCIHelper.isDependentClass(cmdbTable)) {\n            //  walk up to top-most dependent parent\n            var tableList = jobUtil.getParents(cmdbTable);\n            for (var y = 0; y < tableList.length - 1; ++y) {\n                var tableParent = tableList[y];\n                var tableGrandParent = tableList[y + 1];\n                if (dependentCIHelper.isDependentClass(tableParent) && !dependentCIHelper.isDependentClass(tableGrandParent)) {\n                    var tableBookmark = jobUtil.getBookmarkForTable(tableParent);\n                    if (!gs.nil(tableBookmark)) {\n                        // parse\n                        var parser = new JSONParser();\n                        tableBookmark = parser.parse(tableBookmark);\n                        if (tableBookmark[jobUtil.MARKER] === jobUtil.FINISHED_STR) {\n                            continue;\n                        }\n                    } else {\n                        tableBookmark = {};\n                    }\n                    rerun = true;\n                    var processResult = processTable(tableParent, timeStart, timeSpent, maxTime, tableBookmark);\n                    timeSpent = processResult['timeSpent'];\n                    // Update bookmark\n                    jobUtil.setBookmarkForTable(tableParent, JSON.stringify(processResult['bookmark']));\n                    if (timeSpent >= maxTime) {\n                        jobUtil.restoreLogLevel();\n                        return;\n                    }\n                }\n            }\n        }\n    } // end for\n    if (!rerun) {\n        // Disable self\n        jobUtil.disableJob();\n    }\n    // Restore log level to original \n    jobUtil.restoreLogLevel();\n}\nfunction processTable(ciTable, timeStart, timeSpent, maxTime, bookmark) {\n    var result = {};\n    var dependentCIHelper = new DependentCIHelper();\n    var jobUtil = new CleanupOrphanJobUtil();\n    var batchSize = parseInt(gs.getProperty('cmdb.orphan.job.query.batchsize', 10000));\n    var start = 0;\n    var end = batchSize;\n    var markerTimeStamp = bookmark[jobUtil.MARKER];\n    var markerSysId = bookmark[jobUtil.MARKER_SYS_ID];\n    // Check if this is the first call to this table, if yes, set total count\n    bookmark = jobUtil.checkAndSetTotalCount(bookmark, ciTable);\n    var orphanCount = jobUtil.getOrphanCount(bookmark);\n    while (timeSpent < maxTime) {\n\t\tvar encodedQuery = getEncodedQuery(markerSysId, markerTimeStamp);\n        var gr = new GlideRecord(ciTable);\n        if (JSUtil.notNil(encodedQuery)) {\n            gr.addEncodedQuery(encodedQuery);\n        }\n        gr.orderBy('sys_updated_on');\n        gr.orderBy('sys_id');\n        gr.chooseWindow(0, batchSize);\n        gr.query();\n        if (!gr.hasNext()) {\n            bookmark[jobUtil.MARKER] = jobUtil.FINISHED_STR;\n            bookmark[jobUtil.ORPHAN_CI_COUNT] = orphanCount;\n            // This has been processed\n            result['bookmark'] = bookmark;\n            timeSpent = getTimeSpent(timeStart, timeSpent);\n            result['timeSpent'] = timeSpent;\n            return result;\n        }\n        while (gr.next()) {\n            var sysId = gr.getUniqueValue();\n            if (SNC.CMDBDataManagerScriptableApis.isOrphanedDependent(sysId)) {\n                dependentCIHelper.addOrphanCIToLedger(sysId);\n                orphanCount++;\n            }\n            markerTimeStamp = gr.getDisplayValue('sys_updated_on');\n            markerSysId = sysId;\n        }\n        timeSpent = getTimeSpent(timeStart, timeSpent);\n    }\n    // update bookmarked value\n    bookmark[jobUtil.MARKER] = markerTimeStamp.toString();\n\tbookmark[jobUtil.MARKER_SYS_ID] = markerSysId;\n    // update orphan count\n    bookmark[jobUtil.ORPHAN_CI_COUNT] = orphanCount;\n    result['bookmark'] = bookmark;\n    result['timeSpent'] = timeSpent;\n    return result;\n}\nfunction getTimeSpent(timeStart, timeSpent) {\n    var timeEnd = new Date();\n    var timeDiff = timeEnd - timeStart; //in ms\n    // strip the ms\n    timeDiff /= 1000;\n    // get seconds \n    var seconds = Math.round(timeDiff);\n    timeSpent = timeSpent + seconds;\n    return timeSpent;\n}\nfunction getEncodedQuery(markerSysId, markerTimeStamp) {\n    if (JSUtil.nil(markerSysId) || JSUtil.nil(markerTimeStamp)) {\n        return null;\n    }\n    var dateTime = markerTimeStamp.split(\" \");\n    if (dateTime.length >= 2) {\n        var date = dateTime[0];\n        var time = dateTime[1];\n        var queryStringForTimeStamp = \"javascript:gs.dateGenerate('\" + date + \"','\" + time + \"')\";\n        var encodedQuery = \"sys_id>\" + markerSysId + \"^sys_updated_on=\" + queryStringForTimeStamp + \"^NQsys_updated_on>\" + queryStringForTimeStamp;\n        return encodedQuery;\n    }\n    return null;\n}\nprocess();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"condition":"gs.getProperty('cmdb.dependent.ci.cascade.op.enabled', 'true') === 'true';","sys_update_name":"sysauto_script_1fbfd45a73d1011026f6aa114df6a797","offset_type":"0","name":"Cleanup Orphan CIs","max_drift":"","run_period":"1970-01-01 03:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2022-10-12 16:53:14","sys_class_name":"sysauto_script","sys_id":"206c86fcc32211100f24c87af040ddf1","sys_updated_by":"admin","sys_created_on":"2022-10-12 16:40:46","run_start":"2022-10-12 16:39:58","sys_name":"Teams user auto syncing","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/53b1b0e79761011018b2fa98c253afcc","value":"53b1b0e79761011018b2fa98c253afcc"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"1","active":"false","time_zone":"","script":"try{\n\tvar job = new sn_oe_sfs.CollabTeamsUserSync(\"4bf5b90ac31211103f4fcd7b7940dd5e\");\n\tjob.sync();\n\n\tvar applicationGr = new GlideRecord('sys_cs_collab_provider_application');\n\t\tapplicationGr.addQuery('provider', \"4bf5b90ac31211103f4fcd7b7940dd5e\");\n\t\tapplicationGr.query();\n\n\tif(applicationGr.next()){\n\t\tvar status = applicationGr.getValue(\"setup_status\");\n\t\tif(status == \"incomplete\") { //updates should onyl be done first time job is run.\n\t\t\tapplicationGr.setValue(\"setup_status\", \"complete\");\n\t\t\tapplicationGr.update(); //update setup_status to \"complete\"\n\n\t\t\tvar settingsGr = new GlideRecord(\"sys_cs_collab_settings\");\n\t\t\tsettingsGr.query();\n\t\t\tif(settingsGr.next()){\n\t\t\t\tsettingsGr.setValue('enable_teams', true);\n\t\t\t\tsettingsGr.update(); //toggle enable_teams in sys_cs_collab_settings;\n\t\t\t} else {throw \"Missing sys_cs_collab_settings record\";}\n\n\t\t\tgs.eventQueue('sidebar.teams.setup.complete', null, gs.getUser().getEmail(), \"\");\n\t\t}\n\t} else {throw \"Missing sys_cs_collab_provider_application record\";}\n\n} catch(error) {\n\tapplicationGr = new GlideRecord('sys_cs_collab_provider_application');\n\tapplicationGr.addQuery('provider', \"4bf5b90ac31211103f4fcd7b7940dd5e\");\n\tapplicationGr.query();\n\tif(applicationGr.next()){\n\t\tapplicationGr.setValue(\"setup_status\", \"error\");\n\t\tapplicationGr.update(); //update setup_status to \"error\"\n\t}\n\n\tgs.eventQueue('sidebar.teams.setup.failure', null, gs.getUser().getEmail(), \"\");\n}\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/53b1b0e79761011018b2fa98c253afcc","value":"53b1b0e79761011018b2fa98c253afcc"},"condition":"","sys_update_name":"sysauto_script_206c86fcc32211100f24c87af040ddf1","offset_type":"0","name":"Teams user auto syncing","max_drift":"","run_period":"1970-01-02 00:00:00","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2021-08-30 12:56:09","sys_class_name":"sysauto_script","sys_id":"21754255db2cf3404cef76231f961956","sys_updated_by":"admin","sys_created_on":"2019-03-31 18:16:31","run_start":"2019-03-31 18:14:13","sys_name":"sm dedup tracker for specific discovery sources","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"rotem.steuer@snc","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"2","active":"true","time_zone":"","script":"var discovery_sources_str = GlideProperties.get('sm.dedup_tracker.discovery_sources');\n\nif (!!discovery_sources_str) {\n\n    var dupUtils = new CMDBDuplicateTaskUtils();\n\n    var discovery_sources_arr = discovery_sources_str.split(\",\");\n    discovery_dict = {};\n\n    for (var indx = 0; indx < discovery_sources_arr.length ; indx++) {\n        discovery_dict[ discovery_sources_arr[indx] ] = 1;\n    }\n    \n    var gr = new GlideRecord(\"application_on_servers\");\n    gr.orderBy(\"hosts_child\");\n    gr.orderBy(\"appl_running_process_command\");\n    gr.orderBy(\"appl_running_process_key_parameters\");\n    gr.orderBy(\"appl_tcp_port\");\n    gr.orderBy(\"appl_discovery_source\");\n         \n    gr.query();\n\n    var prevRunningProcessCommand       = '';\n    var prevRunningProcessKeyParameters = '';\n    var prevDiscoverySource             = '';\n    var prevTcpPort                     = '';\n    var prevClass                       = '';\n    var prevHost                        = '';\n    var prevSysId                       = '';\n    \n    \n    var currRunningProcessCommand       = '';\n    var currRunningProcessKeyParameters = '';\n    var currDiscoverySource             = '';\n    var currTcpPort                     = '';\n    var currClass                       = '';\n    var currHost                        = '';\n    var currSysId                       = '';\n    \n    \n    while(gr.next())\n    {\n        //update current iteration variables\n        currRunningProcessCommand       = gr.getValue(\"appl_running_process_command\");\n        currRunningProcessKeyParameters = gr.getValue(\"appl_running_process_key_parameters\");\n        currDiscoverySource             = gr.getValue(\"appl_discovery_source\");\n        currTcpPort                     = gr.getValue(\"appl_tcp_port\");\n        currClass                       = gr.getValue(\"appl_sys_class_name\");\n        currHost                        = gr.getValue(\"hosts_child\");\n        currSysId                       = gr.getValue(\"appl_sys_id\");\n\n        var dupStr = currSysId;\n        dupStr = dupStr + \",\";\n        dupStr = dupStr + prevSysId;\n\n        var sources = currDiscoverySource;\n        sources = sources + \",\";\n        sources = sources + prevDiscoverySource;\n    \n        if(isSameValue(currHost,prevHost)) {\n            var sameProcess =  isSameValue(currRunningProcessCommand,prevRunningProcessCommand) && isSameValue(currRunningProcessKeyParameters,prevRunningProcessKeyParameters) ;\n            var sameTcpPort =  isSameValue(currTcpPort,prevTcpPort);\n    \n            var dupCandidate = sameProcess || sameTcpPort;\n    \n            if ( dupCandidate && (currClass === \"cmdb_ci_appl\" || prevClass === \"cmdb_ci_appl\" ) ) {\n                gs.log(\"trivial duplication found - candidate to report to CMDB de-dup mechanism\");\n\n                if( discovery_dict[currDiscoverySource] != undefined || discovery_dict[prevDiscoverySource] != undefined ) {\n                    gs.info(\"matching duplication (\" + dupStr + \") that may be reported for tracked discovery source (\" + sources + \")\");\n                    dupUtils.createDuplicateTask(dupStr);\n                }else {\n                    gs.warn(\"matching duplication (\" + dupStr + \") that WILL NOT be reported since NO tracked discovery source (\" + sources + \")\");\n                }\n\n\n            }else {\n                gs.log(\"non trivial duplication found cannot report to cmdb since duplication source is not known\");\n            }\n        }\n    \n    \n        gs.log(gr.getValue(\"appl_name\") + \" : \" + currRunningProcessCommand + \" : \" + currRunningProcessKeyParameters + \" : \" + currDiscoverySource + \" : \" + currTcpPort + \" : \" + currClass + \" : \" + currHost + \" : \" + currSysId);\n    \n        //update next iteration previous values\n        prevRunningProcessCommand       = currRunningProcessCommand;\n        prevRunningProcessKeyParameters = currRunningProcessKeyParameters;\n        prevDiscoverySource             = currDiscoverySource;\n        prevTcpPort                     = currTcpPort;\n        prevClass                       = currClass;\n        prevHost                        = currHost;\n        prevSysId                       = currSysId;\n    \n    \n    }\n\n}\n\n//Utility macro to validate prev and current value exist and are equal\nfunction isSameValue(prev,curr) {\n    return (!!prev && !!curr && prev === curr);\n}\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"condition":"var discovery_sources_str = GlideProperties.get('sm.dedup_tracker.discovery_sources');\nvar numRows = 0;\n\nif (!!discovery_sources_str) {\n\tgs.log(\"quering for dedup tracked discovery sources\");\n\tvar gr = new GlideRecord(\"cmdb_ci_appl\");\n\tgr.addQuery(\"discovery_sources\",discovery_sources_str);\n\tgr.query();\n\tnumRows = gr.getRowCount();\n\tgs.log(\"found \" + numRows + \" rows\");\n}\n\n!!discovery_sources_str && numRows > 0;\n","sys_update_name":"sysauto_script_21754255db2cf3404cef76231f961956","offset_type":"","name":"sm dedup tracker for specific discovery sources","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2016-01-12 18:52:05","sys_class_name":"sysauto_script","sys_id":"22b6bb03d700310092610eca5e610393","sys_updated_by":"admin","sys_created_on":"2014-11-02 23:12:34","run_start":"2014-11-02 22:57:50","sys_name":"Check Scoped App Author Config Changes","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/893ea311d71321004f6a0eca5e6103e6","value":"893ea311d71321004f6a0eca5e6103e6"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"1","active":"true","time_zone":"","script":"var configCheckerConfig = new sn_appauthor.ScheduledJobsController().getConfig(\"configChecker\");\nif(configCheckerConfig.isEnabled) {\n  var dt = new GlideDateTime();\n  var rand = getRandomIntInclusive(configCheckerConfig.startTime, configCheckerConfig.endTime);\n  dt.addSeconds(rand);\n\n  gs.info(\"Process in \" + rand + \" minutes\");\n  gs.eventQueueScheduled(\"sn_appauthor.check.config.update\",\"\",\"\",\"\", dt);\n}\nfunction getRandomIntInclusive(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/893ea311d71321004f6a0eca5e6103e6","value":"893ea311d71321004f6a0eca5e6103e6"},"condition":"","sys_update_name":"sysauto_script_22b6bb03d700310092610eca5e610393","offset_type":"0","name":"Check Scoped App Author Config Changes","max_drift":"","run_period":"","sys_policy":"read"},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2024-04-27 02:23:47","sys_class_name":"sysauto_script","sys_id":"22ed16f1a3310210514ea0d3041e619b","sys_updated_by":"admin","sys_created_on":"2024-04-27 02:22:46","run_start":"2024-04-27 02:16:53","sys_name":"Code Signing Telemetry Log Processor","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"1","active":"true","time_zone":"","script":"var tapi = new sn_cs_ns.TelemetryAPI();\ntapi.processQueue();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ffcd2b3304752210559073c06a02f779","value":"ffcd2b3304752210559073c06a02f779"},"condition":"","sys_update_name":"sysauto_script_22ed16f1a3310210514ea0d3041e619b","offset_type":"0","name":"Code Signing Telemetry Log Processor","max_drift":"","run_period":"1970-01-01 00:10:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2015-12-07 19:36:14","sys_class_name":"sysauto_script","sys_id":"22f283f3cb001200cab07f1b734c9c12","sys_updated_by":"admin","sys_created_on":"2015-12-07 19:29:49","run_start":"2015-12-07 19:29:28","sys_name":"CMDB Health Dashboard - Relationship Score Calculation","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 11:00:00","sys_mod_count":"2","active":"false","time_zone":"","script":" SNC.MetricProcessorScript.relationProcessor();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_22f283f3cb001200cab07f1b734c9c12","offset_type":"0","name":"CMDB Health Dashboard - Relationship Score Calculation","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:01:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"monthly","sys_updated_on":"2022-01-11 10:17:34","sys_class_name":"promin_job","sys_id":"23491160c3010110acfce1018d40ddc5","sys_updated_by":"admin","sys_created_on":"2022-01-11 08:33:43","run_start":"2022-01-11 08:33:00","sys_name":"Monthly Job","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 00:01:00","sys_mod_count":"1","active":"true","time_zone":"floating","script":"try {\n\tSNC.ProcessOptimization.executeScheduledJob(current.getUniqueValue());\n}catch (error){\n\tgs.error(error.getMessage());\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aa76333f04b52210559073c06a02f764","value":"aa76333f04b52210559073c06a02f764"},"condition":"","sys_update_name":"promin_job_23491160c3010110acfce1018d40ddc5","offset_type":"","name":"Monthly Job","max_drift":"","run_period":"","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"","run_as_tz":"","run_as":"","run_type":"periodically","sys_updated_on":"2023-10-20 11:02:36","sys_class_name":"sysauto_script","sys_id":"23c59485e72132002d5084f903f6a956","sys_updated_by":"admin","sys_created_on":"2017-03-15 00:15:04","run_start":"2017-03-14 23:46:04","sys_name":"Embedded Help Trigger","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"naitik.doshi","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"38","active":"true","time_zone":"","script":"// the code below tries to download the content again if for any reason the legacy help failed to download on system.upgrade.\n\nvar buildInitial = gs.getProperty(\"glide.buildname\").substring(0,1).toLowerCase();\n// This would be null on zboot, because this property is being set whenever a successful download goes through.\nvar lastDownloadedContent = gs.getProperty(\"com.glide.embedded_help.last_downloaded_content_family\");\n\nif (!lastDownloadedContent || lastDownloadedContent != buildInitial) {\n\tnew SNC.EmbeddedHelpContentDownloader().downloadContents(buildInitial);\n} else {\n\tvar activeLangIds = new SNHelpUtil().getActiveLanguageIDs();\n\tvar downloadedContentLang = gs.getProperty(\"com.glide.embedded_help.downloaded_content_language\", \"\");\n\tvar downloadedContentLangArr = downloadedContentLang && downloadedContentLang.split(\",\");\n\tvar newLanguageFound = activeLangIds.length > downloadedContentLangArr.length;\n\tvar triggerSync = true;\n\tif (newLanguageFound) {\n\t\tfor(var i = 0; i < activeLangIds.length; i++) {\n\t\t\tif (downloadedContentLang.indexOf(activeLangIds[i]) < 0 && new SNHelpUtil().isLegacyHelpAvailableForLang(activeLangIds[i], buildInitial)) {\n\t\t\t\tnew SNC.EmbeddedHelpContentDownloader().downloadContents(buildInitial);\n\t\t\t\ttriggerSync = false;\n\t\t\t}\n\t\t}\n\t}\n\n\tif(triggerSync)\n\t\tnew SNC.EmbeddedHelpTrigger().triggerEmbeddedHelpSynchronizer(current.run_period);\n}\n\n\n\n// Synchronise Seismic Embedded Help content\nnew SNHelpUtil().syncSeismicHelp();\n\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bb2b677304352210559073c06a02f70b","value":"bb2b677304352210559073c06a02f70b"},"condition":"SNC.EmbeddedHelpUtil.canSyncWithCDN();","sys_update_name":"sysauto_script_23c59485e72132002d5084f903f6a956","offset_type":"0","name":"Embedded Help Trigger","max_drift":"","run_period":"1970-01-08 00:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2023-01-30 19:49:03","sys_class_name":"sysauto_script","sys_id":"25261d54ebf021100cd8d3e6475228e2","sys_updated_by":"admin","sys_created_on":"2023-01-30 19:49:03","run_start":"2023-01-30 19:47:20","sys_name":"Enable search-based suggestions","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3c467b5f0bf130109e0fa4e6e9c4c946","value":"3c467b5f0bf130109e0fa4e6e9c4c946"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 05:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"enableSearchBasedSuggestions();\n\n/**\n * Enable OOTB Search-Based and User History suggestion reader groups for AIS Next Experience (global) search which are supported from Tokyo\n * and disable existing Suggestion Query and Suggested Result reader groups.\n */\nfunction enableSearchBasedSuggestions() {\n    var oldReaderGroupGR = new GlideRecord('sys_suggestion_reader_group');\n    oldReaderGroupGR.addEncodedQuery('context_config_id=6ebf8fe1531201107f03ddeeff7b122b^sys_idIN72bf8fe1531201107f03ddeeff7b1235,febf8fe1531201107f03ddeeff7b123a'); //Suggestion Query and suggested result reader groups IDs\n    oldReaderGroupGR.query();\n    while (oldReaderGroupGR.next()) {\n        oldReaderGroupGR.setValue('context_config_id', ''); //Remove from [AIS] Next Experience search application\n        oldReaderGroupGR.setWorkflow(false);\n        oldReaderGroupGR.update();\n    }\n\n    var newReaderGroupGR = new GlideRecord('sys_suggestion_reader_group');\n    newReaderGroupGR.addEncodedQuery('context_config_id=NULL^sys_idIN3155a41ceb3021100cd8d3e6475228b0,83721d8feb2021100cd8d3e64752289d'); //User History and Search based suggestion reader groups IDs\n    newReaderGroupGR.query();\n    while (newReaderGroupGR.next()) {\n        newReaderGroupGR.setValue('context_config_id', '6ebf8fe1531201107f03ddeeff7b122b'); //Add to [AIS] Next Experience search application\n        newReaderGroupGR.setWorkflow(false);\n        newReaderGroupGR.update();\n    }\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3c467b5f0bf130109e0fa4e6e9c4c946","value":"3c467b5f0bf130109e0fa4e6e9c4c946"},"condition":"","sys_update_name":"sysauto_script_25261d54ebf021100cd8d3e6475228e2","offset_type":"0","name":"Enable search-based suggestions","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2024-06-03 16:33:32","sys_class_name":"sysauto_script","sys_id":"25444c8aeb2602108038b5d5d852287e","sys_updated_by":"admin","sys_created_on":"2024-06-03 16:33:32","run_start":"2024-06-03 16:31:10","sys_name":"CMDB Workspace App Svcs Cloud Classification Batch Job","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"var util = new sn_cmdb_ws.CMDBWsInsightUtil();\nutil.processApplicationServices();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"condition":"","sys_update_name":"sysauto_script_25444c8aeb2602108038b5d5d852287e","offset_type":"0","name":"CMDB Workspace App Svcs Cloud Classification Batch Job","max_drift":"","run_period":"1970-01-01 00:01:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2023-12-01 15:46:10","sys_class_name":"sysauto_script","sys_id":"254dc2b1c31111104ef3c31b7940dd4d","sys_updated_by":"admin","sys_created_on":"2022-08-14 15:59:19","run_start":"2020-11-11 21:22:56","sys_name":"CMDB DataSource History Cleanup","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:45:00","sys_mod_count":"6","active":"true","time_zone":"","script":"// If the CI (cmdb or non_cmdb) is no longer available then delete\n// the datasource history record.Cloning of this job will not help with faster cleanup(DO NOT CLONE).\n\nvar limitPropertyName = 'glide.cmdb.cmdb_datasource_last_update_cleanup';\nvar tableToClean = 'cmdb_datasource_last_update';\nvar targetColumnName = 'cmdb_ci';\nvar targetColumnTable = 'class';\nvar jobContextName = 'cmdbDataSourceLastUpdateCleanUpIterationSysId';\nvar cmdbTableCleanup = new CMDBTableCleanup(limitPropertyName, tableToClean,\n  targetColumnName, targetColumnTable, jobContextName);\ncmdbTableCleanup.cleanRecords();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_254dc2b1c31111104ef3c31b7940dd4d","offset_type":"0","name":"CMDB DataSource History Cleanup","max_drift":"","run_period":"1970-01-01 00:10:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 01:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/maint","value":"maint"},"run_type":"periodically","sys_updated_on":"2025-04-11 21:49:51","sys_class_name":"sysauto_script","sys_id":"2626d00a430202107e1e1daa5ab8f23c","sys_updated_by":"admin","sys_created_on":"2024-05-09 21:24:40","run_start":"2024-05-09 21:17:56","sys_name":"Hermes Diagnostics Check","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"maint","upgrade_safe":"false","offset":"","run_time":"1970-01-01 01:00:00","sys_mod_count":"15","active":"true","time_zone":"floating","script":"if (new sn_hermes.HermesUtil().isEnabled()) {\n    try {\n        //test ipki\n        new sn_hermes.HermesUtil().getIPKIComponentStatus();\n        //test send/receive for services\n        new sn_hermes.HermesUtil().runServiceDiagnostics();\n    } catch (e) {\n        gs.log(\"Hermes Diagnostics Check: \" + e.getMessage());\n    }\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/03d4abbf04312210559073c06a02f7f9","value":"03d4abbf04312210559073c06a02f7f9"},"condition":"","sys_update_name":"sysauto_script_2626d00a430202107e1e1daa5ab8f23c","offset_type":"0","name":"Hermes Diagnostics Check","max_drift":"1970-01-01 00:10:00","run_period":"1970-01-01 01:00:00","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2019-05-29 18:57:13","sys_class_name":"sysauto_script","sys_id":"27ad23880fa933005203cbb2ff767eab","sys_updated_by":"admin","sys_created_on":"2019-05-16 21:39:56","run_start":"2019-05-15 17:59:05","sys_name":"Populate Suggestions to avoid Cold Start - Portals","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"34","active":"false","time_zone":"","script":"gs.info(\"Data Import started\");\n\nvar portals = [\"Service Portal\"];\nvar searchLogTable = \"text_search\";\nvar maxLogEntries = 500000;\n\nvar portalSysIds = this.getPortalSysIds(portals);\nvar builder = new BuildSuggestionsFromLogTable(maxLogEntries);\n\nfor (var i = 0; i < this.portalSysIds.length; i++) {\n    var searchSourceIds = this.getSearchSourceIds(this.portalSysIds[i]);\n    var searchSources = this.getSearchSources(searchSourceIds);\n\n    builder.buildPortalSuggestions(this.portalSysIds[i], this.searchLogTable, searchSources, searchSourceIds);\n}\n\ngs.setProperty('glide.search.suggestions.runcoldstartscript.portals', 'false');\n\n/** Helper Methods **/\nfunction getPortalSysIds(portals) {\n    var portalSysIds = [];\n    var gr = new GlideRecord(\"sp_portal\");\n    gr.addQuery('title', 'IN', portals);\n    gr.query();\n\n    while (gr.next() && gr.getValue('sys_id') != null) {\n        portalSysIds.push(gr.getValue('sys_id'));\n    }\n    return portalSysIds;\n}\n\nfunction getSearchSourceIds(portalSysId) {\n    var searchSourceIds = [];\n    var portalGr = new GlideRecord('m2m_sp_portal_search_source');\n    portalGr.addQuery('sp_portal', portalSysId);\n    portalGr.query();\n\n    while (portalGr.next()) {\n        searchSourceIds.push(portalGr.getValue('sp_search_source') + \"\");\n    }\n\n    return searchSourceIds;\n}\n\nfunction getSearchSources(searchSourceIds) {\n    var searchSources = [];\n\n    var searchGr = new GlideRecord('sp_search_source');\n    searchGr.addQuery('sys_id', \"IN\", searchSourceIds);\n    searchGr.query();\n\n    while (searchGr.next()) {\n        if (searchGr.getValue(\"source_table\") == null) {\n            if (searchGr.getValue(\"id\") == \"kb\")\n                searchSources.push(\"kb_knowledge\");\n            else if (searchGr.getValue(\"id\") == \"qa\")\n                searchSources.push(\"kb_social_qa_question\");\n            else if (searchGr.getValue(\"id\") == \"sc\")\n                searchSources.push(\"sc_cat_item\");\n        } else\n            searchSources.push(searchGr.getValue(\"source_table\") + \"\");\n    }\n    return searchSources;\n}\n\ngs.info(\"Data Import ended\");","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0e99ab7b04f12210559073c06a02f745","value":"0e99ab7b04f12210559073c06a02f745"},"condition":"var pluginQuery = new GlidePluginManager();\n!pluginQuery.isActive('com.glide.domain') && gs.getProperty('glide.search.suggestions.runcoldstartscript.portals');","sys_update_name":"sysauto_script_27ad23880fa933005203cbb2ff767eab","offset_type":"0","name":"Populate Suggestions to avoid Cold Start - Portals","max_drift":"","run_period":"","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2023-09-21 20:57:45","sys_class_name":"sysauto_script","sys_id":"2896d5af53d5b1109de5ddeeff7b1280","sys_updated_by":"admin","sys_created_on":"2023-09-21 14:55:31","run_start":"2023-09-21 14:51:59","sys_name":"Sync Password Reset Soft PIN Expiration Time","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"0","active":"true","time_zone":"","script":"// This script will sync the expiration time of all active softpins with tha current expiration days property.\n// To set the password_reset.softpin.expiration_days\n// System Property - password_reset.softpin.expiration_days\nnew SoftPINExpiration().syncSoftPinExpirationTime();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/421beb3304352210559073c06a02f7ef","value":"421beb3304352210559073c06a02f7ef"},"condition":"new SNC.PwdSoftPINManager().isPinExpirationEnabled();","sys_update_name":"sysauto_script_2896d5af53d5b1109de5ddeeff7b1280","offset_type":"0","name":"Sync Password Reset Soft PIN Expiration Time","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2018-01-24 12:00:36","sys_class_name":"sysauto_script","sys_id":"29a8ae1f87320300b38c0f4c59cb0bc6","sys_updated_by":"admin","sys_created_on":"2017-12-08 10:01:46","run_start":"2017-12-08 09:43:37","sys_name":"GTD Analytics Tour Abandonment","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"5","active":"true","time_zone":"","script":"/* Updates the status of all tours which are in_transit for more than 10 minutes to abandoned*/\nvar analyticsTable = 'sys_guided_tour_analytics';\nvar thresholdInMinutes = 10;\nvar gr = new GlideRecord(analyticsTable);\ngr.addQuery('last_status', '=', 'in_transit');\ngr.addQuery('sys_updated_on', '<=', gs.minutesAgo(thresholdInMinutes));\ngr.query();\nwhile(gr.next()) {\n   gr.last_status = 'abandoned';\n\tgr.reason = 'unknown'; //Either user has closed window or navigated to a different domain\n   gr.update();\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/183b677304352210559073c06a02f7e1","value":"183b677304352210559073c06a02f7e1"},"condition":"","sys_update_name":"sysauto_script_29a8ae1f87320300b38c0f4c59cb0bc6","offset_type":"0","name":"GTD Analytics Tour Abandonment","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2022-04-07 10:31:00","sys_class_name":"sysauto_script","sys_id":"2a2b0150532310109686ddeeff7b121f","sys_updated_by":"admin","sys_created_on":"2020-09-25 07:18:15","run_start":"2020-09-25 06:56:16","sys_name":"Expire Actionable Notifications","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 19:30:00","sys_mod_count":"6","active":"true","time_zone":"","script":"var idle_timeout =  new GlideBoundedIntProperty(\"com.glide.cs.idle_actionable_notification_timer\",8, 1, 72);\n\n\nvar gr = new GlideRecord(\"sys_cs_notification\");\ngr.addQuery(\"actionable_notification\", true);\ngr.addQuery(\"state\", \"IN\", [\"pending\", \"sent\"]);\ngr.addQuery('sys_updated_on', '<=' , gs.hoursAgo(idle_timeout));\ngr.query();\n\ngr.setValue(\"state\", \"expired\");\ngr.updateMultiple();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9cc37b3704b52210559073c06a02f78f","value":"9cc37b3704b52210559073c06a02f78f"},"condition":"","sys_update_name":"sysauto_script_2a2b0150532310109686ddeeff7b121f","offset_type":"","name":"Expire Actionable Notifications","max_drift":"","run_period":"1970-01-01 01:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":"","run_type":"periodically","sys_updated_on":"2024-02-23 19:09:47","sys_class_name":"sysauto_script","sys_id":"2a647867531320103296ddeeff7b1217","sys_updated_by":"admin","sys_created_on":"2021-04-09 17:35:05","run_start":"2021-04-09 17:32:34","sys_name":"Expire Guest Session Identifier","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"7","active":"true","time_zone":"","script":"if (GlideTableDescriptor.fieldExists('sys_cs_session_binding', 'last_client_activity_time') && GlideTableDescriptor.fieldExists('sys_cs_consumer', 'inactive')) {\n\tvar sessionBindingGR = new GlideRecord('sys_cs_session_binding');\n\tvar guestSessionTimeout = gs.getProperty(\"glide.guest.session_timeout\", 30);\n\tvar timeoutGuestSessionIdThreshold = new GlideDateTime();\n\ttimeoutGuestSessionIdThreshold.addSeconds(-guestSessionTimeout * 60);\n\t\n\t// Only honor guest session timeout if it is positive\n\tif(guestSessionTimeout > 0) {\n\t\tsessionBindingGR.addQuery('guest', true);\n\t\tsessionBindingGR.addNotNullQuery('last_client_activity_time');\n\t\tsessionBindingGR.addQuery('last_client_activity_time', '<', timeoutGuestSessionIdThreshold.getValue());\n\t\tsessionBindingGR.orderByDesc('last_client_activity_time');\n\t\tsessionBindingGR.setLimit(1000);\n\t\tsessionBindingGR.query();\n\t\n\t\twhile (sessionBindingGR.next()) {\n\t\t\t// These guest session bindings have been processed, so remove last client activity time\n\t\t\t// so that they do not get processed again\n\t\t\tsessionBindingGR.setValue('last_client_activity_time', '');\n\t\t\tsessionBindingGR.update();\n\t\t\t\n\t\t\tvar interactionGR = new GlideRecord('interaction');\n\t\t\tinteractionGR.addQuery('channel_metadata_document', sessionBindingGR.topic);\n\t\t\t// Only want to expire consumers for chat type channels \n\t\t\tinteractionGR.addQuery('type', '!=', 'messaging');\n\t\t\tinteractionGR.query();\n\t\t\t\n\t\t\tif (interactionGR.next()) {\n\t\t\t\tvar consumerGR = new GlideRecord('sys_cs_consumer');\n\t\t\t\tconsumerGR.addQuery('sys_id', sessionBindingGR.session.consumer);\n\t\t\t\tconsumerGR.addQuery('inactive', false);\n\t\t\t\tconsumerGR.query();\n\t\t\t\n\t\t\t\tif (consumerGR.next()) {\n\t\t\t\t\t// Mark the consumer associated with guest session identifier as inactive\n\t\t\t\t\tconsumerGR.setValue('inactive', true);\n\n\t\t\t\t\t// disable the cache flush before updating the record as with some customers every user is a\n\t\t\t\t\t// guest user and so this update is causing a lot of flushes on consumer cache resulting\n\t\t\t\t\t// in performance issues\n\t\t\t\t\tvar oldIgnoreFlushValue = GlideSession.get().setCacheIgnoreFlushTable('sys_cs_consumer');\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconsumerGR.update();\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tGlideSession.get().setCacheIgnoreFlushTable(oldIgnoreFlushValue);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"condition":"","sys_update_name":"sysauto_script_2a647867531320103296ddeeff7b1217","offset_type":"","name":"Expire Guest Session Identifier","max_drift":"","run_period":"1970-01-01 00:02:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2024-02-14 13:30:21","sys_class_name":"sysauto_script","sys_id":"2aa1b2de5f9ab110b0fd4b64fb731339","sys_updated_by":"admin","sys_created_on":"2023-11-06 18:00:54","run_start":"2023-11-06 17:20:22","sys_name":"Populate navigator menu global caches","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 05:00:00","sys_mod_count":"1","active":"true","time_zone":"","script":"// Touch the global menu caches to make sure they are populated\nSNC.NavigatorScriptableUtil.getNavigatorMenuAndFavorites();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0a442f7b04312210559073c06a02f799","value":"0a442f7b04312210559073c06a02f799"},"condition":"","sys_update_name":"sysauto_script_2aa1b2de5f9ab110b0fd4b64fb731339","offset_type":"0","name":"Populate navigator menu secondary caches","max_drift":"","run_period":"1970-01-01 00:03:00","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"once","sys_updated_on":"2024-10-17 12:22:44","sys_class_name":"sysauto_script","sys_id":"2aff3b3f772321106b84a81f7f5a99d0","sys_updated_by":"admin","sys_created_on":"2023-08-14 22:56:18","run_start":"2023-06-27 22:00:44","sys_name":"Enable ServiceNow Root of Trust ","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/eae404d3c31320101109046f5e40dd41","value":"eae404d3c31320101109046f5e40dd41"},"run_dayofweek":"1","sys_created_by":"maint","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"7","active":"true","time_zone":"","script":"var codeSigningAPI = new sn_cs_ns.CodeSigningAPI();\nvar jobRes = codeSigningAPI.enableServiceNowRootOfTrust();\nvar jobResJSON;\ntry {\n    jobResJSON = JSON.parse(jobRes);\n} catch (error) {\n    jobResJSON = {};\n}\nif (jobResJSON.succeeded)\n    gs.info(\"CodeSigning RoT transfer: Successfully enabled Servicenow Root of Trust\");\nelse\n    gs.error(\"CodeSigning RoT transfer: Failed to enable Servicenow Root of Trust\");\n\tgs.addErrorMessage(jobResJSON.error_message);","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/eae404d3c31320101109046f5e40dd41","value":"eae404d3c31320101109046f5e40dd41"},"condition":"current.active;","sys_update_name":"sysauto_script_2aff3b3f772321106b84a81f7f5a99d0","offset_type":"0","name":"Enable ServiceNow Root of Trust ","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2016-07-26 09:42:30","sys_class_name":"sysauto_script","sys_id":"2ca0e7d2c3302200b6dcdfdc64d3aee8","sys_updated_by":"admin","sys_created_on":"2016-07-26 09:41:27","run_start":"2016-07-26 08:46:24","sys_name":"Clean Rota Response Cache","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 00:00:00","sys_mod_count":"1","active":"true","time_zone":"","script":"new OCRotaICalendar().cleanExpiredCache();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"condition":"","sys_update_name":"sysauto_script_2ca0e7d2c3302200b6dcdfdc64d3aee8","offset_type":"","name":"Clean Rota Response Cache","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"weekly","sys_updated_on":"2022-08-11 06:29:28","sys_class_name":"sysauto_script","sys_id":"2daff9e8eb9551103d6b2ff2a252289b","sys_updated_by":"admin","sys_created_on":"2022-08-10 17:49:37","run_start":"2022-08-10 17:47:22","sys_name":"Surface New Unconnected Content of Categories","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"7","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 00:00:00","sys_mod_count":"4","active":"true","time_zone":"floating","script":"new global.TopicCategoryContentSurfacingUtil().surfaceNewContent();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/92ed237304752210559073c06a02f7a0","value":"92ed237304752210559073c06a02f7a0"},"condition":"","sys_update_name":"sysauto_script_2daff9e8eb9551103d6b2ff2a252289b","offset_type":"0","name":"Surface New Unconnected Content of Categories","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2016-03-04 02:15:04","sys_class_name":"sysauto_script","sys_id":"2dc12040670212007de1bcb532415ad3","sys_updated_by":"admin","sys_created_on":"2016-03-04 02:15:04","run_start":"2016-03-04 02:13:30","sys_name":"Clean Expired Rollback Contexts","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 12:02:00","sys_mod_count":"0","active":"true","time_zone":"","script":"new GlideRollbackReaper().reap();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c836bb304312210559073c06a02f7b5","value":"8c836bb304312210559073c06a02f7b5"},"condition":"","sys_update_name":"sysauto_script_2dc12040670212007de1bcb532415ad3","offset_type":"0","name":"Clean Expired Rollback Contexts","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2017-07-05 16:51:08","sys_class_name":"sysauto_script","sys_id":"2e22b051cbbf3200cab07f1b734c9cb8","sys_updated_by":"admin","sys_created_on":"2017-07-05 16:49:43","run_start":"2016-06-21 19:30:00","sys_name":"CMDB Query Builder query results clean up","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:30:00","sys_mod_count":"1","active":"true","time_zone":"","script":"SNC.QueryBuilderTableCleanScript.cleanAllQBResultTables();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_2e22b051cbbf3200cab07f1b734c9cb8","offset_type":"0","name":"CMDB Query Builder query results clean up","max_drift":"","run_period":"1970-01-01 00:30:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":"","run_type":"periodically","sys_updated_on":"2023-10-06 22:00:14","sys_class_name":"sysauto_script","sys_id":"2fade78d771931103bce067f5b5a99b3","sys_updated_by":"admin","sys_created_on":"2023-09-14 07:28:42","run_start":"2023-09-14 07:27:23","sys_name":"De-duplication: Populate Template Suggested and Orphan Tasks","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 09:00:00","sys_mod_count":"6","active":"true","time_zone":"","script":"new DedupeTemplateSuggestedTaskUtil().populateSuggestedTasks();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"condition":"","sys_update_name":"sysauto_script_2fade78d771931103bce067f5b5a99b3","offset_type":"0","name":"De-duplication: Populate Template Suggested and Orphan Tasks","max_drift":"","run_period":"1970-01-01 01:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2025-02-04 22:15:06","sys_class_name":"sysauto_script","sys_id":"305bdd3b776131103b00d86bba5a9954","sys_updated_by":"admin","sys_created_on":"2023-10-04 20:08:44","run_start":"2023-10-04 20:06:56","sys_name":"Purge Orphan Attachments","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 05:00:03","sys_mod_count":"3","active":"false","time_zone":"","script":"var scPurge = new PurgeOrphanAttachments();\nscPurge.purgeAttachments();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e825af3304712210559073c06a02f736","value":"e825af3304712210559073c06a02f736"},"condition":"","sys_update_name":"sysauto_script_305bdd3b776131103b00d86bba5a9954","offset_type":"0","name":"Purge Orphan Attachments","max_drift":"1970-01-01 00:30:00","run_period":"1970-01-01 04:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2019-01-31 21:11:35","sys_class_name":"sysauto_script","sys_id":"30e7b69287132300f917e55936cb0bf4","sys_updated_by":"admin","sys_created_on":"2019-01-31 21:11:06","run_start":"2019-01-31 21:09:57","sys_name":"Build search suggestions","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"1","active":"true","time_zone":"","script":"var service = new SearchSuggestionService();\nservice.build();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0e99ab7b04f12210559073c06a02f745","value":"0e99ab7b04f12210559073c06a02f745"},"condition":"","sys_update_name":"sysauto_script_30e7b69287132300f917e55936cb0bf4","offset_type":"0","name":"Build Search Suggestions","max_drift":"","run_period":"","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2021-09-09 19:44:18","sys_class_name":"sysauto_script","sys_id":"314f3de4c33130109e777d127840dd63","sys_updated_by":"admin","sys_created_on":"2021-08-02 22:00:52","run_start":"2021-08-02 21:54:51","sys_name":"Clear UX Banner Announcement Cache","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:30:00","sys_mod_count":"1","active":"true","time_zone":"","script":"var gcm = new GlideCacheManager();\ngcm.flush(\"ANNOUNCEMENT_CACHE\");","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f218e73304f12210559073c06a02f7ba","value":"f218e73304f12210559073c06a02f7ba"},"condition":"var pluginId = \"com.snc.banner_announcements\";\nvar pMgr = new GlidePluginManager();\npMgr.isActive(pluginId);","sys_update_name":"sysauto_script_314f3de4c33130109e777d127840dd63","offset_type":"0","name":"Clear UX Banner Announcement Cache","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2024-03-28 19:10:00","sys_class_name":"sysauto_script","sys_id":"31d52b94431102103ca9a661c9b8f212","sys_updated_by":"admin","sys_created_on":"2024-03-28 19:10:00","run_start":"2024-03-28 19:08:49","sys_name":"Enable Email Address Internationalization","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"0","active":"true","time_zone":"","script":"var gr = new GlideRecordSecure(\"sys_email_account\");\ngr.addEncodedQuery(\"type=smtp^active=true\");\ngr.query();\nwhile(gr.next()){\n\tvar isSMTPUTF8Supported = new SNC.SMTPUTF8Support().detectUTF8(gr);\n\tif(isSMTPUTF8Supported){\n\t\tvar property = new GlideRecord(\"sys_properties\");\n\t\tproperty.addQuery(\"name\",\"glide.email_address.rfc6530.enabled\");\n\t\tproperty.query();\n\t\tif(property.next()){\n\t\t\tproperty.value = true;\n\t\t\tproperty.update();\n\t\t}\n\t}\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ecf3a7b704312210559073c06a02f7c3","value":"ecf3a7b704312210559073c06a02f7c3"},"condition":"","sys_update_name":"sysauto_script_31d52b94431102103ca9a661c9b8f212","offset_type":"0","name":"Enable Email Address Internationalization","max_drift":"","run_period":"","sys_policy":"read"},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2023-09-15 06:14:07","sys_class_name":"sysauto_script","sys_id":"3517e93fa3210110e355f99246fcdaa4","sys_updated_by":"admin","sys_created_on":"2022-02-15 08:25:10","run_start":"2022-02-15 08:24:52","sys_name":"Decision Table Multi Result Cleaner","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/13aa96a16bcefa78b16cc99ed9e4f1f4","value":"13aa96a16bcefa78b16cc99ed9e4f1f4"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 00:00:00","sys_mod_count":"2","active":"true","time_zone":"floating","script":"new sn_dt.DecisionTableAPI().deleteStaleMultipleAnswerRecords();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/13aa96a16bcefa78b16cc99ed9e4f1f4","value":"13aa96a16bcefa78b16cc99ed9e4f1f4"},"condition":"","sys_update_name":"sysauto_script_3517e93fa3210110e355f99246fcdaa4","offset_type":"0","name":"Decision Table Multi Result Cleaner","max_drift":"","run_period":"1970-03-02 00:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2022-03-24 05:41:22","sys_class_name":"sysauto_script","sys_id":"354edc12c32210102c5b4e483c40ddae","sys_updated_by":"admin","sys_created_on":"2020-08-12 15:46:44","run_start":"2020-08-12 15:45:13","sys_name":"Poll LB For Certificate Status","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"5","active":"true","time_zone":"","script":"var glideCACertificateUploader = new SNC.GlideCACertificateUploader();\nglideCACertificateUploader.pollQueuedCertificates();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/756c2b3b04352210559073c06a02f7fb","value":"756c2b3b04352210559073c06a02f7fb"},"condition":"","sys_update_name":"sysauto_script_354edc12c32210102c5b4e483c40ddae","offset_type":"","name":"Poll LB For Certificate Status","max_drift":"","run_period":"1970-01-01 01:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2013-04-08 18:21:24","sys_class_name":"cert_audit","sys_id":"3584c171dfa0010068c37a0d3df26379","sys_updated_by":"admin","sys_created_on":"2013-04-07 20:46:04","run_start":"2013-04-07 20:44:47","sys_name":"Windows Computer Minimum Statistics","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"9","active":"true","time_zone":"","script":"new SNC.CertificationProcessing().runAudit(current.sys_id, current.template.filter.sys_id, current.template.sys_id);","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e457afbb04b12210559073c06a02f744","value":"e457afbb04b12210559073c06a02f744"},"condition":"","sys_update_name":"cert_audit_3584c171dfa0010068c37a0d3df26379","offset_type":"","name":"Windows Computer Minimum Statistics","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:05:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2021-05-24 16:09:37","sys_class_name":"sysauto_script","sys_id":"379058c677503010f088a0e89e5a9993","sys_updated_by":"admin","sys_created_on":"2021-05-24 16:09:37","run_start":"2021-05-24 16:08:05","sys_name":"Populate Topic Popularity","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/4249e63a28d54d61bb6fbf61fd86cccb","value":"4249e63a28d54d61bb6fbf61fd86cccb"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 01:00:00","sys_mod_count":"0","active":"true","time_zone":"floating","script":" new TopicPopularityUtil().populatePopularity(); ","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4249e63a28d54d61bb6fbf61fd86cccb","value":"4249e63a28d54d61bb6fbf61fd86cccb"},"condition":"","sys_update_name":"sysauto_script_379058c677503010f088a0e89e5a9993","offset_type":"","name":"Populate Topic Popularity","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2022-04-22 17:01:49","sys_class_name":"sysauto_script","sys_id":"3824c9a04f030110c6e235e552ce0b59","sys_updated_by":"admin","sys_created_on":"2022-04-20 17:43:22","run_start":"2022-04-20 17:06:06","sys_name":"Addresses User Has Role Errors","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 15:15:15","sys_mod_count":"5","active":"true","time_zone":"","script":"fixUserHasRole();\n\nfunction fixUserHasRole() {\n    if (!GlideProperties.getBoolean('glide.role_management.use.inh_count', false) || !pm.isActive('com.glide.role_management.inh_count'))\n        return;\n    gs.log('Starting fix_sys_user_has_role script...');\n    new GlideUserHasRoleInhCountFixer().recalculateInhCounts();\n    gs.log('Finished fix_sys_user_has_role fix job!');\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd54e3bb04312210559073c06a02f757","value":"cd54e3bb04312210559073c06a02f757"},"condition":"","sys_update_name":"sysauto_script_3824c9a04f030110c6e235e552ce0b59","offset_type":"0","name":"Addresses User Has Role Errors","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2020-11-03 21:18:20","sys_class_name":"sysauto_script","sys_id":"3903094e5362101061b7ddeeff7b12be","sys_updated_by":"admin","sys_created_on":"2020-08-12 01:55:31","run_start":"2020-08-11 23:47:16","sys_name":"CSDM Data Sync","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 11:00:00","sys_mod_count":"21","active":"true","time_zone":"","script":"var util = new CSDMCMDBUtil();\n\n/******** Sync MBG from class to newly created CIs - Start ********/\n\n// fetch all class info records with managed by group\nvar grCmdbClassInfo = new GlideRecord(\"cmdb_class_info\");\nvar didUpdate;\ngrCmdbClassInfo.addNotNullQuery(\"managed_by_group\");\ngrCmdbClassInfo.query();\n\nwhile(grCmdbClassInfo.next()) {\n\t// apply MBG to CIs in each specific class created in last 25 hours\n\tvar grCmdbCi = new GlideRecord(\"cmdb_ci\");\n\tgrCmdbCi.addEncodedQuery(\"sys_created_on>javascript:gs.hoursAgo(25)^managed_by_groupISEMPTY^sys_class_name=\" + grCmdbClassInfo.getValue(\"class\"));\n\tgrCmdbCi.query();\n\tif (grCmdbCi.hasNext()) {\n\t\tgrCmdbCi.setValue(\"managed_by_group\", grCmdbClassInfo.getValue(\"managed_by_group\"));\n\t\tgrCmdbCi.updateMultiple();\n\t\tdidUpdate = true;\n\t}\n}\nif (didUpdate) {\n\tgs.log(\"Completed updating new CIs with Managed By Group\");\n}\n/******** Sync MBG from class to newly created CIs - End ********/\n\n/******** Sync SG, CG, MBG from newly created ci relationship between TSO and DCG ********/\nvar oldValues = {'support_group':'','assignment_group':'','managed_by_group':''};\nvar grRel = new GlideRecord('cmdb_rel_ci');\ngrRel.addEncodedQuery('sys_created_on>javascript:gs.hoursAgo(25)');\ngrRel.addEncodedQuery('parent.sys_class_name=service_offering^child.sys_class_name=cmdb_ci_query_based_service');\ngrRel.query();\nwhile(grRel.next()) {\n\tif(util.isTechnicalService(grRel.getValue('parent')) && util.isTechnicalService(grRel.getValue('child'))) {\n\t\tvar tso = new GlideRecord('service_offering');\n\t\tif (!tso.get(grRel.getValue('parent')))\n\t\t\tcontinue;\n\n\t\tvar newValues  = {};\n\t\tnewValues.support_group = tso.getValue('support_group');\n\t\tnewValues.assignment_group = tso.getValue('assignment_group');\n\t\tif (tso.getValue('managed_by_group')) {\n\t\t\t// prevents overriding CI class MBG value with blank\n\t\t\tnewValues.managed_by_group = tso.getValue('managed_by_group');\n\t\t}\n\t\tgs.eventQueue('csdm.tso.modified', tso, JSON.stringify(oldValues), JSON.stringify(newValues), 'sn_csdm_tso_queue');\n\t}\n}\n/******** End - Sync SG, CG, MBG from newly created ci relationship between TSO and DCG ********/\n\n/********* Sync values(SG,CG,MBG) for new CIs getting added to DCG - Start *********/\nvar grAssoc = new GlideRecord('svc_ci_assoc');\ngrAssoc.addEncodedQuery('service_id.sys_class_name=cmdb_ci_query_based_service^service_id.service_classification=Technical Service^sys_created_on>javascript:gs.hoursAgo(25)');\ngrAssoc.query();\nvar svcCiMap = {};\nwhile(grAssoc.next()) {\n\tvar cis = svcCiMap[grAssoc.getValue('service_id')];\n\tif(!cis)\n\t\tcis = [];\n\tcis.push(grAssoc.getValue('ci_id'));\n\tsvcCiMap[grAssoc.getValue('service_id')] = cis;\n}\n\n// Check if DCG is connected to any TSO\nvar validDcgSysIds = [];\nvar map = util.getAssocTSOsFromDCG(Object.keys(svcCiMap));\nObject.keys(map).forEach(function(v){\n\tvalidDcgSysIds = validDcgSysIds.concat(map[v]);\n});\n\n// Update values from DCG to CIs\nvar grDCG = new GlideRecord('cmdb_ci_query_based_service');\n\nvalidDcgSysIds.forEach(function(dcgSysId) {\n\tgrDCG.get(dcgSysId);\n\tvar updateWithValues = {\n\t\t'support_group' : grDCG.getValue('support_group'),\n\t\t'assignment_group' : grDCG.getValue('assignment_group'),\n\t};\n\t// prevents overriding ci class manager value if blank\n\tif (grDCG.getValue('managed_by_group')) {\n\t\tupdateWithValues['managed_by_group'] = grDCG.getValue('managed_by_group');\n\t}\n\tutil.updateRecords('cmdb_ci', svcCiMap[dcgSysId], updateWithValues);\n});\n\n/********* Sync values(SG,CG,MBG) for new CIs getting added to DCG - End *********/\n\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_3903094e5362101061b7ddeeff7b12be","offset_type":"0","name":"CSDM Data Sync","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2019-04-18 00:30:37","sys_class_name":"sysauto_script","sys_id":"391cb2f2b73033009d692fecde11a923","sys_updated_by":"admin","sys_created_on":"2019-04-18 00:21:03","run_start":"2019-04-18 00:19:28","sys_name":"Add Identifier Fields In Recommended Rules","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"2","active":"false","time_zone":"","script":"SNC.RecommendedIdentifierFieldsScript.populateIREFieldsInRecommended();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_391cb2f2b73033009d692fecde11a923","offset_type":"0","name":"Add Identifier Fields In Recommended Rules","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2021-08-23 18:04:09","sys_class_name":"sysauto_script","sys_id":"399d33b0db113200a042f278f0b8f56c","sys_updated_by":"admin","sys_created_on":"2017-03-02 11:46:02","run_start":"2017-03-02 11:44:35","sys_name":"Populate Summary field on Knowledge Use","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"2","active":"true","time_zone":"","script":"populateSummaryFromArticle('kb_use','article_summary','article');\n\nfunction populateSummaryFromArticle(table, summaryField, articleField) {\n\n\tvar gr = new GlideRecord('kb_knowledge');\n    gr.addNotNullQuery('summary');\n    gr.setCategory('homepage');\n    gr.query();\n\twhile (gr.next()) {\n        var summary = gr.getValue('summary');\n        if (!gs.nil(summary)) {\n            updateAllWithSummary(gr.getUniqueValue(), summary);\n        }\n    }\n\t\n    function updateAllWithSummary(sysId, summaryId) {\n        var gr = new GlideMultipleUpdate(table);\n        gr.addQuery(articleField, sysId);\n        gr.query();\n        gr.setValue(summaryField, summaryId);\n        gr.execute();\n    }\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/67dc6bfb04352210559073c06a02f738","value":"67dc6bfb04352210559073c06a02f738"},"condition":"","sys_update_name":"sysauto_script_399d33b0db113200a042f278f0b8f56c","offset_type":"","name":"Populate Summary field on Knowledge Use","max_drift":"","run_period":"","sys_policy":"read"},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"weekly","sys_updated_on":"2020-07-31 18:36:49","sys_class_name":"sysauto_script","sys_id":"39b7334cc39210105553b740ad40dd28","sys_updated_by":"admin","sys_created_on":"2020-07-24 21:35:43","run_start":"2020-07-24 21:33:10","sys_name":"Flow Designer Popular Actions Weekly","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"7","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-02 07:59:50","sys_mod_count":"2","active":"true","time_zone":"","script":"var collector = new FlowDesignerArtifactsCollector();\ncollector.mostPopularAction(7);","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0a3be77304352210559073c06a02f7e3","value":"0a3be77304352210559073c06a02f7e3"},"condition":"","sys_update_name":"sysauto_script_39b7334cc39210105553b740ad40dd28","offset_type":"0","name":"Flow Designer Popular Actions Weekly","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2019-02-18 06:04:04","sys_class_name":"sysauto_script","sys_id":"39d5a1777323230070128f758bf6a78e","sys_updated_by":"admin","sys_created_on":"2019-02-17 17:18:55","run_start":"2019-02-17 17:18:05","sys_name":"Clean up converted documents genereated by Document Viewer","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"2","active":"true","time_zone":"","script":"sn_docviewer.DocumentConversionCleanup.cleanUpOldConvertedAttachments();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0b8d27ff04352210559073c06a02f7be","value":"0b8d27ff04352210559073c06a02f7be"},"condition":"","sys_update_name":"sysauto_script_39d5a1777323230070128f758bf6a78e","offset_type":"","name":"Clean up converted documents genereated by Document Viewer","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2024-04-09 00:08:00","sys_class_name":"sysauto_script","sys_id":"3a1315cc77698210ee0d0cc2fa5a99a0","sys_updated_by":"admin","sys_created_on":"2024-04-09 00:08:00","run_start":"2024-04-09 00:04:57","sys_name":"CMDB Workspace Partial Payload Item Batch Job","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"var cmdbWsPerfInsightsUtil = new sn_cmdb_ws.CMDBWsPerfInsightsUtil(); \ncmdbWsPerfInsightsUtil._deleteAndInsertDeltaPartialPayloadItems();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"condition":"","sys_update_name":"sysauto_script_3a1315cc77698210ee0d0cc2fa5a99a0","offset_type":"0","name":"CMDB Workspace Partial Payload Item Batch Job","max_drift":"","run_period":"1970-01-01 00:01:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2021-10-11 03:24:09","sys_class_name":"sysauto_script","sys_id":"3adc9b78c7f230108ad4010703c260d8","sys_updated_by":"admin","sys_created_on":"2021-09-22 16:28:43","run_start":"2021-09-22 16:24:58","sys_name":"Populate Helpful Count on Knowledge","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"0","active":"true","time_zone":"","script":"populateHelpfulCount();\nfunction populateHelpfulCount() {\n\ttry{\n\t\tvar propVal = gs.getProperty(\"glide.knowman.count_helpful_feedback\",false)+'';\n\t\tif(!gs.nil(propVal) && propVal == 'false'){\n\t\t\tupdateHelpfulProperty(true);\n\t\t}\n\t\t\n\t\tvar isVersioningInstalled = GlidePluginManager.isActive(\"com.snc.knowledge_advanced\");\n\t\tvar columnToGroup = 'article';\n\t\tif(isVersioningInstalled)\t\n\t\t\tcolumnToGroup = 'article_summary';\n\t\tvar ga = new GlideAggregate('kb_feedback');\n\t\tga.addQuery('useful', 'yes');\t\n\t\tga.addQuery('article.sys_class_name','!=', 'kb_knowledge_block');\n\t\tga.addNotNullQuery(columnToGroup);\n\t\tga.addAggregate('count', 'useful');\t\n\t\tga.groupBy(columnToGroup);\t\n\t\tga.setCategory('list');\n\t\tga.query();\n\t\twhile(ga.next()){\n\t\t\tupdateArticleWithHelpfulCount(isVersioningInstalled,ga.getValue(columnToGroup),ga.getAggregate('count', 'useful'));\n\t\t}\n\t}catch(e){\n\t\tgs.error(\"Failed to populate helpful count on knowledge\" + e);\n\t}finally{\n\t\tupdateHelpfulProperty(false);\n\t}\n}\n\nfunction updateHelpfulProperty(val){\n\tvar gr = new GlideRecord(\"sys_properties\");\n\tgr.addQuery('name','glide.knowman.count_helpful_feedback');\n\tgr.query();\n\tif(gr.next()){\n\t\tgr.setValue('value',val);\n\t\tgr.update();\n\t}\n}\n\nfunction updateArticleWithHelpfulCount(isVersioningInstalled,id,count){\n\ttry{\n\t\tvar gmu = new GlideMultipleUpdate(\"kb_knowledge\");\n\t\tif(isVersioningInstalled)\n\t\t\tgmu.addQuery('summary',id);\n\t\telse\n\t\t\tgmu.addQuery('sys_id',id);\n\t\tgmu.setIncrement('helpful_count',count);\n\t\tgmu.execute();\n\t}catch(e){\n\t\tgs.error(\"Failed to populate helpful count for id : \" + id + \" exception :\" + e);\n\t}\n} \t\t","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2fe727ff04b12210559073c06a02f7dd","value":"2fe727ff04b12210559073c06a02f7dd"},"condition":"","sys_update_name":"sysauto_script_3adc9b78c7f230108ad4010703c260d8","offset_type":"0","name":"Populate Helpful Count on Knowledge","max_drift":"","run_period":"","sys_policy":"read"},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2023-12-06 09:45:09","sys_class_name":"sysauto_script","sys_id":"3b709a5353fe71104a61ddeeff7b129b","sys_updated_by":"admin","sys_created_on":"2023-12-04 14:05:50","run_start":"2023-12-04 14:00:45","sys_name":"Adoption Blueprint content refresh","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/39eca3e2ff210110f416d018d53bf16e","value":"39eca3e2ff210110f416d018d53bf16e"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"1","active":"true","time_zone":"","script":"new global.ProductContent().refreshContent(\"adoptionblueprints\", \"content.zip\");","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/39eca3e2ff210110f416d018d53bf16e","value":"39eca3e2ff210110f416d018d53bf16e"},"condition":"new global.ProductContent().canSyncWithCDN();","sys_update_name":"sysauto_script_3b709a5353fe71104a61ddeeff7b129b","offset_type":"0","name":"Adoption Blueprint content refresh","max_drift":"","run_period":"1970-01-16 00:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":"","run_type":"daily","sys_updated_on":"2024-06-11 01:01:53","sys_class_name":"sysauto_script","sys_id":"3b9ef2ea43ffa110f3063fea8eb8f293","sys_updated_by":"maint","sys_created_on":"2023-07-06 06:20:48","run_start":"2023-07-06 06:18:28","sys_name":"Recommended Subscriptions for Unmapped Global Custom Tables","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bcadabf277f311109c62f5f3cb5a992a","value":"bcadabf277f311109c62f5f3cb5a992a"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 12:00:00","sys_mod_count":"3","active":"true","time_zone":"","script":"if (gs.getProperty(\"sn_entitlement.subscription_recommender_v2.is_active\", \"false\") === \"true\") {\n    gs.info(\"RecommenderEngine V2 is in use, the Recommended Subscriptions for Unmapped Global Custom Tables job has been skipped.\");\n} else {\n    new GlobalCustomTableRecommendationService().recommendSubscriptions();\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bcadabf277f311109c62f5f3cb5a992a","value":"bcadabf277f311109c62f5f3cb5a992a"},"condition":"","sys_update_name":"sysauto_script_3b9ef2ea43ffa110f3063fea8eb8f293","offset_type":"0","name":"Recommended Subscriptions for Unmapped Global Custom Tables","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2024-04-23 06:50:35","sys_class_name":"sysauto_script","sys_id":"3cd22bae77a902107aa345cfbd5a99ca","sys_updated_by":"admin","sys_created_on":"2024-04-17 04:58:11","run_start":"2024-04-17 04:57:42","sys_name":"On-Call Upgrade shifts to 2024 schedule engine","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"2","active":"true","time_zone":"","script":"var rotaGR = new GlideRecord('cmn_rota');\nrotaGR.addActiveQuery();\nrotaGR.query();\nvar ocr = new OnCallRotation();\nwhile (rotaGR.next()) {\n    if (ocr.isShiftOnOldEngine(rotaGR))\n        ocr.updateScheduleEngine(rotaGR);\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"condition":"","sys_update_name":"sysauto_script_3cd22bae77a902107aa345cfbd5a99ca","offset_type":"0","name":"On-Call Upgrade shifts to 2024 schedule engine","max_drift":"","run_period":"","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 01:00:00","run_as_tz":"","run_as":"","run_type":"daily","sys_updated_on":"2024-07-24 09:01:18","sys_class_name":"sysauto_script","sys_id":"3cebb85277630210bf3589b28a5a9947","sys_updated_by":"admin","sys_created_on":"2024-07-24 08:38:55","run_start":"2024-07-24 08:15:25","sys_name":"Process Mining Refresh activity recommendations job","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"7","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 01:00:00","sys_mod_count":"1","active":"true","time_zone":"floating","script":"SNC.ProcessOptimization.refreshRecommendations();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aa76333f04b52210559073c06a02f764","value":"aa76333f04b52210559073c06a02f764"},"condition":"var answer = gs.getProperty(\"promin.activity.recommendation.enabled\", \"true\") == \"true\";\nanswer;","sys_update_name":"sysauto_script_3cebb85277630210bf3589b28a5a9947","offset_type":"0","name":"Process Mining Refresh activity recommendations job","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":"","run_type":"monthly","sys_updated_on":"2019-08-22 15:24:05","sys_class_name":"sysauto_script","sys_id":"3d4dc33e1376330010b7754a6144b052","sys_updated_by":"admin","sys_created_on":"2019-07-26 11:40:08","run_start":"2015-08-11 22:10:25","sys_name":"PA Interactive Analysis usage per application","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 00:00:00","sys_mod_count":"1","active":"true","time_zone":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/539a23bf04f12210559073c06a02f7aa","value":"539a23bf04f12210559073c06a02f7aa"},"sys_update_name":"sysauto_script_3d4dc33e1376330010b7754a6144b052","offset_type":"0","name":"PA Interactive Analysis usage per application","max_drift":"","run_period":"1970-01-01 00:01:00","sys_policy":"protected"},{"conditional":"true","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2018-05-18 14:27:21","sys_class_name":"sysauto_script","sys_id":"3df2617cc3132200782db348b1d3aed7","sys_updated_by":"admin","sys_created_on":"2016-11-22 14:23:56","run_start":"2016-11-22 14:23:25","sys_name":"Check duplicated scores before migration","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 23:00:00","sys_mod_count":"21","active":"true","time_zone":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/539a23bf04f12210559073c06a02f7aa","value":"539a23bf04f12210559073c06a02f7aa"},"sys_update_name":"sysauto_script_3df2617cc3132200782db348b1d3aed7","offset_type":"0","name":"Check duplicated scores before migration","max_drift":"","run_period":"","sys_policy":"protected"},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:01:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2023-08-16 06:16:55","sys_class_name":"sysauto_script","sys_id":"3e19f9fca3d0311011ecb18c26fcda53","sys_updated_by":"admin","sys_created_on":"2023-07-25 12:52:06","run_start":"2023-07-25 11:16:48","sys_name":"Change project status to Retired due to inactivity","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 00:01:00","sys_mod_count":"13","active":"true","time_zone":"floating","script":"var gdt = new GlideDateTime();\ngdt.addDays(-1 * gs.getProperty(\"promin.auto_retire_days\", 90));\n\nvar grProminProject = new GlideRecord(\"promin_project\");\ngrProminProject.addQuery(\"auto_retire\", true);\ngrProminProject.addQuery(\"is_template\", false);\ngrProminProject.addQuery(\"content_pack\", false);\ngrProminProject.addQuery(\"sys_updated_on\", \"<\" , gdt);\ngrProminProject.addQuery(\"status\", \"IN\", \"DRAFT,PUBLISHED\");\ngrProminProject.query();\n\nwhile(grProminProject.next()) {\n\t\tvar grProminMiningTracker = new GlideRecord(\"promin_ua_mining_tracker\");\n\t\tgrProminMiningTracker.addQuery(\"model_def\", grProminProject.getUniqueValue());\n\t\tgrProminMiningTracker.addQuery(\"sys_updated_on\", \">\", gdt);\n\t\tgrProminMiningTracker.setLimit(1);\n\t\tgrProminMiningTracker.query();\n\t\tif(!grProminMiningTracker.hasNext()) {\n\t\t\tgrProminProject.setValue(\"status\", \"RETIRED\");\n\t\t\tgrProminProject.setValue(\"retired_date\", new GlideDateTime());\n\t\t\tgrProminProject.update();\n\t\t}\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aa76333f04b52210559073c06a02f764","value":"aa76333f04b52210559073c06a02f764"},"condition":"","sys_update_name":"sysauto_script_3e19f9fca3d0311011ecb18c26fcda53","offset_type":"0","name":"Change project status to Retired due to inactivity","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2021-01-26 10:48:26","sys_class_name":"sysauto_script","sys_id":"3f3987b753312010069addeeff7b124f","sys_updated_by":"admin","sys_created_on":"2021-01-26 09:28:12","run_start":"2021-01-26 09:27:07","sys_name":"Populate Taxonomy Content Order","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 00:00:00","sys_mod_count":"5","active":"true","time_zone":"floating","script":"new ContentPopularityUtil().populateOrderOfContent();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/92ed237304752210559073c06a02f7a0","value":"92ed237304752210559073c06a02f7a0"},"condition":"","sys_update_name":"sysauto_script_3f3987b753312010069addeeff7b124f","offset_type":"","name":"Populate Taxonomy Content Order","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":"","run_type":"daily","sys_updated_on":"2025-05-08 19:47:49","sys_class_name":"sysauto_script","sys_id":"3fa2880043a53110805a71f1cbb8f2e3","sys_updated_by":"admin","sys_created_on":"2023-09-22 22:05:48","run_start":"2023-09-22 22:02:26","sys_name":"Gen AI Usage Details Aggregate Job","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/86d7bb63ff021110468365d7d3b8fe41","value":"86d7bb63ff021110468365d7d3b8fe41"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 12:00:00","sys_mod_count":"1","active":"true","time_zone":"","script":"new GenAIUsageDetailsAggregate().execute();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/86d7bb63ff021110468365d7d3b8fe41","value":"86d7bb63ff021110468365d7d3b8fe41"},"condition":"","sys_update_name":"sysauto_script_3fa2880043a53110805a71f1cbb8f2e3","offset_type":"0","name":"Gen AI Usage Details Aggregate Job","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"once","sys_updated_on":"2024-03-12 22:55:33","sys_class_name":"sysauto_script","sys_id":"3facbd971c384210f877aec83f1c6b73","sys_updated_by":"admin","sys_created_on":"2024-03-12 22:42:03","run_start":"2024-03-12 22:39:48","sys_name":"ROT - Scan Instance Signatures","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"var codeSigningAPI = new sn_cs_ns.CodeSigningAPI();\ngs.info(\"Scan Instance Signatures, started scanning the instance signatures.\");\nvar success = codeSigningAPI.scanAllSignaturesAndCreateReport(\"sysauto_script\", current.sys_id);\nif (success == true)\n\tgs.info(\"Scan Instance Signatures, successfully scanned instance signatures.\");\nelse\n\tgs.info('Scan Instance Signatures, failed to scan instance signatures...Please check the Code Signing log for more details.');\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ffcd2b3304752210559073c06a02f779","value":"ffcd2b3304752210559073c06a02f779"},"condition":"","sys_update_name":"sysauto_script_3facbd971c384210f877aec83f1c6b73","offset_type":"0","name":"ROT - Scan Instance Signatures","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2017-08-11 16:24:45","sys_class_name":"sysauto_script","sys_id":"422862c1c32003001ca5b348b1d3aef4","sys_updated_by":"admin","sys_created_on":"2017-08-11 13:34:31","run_start":"2017-08-11 13:33:50","sys_name":"Modify ID type to BIGINT for pa_scores_l1 and pa_scores_l2","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 23:00:00","sys_mod_count":"1","active":"true","time_zone":"","script":"var updater = new SNC.PANewScoresTableUpdater();\nupdater.changeIDType();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b81b6b3304352210559073c06a02f7f0","value":"b81b6b3304352210559073c06a02f7f0"},"condition":"","sys_update_name":"sysauto_script_422862c1c32003001ca5b348b1d3aef4","offset_type":"0","name":"Modify ID type to BIGINT for pa_scores_l1 and pa_scores_l2","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2023-05-18 14:34:26","sys_class_name":"sysauto_script","sys_id":"42aaef8153133010b33bddeeff7b1225","sys_updated_by":"admin","sys_created_on":"2021-10-18 08:35:08","run_start":"2021-10-18 08:32:49","sys_name":"Service Model Auto Remediation","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 00:00:00","sys_mod_count":"1","active":"true","time_zone":"floating","script":"var manager = new SNC.ServiceModelingIntegrationManager();\nvar MAX_SERVICES_TO_REMEDIATE = gs.getProperty(\"svc.model.remediation.max_services_to_remediate\", 100);\nvar MAX_ASSOCS_TO_DELETE = gs.getProperty(\"svc.model.remediation.max_assocs_to_delete\", 100000);\nvar LOG_SOURCE = \"Service Model Auto Remediation\";\n\nremediateServices();\ncleanBrokenAssociations();\n\nfunction remediateServices() {\n    var count = 0;\n    var bsGr = new GlideRecord('cmdb_ci_service_discovered');\n    var layerGr = new GlideRecord('svc_layer');\n    var envGr = new GlideRecord('svc_environment');\n    bsGr.query();\n\n    while (bsGr.next() && count < MAX_SERVICES_TO_REMEDIATE) {\n\n        if (isInvalidServiceModel(bsGr, layerGr, envGr)) {\n            gs.log(\"No valid layer/enviroment linked to service \" + bsGr.getUniqueValue() + \", resetting the service model and marking for recomputation\", LOG_SOURCE);\n            reset(bsGr);\n            count++;\n        }\n    }\n\n    if (count > 0) {\n        gs.log(\"Fixed \" + count + \" service models\", LOG_SOURCE);\n    }\n}\n\nfunction isInvalidServiceModel(gr, layerGr, envGr) {\n    var layer = getLayerId(gr);\n    return !layer || !layerGr.get(layer) || !gr.layer.environment || !envGr.get(gr.layer.environment);\n}\n\nfunction reset(bsGr) {\n    remove(bsGr);\n    create(bsGr);\n}\n\nfunction remove(bsGr) {\n    var layerId = getLayerId(bsGr);\n\n    if (layerId) {\n        // Here we force removal, i.e. we ignore the sa.service_modeling.use flag\n        manager.forceRemoveBusinessService(bsGr);\n    }\n}\n\nfunction create(bsGr) {\n    var svcSysId = bsGr.getUniqueValue();\n    manager.createBusinessService(bsGr);\n\n    // createBusinessService works on a copy of the gr provided to it, so we need to reload the gr after it runs\n    bsGr = new GlideRecord('cmdb_ci_service_discovered');\n    bsGr.get(svcSysId);\n\n    addEntryPoints(bsGr);\n}\n\nfunction addEntryPoints(bsGr) {\n    var bsId = bsGr.getUniqueValue();\n    var m2mgr = new GlideRecord('sa_m2m_service_entry_point');\n    m2mgr.addQuery('cmdb_ci_service', bsId);\n    m2mgr.query();\n\n    var hasEPs = false;\n\n    while (m2mgr.next()) {\n        manager.addEntryPoint(bsId, m2mgr.getValue('cmdb_ci_endpoint'));\n        hasEPs = true;\n    }\n    if (hasEPs) {\n        requestRecomputation(bsGr);\n    }\n\n}\n\nfunction getLayerId(bsGr) {\n    return bsGr.getValue('layer');\n}\n\nfunction requestRecomputation(bsGr) {\n    try {\n        var env = sn_svcmod.ServiceContainerFactory.loadEnvironment(bsGr.layer.environment);\n        var layers = env.layers();\n        for (var i = 0; i < layers.length; i++) {\n            var layer = layers[i];\n            layer.markRecomputationNeeded();\n        }\n        var time = new GlideDateTime();\n        env.markRecomputationNeeded(time);\n    } catch (error) { // if there's no enviroment linked\n        gs.error(error, LOG_SOURCE);\n        gs.log(\"Due to error, didn't mark service \" + bsGr.getUniqueValue() + \" for recomputation\", LOG_SOURCE);\n    }\n}\n\nfunction cleanBrokenAssociations() {\n    var count = 0;\n    var batchSize = Math.min(1000, MAX_ASSOCS_TO_DELETE);\n    var assocGr = new GlideRecord('svc_model_assoc_ci');\n\n    // Perform the deletion in batces of 1000\n    // look for records with reference to environment that no longer exists\n    while (count < MAX_ASSOCS_TO_DELETE) {\n        assocGr.initialize();\n        assocGr.addNullQuery('environment.sys_id').addOrCondition('ci_id.sys_id', 'NULL');\n        assocGr.setLimit(batchSize);\n        assocGr.query();\n\n        var brokenAssocsFound = assocGr.getRowCount();\n        if (brokenAssocsFound == 0) break;\n\n        count += brokenAssocsFound;\n        assocGr.deleteMultiple();\n    }\n\n    if (count > 0)\n        gs.log(\"Deleted \" + count + \" broken association\" + (count > 1 ? \"s\" : \"\"), LOG_SOURCE);\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"condition":"","sys_update_name":"sysauto_script_42aaef8153133010b33bddeeff7b1225","offset_type":"0","name":"Service Model Auto Remediation","max_drift":"","run_period":"","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"once","sys_updated_on":"2024-10-15 18:25:35","sys_class_name":"sysauto_script","sys_id":"42e44b83c30320101109046f5e40dd5d","sys_updated_by":"admin","sys_created_on":"2021-03-27 04:31:12","run_start":"2021-03-26 17:05:07","sys_name":"Turn on Code Signing Property","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/eae404d3c31320101109046f5e40dd41","value":"eae404d3c31320101109046f5e40dd41"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"11","active":"true","time_zone":"","script":"var codeSigningAPI = new sn_cs_ns.CodeSigningAPI();\nvar jobRes = codeSigningAPI.enableCodeSigningProperty();\nvar jobResJSON;\ntry {\n    jobResJSON = JSON.parse(jobRes);\n} catch (error) {\n    jobResJSON = {};\n}\nif (jobResJSON.succeeded)\n    gs.addInfoMessage(gs.getMessage(\"Successfully turned on property\"));\nelse\n    gs.addErrorMessage(gs.getMessage(\"Failed to turn on property\"));\n\tgs.addErrorMessage(gs.getMessage(jobResJSON.error_message));","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/eae404d3c31320101109046f5e40dd41","value":"eae404d3c31320101109046f5e40dd41"},"condition":"(function() {\n\tif (!current.active) {\n\t\tgs.error(\"Turn on Code Signing Property job stops because the job was used once and it cannot be rerun.\");\n\t\treturn false;\n\t}\n\tvar codeSigningAPI = new sn_cs_ns.CodeSigningAPI();\n\tif (!codeSigningAPI.isRecordTrusted(\"sys_script_include\",\"a3b705904322211090d86d95cab8f295\",\"*\")) {\n\t\tgs.error(\"Turn on Code Signing Property job stops because the signature migration api is untrusted.\");\n\t\treturn false;\n\t}\n\tvar migrationAPI = new global.CodeSigningSignatureMigrationAPI();\n\tif (!migrationAPI.allowTurnOnJob()) {\n\t\tgs.error(\"Turn on Code Signing Property job stops. Please re-sign records using the system created mass signing job.\");\n\t\treturn false;\n\t}\n\n\treturn true;\n})();","sys_update_name":"sysauto_script_42e44b83c30320101109046f5e40dd5d","offset_type":"0","name":"Turn on Code Signing Property","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/maint","value":"maint"},"run_type":"daily","sys_updated_on":"2023-06-03 01:08:14","sys_class_name":"sysauto_script","sys_id":"4404c6375b43611034d351a2ea81c7a6","sys_updated_by":"admin","sys_created_on":"2023-06-02 16:35:09","run_start":"2023-06-02 16:27:40","sys_name":"Remove old 1st party scoped application deletes from sys_metadata_delete table","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 01:00:00","sys_mod_count":"2","active":"true","time_zone":"","script":"var retentionDays = gs.getProperty(\"com.glide.metadata_delete.retention_days\", \"90\");\nvar retainScopes = gs.getProperty(\"com.glide.metadata_delete.retain_always_scopes\");\n\nvar grScopes = GlideRecord(\"sys_scope\");\ngrScopes.addQuery(\"scope\", \"NOT IN\", retainScopes);\ngrScopes.query();\n\nvar companyScopes = [];\nvar companyScopeIds = [];\nwhile (grScopes.next()) {\n    var scope = grScopes.getValue(\"scope\");\n\tif ((scope != \"global\") && sn_app_api.AppStoreAPI.isOwnedStoreApp(scope)) {\n\t\tcompanyScopes.push(scope);\n\t\tcompanyScopeIds.push(grScopes.getValue(\"sys_id\"));\n\t}\n}\n\ngs.info(\"Removing records from sys_metadata_delete table older than \" + retentionDays\n\t\t+ \" days with the following company scopes: \" + companyScopes.join(\", \"));\n\nif (companyScopeIds.length > 0) {\n\tvar grMetadata = GlideRecord(\"sys_metadata_delete\");\n\tgrMetadata.addEncodedQuery(\"sys_created_on<=javascript:gs.daysAgoStart(\" + retentionDays + \")\");\n\tgrMetadata.addQuery(\"sys_scope\", \"IN\", companyScopeIds.join(\",\"));\n\tgrMetadata.setWorkflow(false);\n\tgrMetadata.deleteMultiple();\n}\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c204a3f704312210559073c06a02f7b9","value":"c204a3f704312210559073c06a02f7b9"},"condition":"","sys_update_name":"sysauto_script_4404c6375b43611034d351a2ea81c7a6","offset_type":"0","name":"Remove old first party scoped application deletes from sys_metadata_delete table","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2025-07-14 07:01:10","sys_class_name":"cert_audit","sys_id":"44c93a2dbf2111007c94c0647e07396b","sys_updated_by":"admin","sys_created_on":"2013-12-09 23:53:04","run_start":"2013-12-09 23:52:25","sys_name":"UPS Audit (7 days)","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"30","active":"true","time_zone":"","script":"new SNC.CertificationProcessing().runAudit(current.sys_id, current.template.filter.sys_id, current.template.sys_id);","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e457afbb04b12210559073c06a02f744","value":"e457afbb04b12210559073c06a02f744"},"condition":"","sys_update_name":"cert_audit_44c93a2dbf2111007c94c0647e07396b","offset_type":"","name":"UPS Audit (7 days)","max_drift":"","run_period":"","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"once","sys_updated_on":"2024-10-15 18:24:11","sys_class_name":"sysauto_script","sys_id":"44e7ec03c30320101109046f5e40ddbf","sys_updated_by":"admin","sys_created_on":"2021-03-26 17:06:17","run_start":"2021-03-26 17:05:07","sys_name":"Turn off Code Signing Property","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/eae404d3c31320101109046f5e40dd41","value":"eae404d3c31320101109046f5e40dd41"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"4","active":"true","time_zone":"","script":"var codeSigningAPI = new sn_cs_ns.CodeSigningAPI();\nvar jobRes = codeSigningAPI.disableCodeSigningProperty();\nvar jobResJSON;\ntry {\n    jobResJSON = JSON.parse(jobRes);\n} catch (error) {\n    jobResJSON = {};\n}\nif (jobResJSON.succeeded)\n    gs.addInfoMessage(gs.getMessage(\"Successfully turned off property\"));\nelse\n    gs.addErrorMessage(gs.getMessage(\"Failed to turn off property\"));\n\tgs.addErrorMessage(gs.getMessage(jobResJSON.error_message));","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/eae404d3c31320101109046f5e40dd41","value":"eae404d3c31320101109046f5e40dd41"},"condition":"current.active;","sys_update_name":"sysauto_script_44e7ec03c30320101109046f5e40ddbf","offset_type":"","name":"Turn off Code Signing Property","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2020-03-24 06:41:24","sys_class_name":"sysauto_script","sys_id":"454284f873b30010ee4dd3c72bf6a77c","sys_updated_by":"admin","sys_created_on":"2020-03-24 04:59:15","run_start":"2020-03-24 04:57:21","sys_name":"Calculate Hardware servers not in an application service","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"2","active":"true","time_zone":"","script":"SNC.CSDMReportProcessor.process(\"cmdb_ci_server\");","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2f8d67ff04352210559073c06a02f74f","value":"2f8d67ff04352210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_454284f873b30010ee4dd3c72bf6a77c","offset_type":"","name":"Calculate Hardware servers not in an application service","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2020-05-14 11:41:59","sys_class_name":"sysauto_script","sys_id":"45f684d5c7301010a3d4e9e827c260af","sys_updated_by":"admin","sys_created_on":"2020-05-14 11:41:59","run_start":"2020-05-14 11:39:28","sys_name":"Activity Stream Reaper","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"0","active":"true","time_zone":"","script":"GlideActivity.runReaper();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bb08e33304f12210559073c06a02f7ac","value":"bb08e33304f12210559073c06a02f7ac"},"condition":"","sys_update_name":"sysauto_script_45f684d5c7301010a3d4e9e827c260af","offset_type":"0","name":"Activity Stream Reaper","max_drift":"","run_period":"1970-01-01 01:00:00","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/maint","value":"maint"},"run_type":"weekly","sys_updated_on":"2024-08-09 00:45:32","sys_class_name":"sysauto_script","sys_id":"45fa94b51c92a910f877a567a129d63a","sys_updated_by":"now.discovery_infra","sys_created_on":"2023-04-19 20:56:10","run_start":"2023-04-19 20:53:47","sys_name":"Discovery Credentials Affinity Cleanup","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"7","sys_created_by":"now.discovery_infra","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"1","active":"true","time_zone":"","script":"(function() {\n\n    var agentSysIds = [];\n    var credSysIds = [];\n\tfindAgentSysIds();\n\tfindCredSysIds();\n    findAndDeleteInvalidRecords();\n\n\tfunction findAgentSysIds() {\n\t\tvar gr = new GlideAggregate('ecc_agent');\n\t\tgr.groupBy('sys_id');\n\t\tgr.query();\n\t\twhile (gr.next())\n\t\t\tagentSysIds.push(gr.sys_id + '');\n\t}\n\n\tfunction findCredSysIds() {\n\t\tvar gr = new GlideAggregate('discovery_credentials');\n\t\tgr.groupBy('sys_id');\n\t\tgr.query();\n\t\twhile (gr.next())\n\t\t\tcredSysIds.push(gr.sys_id + '');\n\t}\n\n    function findAndDeleteInvalidRecords() {\n\t\tvar done = false;\n\n\t\twhile (!done) {\n\t\t\tvar gr = new GlideRecordSecure('dscy_credentials_affinity');\n\t\t\tgr.addQuery('agent', 'NOT IN', agentSysIds);\n\t\t\tgr.setLimit(1000);\n\t\t\t// deleteMultiple() returns the number of rows deleted\n\t\t\tgr.deleteMultiple();\n\t\t\tdone = !gr.getRowCount();\n\t\t}\n\n\t\tdone = false;\n\n\t\twhile (!done) {\n\t\t\tgr = new GlideRecordSecure('dscy_credentials_affinity');\n\t\t\tgr.addQuery('credential_id', 'NOT IN', credSysIds);\n\t\t\tgr.setLimit(1000);\n\t\t\tgr.deleteMultiple();\n\t\t\tdone = !gr.getRowCount();\n\t\t}\n    }\n\n})();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/91d8237704f12210559073c06a02f73b","value":"91d8237704f12210559073c06a02f73b"},"condition":"GlidePluginManager.isActive('com.snc.discovery');","sys_update_name":"sysauto_script_45fa94b51c92a910f877a567a129d63a","offset_type":"0","name":"Discovery Credentials Affinity Cleanup","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"monthly","sys_updated_on":"2023-03-22 18:38:30","sys_class_name":"sysauto_script","sys_id":"461ca87f77d52110ee0d0cc2fa5a99bf","sys_updated_by":"admin","sys_created_on":"2023-03-07 10:14:43","run_start":"2023-03-07 10:13:44","sys_name":"CMDB Workspace - Populate aggregates Monthly","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 00:00:00","sys_mod_count":"1","active":"true","time_zone":"floating","script":"var cmdbWsProductAdoptionUtil = new sn_cmdb_ws.CMDBWsProductAdoptionUtil(); \ncmdbWsProductAdoptionUtil.populateAdoptionAggregatesMonthly();\n\nvar cmdbWorkspaceUtil = new sn_cmdb_ws.CMDBWorkspaceUtil();\n// Invoke the CMDB Workspace Aggregates Monthly Collection PA job\ncmdbWorkspaceUtil.invokeWsAggregatesMonthlyPAJob();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"condition":"","sys_update_name":"sysauto_script_461ca87f77d52110ee0d0cc2fa5a99bf","offset_type":"0","name":"CMDB Workspace - Populate aggregates Monthly","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2020-09-03 22:09:05","sys_class_name":"sysauto_script","sys_id":"46c84b15b7031010c8c208fd7e11a9d2","sys_updated_by":"david.airmet@snc","sys_created_on":"2020-09-03 22:08:34","run_start":"2020-09-03 22:07:37","sys_name":"cleanup_sys_json_chunks_missing_parent_sys_flow_report_doc","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"david.airmet@snc","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"1","active":"false","time_zone":"","script":"var deleteSize = 1000;\nvar reportChunks = new GlideRecord('flow_report_chunk');\nreportChunks.addEncodedQuery('jc_source_table=sys_flow_report_doc^frd_sys_id=');\nreportChunks.setLimit(100000);  // a maximum of 100,000 rows will be deleted per run (~30 seconds in load testing)\nreportChunks.query();\nvar ids = [];\nwhile (reportChunks.next()) {\n  ids.push(reportChunks.jc_sys_id.toString());\n  if (ids.length >= deleteSize) {\n    deleteChunks(ids);\n    ids = [];\n  }\n}\nif (ids.length > 0) {\n deleteChunks(ids);\n}\n\nfunction deleteChunks(ids) {\n  var chunks = new GlideRecord('sys_json_chunk');\n  chunks.addQuery('sys_id', 'IN', ids.join(','));\n  chunks.query();\n  chunks.deleteMultiple();\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/674baf7304352210559073c06a02f7ce","value":"674baf7304352210559073c06a02f7ce"},"condition":"","sys_update_name":"sysauto_script_46c84b15b7031010c8c208fd7e11a9d2","offset_type":"0","name":"cleanup_sys_json_chunks_missing_parent_sys_flow_report_doc","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2022-05-05 07:30:08","sys_class_name":"sysauto_script","sys_id":"46ffbf0d50534110f877f51ae60a19a4","sys_updated_by":"admin","sys_created_on":"2022-05-05 06:19:24","run_start":"2021-09-22 16:24:58","sys_name":"Populate View as allowed on Knowledge","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"0","active":"true","time_zone":"","script":"populateViewAsAllowed();\n\t\n\tfunction populateViewAsAllowed() {\n\t    try {\n\t        var gr = new GlideMultipleUpdate(\"kb_knowledge\");\n\t        var gc = gr.addNullQuery('view_as_allowed');\n\t        gc.addOrCondition('view_as_allowed', false);\n\t        gr.addQuery(\"sys_class_name\", \"!=\", \"kb_knowledge_block\");\n\t        gr.query();\n\t        gr.setValue('view_as_allowed', true);\n\t        gr.execute();\n\t    } catch (e) {\n\t        gs.error(\"Failed to set default value of field - 'view as allowed' on knowledge\" + e);\n\t    }\n\t}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2fe727ff04b12210559073c06a02f7dd","value":"2fe727ff04b12210559073c06a02f7dd"},"condition":"","sys_update_name":"sysauto_script_46ffbf0d50534110f877f51ae60a19a4","offset_type":"0","name":"Populate View as allowed on Knowledge","max_drift":"","run_period":"","sys_policy":"read"},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"monthly","sys_updated_on":"2019-07-25 09:34:12","sys_class_name":"sysauto_script","sys_id":"4757bdf087313300a0807f9719cb0b52","sys_updated_by":"admin","sys_created_on":"2019-05-31 07:31:49","run_start":"2019-05-31 07:14:07","sys_name":"Cleanup Attachment Scan History","run_dayofmonth":"5","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 17:00:00","sys_mod_count":"7","active":"true","time_zone":"","script":"var noThreatGR = new GlideRecord('attachment_scan_history');\nnoThreatGR.addQuery('status', 'no_threat_detected');\nnoThreatGR.addQuery('sys_created_on', '<', gs.daysAgo(30));\nnoThreatGR.query();\nnoThreatGR.deleteMultiple();\n\n// Clear Scan History records where scan fails. Do not remove infected entries\nvar gr = new GlideRecord('attachment_scan_history');\ngr.addQuery('status', '!=', 'infected');\ngr.addQuery('sys_created_on', '<', gs.daysAgo(90));\ngr.query();\ngr.deleteMultiple();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3f7b23f304352210559073c06a02f7f6","value":"3f7b23f304352210559073c06a02f7f6"},"condition":"","sys_update_name":"sysauto_script_4757bdf087313300a0807f9719cb0b52","offset_type":"0","name":"Cleanup Attachment Scan History","max_drift":"","run_period":"","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2023-09-05 03:23:04","sys_class_name":"sysauto_script","sys_id":"4800847c530db1109de5ddeeff7b1216","sys_updated_by":"admin","sys_created_on":"2023-08-31 09:15:34","run_start":"2023-08-31 09:14:45","sys_name":"Password Reset Soft PIN Expiration","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 00:00:00","sys_mod_count":"0","active":"true","time_zone":"floating","script":"new SoftPINExpiration().manageSoftPINs();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/421beb3304352210559073c06a02f7ef","value":"421beb3304352210559073c06a02f7ef"},"condition":"new SNC.PwdSoftPINManager().isPinExpirationEnabled();\n","sys_update_name":"sysauto_script_4800847c530db1109de5ddeeff7b1216","offset_type":"0","name":"Password Reset Soft PIN Expiration","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2019-10-03 21:46:11","sys_class_name":"sysauto_script","sys_id":"494da85d7310001061b79c0c6df6a700","sys_updated_by":"admin","sys_created_on":"2019-10-03 21:46:11","run_start":"2019-10-03 21:44:20","sys_name":"Populate Internet Facing attribute on Hardware","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"// Example script to populate 'Internet Facing' field on 'Hardware' table.\n\n// Mark 'Internet Facing' = false only when you are sure about it. Otherwise treat the CI as Internet facing(true) to assume the highest risk\n\nvar defaultVal = true;  // In case , IP address is not present or is not valid, then use this value for 'Internet Facing' attribute\n\npopulateForNonEmptyIP();\npopulateForEmptyIP(defaultVal);\n\n\n// Update 'Internet Facing' attribute to true if corresponding IP address is,-\n// 1. non empty and\n// 2. is valid IPV4 address (i.e. in the range 0.0.0.0 to 225.225.225.225) and\n// 3. is not private IP address.\nfunction populateForNonEmptyIP() {\n  var gr = new GlideRecord('cmdb_ci_hardware');\n  gr.addEncodedQuery('ip_address!=NULL');\n  gr.query();\n  while(gr.next()) {\n    var ipAddress = gr.getValue('ip_address');\n    var ip = SncIPAddressV4.getIPAddressV4FromDDecimal(ipAddress);  // Make sure IP address is valid IPV4 address\n    if(JSUtil.notNil(ip)) {\n      gr.setValue('internet_facing', new SNC.IPAddressV4(ipAddress).isPrivateAddress());\n    } else {\n      gr.setValue('internet_facing', defaultVal);\n    }\n    gr.update();\n  }\n}\n\n// For all Hardware CIs which do NOT have IP address value, populate 'Internet Facing' attribute to internetFacing parameter\nfunction populateForEmptyIP(internetFacing) {\n  if(typeof(internetFacing) != 'boolean') {\n    gs.error('Expected boolean value for Internet Facing attribute');\n    return;\n  }\n  var gr = new GlideRecord('cmdb_ci_hardware');\n  gr.addEncodedQuery('ip_address=NULL');\n  gr.query();\n  gr.setValue('internet_facing', internetFacing);\n  gr.updateMultiple();\n}\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_494da85d7310001061b79c0c6df6a700","offset_type":"0","name":"Populate Internet Facing attribute on Hardware","max_drift":"","run_period":"","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2021-07-29 09:42:08","sys_class_name":"sysauto_script","sys_id":"495f4ed15b22201007004d3ba881c7b0","sys_updated_by":"admin","sys_created_on":"2021-02-24 17:38:50","run_start":"2021-02-24 08:00:01","sys_name":"Timeout For VA Chats Suspended on NLU Prediction","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"13","active":"true","time_zone":"","script":"var VA_NLU_PREDICTION_TIMEOUT = parseInt(gs.getProperty('com.glide.cs.nlu.predict.timeout') || 30); // seconds\n\nvar timeoutThreshold = new GlideDateTime();\ntimeoutThreshold.add(-(VA_NLU_PREDICTION_TIMEOUT * 1000));\n\nvar staleVAPredictionStateGR = new GlideRecord('open_nlu_predict_state_tracking');\nstaleVAPredictionStateGR.addQuery('state', 'NOT IN', 'COMPLETED,CANCELLED,TIMED_OUT,SERVICE_ERROR,PREDICT_ERROR');\nstaleVAPredictionStateGR.addQuery('app', 'Virtual Agent');\nstaleVAPredictionStateGR.addQuery('app_document_table', 'sys_cs_conversation_task');\nstaleVAPredictionStateGR.addQuery('mode', 'ASYNC');\nstaleVAPredictionStateGR.addQuery('sent_on', '<=', timeoutThreshold);\nstaleVAPredictionStateGR.query();\nvar timeoutCandidates = [];\nwhile (staleVAPredictionStateGR.next()) {\n\tif ('suspended' == staleVAPredictionStateGR.app_document.getRefRecord().state) {\n\t\tvar stateTrackingSysId = '' + staleVAPredictionStateGR.getUniqueValue();\n\t\tvar convSysId = '' + staleVAPredictionStateGR.app_document.getRefRecord().conversation;\n\t\tvar csTaskSysId = '' + staleVAPredictionStateGR.app_document;\n\t\tvar userSysId = '' + staleVAPredictionStateGR.user_id;\n\t\tsn_cs.VASystemObject.timeoutNLUPrediction(convSysId, csTaskSysId, stateTrackingSysId, userSysId);\n\t} else {\n\t\t// Just manually mark is as TIMED_OUT, so we never have to revisit this record again\n\t\tstaleVAPredictionStateGR.setValue('state', 'TIMED_OUT');\n\t\tstaleVAPredictionStateGR.update();\n\t}\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"condition":"new GlidePluginManager().isActive('com.glide.nlu.proxy') && gs.tableExists('open_nlu_predict_state_tracking');","sys_update_name":"sysauto_script_495f4ed15b22201007004d3ba881c7b0","offset_type":"","name":"Timeout For VA Chats Suspended on NLU Prediction","max_drift":"","run_period":"1970-01-01 00:00:30","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"weekly","sys_updated_on":"2018-10-17 09:07:02","sys_class_name":"sysauto_script","sys_id":"49bcce01ff120200d699ffffffffff97","sys_updated_by":"admin","sys_created_on":"2015-09-03 02:40:33","run_start":"2015-09-03 02:39:10","sys_name":"Service Model's Blob Reaper","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"7","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 09:00:00","sys_mod_count":"1","active":"true","time_zone":"","script":"sn_svcmod.ServiceDefinitionFactory.sweepBlobs();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/894cabf704352210559073c06a02f74e","value":"894cabf704352210559073c06a02f74e"},"condition":"","sys_update_name":"sysauto_script_49bcce01ff120200d699ffffffffff97","offset_type":"","name":"Service Model's Blob Reaper","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 02:00:00","run_as_tz":"","run_as":"","run_type":"daily","sys_updated_on":"2020-10-15 12:49:36","sys_class_name":"sysauto_script","sys_id":"4a2e2fa1c79710108ad4010703c2601a","sys_updated_by":"admin","sys_created_on":"2020-09-17 06:19:24","run_start":"2020-09-17 05:45:05","sys_name":"Update Final Knowledge Search Terms","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 02:00:00","sys_mod_count":"4","active":"true","time_zone":"floating","script":"var gd = null;\n//Uncomment below two lines and set the date to de-duplicate searches of a specific date.\n//gd = new GlideDate();\n//gd.setValue(\"2020-06-27\");\nvar searchDedup = new global.KBSearchDeduplication();\nsearchDedup.process(gd);","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2fe727ff04b12210559073c06a02f7dd","value":"2fe727ff04b12210559073c06a02f7dd"},"condition":"","sys_update_name":"sysauto_script_4a2e2fa1c79710108ad4010703c2601a","offset_type":"0","name":"Update Final Knowledge Search Terms","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2022-12-29 04:26:02","sys_class_name":"sysauto_script","sys_id":"4a63decb77ef111078521605bc5a99f2","sys_updated_by":"admin","sys_created_on":"2022-12-08 10:01:02","run_start":"2022-12-08 09:59:47","sys_name":"Insight - Cloud vs Non-cloud Aggregates","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"2","active":"true","time_zone":"","script":"var util = new sn_cmdb_ws.CMDBWsInsightUtil();\nutil.calculateAggregates();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"condition":"","sys_update_name":"sysauto_script_4a63decb77ef111078521605bc5a99f2","offset_type":"0","name":"Insight - Cloud vs Non-cloud Aggregates","max_drift":"","run_period":"1970-01-01 00:30:00","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2024-10-01 14:51:54","sys_class_name":"sysauto_script","sys_id":"4af6a14a77b111105f2ea1b35b5a99d4","sys_updated_by":"admin","sys_created_on":"2022-09-09 09:48:06","run_start":"2022-09-09 04:21:50","sys_name":"Application Service Manual Ep Cleanup","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"9","active":"true","time_zone":"","script":"try {\n    SNC.ServiceMappingFactory.disableRecomputationForCurrentThread();\n    deleteStaleManualEndpoints();\n} finally {\n    SNC.ServiceMappingFactory.enableRecomputationForCurrentThread();\n}\n\nfunction deleteStaleManualEndpoints() {\n    gs.debug(\"Application Service Manual Ep Cleanup: Started execution\");\n    var startTime, hashSysId;\n    var batchSize = parseInt(gs.getProperty(\"sa.service.stale_manual_endpoints_deletion.batch_size\", 5000));\n    new GlideQuery('sa_hash').where('name', 'sa.service.stale_manual_endpoints_deletion.last_run_date').selectOne('hash', \"sys_id\").ifPresent(function(record) {\n        startTime = record.hash;\n        hashSysId = record.sys_id;\n    });\n    if (!startTime) {\n        new GlideQuery('cmdb_ci_endpoint_manual').orderBy('sys_created_on').selectOne('sys_created_on').ifPresent(function(record) {\n            startTime = record.sys_created_on;\n        });\n    }\n    if (startTime) {\n        var newRecordsPresent = new GlideQuery('cmdb_ci_endpoint_manual').orderBy('sys_created_on').where('sys_created_on', '>', startTime).limit(batchSize).selectOne(\"sys_created_on\").isPresent();\n\n        if (!isNaN(batchSize)) {\n            var endpointsToDelete = [];\n            var relationsToDelete = [];\n            var endDate;\n            var endpointsToKeepDirectRelations = filterEndpointsToKeepDirectRelations(startTime, batchSize);\n            var gr = new GlideRecord(\"cmdb_ci_endpoint_manual\");\n            gr.orderBy(\"sys_created_on\");\n            gr.addQueryString(\"sys_created_on>=\" + startTime, true);\n            gr.setLimit(batchSize);\n            gr.query();\n            while (gr.next()) {\n                if (!isValidEndpoint(gr)) {\n                    endpointsToDelete.push(gr.getUniqueValue());\n                    if (!gs.nil(gr.getValue(\"direct_relation\")) && !endpointsToKeepDirectRelations[gr.getUniqueValue()]) {\n                        relationsToDelete.push(gr.getValue(\"direct_relation\"));\n                    }\n                }\n                endDate = gr.getValue(\"sys_created_on\");\n            }\n            batchDeleteMultiple(\"cmdb_ci_endpoint_manual\", endpointsToDelete);\n            batchDeleteMultiple(\"cmdb_rel_ci\", relationsToDelete);\n            if (!newRecordsPresent) {\n                gs.info(\"deleting hash sa.service.stale_manual_endpoints_deletion.last_run_date as no new records present to check\");\n                new GlideQuery('sa_hash').where('name', 'sa.service.stale_manual_endpoints_deletion.last_run_date').deleteMultiple();\n            } else {\n                var json = {\n                    name: 'sa.service.stale_manual_endpoints_deletion.last_run_date',\n                    hash: endDate\n                };\n                if (hashSysId) {\n                    json.sys_id = hashSysId;\n                }\n                new GlideQuery('sa_hash').insertOrUpdate(json);\n            }\n        } else {\n            gs.error(\"Invalid property value sa.service.stale_manual_endpoints_deletion.batch_size. Please update it to some integer value\");\n        }\n    }\n    gs.debug(\"Application Service Manual Ep Cleanup: completed execution\");\n}\n\nfunction batchDeleteMultiple(tableName, sysIds) {\n    gs.info(\"Application Service Manual Ep Cleanup: Deleting \" + sysIds.length + \" from table \" + tableName + \" as they are stale\");\n    for (var i = 0; i < sysIds.length; i += 500) {\n        new global.GlideQuery(tableName)\n            .where('sys_id', 'IN', sysIds.slice(i, i + 500))\n            .deleteMultiple();\n    }\n}\n\nfunction isValidEndpoint(gr) {\n\n    // to check if endpoint is valid\n    // 1. Check if service reference in bs field is same as bsId in endpoint identifier.\n    // 2. Check if target ci reference in target_ci field is same as target ci id present in endpoint identifier.\n    // 3. If source ci id is null in endpoint identifier source ci reference in endpoint should be empty.\n    // 4. If source ci id is not null in endpoint identifier validate that source ci reference in endpoint is same as source ci id in endpoint identifier.\n    // 5. If the sys_id's of the cis mentioned in identifier does not exists any more in cmdb we mark endpoint as invalid.\n    // 6. If the manual endpoint is no more associated to service mentioned in the identifier than also the endpoint is invalid.\n\n    var identifier = gr.getValue(\"endpoint_identifier\");\n    var sysId = gr.getUniqueValue();\n\n    try {\n\n        if (gs.nil(identifier)) {\n            return false;\n        }\n\n        identifier = identifier.replace(\"manualCiEndPoint\", \"\");\n        var cis = identifier.split(\"_\");\n        var bsId = cis[0];\n        var sourceCi = cis[1];\n        var targetCi = cis[2];\n\n        if (bsId != gr.getValue(\"bs\") || targetCi != gr.getValue(\"target_ci\")) {\n            return false;\n        }\n\n        if (sourceCi == 'null' && !gs.nil(gr.getValue(\"source_ci\"))) {\n            return false;\n        } else if (sourceCi != 'null' && sourceCi != gr.getValue(\"source_ci\")) {\n            return false;\n        }\n\n        var notNullCis = cis.filter(function(e) {\n            return e !== 'null';\n        });\n\n        if (notNullCis.length < 2) {\n            return false;\n        }\n\n        var uniqueCIs = {};\n        for (var i = 0; i < notNullCis.length; i++) {\n            uniqueCIs[notNullCis[i]] = true;\n        }\n\n        var ciCount = new GlideQuery('cmdb_ci').where('sys_id', 'IN', Object.keys(uniqueCIs)).count();\n\n        if (ciCount == Object.keys(uniqueCIs).length) {\n            if (!new GlideQuery('svc_ci_assoc').where(\"ci_id\", sysId).where(\"service_id\", bsId).count() > 0) {\n                return false;\n            }\n        } else {\n            return false;\n        }\n        return true;\n    } catch (e) {\n        // we will consider the endpoint as valid if any error occurs in identification of invalid endpoint\n        gs.error(\"Application Service Manual Ep Cleanup: Exception for endpoint : \" + sysId + \" : \" + e);\n        return true;\n    }\n}\n\nfunction filterEndpointsToKeepDirectRelations(startTime, batchSize) {\n\n    // If Manual EP Deprecation is enabled get all endpoints in the current batch that are related to a dynamic service\n\n    var endpointIdSet = {};\n\n    if (gs.getProperty(\"glide.service_mapping.recomputation.deprecate_manual_eps\", 'false') == 'false') {\n        return endpointIdSet;\n    }\n    var gr = new GlideRecord(\"cmdb_ci_endpoint_manual\");\n    gr.orderBy(\"sys_created_on\");\n    gr.addQueryString(\"sys_created_on>=\" + startTime, true);\n    gr.addJoinQuery('cmdb_ci_service_calculated', 'bs', 'sys_id').addCondition('type', '5');\n    gr.setLimit(batchSize);\n    gr.query();\n\n    while (gr.next())\n        endpointIdSet[gr.getUniqueValue()] = true;\n\n    return endpointIdSet;\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"condition":"JSUtil.toBoolean(gs.getProperty(\"sa.service.stale_manual_endpoints_deletion.enabled\", \"true\"));","sys_update_name":"sysauto_script_4af6a14a77b111105f2ea1b35b5a99d4","offset_type":"0","name":"Application Service Manual Ep Cleanup","max_drift":"","run_period":"1970-01-01 05:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 06:00:00","run_as_tz":"","run_as":"","run_type":"daily","sys_updated_on":"2023-06-20 02:42:24","sys_class_name":"sysauto_script","sys_id":"4b31823ba1ad2510f877e878436a2fbd","sys_updated_by":"admin","sys_created_on":"2023-03-20 02:42:24","run_start":"2023-03-20 02:41:25","sys_name":"Upload And Download Roles","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bcadabf277f311109c62f5f3cb5a992a","value":"bcadabf277f311109c62f5f3cb5a992a"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 14:00:00","sys_mod_count":"1","active":"false","time_zone":"","script":"\n\t\t\t new RoleSyncer().syncRoles();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bcadabf277f311109c62f5f3cb5a992a","value":"bcadabf277f311109c62f5f3cb5a992a"},"condition":"","sys_update_name":"sysauto_script_4b31823ba1ad2510f877e878436a2fbd","offset_type":"0","name":"Upload And Download Roles","max_drift":"1970-01-01 02:00:00","run_period":"","sys_policy":"read"},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":"","run_type":"periodically","sys_updated_on":"2024-10-09 15:22:14","sys_class_name":"sysauto_script","sys_id":"4b72c152eb921110c27601c7c152282b","sys_updated_by":"admin","sys_created_on":"2022-10-04 16:53:09","run_start":"2022-10-04 16:52:18","sys_name":"Timeout For VA-OneExtend Interactive Chats","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"5","active":"true","time_zone":"","script":"// Check periodically for timed out VA-OneExtend interactive chats.\n// Error out the conversation if it has timed out for the specified amount of time\nvar gr = new GlideRecord('sys_cs_one_extend_invocation');\ngr.addNullQuery('response_state');\ngr.addNullQuery('timed_out_on');\ngr.addNullQuery('cancelled_on');\ngr.addNullQuery('outputs_received_on');\ngr.addQuery('execution_mode', 'WAIT_FOR_RESPONSE_ASYNC');\ngr.query();\n\nwhile (gr.next()) {\n    var time = new GlideDateTime();\n    var executionStartTime = new GlideDateTime(gr.getValue('sent_on')).getNumericValue();\n    if ((time.getNumericValue() - executionStartTime) > gr.getValue('timeout') * 1000) {\n        if ('suspended' == gr.calling_cs_conversation_task.state) {\n            sn_cs.VASystemObject.oneExtendTimedOut(gr.getValue('transaction_id'));\n        }\n        // Always manually mark is as TIMED_OUT, so we never have to revisit this record again\n        gr.setValue('response_state', 'TIMED_OUT');\n        gr.setValue('timed_out_on', time);\n        gr.update();\n    }\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"condition":"","sys_update_name":"sysauto_script_4b72c152eb921110c27601c7c152282b","offset_type":"0","name":"Timeout For VA-OneExtend Interactive Chats","max_drift":"","run_period":"1970-01-01 00:00:30","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"monthly","sys_updated_on":"2018-02-02 01:29:30","sys_class_name":"sysauto_bm_script","sys_id":"4cc7f2a6cb3803008c061aeb034c9cc6","sys_updated_by":"admin","sys_created_on":"2017-08-28 16:50:19","run_start":"2017-08-28 16:48:34","sys_name":"Validate parent child indicators active synced and activity dates are updated","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 13:45:00","sys_mod_count":"3","active":"true","time_zone":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_update_name":"sysauto_bm_script_4cc7f2a6cb3803008c061aeb034c9cc6","offset_type":"0","name":"Validate parent child indicators active synced and activity dates are updated","max_drift":"","run_period":"","sys_policy":"protected"},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/admin","value":"admin"},"run_type":"weekly","sys_updated_on":"2023-09-19 19:29:07","sys_class_name":"sysauto_script","sys_id":"4dd3e99a59d53510f877bf48b853ce6f","sys_updated_by":"admin","sys_created_on":"2023-09-17 18:40:46","run_start":"2023-09-17 18:37:29","sys_name":"Send password reset process security score notification","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 00:00:00","sys_mod_count":"0","active":"true","time_zone":"floating","script":"new global.PwdProcessStrengthCalculatorUtil().sendConfigSecurityScoreNotification();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/421beb3304352210559073c06a02f7ef","value":"421beb3304352210559073c06a02f7ef"},"condition":"","sys_update_name":"sysauto_script_4dd3e99a59d53510f877bf48b853ce6f","offset_type":"0","name":"Send password reset process security score notification","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/maint","value":"maint"},"run_type":"periodically","sys_updated_on":"2018-05-22 15:55:43","sys_class_name":"sysauto_script","sys_id":"4debada00b1213004752ce3ff6673a1a","sys_updated_by":"maint","sys_created_on":"2018-05-22 15:55:43","run_start":"2018-05-22 15:54:37","sys_name":"Purge empty rollback contexts","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"maint","upgrade_safe":"false","offset":"","run_time":"1970-01-01 06:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"new GlideRollbackReaper().purgeEmptyContexts();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ddd4e7bf04312210559073c06a02f78d","value":"ddd4e7bf04312210559073c06a02f78d"},"condition":"","sys_update_name":"sysauto_script_4debada00b1213004752ce3ff6673a1a","offset_type":"0","name":"Purge empty rollback contexts","max_drift":"","run_period":"1970-01-01 12:00:00","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2023-10-24 22:52:41","sys_class_name":"sysauto_script","sys_id":"4e31db4b73f0011026f6aa114df6a7b7","sys_updated_by":"admin","sys_created_on":"2022-01-07 01:29:42","run_start":"2022-01-07 01:26:02","sys_name":"CMDB Cascade Retire Dependent CIs","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"2","active":"true","time_zone":"","script":"SNC.CMDBDataManagerScriptableApis.processCascadeRetire();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"condition":"\n\t\t\t(gs.getProperty('cmdb.dependent.ci.cascade.retire.enabled', 'true') === 'true');","sys_update_name":"sysauto_script_4e31db4b73f0011026f6aa114df6a7b7","offset_type":"0","name":"CMDB Cascade Retire Dependent CIs","max_drift":"","run_period":"1970-01-01 04:00:00","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2021-12-07 03:34:34","sys_class_name":"sysauto_script","sys_id":"4e996095773330108f64b2487b5a9976","sys_updated_by":"admin","sys_created_on":"2021-11-12 09:42:25","run_start":"2021-11-12 09:41:31","sys_name":"Generate Employee Profiles from Users","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1e95bac2738f001001b566b90ff6a7cd","value":"1e95bac2738f001001b566b90ff6a7cd"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"2","active":"true","time_zone":"","script":"gs.info(gs.getMessage(\"[Generate Employee Profiles from Users]: Creating Employee Profile records from Users\"));\nvar count = new sn_employee.ep_generateEmployeeProfileUtil().createEmployeeProfilesFromUsers();\ngs.info(gs.getMessage(\"[Generate Employee Profiles from Users]: Created {0} Employee Profile records\", [count]));","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1e95bac2738f001001b566b90ff6a7cd","value":"1e95bac2738f001001b566b90ff6a7cd"},"condition":"var util = new sn_employee.ep_generateEmployeeProfileUtil();\nanswer = util && util.shouldJobRun(current);","sys_update_name":"sysauto_script_4e996095773330108f64b2487b5a9976","offset_type":"0","name":"Generate Employee Profiles from Users","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2021-12-05 06:29:25","sys_class_name":"sysauto_script","sys_id":"4f3112170708c1108d6d78e99cd300bb","sys_updated_by":"admin","sys_created_on":"2021-12-01 08:40:04","run_start":"2021-12-01 08:37:52","sys_name":"Generate Employee Profiles from HR Profiles","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1e95bac2738f001001b566b90ff6a7cd","value":"1e95bac2738f001001b566b90ff6a7cd"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"3","active":"true","time_zone":"","script":"gs.info(gs.getMessage(\"[Generate Employee Profiles from HR Profiles]: Creating Employee Profile records from HR Profiles\"));\nvar count = new sn_employee.ep_generateEmployeeProfileUtil().createEmployeeProfilesFromHRProfiles();\ngs.info(gs.getMessage(\"[Generate Employee Profiles from HR Profiles]: Created {0} Employee Profile records\", [count]));","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1e95bac2738f001001b566b90ff6a7cd","value":"1e95bac2738f001001b566b90ff6a7cd"},"condition":"","sys_update_name":"sysauto_script_4f3112170708c1108d6d78e99cd300bb","offset_type":"0","name":"Generate Employee Profiles from HR Profiles","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/d3383a875b0132003d1c484c11f91a5b","value":"d3383a875b0132003d1c484c11f91a5b"},"run_type":"monthly","sys_updated_on":"2018-04-16 19:13:27","sys_class_name":"sysauto_bm_script","sys_id":"50204d8159e95300964f7b66b9c37d3f","sys_updated_by":"maint","sys_created_on":"2018-04-16 19:13:18","run_start":"2016-11-18 23:11:01","sys_name":"ScheduleBenchmarkDownload","run_dayofmonth":"9","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"run_dayofweek":"1","sys_created_by":"maint","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"1","active":"true","time_zone":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_update_name":"sysauto_bm_script_50204d8159e95300964f7b66b9c37d3f","offset_type":"0","name":"ScheduleBenchmarkDownload","max_drift":"","run_period":"","sys_policy":"protected"},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2021-09-15 00:05:03","sys_class_name":"sysauto_script","sys_id":"5058b7f2c70230109d59fa49f4c26022","sys_updated_by":"admin","sys_created_on":"2021-08-22 16:52:21","run_start":"2021-09-14 18:08:03","sys_name":"start key exchange when ready","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"118","active":"false","time_zone":"","script":"(function(){\n\tgs.error(\"Resource Exchange: started auto key exchange process.\");\n\tnew SNC.KMFKeyExchangePostCloneAPI().startKeyExchangeCloneFromJob();\n\tcurrent.active = false;\n\tcurrent.update();\n}());","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7f83a3f304312210559073c06a02f787","value":"7f83a3f304312210559073c06a02f787"},"condition":"(function() {\n\tvar kmfAutomationInterface = new SNC.KMFAutomationInterface();\n\tvar localInstanceId = gs.getProperty(\"instance_id\");\n\tvar isTargetReady = kmfAutomationInterface.isInstancePublicKeysPresentInNetwork(localInstanceId);\n\tif (isTargetReady == false)\n\t\tgs.error(\"Resource Exchange: Unable to find instance certificates in the network for local target instance.\");\n\tvar keySourceInstanceId = new SNC.KMFKeyExchangePostCloneAPI().getAutoKeyExchangeSourceInstanceId();\n\tvar isKeySourceReady = kmfAutomationInterface.isInstancePublicKeysPresentInNetwork(keySourceInstanceId);\n\tif (isKeySourceReady == false)\n\t\tgs.error(\"Resource Exchange: Unable to find instance certificates in the network for key source instance.\");\n\tif (canStop() == true || keySourceInstanceId === \"\") {\n\t\tgs.error(\"Resource Exchange: auto key exchange job expired and the job is cancelled.\");\n\t\tcurrent.active = false;\n\t\tcurrent.update();\n\t}\n\treturn isTargetReady && isKeySourceReady;\n}());\n\n\nfunction canStop() {\n\tvar tryCount = parseInt(gs.getProperty(\"glide_encryption.auto_key_exchange.job_restart_count\", 5),10);\n\tvar run_interval = parseInt(gs.getProperty(\"glide_encryption.auto_key_exchange.job_run_interval\", 5),10);\n\tvar run_start = current.run_start.getGlideObject();\n\tvar expectedStopTime = new GlideDateTime();\n\texpectedStopTime.setDisplayValue(run_start.getDisplayValue());\n\texpectedStopTime.addSeconds(tryCount * run_interval * 60);\n\tvar now = new GlideDateTime();\n\tvar result = now.after(expectedStopTime);\n\treturn result;\n}","sys_update_name":"sysauto_script_5058b7f2c70230109d59fa49f4c26022","offset_type":"0","name":"start key exchange when ready","max_drift":"","run_period":"1970-01-01 00:05:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2022-02-02 23:08:09","sys_class_name":"sysauto_script","sys_id":"50e3f5b3ff1101100bd6ffb0653bf123","sys_updated_by":"admin","sys_created_on":"2022-02-02 23:08:09","run_start":"2022-02-02 23:05:03","sys_name":"Run normalization job daily","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"new SNC.BatchedJob().runJobIfNotRunning();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c82e63b304752210559073c06a02f748","value":"c82e63b304752210559073c06a02f748"},"condition":"","sys_update_name":"sysauto_script_50e3f5b3ff1101100bd6ffb0653bf123","offset_type":"0","name":"Run normalization job daily","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2020-04-07 20:14:01","sys_class_name":"sysauto_script","sys_id":"51e91f91730c1010ee4dd3c72bf6a7fa","sys_updated_by":"admin","sys_created_on":"2020-04-07 20:14:01","run_start":"2020-03-24 04:57:21","sys_name":"Calculate Application Service Types","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"SNC.CSDMReportProcessor.processAppServicesTypes();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2f8d67ff04352210559073c06a02f74f","value":"2f8d67ff04352210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_51e91f91730c1010ee4dd3c72bf6a7fa","offset_type":"","name":"Calculate Application Service Types","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2015-11-30 20:24:01","sys_class_name":"sysauto_script","sys_id":"524c4ba1d7001200c1ed0fbc5e610394","sys_updated_by":"admin","sys_created_on":"2015-11-30 20:23:48","run_start":"2015-11-30 20:21:24","sys_name":"CMDB Health Dashboard - Compliance Score Calculation\n","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 11:00:00","sys_mod_count":"1","active":"false","time_zone":"","script":"\n SNC.MetricProcessorScript.complianceManager();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_524c4ba1d7001200c1ed0fbc5e610394","offset_type":"0","name":"CMDB Health Dashboard - Compliance Score Calculation","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2020-09-10 19:48:17","sys_class_name":"sysauto_bm_script","sys_id":"528c78655b551300514d484c11f91aeb","sys_updated_by":"admin","sys_created_on":"2018-04-05 22:09:41","run_start":"2018-04-05 21:58:52","sys_name":"Copy historical scores from PA to Benchmarks table","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"11","active":"true","time_zone":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_update_name":"sysauto_bm_script_528c78655b551300514d484c11f91aeb","offset_type":"0","name":"Copy historical scores from PA to Benchmarks table","max_drift":"","run_period":"","sys_policy":"protected"},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2024-10-08 11:36:45","sys_class_name":"sysauto_script","sys_id":"52a28136b54d5210f877f829dcce6bbd","sys_updated_by":"admin","sys_created_on":"2024-10-08 11:36:35","run_start":"2024-10-08 11:36:09","sys_name":"Temporary Lists Auto Delete","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3db8027898a93973f08538e42f091589","value":"3db8027898a93973f08538e42f091589"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 00:00:00","sys_mod_count":"0","active":"true","time_zone":"floating","script":"            \n        // Retrieve retention days from system property, defaulting to 5 if not set\n        var retentionDays = gs.getProperty('glide.ui.sys_ux_my_list.auto_deletion_threshold_days', 5);\n\n        // Calculate cutoff date by subtracting retention days from current date\n        var cutoffDate = new GlideDateTime();\n        cutoffDate.addDaysUTC(-retentionDays); // Records older than this date will be deleted\n\n        // Create a GlideRecord query to find records that match the deletion criteria\n        var gr = new GlideRecord('sys_ux_my_list');\n        gr.addQuery('opened_by_link', true);\n        gr.addQuery('sys_created_on', '<', cutoffDate); // Only records older than cutoffDate\n        gr.query();\n\n        // Check if any records exist and delete them in a batch\n        if (gr.hasNext()) {\n            gs.info('Deleting records older than ' + retentionDays + ' days from sys_ux_my_list...');\n            gr.deleteMultiple();\n            gs.info('Records deleted successfully.');\n        } else {\n            gs.info('No records to delete.');\n\t\t\t}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3db8027898a93973f08538e42f091589","value":"3db8027898a93973f08538e42f091589"},"condition":"","sys_update_name":"sysauto_script_52a28136b54d5210f877f829dcce6bbd","offset_type":"0","name":"Temporary Lists Auto Delete","max_drift":"","run_period":"","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2023-07-30 18:07:25","sys_class_name":"sysauto_script","sys_id":"53a48dfc97987d50a24c75b71153af06","sys_updated_by":"now.discovery.content","sys_created_on":"2023-07-25 07:32:08","run_start":"2023-07-25 07:27:43","sys_name":"Mark VM state as terminated","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"now.discovery.content","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:02:00","sys_mod_count":"0","active":"false","time_zone":"","script":"\n    \n    //This job marks the state for the existing retired VMware VMs state as terminated\n    gs.info(\"Scheduled Job Started : Mark VM state as terminated\");\n    var batch_size = 10000;\n    var job_count = 10;\n    var total_records = batch_size * job_count;\n\n    var vmGR = new GlideRecord(\"cmdb_ci_vmware_instance\");\n    vmGR.addQuery(\"state\", \"\");\n    vmGR.addQuery(\"install_status\", 7);\n    vmGR.setLimit(total_records);\n    vmGR.query();\nif (!vmGR.hasNext()) {\n\tvar jobGr = new GlideRecord(\"sysauto_script\");\n\tjobGr.addQuery(\"sys_id\", \"53a48dfc97987d50a24c75b71153af06\"); // Sys id of this Scheduled job\n\tjobGr.query();\n\tif (jobGr.next()) {\n\t\tjobGr.setValue(\"active\", false); // If no old model compute template records are not present, deactivate this schedule job\n\t\tjobGr.update();\n\t\tgs.info(\"Scheduled Job Mark VM state as terminated is marked inactive\");\n\t}\n} else {\n    for (var count = 0; count < job_count; count++) {\n        var vmSysIds = [];\n        for (var i = 0; i < batch_size && vmGR.next(); i++) {\n            vmSysIds.push('' + vmGR.sys_id);\n        }\n        if (vmSysIds) {\n            var job = new GlideRunScriptJob();\n            job.scheduleScript(\"var vmGR = new GlideRecord('cmdb_ci_vmware_instance');\\n\" +\n\t\t\t\t\t\t\t\t   \"vmGR.addQuery('sys_id', 'IN', '\"+   vmSysIds +\"');\\n\" +\n\t\t\t\t\t\t\t\t   \"vmGR.setValue('state', 'terminated');\\n\" +\n\t\t\t\t\t\t\t\t   \"vmGR.updateMultiple();\\n\", \"Mark VM state as terminated\", new GlideDateTime());\n        }\n    }\n}\ngs.info(\"Scheduled Job Ended : Mark VM state as terminated\");","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/91d8237704f12210559073c06a02f73b","value":"91d8237704f12210559073c06a02f73b"},"condition":"\n    \n    //Trigger new job only when all previously launched jobs are completed.\n    var triggerGr = new GlideRecord('sys_trigger');\n    triggerGr.addQuery('name', 'ASYNC: Mark VM state as terminated');\n    triggerGr.query();\n    triggerGr.getRowCount() == 0;","sys_update_name":"sysauto_script_53a48dfc97987d50a24c75b71153af06","offset_type":"0","name":"Mark VM state as terminated","max_drift":"","run_period":"1970-01-01 00:02:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2019-06-13 21:29:33","sys_class_name":"sysauto_script","sys_id":"545c344523b30300cc4bcb0a56bf6523","sys_updated_by":"admin","sys_created_on":"2018-01-19 19:06:45","run_start":"2017-03-02 11:44:35","sys_name":"Populate Meta Description on KB Articles","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"14","active":"true","time_zone":"","script":"\nif (pm.isActive('com.snc.knowledge_serviceportal')) {\n\tvar seoMetaDescLength = parseInt(gs.getProperty('glide.knowman.seo.pages.meta_description.length',100));\n\tpopulateMetaDescriptionOnKBArticles();\n}\n\nfunction populateMetaDescriptionOnKBArticles() {\n\n\tvar gr = new GlideRecord('kb_knowledge');\n\tgr.addQuery(\"workflow_state\",\"published\");\n\tgr.query();\n\t\n\tvar count = 0, kbCount = gr.getRowCount(), glideSPScriptable = null, kbMod = null;\n\tgs.info(\"Populate Meta Description on KB Articles :: total published articles found: \"+kbCount);\n\n\tif (kbCount > 0) {\n\t\t// populating meta desc only when any published articles are found\n\t\tglideSPScriptable = new GlideSPScriptable();\n\t\tkbMod = new global.KBViewModel();\n\t\tgr.setWorkflow(false); // no need to execute business rules on kb_knowledge\n\t\t\n\t\twhile(gr.next()) {\n\t\t\tvar metaDesc = getMetaDescription(gr);\n\t\t\tvar oldValue = gr.getValue(\"meta_description\");\n\t\t\tgr.setValue(\"meta_description\",metaDesc);\n\t\t\tgr.setWorkflow(false); // no need to execute business rules on kb_knowledge\n\n\t\t\tif (oldValue != metaDesc && gr.update())\n\t\t\t\tcount = count + 1;\n\t\t}\n\t}\n\tgs.info(\"Populate Meta Description on KB Articles :: total articles updated with meta description: \"+count);\n\t\n\tfunction getMetaDescription(kb) {\n\t\tif (gs.nil(kb) || gs.nil(kb.sys_id))\n\t\t\treturn \"\";\n\n\t\tvar desc = \"\";\n\t\tvar content = kbMod.getArticleContentForMetaDescription(kb);\n\t\tif (!gs.nil(content)) {\n\t\t\tcontent = glideSPScriptable.stripHTML(content) + \"\";\n\t\t\tif(!gs.nil(content)){\n\t\t\t\tdesc = content.substring(0,seoMetaDescLength);\n\t\t\t\tdesc = desc + content.substring(seoMetaDescLength).split(\" \")[0];\n\t\t\t}\n\t\t}\n\t\treturn desc;\n\t}\n}\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2fe727ff04b12210559073c06a02f7dd","value":"2fe727ff04b12210559073c06a02f7dd"},"condition":"","sys_update_name":"sysauto_script_545c344523b30300cc4bcb0a56bf6523","offset_type":"0","name":"Populate Meta Description on KB Articles","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"weekly","sys_updated_on":"2021-11-29 20:33:52","sys_class_name":"sysauto_script","sys_id":"54b1ee727380011007d56ad9af148b59","sys_updated_by":"admin","sys_created_on":"2021-11-29 20:33:52","run_start":"2021-11-29 20:32:48","sys_name":"Compact IRE Mutex table","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"3","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 06:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"SNC.IdentificationEngineScriptableApi.compactIREMutexTable();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_54b1ee727380011007d56ad9af148b59","offset_type":"0","name":"Compact IRE Mutex table","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2020-04-14 22:16:55","sys_class_name":"sysauto_script","sys_id":"54fc51db73c81010af8a1fd9fdf6a700","sys_updated_by":"admin","sys_created_on":"2020-04-13 16:18:12","run_start":"2020-04-13 16:15:56","sys_name":"CMDB MultiSource Recompute Task Processor","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"7","active":"true","time_zone":"","script":"/* Backup job to cover the case when job-chaining fails either thread or node got killed*/\nSNC.MultiSourceScriptableApi.processRecomputeTaskFromQueue();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_54fc51db73c81010af8a1fd9fdf6a700","offset_type":"0","name":"CMDB MultiSource Recompute Task Processor","max_drift":"","run_period":"1970-01-01 02:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2024-04-04 22:22:26","sys_class_name":"sysauto_script","sys_id":"575294e85311021088a1ddeeff7b12cc","sys_updated_by":"admin","sys_created_on":"2024-03-28 22:23:50","run_start":"2024-03-28 22:23:21","sys_name":"Check Glide Service Status V2","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"2","active":"true","time_zone":"","script":"var isV2 = gs.getProperty('glide.services.dish_v2');\nif (isV2 == 'true') {\n\tSNC.GlideServiceEndpointUpdater.process();\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4e646fbb04312210559073c06a02f721","value":"4e646fbb04312210559073c06a02f721"},"condition":"","sys_update_name":"sysauto_script_575294e85311021088a1ddeeff7b12cc","offset_type":"0","name":"Check Glide Service Status V2","max_drift":"1970-01-01 00:03:00","run_period":"1970-01-01 00:05:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2019-04-02 19:52:06","sys_class_name":"sysauto_script","sys_id":"57a6684e77a433004d4eb5b2681061ba","sys_updated_by":"admin","sys_created_on":"2019-04-02 19:15:31","run_start":"2019-04-02 18:26:16","sys_name":"Update Recorded At for Version","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 11:00:00","sys_mod_count":"1","active":"true","time_zone":"","script":"SNC.UpdateRecordedAtFixer.setSysRecordedAtUpdateVersion();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6154e3bb04312210559073c06a02f7f0","value":"6154e3bb04312210559073c06a02f7f0"},"condition":"","sys_update_name":"sysauto_script_57a6684e77a433004d4eb5b2681061ba","offset_type":"0","name":"Update Recorded At for Version","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2020-09-23 18:32:55","sys_class_name":"sysauto_script","sys_id":"59375537b7131010c8c208fd7e11a972","sys_updated_by":"david.airmet@snc","sys_created_on":"2020-09-23 18:32:55","run_start":"2020-09-23 18:00:00","sys_name":"cleanup_sys_json_chunks_missing_parent_sys_flow_context","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"david.airmet@snc","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:30:00","sys_mod_count":"0","active":"false","time_zone":"","script":"var deleteSize = 1000;\nvar contextChunks = new GlideRecord('flow_context_chunk');\ncontextChunks.addEncodedQuery('jc_source_table=sys_flow_context^fc_sys_id=');\ncontextChunks.setLimit(100000);  // a maximum of 100,000 rows will be deleted per run (~30 seconds in load testing)\ncontextChunks.query();\nvar ids = [];\nwhile (contextChunks.next()) {\n  ids.push(contextChunks.jc_sys_id.toString());\n  if (ids.length >= deleteSize) {\n    deleteChunks(ids);\n    ids = [];\n  }\n}\nif (ids.length > 0) {\n deleteChunks(ids);\n}\n\nfunction deleteChunks(ids) {\n  var chunks = new GlideRecord('sys_json_chunk');\n  chunks.addQuery('sys_id', 'IN', ids.join(','));\n  chunks.query();\n  chunks.deleteMultiple();\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/063be77304352210559073c06a02f7e4","value":"063be77304352210559073c06a02f7e4"},"condition":"","sys_update_name":"sysauto_script_59375537b7131010c8c208fd7e11a972","offset_type":"0","name":"cleanup_sys_json_chunks_missing_parent_sys_flow_context","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2020-03-24 06:41:01","sys_class_name":"sysauto_script","sys_id":"59d18cb873b30010ee4dd3c72bf6a7bb","sys_updated_by":"admin","sys_created_on":"2020-03-24 04:58:41","run_start":"2020-03-24 04:57:21","sys_name":"Calculate Databases not in an application service","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"1","active":"true","time_zone":"","script":"SNC.CSDMReportProcessor.process(\"cmdb_ci_db_instance\");","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2f8d67ff04352210559073c06a02f74f","value":"2f8d67ff04352210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_59d18cb873b30010ee4dd3c72bf6a7bb","offset_type":"","name":"Calculate Databases not in an application service","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2018-05-18 14:20:56","sys_class_name":"sysauto_script","sys_id":"5dd751e0c32132004112b348b1d3ae9f","sys_updated_by":"admin","sys_created_on":"2017-03-13 15:19:49","run_start":"2017-03-13 15:17:35","sys_name":"Clean PA scores","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 23:00:00","sys_mod_count":"4","active":"true","time_zone":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/539a23bf04f12210559073c06a02f7aa","value":"539a23bf04f12210559073c06a02f7aa"},"sys_update_name":"sysauto_script_5dd751e0c32132004112b348b1d3ae9f","offset_type":"0","name":"Clean PA scores","max_drift":"","run_period":"","sys_policy":"protected"},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 08:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"monthly","sys_updated_on":"2023-05-09 06:40:22","sys_class_name":"sysauto_script","sys_id":"5df51be7cb2600101b6b1a2df8076def","sys_updated_by":"admin","sys_created_on":"2020-01-31 06:23:02","run_start":"2020-01-31 06:08:57","sys_name":"Notification for Article Expiry Warning","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-02 05:00:00","sys_mod_count":"1","active":"true","time_zone":"","script":"new KBKnowledge().notifyForExpiringArticles();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2fe727ff04b12210559073c06a02f7dd","value":"2fe727ff04b12210559073c06a02f7dd"},"condition":"answer = false;\nif (gs.getProperty(\"glide.knowman.enable_article_expiry_notification\", \"false\")===\"true\") {\n    var gr = new GlideRecord('kb_knowledge');\n    gr.addEncodedQuery('workflow_stateINpublished^kb_knowledge_base.active=true^valid_toONNext month@javascript:gs.beginningOfNextMonth()@javascript:gs.endOfNextMonth()');\n    gr.query();\n    answer = gr.next();\n}","sys_update_name":"sysauto_script_5df51be7cb2600101b6b1a2df8076def","offset_type":"0","name":"Notification for Article Expiry Warning","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":"","run_type":"daily","sys_updated_on":"2025-05-08 19:33:24","sys_class_name":"sysauto_script","sys_id":"600d98175b322110bfc36b155981c7ba","sys_updated_by":"admin","sys_created_on":"2023-05-19 09:28:19","run_start":"2023-05-19 09:25:02","sys_name":"Licensing Error Upload","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bcadabf277f311109c62f5f3cb5a992a","value":"bcadabf277f311109c62f5f3cb5a992a"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 13:00:00","sys_mod_count":"2","active":"true","time_zone":"","script":"var uploader = new LicensingErrorLogSyncer(); uploader.syncLicensingErrorLog();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bcadabf277f311109c62f5f3cb5a992a","value":"bcadabf277f311109c62f5f3cb5a992a"},"condition":"","sys_update_name":"sysauto_script_600d98175b322110bfc36b155981c7ba","offset_type":"0","name":"Licensing Error Upload","max_drift":"","run_period":"","sys_policy":"read"},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":"","run_type":"daily","sys_updated_on":"2025-05-08 19:33:37","sys_class_name":"sysauto_script","sys_id":"61c8d452ffc642107512fffffffffffc","sys_updated_by":"admin","sys_created_on":"2024-05-10 16:09:27","run_start":"2024-05-10 16:07:50","sys_name":"Recommender V2: Recommender Subscriptions for Unmapped Custom Apps &  Unmapped Global Custom Tables ","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bcadabf277f311109c62f5f3cb5a992a","value":"bcadabf277f311109c62f5f3cb5a992a"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 10:30:00","sys_mod_count":"4","active":"true","time_zone":"","script":"if (gs.getProperty(\"sn_entitlement.subscription_recommender_v2.is_active\", \"false\") === \"true\") {\n\tAppAndCustomTableRecommenderRunner.run();\n} else {\n\tgs.info(\"RecommenderEngine V2 is not in use, the RecommenderEngineV2 job has been skipped.\");\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bcadabf277f311109c62f5f3cb5a992a","value":"bcadabf277f311109c62f5f3cb5a992a"},"condition":"","sys_update_name":"sysauto_script_61c8d452ffc642107512fffffffffffc","offset_type":"0","name":"Recommender V2: Recommender Subscriptions for Unmapped Custom Apps &  Unmapped Global Custom Tables ","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"weekly","sys_updated_on":"2019-11-26 19:27:20","sys_class_name":"sysauto_script","sys_id":"625c3df3739800109a1136366bf6a7d7","sys_updated_by":"admin","sys_created_on":"2019-10-11 22:09:48","run_start":"2019-10-11 21:54:40","sys_name":"SAM - Calculate Asset Refresh Eligibility","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"7","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"3","active":"true","time_zone":"","script":"calculateAssetRefreshEligibility();\nfunction calculateAssetRefreshEligibility(){\n\ttry{\n\t\tgs.log('SAM - Compute Asset Refresh Eligibility job status: Running');\n\t\tnew SAMRefreshEligibityCalculator().process();\n\t}\n\tcatch(error){\n\t\tgs.error('SAM - Compute Asset Refresh Eligibility job status: Failed ' + error);\n\t}\n\tgs.log('SAM - Compute Asset Refresh Eligibility job status: Completed');\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e325237304712210559073c06a02f7be","value":"e325237304712210559073c06a02f7be"},"condition":"","sys_update_name":"sysauto_script_625c3df3739800109a1136366bf6a7d7","offset_type":"0","name":"SAM - Calculate Asset Refresh Eligibility","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":"","run_type":"daily","sys_updated_on":"2023-12-07 20:00:24","sys_class_name":"sysauto_script","sys_id":"62783d62d4a92910f877ce4a4aac6985","sys_updated_by":"maint","sys_created_on":"2023-03-16 04:51:15","run_start":"2023-03-16 04:50:44","sys_name":"Discover Custom Licensable Roles","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bcadabf277f311109c62f5f3cb5a992a","value":"bcadabf277f311109c62f5f3cb5a992a"},"run_dayofweek":"1","sys_created_by":"maint","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"5","active":"false","time_zone":"","script":"var licenseRoleDiscoveryService = new LicenseRoleDiscoveryService();\nlicenseRoleDiscoveryService.analyzeCustomRoles();\nlicenseRoleDiscoveryService.analyzeCustomizedOutOfTheBoxRoles();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bcadabf277f311109c62f5f3cb5a992a","value":"bcadabf277f311109c62f5f3cb5a992a"},"condition":"","sys_update_name":"sysauto_script_62783d62d4a92910f877ce4a4aac6985","offset_type":"0","name":"Discover Custom Licensable Roles","max_drift":"","run_period":"","sys_policy":"read"},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":"","run_type":"periodically","sys_updated_on":"2023-12-01 15:59:45","sys_class_name":"sysauto_script","sys_id":"6394619173031110dc50c3ed8ff6a7f4","sys_updated_by":"admin","sys_created_on":"2022-11-07 23:34:35","run_start":"2020-11-11 21:22:56","sys_name":"CMDB Multisource Data Cleanup","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:45:00","sys_mod_count":"11","active":"true","time_zone":"","script":"// if target record (cmdb or non-cmdb) no longer exists then delete cmdb multisource record.\n\t\t // Cloning of this job will not help with faster cleanup (DO NOT CLONE).\nvar limitPropertyName = 'glide.cmdb.multisourceData_cleanup';\nvar tableToClean = 'cmdb_multisource_data';\nvar targetColumnName = 'ci';\nvar targetColumnTable = 'class';\nvar jobContextName = 'cmdbMultisourceDataCleanUpIterationSysId';\nvar cmdbTableCleanup = new CMDBTableCleanup(limitPropertyName, tableToClean,\n  targetColumnName, targetColumnTable, jobContextName);\ncmdbTableCleanup.cleanRecords();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_6394619173031110dc50c3ed8ff6a7f4","offset_type":"0","name":"CMDB Multisource Data Cleanup","max_drift":"","run_period":"1970-01-01 00:10:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2021-04-13 02:55:12","sys_class_name":"sysauto_script","sys_id":"63fcb052731320106dfdbd49faf6a7d4","sys_updated_by":"admin","sys_created_on":"2021-04-05 21:00:37","run_start":"2021-04-05 20:57:38","sys_name":"Fallback Timeout for interactions in Wrap Up","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"36","active":"false","time_zone":"","script":"// Periodically check for interactions in wrap up state and close them if timed out for\n// maximum WRAP UP duration. Deafult value is 15 mins.\nvar maxWrapupDuration = gs.getProperty(\"com.glide.interaction.max_wrapup_duration\", 15);\nnew global.WrapUpInteractionUtil().closeStaleInteractions(maxWrapupDuration);","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/989c2b7b04352210559073c06a02f7cc","value":"989c2b7b04352210559073c06a02f7cc"},"condition":"","sys_update_name":"sysauto_script_63fcb052731320106dfdbd49faf6a7d4","offset_type":"","name":"Fallback Timeout for interactions in Wrap Up","max_drift":"","run_period":"1970-01-01 00:05:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2018-09-03 23:58:26","sys_class_name":"sysauto_script","sys_id":"658f32c6b7dc6300883bca11ee11a97e","sys_updated_by":"vishal.rao","sys_created_on":"2018-09-03 23:58:26","run_start":"2018-09-03 23:56:29","sys_name":"Collect ECC Queue Stats","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"vishal.rao","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"var eqsbea = new ECCQueueStatsByECCAgent();\n\neqsbea.refreshECCQueueStatsByECCAgent();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/42b8273704f12210559073c06a02f78d","value":"42b8273704f12210559073c06a02f78d"},"condition":"","sys_update_name":"sysauto_script_658f32c6b7dc6300883bca11ee11a97e","offset_type":"0","name":"Collect ECC Queue Stats","max_drift":"","run_period":"1970-01-01 00:05:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2024-02-29 01:30:33","sys_class_name":"sysauto_script","sys_id":"66f6230bb72002102b695fef7e11a97a","sys_updated_by":"admin","sys_created_on":"2024-02-29 01:30:33","run_start":"2024-02-29 01:30:00","sys_name":"CleanupListExportLimitTime","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"new CleanupListExportLimitTime().cleanup();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/92c727bf04b12210559073c06a02f7ff","value":"92c727bf04b12210559073c06a02f7ff"},"condition":"","sys_update_name":"sysauto_script_66f6230bb72002102b695fef7e11a97a","offset_type":"0","name":"CleanupListExportLimitTime","max_drift":"","run_period":"1970-01-01 01:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"weekly","sys_updated_on":"2024-05-08 16:02:22","sys_class_name":"sysauto_script","sys_id":"67930225a00ec210f877d14226746142","sys_updated_by":"maint","sys_created_on":"2024-05-08 16:02:22","run_start":"2024-05-08 15:59:11","sys_name":"Clear expired client push notifications","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"run_dayofweek":"7","sys_created_by":"maint","upgrade_safe":"false","offset":"","run_time":"1970-01-01 10:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"var gr = new GlideRecord('sn_vsc_client_push_notifications');\ngr.query();\nwhile (gr.next()) {\n    if (new sn_vsc.CustomerPushActionUtils().isExpiredNotification(gr)) {\n        new sn_vsc.CustomerPushActionUtils().deleteBannerRecord(gr.banner.sys_id);\n        gr.deleteRecord();\n    }\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"condition":"","sys_update_name":"sysauto_script_67930225a00ec210f877d14226746142","offset_type":"0","name":"Clear expired client push notifications","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":"","run_type":"periodically","sys_updated_on":"2022-04-19 11:03:39","sys_class_name":"sysauto_script","sys_id":"6973ea0073430110491d235f04f6a709","sys_updated_by":"admin","sys_created_on":"2022-04-19 10:49:11","run_start":"2022-01-01 00:00:00","sys_name":"SLA async queue health check","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 00:00:00","sys_mod_count":"2","active":"true","time_zone":"","script":"new SLAAsyncQueueHealthCheck().check();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d19e7b704f12210559073c06a02f7da","value":"5d19e7b704f12210559073c06a02f7da"},"condition":"","sys_update_name":"sysauto_script_6973ea0073430110491d235f04f6a709","offset_type":"0","name":"SLA async queue health check","max_drift":"","run_period":"1970-01-01 00:05:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":"","run_type":"daily","sys_updated_on":"2024-06-11 01:02:00","sys_class_name":"sysauto_script","sys_id":"69ee44ce4354b110f30639a56cb8f283","sys_updated_by":"maint","sys_created_on":"2023-07-29 00:45:10","run_start":"2023-07-06 06:18:28","sys_name":"Recommended Subscriptions for Unmapped Custom Apps","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bcadabf277f311109c62f5f3cb5a992a","value":"bcadabf277f311109c62f5f3cb5a992a"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 10:30:00","sys_mod_count":"5","active":"true","time_zone":"","script":"if (gs.getProperty(\"sn_entitlement.subscription_recommender_v2.is_active\", \"false\") === \"true\") {\n    gs.info(\"RecommenderEngine V2 is in use, the Recommended Subscriptions for Unmapped Custom Apps job has been skipped.\");\n} else {\n    new UnmappedCustomApplicationRecommendationService().recommendSubscriptions();\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bcadabf277f311109c62f5f3cb5a992a","value":"bcadabf277f311109c62f5f3cb5a992a"},"condition":"","sys_update_name":"sysauto_script_69ee44ce4354b110f30639a56cb8f283","offset_type":"0","name":"Recommended Subscriptions for Unmapped Custom Apps","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2025-07-14 09:00:04","sys_class_name":"sys_api_stats_script","sys_id":"6bf8c8407f102200f936dd620efa9105","sys_updated_by":"admin","sys_created_on":"2016-06-23 20:46:32","run_start":"2015-12-30 06:44:01","sys_name":"API Monthly Requestor Stats","run_dayofmonth":"2","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 10:00:00","sys_mod_count":"13","active":"true","time_zone":"","script":"new sn_ws.APIMonthlyRequestorStats().generateData(current.sys_id);","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2eeb6b7704352210559073c06a02f746","value":"2eeb6b7704352210559073c06a02f746"},"condition":"","sys_update_name":"sys_api_stats_script_6bf8c8407f102200f936dd620efa9105","offset_type":"0","name":"API Monthly Requestor Stats","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2023-10-24 22:52:41","sys_class_name":"sysauto_script","sys_id":"6d992d8973c2601026f6aa114df6a729","sys_updated_by":"admin","sys_created_on":"2021-01-29 23:42:54","run_start":"2021-01-29 23:41:35","sys_name":"CMDB Data Manager Archive/Delete Policy Processor","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 11:00:00","sys_mod_count":"1","active":"true","time_zone":"","script":"SNC.CMDBDataManagerScriptableApis.executeArchiveAndDeletePolicies();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"condition":"","sys_update_name":"sysauto_script_6d992d8973c2601026f6aa114df6a729","offset_type":"0","name":"CMDB Data Manager Archive/Delete Policy Processor","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"monthly","sys_updated_on":"2022-08-25 15:25:17","sys_class_name":"sysauto_script","sys_id":"6f3ea65153611110dd8eddeeff7b1240","sys_updated_by":"admin","sys_created_on":"2022-08-25 15:25:17","run_start":"2022-08-25 15:22:05","sys_name":"SC - Calculate Compliance Monthly","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:02:00","sys_mod_count":"0","active":"true","time_zone":"","script":"var constants = new sn_vsc.SecurityCenterConstants();\n//Evaluate compliance states of all hardening settings\nvar obj = new sn_vsc.VSCComplianceUtil();\nobj.runComplianceCheck();\n\n// get PA job and execute it.\nvar vsc_pa_job = new GlideRecord('sysauto_pa');\nif (vsc_pa_job.get('sys_id', constants.SCPAJob)) {\n    gs.executeNow(vsc_pa_job);\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"condition":"","sys_update_name":"sysauto_script_6f3ea65153611110dd8eddeeff7b1240","offset_type":"0","name":"SC - Calculate Compliance Monthly","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2021-10-19 12:57:18","sys_class_name":"sysauto_script","sys_id":"6fc1809cebf230103da4ee2c47522801","sys_updated_by":"admin","sys_created_on":"2021-09-20 11:26:05","run_start":"","sys_name":"Active Learning","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"10","active":"true","time_zone":"","script":"var solutionName = new ActiveLearningIntegrator().train();\nif (solutionName == null) {\n\tgs.info(\"Could not trigger Active Learning scheduled job\");\n}\nelse {\n\tgs.info(\"Active Learning scheduled job is triggered with solution name: \".concat(solutionName));\n}\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"condition":"","sys_update_name":"sysauto_script_6fc1809cebf230103da4ee2c47522801","offset_type":"0","name":"Active Learning","max_drift":"","run_period":"1970-01-31 00:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":"","run_type":"monthly","sys_updated_on":"2019-09-10 09:43:18","sys_class_name":"sysauto_script","sys_id":"70672c89b31333003e5362ff86a8dc7d","sys_updated_by":"admin","sys_created_on":"2019-08-14 09:37:58","run_start":"2019-08-14 09:37:22","sys_name":"PA Indicator usage per application","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 23:00:00","sys_mod_count":"1","active":"true","time_zone":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/539a23bf04f12210559073c06a02f7aa","value":"539a23bf04f12210559073c06a02f7aa"},"sys_update_name":"sysauto_script_70672c89b31333003e5362ff86a8dc7d","offset_type":"0","name":"PA Indicator usage per application","max_drift":"","run_period":"1970-01-01 00:01:00","sys_policy":"protected"},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2021-04-27 09:38:26","sys_class_name":"sysauto_script","sys_id":"70c6888473f7201053f9d11ee2f6a76c","sys_updated_by":"admin","sys_created_on":"2021-04-23 13:52:06","run_start":"2021-04-23 13:45:46","sys_name":"Sync business Process relationships","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"3","active":"true","time_zone":"","script":"new global.BusinessProcessUtils().syncRelations();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1eddeb3304752210559073c06a02f787","value":"1eddeb3304752210559073c06a02f787"},"condition":"","sys_update_name":"sysauto_script_70c6888473f7201053f9d11ee2f6a76c","offset_type":"","name":"Sync business Process relationships","max_drift":"","run_period":"1970-01-01 01:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2021-03-29 18:29:12","sys_class_name":"sysauto_script","sys_id":"711fff375347e0102455ddeeff7b12cb","sys_updated_by":"admin","sys_created_on":"2021-03-29 17:23:12","run_start":"2021-03-29 16:40:51","sys_name":"Backfill records for CMDB CI <> Team relationships","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"2","active":"false","time_zone":"","script":"new CMDBTeamsUtil().bulkPopulate();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_711fff375347e0102455ddeeff7b12cb","offset_type":"0","name":"Backfill records for CMDB CI <> Team relationships","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2022-12-19 10:56:50","sys_class_name":"sysauto_script","sys_id":"717531a6777fd51007fffc6dbd5a99d3","sys_updated_by":"admin","sys_created_on":"2022-12-19 05:02:26","run_start":"2022-12-19 04:47:43","sys_name":"Migrate goal relationships for assigned entities","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/11879041532030103913ddeeff7b12d8","value":"11879041532030103913ddeeff7b12d8"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"0","active":"true","time_zone":"","script":"/*\n Migration of data from goals M2M table to goal table --> Setting this paramater with Assign Entity tables from 'sn_gf_assigned_entity_config' table will migrate data from 'sn_gf_goal_m2m_relationship' table to 'sn_gf_goal' table.\n \n - If the goal is having single relationship with assign entity table type, then the assign entity type and assign entity fields on 'sn_gf_goal' table will be populated from corresponding values from 'sn_gf_goal_m2m_relationship' table.\n - If the goal is having multiple relationships with assign entity table type, then n(no of relationships) new cloned subgoals will be created and the assign entity type and assign entity fields on 'sn_gf_goal' table will be populated from corresponding values from 'sn_gf_goal_m2m_relationship' table for each cloned sub goals.\n\n Goals M2M relationship related records will be deleted.\n*/\n\nvar entities = null;// Entities configured in sn_gf_assigned_entity_config table need to be provied here with comma sepration for which only migration should run, otherwise migration will be done for all the entities defined in sn_gf_assigned_entity_config.\n\nnew sn_gf.GFGoalMtoM_Migration().process(entities);","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/11879041532030103913ddeeff7b12d8","value":"11879041532030103913ddeeff7b12d8"},"condition":"","sys_update_name":"sysauto_script_717531a6777fd51007fffc6dbd5a99d3","offset_type":"0","name":"Migrate goal relationships for assigned entities","max_drift":"","run_period":"","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2019-06-24 10:17:03","sys_class_name":"sysauto_script","sys_id":"71b656650f1133005203cbb2ff767e08","sys_updated_by":"admin","sys_created_on":"2019-05-08 20:56:14","run_start":"2019-05-08 20:55:10","sys_name":"Populate Suggestions to avoid Cold Start - NowMobile App","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"30","active":"false","time_zone":"","script":"gs.info(\"Data Import started\");\n\nvar maxLogEntries = 500000;\n\n//Fetch Application ConfigId from sys_search_context_config table\nvar mobileRequestConfigId = \"81d0f85673032300c342d5fdbdf6a7b2\";\nvar builder = new BuildSuggestionsFromLogTable(maxLogEntries);\n\n//Insert Search Events, Search Source Events and Build Suggestions\nbuilder.buildScopedSuggestions(mobileRequestConfigId);\n\ngs.setProperty('glide.search.suggestions.runcoldstartscript.me', 'false');\ngs.info(\"Data Import ended\");","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0e99ab7b04f12210559073c06a02f745","value":"0e99ab7b04f12210559073c06a02f745"},"condition":"var pluginQuery = new GlidePluginManager();\n!pluginQuery.isActive('com.glide.domain') && gs.getProperty('glide.search.suggestions.runcoldstartscript.me');","sys_update_name":"sysauto_script_71b656650f1133005203cbb2ff767e08","offset_type":"0","name":"Populate Suggestions to avoid Cold Start - NowMobile App","max_drift":"","run_period":"","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2023-12-06 18:38:59","sys_class_name":"sysauto_script","sys_id":"721f483ac3853110ca68044599013102","sys_updated_by":"admin","sys_created_on":"2023-09-06 15:29:52","run_start":"2023-09-06 15:28:37","sys_name":"Process pending Gen AI usage records","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"5","active":"true","time_zone":"","script":"sn_one_extend.GenerativeAIUtility.reprocessPendingUsageRecords();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7c84affb04312210559073c06a02f73d","value":"7c84affb04312210559073c06a02f73d"},"condition":"pm.isActive('sn_generative_ai');","sys_update_name":"sysauto_script_721f483ac3853110ca68044599013102","offset_type":"0","name":"Process pending Gen AI usage records","max_drift":"","run_period":"1970-01-01 01:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":"","run_type":"monthly","sys_updated_on":"2019-08-29 11:15:24","sys_class_name":"sysauto_script","sys_id":"722d4a79b36b33003e5362ff86a8dc26","sys_updated_by":"admin","sys_created_on":"2019-08-29 11:13:49","run_start":"2019-08-29 11:13:12","sys_name":"PA Breakdown Source usage per application","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 23:00:00","sys_mod_count":"2","active":"true","time_zone":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/539a23bf04f12210559073c06a02f7aa","value":"539a23bf04f12210559073c06a02f7aa"},"sys_update_name":"sysauto_script_722d4a79b36b33003e5362ff86a8dc26","offset_type":"0","name":"PA Breakdown Source usage per application","max_drift":"","run_period":"1970-01-01 00:01:00","sys_policy":"protected"},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":"","run_type":"daily","sys_updated_on":"2023-03-06 04:28:31","sys_class_name":"sysauto_script","sys_id":"74309e575b19211006447da52d81c70e","sys_updated_by":"admin","sys_created_on":"2023-03-06 04:28:31","run_start":"2023-03-06 04:14:08","sys_name":"De-duplication: Populate Duplicate Task Data","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:45:00","sys_mod_count":"0","active":"true","time_zone":"","script":"var populator = new DuplicateTaskDataPopulator();\npopulator.populateData();\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_74309e575b19211006447da52d81c70e","offset_type":"0","name":"De-duplication: Populate Duplicate Task Data","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2023-03-16 19:28:35","sys_class_name":"sysauto_script","sys_id":"745b9b7743dd2110a6dfaff3fab8f226","sys_updated_by":"admin","sys_created_on":"2023-03-07 23:00:36","run_start":"2023-03-07 22:59:20","sys_name":"Calculate Availability","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 10:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"// runs every night at 2:00 AM (server time)\nCONSTANTS = new AvailabilityConstants();\nvar start = new GlideDateTime();\n\nif (gs.getProperty(CONSTANTS.PROP_AVAILABILITY_V2) === 'true') {\n\t// new Availability calculation\n\t// calculates today's availability\n\tvar as = new AvailabilitySummarizerV2();\n\tvar end = new GlideDateTime();\n\tstart.setValue(gs.beginningOfToday());\n\tas.summarize(start, end);\n}\nelse {\n\t// legacy Availability calculation\n\t// calculates the previous day's availability\n\tvar ac = new AvailabilitySummarizer();\n\tstart.setValue(gs.beginningOfYesterday());\n\tac.summarize(start);\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4a39e3f704f12210559073c06a02f7f9","value":"4a39e3f704f12210559073c06a02f7f9"},"condition":"","sys_update_name":"sysauto_script_745b9b7743dd2110a6dfaff3fab8f226","offset_type":"0","name":"Calculate Availability","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2025-06-05 07:30:35","sys_class_name":"sysauto_script","sys_id":"74738a0643131110a8ea143d9ab8f2c4","sys_updated_by":"admin","sys_created_on":"2022-11-22 20:01:50","run_start":"","sys_name":"Issue Auto Resolution Custom Intent","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"11","active":"false","time_zone":"","script":"gs.log(\"Checking attribute value of ar_intent\", \"Issue Auto Resolution\");\nvar intentGr = new GlideRecord('sys_schema_attribute_m2m');\nintentGr.addQuery('schema.column_label', 'Auto-Resolution intent');\nintentGr.addQuery('attribute', 'f330f130b3030300f7d1a13816a8dc13');\nintentGr.query();\n\nif (intentGr.next()) {\n\tintentGr.setValue('value', 'new AutoResolutionIntentChoiceListBuilder().getSupportedIntents(current.ar_configuration.sys_id);');\n\tintentGr.update();\n\n\t//Only want to run once after upgrade, then deactivate\n\tvar jobGr = new GlideRecord('sysauto');\n\tjobGr.addQuery('name', 'Issue Auto Resolution Custom Intent');\n\tjobGr.query();\n\n\tif (jobGr.next()) {\n\t\tjobGr.setValue('active', 'false');\n\t\tjobGr.update();\n\t}\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca4f3f704b52210559073c06a02f789","value":"aca4f3f704b52210559073c06a02f789"},"condition":"","sys_update_name":"sysauto_script_74738a0643131110a8ea143d9ab8f2c4","offset_type":"0","name":"Issue Auto Resolution Custom Intent","max_drift":"","run_period":"1970-01-01 00:01:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2019-05-22 14:53:55","sys_class_name":"sysauto_script","sys_id":"750b19389f1033000f51b7bda42e7088","sys_updated_by":"admin","sys_created_on":"2019-03-17 15:39:51","run_start":"2019-03-17 15:36:09","sys_name":"Evaluate strategies on CI field changes","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"6","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"4","active":"true","time_zone":"","script":"//Please note, when changing the interval of this job, the property 'sm.flapper.strategy.job_interval_in_hours' (default 24) should also be updated\nvar flapperMechanismEnabled = JSUtil.toBoolean(gs.getProperty(\"sm.flapper.detection_enabled\", \"true\"));\nif (flapperMechanismEnabled) {\n\tvar script = new SNC.FlapperStrategiesCenterWrapper();\n\tscript.runStrategies();\n\tscript.fadeOutRecords();\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"condition":"","sys_update_name":"sysauto_script_750b19389f1033000f51b7bda42e7088","offset_type":"","name":"Evaluate strategies on CI field changes","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2024-08-18 03:31:26","sys_class_name":"sysauto_script","sys_id":"754a20de77401210e45dd86bba5a997f","sys_updated_by":"admin","sys_created_on":"2024-08-18 03:31:26","run_start":"2024-08-18 03:29:52","sys_name":"MIF VTable Change Job","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/47401582b7a6b9501e8f827b9e11a913","value":"47401582b7a6b9501e8f827b9e11a913"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 05:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"/**\n * Process records in sn_mif_vtable_change_status for any changes in MIF VTables\n */\nsn_mif.MIFVTableChangeProcessor.process();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/47401582b7a6b9501e8f827b9e11a913","value":"47401582b7a6b9501e8f827b9e11a913"},"condition":"","sys_update_name":"sysauto_script_754a20de77401210e45dd86bba5a997f","offset_type":"0","name":"MIF VTable Change Job","max_drift":"","run_period":"1970-01-01 00:00:30","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2021-04-23 07:48:59","sys_class_name":"sysauto_script","sys_id":"75aec29073b32300c1dc32e954f6a731","sys_updated_by":"admin","sys_created_on":"2019-02-19 09:49:57","run_start":"2019-02-19 09:33:21","sys_name":"RemoveConversationsforClosedRecords","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"8","active":"true","time_zone":"","script":"var currentEmailNotificationState = getEmailNotificationState();\n\t\tif (currentEmailNotificationState == 1) {\n\t\t\tupdateEmailNotificationState(false);\n\t\t\tremoveConversations();\n\t\t\tupdateEmailNotificationState(true);\n\t\t} else\n\t\t\tremoveConversations();\n\n\t\tfunction removeConversations() {\n\t\t\tvar liveGroupMemberGR = new GlideRecord(\"live_group_member\");\n\t\t\tvar lgmCount = 0;\n\t\t\tliveGroupMemberGR.addQuery(\"state\", \"!=\", \"inactive\");\n\t\t\tliveGroupMemberGR.query();\n\t\t\twhile (liveGroupMemberGR.next()) {\n\t\t\t\tif (liveGroupMemberGR.group.document.active == false) {\n\t\t\t\t\tliveGroupMemberGR.state = \"inactive\";\n\t\t\t\t\tif (liveGroupMemberGR.update())\n\t\t\t\t\t\tlgmCount += 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tgs.debug(\"Number of live group members set to inactive\" + lgmCount);\n\t\t\tvar chatQueueEntryGR = new GlideRecord(\"chat_queue_entry\");\n\t\t\tvar chatsCount = 0;\n\t\t\tchatQueueEntryGR.addQuery(\"active\", \"true\");\n\t\t\tchatQueueEntryGR.query();\n\t\t\twhile (chatQueueEntryGR.next()) {\n\t\t\t\tif (chatQueueEntryGR.group.document.active == false) {\n\t\t\t\t\tchatQueueEntryGR.state = 3; //set chat_queue_entry state to closed_complete if parent document is inactive\n\t\t\t\t\tif (chatQueueEntryGR.update())\n\t\t\t\t\t\tchatsCount += 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tgs.debug(\"Number of chat queue entry records set to closed\" + chatsCount);\n\t\t}\n\n\t\tfunction updateEmailNotificationState(activeState) {\n\t\t\tvar gr = fetchEmailActionGr();\n\t\t\tif (!gr.next())\n\t\t\t\treturn;\n\t\t\tgr.setWorkflow(false);\n\t\t\tgr.setValue(\"active\", activeState);\n\t\t\tgr.update();\n\t\t}\n\n\t\tfunction getEmailNotificationState() {\n\t\t\tvar gr = fetchEmailActionGr();\n\t\t\tif (!gr.next())\n\t\t\t\treturn;\n\t\t\treturn gr.getValue(\"active\");\n\t\t}\n\n\t\tfunction fetchEmailActionGr() {\n\t\t\tvar gr = new GlideRecord('sysevent_email_action');\n\t\t\tgr.addQuery(\"event_name\", \"collaboration.notify_offline_user.group\");\n\t\t\tgr.query();\n\t\t\treturn gr;\n\t\t}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d4442b7b04312210559073c06a02f7ee","value":"d4442b7b04312210559073c06a02f7ee"},"condition":"","sys_update_name":"sysauto_script_75aec29073b32300c1dc32e954f6a731","offset_type":"0","name":"RemoveConversationsforClosedRecords","max_drift":"","run_period":"","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2018-08-23 21:08:28","sys_class_name":"sysauto_script","sys_id":"761d1dae53002300abc8ddeeff7b1222","sys_updated_by":"admin","sys_created_on":"2018-08-23 19:55:30","run_start":"2018-08-23 07:00:00","sys_name":"Clean Unused ATF Step Snapshots","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"1","active":"true","time_zone":"","script":"//query two weeks old snapshots and check each one of those against sys_atf_step\n//table to identify the unused ones and delete\nvar grSnapshot = new GlideRecord(\"sys_atf_snapshot\");\ngrSnapshot.addEncodedQuery('sys_created_on<javascript:gs.daysAgo(14)');\ngrSnapshot.setTwoPhase(true);\ngrSnapshot.query();\nwhile(grSnapshot.next()) {\n\tvar snapshotId = grSnapshot.getUniqueValue();\n\tif(!snapshotHasReference(snapshotId))\n\t\tif(grSnapshot.deleteRecord())\n\t\t\tgs.log(\"ATF Snapshot Cleaner: Removed unused atf test step snapshot \"+snapshotId);\n}\n\nfunction snapshotHasReference(snapshotSysId) {\n\tvar grStep = new GlideRecord(\"sys_atf_step\");\n\tgrStep.addQuery(\"snapshot\",snapshotSysId);\n\tgrStep.setTwoPhase(true);\n\tgrStep.setWorkflow(false);\n\tgrStep.query();\n\treturn grStep.hasNext();\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/a289677b04f12210559073c06a02f76d","value":"a289677b04f12210559073c06a02f76d"},"condition":"gs.tableExists('sys_atf_snapshot');","sys_update_name":"sysauto_script_761d1dae53002300abc8ddeeff7b1222","offset_type":"0","name":"Clean Unused ATF Step Snapshots","max_drift":"","run_period":"1970-01-15 00:00:00","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2021-04-15 11:24:03","sys_class_name":"sysauto_script","sys_id":"76c69905532320100f16ddeeff7b12c4","sys_updated_by":"admin","sys_created_on":"2021-04-14 12:03:35","run_start":"2021-04-14 11:53:40","sys_name":"ActSub - clean up activity stream","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 00:00:00","sys_mod_count":"0","active":"true","time_zone":"floating","script":"var actSubCtx = ActivitySubscriptionContext.getContext();\nvar activityService = actSubCtx.getService(ActivityConstants.ACTIVITY_SERVICE);\nactivityService.deleteInvalidRecords();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/27dc6bfb04352210559073c06a02f739","value":"27dc6bfb04352210559073c06a02f739"},"condition":"pm.isActive('com.snc.activity_subscriptions') && (gs.getProperty(ActivityConstants.DISABLE_PLUGIN, 'false') == 'false');","sys_update_name":"sysauto_script_76c69905532320100f16ddeeff7b12c4","offset_type":"","name":"ActSub - clean up activity stream","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2021-04-08 12:31:25","sys_class_name":"sysauto_script","sys_id":"77852acf73536010b5c7ed64fbf6a734","sys_updated_by":"admin","sys_created_on":"2021-04-08 12:30:47","run_start":"2021-04-08 12:29:55","sys_name":"Knowledge Usage Metrics","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"0","active":"false","time_zone":"","script":"new global.KBUsageMetrics().processKBUsageMetrics();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2fe727ff04b12210559073c06a02f7dd","value":"2fe727ff04b12210559073c06a02f7dd"},"condition":"","sys_update_name":"sysauto_script_77852acf73536010b5c7ed64fbf6a734","offset_type":"0","name":"Knowledge Usage Metrics","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":"","run_type":"periodically","sys_updated_on":"2025-06-05 05:56:26","sys_class_name":"sysauto_script","sys_id":"77c7793443330210b2d4c29835b8f29e","sys_updated_by":"system","sys_created_on":"2024-08-01 07:03:26","run_start":"2024-08-01 00:00:00","sys_name":"De-duplication: Populate Template Task Run Records (Scoped)","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"2","active":"true","time_zone":"","script":"/**\n * DO NOT clone this scheduled job. It will not increase the performance in any way.\n */\n\n// Check if the old 'De-duplication: Populate Template Task Run Records' scheduled job is still active and running, and if not, disable it\nvar gr = new GlideRecord('sysauto_script');\ngr.addQuery('sys_id', '1e27a3945b31211006447da52d81c7f9');\ngr.addActiveQuery();\ngr.query();\nif (gr.next()) {\n    var triggerGr = new GlideRecord('sys_trigger');\n    triggerGr.addQuery('document', 'sysauto_script');\n    triggerGr.addQuery('document_key', '1e27a3945b31211006447da52d81c7f9');\n    triggerGr.addQuery('state', 1);\n    triggerGr.query();\n    if (!triggerGr.hasNext()) {\n        new global.GlideQuery('sysauto_script')\n            .where('sys_id', '1e27a3945b31211006447da52d81c7f9')\n            .update({\n                active: false\n            });\n\t}\n} else {\n    var populator = new ScopedTemplateTaskRunPopulator();\n    populator.populateRecords();\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"condition":"","sys_update_name":"sysauto_script_77c7793443330210b2d4c29835b8f29e","offset_type":"0","name":"De-duplication: Populate Template Task Run Records (Scoped)","max_drift":"","run_period":"1970-01-01 00:01:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2019-04-18 00:48:52","sys_class_name":"sysauto_script","sys_id":"797c36f2b73033009d692fecde11a9a5","sys_updated_by":"admin","sys_created_on":"2019-04-18 00:22:02","run_start":"2019-04-18 00:21:06","sys_name":"Remove Identifier Fields In Recommended Rules","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"4","active":"false","time_zone":"","script":"// Remove identifier fields from CMDB Health Dashboard recommended field rules\nSNC.RecommendedIdentifierFieldsScript.revertIREFieldsFromRecommended();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_797c36f2b73033009d692fecde11a9a5","offset_type":"0","name":"Remove Identifier Fields In Recommended Rules","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2025-02-04 22:15:06","sys_class_name":"sysauto_script","sys_id":"79f49cca77f131103b00d86bba5a9988","sys_updated_by":"admin","sys_created_on":"2023-10-11 14:47:24","run_start":"2023-10-11 14:45:51","sys_name":"Delete Marked Attachments","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 05:00:00","sys_mod_count":"6","active":"false","time_zone":"","script":"var scPurge = new DeleteMarkedAttachments();\nscPurge.deleteAttachments();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e825af3304712210559073c06a02f736","value":"e825af3304712210559073c06a02f736"},"condition":"","sys_update_name":"sysauto_script_79f49cca77f131103b00d86bba5a9988","offset_type":"0","name":"Delete Marked Attachments","max_drift":"1970-01-01 02:00:00","run_period":"1970-01-03 00:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2015-11-30 20:23:45","sys_class_name":"sysauto_script","sys_id":"7a2c4ba1d7001200c1ed0fbc5e6103ac","sys_updated_by":"admin","sys_created_on":"2015-11-30 20:23:18","run_start":"2015-11-30 20:21:24","sys_name":"CMDB Health Dashboard - Correctness Score Calculation","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 11:00:00","sys_mod_count":"1","active":"false","time_zone":"","script":"\n SNC.MetricProcessorScript.correctnessManager();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_7a2c4ba1d7001200c1ed0fbc5e6103ac","offset_type":"0","name":"CMDB Health Dashboard - Correctness Score Calculation","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2023-10-24 22:52:41","sys_class_name":"sysauto_script","sys_id":"7ae92d8973c2601026f6aa114df6a74d","sys_updated_by":"admin","sys_created_on":"2021-01-29 23:43:42","run_start":"2021-01-29 23:43:02","sys_name":"CMDB Data Manager Retire Policy Processor","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 11:00:00","sys_mod_count":"2","active":"true","time_zone":"","script":"SNC.CMDBDataManagerScriptableApis.executeRetirePolicies();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"condition":"","sys_update_name":"sysauto_script_7ae92d8973c2601026f6aa114df6a74d","offset_type":"0","name":"CMDB Data Manager Retire Policy Processor","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"once","sys_updated_on":"2021-07-05 08:55:27","sys_class_name":"sys_flow_trigger_auto_script","sys_id":"7b50871b774130104b68b0fabe5a9964","sys_updated_by":"admin","sys_created_on":"2021-07-05 08:55:27","run_start":"2021-06-30 18:30:00","sys_name":"","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/dcb0e1e4db075300dd14596e5e9619ca","value":"dcb0e1e4db075300dd14596e5e9619ca"},"run_dayofweek":"","sys_created_by":"admin","upgrade_safe":"true","offset":"","run_time":"","sys_mod_count":"0","active":"true","time_zone":"","script":"sn_flow_trigger.FlowTriggerAPI.fireTimerTrigger('f350871b774130104b68b0fabe5a9964');","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/dcb0e1e4db075300dd14596e5e9619ca","value":"dcb0e1e4db075300dd14596e5e9619ca"},"condition":"","sys_update_name":"","offset_type":"0","name":"Trigger:f350871b774130104b68b0fabe5a9964","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"monthly","sys_updated_on":"2025-07-09 10:54:19","sys_class_name":"cert_audit","sys_id":"7ccf3322dfa0010068c37a0d3df26348","sys_updated_by":"admin","sys_created_on":"2013-04-08 18:20:12","run_start":"2013-04-08 18:18:17","sys_name":"Data Center Zone Consumption","run_dayofmonth":"15","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"7","active":"true","time_zone":"","script":"new SNC.CertificationProcessing().runAudit(current.sys_id, current.template.filter.sys_id, current.template.sys_id);","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e457afbb04b12210559073c06a02f744","value":"e457afbb04b12210559073c06a02f744"},"condition":"","sys_update_name":"cert_audit_7ccf3322dfa0010068c37a0d3df26348","offset_type":"","name":"Data Center Zone Consumption","max_drift":"","run_period":"","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2023-10-24 22:52:41","sys_class_name":"sysauto_script","sys_id":"7dbe9af077c630108043270bba1061cc","sys_updated_by":"admin","sys_created_on":"2021-08-16 05:13:03","run_start":"2021-08-16 05:06:22","sys_name":"CMDB DependentCI Policy Processor","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:30:00","sys_mod_count":"6","active":"true","time_zone":"","script":"SNC.CMDBDataManagerScriptableApis.executeDependentCIPolicies();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"condition":"(gs.getProperty('cmdb.dependent.ci.cascade.op.enabled', 'true') === 'true'); ","sys_update_name":"sysauto_script_7dbe9af077c630108043270bba1061cc","offset_type":"","name":"CMDB DependentCI Policy Processor","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2018-10-17 11:48:17","sys_class_name":"sysauto_script","sys_id":"7eb56a4f73e82300cbb654eb7df6a76f","sys_updated_by":"admin","sys_created_on":"2018-09-19 10:59:08","run_start":"","sys_name":"On-Call Gaps Conflicts Report","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 05:00:00","sys_mod_count":"9","active":"true","time_zone":"","script":"// Send report with details of gaps, conflicts in on-call schedules to respective group admins, every 7 days.\nnew OnCallGapsConflictsReport().sendReports();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"condition":"","sys_update_name":"sysauto_script_7eb56a4f73e82300cbb654eb7df6a76f","offset_type":"","name":"On-Call Gaps Conflicts Report","max_drift":"","run_period":"1970-01-08 00:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2020-03-24 06:41:38","sys_class_name":"sysauto_script","sys_id":"7f6144b873b30010ee4dd3c72bf6a7e6","sys_updated_by":"admin","sys_created_on":"2020-03-24 04:56:56","run_start":"2020-03-24 04:55:37","sys_name":"Calculate Application servers not in an application service","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"2","active":"true","time_zone":"","script":"SNC.CSDMReportProcessor.process(\"cmdb_ci_app_server\");","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2f8d67ff04352210559073c06a02f74f","value":"2f8d67ff04352210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_7f6144b873b30010ee4dd3c72bf6a7e6","offset_type":"","name":"Calculate Application servers not in an application service","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2018-01-15 23:13:58","sys_class_name":"sysauto_script","sys_id":"80443ab667320300173fa0119585ef37","sys_updated_by":"admin","sys_created_on":"2017-12-06 21:19:37","run_start":"2017-12-06 21:17:20","sys_name":"Discovery Status Cleanup","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"5","active":"true","time_zone":"","script":"// Cleanup any records related to discovery status records that no longer exist\n\nnew DiscoveryResult().deleteAllInvalidStatus();\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/91d8237704f12210559073c06a02f73b","value":"91d8237704f12210559073c06a02f73b"},"condition":"","sys_update_name":"sysauto_script_80443ab667320300173fa0119585ef37","offset_type":"0","name":"Discovery Status Cleanup","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2022-09-05 17:31:54","sys_class_name":"sysauto_script","sys_id":"81e9e2a4c3311110c5ec4e483c40dd5c","sys_updated_by":"admin","sys_created_on":"2022-09-04 17:29:54","run_start":"2022-09-04 17:23:20","sys_name":"DeleteUsedAndExpiredSecurityNonce","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"3","active":"true","time_zone":"","script":"function cleanSecurityNonce() {\n    try {\n        gs.info(\"Scheduled Job for cleaning security_nonce started\");\n        var gr = GlideRecord('security_nonce');\n\n        if (!gr.isValid()) {\n            gs.error(\"Table security_nonce doesnot exists.\");\n            returrn;\n        }\n\n        var or1 = gr.addQuery('context', 'TimeLimitedAuthentication');\n        or1.addOrCondition('context','MultifactorAuth');\n        var or2 = gr.addQuery('expiry', \"<\", new GlideDateTime());\n        or2.addOrCondition('is_used', true);\n        gr.query();\n\n        if (gr.next()) {\n            gr.deleteMultiple();\n        } \n\t\t\n\t\tgs.info(\"Scheduled Job for cleaning security_nonce end\");\n    } catch (e) {\n        gs.error(\"Error in scheduled job \" + e);\n    }\n}\n\ncleanSecurityNonce();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d7152f3304712210559073c06a02f70f","value":"d7152f3304712210559073c06a02f70f"},"condition":"","sys_update_name":"sysauto_script_81e9e2a4c3311110c5ec4e483c40dd5c","offset_type":"0","name":"DeleteUsedAndExpiredSecurityNonce","max_drift":"","run_period":"1970-01-01 12:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2024-09-17 20:34:05","sys_class_name":"sysauto_script","sys_id":"8256e6b653c4111095d2ddeeff7b120c","sys_updated_by":"maint","sys_created_on":"2022-06-16 17:09:19","run_start":"2022-06-16 17:04:16","sys_name":"SC - Calculate Compliance","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"3","active":"true","time_zone":"","script":"var constants = new sn_vsc.SecurityCenterConstants();\n//Evaluate complaince states of all hardening settings\nvar obj = new sn_vsc.VSCComplianceUtil();\nobj.runComplianceCheck();\n\nvar gr = new GlideRecord('sn_vsc_instance_hardening_settings');\ngr.addQuery('sys_updated_on','RELATIVE','GE@hour@ago@3');\ngr.query();\nif (gr.next()) {\n    // get PA job and execute it.\n    var vsc_pa_job = new GlideRecord('sysauto_pa');\n    if (vsc_pa_job.get('sys_id', constants.SCPAJob)) {\n        gs.executeNow(vsc_pa_job);\n    }\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"condition":"","sys_update_name":"sysauto_script_8256e6b653c4111095d2ddeeff7b120c","offset_type":"0","name":"SC - Calculate Compliance","max_drift":"","run_period":"1970-01-01 03:00:00","sys_policy":"read"},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2021-01-21 19:01:46","sys_class_name":"sysauto_script","sys_id":"83b38a3273902010616ca9843cf6a765","sys_updated_by":"admin","sys_created_on":"2020-11-09 12:16:33","run_start":"2020-11-09 12:15:18","sys_name":"Migrate IP Address Controls to Adaptive Authentication IP Filter","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"7","active":"true","time_zone":"","script":"(function() {\n    // Create Allow IP Filter\n    createIPFilterUsingIPAddressRanges(\"allow\");\n\n    // Create Deny IP Filter\n    createIPFilterUsingIPAddressRanges(\"deny\");\n})();\n\nfunction createIPFilterUsingIPAddressRanges(type) {\n    // Create Allow IP Range record using all the inbound IP ranges\n    var gr = new GlideRecord(\"ip_access\");\n    gr.addQuery(\"flow\", \"inbound\");\n    gr.addQuery(\"type\", type);\n    gr.addActiveQuery();\n    gr.query();\n    var ipFilterSysID = '';\n    if (gr.hasNext()) {\n        ipFilterSysID = createIPFilter(type);\n        while (gr.next()) {\n            // Create IP Range Record\n            var ipRangeSysId = \"\";\n            var ipRangeGr = new GlideRecord(\"sys_ip_address_range\");\n            ipRangeGr.addQuery(\"start_ip\", gr.getValue('range_start'));\n            ipRangeGr.addQuery(\"end_ip\", gr.getValue('range_end'));\n\t\t\tipRangeGr.addQuery(\"sys_ip_filter_criteria\", ipFilterSysID);\n            ipRangeGr.query();\n            // If a IP range does not already exist with this Start IP, End IP and IPFilterSysID then insert a new record and get the sysID.\n            if (!ipRangeGr.next()) {\n                ipRangeGr.initialize();\n                ipRangeGr.start_ip = gr.getValue('range_start');\n                ipRangeGr.end_ip = gr.getValue('range_end');\n\t\t\t\tipRangeGr.sys_ip_filter_criteria = ipFilterSysID;\n\t\t\t\tif(ipRangeGr.isValidField('description')) {\n\t\t\t\t  ipRangeGr.description = gr.getValue('description');\n\t\t\t\t}\n                ipRangeSysId = ipRangeGr.insert();\n            }\n        }\n        gs.log(type + \" IP Filter Created from IP Address Control plugin, the duplicate Start IP - End IP range combinations would have been skipped.\");\n    } else {\n        gs.log(\"No inbound active \" + type + \" IP Access Controls ranges present, skipping the migration/import.\");\n    }\n\n}\n\n// create IP Filter\nfunction createIPFilter(type) {\n    var ipFilterGr = new GlideRecord(\"sys_ip_filter_criteria\");\n    ipFilterGr.initialize();\n    ipFilterGr.name = 'Is ' + type + ' Migrated IP Filter';\n    ipFilterGr.description = 'IP Filter create via migration/import of Inbound IP Address Control Plugin IP Ranges';\n    var ipFilterSysID = ipFilterGr.insert();\n    return ipFilterSysID;\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c46ca73b04352210559073c06a02f75c","value":"c46ca73b04352210559073c06a02f75c"},"condition":"","sys_update_name":"sysauto_script_83b38a3273902010616ca9843cf6a765","offset_type":"","name":"Migrate IP Address Controls to Adaptive Authentication IP Filter","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 02:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2023-12-26 20:57:57","sys_class_name":"sysauto_script","sys_id":"83cc34e2431331103b465dc36ab8f2e5","sys_updated_by":"maint","sys_created_on":"2023-12-26 20:35:25","run_start":"2023-12-26 20:31:01","sys_name":"Best practices update activation","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"run_dayofweek":"1","sys_created_by":"maint","upgrade_safe":"false","offset":"","run_time":"1970-01-01 02:00:00","sys_mod_count":"0","active":"true","time_zone":"floating","script":"var gr = new GlideRecord('sn_vsc_best_practice_configurations');\ngr.addEncodedQuery('active=false'); // Query for inactive best practices\ngr.query();\nwhile (gr.next()) {\n    if (gr.pre_condition) {\n        gr.active = new GlideScopedEvaluator().evaluateScript(gr, \"pre_condition\");\n\t} else {\n        gr.active = true;\n\t}\n    gr.update();\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"condition":"","sys_update_name":"sysauto_script_83cc34e2431331103b465dc36ab8f2e5","offset_type":"0","name":"SC Best practices update activation","max_drift":"","run_period":"","sys_policy":"read"},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2020-06-24 16:00:00","sys_class_name":"sysauto_script","sys_id":"840b086e93a510106b543511e57ffbdb","sys_updated_by":"admin","sys_created_on":"2020-06-24 15:59:30","run_start":"2020-06-24 15:56:39","sys_name":"Refresh Latitude Longitude info of Records","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"2","active":"false","time_zone":"","script":"new global.MapCoordinatesRefreshUtil().refreshLatLongUsingConfigTable();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7b186b3304f12210559073c06a02f733","value":"7b186b3304f12210559073c06a02f733"},"condition":"","sys_update_name":"sysauto_script_840b086e93a510106b543511e57ffbdb","offset_type":"0","name":"Refresh Latitude Longitude info of Records","max_drift":"","run_period":"1970-01-01 02:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2025-06-05 07:22:15","sys_class_name":"sysauto_script","sys_id":"848bbe2b55c20210f877414e3a6bb89d","sys_updated_by":"admin","sys_created_on":"2024-05-15 01:18:51","run_start":"2024-05-15 01:11:11","sys_name":"SC set MI Job runtime ","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"run_dayofweek":"1","sys_created_by":"maint","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"2","active":"false","time_zone":"","script":"var scUtil = new sn_vsc.SCMIFUtil();\nscUtil.setSCMIFJobRuntime();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"condition":"","sys_update_name":"sysauto_script_848bbe2b55c20210f877414e3a6bb89d","offset_type":"0","name":"SC set MI Job runtime ","max_drift":"","run_period":"","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2023-04-07 21:44:27","sys_class_name":"sysauto_script","sys_id":"84c08ca8436c2110fcbf9bf6cab8f2ff","sys_updated_by":"admin","sys_created_on":"2023-01-18 22:05:50","run_start":"2023-01-18 21:57:00","sys_name":"Scheduled Deployment","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bb67ed7253e83010b846ddeeff7b1204","value":"bb67ed7253e83010b846ddeeff7b1204"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 05:00:00","sys_mod_count":"15","active":"true","time_zone":"","script":"\nScheduledDeploymentService.triggerScheduledDeploymentsInstall();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bb67ed7253e83010b846ddeeff7b1204","value":"bb67ed7253e83010b846ddeeff7b1204"},"condition":"\n(function() {\n        return ScheduledDeploymentService.hasScheduledDeploymentsReadyForInstall();\n})();","sys_update_name":"sysauto_script_84c08ca8436c2110fcbf9bf6cab8f2ff","offset_type":"0","name":"Scheduled Deployment","max_drift":"","run_period":"1970-01-01 00:15:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2023-11-27 21:43:19","sys_class_name":"sysauto_script","sys_id":"852733c5b73231104293ef10ce11a952","sys_updated_by":"admin","sys_created_on":"2023-11-27 21:43:19","run_start":"2023-11-27 21:42:54","sys_name":"Get CI Counts and Populate DB","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 10:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"new global.CMDBCountHelper().getCICountsForClasses();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_852733c5b73231104293ef10ce11a952","offset_type":"0","name":"Get CI Counts and Populate DB","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2017-08-24 09:20:12","sys_class_name":"sysauto_script","sys_id":"8601564d937003007152d5dbb67ffb7d","sys_updated_by":"admin","sys_created_on":"2017-08-23 22:10:53","run_start":"2017-08-23 22:08:31","sys_name":"GTD Analytics Data Cleanup","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"1","active":"true","time_zone":"","script":"cleanupAnalyticsData();\n\nfunction cleanupAnalyticsData(){\n        var daysOffset = gs.getProperty('com.glide.guided_tours.analytics_data_offset',90);\n        \n       gs.log('Guided Tour Designer: Analytics data cleanup started. Data offset period: ' + daysOffset + ' days');\n\n        var gr = new GlideRecord('sys_guided_tour_analytics');\n        gr.addQuery('sys_updated_on', '<=', gs.daysAgo(daysOffset));\n        gr.query();\n\n       var numOfRecords = gr.getRowCount();\n    \n       while (gr.next()) {\n            var gr1 = new GlideRecord('sys_guided_tour_analytics_event');\n            gr1.addQuery('analytics_instance',gr.sys_id);\n            gr1.query();\n\n           gr1.deleteMultiple();\n           gr.deleteRecord();\n       }\n      \n       gs.log('Guided Tour Designer: Analytics data cleanup completed. Number of records deleted: ' + numOfRecords);\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/183b677304352210559073c06a02f7e1","value":"183b677304352210559073c06a02f7e1"},"condition":"","sys_update_name":"sysauto_script_8601564d937003007152d5dbb67ffb7d","offset_type":"0","name":"GTD Analytics Data Cleanup","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2019-10-21 19:34:04","sys_class_name":"sysauto_script","sys_id":"87b44bf65f20001064301f9f2f7313d4","sys_updated_by":"admin","sys_created_on":"2019-10-21 11:24:45","run_start":"2019-10-21 10:52:41","sys_name":"Update catalog ui policy action names for variables and sets","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"0","active":"true","time_zone":"","script":"var actions = new GlideRecord('catalog_ui_policy_action');\nactions.query();\nwhile (actions.next()) {\n\tvar variable = actions.catalog_variable.getDisplayValue().split(\"IO:\")[1];\n\tif (!variable)\n\t\tvariable = actions.catalog_variable.split(\"IO:\")[1];\n\tvar option = new GlideRecord('item_option_new');\n\tif (option.get(variable)) {\n\t\tactions.variable = option.name;\n\t} else {\n\t\toption = new GlideRecord(\"item_option_new_set\");\n\t\tif (option.get(variable))\n\t\t\tactions.variable = option.internal_name;\n\t}\n\tactions.update();\n}\ngs.setProperty(\"glide.sc.policy.update_action_names\", false);","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f828ab3304f12210559073c06a02f7b7","value":"f828ab3304f12210559073c06a02f7b7"},"condition":"","sys_update_name":"sysauto_script_87b44bf65f20001064301f9f2f7313d4","offset_type":"0","name":"Update catalog ui policy action names for variables and sets","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2023-04-25 23:39:48","sys_class_name":"sysauto_script","sys_id":"8a7240e74f122110660630e552ce0bca","sys_updated_by":"admin","sys_created_on":"2023-04-25 05:47:09","run_start":"2023-04-25 05:36:11","sys_name":"Recurrent Generation of Auto Key Exchange Requests","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:05:00","sys_mod_count":"1","active":"true","time_zone":"","script":"gs.info(gs.getMessage('Running Recurrent Generation of Auto Key Exchange Requests schedule job'));\nnew SNC.KMFAutoKeyExchangeRequestGeneratorAPI().generateAutoKeyExchangeRequests();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7f83a3f304312210559073c06a02f787","value":"7f83a3f304312210559073c06a02f787"},"condition":"","sys_update_name":"sysauto_script_8a7240e74f122110660630e552ce0bca","offset_type":"0","name":"Recurrent Generation of Auto Key Exchange Requests","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2025-07-09 10:58:51","sys_class_name":"sysauto_script","sys_id":"8c265321d700310092610eca5e61036d","sys_updated_by":"developer.program.hop@snc","sys_created_on":"2014-10-29 04:54:28","run_start":"2014-10-29 04:44:30","sys_name":"Check Scoped App Updates","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 10:00:00","sys_mod_count":"6","active":"false","time_zone":"","script":"var updateCheckerConfig = new sn_appauthor.ScheduledJobsController().getConfig(\"updateChecker\");\nif(updateCheckerConfig.isEnabled) {\nvar dt = new GlideDateTime();\nvar rand = getRandomIntInclusive(updateCheckerConfig.startTime, updateCheckerConfig.endTime);\ndt.addSeconds(rand);\n\ngs.info(\"Process in \" + rand + \" seconds\");\ngs.eventQueueScheduled(\"sn_appclient.check.for.update\",\"\",\"\",\"\", dt);\n}\n\nfunction getRandomIntInclusive(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"condition":"","sys_update_name":"sysauto_script_8c265321d700310092610eca5e61036d","offset_type":"0","name":"Check Scoped App Updates","max_drift":"","run_period":"1970-01-01 01:00:00","sys_policy":"read"},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":"","run_type":"periodically","sys_updated_on":"2009-05-29 15:32:06","sys_class_name":"sysauto_script","sys_id":"8ccb5e740a0a0b9e00ea6d00e981f801","sys_updated_by":"glide.maint","sys_created_on":"2009-05-29 14:38:40","run_start":"2009-05-29 15:34:46","sys_name":"Summary Set Cleanup","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"glide.maint","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"4","active":"true","time_zone":"","script":"var summary = new SummaryTableUtil();\r\nsummary.clean();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b535677304712210559073c06a02f751","value":"b535677304712210559073c06a02f751"},"condition":"","sys_update_name":"sysauto_script_8ccb5e740a0a0b9e00ea6d00e981f801","offset_type":"0","name":"Summary Set Cleanup","max_drift":"","run_period":"1970-01-01 01:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2020-01-29 00:13:51","sys_class_name":"sysauto_script","sys_id":"8cf0bb7673a60010af8a1fd9fdf6a757","sys_updated_by":"admin","sys_created_on":"2020-01-29 00:13:51","run_start":"2020-01-29 00:11:23","sys_name":"CMDBGroupEventGenerator","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:01:00","sys_mod_count":"0","active":"true","time_zone":"","script":"sn_cmdbgroup.CMDBGroupAPI.generateEvents();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f757a7fb04b12210559073c06a02f7ed","value":"f757a7fb04b12210559073c06a02f7ed"},"condition":"","sys_update_name":"sysauto_script_8cf0bb7673a60010af8a1fd9fdf6a757","offset_type":"0","name":"CMDBGroupEventGenerator","max_drift":"","run_period":"1970-01-01 00:01:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":"","run_type":"daily","sys_updated_on":"2024-03-14 21:50:16","sys_class_name":"sysauto_script","sys_id":"8eebc1a3ff133110684fffffffffff26","sys_updated_by":"system","sys_created_on":"2023-12-30 00:11:10","run_start":"2023-12-30 00:10:58","sys_name":"MIF Sync Down Job","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/47401582b7a6b9501e8f827b9e11a913","value":"47401582b7a6b9501e8f827b9e11a913"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"15","active":"true","time_zone":"","script":"var profile = sn_mif.MIFBase.getKaaProfile();\nvar correlationId = gs.generateGUID();\n\nsn_mif.MIFLogContext.executeWithContext(profile.instanceId, profile.customer, correlationId, () => {\n    if (MIFBase.isJobEligibleToRun(\"MIF Sync Down Job: \", profile))\n        MIFRetryManager.runSyncDown(correlationId);\n});\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/47401582b7a6b9501e8f827b9e11a913","value":"47401582b7a6b9501e8f827b9e11a913"},"condition":"","sys_update_name":"sysauto_script_8eebc1a3ff133110684fffffffffff26","offset_type":"0","name":"MIF Sync Down Job","max_drift":"1970-01-01 12:00:00","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2024-09-10 12:47:26","sys_class_name":"sysauto_script","sys_id":"8f5309b543201210459e391cf9b8f239","sys_updated_by":"admin","sys_created_on":"2024-09-10 12:47:26","run_start":"2024-09-10 12:33:53","sys_name":"Clear stale MFA set up data","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"0","active":"true","time_zone":"","script":"\nvar acrUsers = [];\nvar mfaPropertyName = \"glide.authenticate.multifactor\";\nvar upgradeScriptStartTimeProperty = \"glide.authenticate.multifactor.upgrade.script_start_time\";\nvar tableNotPresentMessage = \"{0} table is not present in instance.\";\nvar upgradeScriptStartTime = new GlideDateTime();\n\nprocess();\n\nfunction process() {\n    var propValue = GlidePropertiesDB.get(upgradeScriptStartTimeProperty);\n    if (!propValue) {\n        this.logInfo(\"Proceeding with current date time as we did not find the property {0}\", upgradeScriptStartTimeProperty);\n    } else {\n        upgradeScriptStartTime.setValue(Number(propValue));\n        removeProperty(upgradeScriptStartTimeProperty);\n    }\n    //Clear all the MFA set up data (excluding ACR user data) if present in the instance.\n    clearMfaSetUpUserData();\n    //Activate Multi Factor Authentication system property\n    var mfaProperty = GlideProperties.getBoolean(mfaPropertyName);\n    var isDevInstance = GlideUtil.isDeveloperInstance();\n    var isAnyTestEnvironment = GlideProperties.getBoolean(\"glide.test_instance\")\n        || GlideProperties.getBoolean(\"glide.test.full_environment.initialized\")\n        || GlideProperties.getBoolean(\"glide.test.environment.initialized\");\n    if (!mfaProperty && !isDevInstance && !isAnyTestEnvironment){\n        activateProperty(mfaPropertyName);\n    }\n}\n\n// Removes property from sys_properties\nfunction removeProperty(propertyName) {\n    var gr = new GlideRecord(\"sys_properties\");\n    gr.addQuery(\"name\", upgradeScriptStartTimeProperty);\n    gr.query();\n    if (gr.next()) {\n        // To stop running BRs on the sys_properties\n        gr.setWorkflow(false);\n        // This is to stop having this change added to update set.\n        gr.setUseEngines(false);\n        gr.deleteRecord();\n        this.logInfo(\"{0} temp system property is removed\", upgradeScriptStartTimeProperty);\n    }\n}\n\n// Clears MFA set up data for users\nfunction clearMfaSetUpUserData() {\n    getAcrData();\n    //Delete user data from user_multifactor_auth, sys_user_public_credential, sys_user_multi_factor_setup apart from ACR users\n    //TOTP MFA set up data\n    clearSetUpData(\"user_multifactor_auth\");\n    //FIDO/Web Authenticator set up data\n    clearSetUpData(\"sys_user_public_credential\");\n    //Recent factors MFA data\n    clearSetUpData(\"sys_user_multi_factor_setup\");\n}\n\n// ACR user set up data should not be deleted. This method will update acrUsers\nfunction getAcrData() {\n    var acrGr = new GlideRecord(\"acr_user\");\n    if (!acrGr.isValid()) {\n        this.logInfo(tableNotPresentMessage, \"acr_user\");\n        return;\n    }\n    acrGr.query();\n    while (acrGr.next()) {\n        acrUsers.push(acrGr.getValue(\"acr_user\"));\n    }\n}\n\n// Clears all set-up data from table except ACR data\nfunction clearSetUpData(table) {\n    var gr = new GlideRecord(table);\n    if (!gr.isValid()) {\n        this.logError(tableNotPresentMessage, table);\n        return;\n    }\n    gr.addEncodedQuery(\"userNOT IN\" + acrUsers);\n    gr.addQuery(\"sys_created_on\", \"<\", upgradeScriptStartTime);\n    gr.query();\n    if (!gr.hasNext()) {\n        this.logInfo(\"No stale data is present in {0} table.\", table);\n        return;\n    }\n    try {\n        gr.deleteMultiple();\n        this.logInfo(\"cleared data from {0} table\", table);\n    } catch (e) {\n        this.logError(\"Error while clearing data from {0} table. Error: {1}\", [table, e]);\n    }\n}\n\n// Activates the given property\nfunction activateProperty(propertyName) {\n    try {\n        GlidePropertiesDB.set(propertyName, true);\n        this.logInfo(\"Property {0} activated\", propertyName);\n        this.logInfo(\"Resource: System Property {0}. Value before upgrade: {1}. Value after upgrade: {2}\", [propertyName, false, true]);\n    } catch (e) {\n        this.logError(\"Error while updating System Property {0}. Error: {1}\", [propertyName, e]);\n    }\n}\n\n// Logs an Info message with prefix clear_stale_mfa_setup_record_job\nfunction logInfo(message, params) {\n    gs.info(\"clear_stale_mfa_setup_record_job: \" + message, params);\n}\n\n// Logs an Error message with prefix clear_stale_mfa_setup_record_job\nfunction logError(message, params) {\n    gs.error(\"clear_stale_mfa_setup_record_job: \" + message, params);\n}\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c46ca73b04352210559073c06a02f75c","value":"c46ca73b04352210559073c06a02f75c"},"condition":"","sys_update_name":"sysauto_script_8f5309b543201210459e391cf9b8f239","offset_type":"0","name":"Clear stale MFA set up data and turn on MFA property","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/maint","value":"maint"},"run_type":"weekly","sys_updated_on":"2024-05-14 00:31:04","sys_class_name":"sysauto_script","sys_id":"8f6f78175306021059d9ddeeff7b1278","sys_updated_by":"maint","sys_created_on":"2024-05-13 21:43:36","run_start":"2024-05-13 21:30:37","sys_name":"SC - Calculate SC Notification Stats","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"run_dayofweek":"1","sys_created_by":"maint","upgrade_safe":"false","offset":"","run_time":"1970-01-01 00:00:00","sys_mod_count":"8","active":"true","time_zone":"floating","script":"var spUtil = new SCSecurityPolicyUtil();\nvar constants = new sn_vsc.SecurityCenterConstants();\nvar policy = new GlideRecord(constants.SECURITY_POLICY);\npolicy.query();\nwhile (policy.next()) {\n    var stats = spUtil.getPolicyStats(policy.sys_id);\n    var count = spUtil.getWeeklyTriggerCount(policy.sys_id, 0);\n    stats.setValue('triggered_count_last_7days', count);\n\n    var sixWeekTotal = 0;\n    for (var i = 1; i <= 6; i++) {\n        sixWeekTotal += spUtil.getWeeklyTriggerCount(policy.sys_id, i);\n    }\n    var sixWeekAverage = sixWeekTotal / 6;\n    stats.setValue('previous_6_week_average_trigger_count', sixWeekAverage.toFixed(2));\n\n    var change = 100;\n    if (sixWeekAverage > 0) {\n        change = (100 * (count - sixWeekAverage)) / sixWeekAverage;\n        change = change.toFixed(2);\n    }\n    stats.setValue('percentage_change', change);\n    stats.update();\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"condition":"","sys_update_name":"sysauto_script_8f6f78175306021059d9ddeeff7b1278","offset_type":"0","name":"SC - Calculate SC Notification Stats","max_drift":"","run_period":"","sys_policy":"read"},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":"","run_type":"periodically","sys_updated_on":"2021-08-25 07:42:23","sys_class_name":"sysauto_script","sys_id":"90e0b96e3b5000109cbbcea234efc42f","sys_updated_by":"admin","sys_created_on":"2019-10-07 23:58:04","run_start":"2019-10-07 23:52:09","sys_name":"Idle Chat Timer Task","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"true","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"8","active":"true","time_zone":"","script":"var idle_reminder_timeout = gs.getProperty(\"com.glide.cs.idle_chat_reminder_timeout\",180); // 3 min\nvar idle_cancel_timeout = gs.getProperty(\"com.glide.cs.idle_chat_cancel_timeout\",360); // 6 min\n\n/** start_timer_on_agent_message - Start idle timer only after Agent has sent a message.\nNote : Connect Support Queues do not have Initial Agent Response as a mandatory field. In a scenario where the Initial Agent Response is empty in \"Connect Support\", the beginning of the conversation will require two messages from Agent to trigger the timeout when below property is set to true.\n*/\n\nvar start_timer_on_agent_message = gs.getProperty(\"com.glide.cs.start_idle_timeout_after_agent_response\", false); \nnew global.IdleChatHandler().process(idle_reminder_timeout,idle_cancel_timeout, start_timer_on_agent_message);","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"condition":"","sys_update_name":"sysauto_script_90e0b96e3b5000109cbbcea234efc42f","offset_type":"","name":"Idle Chat Timer Task","max_drift":"","run_period":"1970-01-01 00:02:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"weekly","sys_updated_on":"2024-06-28 17:57:56","sys_class_name":"sysauto_script","sys_id":"91ac82f777f20210f9db10ed9f5a998e","sys_updated_by":"admin","sys_created_on":"2024-06-21 23:12:03","run_start":"2024-06-21 18:52:16","sys_name":"CMDB Query Builder Suggested Relations Cleanup Job","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 20:00:00","sys_mod_count":"4","active":"true","time_zone":"","script":"var QB_SUGGESTED_REL_CLEANUP_JOB = \"CMDB Query Builder Suggested Rels Cleanup SysTrigger\";\nvar QB_SUGGESTED_REL_CLEANUP_SCRIPT = \"SNC.QueryBuilderSuggestedRelationships.cleanupQueryBuilderSuggestedRels();\";\n\nSNC.QueryBuilderSuggestedRelationships.deleteInvalidSuggestedRels();\nSNC.QueryBuilderSuggestedRelationships.createSuggestedRelsSysTrigger(QB_SUGGESTED_REL_CLEANUP_JOB, QB_SUGGESTED_REL_CLEANUP_SCRIPT);","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_91ac82f777f20210f9db10ed9f5a998e","offset_type":"0","name":"CMDB Query Builder Suggested Relations Cleanup Job","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2021-04-13 16:49:55","sys_class_name":"sysauto_script","sys_id":"929dc5bc53e3e0102455ddeeff7b1258","sys_updated_by":"admin","sys_created_on":"2021-04-13 16:49:55","run_start":"2021-04-13 16:35:00","sys_name":"MAINT: Promote business_unit up to cmdb_ci table level","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"//Moves the business_unit column from Business Applications to Configuration Item tables\nGlideDBUtil.promoteColumn('cmdb_ci_business_app', 'cmdb_ci', 'business_unit');\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_929dc5bc53e3e0102455ddeeff7b1258","offset_type":"0","name":"MAINT: Promote business_unit up to cmdb_ci table level","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":"","run_type":"periodically","sys_updated_on":"2023-07-26 23:23:52","sys_class_name":"sysauto_script","sys_id":"93c92495ff503110d185612a453bf1a9","sys_updated_by":"admin","sys_created_on":"2023-07-26 19:30:06","run_start":"2023-07-01 07:00:00","sys_name":"Subscription Detail Watcher","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bcadabf277f311109c62f5f3cb5a992a","value":"bcadabf277f311109c62f5f3cb5a992a"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"1","active":"true","time_zone":"","script":"new sn_entitlement.SubscriptionDetailWatcher().run();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bcadabf277f311109c62f5f3cb5a992a","value":"bcadabf277f311109c62f5f3cb5a992a"},"condition":"","sys_update_name":"sysauto_script_93c92495ff503110d185612a453bf1a9","offset_type":"0","name":"Subscription Detail Watcher","max_drift":"","run_period":"1970-01-01 01:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":"","run_type":"periodically","sys_updated_on":"2013-07-22 18:20:17","sys_class_name":"sysauto_script","sys_id":"950feca897320100d308124eda29756a","sys_updated_by":"admin","sys_created_on":"2013-07-22 18:20:17","run_start":"2013-07-22 18:19:41","sys_name":"Team Development Update Push Status","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"// This completes updating the status of a push if a child is\n//    restarted before a staged push is completed.\nvar syncChangeTask = new SncSyncChangeTask();\nsyncChangeTask.retrieveAndUpdateSyncChangeState()","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ff04a7f704312210559073c06a02f761","value":"ff04a7f704312210559073c06a02f761"},"condition":"","sys_update_name":"sysauto_script_950feca897320100d308124eda29756a","offset_type":"0","name":"Team Development Update Push Status","max_drift":"","run_period":"1970-01-01 00:10:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/85388c25b71011104eed4643ae11a993","value":"85388c25b71011104eed4643ae11a993"},"run_type":"daily","sys_updated_on":"2022-04-15 07:13:22","sys_class_name":"sysauto_script","sys_id":"95a9755a77f20110ff643a91fa5a9998","sys_updated_by":"admin","sys_created_on":"2022-04-13 21:14:45","run_start":"2022-04-13 22:15:00","sys_name":"Sitemap Scheduler","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/26329d35f52d4510f877c32d14052947","value":"26329d35f52d4510f877c32d14052947"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 00:00:00","sys_mod_count":"1","active":"true","time_zone":"floating","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/26329d35f52d4510f877c32d14052947","value":"26329d35f52d4510f877c32d14052947"},"sys_update_name":"sysauto_script_95a9755a77f20110ff643a91fa5a9998","offset_type":"0","name":"Sitemap Scheduler","max_drift":"","run_period":"1970-01-01 00:01:00","sys_policy":"protected"},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2023-12-01 16:00:57","sys_class_name":"sysauto_script","sys_id":"984496eb0f5020109bf1552dc4767e07","sys_updated_by":"admin","sys_created_on":"2020-11-11 21:24:02","run_start":"2020-11-11 21:22:56","sys_name":"CMDB Sys Object Source Cleanup","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:45:00","sys_mod_count":"8","active":"true","time_zone":"","script":"// Delete sys object source if target record no longer exists.\n\t\t// Cloning of this job will not help with faster cleanup (DO NOT CLONE).\n\nvar limitPropertyName = 'glide.cmdb.sysObjectSource_cleanup';\nvar tableToClean = 'sys_object_source';\nvar targetColumnName = 'target_sys_id';\nvar targetColumnTable = 'target_table';\nvar jobContextName = 'sysObjectSrcCleanUpIterationSysId';\nvar cmdbTableCleanup = new CMDBTableCleanup(limitPropertyName, tableToClean,\n  targetColumnName, targetColumnTable, jobContextName);\ncmdbTableCleanup.cleanRecords();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_984496eb0f5020109bf1552dc4767e07","offset_type":"0","name":"CMDB Sys Object Source Cleanup","max_drift":"","run_period":"1970-01-01 00:10:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2022-02-16 20:03:47","sys_class_name":"sysauto_script","sys_id":"99c6f38b0f223010e28740c1df767efe","sys_updated_by":"maint","sys_created_on":"2021-09-17 07:49:33","run_start":"2021-09-17 07:48:49","sys_name":"App Status Count","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/ead9fb5f8b27a051aa71b35163745b82","value":"ead9fb5f8b27a051aa71b35163745b82"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"24","active":"true","time_zone":"","script":"(function() {\n    if (gs.getProperty('glide.ui.polaris.experience', 'false') == 'false')\n        return;\n\n    var globalAppsData = new sn_appclient.AppsDataAPI();\n    var appCounts = globalAppsData.getAppCounts();\n\n    addRow(\"Ready to install\", appCounts.notInstalled);\n    addRow(\"Ready to update\", appCounts.updated);\n\n    function addRow(status, count) {\n        var gr = new GlideRecord('polaris_app_shell_app_counts');\n        gr.addQuery('status', status);\n        gr.query();\n        if (gr.next()) {\n            gr.setValue('status_count', count);\n            gr.update();\n        } else {\n            gr.setValue('status', status);\n            gr.setValue('status_count', count);\n            gr.insert();\n        }\n    }\n}());","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ead9fb5f8b27a051aa71b35163745b82","value":"ead9fb5f8b27a051aa71b35163745b82"},"condition":"","sys_update_name":"sysauto_script_99c6f38b0f223010e28740c1df767efe","offset_type":"0","name":"App Status Count","max_drift":"","run_period":"1970-01-02 00:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2024-09-06 06:44:31","sys_class_name":"sysauto_script","sys_id":"99e2075453201210d84cddeeff7b1257","sys_updated_by":"admin","sys_created_on":"2024-09-06 06:08:52","run_start":"2024-09-06 06:00:13","sys_name":"Generate Now Assist Troubleshooting Notifications","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/7b67ecf7437042105947644c7ab8f21b","value":"7b67ecf7437042105947644c7ab8f21b"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"3","active":"true","time_zone":"","script":"new sn_nowassist_diagn.MonitoringNotificationUtil().generateNotifications();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7b67ecf7437042105947644c7ab8f21b","value":"7b67ecf7437042105947644c7ab8f21b"},"condition":"","sys_update_name":"sysauto_script_99e2075453201210d84cddeeff7b1257","offset_type":"0","name":"Generate Now Assist Troubleshooting Notifications","max_drift":"","run_period":"1970-01-01 00:05:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 03:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2020-08-31 15:30:44","sys_class_name":"sysauto_script","sys_id":"9a20ded05b43101034d351a2ea81c759","sys_updated_by":"admin","sys_created_on":"2020-08-31 15:29:18","run_start":"2020-08-31 15:26:18","sys_name":"License Detail Metric History Trim and Collection","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 03:00:00","sys_mod_count":"1","active":"false","time_zone":"floating","script":"var todayDatetime = new GlideDateTime();\n\nremoveOldRecords(todayDatetime);\nremoveTodayRecords(todayDatetime);\ncreateSnapShot(todayDatetime);\n\n// Remove old records, over 12 whole months old.\nfunction removeOldRecords(todayDatetime) {\n\tvar gdt = new GlideDateTime();\n\tgdt.setNumericValue(todayDatetime.getNumericValue());\n\tgdt.addMonths(-12);\n\tgdt.setDayOfMonthLocalTime(1);\n\n\tvar gr = new GlideRecord('license_detail_metric_history');\n\tgr.addQuery('sys_created_on', '<', gdt.getDate() + ' 00:00:00');\n\tgr.query();\n\twhile (gr.next()) {\n\t\tgr.deleteRecord();\n\t}\n}\n\n// Delete any records from today. In case this is run multiple times on the same day.\nfunction removeTodayRecords(todayDatetime) {\n\tvar minDatetime = new GlideDateTime();\n\tminDatetime.setNumericValue(todayDatetime.getNumericValue());\n\tminDatetime.subtract(minDatetime.getTime());\n\n\tvar maxDatetime = new GlideDateTime();\n\tmaxDatetime.setNumericValue(minDatetime.getNumericValue());\n\tmaxDatetime.addDays(1);\n\n\tvar gr = new GlideRecord('license_detail_metric_history');\n\tgr.addQuery('sys_created_on', '>=', minDatetime.getValue());\n\tgr.addQuery('sys_created_on', '<', maxDatetime.getValue());\n\tgr.query();\n\twhile (gr.next()) {\n\t\tgr.deleteRecord();\n\t}\n}\n\n// Copy records from st_license_detail_metric to license_detail_metric_history.\n// We are storing daily snapshots to be able to display a time series graph of allocated user\n// entitlements for licensing.  PA could not be used in this case because PA copies data\n// directly from the database table, and since the source table is a 'remote table' there is\n// no data in the actual table.\nfunction createSnapShot(todayDatetime) {\n\tvar gru = new GlideRecordUtil();\n\tvar source = new GlideRecord('st_license_detail_metric');\n\tsource.query();\n\t\n\twhile (source.next()) { \n\t\tvar fields = gru.getFields(source);\n\t\tvar target = new GlideRecord('license_detail_metric_history');\n\t\ttarget.initialize();\n\n\t\t// Copy all of the source table fields.\n\t\tfor (var i = 0; i < fields.length; i++) {\n\t\t\ttarget[fields[i]] = source.getValue(fields[i]);\n\t\t}\n\t\ttarget.insert();\n\t}\n}\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8bc96fbb04f12210559073c06a02f755","value":"8bc96fbb04f12210559073c06a02f755"},"condition":"","sys_update_name":"sysauto_script_9a20ded05b43101034d351a2ea81c759","offset_type":"0","name":"License Details History Trim and Collection","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2020-09-24 06:23:46","sys_class_name":"sysauto_script","sys_id":"9a2ba21373d31010ec95d11ee2f6a7ef","sys_updated_by":"admin","sys_created_on":"2020-09-22 11:26:37","run_start":"2020-09-22 11:21:44","sys_name":"Notify business process review date","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"7","active":"true","time_zone":"","script":"var today = new GlideDateTime();\ntoday.addDaysUTC(-1);\n\nvar gr = new GlideRecord('cmdb_ci_business_process');\ngr.addQuery('life_cycle_stage', 'Operational');\ngr.addNotNullQuery('assignment_group');\ngr.addQuery('next_review_date', today.getDate());\ngr.query();\n\nwhile (gr.next()) {\n    gs.eventQueue('business_process.review', gr);\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1eddeb3304752210559073c06a02f787","value":"1eddeb3304752210559073c06a02f787"},"condition":"","sys_update_name":"sysauto_script_9a2ba21373d31010ec95d11ee2f6a7ef","offset_type":"","name":"Notify business process review date","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"weekly","sys_updated_on":"2020-10-18 18:44:46","sys_class_name":"sysauto_script","sys_id":"9a7902735b3310105b1eed35cc81c7e7","sys_updated_by":"admin","sys_created_on":"2020-10-18 18:43:57","run_start":"2020-10-18 18:42:54","sys_name":"Prune Search Signal Events","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"7","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"1","active":"true","time_zone":"","script":"var service = new SearchAnalyticsService();\nservice.pruneSearchSignalEvents();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ae99ab7b04f12210559073c06a02f7e1","value":"ae99ab7b04f12210559073c06a02f7e1"},"condition":"","sys_update_name":"sysauto_script_9a7902735b3310105b1eed35cc81c7e7","offset_type":"0","name":"Prune Search Signal Events","max_drift":"","run_period":"","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2021-01-06 17:45:36","sys_class_name":"sysauto_script","sys_id":"9b088db0c7912010d447c17cf4c2601b","sys_updated_by":"admin","sys_created_on":"2020-12-22 20:22:39","run_start":"2020-12-22 19:49:29","sys_name":"AES User Sync","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 06:20:08","sys_mod_count":"5","active":"false","time_zone":"","script":"var userSyncService = new UserSyncService();\nvar userQueueService = new UserQueueService();\nvar syncedIds = '';\nvar synced;\nvar failed;\nvar skipped;\n\ngs.info('Starting AES user sync...');\n\ntry {\n\tvar response = userSyncService.sync();\n\n\tif (response) {\n\t\tsynced = response.synced || [];\n\t\tfailed = response.failed || [];\n\t\tskipped = response.skipped || [];\n\n\t\tif (synced.length) {\n\t\t\tsyncedIds = synced.map(function(item) {\n\t\t\t\treturn item.sys_id;\n\t\t\t});\n\t\t\tuserQueueService.updateMultipleQueue(syncedIds, SyncConstants.SYNCED);\n\n\t\t\t// Send email out to new users. This uses a seperate flow becuase access granted\n\t\t\t// emails should work with or without the user sync feature.\n\t\t\tsn_fd.FlowAPI.startFlow(SyncConstants.USER_ACCESS_GRANTED_JOB_NAME);\n\t\t}\n\n\t\tfailed.concat(skipped).forEach(function(item) {\n\t\t\tuserQueueService.updateQueue(item.sys_id, {\n\t\t\t\tstate: item.state,\n\t\t\t\tmessage: item.message,\n\t\t\t});\n\t\t});\n\t}\n\t\n\tvar grProcessed = new GlideRecord('sn_app_eng_studio_last_processed');\n\tgrProcessed.get(\"name\", \"user.sync\");\n\t\n\tif (grProcessed.isValidRecord()) {\n\t\tgrProcessed.setValue('last_processed', new GlideDateTime());\n\t\tgrProcessed.update();\n\t}\n\n\tgs.info('AES user sync completed');\n\t\n} catch (ex) {\n\tgs.error('AES User Sync Job: Unhandled Error ' + ex);\n}\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"condition":"(function() {\n\tvar pipelineService;\n\n\ttry {\n\t\tpipelineService = new PipelineService();\n\t}\n\tcatch(ex) {\n\t\tgs.warn(\"AES User Sync failed to execute due to:  \\n\\n\" + ex.toString() + \"\\n\\n\" + gs.getProperty(\"glide.servlet.uri\") + current.getLink());\n\t\treturn false;\n\t}\n\n\treturn  (gs.getProperty('sn_app_eng_studio.user_sync_enabled') === 'true') && pipelineService.isProd();\n})();","sys_update_name":"sysauto_script_9b088db0c7912010d447c17cf4c2601b","offset_type":"","name":"AES User Sync","max_drift":"","run_period":"1970-01-01 00:20:05","sys_policy":"read"},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2021-10-06 17:51:48","sys_class_name":"sys_flow_trigger_auto_script","sys_id":"9bf6f71dc7033010408bc8d6f2c2606d","sys_updated_by":"admin","sys_created_on":"2021-10-06 17:51:48","run_start":"2021-10-06 17:51:48","sys_name":"","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e78853e9c3222010b83971e54440dd26","value":"e78853e9c3222010b83971e54440dd26"},"run_dayofweek":"","sys_created_by":"admin","upgrade_safe":"true","offset":"","run_time":"1970-01-02 04:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"sn_flow_trigger.FlowTriggerAPI.fireTimerTrigger('d3f6f71dc7033010408bc8d6f2c2606d');","sys_package":"","condition":"","sys_update_name":"","offset_type":"0","name":"Trigger:d3f6f71dc7033010408bc8d6f2c2606d","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2018-09-04 08:43:24","sys_class_name":"sysauto_script","sys_id":"9c3f6c6ab7842300616ceb67ee11a93e","sys_updated_by":"admin","sys_created_on":"2018-08-23 16:32:42","run_start":"2018-08-23 16:27:09","sys_name":"JWT Key Expiry Notification","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"5","active":"true","time_zone":"","script":"gs.include(\"JWT_Util\");\n// hide the scope\n(function(){\n\tsendEmailNotificationBasedOnExpiry();\n})();\n\nfunction sendEmailNotificationBasedOnExpiry() {\n\tvar keysGr = new GlideRecord(\"jwt_keystore_aliases\");\n\tkeysGr.addActiveQuery();\n\tkeysGr.query();\n\t\n\tvar jwtUtil = new JWT_Util();\n\twhile(keysGr.next()) {\n\t\tjwtUtil.sendEmailNotificationBasedOnExpiry(keysGr);\n\t}\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/a4242b3b04312210559073c06a02f7f7","value":"a4242b3b04312210559073c06a02f7f7"},"condition":"","sys_update_name":"sysauto_script_9c3f6c6ab7842300616ceb67ee11a93e","offset_type":"0","name":"JWT Key Expiry Notification","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2021-10-08 21:51:02","sys_class_name":"sysauto_script","sys_id":"9c408b82730330107ef73bfcfef6a7f0","sys_updated_by":"admin","sys_created_on":"2021-10-08 21:51:02","run_start":"2021-10-08 21:48:06","sys_name":"NowMQ Archiver","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 10:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"SNC.NowMQArchiver.archiveMessages();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/56646fbb04312210559073c06a02f77a","value":"56646fbb04312210559073c06a02f77a"},"condition":"","sys_update_name":"sysauto_script_9c408b82730330107ef73bfcfef6a7f0","offset_type":"0","name":"NowMQ Archiver","max_drift":"","run_period":"1970-01-01 04:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":"","run_type":"daily","sys_updated_on":"2020-08-11 14:38:35","sys_class_name":"sysauto_script","sys_id":"9c411d6d5b3100101cf74dc0ab81c71c","sys_updated_by":"admin","sys_created_on":"2019-12-18 08:45:48","run_start":"2019-12-18 08:34:14","sys_name":"Process Mining Data Cleanup","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 00:00:00","sys_mod_count":"5","active":"true","time_zone":"floating","script":"SNC.ProcessOptimization.runDataCleanup();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aa76333f04b52210559073c06a02f764","value":"aa76333f04b52210559073c06a02f764"},"condition":"","sys_update_name":"sysauto_script_9c411d6d5b3100101cf74dc0ab81c71c","offset_type":"","name":"Process Mining Data Cleanup","max_drift":"","run_period":"","sys_policy":"read"},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 08:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"monthly","sys_updated_on":"2023-05-23 07:07:39","sys_class_name":"sysauto_script","sys_id":"9cfa3714b08f2110f877a6ba15105858","sys_updated_by":"admin","sys_created_on":"2023-05-23 04:17:34","run_start":"2023-05-23 04:08:36","sys_name":"Sync Password Reset Enrollment Snapshot Data Monthly","run_dayofmonth":"15","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"0","active":"true","time_zone":"floating","script":"new global.PwdEnrollSnapshotUtil().createOrDeleteEnrollmentSnapshotForMonthlyScheduledJob();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/421beb3304352210559073c06a02f7ef","value":"421beb3304352210559073c06a02f7ef"},"condition":"GlideProperties.getBoolean('pwd_reset.enable.enrollment_snapshot', true);","sys_update_name":"sysauto_script_9cfa3714b08f2110f877a6ba15105858","offset_type":"0","name":"Sync Password Reset Enrollment Snapshot Data Monthly","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"weekly","sys_updated_on":"2020-03-27 09:40:25","sys_class_name":"sysauto_script","sys_id":"9d0988f8c77300100cbda02922c2603a","sys_updated_by":"admin","sys_created_on":"2020-03-24 06:36:45","run_start":"2020-03-24 05:28:46","sys_name":"Item diagnostics job","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"6","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 00:00:00","sys_mod_count":"2","active":"true","time_zone":"floating","script":"var diagnosticProcessor = new CatalogItemDiagnosticScore('sc_cat_item', 'b177b092c3330200e44574e1c1d3ae4d');\nvar queryFunction = function(gr) {\n\tgr.addActiveQuery();\n\tgr.addEncodedQuery('sc_catalogs!=0b22fd2ad7021100b9a5c7400e610319^ORsc_catalogs=NULL');\n};\ndiagnosticProcessor.run(queryFunction);\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7428ab3304f12210559073c06a02f7b6","value":"7428ab3304f12210559073c06a02f7b6"},"condition":"","sys_update_name":"sysauto_script_9d0988f8c77300100cbda02922c2603a","offset_type":"0","name":"Item diagnostics job","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2022-09-08 09:15:02","sys_class_name":"sysauto_script","sys_id":"9e4fc865eb311110bd1e0c73a252289c","sys_updated_by":"admin","sys_created_on":"2022-09-07 16:22:41","run_start":"2022-09-07 08:41:45","sys_name":"Clear sessions in Login History table for node failure ","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"0","active":"true","time_zone":"","script":"var daysBeforeWhichDataCleanupNeeded = 1;\nvar batchSize = 1000;\nvar loginHistoryTableName = 'sys_user_login_history';\n\nclearNodeFailureSessions();\n\nfunction clearNodeFailureSessions() {\n    var totalRecords = 0;\n    var loginHistoryGR = getActiveSessionsInLoginHistoryTable();\n    var activeSessionsInLoginHistory = {};\n    while (loginHistoryGR.next()) {\n        activeSessionsInLoginHistory[loginHistoryGR.getValue('session_id')] = true;\n        totalRecords++;\n        if (totalRecords == batchSize || !loginHistoryGR.hasNext()) {\n            var sessionsInvalidated = getInvalidatedSessionsInUserSession(activeSessionsInLoginHistory);\n            if (sessionsInvalidated.length > 0) {\n                updateLogoutTimeForAllInvalidatedSession(sessionsInvalidated);\n            }\n            totalRecords = 0;\n\t\t\tactiveSessionsInLoginHistory = {};\n        }\n    }\n}\n\n// This will find all the active web sessions in sys_user_login_history table which are active for more than 24 hrs.\nfunction getActiveSessionsInLoginHistoryTable() {\n\n    var dateBeforeWhichDataCleanupNeeded = new GlideDateTime();\n    dateBeforeWhichDataCleanupNeeded.addDays(-1 * daysBeforeWhichDataCleanupNeeded);\n    var loginHistoryGR = new GlideRecord(loginHistoryTableName);\n    loginHistoryGR.addQuery('login_client', 'Web');\n    loginHistoryGR.addNullQuery('logout_time');\n    loginHistoryGR.addQuery('login_status', 'SUCCESS');\n    loginHistoryGR.addQuery('login_time', '<', dateBeforeWhichDataCleanupNeeded);\n    loginHistoryGR.query();\n    return loginHistoryGR;\n}\n\n// This will give all the sessions which are deleted from the sys_user_session but active in sys_user_login_history table.\nfunction getInvalidatedSessionsInUserSession(activeSessionsInLoginHistory) {\n\n    var userSessionGR = new GlideRecord('sys_user_session');\n    userSessionGR.addQuery('id', 'IN', Object.keys(activeSessionsInLoginHistory));\n    userSessionGR.query();\n    while (userSessionGR.next()) {\n        delete activeSessionsInLoginHistory[userSessionGR.getValue('id')];\n    }\n    return Object.keys(activeSessionsInLoginHistory);\n}\n\nfunction updateLogoutTimeForAllInvalidatedSession(sessionsInvalidated) {\n    var dbu = new GlideDBUpdate(loginHistoryTableName);\n    var dbq = new GlideDBQuery(loginHistoryTableName);\n    dbq.addQuery('session_id', 'IN', sessionsInvalidated);\n    dbu.setQuery(dbq);\n    dbu.setMultiple(true);\n    dbu.setValue('logout_time', new GlideDateTime());\n    dbu.execute();\n    dbu.close();\n    dbq.close();\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f2473bbf04b52210559073c06a02f7f3","value":"f2473bbf04b52210559073c06a02f7f3"},"condition":"","sys_update_name":"sysauto_script_9e4fc865eb311110bd1e0c73a252289c","offset_type":"","name":"Clear sessions in Login History table for node failure ","max_drift":"","run_period":"","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"once","sys_updated_on":"2024-10-17 12:22:46","sys_class_name":"sysauto_script","sys_id":"9f7f7b3b772321106b84a81f7f5a990b","sys_updated_by":"admin","sys_created_on":"2023-08-14 22:56:08","run_start":"2023-06-27 21:58:36","sys_name":"Disable ServiceNow Root of Trust","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/eae404d3c31320101109046f5e40dd41","value":"eae404d3c31320101109046f5e40dd41"},"run_dayofweek":"1","sys_created_by":"maint","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"8","active":"true","time_zone":"","script":"var codeSigningAPI = new sn_cs_ns.CodeSigningAPI();\nvar jobRes = codeSigningAPI.disableServiceNowRootOfTrust();\nvar jobResJSON;\ntry {\n    jobResJSON = JSON.parse(jobRes);\n} catch (error) {\n    jobResJSON = {};\n}\nif (jobResJSON.succeeded)\n    gs.info(\"CodeSigning RoT transfer: Successfully disabled ServiceNow Root of Trust\");\nelse\n    gs.error(\"CodeSigning RoT transfer: Failed to disable ServiceNow Root of Trust\");\n    gs.addErrorMessage(jobResJSON.error_message);","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/eae404d3c31320101109046f5e40dd41","value":"eae404d3c31320101109046f5e40dd41"},"condition":"(function() {\n\tif (!current.active) {\n\t\tgs.error(\"CodeSigning RoT transfer: Disable ServiceNow Root of Trust job stops because the job was used once and it cannot be rerun.\");\n\t\treturn false;\n\t}\n\treturn true;\n})();","sys_update_name":"sysauto_script_9f7f7b3b772321106b84a81f7f5a990b","offset_type":"0","name":"Disable ServiceNow Root of Trust","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":"","run_type":"daily","sys_updated_on":"2025-06-05 04:52:20","sys_class_name":"sysauto_script","sys_id":"a060c407c0a8006f0067fef2befb357d","sys_updated_by":"system","sys_created_on":"2009-01-04 06:43:53","run_start":"2009-01-04 06:42:22","sys_name":"Import Set Deleter","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"glide.maint","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"1","active":"true","time_zone":"","script":"\nvar ic = new ImportSetCleaner();\r\n// delete import sets and their related import set rows\r\n// that were created more than or equal to 7 days ago\r\nic.setDaysAgo(7);\r\nic.clean();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7783a3f304312210559073c06a02f7ce","value":"7783a3f304312210559073c06a02f7ce"},"condition":"","sys_update_name":"sysauto_script_a060c407c0a8006f0067fef2befb357d","offset_type":"0","name":"Import Set Deleter","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":"","run_type":"daily","sys_updated_on":"2009-01-04 07:39:56","sys_class_name":"sysauto_script","sys_id":"a09576d5c0a8006f0049f301c59f36b0","sys_updated_by":"glide.maint","sys_created_on":"2009-01-04 07:39:56","run_start":"2009-01-04 06:42:22","sys_name":"Synchronous Import Set Completer","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"glide.maint","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"2","active":"true","time_zone":"","script":"// complete (set processed) synchronous import sets so that a new one\r\n// will be created.  By default, a new synchronous\r\n// import set will be created daily at midnight\r\nsetIsetProcessed();\r\n\r\nfunction setIsetProcessed() {\r\nvar igr = new GlideRecord(\"sys_import_set\");\r\nigr.addQuery(\"mode\", \"synchronous\");\r\nigr.addQuery(\"state\", \"loading\");\r\nigr.query();\r\n  while(igr.next()) {\r  \n    igr.state = \"processed\";\r\n    igr.update();\r\n  }\r\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ed77233f04b12210559073c06a02f752","value":"ed77233f04b12210559073c06a02f752"},"condition":"","sys_update_name":"sysauto_script_a09576d5c0a8006f0049f301c59f36b0","offset_type":"0","name":"Synchronous Import Set Completer","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2022-04-12 11:50:35","sys_class_name":"sysauto_script","sys_id":"a0b3475c73071010f14a063f34f6a78e","sys_updated_by":"admin","sys_created_on":"2020-08-31 19:12:52","run_start":"2020-08-31 19:11:28","sys_name":"Auto Resolution ML Training Status Poller","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"29","active":"false","time_zone":"","script":"var configLangGr = new GlideRecord(AutoResolutionConstants.CONFIG_LANGUAGE_TABLE_NAME);\nconfigLangGr.addNotNullQuery(AutoResolutionConstants.CONFIGURATION_FIELD_NAME);\nconfigLangGr.addEncodedQuery(AutoResolutionConstants.AZ_ENCODED_QUERY);\nconfigLangGr.query();\n\nvar configLanguagesCount = configLangGr.getRowCount();\nvar trainingCompletedCount = 0;\n\nwhile (configLangGr.next()) {\n\tvar mlHelper = AutoResolutionMLFactory.createMLHelper(configLangGr.getValue(AutoResolutionConstants.CONFIGURATION_FIELD_NAME));\n\t\tmlHelper.trainingJobStatusCheck();\n\t\tif (mlHelper.checkAllLanguageModelsTrainingCompleted()) \n\t\t\ttrainingCompletedCount++;\n\n\t\tif (trainingCompletedCount === configLanguagesCount)\n\t\t\tmlHelper.toggleScheduleJobActive(false);\n}\n\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca4f3f704b52210559073c06a02f789","value":"aca4f3f704b52210559073c06a02f789"},"condition":"","sys_update_name":"sysauto_script_a0b3475c73071010f14a063f34f6a78e","offset_type":"","name":"Auto Resolution ML Training Status Poller","max_drift":"","run_period":"1970-01-01 00:00:05","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"monthly","sys_updated_on":"2025-07-09 10:54:41","sys_class_name":"cert_audit","sys_id":"a21f3031dfa0010068c37a0d3df263fc","sys_updated_by":"admin","sys_created_on":"2013-04-07 20:24:48","run_start":"2013-04-07 20:21:04","sys_name":"Database Audit","run_dayofmonth":"3","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"11","active":"true","time_zone":"","script":"new SNC.CertificationProcessing().runAudit(current.sys_id, current.template.filter.sys_id, current.template.sys_id);","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e457afbb04b12210559073c06a02f744","value":"e457afbb04b12210559073c06a02f744"},"condition":"","sys_update_name":"cert_audit_a21f3031dfa0010068c37a0d3df263fc","offset_type":"","name":"Database Audit","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2024-03-12 13:33:25","sys_class_name":"sysauto_script","sys_id":"a2ffeed998280610f87755c6b27843e2","sys_updated_by":"maint","sys_created_on":"2024-02-23 11:00:59","run_start":"2024-02-23 11:00:21","sys_name":"Populate SC Popular Items","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"maint","upgrade_safe":"false","offset":"","run_time":"1970-01-01 00:00:00","sys_mod_count":"0","active":"true","time_zone":"floating","script":"function getPopularItems(time_period, allowedItems) {\n    return new SCPopularItems().useOptimisedQuery(true)\n        .baseQuery(time_period)\n        .allowedItems(allowedItems)\n        .visibleStandalone(true)\n        .visibleServicePortal(true)\n        .itemsLimit(ITEM_LIMIT)\n        .checkRestrictedTypes(true)\n        .restrictedItemTypes(['sc_cat_item_guide'])\n        .itemValidator(function(item, itemDetails) {\n\t\t\treturn item.isActive();\n        })\n        .responseObjectFormatter(function(item, itemType, itemCount) {\n            return {\n                count: itemCount || 0,\n                sys_id: item.sys_id || ''\n            };\n        })\n        .generate();\n}\n\nfunction insertRecords(time_period, popularItemsArr, catalogId) {\n\tfor (var i = (popularItemsArr.length - 1); i >= 0; i--) {\n\t\tvar item = popularItemsArr[i];\n\t\tif (Object.keys(item).length == 0 || !GlideStringUtil.isEligibleSysID(item.sys_id))\n\t\t\tcontinue;\n\t\t\t\n\t\tvar popularItems = new GlideRecord(\"sc_popular_items\");\n\t\tpopularItems.initialize();\n\t\tpopularItems.setValue(\"sc_cat_item\", item.sys_id);\n\t\tpopularItems.setValue(\"request_count\", item.count);\n\t\tpopularItems.setValue(\"time_period\", time_period);\n\t\tpopularItems.setValue(\"sc_catalog\", catalogId);\n\t\tpopularItems.insert();\n\t}\t\n}\n\nfunction deletePopularItems() {\n\tvar popularItems = new GlideRecord(\"sc_popular_items\");\n\tpopularItems.query();\n\tpopularItems.deleteMultiple();\n}\n\nvar ITEM_LIMIT = 200;\nvar catalogJS;\nvar allowedItems;\nvar time_periods = [3, 6, 12];\ndeletePopularItems();\nvar catalogGR = new GlideRecord(\"sc_catalog\");\ncatalogGR.addActiveQuery();\ncatalogGR.query();\nwhile (catalogGR.next()) {\n\tcatalogJS = new sn_sc.Catalog(catalogGR.getUniqueValue());\n\tallowedItems = catalogJS.getCatalogItemIds();\n\tfor (var i = 0; i < time_periods.length; i++)\n\t\tinsertRecords(time_periods[i], getPopularItems(time_periods[i], allowedItems), catalogGR.getUniqueValue());\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3028ab3304f12210559073c06a02f7b7","value":"3028ab3304f12210559073c06a02f7b7"},"condition":"","sys_update_name":"sysauto_script_a2ffeed998280610f87755c6b27843e2","offset_type":"0","name":"Populate SC Popular Items","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2020-11-10 10:48:40","sys_class_name":"sysauto_script","sys_id":"a52dad525b621010f8f93eaa3d81c7ce","sys_updated_by":"admin","sys_created_on":"2020-08-12 21:31:31","run_start":"2020-08-12 05:30:00","sys_name":"PA - KPI Signals -  Formula Indicator Signals Calculation Job","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 23:00:00","sys_mod_count":"5","active":"true","time_zone":"","script":"//XMRFormulaIndicatorSignalCalculatorJob calculates signals for all process records(irrespective of domain) where the indicator is a formula indicators.\nnew SNC.XMRFormulaSignalCalculatorJob().calculateSignals();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c5dd6b3304752210559073c06a02f77a","value":"c5dd6b3304752210559073c06a02f77a"},"condition":"","sys_update_name":"sysauto_script_a52dad525b621010f8f93eaa3d81c7ce","offset_type":"0","name":"PA - KPI Signals -  Formula Indicator Signals Calculation Job","max_drift":"","run_period":"1970-01-01 08:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2025-02-06 15:38:23","sys_class_name":"sysauto_script","sys_id":"a5a3c77f5b131010d033d82d9681c76f","sys_updated_by":"admin","sys_created_on":"2020-09-24 02:26:01","run_start":"2020-09-26 04:00:00","sys_name":"Timeout For FDIH Interactive Chats and Atlas Search","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"16","active":"true","time_zone":"","script":"// Check periodically for timed out FDIH interactive chats and FDIH AI Search operations\n// Error out the conversation if it has timed out for the specified amount of time\nvar INTERACTIVE_FDIH_TOPIC_TIMEOUT = gs.getProperty('com.glide.cs.fdih.interactive.timeout') || 120; // seconds\nvar INTERACTIVE_FDIH_AI_SEARCH_TIMEOUT = gs.getProperty('com.glide.cs.fdih.aisearch.timeout') || 10; // seconds\nvar INTERACTIVE_FDIH_DTAC_TIMEOUT = gs.getProperty('com.glide.cs.dynamic_translation_time_out') || 15; // seconds\nvar INTERACTIVE_FDIH_UNIFIED_SEARCH_TIMEOUT = gs.getProperty('com.glide.cs.fdih.unified_search.timeout') || 120; // seconds\nvar INTERACTIVE_FDIH_SYNTHESIZED_SEARCH_TIMEOUT = gs.getProperty('sn_vad_genai.com.glide.cs.fdih.synthesized_search.timeout') || 30; // seconds\nvar AI_SEARCH_CALL_MECHANISM = gs.getProperty('sn_nowassist_va.ais_call_mechanism') || 'data_broker';\nvar AI_SEARCH_FD_ACTION_NAME = 'AI Search';\nvar AI_ASYNC_SEARCH_FD_ACTION_NAME = 'Async Search';\nvar UNIFIED_ASYNC_SEARCH_FD_ACTION_NAME = 'Async AI Search';\n\nvar longRunningTimeoutThreshold = new GlideDateTime();\nlongRunningTimeoutThreshold.addSeconds(-1 * INTERACTIVE_FDIH_TOPIC_TIMEOUT);\n\nvar aiSearchTimeoutThreshold = new GlideDateTime();\naiSearchTimeoutThreshold.addSeconds(-1 * INTERACTIVE_FDIH_AI_SEARCH_TIMEOUT);\n\nvar dtacTimeoutThreshold = new GlideDateTime();\ndtacTimeoutThreshold.addSeconds(-1 * INTERACTIVE_FDIH_DTAC_TIMEOUT);\n\nvar unifiedSearchTimeoutThreshold = new GlideDateTime();\nunifiedSearchTimeoutThreshold.addSeconds(-1 * INTERACTIVE_FDIH_UNIFIED_SEARCH_TIMEOUT);\n\nvar synthesizedSearchTimeoutThreshold = new GlideDateTime();\nsynthesizedSearchTimeoutThreshold.addSeconds(-1 * INTERACTIVE_FDIH_SYNTHESIZED_SEARCH_TIMEOUT);\n\nif (\"data_broker\" == AI_SEARCH_CALL_MECHANISM) {\n    // MULTIPLE CALLBACK MODE for Async AI Search -- SPECIAL TIMEOUT LOGIC (in \"Data Broker\" mode).\n    // Timeout a sys_cs_fdih_invocation record where < 2 associated sys_cs_fdih_invocation_callback records.\n    var gaMissingCallback = new GlideAggregate('sys_cs_fdih_invocation_callback');\n    gaMissingCallback.groupBy('fdih_invocation');\n    gaMissingCallback.orderByAggregate('COUNT', 'fdih_invocation');\n    gaMissingCallback.addAggregate('COUNT', 'fdih_invocation');\n    gaMissingCallback.addHaving('COUNT', 'fdih_invocation', '<', 2);\n    gaMissingCallback.addQuery('fdih_invocation.response_state', 'IN', 'COMPLETE, IN_PROGRESS');\n    gaMissingCallback.addNotNullQuery('fdih_invocation.callback_id');\n    gaMissingCallback.addQuery('fdih_invocation.callback_mode', 'multiple');\n    gaMissingCallback.addQuery('fdih_invocation.execution_context.name', UNIFIED_ASYNC_SEARCH_FD_ACTION_NAME);\n    gaMissingCallback.addQuery('output_type', 'IN', 'genius_result, regular_result');\n    gaMissingCallback.query();\n    while (gaMissingCallback.next()) {\n        if (gaMissingCallback.fdih_invocation.sent_on < synthesizedSearchTimeoutThreshold.getValue()) {\n            sn_cs.VASystemObject.timeoutFDIH(gaMissingCallback.fdih_invocation, gaMissingCallback.fdih_invocation.calling_cs_conversation_task.conversation, gaMissingCallback.fdih_invocation.execution_context.name, 'ERROR_TOPIC');\n        }\n    }\n} else if (\"router\" == AI_SEARCH_CALL_MECHANISM) {\n\tvar grMissingResponse = new GlideRecord('sys_cs_fdih_invocation');\n\tgrMissingResponse.addNotNullQuery('callback_mode');\n\tgrMissingResponse.addNotNullQuery('callback_id');\n\tgrMissingResponse.addQuery('execution_mode', 'IN', 'WAIT_FOR_RESPONSE');\n\tgrMissingResponse.addQuery('response_state', 'IN_PROGRESS').addOrCondition('response_state', '');\n\tgrMissingResponse.addNullQuery('result');\n\tgrMissingResponse.query();\n\twhile(grMissingResponse.next()) {\n\t\tif (grMissingResponse.sent_on < synthesizedSearchTimeoutThreshold.getValue()) {\n            sn_cs.VASystemObject.timeoutFDIH(grMissingResponse.getUniqueValue(), grMissingResponse.calling_cs_conversation_task.conversation, grMissingResponse.execution_context.name, 'ERROR_TOPIC');\n        }\n    }\n}\n\nvar gr = new GlideRecord('sys_cs_fdih_invocation');\ngr.addNullQuery('response_state');\ngr.addQuery('execution_mode', 'IN', 'WAIT_FOR_RESPONSE, QUICK_EXECUTE');\ngr.addQuery('callback_mode', 'NOT IN', 'multiple'); // do not interfere with MULTIPLE CALLBACK MODE timeout logic (above)\ngr.query();\n\nwhile (gr.next()) {\n\tif (gr.name == 'DTAC') {\n\t\tif (gr.sent_on < dtacTimeoutThreshold.getValue()) {\n\t\t\tsn_cs.VASystemObject.timeoutDTAC(gr.context_id);\n\t\t}\n\t} else if (gr.execution_context.name == UNIFIED_ASYNC_SEARCH_FD_ACTION_NAME) {\n\t\tif (gr.sent_on < unifiedSearchTimeoutThreshold.getValue()) {\n\t\t\tsn_cs.VASystemObject.timeoutFDIH(gr.getUniqueValue(), gr.calling_cs_conversation_task.conversation, gr.execution_context.name, 'ERROR_TOPIC');\n\t\t}\n\t} else if ((gr.execution_context.name == AI_SEARCH_FD_ACTION_NAME || gr.execution_context.name == AI_ASYNC_SEARCH_FD_ACTION_NAME)) {\n\t\tif (gr.sent_on < aiSearchTimeoutThreshold.getValue()) {\n\t\t\tsn_cs.VASystemObject.timeoutFDIH(gr.getUniqueValue(), gr.calling_cs_conversation_task.conversation, gr.execution_context.name, 'FALLBACK_TOPIC');\n\t\t}\n\t} else if ((gr.execution_context.name != AI_SEARCH_FD_ACTION_NAME && gr.execution_context.name != AI_ASYNC_SEARCH_FD_ACTION_NAME)) {\n\t\tif (gr.sent_on < longRunningTimeoutThreshold.getValue()) {\n\t\t\tsn_cs.VASystemObject.timeoutFDIH(gr.getUniqueValue(), gr.calling_cs_conversation_task.conversation, gr.execution_context.name, 'ERROR_TOPIC');\n\t\t}\n\t}\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"condition":"","sys_update_name":"sysauto_script_a5a3c77f5b131010d033d82d9681c76f","offset_type":"","name":"Timeout For FDIH Interactive Chats and Atlas Search","max_drift":"","run_period":"1970-01-01 00:00:10","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"once","sys_updated_on":"2021-10-19 16:22:55","sys_class_name":"sysauto_script","sys_id":"a7abd2a1ff133010570cffb0653bf163","sys_updated_by":"admin","sys_created_on":"2021-10-19 16:14:51","run_start":"2021-10-19 16:07:02","sys_name":"Delete temporary sys_pattern table after upgrade","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"2","active":"true","time_zone":"","script":"(function() {\n\tvar tableUtil = new TableUtils(\"z_tmp_sys_pattern\");\n\tif (tableUtil.tableExists()) {\n\t\tvar gr = new GlideRecord('sys_db_object');\n\t\tgr.addQuery('name', 'z_tmp_sys_pattern');\n\t\tgr.query();\n\t\tif (!gr.next())\n\t\t\ttableUtil.drop(\"z_tmp_sys_pattern\");\n\t}\n})();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1cd467bf04312210559073c06a02f74e","value":"1cd467bf04312210559073c06a02f74e"},"condition":"","sys_update_name":"sysauto_script_a7abd2a1ff133010570cffb0653bf163","offset_type":"0","name":"Delete temporary sys_pattern table after upgrade","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2021-10-08 22:01:27","sys_class_name":"sysauto_script","sys_id":"a8824306730330107ef73bfcfef6a704","sys_updated_by":"admin","sys_created_on":"2021-10-08 22:01:27","run_start":"2021-10-08 21:57:57","sys_name":"NowMQ Archive Reaper","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 11:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"SNC.NowMQArchiver.expireArchive();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/56646fbb04312210559073c06a02f77a","value":"56646fbb04312210559073c06a02f77a"},"condition":"","sys_update_name":"sysauto_script_a8824306730330107ef73bfcfef6a704","offset_type":"0","name":"NowMQ Archive Reaper","max_drift":"","run_period":"1970-01-01 08:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/maint","value":"maint"},"run_type":"periodically","sys_updated_on":"2025-07-09 11:27:04","sys_class_name":"sysauto_script","sys_id":"a8f76abb7fb01210e5198b2cac86657f","sys_updated_by":"system","sys_created_on":"2024-09-29 11:31:27","run_start":"2024-09-29 11:16:55","sys_name":"UXAAppMigrationJob","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"maint","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"63","active":"false","time_zone":"","script":"this.self_sys_id = 'a8f76abb7fb01210e5198b2cac86657f';\nthis.migration_complete_property = 'com.glide.appsee.uxaapp_migration_complete';\ngs.info(\"STARTING ==== UX Analytics App Migration  job for apps\");\nvar appMigration = new UXAAppMigration();\nvar retries = appMigration.getRetryCount();\n\nvar isMigrationComplete = false;\nvar shouldNotMigrate = false;\ntry {\n    isMigrationComplete = appMigration.isMigrationComplete();\n    var legacyDashboardEnabled = gs.getProperty('glide.uxa.legacy_dashboard.enabled') || false;\n    var disabledMigrationJob = Boolean(gs.getProperty('com.glide.appsee.uxa_disable_app_migration_job') || false);\n    var max_retry_exceeded = Boolean(retries.current >= retries.max);\n    gs.info(\"isMigrationComplete: \" + isMigrationComplete);\n    gs.info(\"glide.uxa.legacy_dashboard.enabled :\" + legacyDashboardEnabled);\n    gs.info(\"com.glide.appsee.uxa_disable_app_migration_job:\" + disabledMigrationJob);\n    gs.info(\"Max no of retries over: \" + max_retry_exceeded);\n\n    shouldNotMigrate = isMigrationComplete || legacyDashboardEnabled || disabledMigrationJob || max_retry_exceeded;\n} catch (e) {}\n\nif (isMigrationComplete)\n\tappMigration.insertSysProperty(this.migration_complete_property, true);    \n\ngs.info(\"shouldNotMigrate: \" + shouldNotMigrate);\nif (shouldNotMigrate == true) {\n    //disable the job and exit\n    var current = new GlideRecord('sysauto_script');\n    current.get(this.self_sys_id);\n    current.setValue('active', false);\n    current.update();\n    gs.info(\"UX Analytics App Migration job - DISABLED, if this is running all the time, there is something wrong\");\n} else {\n    appMigration.migrateApps();\n    gs.info(\"END ==== UX Analytics App Migration job ended for apps\");\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/07d4abbf04312210559073c06a02f7f6","value":"07d4abbf04312210559073c06a02f7f6"},"condition":"","sys_update_name":"sysauto_script_a8f76abb7fb01210e5198b2cac86657f","offset_type":"0","name":"UXAAppMigrationJob","max_drift":"1970-01-01 00:15:00","run_period":"1970-01-01 00:30:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2013-04-08 18:21:03","sys_class_name":"cert_audit","sys_id":"a93b3031dfa0010068c37a0d3df263ef","sys_updated_by":"admin","sys_created_on":"2013-04-07 20:04:46","run_start":"2013-04-07 20:04:05","sys_name":"Unix Server Baseline","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"15","active":"true","time_zone":"","script":"new SNC.CertificationProcessing().runAudit(current.sys_id, current.template.filter.sys_id, current.template.sys_id);","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e457afbb04b12210559073c06a02f744","value":"e457afbb04b12210559073c06a02f744"},"condition":"","sys_update_name":"cert_audit_a93b3031dfa0010068c37a0d3df263ef","offset_type":"","name":"Unix Server Baseline","max_drift":"","run_period":"","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2020-03-17 11:08:07","sys_class_name":"sysauto_script","sys_id":"a9bcdb52b7230010f84dba95de11a96e","sys_updated_by":"admin","sys_created_on":"2020-03-17 02:30:14","run_start":"2020-03-16 10:00:00","sys_name":"Scheduled Download of Offline Payload","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"9","active":"true","time_zone":"","script":"//Call to create offline payload for users as per schedule.\nsn_mobile_offline.OfflineSchedule.scheduleOfflinePayloadGeneration();\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/baa57f7b04b52210559073c06a02f754","value":"baa57f7b04b52210559073c06a02f754"},"condition":"sn_mobile_offline.OfflineSchedule.isEnabled();","sys_update_name":"sysauto_script_a9bcdb52b7230010f84dba95de11a96e","offset_type":"","name":"Scheduled Download of Offline Payload","max_drift":"","run_period":"1970-01-01 01:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2025-06-05 07:19:24","sys_class_name":"sysauto_script","sys_id":"a9fb352f7f901210547e39137d866528","sys_updated_by":"admin","sys_created_on":"2024-09-03 17:07:16","run_start":"","sys_name":"UXAMigrationJob","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"true","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"35","active":"false","time_zone":"","script":"\n \nconst logger = QueryServiceApiLogger.getLogger('UXAAppScreenMigration');\nlogger.info('STARTING ==== UX Analytics App Screen Migration  job for app screens');\n\ntry {\n    var uxaMigration = new UXAMigration();\n\tconst retries = uxaMigration.getRetryCount();\n    if (uxaMigration.isMigrationComplete() == 'complete' || new UXAUtils().isLegacyDashboardEnabled() || retries.current >= retries.max) {\n        // disable the job and exit\n        var current = new GlideRecord('sysauto_script');\n        current.get('a9fb352f7f901210547e39137d866528');\n        current.setValue('active', false);\n        current.update();\n        logger.info(\"UX Analytics Migration job - DISABLED, if this is running all the time, there is something wrong\");\n    } else {\n        uxaMigration.migrate();\n        logger.info(\"END ==== UX Analytics Migration job ended\");\n    }\n} catch (ex) {\n    logger.error('Error while running UX Analytics Migration Job - ' + JSON.stringify(ex));\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"condition":"","sys_update_name":"sysauto_script_a9fb352f7f901210547e39137d866528","offset_type":"0","name":"UXAMigrationJob","max_drift":"1970-01-01 00:30:00","run_period":"1970-01-01 00:30:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":"","run_type":"daily","sys_updated_on":"2024-09-04 20:08:55","sys_class_name":"sysauto_script","sys_id":"aa68c404ffff2110d185612a453bf175","sys_updated_by":"admin","sys_created_on":"2023-06-27 22:50:47","run_start":"2023-06-27 22:37:36","sys_name":"Licensing Engine","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bcadabf277f311109c62f5f3cb5a992a","value":"bcadabf277f311109c62f5f3cb5a992a"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 13:00:00","sys_mod_count":"40","active":"true","time_zone":"","script":"run();\n\nfunction run() {\n    if (gs.getProperty(\"glide.installation.self_hosted\", \"false\") == \"true\") {\n        gs.info(\"System is self hosted, Licensing Engine exiting without running\");\n        return;\n    }\n\n    this.logger = new LoggingUtil();\n    const LICENSING_ENGINE = \"Licensing Engine\";\n\n    const triggerGr = new GlideRecord(\"sys_trigger\");\n    triggerGr.addQuery(\"document_key\", 'aa68c404ffff2110d185612a453bf175'); // the sys_id of this scheduled job\n    triggerGr.addQuery(\"state\", \">\", 0); // state:1=running, state:2=queued\n    triggerGr.query();\n    if (triggerGr.getRowCount() > 1) { // there should be only 1 in execution, this one.\n        this.logger.logInfo(LICENSING_ENGINE, LICENSING_ENGINE, `Licensing Engine already running, exiting`);\n        return;\n    }\n\n    const skipRoleAnalyzerAndSyncSteps = gs.getProperty(\"glide.licensing.license_engine.skip_role_analyzer_and_sync\", \"false\") === \"true\";\n\n    const SUBSCRIPTION_ENTITLEMENT_DOWNLOAD = \"Subscription Entitlement Download\";\n    const DOWNLOAD_CODE = 11001;\n\n    const DISCOVER_CUSTOM_LICENSABLE_ROLES = \"Discover Custom Licensable Roles\";\n    const ROLE_ANALYZER_CODE = 11004;\n\n    const UPLOAD_AND_DOWNLOAD_ROLES = \"Upload And Download Roles\";\n    const ROLE_SYNC_CODE = 11002;\n\n    const SYNC_USER_HAS_SUBSCRIPTION = \"Sync user_has_subscription entries\";\n    const SYNC_USER_HAS_SUBSCRIPTION_CODE = 11005;\n\n    const SUBSCRIPTION_DETAILS = \"Subscription Details\";\n    const SUBSCRIPTION_DETAILS_CODE = 11003;\n\n    const CREATOR_USERS_SYNC = \"Creator Users Upload Sync\";\n    const CREATOR_USERS_SYNC_CODE = 11006;\n\n    const ENTITLEMENT_DISPLAY_DETAILS_DOWNLOAD = \"Entitlement Display Details Download\";\n\n    const CORRECT_PROPERTIES_ISSUES = \"Correct sys_properties issues\";\n    const CORRECT_PROPERTIES_ISSUES_CODE = 11007;\n\n    // Correct sys_properties issues\n    try {\n        new global.LicensingEnginePropertiesFixer().fixInvalidProperties();\n    } catch (e) {\n        this.logger.logError(LICENSING_ENGINE, CORRECT_PROPERTIES_ISSUES, `Execution of licensing engine : Correcting properties failed : ${e}`, CORRECT_PROPERTIES_ISSUES_CODE, LICENSING_ENGINE + \".\" + CORRECT_PROPERTIES_ISSUES);\n    }\n\n    //Subscription Entitlement Download\n    const start = Date.now();\n    try {\n        new sn_entitlement.EntitlementDownloader().downloadEntitlements();\n    } catch (e) {\n        this.logger.logError(LICENSING_ENGINE, SUBSCRIPTION_ENTITLEMENT_DOWNLOAD, `Execution of licensing engine : Subscription Entitlement Download failed : ${e}`, DOWNLOAD_CODE, LICENSING_ENGINE + \".\" + SUBSCRIPTION_ENTITLEMENT_DOWNLOAD);\n    }\n    this.logger.logInfo(LICENSING_ENGINE, SUBSCRIPTION_ENTITLEMENT_DOWNLOAD, `Licensing Engine Download finished, elapsed time(ms) : ${Date.now() - start}`);\n\n    //Subscription Entitlements Display Details Download\n    const startTime = Date.now();\n    try {\n        new sn_entitlement.EntitlementsDisplayDetailsDownloader().downloadAndProcessEntitlementsDisplayDetails();\n    } catch (e) {\n        this.logger.logError(LICENSING_ENGINE, ENTITLEMENT_DISPLAY_DETAILS_DOWNLOAD, `Execution of licensing engine : Subscription Entitlements Display Details Download failed : ${e}`, DOWNLOAD_CODE, LICENSING_ENGINE + \".\" + ENTITLEMENT_DISPLAY_DETAILS_DOWNLOAD);\n    }\n    this.logger.logInfo(LICENSING_ENGINE, ENTITLEMENT_DISPLAY_DETAILS_DOWNLOAD, `Licensing Engine Download finished, elapsed time(ms) : ${Date.now() - startTime}`);\n\n    const startRoleDiscovery = Date.now();\n    //Discover Custom Licensable Roles\n    try {\n        if (skipRoleAnalyzerAndSyncSteps)\n            this.logger.logInfo(LICENSING_ENGINE, DISCOVER_CUSTOM_LICENSABLE_ROLES, `Licensing Engine Role Discovery skipped`);\n        else {\n            const licenseRoleDiscoveryService = new LicenseRoleDiscoveryService();\n            licenseRoleDiscoveryService.analyzeCustomRoles();\n            licenseRoleDiscoveryService.analyzeCustomizedOutOfTheBoxRoles();\n        }\n    } catch (e) {\n        this.logger.logError(LICENSING_ENGINE, DISCOVER_CUSTOM_LICENSABLE_ROLES, `Execution of licensing engine : Role Discovery failed : ${e}`, ROLE_ANALYZER_CODE, LICENSING_ENGINE + \".\" + DISCOVER_CUSTOM_LICENSABLE_ROLES);\n    }\n    this.logger.logInfo(LICENSING_ENGINE, DISCOVER_CUSTOM_LICENSABLE_ROLES, `Licensing Engine Role Discovery finished, elapsed time(ms) : ${Date.now() - startRoleDiscovery}`);\n\n    //Upload And Download Roles\n    const startRoles = Date.now();\n    try {\n        if (skipRoleAnalyzerAndSyncSteps)\n            this.logger.logInfo(LICENSING_ENGINE, UPLOAD_AND_DOWNLOAD_ROLES, `Licensing Engine Role Sync skipped`);\n        else\n            new RoleSyncer().syncRoles();\n    } catch (e) {\n        this.logger.logError(LICENSING_ENGINE, UPLOAD_AND_DOWNLOAD_ROLES, `Execution of licensing engine : Role Sync failed : ${e}`, ROLE_SYNC_CODE, LICENSING_ENGINE + \".\" + UPLOAD_AND_DOWNLOAD_ROLES);\n    }\n    this.logger.logInfo(LICENSING_ENGINE, UPLOAD_AND_DOWNLOAD_ROLES, `Licensing Engine Role Sync finished, elapsed time(ms) : ${Date.now() - startRoles}`);\n\n    //Update user_has_subscription table\n    const startUserHasSubscription = Date.now();\n    try {\n        new sn_entitlement.UserSubscriptionMapper().syncUsersToSubscriptions();\n    } catch (e) {\n        this.logger.logError(LICENSING_ENGINE, SYNC_USER_HAS_SUBSCRIPTION, `Execution of licensing engine : Sync user_has_subscription failed : ${e}`, SYNC_USER_HAS_SUBSCRIPTION_CODE, LICENSING_ENGINE + \".\" + SYNC_USER_HAS_SUBSCRIPTION);\n    }\n    this.logger.logInfo(LICENSING_ENGINE, SYNC_USER_HAS_SUBSCRIPTION, `Licensing Engine Sync user_has_subscription finished, elapsed time(ms) : ${Date.now() - startUserHasSubscription}`);\n\n\n    //Subscription Details\n    const startSubscriptionDetails = Date.now();\n    try {\n        new sn_entitlement.SubscriptionDetailService().createSubscriptionDetailsSafely();\n    } catch (e) {\n        this.logger.logError(LICENSING_ENGINE, SUBSCRIPTION_DETAILS, `Execution of licensing engine : Subscription Details failed : ${e}`, SUBSCRIPTION_DETAILS_CODE, LICENSING_ENGINE + \".\" + SUBSCRIPTION_DETAILS);\n    }\n    this.logger.logInfo(LICENSING_ENGINE, SUBSCRIPTION_DETAILS, `Licensing Engine Subscription Details finished, elapsed time(ms) : ${Date.now() - startSubscriptionDetails}`);\n\n\n    //MIF creator table data population\n    const creatorUsersSync = Date.now();\n    try {\n        new sn_entitlement.CreatorUsersUploadSyncer().sync();\n    } catch (e) {\n        this.logger.logError(LICENSING_ENGINE, CREATOR_USERS_SYNC, `Execution of licensing engine : Creator Users Upload Sync failed : ${e}`, CREATOR_USERS_SYNC_CODE, LICENSING_ENGINE + \".\" + CREATOR_USERS_SYNC);\n    }\n    this.logger.logInfo(LICENSING_ENGINE, CREATOR_USERS_SYNC, `Licensing Engine Creator Users Upload Sync finished, elapsed time(ms) : ${Date.now() - creatorUsersSync}`);\n\n    this.logger.logInfo(LICENSING_ENGINE, LICENSING_ENGINE, `Licensing Engine operations finished, elapsed time(ms) : ${Date.now() - start}`);\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bcadabf277f311109c62f5f3cb5a992a","value":"bcadabf277f311109c62f5f3cb5a992a"},"condition":"","sys_update_name":"sysauto_script_aa68c404ffff2110d185612a453bf175","offset_type":"0","name":"Licensing Engine","max_drift":"1970-01-01 02:00:00","run_period":"","sys_policy":"read"},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2018-03-17 20:13:53","sys_class_name":"sysauto_bm_script","sys_id":"ab0ca2d3cb3013008c061aeb034c9cc2","sys_updated_by":"admin","sys_created_on":"2018-03-17 20:05:02","run_start":"2018-03-17 20:04:04","sys_name":"Upload the benchmark scores","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"2","active":"true","time_zone":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_update_name":"sysauto_bm_script_ab0ca2d3cb3013008c061aeb034c9cc2","offset_type":"0","name":"Upload the benchmark scores","max_drift":"","run_period":"","sys_policy":"protected"},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2023-04-19 09:14:27","sys_class_name":"sysauto_script","sys_id":"abc8ef4febb52110f4e8dc7ab552284f","sys_updated_by":"admin","sys_created_on":"2023-03-30 12:51:18","run_start":"","sys_name":"Populate Clustering stats","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"9","active":"true","time_zone":"","script":"//constants\nvar CLUSTERING_STATS = \"clustering_stats.gz\";\n\nvar modelArtifactRecord = new GlideRecord(\"ml_model_artifact\");\nmodelArtifactRecord.addQuery(\"model_id\", CLUSTERING_STATS);\nmodelArtifactRecord.query();\nwhile (modelArtifactRecord.next()) {\n    var artifactsToProcess = modelArtifactRecord.getValue(\"artifacts_to_process\");\n    if (!artifactsToProcess) {\n        continue;\n    } else {\n        var sysTrigger = new GlideRecord(\"sys_trigger\");\n        var mlModelArtifactId = modelArtifactRecord.getValue(\"sys_id\");\n        sysTrigger.addQuery(\"name\", mlModelArtifactId);\n        sysTrigger.query();\n\n        if (!sysTrigger.next()) {\n            artifactsToProcess = artifactsToProcess.split(\",\");\n            var sysAttachmentId = artifactsToProcess.shift();\n            var solutionId = modelArtifactRecord.getValue(\"solution\");\n\n            var sysAutoScriptRecord = new GlideRecord(\"sysauto_script\");\n            sysAutoScriptRecord.initialize();\n            sysAutoScriptRecord.setValue(\"name\", mlModelArtifactId);\n            sysAutoScriptRecord.setValue(\"script\", \"sn_ml.ClusteringSolutionVersion.publishStatsJob(\\\"\" + solutionId + \"\\\",\\\"\" + sysAttachmentId + \"\\\");\");\n            sysAutoScriptRecord.setValue(\"run_type\", \"once\");\n            sysAutoScriptRecord.insert();\n\n            modelArtifactRecord.artifacts_to_process = artifactsToProcess.toString();\n            modelArtifactRecord.update();\n        }\n    }\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"condition":"","sys_update_name":"sysauto_script_abc8ef4febb52110f4e8dc7ab552284f","offset_type":"0","name":"Populate Clustering stats","max_drift":"","run_period":"1970-01-01 00:05:00","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"once","sys_updated_on":"2023-09-26 04:22:38","sys_class_name":"sysauto_script","sys_id":"ada12c13c391311033e04e483c40dda8","sys_updated_by":"admin","sys_created_on":"2023-09-20 16:23:12","run_start":"2023-09-20 16:22:17","sys_name":"Set Property for Active User login","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"6","active":"true","time_zone":"","script":"function setProperty() {\n        GlidePropertiesDB.set('glide.authenticate.only.allow.active.user.login', true);\n    }\n\ntry {\n\tvar ga = new GlideAggregate('sys_user');\n\tga.addQuery('active', false);\n\tga.addQuery('locked_out', false);\n\tga.addAggregate('COUNT');\n\tga.query();\n\tgs.info('Executing fix script');\n\tif (!ga.next() || ga.getAggregate('COUNT') == 0) {\n\t\t/*Setting property - glide.authenticate.only.allow.active.user.login on the instance, when there\n\t\tare not users on the instance with active false and locked_out false.\n\t\tOnce this property is set on the instance, it will not allow logins for inactive users.\n\t\t*/\n\t\tgs.info(\"Setting property - glide.authenticate.only.allow.active.user.login on the instance\");\n\t\tsetProperty();\n\t}\n} catch(e) {\n\tgs.info(\"Exception in setting active user login only property. \" + e);\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d7152f3304712210559073c06a02f70f","value":"d7152f3304712210559073c06a02f70f"},"condition":"!(GlideProperties.getBoolean('glide.authenticate.only.allow.active.user.login', false));","sys_update_name":"sysauto_script_ada12c13c391311033e04e483c40dda8","offset_type":"0","name":"Set Property for Active User login","max_drift":"","run_period":"1970-01-07 00:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 02:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2025-04-21 20:21:00","sys_class_name":"sysauto_script","sys_id":"b160fd2953503110a8edddeeff7b1220","sys_updated_by":"admin","sys_created_on":"2023-07-27 18:55:34","run_start":"2023-07-27 18:34:12","sys_name":"Customer action activation","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 02:00:00","sys_mod_count":"1","active":"true","time_zone":"floating","script":"var criticalUpdateObj = new global.CriticalUpdateUtil();\ncriticalUpdateObj.activateCustomerAction();\ncriticalUpdateObj.cancelPreviousPBAfterUpgrade();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/983e67b304752210559073c06a02f755","value":"983e67b304752210559073c06a02f755"},"condition":"","sys_update_name":"sysauto_script_b160fd2953503110a8edddeeff7b1220","offset_type":"0","name":"Customer action activation","max_drift":"","run_period":"","sys_policy":"read"},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2023-04-17 13:33:15","sys_class_name":"sysauto_script","sys_id":"b2522ef0eb32010045e1a5115206fefa","sys_updated_by":"admin","sys_created_on":"2013-07-23 21:25:01","run_start":"2013-07-23 21:22:05","sys_name":"Password Reset Enrollment Snapshot","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"50","active":"false","time_zone":"","script":"var isDomainSepActive = GlidePluginManager.isRegistered('com.glide.domain.msp_extensions.installer');\nvar verificationToUserGroupMapping = {};\nvar processVerification = {};\ngenerateSnapshot();\n/**\n * Populate enrollment table based on process/group/verification\n * to reflect true enrollment status.\n * This is used for reporting.\n */\nfunction generateSnapshot() {\n    // first clean out existing snapshot\n    var gr = new GlideRecord('pwd_enrollment_snapshot');\n    gr.addQuery();\n    gr.deleteMultiple();\n    //if domain separation plugin is activated\n    if (this.isDomainSepActive) {\n        generateSnapshotWithDomainSep();\n    } else {\n        generateSnapshotDefault();\n    }\n}\nfunction generateSnapshotWithDomainSep() {\n    var mgr = new SNC.PwdVerificationManager();\n    // update snapshot for each user\n    var grUser = new GlideRecord(\"sys_user\");\n    grUser.query();\n    while (grUser.next()) {\n        var verIds = mgr.getVerificationIdsForUser(grUser.getUniqueValue());\n        for (var i = 0; i < verIds.size(); i++) {\n            updateSnapshot(verIds.get(i), grUser.getUniqueValue());\n        }\n    }\n}\nfunction generateSnapshotDefault() {\n    // get apply to all verifications that are not auto-enroll\n    gr = new GlideAggregate('pwd_map_proc_to_verification');\n    gr.groupBy('verification');\n    var qc = gr.addJoinQuery('pwd_process', 'process', 'sys_id');\n    qc.addCondition('active', true);\n    qc.addCondition('apply_to_all_users', true);\n    gr.query();\n    var verifications = {};\n    while (gr.next()) {\n        if (gr.verification.type.auto_enroll) {\n            continue;\n        }\n        verifications[gr.verification] = true;\n    }\n    // set enrollment status for all users\n    if (!verifications.empty()) {\n        var users = new GlideRecord('sys_user');\n        users.query();\n        while (users.next()) {\n            for (var verification in verifications) {\n                updateSnapshot(verification, users.sys_id);\n            }\n        }\n    }\n    // now on to process that are associated with user groups\n    // first build a verification to groups mapping\n    var processGr = new GlideRecord('pwd_process');\n    processGr.addQuery('apply_to_all_users', false);\n    processGr.addActiveQuery();\n    processGr.query();\n    while (processGr.next()) {\n        processVerification = {};\n        // get verifications first\n        var vers = new GlideRecord('pwd_map_proc_to_verification');\n        vers.addQuery('process', processGr.sys_id);\n        vers.query();\n        while (vers.next()) {\n            if (vers.verification.type.auto_enroll || (vers.verification in verifications)) {\n                continue;\n            }\n            if (!(vers.verification in verificationToUserGroupMapping)) {\n                verificationToUserGroupMapping[vers.verification] = {};\n            }\n            processVerification[vers.verification] = {};\n        }\n        // get groups next\n        var groups = new GlideRecord('pwd_map_proc_to_group');\n        groups.addQuery('process', processGr.sys_id);\n        groups.query();\n        while (groups.next()) {\n            getChildGroups(groups.user_group);\n        }\n    }\n    // we have a verification to groups mapping, \n    // convert it to verification to users\n    for (var ver in verificationToUserGroupMapping) {\n        // get unique user contained in groups for this verification\n        gr = new GlideAggregate('sys_user_grmember');\n        var groupIds = [];\n        for (var grp in verificationToUserGroupMapping[ver]) {\n            groupIds.push(grp);\n        }\n        gr.addQuery('group', groupIds);\n        gr.groupBy('user');\n        gr.query();\n        while (gr.next()) {\n            updateSnapshot(ver, gr.user);\n        }\n    }\n}\nfunction getChildGroups(groupId) {\n    for (var ver in processVerification) {\n        verificationToUserGroupMapping[ver][groupId] = true;\n    }\n    var userGroupGr = new GlideRecord('sys_user_group');\n    userGroupGr.addActiveQuery();\n    userGroupGr.addQuery('parent', groupId);\n    userGroupGr.query();\n    while (userGroupGr.next()) {\n        getChildGroups(userGroupGr.getUniqueValue());\n    }\n}\nfunction updateSnapshot(verification, user) {\n    var status = 2; //inactive\n    var enrollment = new GlideRecord('pwd_enrollment');\n    enrollment.addQuery('user', user);\n    enrollment.addQuery('verification', verification);\n    enrollment.query();\n    if (enrollment.next()) {\n        status = enrollment.status;\n    }\n    var gr = new GlideRecord('pwd_enrollment_snapshot');\n    // make the inserted record's domain to be current user's domain\n    if (this.isDomainSepActive) {\n        var grUser = new GlideRecord(\"sys_user\");\n        grUser.get(user);\n        gr.addDomainQuery(grUser);\n    }\n    gr.verification = verification;\n    gr.user = user;\n    gr.status = status;\n    gr.insert();\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/421beb3304352210559073c06a02f7ef","value":"421beb3304352210559073c06a02f7ef"},"condition":"","sys_update_name":"sysauto_script_b2522ef0eb32010045e1a5115206fefa","offset_type":"0","name":"Password Reset Enrollment Snapshot","max_drift":"","run_period":"1970-01-02 17:20:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2024-06-21 23:12:52","sys_class_name":"sysauto_script","sys_id":"b3219d7777720210f9db10ed9f5a997e","sys_updated_by":"admin","sys_created_on":"2024-06-21 23:09:52","run_start":"2024-06-21 18:52:16","sys_name":"CMDB Query Builder Suggested Relations Computation Job","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"1","active":"true","time_zone":"","script":"var QB_SUGGESTED_REL_COMPUTATION_JOB = \"CMDB Query Builder Suggested Rels Computation SysTrigger\";\nvar QB_SUGGESTED_REL_COMPUTATION_SCRIPT = \"SNC.QueryBuilderSuggestedRelationships.computeQueryBuilderSuggestedRels();\";\n\nSNC.QueryBuilderSuggestedRelationships.createSuggestedRelsSysTrigger(QB_SUGGESTED_REL_COMPUTATION_JOB, QB_SUGGESTED_REL_COMPUTATION_SCRIPT);","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_b3219d7777720210f9db10ed9f5a997e","offset_type":"0","name":"CMDB Query Builder Suggested Relations Computation Job","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":"","run_type":"daily","sys_updated_on":"2023-06-03 18:12:07","sys_class_name":"sysauto_script","sys_id":"b3d2b1e2771121109650350bee5a99da","sys_updated_by":"admin","sys_created_on":"2023-03-03 18:12:07","run_start":"2023-03-03 18:10:34","sys_name":"Subscription Entitlement Download ","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bcadabf277f311109c62f5f3cb5a992a","value":"bcadabf277f311109c62f5f3cb5a992a"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 12:00:00","sys_mod_count":"1","active":"false","time_zone":"","script":"\n             var downloader = new sn_entitlement.EntitlementDownloader(); downloader.downloadEntitlements();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bcadabf277f311109c62f5f3cb5a992a","value":"bcadabf277f311109c62f5f3cb5a992a"},"condition":"","sys_update_name":"sysauto_script_b3d2b1e2771121109650350bee5a99da","offset_type":"0","name":"Subscription Entitlement Download","max_drift":"","run_period":"","sys_policy":"read"},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2019-08-13 06:09:54","sys_class_name":"sysauto_script","sys_id":"b4ad6a247313330023658f758bf6a7e0","sys_updated_by":"admin","sys_created_on":"2019-08-13 06:09:01","run_start":"2019-08-13 06:06:58","sys_name":"Clean up converted documents genereated by PDF Generation Utilities plugin","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"1","active":"true","time_zone":"","script":"// deleted PDF attachments which are older and converted using iText\nnew sn_pdfgeneratorutils.PDFGenerationCleanupAPI().cleanOldConvertedAttachments();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/790c27b704352210559073c06a02f758","value":"790c27b704352210559073c06a02f758"},"condition":"","sys_update_name":"sysauto_script_b4ad6a247313330023658f758bf6a7e0","offset_type":"0","name":"Clean up converted documents generated by PDF Generation Utilities plugin","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2023-10-24 22:52:41","sys_class_name":"sysauto_script","sys_id":"b4fc1a4f7363601026f6aa114df6a796","sys_updated_by":"admin","sys_created_on":"2021-04-20 22:09:19","run_start":"2021-04-20 22:08:01","sys_name":"CMDB Data Manager - Stale Task Cleaner","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 09:00:00","sys_mod_count":"2","active":"true","time_zone":"","script":"SNC.CMDBDataManagerScriptableApis.closeStaleTasks();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"condition":"","sys_update_name":"sysauto_script_b4fc1a4f7363601026f6aa114df6a796","offset_type":"","name":"CMDB Data Manager - Stale Task Cleaner","max_drift":"","run_period":"","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2022-11-09 12:01:22","sys_class_name":"sysauto_script","sys_id":"b7a34f8153101010d69cddeeff7b1269","sys_updated_by":"admin","sys_created_on":"2020-04-19 10:16:08","run_start":"2020-04-19 10:14:11","sys_name":"Analytics - Register Analytics Buckets with no Authentication Settings","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 09:00:00","sys_mod_count":"1","active":"true","time_zone":"","script":"sn_app_analytics.SNAnalytics.processAllUnRegisteredSettings();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/07d4abbf04312210559073c06a02f7f6","value":"07d4abbf04312210559073c06a02f7f6"},"condition":"sn_app_analytics.SNAnalytics.isEnabled();","sys_update_name":"sysauto_script_b7a34f8153101010d69cddeeff7b1269","offset_type":"0","name":"Analytics - Register Analytics Buckets with no Authentication Settings","max_drift":"1970-01-01 00:30:00","run_period":"1970-01-01 01:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2020-01-28 16:28:42","sys_class_name":"sysauto_script","sys_id":"b7d4f0280f220010967863cda8767e7b","sys_updated_by":"admin","sys_created_on":"2020-01-21 10:43:53","run_start":"2020-01-01 00:00:00","sys_name":"Asset - Create asset for ci asynchronously","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"0","active":"true","time_zone":"","script":"var C_JOB_NAME = 'Asset - Create asset delayed sync';\nvar jobSysId = 'b7d4f0280f220010967863cda8767e7b';\nvar assetUtils = new global.AssetUtils();\n\nfunction generateAssets() {\n    var jobLog = new global.AssetJobLogUtil();\n    jobLog.startJobLog(C_JOB_NAME);\n    if (assetUtils.isJobRunning(jobSysId)) {\n        jobLog.stopJobLog(jobLog.FAILED_STATUS, C_JOB_NAME + ' job is already running');\n    } else {\n        try {\n\t\t\tvar queueProcessor = new global.AssetQueueProcessor(jobLog);\n\t\t\tqueueProcessor.process();\n\t\t\tjobLog.stopJobLog(jobLog.COMPLETED_STATUS, queueProcessor.generateComments());\n        } catch (error) {\n            jobLog.stopJobLog(jobLog.FAILED_STATUS, error.message);\n        }\n    }\n}\n\ngenerateAssets();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/45672bfb04b12210559073c06a02f7c5","value":"45672bfb04b12210559073c06a02f7c5"},"condition":"","sys_update_name":"sysauto_script_b7d4f0280f220010967863cda8767e7b","offset_type":"0","name":"Asset - Create asset delayed sync","max_drift":"","run_period":"1970-01-01 00:15:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":"","run_type":"daily","sys_updated_on":"2021-10-19 05:27:52","sys_class_name":"sysauto_script","sys_id":"b9a317e9533130106b86ddeeff7b12cd","sys_updated_by":"admin","sys_created_on":"2021-08-06 06:38:59","run_start":"2020-12-31 18:30:00","sys_name":"ITAM: Important Action Eval - Daily","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/4d8039d0533130106b86ddeeff7b128b","value":"4d8039d0533130106b86ddeeff7b128b"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"2","active":"true","time_zone":"","script":"function runSetupEvaluator() {\n\tvar JOB_ID = 'b9a317e9533130106b86ddeeff7b12cd';\t\n\tnew sn_itam_recomm.ImportantActionUtils().runEvaluatorOnDashboardsWithJob(JOB_ID);\n\tnew sn_itam_recomm.ImportantActionUtils().checkAndDeleteResultsForRealTimeWorkspace();\n}\n\nrunSetupEvaluator();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4d8039d0533130106b86ddeeff7b128b","value":"4d8039d0533130106b86ddeeff7b128b"},"condition":"","sys_update_name":"sysauto_script_b9a317e9533130106b86ddeeff7b12cd","offset_type":"","name":"ITAM: Important Action Eval - Daily","max_drift":"","run_period":"1970-01-01 01:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":"","run_type":"periodically","sys_updated_on":"2021-07-06 06:50:12","sys_class_name":"sysauto_script","sys_id":"b9af85d2c37213009cbbdccdf3d3ae95","sys_updated_by":"admin","sys_created_on":"2018-06-21 20:54:04","run_start":"2018-06-21 20:52:00","sys_name":"Time Out Abandoned VA Conversations","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 09:00:00","sys_mod_count":"7","active":"true","time_zone":"","script":"sn_cs.VASystemObject.faultAbandonedConversations();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"condition":"","sys_update_name":"sysauto_script_b9af85d2c37213009cbbdccdf3d3ae95","offset_type":"","name":"Time Out Abandoned VA Conversations","max_drift":"","run_period":"1970-01-01 01:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2017-01-16 19:30:47","sys_class_name":"sysauto_script","sys_id":"ba0871a6cb543200cab07f1b734c9c37","sys_updated_by":"admin","sys_created_on":"2017-01-16 19:27:41","run_start":"2015-12-07 19:29:28","sys_name":"CMDB Health Dashboard - Relationship Compliance Processor","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 11:00:00","sys_mod_count":"1","active":"false","time_zone":"","script":" SNC.MetricProcessorScript.relationComplianceProcessor();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_ba0871a6cb543200cab07f1b734c9c37","offset_type":"0","name":"CMDB Health Dashboard - Relationship Compliance Processor","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 07:30:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2022-03-13 10:25:30","sys_class_name":"sysauto_script","sys_id":"ba4e8a22c3c20110af4da585b140dd5c","sys_updated_by":"admin","sys_created_on":"2022-03-08 10:41:24","run_start":"2022-03-08 10:35:09","sys_name":"Prevent access to  over-permissive KMF Password2 submodule","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 07:30:00","sys_mod_count":"5","active":"true","time_zone":"GMT","script":"var pm = new PreventOverPermissiveTracking();\npm.modifyOverPermissiveModuleAccessBasedOnUpgradeFromVersion();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7f83a3f304312210559073c06a02f787","value":"7f83a3f304312210559073c06a02f787"},"condition":"","sys_update_name":"sysauto_script_ba4e8a22c3c20110af4da585b140dd5c","offset_type":"0","name":"Prevent access to  over-permissive KMF Password2 submodule","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"weekly","sys_updated_on":"2017-08-14 12:03:14","sys_class_name":"sysauto_script","sys_id":"bd1071060b2003001e684ac3b6673ae7","sys_updated_by":"admin","sys_created_on":"2017-08-14 12:03:14","run_start":"2017-08-14 12:02:49","sys_name":"Run PA Diagnostics","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/b2881e900b3003001e684ac3b6673a93","value":"b2881e900b3003001e684ac3b6673a93"},"run_dayofweek":"7","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 22:59:59","sys_mod_count":"0","active":"true","time_zone":"","script":"new PADiagnostics().executeAll();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b2881e900b3003001e684ac3b6673a93","value":"b2881e900b3003001e684ac3b6673a93"},"condition":"","sys_update_name":"sysauto_script_bd1071060b2003001e684ac3b6673ae7","offset_type":"","name":"Run PA Diagnostics","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2019-04-02 19:50:50","sys_class_name":"sysauto_script","sys_id":"bd6b944a77a433004d4eb5b2681061f0","sys_updated_by":"admin","sys_created_on":"2019-04-02 19:13:28","run_start":"2019-04-02 18:26:16","sys_name":"Update Recorded At for Update XML","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 10:00:00","sys_mod_count":"3","active":"true","time_zone":"","script":"SNC.UpdateRecordedAtFixer.setSysRecordedAtUpdateXml();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6154e3bb04312210559073c06a02f7f0","value":"6154e3bb04312210559073c06a02f7f0"},"condition":"","sys_update_name":"sysauto_script_bd6b944a77a433004d4eb5b2681061f0","offset_type":"0","name":"Update Recorded At for Update XML","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2018-03-17 20:03:56","sys_class_name":"sysauto_bm_script","sys_id":"bfebe2d3cb3013008c061aeb034c9c04","sys_updated_by":"admin","sys_created_on":"2018-03-17 20:03:56","run_start":"2018-03-17 20:03:32","sys_name":"Download the benchmark scores","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"0","active":"true","time_zone":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_update_name":"sysauto_bm_script_bfebe2d3cb3013008c061aeb034c9c04","offset_type":"0","name":"Download the benchmark scores","max_drift":"","run_period":"","sys_policy":"protected"},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2015-06-25 13:05:47","sys_class_name":"sysauto_script","sys_id":"bff7b7629f3002008f97b89a442e70d3","sys_updated_by":"admin","sys_created_on":"2015-06-25 13:04:25","run_start":"2015-06-25 12:44:39","sys_name":"Clear catalog top requested item cache","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 06:00:00","sys_mod_count":"2","active":"true","time_zone":"","script":"// Clear all the top request caches\nvar CACHE_NAME = \"ZZ_DYNAMIC_CATEGORY_CACHE_YY\";\nvar keys = GlideCacheManager.getPrivateKeys(CACHE_NAME);\nwhile (keys !== null && keys.hasNext()) {\n\tvar key = keys.next();\n\tGlideCacheManager.remove(CACHE_NAME, key);\n}\n\n// Build the cache again\nvar gr = new GlideRecord(\"sc_category_top_n\");\ngr.addQuery(\"type\", \"sc_req_item\");\ngr.query();\nwhile (gr.next()) {\n\tvar category = GlideappCategory.get(gr.getUniqueValue());\n  category.getItems(); // This will build the cache\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3028ab3304f12210559073c06a02f7b7","value":"3028ab3304f12210559073c06a02f7b7"},"condition":"","sys_update_name":"sysauto_script_bff7b7629f3002008f97b89a442e70d3","offset_type":"0","name":"Clear catalog top requested item cache","max_drift":"","run_period":"1970-01-01 01:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2024-03-28 18:48:55","sys_class_name":"sysauto_script","sys_id":"c201ab50431102103ca9a661c9b8f2b9","sys_updated_by":"admin","sys_created_on":"2024-03-28 18:48:55","run_start":"2024-03-28 18:47:50","sys_name":"Disable Email Address Internationalization","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"0","active":"true","time_zone":"","script":"var property = new GlideRecord(\"sys_properties\");\nproperty.addQuery(\"name\",\"glide.email_address.rfc6530.enabled\");\nproperty.query();\nif(property.next()){\n\tproperty.value = false;\n\tproperty.update();\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ecf3a7b704312210559073c06a02f7c3","value":"ecf3a7b704312210559073c06a02f7c3"},"condition":"","sys_update_name":"sysauto_script_c201ab50431102103ca9a661c9b8f2b9","offset_type":"0","name":"Disable Email Address Internationalization","max_drift":"","run_period":"","sys_policy":"read"},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"monthly","sys_updated_on":"2025-07-09 10:54:41","sys_class_name":"sys_api_stats_script","sys_id":"c2507a0347201200c3dad7527c9a715d","sys_updated_by":"admin","sys_created_on":"2015-12-30 06:45:40","run_start":"2015-12-30 06:44:01","sys_name":"API Monthly Stats","run_dayofmonth":"2","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 10:27:00","sys_mod_count":"2","active":"true","time_zone":"","script":"new sn_ws.APIMonthlyStats().generateData(current.sys_id);","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2eeb6b7704352210559073c06a02f746","value":"2eeb6b7704352210559073c06a02f746"},"condition":"","sys_update_name":"sys_api_stats_script_c2507a0347201200c3dad7527c9a715d","offset_type":"0","name":"API Monthly Stats","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2024-05-30 21:06:42","sys_class_name":"sysauto_script","sys_id":"c42c147477624210ee0d0cc2fa5a9919","sys_updated_by":"admin","sys_created_on":"2024-05-30 21:06:42","run_start":"2024-05-30 21:02:58","sys_name":"CMDB Workspace CIs Processed Via IRE On Source Batch Job","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"var productAdoptionUtil = new sn_cmdb_ws.CMDBWsProductAdoptionUtil();\nproductAdoptionUtil.determineAndRunCIsProcessedViaIREBySourceMode();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"condition":"","sys_update_name":"sysauto_script_c42c147477624210ee0d0cc2fa5a9919","offset_type":"0","name":"CMDB Workspace CIs Processed Via IRE On Source Batch Job","max_drift":"","run_period":"1970-01-01 00:01:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2022-05-31 22:56:35","sys_class_name":"sysauto_script","sys_id":"c4a34b050773c110d8696876fed30082","sys_updated_by":"admin","sys_created_on":"2022-05-29 22:29:16","run_start":"2022-05-29 22:27:08","sys_name":"AIS Clean Up Stale Configurations","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"5","active":"true","time_zone":"","script":"//clean up indexed source with invalid table source\nvar indexedSourceGR = new GlideRecord(\"ais_datasource\");\nindexedSourceGR.query();\nwhile (indexedSourceGR.next()) {\n    var tableName = indexedSourceGR.source;\n    if (!gs.tableExists(tableName)) {\n        gs.log(\"[AIS] Deleting stale indexed source \" + indexedSourceGR.name + \" (\" + indexedSourceGR.sys_id + \")\");\n        indexedSourceGR.deleteRecord();\n    }\n}\n\n// clean up search source with invalid indexed source (table source is valid)\nvar searchSourceGR = new GlideRecord(\"ais_search_source\");\n// intentionally set to get around before query business rule aka \"Only Active Datasource\"\nsearchSourceGR.setWorkflow(false);\nsearchSourceGR.query();\n// reset to let later operation aka delete against search source record to trigger business rules \nsearchSourceGR.setWorkflow(true);\nwhile (searchSourceGR.next()) {\n    var tableName = searchSourceGR.datasource;\n    var indexedSourceGR = new GlideRecord(\"ais_datasource\");\n    indexedSourceGR.addQuery(\"source\", tableName);\n    indexedSourceGR.setWorkflow(false);\n    indexedSourceGR.query();\n    if (indexedSourceGR.getRowCount() == 0) {\n        gs.log(\"[AIS] Deleting stale search source \" + searchSourceGR.name + \" (\" + searchSourceGR.sys_id + \")\");\n        searchSourceGR.deleteRecord();\n    }\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/76946b3f04312210559073c06a02f73b","value":"76946b3f04312210559073c06a02f73b"},"condition":"","sys_update_name":"sysauto_script_c4a34b050773c110d8696876fed30082","offset_type":"0","name":"AIS Clean Up Stale Configurations","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 23:30:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2024-01-09 22:22:15","sys_class_name":"sysauto_script","sys_id":"c60b429c0f28411024b63ab1df767e00","sys_updated_by":"admin","sys_created_on":"2021-12-16 21:01:09","run_start":"2021-12-16 21:00:23","sys_name":"Multisource Dashboard Analytics Population","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 23:30:00","sys_mod_count":"14","active":"true","time_zone":"floating","script":"var processor = new MultiSourceQueryProcessor();\ngs.debug(\"Populating aggregate and raw data charts for multisource workspace dashboard \");\nprocessor.populateCIsBySource();\n/**\n * Enable/Disable the coverage charts by passing the active flag as true/false.\n * Passing the active flag as false will only compute the class -> ci records counts from the multisource and not populate the coverage charts\n * These counts are helpful for troubleshooting purposes in case of slow performance of the job\n */\nprocessor.populateCoverageCharts(true);\nprocessor.populateNumberOfDiscoverySources();\nprocessor.populateRawRecords();\nprocessor.populateReconciledCIs();\nprocessor.populateDiscoverySourcesNotReportingCIs();\nprocessor.populateDataMismatch();\ngs.debug(\"Finished calculation of aggregate and raw data for multisource workspace dashboard\");\n\ngs.debug(\"Triggering PA job to calculate dashboard trending charts\");\n// Invoke the PA scheduled job to draw trends for the aggregated counts\nvar paJobRecord = new GlideRecord('sysauto_pa');\nvar paJobName = 'Multisource Dashboard Collection';\npaJobRecord.addQuery('name', paJobName);\npaJobRecord.query();\nif (paJobRecord.next()) {\n    gs.debug(\"Invoking job : '{0}' to calculate trends for aggregated charts\", paJobName);\n    var paTriggerId = gs.executeNow(paJobRecord);\n    gs.info(\"Triggered job : '{0} ' with trigger id : {1} \", paJobName, paTriggerId);\n} else {\n    gs.error(\"Failed to find PA job with name {0} and cannot execute Multisource aggregate trends chart job\", paJobName);\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"condition":"","sys_update_name":"sysauto_script_c60b429c0f28411024b63ab1df767e00","offset_type":"0","name":"Multisource Dashboard Analytics Population","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 02:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2020-04-08 21:44:24","sys_class_name":"sysauto_script","sys_id":"c6d2c87d0f0410102841244ac4767eac","sys_updated_by":"admin","sys_created_on":"2020-04-08 21:07:00","run_start":"2020-04-08 17:51:25","sys_name":"Clean Playbook Snapshot Table","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 02:00:00","sys_mod_count":"2","active":"true","time_zone":"floating","script":"var snapshot = new GlideRecord(\"sys_pd_snapshot\");\nsnapshot.query();\nwhile (snapshot.next()) {\n\tif (isLatestSnapshot(snapshot) || isConnectedToContext(snapshot.sys_id))\n\t\tcontinue;\n\n\tsnapshot.deleteRecord();\n}\n\nfunction isConnectedToContext(id) {\n\tvar context = new GlideRecord(\"sys_pd_context\");\n\tif (context.get(\"process_definition\", id))\n\t\treturn true;\n\n\treturn false;\n}\n\nfunction isLatestSnapshot(record) {\n\treturn record.source && record.source.snapshot == record.sys_id;\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5c3e67b304752210559073c06a02f757","value":"5c3e67b304752210559073c06a02f757"},"condition":"","sys_update_name":"sysauto_script_c6d2c87d0f0410102841244ac4767eac","offset_type":"","name":"Clean Playbook Snapshot Table","max_drift":"","run_period":"","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2016-12-07 08:58:45","sys_class_name":"sysauto_script","sys_id":"c8640dccd72322005aed4ebfae610326","sys_updated_by":"admin","sys_created_on":"2016-12-02 14:57:39","run_start":"2016-12-02 14:30:02","sys_name":"[Reporting]  Import Tables expired","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 01:00:00","sys_mod_count":"6","active":"true","time_zone":"","script":"//read the import tables that expires today and delete them\nvar gr = new GlideRecord('sys_report_import_table');\ngr.addQuery('active','true');\ngr.addQuery('expire_on_date', '<=' , new GlideDateTime().getDate());\ngr.query();\nwhile(gr.next()){\n\tvar deleted = SNC.ImportTableUtils.deleteImportTable(gr.sys_id);\n\tif (deleted)\n\t\tgs.print('Reporting - Import Tables expired job. Table deleted=' + gr.table);\n\telse {\n\t\t// there is an issue deleting the table. Make the table invalid so it won't appear in the \n\t\t// report table dropdown list\n\t\tgr.setValue('active', false);\n\t\tgr.setValue('expired', true);\n\t\tgr.update();\n\t\tgs.print('Reporting - Import Tables expired job. There is a problem deleting the table=' + gr.table);\n\t}\n\t\n\t// throw the event to sent a notification to the user that the data has expired\n\tvar event = 'report.import.expire_on_date.expired';\t\n\tgs.eventQueue(event, gr, gr.getValue('created_by_user'));\n\t\t\n}\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b535677304712210559073c06a02f751","value":"b535677304712210559073c06a02f751"},"condition":"// is there any temporary table that expires today?\nvar ga = new GlideAggregate('sys_report_import_table');\nga.addAggregate('COUNT');\nga.addQuery('active','true');\nga.addQuery('expire_on_date', '<=' , new GlideDateTime().getDate());\nga.query();\nga.next();\nga.getAggregate('COUNT') !== '0'","sys_update_name":"sysauto_script_c8640dccd72322005aed4ebfae610326","offset_type":"0","name":"[Reporting]  Import Tables expired","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 09:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2025-07-09 12:44:55","sys_class_name":"sysauto_script","sys_id":"c9e1f226ef102210a6d9201c7e97d734","sys_updated_by":"system","sys_created_on":"2025-03-18 14:30:32","run_start":"2025-03-01 05:00:00","sys_name":"Update Currency Conversion Rates","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 18:00:00","sys_mod_count":"28","active":"true","time_zone":"","script":"new CurrencyRateSyncUtil().updateAllRates();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/de156b3304712210559073c06a02f7fc","value":"de156b3304712210559073c06a02f7fc"},"condition":"","sys_update_name":"sysauto_script_c9e1f226ef102210a6d9201c7e97d734","offset_type":"0","name":"Update Currency Conversion Rates","max_drift":"1970-01-01 02:00:00","run_period":"1970-01-02 00:00:00","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"once","sys_updated_on":"2023-11-28 20:48:28","sys_class_name":"sysauto_script","sys_id":"c9ebf1c253223110a52fddeeff7b1265","sys_updated_by":"admin","sys_created_on":"2023-11-18 05:24:45","run_start":"2023-11-18 05:02:39","sys_name":"ROT - Generate Updateset of records to migrate signatures using customer certificate","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"2","active":"true","time_zone":"","script":"function processSignatures() {\n\tvar codeSigningAPI = new sn_cs_ns.CodeSigningAPI();\n\tvar updateSetSysId = codeSigningAPI.createOOBUpdateSet();\n\tif (gs.nil(updateSetSysId))\n\t\tgs.error(\"Signature Scanning Job: failed to scan signatures and create update set for vetting/re-signing.\");\n}\nprocessSignatures();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ffcd2b3304752210559073c06a02f779","value":"ffcd2b3304752210559073c06a02f779"},"condition":"(function() {\n    if (gs.getProperty(\"com.snc.kmf.signature.validation.flag\") == \"true\") {\n        gs.error(\"CodeSigning customer only RoT transfer FAILURE: The job should not be run on the protected instance. Please follow the documented process to activate the Code Signing product\");\n        return false;\n    }\n    return true;\n})();","sys_update_name":"sysauto_script_c9ebf1c253223110a52fddeeff7b1265","offset_type":"0","name":"ROT - Generate update set of records to migrate signatures using customer certificate","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/d3383a875b0132003d1c484c11f91a5b","value":"d3383a875b0132003d1c484c11f91a5b"},"run_type":"monthly","sys_updated_on":"2018-09-20 22:12:24","sys_class_name":"sysauto_bm_script","sys_id":"ca371b5b731023005e4a73a24ff6a7ba","sys_updated_by":"admin","sys_created_on":"2018-09-07 22:52:54","run_start":"2018-09-07 22:52:25","sys_name":"ScheduleBenchmarkUpload","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"3","active":"true","time_zone":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_update_name":"sysauto_bm_script_ca371b5b731023005e4a73a24ff6a7ba","offset_type":"0","name":"ScheduleBenchmarkUpload","max_drift":"","run_period":"","sys_policy":"protected"},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2021-09-28 22:38:28","sys_class_name":"sysauto_script","sys_id":"ca5b273aebb23010506f7558b5522889","sys_updated_by":"admin","sys_created_on":"2021-09-28 22:36:26","run_start":"2021-09-28 22:36:06","sys_name":"Cleanup URL Unfurl Cache","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"1","active":"true","time_zone":"","script":"var api = new GlideSystemUtilDB();\napi.truncateTable(\"sys_cs_url_unfurl_cache\");\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"condition":"","sys_update_name":"sysauto_script_ca5b273aebb23010506f7558b5522889","offset_type":"0","name":"Cleanup URL Unfurl Cache","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 23:59:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2022-06-25 00:01:55","sys_class_name":"sysauto_script","sys_id":"cba0706db75011104eed4643ae11a916","sys_updated_by":"admin","sys_created_on":"2022-06-24 21:33:48","run_start":"2022-06-24 21:33:28","sys_name":"SitemapPurgeScheduler","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/26329d35f52d4510f877c32d14052947","value":"26329d35f52d4510f877c32d14052947"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 23:59:00","sys_mod_count":"0","active":"true","time_zone":"floating","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/26329d35f52d4510f877c32d14052947","value":"26329d35f52d4510f877c32d14052947"},"sys_update_name":"sysauto_script_cba0706db75011104eed4643ae11a916","offset_type":"0","name":"SitemapPurgeScheduler","max_drift":"","run_period":"","sys_policy":"protected"},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2015-08-24 23:30:36","sys_class_name":"cert_audit","sys_id":"cbba0f0a9f820200d3921a1cf67fcfda","sys_updated_by":"admin","sys_created_on":"2015-08-24 23:30:25","run_start":"2015-08-24 23:28:26","sys_name":"Server services statistics","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"1","active":"true","time_zone":"","script":"new SNC.CertificationProcessing().runAudit(current.sys_id, current.template.filter.sys_id, current.template.sys_id);\n/*\n/////////////////////////////////////////////////////\n/// This script works with Data Center Zones filter //\n/////////////////////////////////////////////////////\n\nvar desiredFloorSpaceUsage = 30;\t\t// Value to audit against\nvar assignToUser = '46d44a23a9fe19810012d100cca80666';\t // Beth Anglin\nvar assignToGroup = '8a5055c9c61122780043563ef53438e3';\t// Hardware group\nvar taskMsg = 'See the audit results below for the discrepancies that must be addressed';\n\n// API call to retrieve records based on the filter\nvar gr = new SNC.CertificationProcessing().getFilterRecords(current.filter);\n\n// Loop over all records defined by the filter\nwhile(gr.next()) {\n\tvar sysId = gr.getValue('sys_id');\t// Sys ID of audited record\n\tvar floorSpaceInUse = gr.getValue('floor_space_in_use');\t// Value to audit\n\n\t// Determine if certification condition passes or fails\n\tif (floorSpaceInUse < desiredFloorSpaceUsage) {\n\t\tvar columnNameSpace = gr.floor_space_in_use.getLabel();\t// String value of column audited against\n\n\t\t// Call create Follow on Task API and save the returned sys_id for use in logging audit result fail\n\t\t// Params: \n\t\t// auditId - Sys id of the audit record executed\n\t\t// ciId Sys - id of the configuration item.  Empty string if not a cmdb ci\n\t\t// assignedTo - Sys id of user to assign task to.  Can be empty\n\t\t// assignmentGroup - Sys id of group to assign task to.  Can be empty\n\t\t// shortDescr - Short description for the Follow On Task.  Can be empty\n\t\t// Return value: Sys id of the created follow on task\n\t\tvar followOnTask = new SNC.CertificationProcessing().createFollowOnTask(current.sys_id, sysId, assignToUser, '', taskMsg);\n\n\t\t// Call log failed result API\n\t\t// Params:\n\t\t// auditId - Sys id of audit record executed\n\t\t// auditedRecordId - Sys id of the record audited\n\t\t// followOnTask - Sys id of the follow on task associated with the audited record(@see auditedRecordId). Can be empty\n\t\t// columnDisplayName - Label of the column audited(ex. Disk space (GB)).  Can be empty\n\t\t// operatorLabel - Label of the operator used to audit the column(ex. is not empty, greater than). Can be empty\n\t\t// desiredValue - Desired value of the column.  Can be empty\n\t\t// discrepancyValue - Discrepancy value.  Can be empty\n\t\t// isCI - True, if audited record is a CI. False, otherwise.\n\t\t// domainToUse - Sys domain of the \"cert_audit\" record.  Can be empty\n\t\tnew SNC.CertificationProcessing().logAuditResultFail(current.sys_id, sysId, followOnTask, columnNameSpace, 'greater than', desiredFloorSpaceUsage, floorSpaceInUse, true);\n\t} else { // If certification condition pass, write a Audit Result Pass via API\n\t\t// Params:\n\t\t// auditId - Sys id of audit record executed\n\t\t// auditedRecordId - Sys id of the record audited\n\t\t// isCI - True, if audited record is a CI. False, otherwise.  Can be empty.\n\t\t// domainToUse - Sys domain of the \"cert_audit\" record.  Can be empty.\n\t\tnew SNC.CertificationProcessing().logAuditResultPass(current.sys_id, sysId, true);\n\t}\n}\n*/","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e457afbb04b12210559073c06a02f744","value":"e457afbb04b12210559073c06a02f744"},"condition":"","sys_update_name":"cert_audit_cbba0f0a9f820200d3921a1cf67fcfda","offset_type":"","name":"Server services statistics","max_drift":"","run_period":"","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"once","sys_updated_on":"2024-10-15 18:25:33","sys_class_name":"sysauto_script","sys_id":"cbf325f3b73021109d592bc1de11a93d","sys_updated_by":"admin","sys_created_on":"2023-02-10 17:49:34","run_start":"2023-02-10 17:46:31","sys_name":"Turn on Code Signing Certificate Validation Property","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/eae404d3c31320101109046f5e40dd41","value":"eae404d3c31320101109046f5e40dd41"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"4","active":"true","time_zone":"","script":"var codeSigningAPI = new sn_cs_ns.CodeSigningAPI();\nvar jobRes = codeSigningAPI.enableCertValidationProperty();\nvar jobResJSON;\ntry {\n\tjobResJSON = JSON.parse(jobRes);\n} catch (error){\n\tjobResJSON = {};\n}\nif (jobResJSON.succeeded)\n\tgs.addInfoMessage(gs.getMessage(\"Successfully set the cert.validation.enabled property to true.\"));\nelse\n\tgs.addErrorMessage(gs.getMessage(\"Failed to set the cert.validation.enabled property to true.\"));\n\tgs.addErrorMessage(gs.getMessage(jobResJSON.error_message));","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/eae404d3c31320101109046f5e40dd41","value":"eae404d3c31320101109046f5e40dd41"},"condition":"(function() {\n\tif (!current.active) {\n\t\tgs.error(\"Turn on Code Signing Property job stops because the job was used once and it cannot be rerun.\");\n\t\treturn false;\n\t}\n\tif (gs.getProperty(\"com.snc.kmf.signature.validation.flag\") == \"false\") {\n\t\tgs.error(\"Code Signing is NOT turned on. Please turn on Code Signing first (set com.snc.kmf.signature.validation.flag to True) before turning on Certificate Validation.\");\n\t\treturn false;\n\t}\n\tvar codeSigningAPI = new sn_cs_ns.CodeSigningAPI();\n\tif (!codeSigningAPI.isRecordTrusted(\"sys_script_include\",\"a3b705904322211090d86d95cab8f295\",\"*\")) {\n\t\tgs.error(\"Turn on Code Signing Property job stops because the signature migration api is untrusted.\");\n\t\treturn false;\n\t}\n\tvar migrationAPI = new global.CodeSigningSignatureMigrationAPI();\n\tif (!migrationAPI.allowTurnOnJob()) {\n\t\tgs.error(\"Turn on Code Signing Property job stops. Please re-sign records using the system created mass signing job.\");\n\t\treturn false;\n\t}\n\n\treturn true;\n})();","sys_update_name":"sysauto_script_cbf325f3b73021109d592bc1de11a93d","offset_type":"0","name":"Turn on Code Signing Certificate Validation Property","max_drift":"","run_period":"","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2023-06-20 17:41:44","sys_class_name":"sysauto_script","sys_id":"cc311fb3b73d1110ffe5ef54ce11a9c2","sys_updated_by":"admin","sys_created_on":"2022-09-14 22:36:38","run_start":"2022-09-14 22:35:16","sys_name":"Subscribe Teams App","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/53b1b0e79761011018b2fa98c253afcc","value":"53b1b0e79761011018b2fa98c253afcc"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"49","active":"true","time_zone":"","script":"var teamsChannelId = 'a812eaf8c32111100f24c87af040dd59';\nvar kmfModuleId = '3b16f51f536811101c1addeeff7b1209';\n\nvar appInfo = getTeamsAppId(teamsChannelId);\nvar teamsAppId = appInfo.teamsAppId;\nvar applicationId = appInfo.applicationId;\nvar allMembersResource = 'getAllMembers';\nvar allMessagesResource = 'getAllMessages';\n\nvar result = sn_fd.FlowAPI.executeActionQuick('sn_oe_sfs.get_chat_subscription', {\n\t\tapplication_id: applicationId\n\t});\nvar subscriptions = JSON.parse(result.subscriptions);\nvar publicToken = getPublicToken();\nvar publicKeyId = getPublicKeyId();\n\nif (publicToken != null) {\n\tsubscribeOrRenew(allMembersResource);\n\tsubscribeOrRenew(allMessagesResource);\n}\n\nfunction subscribeOrRenew(res) {\n\t// if there is no subscription for the resource, create a new subscription. Otherwise, renew another 60m.\n\tvar subscription = getSubscription(res);\n\tif (subscription == null) {\n\t\tsn_fd.FlowAPI.executeSubflowQuick('sn_oe_sfs.collab_chat_subscribe_webhook', {\n\t\t\tchange_type: res == allMembersResource ? 'created,deleted' :'created,updated,deleted',\n\t\t\twebhook_registry_record_name: 'CollabChatWebhookRegistry',\n\t\t\tresource: res + \"?model=B\",\n\t\t\tapp_id: teamsAppId,\n\t\t\tencryption_certificate: publicToken,\n\t\t\tencryption_certificate_id: publicKeyId\n\t\t});\n\t} else {\n\t\tvar gtd = new GlideDateTime();\n\t\tgtd.addSeconds(3600); // Adding 1h\n\t\tvar utcDateTime = gtd.getValue();\n\n\t\tsn_fd.FlowAPI.executeActionQuick('sn_oe_sfs.renew_chat_subscription', {\n\t\t\tsubscription_id: subscription.id,\n\t\t\texpiration_date_time: utcDateTime,\n\t\t\tencryption_certificate: publicToken,\n\t\t\tencryption_certificate_id: publicKeyId\n\t\t});\n\t}\n}\nfunction getSubscription(resource) {\n\tif (!subscriptions || subscriptions.length == 0)\n\t\treturn null;\n\n\tfor(var i=0; i<subscriptions.length; i++) {\n\t\tvar subscription = subscriptions[i];\n\t\tif (subscription.resource.includes(resource))\n\t\t\treturn subscription;\n\t}\n\n\treturn null;\n}\nfunction getTeamsAppId(teamsChannelId) {\n\tvar providerGR = new GlideRecord('sys_cs_collab_provider');\n\tproviderGR.addQuery('channel', teamsChannelId);\n\tproviderGR.addActiveQuery();\n\tproviderGR.query();\n\n\tif (providerGR.next()) {\n\t\tvar providerId = providerGR.getUniqueValue();\n\t\tvar providerApplicationGR = new GlideRecord('sys_cs_collab_provider_application');\n\t\tproviderApplicationGR.addQuery('provider', providerId);\n\t\tproviderApplicationGR.addActiveQuery();\n\t\tproviderApplicationGR.query();\n\n\t\tif (providerApplicationGR.next()) {\n\t\t\treturn {\n\t\t\t\t'teamsAppId': providerApplicationGR.getValue('app_id'),\n\t\t\t\t'applicationId': providerApplicationGR.admin_connection.credential.oauth_entity_profile.oauth_entity.client_id\n\t\t\t};\n\t\t}\n\t}\n\n\treturn null;\n}\n\nfunction getPublicToken() {\n\tvar gr = new GlideRecord('sys_certificate');\n\tgr.addQuery('name', 'sn_oe_sfs.ms_teams_crypto_publickeywrap');\n\tgr.addQuery('format', 'pem');\n\tgr.addActiveQuery();\n\tgr.query();\n\tif (gr.next()) {\n\t\tvar certificate = gr.getValue('pem_certificate');\n\t\treturn certificate.substring(28, certificate.length-25).trim();\n\t}\n\treturn null;\n}\n\nfunction getPublicKeyId() {\n\tvar gr = new GlideRecord('sys_kmf_module_key');\n\tgr.addQuery('key_lifecycle_state', 'active');\n\tgr.addQuery('crypto_module', kmfModuleId);\n\tgr.addQuery('key_type', '13e0503bc7103300af4d43c6f09763f0');  //Public Key Wrapping Key\n\tgr.query();\n\n\tif (gr.next())\n\t\treturn gr.getUniqueValue();\n\n\treturn null;\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/53b1b0e79761011018b2fa98c253afcc","value":"53b1b0e79761011018b2fa98c253afcc"},"condition":"answer = false;\n\nif (!GlidePluginManager.isActive(\"com.glide.domain.msp_extensions.installer\")) {\n\tvar gr = new GlideRecord('sys_cs_collab_settings');\n\tgr.query();\n\tif (gr.next()) {\n\t\tanswer = (gr.getValue('enable_teams') == 1);\n\t}\n}","sys_update_name":"sysauto_script_cc311fb3b73d1110ffe5ef54ce11a9c2","offset_type":"0","name":"Subscribe Teams App","max_drift":"","run_period":"1970-01-01 00:30:00","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2023-10-16 21:48:51","sys_class_name":"sysauto_script","sys_id":"cd42112e737210109cc5aa114df6a701","sys_updated_by":"admin","sys_created_on":"2020-08-26 00:32:40","run_start":"2020-08-26 00:26:31","sys_name":"Backup bulk populate lifecycle fields","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"15","active":"false","time_zone":"","script":"gs.info('Running Backup bulk populate lifecycle fields');\nnew LifeCycleUtil().bulkPopulate();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"condition":"var answer = false;\n\nif (new LifeCycleUtil().isLifeCycleMigrationActivated()) {\n\tvar checkTables = [];\n\tvar mappedTables = JSON.parse(SNC.CSDMLifeCycleMappingCacheManager.getUniqueTables());\n\tfor (var i = 0; i < mappedTables.length; i++) {\n\t\tvar tableName = mappedTables[i];\n\t\tvar tables = new LifeCycleUtil().getParents(tableName, true);\n\t\t\n\t\t// we want the list of asset tables like alm_asset and cmdb_model from the \n\t\t// unique tables. Logic here to narrow down to that list - those tables dont extend anything\n\t\t// so they have only one value in the array returned by getParents - themselves. And exclude cmdb table.\n\t\tif (tables.length == 1 && tables[0] != \"cmdb\") {\n\t\t\tcheckTables.push(tableName);\n\t\t}\n\t}\n\n\tvar refillCmdb = false;\n\tvar refillTables = false;\n\tvar gr = new GlideAggregate('cmdb_ci');\n\tgr.addNullQuery('life_cycle_stage');\n\tgr.addNullQuery('life_cycle_stage_status');\n\t// Need to account for the \"All\" special CI which is not supposed to be edited. Hence has empty lifecycle fields\n\tgr.addQuery('sys_id', '!=', '0e7a06157f10310016181ccebefa91ce');\n\tgr.addAggregate('COUNT');\n\tgr.query();\n\t\n\tif (gr.next() && gr.getAggregate('COUNT') > 0)\n\t\trefillCmdb = true;\n\n\tif (!refillCmdb && checkTables.length > 0) {\n\t\tfor (var j = 0; j < checkTables.length; j++) {\n\t\t\tgr = new GlideAggregate(checkTables[j]);\n\t\t\tgr.addNullQuery('life_cycle_stage');\n\t\t\tgr.addNullQuery('life_cycle_stage_status');\n\t\t\tgr.addAggregate('COUNT');\n\t\t\tgr.query();\n\t\t\n\t\t\tif (gr.next() && gr.getAggregate('COUNT') > 0) {\n\t\t\t\trefillTables = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (refillCmdb || refillTables) {\n\t\tanswer = true;\n\t}\n}\n\t\nanswer;\n\t\n\n","sys_update_name":"sysauto_script_cd42112e737210109cc5aa114df6a701","offset_type":"0","name":"Backup bulk populate lifecycle fields","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2021-09-28 14:59:15","sys_class_name":"sysauto_script","sys_id":"ce1be572733230107d804c9885f6a7ae","sys_updated_by":"admin","sys_created_on":"2021-09-28 13:18:09","run_start":"2021-09-28 13:15:47","sys_name":"Analytics - Generate User Hashes","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"2","active":"true","time_zone":"","script":"sn_app_analytics.GlideUserHash.createUserHashes();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/07d4abbf04312210559073c06a02f7f6","value":"07d4abbf04312210559073c06a02f7f6"},"condition":"","sys_update_name":"sysauto_script_ce1be572733230107d804c9885f6a7ae","offset_type":"0","name":"Analytics - Generate User Hashes","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2015-11-30 20:24:26","sys_class_name":"sysauto_script","sys_id":"cfbb4ba1d7001200c1ed0fbc5e6103a6","sys_updated_by":"admin","sys_created_on":"2015-11-30 20:23:15","run_start":"2015-11-30 20:21:24","sys_name":"CMDB Health Dashboard - Completeness Score Calculation","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 11:00:00","sys_mod_count":"1","active":"false","time_zone":"","script":"\n SNC.MetricProcessorScript.completenessManager();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_cfbb4ba1d7001200c1ed0fbc5e6103a6","offset_type":"0","name":"CMDB Health Dashboard - Completeness Score Calculation","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2021-04-09 12:26:06","sys_class_name":"sysauto_script","sys_id":"d1431642c31220102c5b4e483c40dde6","sys_updated_by":"admin","sys_created_on":"2021-02-14 15:34:02","run_start":"2021-02-14 15:33:19","sys_name":"WebAuthenticationMetadataRefresh","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 11:30:00","sys_mod_count":"12","active":"false","time_zone":"","script":"try {\n     var startTime = new GlideDateTime();\n     gs.info(\"Start: Scheduler job for fetching authenticator metadata. \" + startTime);\n     SNC.GlideWebAuthnMetadata.fetchMetadata();\n     var endTime = new GlideDateTime();\n     gs.info(\"End: Scheduler job for fetching authenticator metadata. \" + endTime);\n     gs.info(\"Time Taken by webAuthn scheduler job: \" + gs.dateDiff(startTime, endTime, true));\n} catch(e) {\n     gs.error(\"Error in fetching authenticator metadata\");\n     gs.eventQueue(\"webauthn.import.metadata.failed\", null, gs.getUserName());\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9f152f3304712210559073c06a02f70e","value":"9f152f3304712210559073c06a02f70e"},"condition":"","sys_update_name":"sysauto_script_d1431642c31220102c5b4e483c40dde6","offset_type":"0","name":"WebAuthenticationMetadataRefresh","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":"","run_type":"daily","sys_updated_on":"2020-01-23 10:29:34","sys_class_name":"sysauto_script","sys_id":"d1bc736c0a0a0b2b002c3442345d6824","sys_updated_by":"admin","sys_created_on":"2009-01-13 20:43:55","run_start":"2009-01-04 06:42:22","sys_name":"Asynchronous Import Set Transformer","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"glide.maint","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"41","active":"false","time_zone":"","script":"// transform asynchronous import sets that are already loaded\n// daily at midnight\ntransformAsyncIset();\n\nfunction transformAsyncIset() {\nvar importSet = new GlideRecord(\"sys_import_set\");\nimportSet.addQuery(\"mode\", \"asynchronous\");\nimportSet.addQuery(\"state\", \"loaded\");\nimportSet.query();\n  while(importSet.next()) {\n\tvar importSetRun = new GlideRecord('sys_import_set_run');\n\timportSetRun.addQuery('set', importSet.sys_id);\n\timportSetRun.addQuery('state', 'running');\n\timportSetRun.query();\n\tif (!importSetRun.next())\n\t\tsTransform(importSet);\n  }\n}\n\nfunction sTransform(igr) {\n    var mapsList = getMap(igr.table_name);\n\n    var t = new GlideImportSetTransformerWorker(igr.sys_id, mapsList);\n    t.setProgressName(\"Transforming: \" + igr.number);\n    t.setBackground(true);\n    t.start();\n}\n\nfunction getMap(sTable) {\n    var mapGR = new GlideRecord(\"sys_transform_map\");\n    mapGR.addQuery(\"source_table\", sTable);\n    mapGR.addActiveQuery();\n    mapGR.query();\n\n    var mapsList = [];\n    while(mapGR.next())\n        mapsList.push(mapGR.getUniqueValue());\n\n    return mapsList.join();\n}\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ed77233f04b12210559073c06a02f752","value":"ed77233f04b12210559073c06a02f752"},"condition":"","sys_update_name":"sysauto_script_d1bc736c0a0a0b2b002c3442345d6824","offset_type":"0","name":"Asynchronous Import Set Transformer","max_drift":"","run_period":"","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2012-04-25 21:12:32","sys_class_name":"sysauto_script","sys_id":"d35616001b212000b8ee9e3bcc0713bd","sys_updated_by":"admin","sys_created_on":"2012-04-17 17:01:38","run_start":"2012-04-17 16:54:15","sys_name":"Verify active instance clone status","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"3","active":"true","time_zone":"","script":"SncCloneUtils.checkIsCloneRunningAndNotWait(); ","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3b83a3f304312210559073c06a02f788","value":"3b83a3f304312210559073c06a02f788"},"condition":"// Do not run unless we have at least one active clone \r\n\r\nvar gr = new GlideRecord(\"clone_instance\");\r\ngr.addQuery(\"state\", \"active\");\r\ngr.query();\r\ngr.next();\r\n","sys_update_name":"sysauto_script_d35616001b212000b8ee9e3bcc0713bd","offset_type":"0","name":"Verify active instance clone status","max_drift":"","run_period":"1970-01-01 00:20:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2018-10-01 07:28:40","sys_class_name":"sysauto_script","sys_id":"d3d82b91d7302300a7cd4251ce6103cf","sys_updated_by":"admin","sys_created_on":"2018-09-26 15:33:24","run_start":"2018-09-26 15:33:03","sys_name":"Analyze PA scores and PA snapshot tables","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 23:00:00","sys_mod_count":"4","active":"true","time_zone":"","script":"SNC.PAUtils.analyzeTables();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/539a23bf04f12210559073c06a02f7aa","value":"539a23bf04f12210559073c06a02f7aa"},"condition":"","sys_update_name":"sysauto_script_d3d82b91d7302300a7cd4251ce6103cf","offset_type":"0","name":"Analyze PA scores and PA snapshot tables","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"monthly","sys_updated_on":"2024-04-15 08:41:24","sys_class_name":"sysauto_script","sys_id":"d3dd7946772102107aa345cfbd5a9962","sys_updated_by":"admin","sys_created_on":"2024-04-15 08:23:08","run_start":"2024-04-15 08:19:37","sys_name":"On-Call Build Rosters Cache","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"3","active":"true","time_zone":"","script":"// Build roster cache to improve getSpans performance, every month.\nnew OCRotationV2().buildCacheForAllRosters();\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"condition":"","sys_update_name":"sysauto_script_d3dd7946772102107aa345cfbd5a9962","offset_type":"0","name":"On-Call Build Rosters Cache","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2024-09-06 21:24:22","sys_class_name":"sysauto_script","sys_id":"d516562c43ec1210e78f39603ab8f2b2","sys_updated_by":"admin","sys_created_on":"2024-09-06 21:24:22","run_start":"2024-09-06 21:22:54","sys_name":"PopulateDuplicateTaskGroupDaily","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 12:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"var groupPopulator = new sn_cmdb_ws.PopulateDuplicateTaskGroups();\ngroupPopulator.populate();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"condition":"","sys_update_name":"sysauto_script_d516562c43ec1210e78f39603ab8f2b2","offset_type":"0","name":"PopulateDuplicate Task Group Daily","max_drift":"","run_period":"","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2022-09-05 11:21:43","sys_class_name":"sysauto_script","sys_id":"d5dad6b8733111107d804c9885f6a738","sys_updated_by":"admin","sys_created_on":"2022-09-05 10:56:50","run_start":"2022-09-05 10:56:00","sys_name":"Analytics - UX Metrics Apps Registration","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:33:00","sys_mod_count":"2","active":"true","time_zone":"","script":"new UXMetricsApplications().registerAllApps();\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e393abf304312210559073c06a02f7e4","value":"e393abf304312210559073c06a02f7e4"},"condition":"sn_app_analytics.SNAnalytics.isEnabled();","sys_update_name":"sysauto_script_d5dad6b8733111107d804c9885f6a738","offset_type":"0","name":"Analytics - UX Metrics Apps Registration","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2022-10-13 08:50:02","sys_class_name":"sysauto_script","sys_id":"d67d860377eb41105679bcc8ca5a99ba","sys_updated_by":"admin","sys_created_on":"2022-05-23 13:23:18","run_start":"2022-05-20 13:22:42","sys_name":"User Experience Analytics - Events Processing Scheduled Job","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"7","active":"false","time_zone":"","script":"sn_app_analytics.SNAnalytics.executeAnalyticsJob(\"EventJob\");","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/07d4abbf04312210559073c06a02f7f6","value":"07d4abbf04312210559073c06a02f7f6"},"condition":"","sys_update_name":"sysauto_script_d67d860377eb41105679bcc8ca5a99ba","offset_type":"0","name":"User Experience Analytics - Events Processing Scheduled Job","max_drift":"1970-01-01 00:02:00","run_period":"1970-01-01 00:05:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2017-08-21 15:31:28","sys_class_name":"sysauto_script","sys_id":"d811ead0c33003001ca5b348b1d3ae23","sys_updated_by":"admin","sys_created_on":"2017-08-21 15:31:28","run_start":"2017-08-21 15:23:07","sys_name":"Remove scores and snapshots duplicates","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 23:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"var remover = new SNC.PAMigrationDuplicatesRemover('pa_scores');\nremover.deleteDuplicates();\n\nremover = new SNC.PAMigrationDuplicatesRemover('pa_snapshots');\nremover.deleteDuplicates();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b81b6b3304352210559073c06a02f7f0","value":"b81b6b3304352210559073c06a02f7f0"},"condition":"","sys_update_name":"sysauto_script_d811ead0c33003001ca5b348b1d3ae23","offset_type":"0","name":"Remove scores and snapshots duplicates","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2017-08-21 18:26:44","sys_class_name":"sysauto_script","sys_id":"d8698b183b34030037556b4ee3efc467","sys_updated_by":"admin","sys_created_on":"2017-08-21 18:26:44","run_start":"2017-08-21 18:19:15","sys_name":"Targeted Communications Recepients Refresh","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/0fdd6483d72302004f1e82285e61033a","value":"0fdd6483d72302004f1e82285e61033a"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"var targetedCommunicationsRecepientsApi = new sn_publications.RecipientsListApi();\ntargetedCommunicationsRecepientsApi.refreshRecepients();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0fdd6483d72302004f1e82285e61033a","value":"0fdd6483d72302004f1e82285e61033a"},"condition":"","sys_update_name":"sysauto_script_d8698b183b34030037556b4ee3efc467","offset_type":"0","name":"Targeted Communications Recepients Refresh","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2015-07-01 08:18:02","sys_class_name":"sysauto_script","sys_id":"d9e13920c30102000f511624a1d3aeb5","sys_updated_by":"admin","sys_created_on":"2015-07-01 08:11:27","run_start":"2015-07-01 08:06:36","sys_name":"Service Mapping - check for changes in topologies","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 22:00:00","sys_mod_count":"2","active":"true","time_zone":"","script":"var handler = new SNC.TopologyHashHandler();\nhandler.incrementTopologyHash();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"condition":"","sys_update_name":"sysauto_script_d9e13920c30102000f511624a1d3aeb5","offset_type":"","name":"Service Mapping - check for changes in topologies","max_drift":"","run_period":"1970-01-01 00:00:05","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/d3383a875b0132003d1c484c11f91a5b","value":"d3383a875b0132003d1c484c11f91a5b"},"run_type":"periodically","sys_updated_on":"2022-04-15 18:47:51","sys_class_name":"sysauto_bm_script","sys_id":"da2e5f47b3a13200715ca943c6a8dcdb","sys_updated_by":"admin","sys_created_on":"2017-03-21 19:29:54","run_start":"2017-03-21 19:29:17","sys_name":"BenchmarkUserPasswordReset","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"3","active":"true","time_zone":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_update_name":"sysauto_bm_script_da2e5f47b3a13200715ca943c6a8dcdb","offset_type":"0","name":"BenchmarkUserPasswordReset","max_drift":"","run_period":"1970-04-01 00:00:00","sys_policy":"protected"},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2023-01-10 20:37:34","sys_class_name":"sysauto_script","sys_id":"dc406f118de15110f877187fb14735c5","sys_updated_by":"maint","sys_created_on":"2022-08-25 19:01:18","run_start":"2022-08-25 19:00:35","sys_name":"SC - Calculate Impact Score","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"var ga = new GlideAggregate('sn_vsc_instance_hardening_settings');\nga.addAggregate('SUM', 'risk_score');\nga.setGroup(false);\nga.query();\nvar total = 0;\nif (ga.next()) {\n    total = ga.getAggregate('SUM', 'risk_score');\n}\n\n// calculate impact score of each hardening using formula (risk_score/total_score)*100\nif (total > 0) {\n    var gr = new GlideRecord('sn_vsc_instance_hardening_settings');\n    gr.query();\n    while (gr.next()) {\n        var scoreImpact = ((gr.risk_score / total) * 100.00).toFixed(2);\n        gr.setValue('score_impact', scoreImpact);\n        gr.update();\n    }\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"condition":"","sys_update_name":"sysauto_script_dc406f118de15110f877187fb14735c5","offset_type":"0","name":"SC - Calculate Impact Score","max_drift":"","run_period":"","sys_policy":"read"},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2021-08-23 09:48:55","sys_class_name":"sysauto_script","sys_id":"dc9ee55053213010c8d4ddeeff7b12cc","sys_updated_by":"admin","sys_created_on":"2021-07-20 15:51:40","run_start":"2021-07-20 15:47:39","sys_name":"Migrate Goal, Strategy, and Work item data to the Goal Framework and related Planning item tables","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/11879041532030103913ddeeff7b12d8","value":"11879041532030103913ddeeff7b12d8"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"28","active":"true","time_zone":"","script":"/*\n1) migrateGoalData --> Setting this paramater to true shall migrate all the goal records in 'goal' table to 'sn_gf_goal' table, with same sysId. Corresponding Target records are created in '\tsn_gf_goal_target' table. In the process, it shall create the goal and workItem(Project, Demand, Program) relationship in '\tsn_gf_goal_m2m_relationship' table with first goal as primary goal.\n\n2) migrateStrategyData --> Setting this paramater to true shall migrate all the strategy records in 'enterprise_strategy', 'business_unit_strategy' and 'strategic_objective' table to 'sn_gf_strategy' table, with same sysId.\n\n3) migratingGoalStrategyM2Mdata --> Setting this paramater to true shall migrate the records in 'm2m_bu_s_goals' and 'm2m_enterprise_s_goals'. In this process, since the new data model shall not be considering m2m relation of strategy and goals, in order to not loose data, we shall be cloning goals with parent as current goal and set the strategy column for respcetive goals.\n\n\tFor example- say we have a goal (G1) mapped to 5 strategies S1, S2, S3, S4, S5.\n\t\t\t\t\tWe shall be creating 4 clone of the goal (G1), and set parent as G1 \n\t\t\t\t\tStrategy column of each goal shall be as follows-\n\t\t\t\t\tG1 - S1\n\t\t\t\t\tClone1 of G1 - S2\n\t\t\t\t\tClone2 of G1 - S3\n\t\t\t\t\tClone3 of G1 - S4\n\t\t\t\t\tClone4 of G1 - S5\n\t***Cloned Sub goals will be prefixed with 'Cloned SubGoal:' followed by Parent goal name from which it was cloned.\n\t\t\t\t\t\n4) migrateStrategyWorkItemRelData --> Setting this paramater true, shall carry forward the relationship of strategy and workItem(Project, Demand, Program), via goal. In case, there is no goal(Strategy as current strategy) with workItem in 'sn_gf_goal_m2m_relationship' table, then we shall be crating a dummyGoal with strategy value of current strategy, and inserting the dummy Goal and workItem relationship in 'sn_gf_goal_m2m_relationship' table.\n   ***DummyGoals will be prefixed with 'Goal:' followed by Strategy name.\n\n\n*/\n\n\n\nvar jobParamJson = {\n    'migrateGoalData': true,\n    'migrateStrategyData': true,\n    'migratingGoalStrategyM2Mdata': true,\n    'migrateStrategyWorkItemRelData': true,\n};\nnew sn_gf.GFDataMigrationUtil().migrateGoalsAndStrategiesData(jobParamJson);","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/11879041532030103913ddeeff7b12d8","value":"11879041532030103913ddeeff7b12d8"},"condition":"","sys_update_name":"sysauto_script_dc9ee55053213010c8d4ddeeff7b12cc","offset_type":"","name":"Migrate Goal, Strategy, and Work item data to the Goal Framework and related Planning item tables","max_drift":"","run_period":"","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2024-10-16 11:35:05","sys_class_name":"sysauto_script","sys_id":"dd3716460b3320101af90bdb35673a3a","sys_updated_by":"now.discovery.content","sys_created_on":"2021-04-30 05:30:59","run_start":"2021-04-30 05:24:42","sys_name":"Licensing Hardware Count","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"moiz.alibhayani","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"7","active":"true","time_zone":"","script":"var rowCount = 0;\nvar bulkSize = parseInt(gs.getProperty('sn_itom_licensing.performance.config.bulksize',5000));\nvar allowedSources = getDiscoverySources();\nvar excludedStatus = ['7', '8', '100']; // RETIRED, STOLEN, ABSENT\nvar dateFilter = 'Last 90 days@javascript:gs.beginningOfLast90Days()@javascript:gs.endOfLast90Days()';\n\nfunction getDiscoverySources() {\n    var allowedSources = [];\n    var licenseDiscoverySourceGr = new GlideRecord('itom_lu_discovery_sources');\n    licenseDiscoverySourceGr.query();\n    while (licenseDiscoverySourceGr.next())\n        allowedSources.push(licenseDiscoverySourceGr.getValue('source'));\n\n    return allowedSources;\n}\n\nfunction getCountOfCi(table) {\n    var ciGr = new GlideRecord(table);\n    ciGr.addQuery('duplicate_of', 'NULL');\n    ciGr.addQuery('install_status', 'NOT IN', excludedStatus);\n    ciGr.query();\n    var count = 0;\n    var ciList = [];\n    while (ciGr.next()) {\n        var sysId = ciGr.getValue('sys_id');\n        ciList.push({\n            'ciSysId': sysId\n        });\n        if (ciList.length == bulkSize) {\n            ciList = _filterByDiscoverySource(ciList, false);\n            count += ciList.length;\n            ciList = [];\n        }\n    }\n    if (ciList.length) {\n        ciList = _filterByDiscoverySource(ciList, false);\n        count += ciList.length;\n        ciList = [];\n    }\n    return count;\n}\n\n// A VM can be discovered by both cloud discovery and IP based discovery to avoid\n// counting the same node twice, find the CI's that have a Virtualized by::Virtualizes or\n// Instantiates::Instantiated by relationship between cmdb_ci_vm_instance and cmdb_ci_server\n// and deduct that from the total count\nfunction getDoubleCountedCis() {\n\n    var relGr = new GlideRecord('cmdb_rel_ci');\n    relGr.addQuery('type.name', 'IN', 'Instantiates::Instantiated by, Virtualized by::Virtualizes');\n\n\trelGr.addQuery('parent.sys_class_name','INSTANCEOF','cmdb_ci_server');\n\trelGr.addQuery('parent.install_status','NOT IN', excludedStatus.join(\",\"));\n\trelGr.addQuery('parent.duplicate_of','NULL');\n\n\trelGr.addQuery('child.sys_class_name','INSTANCEOF','cmdb_ci_vm_instance');\n\trelGr.addQuery('child.install_status','NOT IN', excludedStatus.join(\",\"));\n\trelGr.addQuery('child.duplicate_of','NULL');\n\n    relGr.query();\n\tvar ciList = [];\n\tvar count = 0;\n\twhile (relGr.next()) {\n        var sysId = relGr.getValue('parent');\n\t\tvar exSysId = relGr.getValue('child');\n        ciList.push({\n            'ciSysId': sysId,\n\t\t\t'exCiSysId' : exSysId\n        });\n        if (ciList.length == bulkSize) {\n            ciList = _filterByDiscoverySource(ciList, true);\n            count += ciList.length;\n            ciList = [];\n        }\n    }\n    if (ciList.length) {\n        ciList = _filterByDiscoverySource(ciList, true);\n        count += ciList.length;\n        ciList = [];\n    }\n    return count;\n}\n// Batching of sys_object_source table\nfunction _filterByDiscoverySource(ciList, relBased) {\n    var ciMap = {};\n    ciList.forEach(function(data) {\n        if (relBased)\n            ciMap[data.exCiSysId] = false;\n        else\n            ciMap[data.ciSysId] = false;\n    });\n    ciMap = this._processDiscoverySourceQuery(ciMap);\n    return ciList.filter(function(data) {\n        return relBased ? ciMap[data.exCiSysId] : ciMap[data.ciSysId];\n    });\n}\n\nfunction _processDiscoverySourceQuery(ciMap) {\n    var sysGr = new GlideRecord('sys_object_source');\n    sysGr.addQuery('target_sys_id', 'IN', Object.keys(ciMap).join(','));\n    sysGr.addQuery('name', 'IN', allowedSources.join(\",\"));\n    sysGr.addQuery('last_scan', 'ON', dateFilter);\n    sysGr.query();\n    while (sysGr.next()) {\n        var ciSysId = sysGr.target_sys_id + '';\n        ciMap[ciSysId] = true;\n    }\n    for (ci in ciMap)\n        if (!ciMap[ci]) delete ciMap[ci];\n    return ciMap;\n}\n\n// 1. count all hardware CIs\nrowCount += getCountOfCi('cmdb_ci_hardware');\n// 2. count all VM CIs\nrowCount += getCountOfCi('cmdb_ci_vm_instance');\n// 3. de-dupe hardware and VM CIs\nrowCount -= getDoubleCountedCis();\n\nvar countGr = new GlideRecord(\"itom_lu_definition_usage_count\");\ncountGr.addQuery(\"name\",\"hardware\");\ncountGr.query();\nif(countGr.next()) {\n\tcountGr.setValue(\"count\", rowCount);\n\tcountGr.setValue(\"name\", \"hardware\");\n\tcountGr.update();\n} else {\n\tcountGr.initialize();\n\tcountGr.setValue(\"count\", rowCount);\n\tcountGr.setValue(\"name\", \"hardware\");\n\tcountGr.insert();\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/91d8237704f12210559073c06a02f73b","value":"91d8237704f12210559073c06a02f73b"},"condition":"GlidePluginManager.isActive('com.snc.itom.license');","sys_update_name":"sysauto_script_dd3716460b3320101af90bdb35673a3a","offset_type":"0","name":"Licensing Hardware Count","max_drift":"","run_period":"","sys_policy":"read"},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2013-07-29 18:21:42","sys_class_name":"cert_audit","sys_id":"df323c72bf320100eae043fada07394b","sys_updated_by":"admin","sys_created_on":"2013-07-29 18:21:42","run_start":"2013-07-29 18:20:05","sys_name":"Data Center Zone Usage","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"1","active":"true","time_zone":"","script":"var desiredFloorSpaceUsage = 30;\t\t// Value to audit against\nvar desiredPowerConsumption = 4000;\t // Value to audit against\nvar assignToUser = '46d44a23a9fe19810012d100cca80666';\t // Beth Anglin\nvar assignToGroup = '8a5055c9c61122780043563ef53438e3';\t// Hardware group\nvar taskMsg = 'See the audit results below for the discrepancies that must be addressed';\n\n// API call to retrieve records based on the filter\nvar gr = new SNC.CertificationProcessing().getFilterRecords(current.filter);\n\n// Loop over all records defined by the filter\nwhile(gr.next()) {\n\tvar sysId = gr.getValue('sys_id');\t// Sys ID of audited record\n\tvar floorSpaceInUse = gr.getValue('floor_space_in_use');\t// Value to audit\n\tvar powerConsumption = gr.getValue('power_consumption');\t// Value to audit\n\tvar passed = true;\n\t\n\t// Determine if certification condition passes or fails\n\tif (floorSpaceInUse < desiredFloorSpaceUsage) {\n\t\tvar columnNameSpace = gr.floor_space_in_use.getLabel();\t// String value of column audited against\n\n\t\t// Call create Follow on Task API and save the returned sys_id for use in logging audit result fail\n\t\t// Params: \n\t\t// auditId - Sys id of the audit record executed\n\t\t// ciId Sys - id of the configuration item.  Empty string if not a cmdb ci\n\t\t// assignedTo - Sys id of user to assign task to.  Can be empty\n\t\t// assignmentGroup - Sys id of group to assign task to.  Can be empty\n\t\t// shortDescr - Short description for the Follow On Task.  Can be empty\n\t\t// Return value: Sys id of the created follow on task\n\t\tvar followOnTask = new SNC.CertificationProcessing().createFollowOnTask(current.sys_id, sysId, assignToUser, '', taskMsg);\n\n\t\t// Call log failed result API\n\t\t// Params:\n\t\t// auditId - Sys id of audit record executed\n\t\t// auditedRecordId - Sys id of the record audited\n\t\t// followOnTask - Sys id of the follow on task associated with the audited record(@see auditedRecordId). Can be empty\n\t\t// columnDisplayName - Label of the column audited(ex. Disk space (GB)).  Can be empty\n\t\t// operatorLabel - Label of the operator used to audit the column(ex. is not empty, greater than). Can be empty\n\t\t// desiredValue - Desired value of the column.  Can be empty\n\t\t// discrepancyValue - Discrepancy value.  Can be empty\n\t\t// isCI - True, if audited record is a CI. False, otherwise.\n\t\t// domainToUse - Sys domain of the \"cert_audit\" record.  Can be empty\n\t\tnew SNC.CertificationProcessing().logAuditResultFail(current.sys_id, sysId, followOnTask, columnNameSpace, 'greater than', desiredFloorSpaceUsage, floorSpaceInUse, true);\n\n\t\t// Set flag to false for this record\n\t\tpassed = false;\n\t}\n\t\n\t// Determine if certification condition passes or fails\n\tif (powerConsumption > desiredPowerConsumption ) {\n\t\tvar columnNamePower = gr.power_consumption.getLabel();\n\t\tvar followOnTask = new SNC.CertificationProcessing().createFollowOnTask(current.sys_id, sysId, '', assignToGroup, taskMsg);\n\t\tnew SNC.CertificationProcessing().logAuditResultFail(current.sys_id, sysId, followOnTask, columnNamePower, 'less than', desiredPowerConsumption, powerConsumption, true);\n\t\tpassed = false;\n\t}\n\t\n\t// Determine if certification condition passes or fails\n\tif (powerConsumption.equals('0')) {\n\t\tvar columnNamePower = gr.power_consumption.getLabel();\n\t\tvar followOnTask = new SNC.CertificationProcessing().createFollowOnTask(current.sys_id, sysId, '', assignToGroup, taskMsg);\n\t\tnew SNC.CertificationProcessing().logAuditResultFail(current.sys_id, sysId, followOnTask, columnNamePower, 'greater than', 0, powerConsumption, true);\n\t\tpassed = false;\n\t}\n\t\n\t// If all certification conditions passed, write a Audit Result Pass via API\n\tif (passed) {\n\t\t// Params:\n\t\t// auditId - Sys id of audit record executed\n\t\t// auditedRecordId - Sys id of the record audited\n\t\t// isCI - True, if audited record is a CI. False, otherwise.  Can be empty.\n\t\t// domainToUse - Sys domain of the \"cert_audit\" record.  Can be empty.\n\t\tnew SNC.CertificationProcessing().logAuditResultPass(current.sys_id, sysId, true);\n\t}\n}\n\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e457afbb04b12210559073c06a02f744","value":"e457afbb04b12210559073c06a02f744"},"condition":"","sys_update_name":"cert_audit_df323c72bf320100eae043fada07394b","offset_type":"","name":"Data Center Zone Usage","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2025-07-10 08:00:09","sys_class_name":"sysauto_script","sys_id":"df6688b4535131100e67ddeeff7b12d1","sys_updated_by":"admin","sys_created_on":"2023-09-12 20:00:30","run_start":"2023-09-12 19:58:32","sys_name":"Check For Instant Alter Capability","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 09:00:00","sys_mod_count":"1","active":"false","time_zone":"","script":"\n(function executeRule(current, previous /*null when async*/) {\n\tfunction checkSysStatus() {\n\t\tvar gr = new GlideRecord(\"sys_status\");\n\t\tgr.addQuery(\"name\", \"system.mysqld.version\");\n\t\tgr.query();\n\n\t\tif (gr.next() && dbVersionSupportsInstant(gr.getValue(\"value\"))) {\n\t\t\tupdateProperty();\n\t\t}\n\t}\n\n\tfunction updateProperty() {\n\t\tvar propertyName = \"glide.db.instant_alter.enabled\";\n\t\tvar gr = new GlideRecord(\"sys_properties\");\n\t\tgr.addQuery(\"name\", propertyName);\n\t\tgr.query();\n\n\t\tif (gr.next()) {\n\t\t\tgr.setValue(\"value\", \"true\");\n\t\t\tgr.update();\n\t\t} else {\n\t\t\tgr = new GlideRecord(\"sys_properties\");\n\t\t\tgr.setValue(\"name\", propertyName);\n\t\t\tgr.setValue(\"value\", \"true\");\n\t\t\tgr.setValue(\"type\", \"boolean\");\n\t\t\tgr.setValue(\"description\", \"Enable MariaDB INSTANT ALTER algorithms on the Now Platform\");\n\t\t\tgr.insert();\n\t\t}\n\n\t\tdisableScheduledJob();\n\t}\n\n\tfunction disableScheduledJob() {\n\t\tvar gt = new GlideRecord(\"sysauto\");\n\t\tgt.get(\"df6688b4535131100e67ddeeff7b12d1\");\n\t\tgt.setValue(\"active\", false);\n\t\tgt.update();\n\t}\n\n\tfunction dbVersionSupportsInstant(version) {\n\t\tvar arr = version.split('.');\n\t\tif (arr.length >= 2)\n\t\t\treturn Number(arr[0]) === 10 && Number(arr[1]) >= 4;\n\n\t\treturn false;\n\t}\n\n\tcheckSysStatus();\n})(current, previous);\n\t\t","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c063eb7304312210559073c06a02f71c","value":"c063eb7304312210559073c06a02f71c"},"condition":"","sys_update_name":"sysauto_script_df6688b4535131100e67ddeeff7b12d1","offset_type":"0","name":"Check For Instant Alter Capability","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"monthly","sys_updated_on":"2020-04-09 04:01:57","sys_class_name":"sysauto_script","sys_id":"dff063650f401010967863cda8767efd","sys_updated_by":"admin","sys_created_on":"2020-04-08 15:41:35","run_start":"2020-04-08 15:23:30","sys_name":"Asset - Delete Asset Job Logs","run_dayofmonth":"7","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 00:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"var C_JOB_NAME = 'Asset - Delete Asset Job Logs';\nvar jobSysId = 'dff063650f401010967863cda8767efd';\nvar assetUtils = new global.AssetUtils();\n\nfunction deleteAssetJobLogs() {\n    var jobLog = new global.AssetJobLogUtil();\n    jobLog.startJobLog(C_JOB_NAME);\n    if (assetUtils.isJobRunning(jobSysId)) {\n        jobLog.stopJobLog(jobLog.FAILED_STATUS, C_JOB_NAME + ' job is already running');\n    } else {\n        try {\n            var date = new global.AssetJobLogUtil().deleteJobLogs();\n            jobLog.stopJobLog(jobLog.COMPLETED_STATUS, 'Asset Job Logs deleted before ' + date);\n        } catch (error) {\n            jobLog.stopJobLog(jobLog.FAILED_STATUS, error.message);\n        }\n    }\n}\n\ndeleteAssetJobLogs();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/45672bfb04b12210559073c06a02f7c5","value":"45672bfb04b12210559073c06a02f7c5"},"condition":"","sys_update_name":"sysauto_script_dff063650f401010967863cda8767efd","offset_type":"0","name":"Asset - Delete Asset Job Logs","max_drift":"","run_period":"","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2024-06-12 14:17:13","sys_class_name":"sysauto_script","sys_id":"e03713a4a3100210385a2780f31e61ce","sys_updated_by":"admin","sys_created_on":"2024-02-08 19:44:19","run_start":"2024-02-08 19:00:00","sys_name":"Playbook Auto Archive Scheduler","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1293c996ad48c7d88400c13afef3cdff","value":"1293c996ad48c7d88400c13afef3cdff"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 00:00:00","sys_mod_count":"4","active":"true","time_zone":"floating","script":"gs.info(\"Playbook Auto Archive Scheduler running...\");\n\nvar retentionPolicyDays = gs.getProperty(\"sn_pa_designer.data_retention_policy\");\n\nvar startTime = new GlideDateTime().getNumericValue();\nvar currentTime = startTime;\n\nvar exitEarly = false;\nvar timeLimitMinutes = 20;\n\nvar timeLimitMilliseconds = timeLimitMinutes * 60000; // DO NOT CHANGE THIS VALUE; ADJUST TIME USING timeLimitMinutes\nvar batchesCompleted = 0;\n\n// Archive in batches for the allotted time and then take a break\n// unless there are no records to archive, in which case exit early.\nwhile ((currentTime - startTime < timeLimitMilliseconds) && !exitEarly) {\n\t// Eligible records are non-error terminal states that were last updated past the retention policy number of days\n\tvar gr = new GlideRecord(\"sys_pd_context\");\n\tgr.addQuery(\"state\", \"COMPLETE\").addOrCondition(\"state\", \"CANCELLED\").addOrCondition(\"state\", \"SKIPPED\");\n\tgr.addQuery(\"sys_updated_onRELATIVELT@dayofweek@ago@\" + retentionPolicyDays);\n\tgr.addNullQuery(\"archive\");\n\tgr.orderBy(\"sys_created_on\");\n\tgr.setLimit(1000);\n\tgr.query();\n\n\tvar contextIdsToArchive = [];\n\twhile(gr.next()) {\n\t\tcontextIdsToArchive.push(gr.getUniqueValue());\n\t}\n\n\tif (contextIdsToArchive.length > 0) {\n\t\tgs.info(\"Archiving \" + contextIdsToArchive.length + \" playbook contexts.\");\n\t\tvar processService = new global.PDProcessService();\n\t\tprocessService.archiveProcessContexts(contextIdsToArchive);\n\t\tbatchesCompleted++;\n\t}\n\telse {\n\t\tif (batchesCompleted === 0) gs.info(\"No eligible playbook contexts to archive.\");\n\n\t\t// No need to keep polling if there's no eligible records\n\t\texitEarly = true;\n\t}\n\t\n\tcurrentTime = new GlideDateTime().getNumericValue();\n}\n\ngs.info(\"Playbook Auto Archive Scheduler completed \" + batchesCompleted + \" batches.\");","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1293c996ad48c7d88400c13afef3cdff","value":"1293c996ad48c7d88400c13afef3cdff"},"condition":"\n gs.getProperty(\"sn_pa_designer.enableDataRetentionFeatures\") === 'true';","sys_update_name":"sysauto_script_e03713a4a3100210385a2780f31e61ce","offset_type":"0","name":"Playbook Auto Archive Scheduler","max_drift":"","run_period":"1970-01-01 01:00:00","sys_policy":"read"},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"monthly","sys_updated_on":"2024-04-19 10:38:19","sys_class_name":"sysauto_script","sys_id":"e119e5b267131010526aecccb585efc7","sys_updated_by":"admin","sys_created_on":"2020-09-20 17:18:24","run_start":"2020-09-20 17:16:05","sys_name":"API Access policy monthly report","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"6","active":"true","time_zone":"US/Pacific","script":"var lua_result = SNC.APIPolicyLUA.calculateLUA();\nvar lua_json = JSON.parse(lua_result);\nvar sm = new GCFSampleMap();\nsm.put('ip', lua_json.ip.toString());\nsm.put('role', lua_json.role.toString());\nsm.put('ip_role', lua_json.ip_role.toString());\nsm.put('ip_or_role', lua_json.ip_or_role.toString());\nsm.put('ip_and_role', lua_json.ip_and_role.toString());\nGCFCollector.recordUsageEvent('custom_metric','rest_api_access_policy','rest_api_security',sm);\n\nvar api_sm = new GCFSampleMap();\napi_sm.put('api_ip', lua_json.api_ip.toString());\napi_sm.put('api_role', lua_json.api_role.toString());\napi_sm.put('api_ip_role', lua_json.api_ip_role.toString());\napi_sm.put('api_ip_or_role', lua_json.api_ip_or_role.toString());\napi_sm.put('api_ip_and_role', lua_json.api_ip_and_role.toString());\nGCFCollector.recordUsageEvent('access_policy','rest_api','api_policy_criteria',api_sm);\n\nvar auth_sm = new GCFSampleMap();\nauth_sm.put('global_one_method', lua_json.global_one_method.toString());\nauth_sm.put('global_all_method', lua_json.global_all_method.toString());\nauth_sm.put('basic_auth', lua_json.basic_auth.toString());\nauth_sm.put('bearer_token_auth', lua_json.bearer_token_auth.toString());\nauth_sm.put('oidc_auth', lua_json.oidc_auth.toString());\nauth_sm.put('mutual_auth', lua_json.mutual_auth.toString());\nauth_sm.put('custom_auth', lua_json.custom_auth.toString());\nauth_sm.put('wsse_auth', lua_json.wsse_auth.toString());\nGCFCollector.recordUsageEvent('access_policy','rest_api','api_auth_profile',auth_sm);\n\nvar token_auth_sm = new GCFSampleMap();\ntoken_auth_sm.put('hmac', lua_json.hmac.toString());\ntoken_auth_sm.put('api_key', lua_json.api_key.toString());\nGCFCollector.recordUsageEvent('access_policy','rest_api','token_based_auth_profile',token_auth_sm);\n\ngs.info('API access policy monthly report generation is finished.');","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/406ca73b04352210559073c06a02f75b","value":"406ca73b04352210559073c06a02f75b"},"condition":"","sys_update_name":"sysauto_script_e119e5b267131010526aecccb585efc7","offset_type":"","name":"API Access policy monthly report","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2025-02-07 10:39:50","sys_class_name":"sysauto_script","sys_id":"e1790ff543ae0210d1e0fdb79fb8f2db","sys_updated_by":"admin","sys_created_on":"2024-06-03 12:15:47","run_start":"","sys_name":"ML Cluster Detail purge","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"7","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"18","active":"true","time_zone":"","script":"var sysTriggerGa = new GlideAggregate(\"sys_trigger\");\nsysTriggerGa.addAggregate(\"COUNT\");\nsysTriggerGa.addEncodedQuery(\"nameLIKEML Cluster Detail purge\");\nsysTriggerGa.query();\n\nif (sysTriggerGa.next() && sysTriggerGa.getAggregate(\"COUNT\") > 2) {\n    gs.log(\"ML Cluster Detail purge count: \" + sysTriggerGa.getAggregate(\"COUNT\"));\n    gs.log(\"Skipping ML Cluster Detail purge as previous job is still in progress\");\n} else {\n    gs.log(\"Purging of records from deleted solutions in ML Cluster Detail table initiated\");\n\tnew MlClusterDetailPurgeUtil().purgeDeletedSolutionRecords();\n\tgs.log(\"Purging of records from deleted solutions in ML Cluster Detail table completed\");\n\tgs.log(\"ML Cluster Detail purge initiated\");\n    new MlClusterDetailPurgeUtil().executePurge();\n    gs.log(\"ML Cluster Detail purge completed\");\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"condition":"","sys_update_name":"sysauto_script_e1790ff543ae0210d1e0fdb79fb8f2db","offset_type":"0","name":"ML Cluster Detail purge","max_drift":"","run_period":"1970-01-01 12:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":"","run_type":"on_demand","sys_updated_on":"2024-08-07 07:13:48","sys_class_name":"sysauto_script","sys_id":"e1c334f67f7302105b8efab62d8665ff","sys_updated_by":"admin","sys_created_on":"2024-08-07 07:13:48","run_start":"2024-08-07 07:12:38","sys_name":"CMDBCumulativeDistribution","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"var domainId = 'global';\nnew global.CMDBCumulativeDistributions(domainId).scan();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_e1c334f67f7302105b8efab62d8665ff","offset_type":"0","name":"CMDBCumulativeDistribution","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2016-11-10 15:33:01","sys_class_name":"sysauto_script","sys_id":"e1cf7770d70322005aed4ebfae610364","sys_updated_by":"admin","sys_created_on":"2016-11-10 15:33:01","run_start":"2016-11-10 15:32:50","sys_name":"[Reporting] Clean Invalid tables imported from external sources","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 00:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"SNC.ImportTableUtils.cleanTablesNonActive();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b535677304712210559073c06a02f751","value":"b535677304712210559073c06a02f751"},"condition":"","sys_update_name":"sysauto_script_e1cf7770d70322005aed4ebfae610364","offset_type":"0","name":"[Reporting] Clean Invalid tables imported from external sources","max_drift":"","run_period":"","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2024-04-02 03:28:45","sys_class_name":"sysauto_script","sys_id":"e39e09697f51021032d293f10d8665a9","sys_updated_by":"admin","sys_created_on":"2024-04-01 05:53:03","run_start":"2024-04-01 05:20:33","sys_name":"Cleanup attachments created during NowLLM inference","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 00:00:00","sys_mod_count":"12","active":"true","time_zone":"floating","script":"deleteAttachments();\n\nfunction deleteAttachments() {\n    var gr = new GlideRecord(\"sys_attachment\");\n    gr.addQuery(\"file_name\", \"temp.bin\");\n    gr.addQuery(\"content_type\", \"application/octet-stream\");\n    gr.addQuery(\"table_name\", \"invisible.sys_attachment\");\n    gr.addEncodedQuery(\"sys_updated_on<javascript:gs.hoursAgo(24)\");\n    gr.query();\n    while (gr.next()) {\n        var gsa = new GlideSysAttachment();\n        gsa.deleteAttachment(gr.getUniqueValue());\n    }\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"condition":"GlidePluginManager.isActive('sn_generative_ai');","sys_update_name":"sysauto_script_e39e09697f51021032d293f10d8665a9","offset_type":"0","name":"Cleanup attachments created during NowLLM inference","max_drift":"1970-01-01 02:00:00","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2024-06-04 04:25:21","sys_class_name":"sysauto_script","sys_id":"e3c5a28aefe20210cc48bba98d97d721","sys_updated_by":"admin","sys_created_on":"2024-06-04 04:25:21","run_start":"2024-06-04 04:16:55","sys_name":"CMDB Data Manager - Cleanup Polices Marked for Deletion","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 09:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"\n new sn_cmdb_ws.CMDBWsDMPolicyAccessor().deletePoliciesMarkedForDeletion();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"condition":"","sys_update_name":"sysauto_script_e3c5a28aefe20210cc48bba98d97d721","offset_type":"0","name":"CMDB Data Manager - Cleanup Deleted Polices","max_drift":"","run_period":"1970-01-01 04:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2021-03-04 20:12:10","sys_class_name":"sysauto_script","sys_id":"e49f737bc7222010580d45ece8c260a8","sys_updated_by":"admin","sys_created_on":"2021-03-04 20:12:10","run_start":"2021-03-04 20:11:33","sys_name":"Docker Service Cleanup Job","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 00:00:00","sys_mod_count":"0","active":"true","time_zone":"floating","script":"\n\t\t\t sn_atf.DockerServiceCleanup.clean();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18792f3b04f12210559073c06a02f71d","value":"18792f3b04f12210559073c06a02f71d"},"condition":"","sys_update_name":"sysauto_script_e49f737bc7222010580d45ece8c260a8","offset_type":"0","name":"Docker Service Cleanup Job","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2024-03-25 21:22:03","sys_class_name":"sysauto_script","sys_id":"e4f2dda2ff01021067864ee9453bf16f","sys_updated_by":"admin","sys_created_on":"2024-03-22 22:01:44","run_start":"2024-03-22 07:00:00","sys_name":"Flow Designer Delete Old Preview Flows","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"14","active":"true","time_zone":"","script":"FlowDesignerPreviewHelper.deletePreviewFlows(false);","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0a3be77304352210559073c06a02f7e3","value":"0a3be77304352210559073c06a02f7e3"},"condition":"","sys_update_name":"sysauto_script_e4f2dda2ff01021067864ee9453bf16f","offset_type":"0","name":"Flow Designer Delete Old Preview Flows","max_drift":"","run_period":"1970-01-01 01:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2022-01-11 08:34:18","sys_class_name":"promin_job","sys_id":"e5895160c3010110acfce1018d40dd2c","sys_updated_by":"admin","sys_created_on":"2022-01-11 08:34:07","run_start":"2022-01-11 08:33:57","sys_name":"On Demand Job","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"1","active":"true","time_zone":"","script":"try {\n\tSNC.ProcessOptimization.executeScheduledJob(current.getUniqueValue());\n}catch (error){\n\tgs.error(error.getMessage());\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aa76333f04b52210559073c06a02f764","value":"aa76333f04b52210559073c06a02f764"},"condition":"","sys_update_name":"promin_job_e5895160c3010110acfce1018d40dd2c","offset_type":"0","name":"On Demand Job","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 02:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"weekly","sys_updated_on":"2022-08-31 06:46:24","sys_class_name":"sysauto_script","sys_id":"e6efc28753e11110dd8eddeeff7b12ae","sys_updated_by":"admin","sys_created_on":"2022-08-31 06:28:05","run_start":"2022-08-30 23:38:57","sys_name":"Clear comparison data","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"run_dayofweek":"7","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 02:00:00","sys_mod_count":"0","active":"true","time_zone":"floating","script":"//Clear Hardening comparison data older than 7 days\nvar gr = new GlideRecord('sn_vsc_user_comparisons');\ngr.addQuery('sys_created_on', '<', gs.daysAgoStart(7));\ngr.addQuery('usr_list', '');\ngr.query();\nwhile (gr.next()) {\n    var grComp = new GlideRecord('sn_vsc_changed_hardening_settings');\n    grComp.addQuery('set_comp', gr.sys_id);\n    grComp.deleteMultiple();\n    gr.deleteRecord();\n}\n\n//Clear Scan comparison data older than 7 days\nvar grScan = new GlideRecord('sn_vsc_scan_comparisons');\ngrScan.addQuery('sys_created_on', '<', gs.daysAgoStart(7));\ngrScan.addQuery('scn_list', '');\ngrScan.query();\nwhile (grScan.next()) {\n    var grF = new GlideRecord('sn_vsc_changed_scan_findings');\n    grF.addQuery('fin_comp', grScan.sys_id);\n    grF.deleteMultiple();\n    grScan.deleteRecord();\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/a51d46e3f2014110366b10017c5ba675","value":"a51d46e3f2014110366b10017c5ba675"},"condition":"","sys_update_name":"sysauto_script_e6efc28753e11110dd8eddeeff7b12ae","offset_type":"0","name":"Clear comparison data","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":"","run_type":"periodically","sys_updated_on":"2023-04-06 06:36:33","sys_class_name":"sysauto_script","sys_id":"e89812d177822110085c067f5b5a99b2","sys_updated_by":"admin","sys_created_on":"2023-04-06 06:36:33","run_start":"2023-04-06 06:29:56","sys_name":"De-Duplication: Template Scheduler","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"sn_cmdb.DuplicateTemplate.runScheduler();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_e89812d177822110085c067f5b5a99b2","offset_type":"0","name":"De-Duplication: Template Scheduler","max_drift":"","run_period":"1970-01-01 00:01:00","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2023-10-02 15:41:12","sys_class_name":"sysauto_script","sys_id":"ea804ac70b613110985f8a8db777b25f","sys_updated_by":"admin","sys_created_on":"2023-10-02 14:57:14","run_start":"2023-10-02 14:54:05","sys_name":"What's new content weekly refresh","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cb08e377eb9071106fb3951ff15228b8","value":"cb08e377eb9071106fb3951ff15228b8"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 00:00:00","sys_mod_count":"2","active":"true","time_zone":"","script":"new WhatsNewContentManager().refreshContent();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cb08e377eb9071106fb3951ff15228b8","value":"cb08e377eb9071106fb3951ff15228b8"},"condition":"new global.ProductContent().canSyncWithCDN();","sys_update_name":"sysauto_script_ea804ac70b613110985f8a8db777b25f","offset_type":"0","name":"What's new content weekly refresh","max_drift":"","run_period":"1970-01-08 00:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2022-09-22 07:30:23","sys_class_name":"sysauto_script","sys_id":"ec6e0dd24302111016b23f28fab8f2c9","sys_updated_by":"admin","sys_created_on":"2022-09-22 07:30:23","run_start":"2022-09-22 07:28:35","sys_name":"Delete inactive prediction feedback records ","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"var fbGr = new GlideRecord(MLBaseConstants.FEEDBACK_TABLE);\nfbGr.addQuery('active', false);\nfbGr.query();\n\nfbGr.deleteMultiple();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"condition":"","sys_update_name":"sysauto_script_ec6e0dd24302111016b23f28fab8f2c9","offset_type":"0","name":"Delete inactive prediction feedback records ","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2022-03-07 06:10:18","sys_class_name":"sysauto_script","sys_id":"ecf54419c32101102c5b4e483c40dd00","sys_updated_by":"admin","sys_created_on":"2022-02-07 08:01:56","run_start":"2022-02-07 06:55:38","sys_name":"Delete Revoked and Unregistered Device Registration","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"5","active":"true","time_zone":"","script":"function deleteTokens() {\n\ttry {\n\t\tgs.info(\"Device Trust flow scheduled job started.\");\n\t\tvar deleteTokenGreaterThanTimeInDays = GlideBoundedIntProperty('glide.device.token.revoked.delete.time.in_days', 15, 7, 30);\n\t\tvar gr = new GlideRecord(\"sys_auth_policy_device_app_registry\");\n\t\t\n\t\tif(!gr.isValid()) {\n\t\t\tgs.error(\"Device Trust flow scheduled job: Table sys_auth_policy_device_app_registry is not present.\");\n\t\t\treturn;\n\t\t} \n\t\t\n\t\tgr.addQuery('active', false).addOrCondition('is_registered', false);\n\t\tgr.query();\n\t\tvar nowTime;\n\t\twhile(gr.next() && gr.isValidRecord()) {\n\t\t\tif(!gr.is_registered) {\n\t\t\t\tvar createdTime = new GlideDateTime(gr.last_login_time);\n\t\t\t\tnowTime = new GlideDateTime();\n\t\t\t\tcreatedTime.addSeconds(30*60);\n\t\t\t\t\n\t\t\t\tif(nowTime.after(createdTime)) {\n\t\t\t\t\tgr.deleteRecord();\n\t\t\t\t}\n\t\t\t} else if(!gr.active) {\n\t\t\t\tvar updatedTime = new GlideDateTime(gr.last_login_time);\n\t\t\t\tnowTime = new GlideDateTime();\n\t\t\t\tupdatedTime.addDaysLocalTime(deleteTokenGreaterThanTimeInDays);\n\t\t\t\t\n\t\t\t\tif(nowTime.after(updatedTime)) {\n\t\t\t\t\tgr.deleteRecord();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tgs.info(\"Device Trust flow scheduled job ended.\");\n\t\t\n\t} catch(ex) {\n\t\tgs.error(\"Error occurred during execution of scheduled Job - Delete Revoked and Unregistered Device registration \" + ex);\n\t}\n}\ndeleteTokens();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c46ca73b04352210559073c06a02f75c","value":"c46ca73b04352210559073c06a02f75c"},"condition":"","sys_update_name":"sysauto_script_ecf54419c32101102c5b4e483c40dd00","offset_type":"0","name":"Delete Revoked and Unregistered Device Registration","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2021-01-31 10:06:02","sys_class_name":"sysauto_script","sys_id":"eda94f3dc3401200ab8f9624a1d3ae2f","sys_updated_by":"admin","sys_created_on":"2015-12-01 15:08:22","run_start":"2015-11-30 22:00:00","sys_name":"Update svc_ci_assoc and Error Counters","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 22:00:00","sys_mod_count":"148","active":"true","time_zone":"","script":"function updateCounters() {\n    if (GlidePluginManager.isActive('com.snc.service-mapping')) {\n        var updater = new UpdateServiceMappingCounts();\n        updater.updateCounts();\n        var errManager = new sn_svcerr.ErrorMgrScript(\"58c8d0ef9f6232000f51b7bda42e7017\"); /* service mapping */\n        errManager.updateAllCounts();\n    }\n}\n\nfunction asyncSvcCiAssocPopulation() {\n    gs.log(\"*** About to synchronize svc_ci_assoc ***\");\n    var manager = new SNC.SvcAssocPopulationManager();\n    var numOfUpdates = manager.numberOfUpdates;\n    var timesFullSync = GlideProperties.getInt(\"sa.svc_ci_assoc.full_sync_after_n_times\", 24 * 12);\n    var timesIncSync = GlideProperties.getInt(\"sa.svc_ci_assoc.inc_sync_after_n_times\", 6);\n    if ((numOfUpdates % timesFullSync) == 0) {\n        manager.fullSync();\n        updateCounters();\n    } else if ((numOfUpdates % timesIncSync) == 0) {\n        /* If 30 minutes passed, run incremental */\n        manager.incrementalSync();\n        updateCounters();\n    } else {\n        /* if indicator in sa_hash is on, run incremental */\n        var saHashGr = new GlideRecord('sa_hash');\n        saHashGr.addQuery('name', 'incr_upd_svc_ci_assoc_required');\n        saHashGr.addQuery('hash', 'true');\n        saHashGr.query();\n        if (saHashGr.next()) {\n            manager.incrementalSync();\n            updateCounters();\n            saHashGr.setValue('hash', 'false');\n            saHashGr.update();\n        }\n    }\n\n    /* Increment the number of svc_ci_assoc updates */\n    manager.incrementSvcCiAssocUpdates();\n    gs.log(\"*** Done synchronizing svc_ci_assoc ***\");\n}\n\nif (gs.getProperty('sa.svc_ci_assoc.synchronous_population_enabled', 'true') == 'true') {\n\t// Since svc_ci_assoc is populated synchronously, just update the counters for Error Framework (Service Mapping feature)\n\tupdateCounters();\n} else {\n\tasyncSvcCiAssocPopulation();\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"condition":"","sys_update_name":"sysauto_script_eda94f3dc3401200ab8f9624a1d3ae2f","offset_type":"","name":"Update svc_ci_assoc and Error Counters","max_drift":"","run_period":"1970-01-01 00:05:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2021-03-05 09:46:56","sys_class_name":"sysauto_script","sys_id":"ee56328073b220102eb52d2b04f6a792","sys_updated_by":"admin","sys_created_on":"2021-03-05 09:44:12","run_start":"2021-03-05 09:30:08","sys_name":"Clean Trigger Rule Workflow Context Table","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 00:00:00","sys_mod_count":"1","active":"true","time_zone":"floating","script":"new TriggerRule().cleanTriggerRuleWorkflowContextTable();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"condition":"","sys_update_name":"sysauto_script_ee56328073b220102eb52d2b04f6a792","offset_type":"","name":"Clean Trigger Rule Workflow Context Table","max_drift":"","run_period":"1970-01-04 00:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 02:00:00","run_as_tz":"","run_as":"","run_type":"daily","sys_updated_on":"2022-03-10 11:35:09","sys_class_name":"sysauto_script","sys_id":"efcee8db73020110491d235f04f6a76b","sys_updated_by":"admin","sys_created_on":"2022-03-10 11:34:53","run_start":"2022-03-10 11:33:24","sys_name":"Calculate Standard Change Template and Template Version statistics","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 02:00:00","sys_mod_count":"1","active":"true","time_zone":"floating","script":"new StdChangeUtils().calculateVersionAndTemplateStats();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b80be33304352210559073c06a02f76b","value":"b80be33304352210559073c06a02f76b"},"condition":"","sys_update_name":"sysauto_script_efcee8db73020110491d235f04f6a76b","offset_type":"0","name":"Calculate Standard Change Template and Template Version statistics","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"on_demand","sys_updated_on":"2013-08-23 23:33:38","sys_class_name":"sysauto_script","sys_id":"f399ee32bf1301008283b8045d0739a0","sys_updated_by":"admin","sys_created_on":"2013-08-23 23:33:38","run_start":"2013-08-23 23:33:03","sys_name":"Outage Data Update","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"// Update the short_description of the outage records so that they are visible in all forms relating to Outage.\n// This is to be run once after an upgrade or activation of vendor_ticketing plugin.\n//\nvar outage = new GlideRecord('cmdb_ci_outage');\noutage.addQuery('short_description', '');\noutage.query(); \t\nwhile (outage.next()) {\n\tif(outage.cmdb_ci != \"\" && outage.cmdb_ci.name != \"\")\n\t\toutage.short_description = outage.cmdb_ci.name + \" Outage\";\n\telse \n\t\toutage.short_description = \"Outage\";\n\toutage.update();\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd0d2b3f04352210559073c06a02f71d","value":"cd0d2b3f04352210559073c06a02f71d"},"condition":"","sys_update_name":"sysauto_script_f399ee32bf1301008283b8045d0739a0","offset_type":"","name":"Outage Data Update","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2025-07-14 07:01:11","sys_class_name":"cert_audit","sys_id":"f66df211bf0211007c94c0647e0739e3","sys_updated_by":"admin","sys_created_on":"2014-01-03 02:01:19","run_start":"2013-12-09 23:52:25","sys_name":"UPS Audit (3 days)","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"24","active":"true","time_zone":"","script":"new SNC.CertificationProcessing().runAudit(current.sys_id, current.template.filter.sys_id, current.template.sys_id);","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e457afbb04b12210559073c06a02f744","value":"e457afbb04b12210559073c06a02f744"},"condition":"","sys_update_name":"cert_audit_f66df211bf0211007c94c0647e0739e3","offset_type":"","name":"UPS Audit (3 days)","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2023-01-17 22:44:46","sys_class_name":"sysauto_script","sys_id":"f6f7adf2537210107a1cddeeff7b12b1","sys_updated_by":"admin","sys_created_on":"2020-08-26 21:35:25","run_start":"2020-08-26 20:39:52","sys_name":"Auto Resolution Scheduled Job","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"true","offset":"","run_time":"1970-01-01 08:05:00","sys_mod_count":"23","active":"true","time_zone":"","script":"processContextErrors();\n\nfunction processContextErrors() {\n\tvar currentUserId = gs.getUserID();\n\tvar gi = new GlideImpersonate();\n\tif (gs.nil(new AutoResolutionContextHelper()._getVAUserID())){\n\t\tgs.error('Error processing auto-resolution context errors because VA user ID is null');\n\t\treturn;\n\t}\n\t\n\tgi.impersonate(new AutoResolutionContextHelper()._getVAUserID());\n\n\ttry {\n\t\tvar contextHelper = new AutoResolutionContextHelper();\n\t\tcontextHelper.processContextErrorsOrTimeoutsOrClosedInteraction();\n\t} catch (err) {\n\t\tgs.error('Error processing auto-resolution context errors or timeouts: ' + err);\n\t} finally {\n\t\tgi.impersonate(currentUserId);\n\t}\n}\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca4f3f704b52210559073c06a02f789","value":"aca4f3f704b52210559073c06a02f789"},"condition":"","sys_update_name":"sysauto_script_f6f7adf2537210107a1cddeeff7b12b1","offset_type":"","name":"Auto Resolution Scheduled Job","max_drift":"","run_period":"1970-01-01 00:10:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"weekly","sys_updated_on":"2021-03-09 23:14:02","sys_class_name":"sysauto_script","sys_id":"f7121cc55b531010d033d82d9681c746","sys_updated_by":"admin","sys_created_on":"2020-09-15 00:29:55","run_start":"2020-09-15 00:26:46","sys_name":"Update ServiceNow NLU Supported Languages","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"1","active":"true","time_zone":"","script":"var OPEN_NLU_DRIVER_LANGUAGE_TABLE = 'open_nlu_driver_language';\nvar SERVICE_NOW_NLU_SYS_ID = '64c023c17300330021a044764df6a70e';\n\nvar allLanguages = fetchListOfSupportedLanguages();\nvar currentLanguages = getCurrentListOfSupportedLanguages();\n\nupdateSupportedLanguages(currentLanguages, allLanguages);\n\nfunction updateSupportedLanguages(currentLanguages, allLanguages) {\n    for (var i = 0; i < allLanguages.length; i++) {\n        // insert languages that are not currently supported\n        if (currentLanguages.indexOf(allLanguages[i].language) == -1) {\n            var gr = new GlideRecord(OPEN_NLU_DRIVER_LANGUAGE_TABLE);\n            gr.newRecord();\n            gr.driver = SERVICE_NOW_NLU_SYS_ID;\n            gr.language = allLanguages[i].name;\n            gr.code = allLanguages[i].language;\n            gr.driver_codes = allLanguages[i].language;\n            gr.insert();\n        }\n    }\n}\n\nfunction fetchListOfSupportedLanguages() {\n\tvar response = [];\n\ttry {\n\t\tresponse = JSON.parse(sn_ml.MLServiceUtil.fetchGraphQL('query{NLU{supportedLanguages{name,language}}}'));\n\t\tif (response.data !== null) {\n\t\t\treturn response.data.NLU.supportedLanguages;\n\t\t}\n\t\treturn response;\n\t}\n\tcatch (exception) {\n\t\tgs.error('Error fetching from sn_ml.MLServiceUtil ' + exception);\n\t}\n}\n\nfunction getCurrentListOfSupportedLanguages() {\n    var currentSupportedLanguages = [];\n    var gr = new GlideRecord(OPEN_NLU_DRIVER_LANGUAGE_TABLE);\n    gr.addEncodedQuery('driver=' + SERVICE_NOW_NLU_SYS_ID);\n    gr.query();\n    while (gr.next()) {\n        currentSupportedLanguages.push(gr.getValue('code'));\n    }\n    return currentSupportedLanguages;\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"condition":"true;","sys_update_name":"sysauto_script_f7121cc55b531010d033d82d9681c746","offset_type":"","name":"Update ServiceNow NLU Supported Languages","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2023-03-16 02:34:11","sys_class_name":"sysauto_script","sys_id":"f713cfd2ff212110de37cd6bd53bf14e","sys_updated_by":"admin","sys_created_on":"2023-03-15 15:38:24","run_start":"2018-10-04 22:48:38","sys_name":"IAMSync manage the message queue","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 10:00:00","sys_mod_count":"11","active":"true","time_zone":"","script":"var TABLENAME = \"iamsync_message\";\nvar now = new GlideDateTime();\nvar gr = new GlideRecord(TABLENAME);\ngr.addQuery('queue_expiration', '<', now ).addOrCondition('state','ack').addOrCondition('state','terminated');\ngr.deleteMultiple();\n\n//Moving the message back to ready state if claimed message is not processed in 1 hr. Reason could be instance failure.\nvar gdt = new GlideDateTime();\ngdt.addSeconds(-3600);\ngr = new GlideRecord(TABLENAME);\ngr.addQuery('state', 'claimed' );\ngr.addQuery('claimed', '<', gdt );\ngr.setValue('state', 'nack');\ngr.updateMultiple();\n\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0954e3bb04312210559073c06a02f758","value":"0954e3bb04312210559073c06a02f758"},"condition":"","sys_update_name":"sysauto_script_f713cfd2ff212110de37cd6bd53bf14e","offset_type":"0","name":"IAMSync manage the message queue","max_drift":"","run_period":"1970-01-01 01:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2017-01-25 03:00:00","sys_class_name":"sysauto_script","sys_id":"f83f1af8c760320003fa9c569b97634b","sys_updated_by":"admin","sys_created_on":"2017-01-25 01:00:00","run_start":"2017-01-01 22:05:05","sys_name":"MIDUserConnectivity","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"2","active":"true","time_zone":"","script":"// Launch periodic job 4 hours in the future (passing configured delay in milliseconds and debugLevel flag setting)\nnew MIDUserConnectivity(0).checkConnectivity(4 *  (60 * 60 * 1000));\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/42b8273704f12210559073c06a02f78d","value":"42b8273704f12210559073c06a02f78d"},"condition":"","sys_update_name":"sysauto_script_f83f1af8c760320003fa9c569b97634b","offset_type":"0","name":"MIDUserConnectivity","max_drift":"","run_period":"1970-01-01 04:00:00","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2021-08-09 13:30:51","sys_class_name":"sysauto_script","sys_id":"f8ee0c765b313010b0703a543381c7f5","sys_updated_by":"admin","sys_created_on":"2021-08-09 13:30:51","run_start":"2021-08-09 13:30:08","sys_name":"PA HSQLFileTimeStampModifier","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"0","active":"true","time_zone":"","script":"SNC.HSQLFileTimeStampModifier.modifyFileTimestamp();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/539a23bf04f12210559073c06a02f7aa","value":"539a23bf04f12210559073c06a02f7aa"},"condition":"\n\t\t\t gs.getProperty(\"com.snc.pa.dc.hsql\", \"false\") == \"true\";","sys_update_name":"sysauto_script_f8ee0c765b313010b0703a543381c7f5","offset_type":"0","name":"PA HSQLFileTimeStampModifier","max_drift":"","run_period":"1970-01-01 01:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2024-04-08 16:59:42","sys_class_name":"sysauto_script","sys_id":"f96bfe9417743110b99cd70bad595140","sys_updated_by":"now.midserver","sys_created_on":"2023-08-17 23:21:52","run_start":"2023-08-17 23:20:53","sys_name":"MID Secure Audit Log Cleanup","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"now.midserver","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"2","active":"true","time_zone":"","script":"(function() {\n\tvar updateEccEntryOlderThanDays = 1;\n\n\tupdateEccEntries(updateEccEntryOlderThanDays);\n\n\tvar audit_result, source_type, source, mid_server, topic;\n\tvar min_create_time, max_update_time, count;\n\tvar dup_rec_sys_ids = [];\n\tvar sorted_audit_records;\n\tdeduplicateRecords();\n\n\tfunction deduplicateRecords() {\n\t\tsorted_audit_records = new GlideAggregate(\"ecc_agent_secure_access_audit_log\");\n\t\tsorted_audit_records.addQuery(\"source_type\", \"!=\", \"ecc_queue\");\n\t\tsorted_audit_records.groupBy(\"audit_result\");\n\t\tsorted_audit_records.groupBy(\"source_type\");\n\t\tsorted_audit_records.groupBy(\"source\");\n\t\tsorted_audit_records.groupBy(\"topic\");\n\t\tsorted_audit_records.groupBy(\"mid_server\");\n\t\tsorted_audit_records.groupBy(\"sys_id\");\n\t\tsorted_audit_records.groupBy(\"sys_created_on\");\n\t\tsorted_audit_records.groupBy(\"sys_updated_on\");\n\t\tsorted_audit_records.groupBy(\"count\");\n\t\tsorted_audit_records.query();\n\n\t\twhile (sorted_audit_records.next()) {\n\t\t\tif(audit_result != sorted_audit_records.audit_result || source_type != sorted_audit_records.source_type || source != sorted_audit_records.source || mid_server != sorted_audit_records.mid_server || topic != sorted_audit_records.topic)\n\t\t\t\thandleDuplicateEntries();\n\n\t\t\tdup_rec_sys_ids.push(sorted_audit_records.getValue(\"sys_id\"));\n\n\t\t\tvar create_time = new GlideDateTime(sorted_audit_records.sys_created_on);\n\t\t\tif(min_create_time.after(create_time))\n\t\t\t\tmin_create_time = create_time;\n\n\t\t\tvar update_time = new GlideDateTime(sorted_audit_records.sys_updated_on);\n\t\t\tif(max_update_time.before(update_time))\n\t\t\t\tmax_update_time = create_time;\n\n\t\t\tcount = count + sorted_audit_records.count;\n\t\t}\n\n\t\thandleDuplicateEntries();\n\t}\n\n\tfunction handleDuplicateEntries() {\n\t\tif (dup_rec_sys_ids.length > 1) {\n\t\t\tupdateSingleRecord(dup_rec_sys_ids.pop(), min_create_time, max_update_time);\n\t\t\tdeleteRecordsWithSysIds(dup_rec_sys_ids);\n\t\t}\n\n\t\taudit_result = sorted_audit_records.getValue(\"audit_result\");\n\t\tsource_type = sorted_audit_records.getValue(\"source_type\");\n\t\tsource = sorted_audit_records.getValue(\"source\");\n\t\tmid_server = sorted_audit_records.getValue(\"mid_server\");\n\t\ttopic = sorted_audit_records.getValue(\"topic\");\n\t\tdup_rec_sys_ids = [];\n\t\tmin_create_time = new GlideDateTime(sorted_audit_records.sys_created_on);\n\t\tmax_update_time = new GlideDateTime(sorted_audit_records.sys_updated_on);\n\t\tcount = 0;\n\t}\n\n\tfunction updateSingleRecord(sys_id, create_time, update_time) {\n\t\tvar updateRec = new GlideRecord(\"ecc_agent_secure_access_audit_log\");\n\t\tupdateRec.get('sys_id', sys_id);\n\t\tupdateRec.autoSysFields(false);\n\t\tupdateRec.setWorkflow(false);\n\t\tupdateRec.sys_created_on = create_time;\n\t\tupdateRec.sys_updated_on = update_time;\n\t\tupdateRec.count = count;\n\t\tupdateRec.update();\n\t}\n\n\tfunction deleteRecordsWithSysIds(sys_id_list) {\n\t\tvar deleteRec = new GlideRecord(\"ecc_agent_secure_access_audit_log\");\n\t\tdeleteRec.addQuery(\"sys_id\", \"IN\", sys_id_list.join(\",\"));\n\t\tdeleteRec.deleteMultiple();\n\t}\n\n\tfunction updateEccEntries(noOfDays) {\n\t\tvar daysAgo = new GlideDateTime();\n\t\tdaysAgo.addDays(noOfDays * -1);\n\t\tvar gr = new GlideRecord('ecc_agent_secure_access_audit_log');\n\t\tgr.addQuery('source_type','ecc_queue');\n\t\tgr.addQuery('sys_updated_on','<',daysAgo.getValue());\n\t\tgr.setValue('source_type','none');\n\t\tgr.setValue('source','');\n\t\tgr.updateMultiple();\n\t}\n})();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/42b8273704f12210559073c06a02f78d","value":"42b8273704f12210559073c06a02f78d"},"condition":"","sys_update_name":"sysauto_script_f96bfe9417743110b99cd70bad595140","offset_type":"0","name":"MID Secure Audit Log Cleanup","max_drift":"","run_period":"1970-01-01 02:00:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/maint","value":"maint"},"run_type":"on_demand","sys_updated_on":"2018-07-19 21:26:38","sys_class_name":"sysauto_script","sys_id":"fa6269575313130049d5ddeeff7b1280","sys_updated_by":"maint","sys_created_on":"2018-07-19 21:20:51","run_start":"2018-07-19 21:19:18","sys_name":"Schema Validator - On Demand Validator","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"1","active":"true","time_zone":"","script":"var schemaValidator = new sn_schema_validator.SchemaValidator();\nschemaValidator.validate();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/368d27ff04352210559073c06a02f777","value":"368d27ff04352210559073c06a02f777"},"condition":"","sys_update_name":"sysauto_script_fa6269575313130049d5ddeeff7b1280","offset_type":"","name":"Schema Validator - On Demand Validator","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"weekly","sys_updated_on":"2023-06-08 17:59:26","sys_class_name":"sysauto_script","sys_id":"fb9d0d35ebd36110e4aaf288b552280f","sys_updated_by":"admin","sys_created_on":"2023-06-08 17:59:26","run_start":"2023-06-08 17:37:55","sys_name":"ML Update Inactive Solution Cleanup","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1969-12-31 18:30:00","sys_mod_count":"0","active":"true","time_zone":"","script":"var grClusterModel = new GlideRecord(\"ml_update_set\");\ngrClusterModel.addQuery(\"solution.active\", false);\ngrClusterModel.query();\nwhile (grClusterModel.next()) {\n    gs.info(\"Deleting ML Update Set: \" + grClusterModel.getUniqueValue() + \" for solution: \" + grClusterModel.solution.solution_name + \" with version:\" + grClusterModel.solution.version);\n    grClusterModel.deleteRecord();\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"condition":"","sys_update_name":"sysauto_script_fb9d0d35ebd36110e4aaf288b552280f","offset_type":"0","name":"ML Update Inactive Solution Cleanup","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2020-04-16 00:27:44","sys_class_name":"sysauto_script","sys_id":"fba0ad4073101010ee4dd3c72bf6a79c","sys_updated_by":"admin","sys_created_on":"2020-04-16 00:27:44","run_start":"2020-03-24 04:55:37","sys_name":"Calculate App Services Missing Data","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"SNC.CSDMReportProcessor.processAppServicesMissingData();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2f8d67ff04352210559073c06a02f74f","value":"2f8d67ff04352210559073c06a02f74f"},"condition":"","sys_update_name":"sysauto_script_fba0ad4073101010ee4dd3c72bf6a79c","offset_type":"","name":"Calculate App Services Missing Data","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":"","run_type":"daily","sys_updated_on":"2022-08-26 16:50:51","sys_class_name":"sysauto_script","sys_id":"fc4f542b77d11110a956b9999a5a9938","sys_updated_by":"admin","sys_created_on":"2022-08-19 18:28:10","run_start":"2022-08-19 18:28:01","sys_name":"Refresh access for all apps","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1e95bac2738f001001b566b90ff6a7cd","value":"1e95bac2738f001001b566b90ff6a7cd"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"14","active":"true","time_zone":"","script":"var accessManagement = new sn_employee.ep_AccessManagement();\naccessManagement.refreshAccessForAllApps();\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1e95bac2738f001001b566b90ff6a7cd","value":"1e95bac2738f001001b566b90ff6a7cd"},"condition":"","sys_update_name":"sysauto_script_fc4f542b77d11110a956b9999a5a9938","offset_type":"0","name":"Refresh access for all apps","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":"","run_type":"daily","sys_updated_on":"2024-03-14 21:50:16","sys_class_name":"sysauto_script","sys_id":"fcd3f74dff1b7110684fffffffffffb7","sys_updated_by":"system","sys_created_on":"2023-12-22 18:00:40","run_start":"2023-12-22 17:59:48","sys_name":"MIF Sync Up Job","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/47401582b7a6b9501e8f827b9e11a913","value":"47401582b7a6b9501e8f827b9e11a913"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"22","active":"true","time_zone":"","script":"var profile = sn_mif.MIFBase.getKaaProfile();\nvar correlationId = gs.generateGUID();\n\nsn_mif.MIFLogContext.executeWithContext(profile.instanceId, profile.customer, correlationId, () => {\n    if (MIFBase.isJobEligibleToRun(\"MIF Sync Up Job: \", profile))\n        MIFRetryManager.runSyncUp(correlationId);\n});\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/47401582b7a6b9501e8f827b9e11a913","value":"47401582b7a6b9501e8f827b9e11a913"},"condition":"","sys_update_name":"sysauto_script_fcd3f74dff1b7110684fffffffffffb7","offset_type":"0","name":"MIF Sync Up Job","max_drift":"1970-01-01 12:00:00","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"weekly","sys_updated_on":"2025-07-14 07:00:04","sys_class_name":"cert_audit","sys_id":"fd030171dfa0010068c37a0d3df263c7","sys_updated_by":"admin","sys_created_on":"2013-04-07 20:40:59","run_start":"2013-04-07 20:38:13","sys_name":"Critical Business Services","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"13","active":"true","time_zone":"","script":"new SNC.CertificationProcessing().runAudit(current.sys_id, current.template.filter.sys_id, current.template.sys_id);","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e457afbb04b12210559073c06a02f744","value":"e457afbb04b12210559073c06a02f744"},"condition":"","sys_update_name":"cert_audit_fd030171dfa0010068c37a0d3df263c7","offset_type":"","name":"Critical Business Services","max_drift":"","run_period":"","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":"","run_type":"periodically","sys_updated_on":"2022-08-09 17:14:30","sys_class_name":"sysauto_script","sys_id":"fd6de0d0c7111110967a34c91dc260b4","sys_updated_by":"admin","sys_created_on":"2022-08-09 17:14:30","run_start":"2022-08-09 17:09:33","sys_name":"Generate Virtual Agent Email Notifications","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"sn_cs.VASystemObject.generateEmailNotifications();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"condition":"sn_cs.VASystemObject.shouldSendEmailNotifications();","sys_update_name":"sysauto_script_fd6de0d0c7111110967a34c91dc260b4","offset_type":"0","name":"Generate Virtual Agent Email Notifications","max_drift":"","run_period":"1970-01-01 00:15:00","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"weekly","sys_updated_on":"2022-04-05 22:32:53","sys_class_name":"sysauto_script","sys_id":"fe6668f35baa01101e2bcf888581c739","sys_updated_by":"admin","sys_created_on":"2022-04-05 20:46:23","run_start":"2022-04-05 20:45:06","sys_name":"Reconcile Topic Control Usage for LUA","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 08:00:00","sys_mod_count":"0","active":"true","time_zone":"","script":"function getPublishedTopics() {\n    var gr = new GlideRecord('sys_cs_topic');\n    gr.addQuery('name', 'NOT LIKE', '_PRVW__%');\n    gr.query();\n    var topics = {};\n    while (gr.next()) {\n        topics[gr.getValue('sys_id')] = {\n            cb_topic_id: gr.getValue('cb_topic_id'),\n            cs_topic_id: gr.getValue('sys_id'),\n            graph: gr.cb_topic_id.graph.toString()\n        };\n    }\n    return topics;\n}\n\nfunction getTopicsWithDesignGraph(publishedTopics) {\n    var gr = new GlideRecord('sys_cb_design_topic');\n    gr.addQuery('compiled_topic', 'IN', Object.keys(publishedTopics));\n    gr.addNotNullQuery('graph');\n    gr.query();\n    var topics = {};\n    while (gr.next()) {\n        topics[gr.getValue('compiled_topic')] = {\n            graph: gr.graph.toString(),\n            cs_topic_id: gr.getValue('compiled_topic')\n        };\n    }\n    return topics;\n}\n\nfunction getTopicsWithoutDesignGraph(publishedTopics, topicsWithDesignGraph) {\n    var topics = [];\n    var key;\n    var topic;\n    for (key in publishedTopics) {\n        topic = publishedTopics[key];\n        if (topicsWithDesignGraph.indexOf(key) === -1) {\n            topics.push(topic);\n        }\n    }\n    return topics;\n}\n\nvar util = new TopicControlUsageUtil();\nvar publishedTopics = getPublishedTopics();\nvar topicsWithDesignGraph = getTopicsWithDesignGraph(publishedTopics);\nvar topicsWithoutDesignGraph = getTopicsWithoutDesignGraph(publishedTopics, Object.keys(topicsWithDesignGraph));\n\n// process topics with graphs in sys_cb_design_topic\nObject.keys(topicsWithDesignGraph).forEach(function(topicId) {\n    var topic = topicsWithDesignGraph[topicId];\n    util.processGraph(topic.graph, topic.cs_topic_id, true /*overwrite*/);\n});\n\n// process topics with graphs in sys_cb_topic\ntopicsWithoutDesignGraph.forEach(function(topic) {\n    util.processGraph(topic.graph, topic.cs_topic_id, true /*overwrite*/);\n});","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"condition":"","sys_update_name":"sysauto_script_fe6668f35baa01101e2bcf888581c739","offset_type":"0","name":"Reconcile Topic Control Usage for LUA","max_drift":"","run_period":"","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2019-11-06 23:58:05","sys_class_name":"sysauto_script","sys_id":"fe8fbdaf73300010952d31d7caf6a740","sys_updated_by":"admin","sys_created_on":"2019-11-05 00:01:32","run_start":"2009-01-04 06:42:22","sys_name":"Scripted Import Set Deleter","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 09:00:00","sys_mod_count":"3","active":"true","time_zone":"","script":"var ic = new ImportSetCleaner();\n// delete import sets and their related import set rows\n// that were created more than or equal to 7 days ago\nic.setDaysAgo(7);\nic.cleanScriptedImportSetTables();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7783a3f304312210559073c06a02f7ce","value":"7783a3f304312210559073c06a02f7ce"},"condition":"","sys_update_name":"sysauto_script_fe8fbdaf73300010952d31d7caf6a740","offset_type":"0","name":"Scripted Import Set Deleter","max_drift":"","run_period":"","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2016-12-06 15:59:02","sys_class_name":"sysauto_script","sys_id":"ff1681dcd76322005aed4ebfae6103e4","sys_updated_by":"admin","sys_created_on":"2016-12-03 09:16:09","run_start":"2016-12-02 14:30:02","sys_name":"[Reporting] Import Tables notification close to expire","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 02:00:00","sys_mod_count":"9","active":"true","time_zone":"","script":"//read the import tables that expires in 2 or 1 days and send an event (for sending an email)\nvar event = 'report.import.expire_on_date.notify';\n\nvar gr = new GlideRecord('sys_report_import_table');\ngr.addQuery('active','true');\nvar qc2 = gr.addQuery('expire_on_date', gs.daysAgo(-2)); // 2 days\nqc2.addOrCondition('expire_on_date', gs.daysAgo(-1)); // 1 days\ngr.query();\nwhile(gr.next()){\n\t// raise an event to send the email\n    gs.eventQueue(event, gr, gr.getValue('created_by_user'));\n\tgs.print('Reporting - Import Tables notification close to expire with sys_id' + gr.sys_id);\n}\n","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b535677304712210559073c06a02f751","value":"b535677304712210559073c06a02f751"},"condition":"// is there any temporary table that  expires in 2 or 1 days?\nvar ga = new GlideAggregate('sys_report_import_table');\nga.addAggregate('COUNT');\nga.addQuery('active','true');\nvar qc2 = ga.addQuery('expire_on_date', gs.daysAgo(-2)); // 2 days\nqc2.addOrCondition('expire_on_date', gs.daysAgo(-1)); // 1 days\nga.query();\nga.next();\nga.getAggregate('COUNT') !== '0'","sys_update_name":"sysauto_script_ff1681dcd76322005aed4ebfae6103e4","offset_type":"0","name":"[Reporting] Import Tables notification close to expire","max_drift":"","run_period":"","sys_policy":""},{"conditional":"true","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"periodically","sys_updated_on":"2021-02-08 04:28:17","sys_class_name":"sysauto_script","sys_id":"ff565be6773120105d7b3882a9106165","sys_updated_by":"admin","sys_created_on":"2021-01-22 13:15:31","run_start":"2020-12-31 18:30:00","sys_name":"Timeout unprocessed CCIF Messages with message order true","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 00:00:00","sys_mod_count":"24","active":"true","time_zone":"floating","script":"\nvar INTERACTIVE_FDIH_SEND_MESSAGE = gs.getProperty('com.glide.cs.fdih.sendmessage.timeout') || 10; // seconds\nvar longRunningTimeoutThreshold = new GlideDateTime();\nlongRunningTimeoutThreshold.addSeconds(-1 * INTERACTIVE_FDIH_SEND_MESSAGE);\nvar timeOutValue = longRunningTimeoutThreshold.getValue();\nvar gr = new GlideRecord('sys_cs_ca_message');\ngr.addQuery('status', 'processing');\ngr.query();\nwhile (gr.next()) {\n  if (new GlideDateTime(gr.sys_created_on).getValue() <  timeOutValue) {\n\tgs.info(\"Timeout unprocessed VA CCIF Messages: \" + gr.getValue(\"execution_context\"));\n\tsn_cs.VASystemObject.processCustomAdapterFDIHResponseMessage(gr.getValue(\"execution_context\"), \"ERROR\");\n  }\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9cc37b3704b52210559073c06a02f781","value":"9cc37b3704b52210559073c06a02f781"},"condition":"answer = false;\nvar gr = new GlideRecord('sys_cs_provider');\ngr.addQuery('message_order', true);\ngr.query();\nif (gr.next()) {\n    answer = true;\n}","sys_update_name":"sysauto_script_ff565be6773120105d7b3882a9106165","offset_type":"","name":"Timeout unprocessed CCIF Messages with message order true","max_drift":"","run_period":"1970-01-01 00:00:10","sys_policy":""},{"conditional":"false","business_calendar":"","entered_time":"1970-01-01 00:00:00","run_as_tz":"","run_as":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user/6816f79cc0a8016401c5a33be04be441","value":"6816f79cc0a8016401c5a33be04be441"},"run_type":"daily","sys_updated_on":"2023-10-24 22:52:41","sys_class_name":"sysauto_script","sys_id":"ffaecf76ff960110456d766cf43bf13d","sys_updated_by":"admin","sys_created_on":"2022-03-21 20:10:38","run_start":"2021-01-29 23:41:35","sys_name":"CMDB Data Manager Delete Related Entry Policy Processor","run_dayofmonth":"1","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"run_dayofweek":"1","sys_created_by":"admin","upgrade_safe":"false","offset":"","run_time":"1970-01-01 11:00:00","sys_mod_count":"1","active":"true","time_zone":"","script":"SNC.CMDBDataManagerScriptableApis.executeRelatedEntryDeletePolicies();","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"condition":"","sys_update_name":"sysauto_script_ffaecf76ff960110456d766cf43bf13d","offset_type":"0","name":"CMDB Data Manager Delete Related Entry Policy Processor","max_drift":"","run_period":"","sys_policy":""}]}