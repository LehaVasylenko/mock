{"result":[{"expert":{"link":"https://dev315171.service-now.com/api/now/v1/table/expert/0eace47cbf1211003f07e2c1ac07396c","value":"0eace47cbf1211003f07e2c1ac07396c"},"isolate_script":"false","applies_extended":"false","description":"","global":"true","sys_updated_on":"2014-01-27 10:13:19","type":"onChange","sys_class_name":"expert_script_client","sys_id":"34025c5dbf2211003f07e2c1ac0739ed","ui_type":"0","view":"","sys_updated_by":"admin","sys_created_on":"2014-01-27 10:06:07","expert_panel":{"link":"https://dev315171.service-now.com/api/now/v1/table/expert_panel/54ffa87cbf1211003f07e2c1ac073905","value":"54ffa87cbf1211003f07e2c1ac073905"},"expert_panel_variable":"39a2bc7cbf1211003f07e2c1ac073952","sys_domain":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user_group/global","value":"global"},"sys_name":"Set name","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","table":"","order":"","sys_mod_count":"5","active":"true","sys_overrides":"","sys_domain_path":"","sys_tags":"","script":"function onChange(control, oldValue, newValue, isLoading) {\n\tvar groupName = gel(\"sys_display.IO:39a2bc7cbf1211003f07e2c1ac073952\").value;\n\t\n\t// give the schedule a name that is the same as the group name\n\tif((newValue != \"\" && g_form.getValue(\"name\") == \"\")) {\n\t\tg_form.setValue(\"name\", groupName);\n\t}\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"condition":"","sys_update_name":"expert_script_client_34025c5dbf2211003f07e2c1ac0739ed","field":"","name":"Set name","messages":"","sys_policy":""},{"expert":{"link":"https://dev315171.service-now.com/api/now/v1/table/expert/0eace47cbf1211003f07e2c1ac07396c","value":"0eace47cbf1211003f07e2c1ac07396c"},"isolate_script":"true","applies_extended":"false","description":"","global":"true","sys_updated_on":"2018-10-17 03:08:36","type":"onLoad","sys_class_name":"expert_script_client","sys_id":"34ab549073c92300cbb654eb7df6a72a","ui_type":"0","view":"","sys_updated_by":"admin","sys_created_on":"2018-10-05 08:20:57","expert_panel":{"link":"https://dev315171.service-now.com/api/now/v1/table/expert_panel/db0148d873892300cbb654eb7df6a78f","value":"db0148d873892300cbb654eb7df6a78f"},"expert_panel_variable":"","sys_domain":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user_group/global","value":"global"},"sys_name":"Load Group Preference Form","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","table":"","order":"","sys_mod_count":"26","active":"true","sys_overrides":"","sys_domain_path":"","sys_tags":"","script":"function onLoad() {\n    showLoadingDialog();\n\n    hideGroupField();\n\n    //this fields are needed to be carry over values to and from next and previous panels\n    g_form.setDisplay('group_preferences_modified', false);\n    g_form.setDisplay('rota_managers', false);\n    g_form.setDisplay('pto_approval_config', false);\n    g_form.setDisplay('allow_rota_overlap', false);\n    g_form.setDisplay('escalation_rule_rota_overlap', false);\n\n    var groupPrefGr = new GlideRecord('on_call_group_preference');\n    groupPrefGr.addQuery('group', g_form.getValue('group') + \"\");\n    groupPrefGr.query(function(gr) {\n        var groupPreferenceSysId;\n        if (gr.next())\n            groupPreferenceSysId = gr.sys_id + \"\";\n        else\n            groupPreferenceSysId = \"-1\";\n\n        var iframe = gel('on-call-group-preference');\n        var params = {};\n        params.sys_id = groupPreferenceSysId;\n        params.sysparm_stack = 'no';\n        params.sysparm_link_less = true;\n        params.sysparm_titleless = true;\n        params.sysparm_view = 'on_call_wizard';\n        params.sysparm_view_forced = true;\n        params.sysparm_goto_url = '$on_call_form_saved.do';\n        iframe.setAttribute('src', '/on_call_group_preference.do?' + convertObjectToUrlParams(params));\n\n        hideLoadingDialog();\n    });\n\n}\n\nfunction hideGroupField() {\n    //this field is needed to be carried over from the previous panel\n    //but we don't want it to be visible\n    g_form.setDisplay('group', false);\n}\n\nfunction convertObjectToUrlParams(obj) {\n    return Object.keys(obj).map(function(k) {\n        return encodeURIComponent(k) + \"=\" + encodeURIComponent(obj[k]);\n    }).join('&');\n}\n\nfunction hideLoadingDialog() {\n    loadingDialog.destroy();\n}\n\nfunction showLoadingDialog() {\n    var dialogClass = window.GlideModal ? GlideModal : GlideDialogWindow;\n    loadingDialog = new dialogClass(\"dialog_loading\", true, 300);\n    loadingDialog.setPreference('table', 'loading');\n    loadingDialog.render();\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"condition":"","sys_update_name":"expert_script_client_34ab549073c92300cbb654eb7df6a72a","field":"","name":"Load Group Preference Form","messages":"","sys_policy":""},{"expert":{"link":"https://dev315171.service-now.com/api/now/v1/table/expert/0eace47cbf1211003f07e2c1ac07396c","value":"0eace47cbf1211003f07e2c1ac07396c"},"isolate_script":"false","applies_extended":"false","description":"","global":"true","sys_updated_on":"2014-01-22 12:27:17","type":"onLoad","sys_class_name":"expert_script_client","sys_id":"38d247a3bf1211003f07e2c1ac0739fb","ui_type":"0","view":"","sys_updated_by":"admin","sys_created_on":"2014-01-22 12:27:17","expert_panel":{"link":"https://dev315171.service-now.com/api/now/v1/table/expert_panel/f940a615bf1211003f07e2c1ac073954","value":"f940a615bf1211003f07e2c1ac073954"},"expert_panel_variable":"","sys_domain":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user_group/global","value":"global"},"sys_name":"Show or hide variables","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","table":"","order":"","sys_mod_count":"0","active":"true","sys_overrides":"","sys_domain_path":"","sys_tags":"","script":"function onLoad() {\n\tg_form.setVisible(\"group\", false);\n\thideShiftEnd();\n}\n\nfunction hideShiftEnd() {\n\t// get the value of the all_day shift variable and hide the shift_end datetime field\n\t// if the user has selected Yes for the all_day shift variable\n\tvar notAllDay = (g_form.getValue(\"all_day\") == \"No\");\n\tg_form.setVisible(\"shift_end\", notAllDay);\n\tg_form.setMandatory(\"shift_end\", notAllDay);\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"condition":"","sys_update_name":"expert_script_client_38d247a3bf1211003f07e2c1ac0739fb","field":"","name":"Show or hide variables","messages":"","sys_policy":""},{"expert":{"link":"https://dev315171.service-now.com/api/now/v1/table/expert/0eace47cbf1211003f07e2c1ac07396c","value":"0eace47cbf1211003f07e2c1ac07396c"},"isolate_script":"true","applies_extended":"false","description":"","global":"true","sys_updated_on":"2018-10-08 08:31:53","type":"onChange","sys_class_name":"expert_script_client","sys_id":"412bbf45730d2300cbb654eb7df6a780","ui_type":"0","view":"","sys_updated_by":"admin","sys_created_on":"2018-10-08 08:31:53","expert_panel":{"link":"https://dev315171.service-now.com/api/now/v1/table/expert_panel/519b28e4d7600300532c24837e6103b7","value":"519b28e4d7600300532c24837e6103b7"},"expert_panel_variable":"d487f705730d2300cbb654eb7df6a7c8","sys_domain":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user_group/global","value":"global"},"sys_name":"Hide Reminder lead time","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","table":"","order":"","sys_mod_count":"0","active":"true","sys_overrides":"","sys_domain_path":"","sys_tags":"","script":"function onChange(control, oldValue, newValue, isLoading) {\n\tg_form.setDisplay('reminder_lead_time', newValue);\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"condition":"","sys_update_name":"expert_script_client_412bbf45730d2300cbb654eb7df6a780","field":"","name":"Hide Reminder lead time","messages":"","sys_policy":""},{"expert":{"link":"https://dev315171.service-now.com/api/now/v1/table/expert/0eace47cbf1211003f07e2c1ac07396c","value":"0eace47cbf1211003f07e2c1ac07396c"},"isolate_script":"false","applies_extended":"false","description":"","global":"true","sys_updated_on":"2018-10-04 11:24:03","type":"onLoad","sys_class_name":"expert_script_client","sys_id":"47c3c947bf1211003f07e2c1ac073900","ui_type":"0","view":"","sys_updated_by":"admin","sys_created_on":"2014-01-20 13:58:08","expert_panel":{"link":"https://dev315171.service-now.com/api/now/v1/table/expert_panel/8602a611eb121100eac006a2f206fec9","value":"8602a611eb121100eac006a2f206fec9"},"expert_panel_variable":"","sys_domain":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user_group/global","value":"global"},"sys_name":"Load members and hide elements","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","table":"","order":"","sys_mod_count":"23","active":"true","sys_overrides":"","sys_domain_path":"","sys_tags":"","script":"function onLoad() {\n    //hide the variable group from the form, it should\n    //only show on the first panel\n    hideGroupField();\n\n    //hide text under list collector, unneccesary now\n    //the filters have been removed.\n    hideFilterMessage();\n\n    g_form.setValue('rotation_interval_type', 'weekly');\n    g_form.setValue('rotation_interval_count', 1);\n    g_form.setValue('dow_for_rotate', '');\n\n    //Apply a default filter to the list collector variable\n    var group = g_form.getValue('group');\n    var collectorName = 'members';\n\n    //fires of a query which when returns will\n    //call handleQueryResponse\n    gatherMembers(group);\n    \n\t//Hide the list collector until we've set the filter\n    g_form.setDisplay(collectorName, false);\n\n    function hideGroupField() {\n        //this field is needed to be carried over from the previous panel\n        //but we don't want it to be visible\n        g_form.setDisplay('group',false);\n    }\n\n    function hideFilterMessage() {\n        //Warning! This won't work if the id changes! Which it might do in upcoming UI change.\n        //however, children position in document tree in relation to each other might also\n        //change.\n        document.getElementById('members_select_0_add_remove_message_table').style.display = \"none\";\n    }\n\n    function gatherMembers(group) {\n        //comma separated list of sysids belonging to members\n        var members = new GlideRecord('sys_user_grmember');\n        members.addQuery('group', group);\n        members.addQuery('user.active', true);\n        members.query(handleQueryResponse);\n    }\n\n    function handleQueryResponse(rec) {\n        //will be called when the async request to\n        //glide returns the records\n        var sysids = '';\n        while(rec.next()) {\n            sysids += (rec.user + ',');\n        }\n        var filterString = 'sys_idIN' + sysids;\n\n        setCollectorFilter(filterString);\n    }\n\n    function setCollectorFilter(filterString){\n        //Test if the g_filter property is defined on our list collector.\n        //If it hasn't rendered yet, wait 100ms and try again.\n        if (eval('typeof(' + collectorName + 'g_filter)') == 'undefined' ) {\n            setTimeout(setCollectorFilter, 100);\n            return;\n        }\n\n        //Find and hide the filters\n        hideFilters();\n\n        //Reset the filter query\n        eval(collectorName + 'g_filter.reset()');\n        eval(collectorName + 'g_filter.setQuery(\"' + filterString + '\")');\n        eval(collectorName + 'acRequest(null)');\n\n        //Redisplay the list collector variable\n        g_form.setDisplay(collectorName, true);\n    }\n}\n\nfunction hideFilters() {\n\tvar fil = document.querySelector(\".list_name > .container\");\n\tvar rows = fil.getElementsByTagName(\"tr\");\n\tfor (var i = 0; i < rows.length; i++) {\n\t\tif(rows[i].id.indexOf(\"filter\") > 0)\n\t\t\trows[i].style.display = 'none';\n\t}\n\t\n\tvar divs = fil.getElementsByTagName(\"div\");\n\tfor (i = 0; i < divs.length; i++) {\n\t\tif(divs[i].id.indexOf(\"filter\") > 0)\n\t\t\tdivs[i].style.display = 'none';\n\t}\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"condition":"","sys_update_name":"expert_script_client_47c3c947bf1211003f07e2c1ac073900","field":"","name":"Load members and hide elements","messages":"","sys_policy":""},{"expert":{"link":"https://dev315171.service-now.com/api/now/v1/table/expert/0eace47cbf1211003f07e2c1ac07396c","value":"0eace47cbf1211003f07e2c1ac07396c"},"isolate_script":"true","applies_extended":"false","description":"","global":"true","sys_updated_on":"2018-10-05 06:10:36","type":"onChange","sys_class_name":"expert_script_client","sys_id":"4874f56373f82300cbb654eb7df6a72f","ui_type":"0","view":"","sys_updated_by":"admin","sys_created_on":"2018-10-03 06:59:52","expert_panel":{"link":"https://dev315171.service-now.com/api/now/v1/table/expert_panel/8602a611eb121100eac006a2f206fec9","value":"8602a611eb121100eac006a2f206fec9"},"expert_panel_variable":"a9b2e611eb121100eac006a2f206fe90","sys_domain":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user_group/global","value":"global"},"sys_name":"Set Escalation Type","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","table":"","order":"","sys_mod_count":"9","active":"true","sys_overrides":"","sys_domain_path":"","sys_tags":"","script":"function onChange(control, oldValue, newValue, isLoading) {\n    updateEscalationType(newValue);\n}\n\nfunction updateEscalationType(dutyRotations) {\n    var escaltionTypeEl = gel(\"escalation-type\");\n    if (dutyRotations == 1)\n        getMessage(\"Rotate by members\", function(msg) {\n            escaltionTypeEl.innerText = msg;\n        });\n    else\n        getMessage(\"Rotate by rosters\", function(msg) {\n            escaltionTypeEl.innerText = msg;\n        });\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"condition":"","sys_update_name":"expert_script_client_4874f56373f82300cbb654eb7df6a72f","field":"","name":"Set Escalation Type","messages":"","sys_policy":""},{"expert":{"link":"https://dev315171.service-now.com/api/now/v1/table/expert/0eace47cbf1211003f07e2c1ac07396c","value":"0eace47cbf1211003f07e2c1ac07396c"},"isolate_script":"true","applies_extended":"false","description":"","global":"true","sys_updated_on":"2018-10-17 03:32:39","type":"onSubmit","sys_class_name":"expert_script_client","sys_id":"4add10d073c92300cbb654eb7df6a7ae","ui_type":"0","view":"","sys_updated_by":"admin","sys_created_on":"2018-10-05 08:28:08","expert_panel":{"link":"https://dev315171.service-now.com/api/now/v1/table/expert_panel/db0148d873892300cbb654eb7df6a78f","value":"db0148d873892300cbb654eb7df6a78f"},"expert_panel_variable":"","sys_domain":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user_group/global","value":"global"},"sys_name":"Save On Call Group preference","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","table":"","order":"","sys_mod_count":"31","active":"true","sys_overrides":"","sys_domain_path":"","sys_tags":"","script":"function onSubmit() {\n\tvar iframe = gel('on-call-group-preference');\n\t\n\tif (iframe.contentWindow.location.href.indexOf('on_call_group_preference.do') !=-1 && iframe.contentWindow.g_form) {\n\t\tvar preferencesGform = iframe.contentWindow.g_form;\n\t\tg_form.setValue('group_preferences_modified', preferencesGform.modified + '');\n\t\tif (preferencesGform.modified) {\n\t\t\tg_form.setValue('rota_managers', preferencesGform.getValue('rota_managers'));\n\t\t\tg_form.setValue('pto_approval_config', preferencesGform.getValue('pto_approval_config'));\n\t\t\tg_form.setValue('allow_rota_overlap', preferencesGform.getValue('allow_rota_overlap'));\n\t\t\tg_form.setValue('escalation_rule_rota_overlap', preferencesGform.getValue('escalation_rule_rota_overlap'));\n\t\t}\n\t}\n\t\n\tiframe.remove(); // prevent showing 'leaving page' alert message, on form changes.\n\t\n\treturn true;\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"condition":"","sys_update_name":"expert_script_client_4add10d073c92300cbb654eb7df6a7ae","field":"","name":"Save On Call Group preference","messages":"","sys_policy":""},{"expert":{"link":"https://dev315171.service-now.com/api/now/v1/table/expert/0eace47cbf1211003f07e2c1ac07396c","value":"0eace47cbf1211003f07e2c1ac07396c"},"isolate_script":"false","applies_extended":"false","description":"","global":"true","sys_updated_on":"2019-06-20 11:28:06","type":"onSubmit","sys_class_name":"expert_script_client","sys_id":"617e190bbf1211003f07e2c1ac073992","ui_type":"0","view":"","sys_updated_by":"admin","sys_created_on":"2014-01-20 15:52:07","expert_panel":{"link":"https://dev315171.service-now.com/api/now/v1/table/expert_panel/f940a615bf1211003f07e2c1ac073954","value":"f940a615bf1211003f07e2c1ac073954"},"expert_panel_variable":"","sys_domain":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user_group/global","value":"global"},"sys_name":"Validate Schedule","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","table":"","order":"","sys_mod_count":"2","active":"true","sys_overrides":"","sys_domain_path":"","sys_tags":"","script":"function onSubmit() {\n\t// clear any messages that may have been left there\n\tg_form.clearMessages();\n\t\n\t// we only need to validate the form if the user is moving to the next panel\n\tif (g_form.getActionName() != \"previous\") {\n\t\treturn validateSchedule();\n\t}\n\t\n\treturn true;\n}\n\nfunction validateSchedule() {\n\t// show the loading dialog because we need to make a synchronous ajax call\n\tshowLoadingDialog();\n\t\n\t// call the ValidateSchedule script include with the following parameters\n\tvar ga = new GlideAjax(\"ValidateSchedule\");\n\tga.addParam('sysparm_sched_group', g_form.getValue('group'));\n\t\n\tif (g_form.getValue('existing_schedule') == 'Yes') {\n\t\tga.addParam('sysparm_name', 'isValidExistingSpan');\n\t\tga.addParam('sysparm_sched_type', g_form.getValue('schedule_type'));\n\t} else {\n\t\tga.addParam('sysparm_name', 'isValidNewSpan');\n\t\tga.addParam('sysparm_sched_name', g_form.getValue('new_schedule_name'));\n\t\tga.addParam('sysparm_sched_tz', g_form.getValue('time_zone'));\t\t\n\t\tga.addParam('sysparm_shift_start', g_form.getValue('shift_start'));\n\t\tga.addParam('sysparm_shift_end', g_form.getValue('shift_end'));\n\t\tga.addParam('sysparm_shift_all_day', g_form.getValue('all_day'));\n\t\tga.addParam('sysparm_shift_repeats', g_form.getValue('repeats'));\n\t}\n\t\n\t// make this a synchronous GlideAjax call\n\tga.getXMLWait();\n\thideLoadingDialog();\n\t\n\treturn handleResponse(ga.getAnswer());\n}\n\nfunction handleResponse(response) {\n\t// the reponse will be in the form \"false, error_message\" or \"true\"\n\tvar answer = response.split(\"|||\");\n\n\tif (answer.length >= 2) {\n\t\tg_form.addErrorMessage(answer[1]);\n\t\treturn false;\n\t} else \n\t\treturn true;\n}\n\nfunction hideLoadingDialog() {\n    loadingDialog.destroy();\n}\n\nfunction showLoadingDialog() {\n\tvar dialogClass = window.GlideModal ? GlideModal : GlideDialogWindow;\n\tloadingDialog = new dialogClass(\"dialog_loading\", true, 300);\n    loadingDialog.setPreference('table', 'loading');\n    loadingDialog.render();\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"condition":"","sys_update_name":"expert_script_client_617e190bbf1211003f07e2c1ac073992","field":"","name":"Validate Schedule","messages":"","sys_policy":""},{"expert":{"link":"https://dev315171.service-now.com/api/now/v1/table/expert/0eace47cbf1211003f07e2c1ac07396c","value":"0eace47cbf1211003f07e2c1ac07396c"},"isolate_script":"false","applies_extended":"false","description":"","global":"true","sys_updated_on":"2014-01-15 14:01:16","type":"onChange","sys_class_name":"expert_script_client","sys_id":"952553d9bf1211003f07e2c1ac073979","ui_type":"0","view":"","sys_updated_by":"admin","sys_created_on":"2014-01-15 14:01:16","expert_panel":{"link":"https://dev315171.service-now.com/api/now/v1/table/expert_panel/f940a615bf1211003f07e2c1ac073954","value":"f940a615bf1211003f07e2c1ac073954"},"expert_panel_variable":"870e4399bf1211003f07e2c1ac07396c","sys_domain":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user_group/global","value":"global"},"sys_name":"Set all day shift start","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","table":"","order":"","sys_mod_count":"0","active":"true","sys_overrides":"","sys_domain_path":"","sys_tags":"","script":"function onChange(control, oldValue, newValue, isLoading) {\n\tif (!isLoading) {\n\t\n\t\t// get the value the user has selected for the all_day shift variable\n\t\tvar allDay = (newValue == \"Yes\");\n\t\t\n\t\t// if the shift is all day then set the time component of the shift_start variable\n\t\t// to be 00:00:00 and hide the shift_end field\t\n\t\tif (allDay){\n\t\t\tvar inputFld = gel(\"IO:b5f96a55bf1211003f07e2c1ac073907\");\n\t\t\tvar date = inputFld.value.substring(0, inputFld.value.indexOf(\" \"));\n\t\t\tinputFld.value = date + \" 00:00:00\";\n\t\t\t\n\t\t\tinputFld = gel(\"IO:3f3aaa55bf1211003f07e2c1ac0739d2\");\n\t\t\tinputFld.value = date + \" 23:59:59\";\n\t\t} \n\t\n\t\t// hide or show the shift_end variable depending on the\n\t\t// all_day variable value\n\t\tg_form.setVisible(\"shift_end\", !allDay);\n\t}\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"condition":"","sys_update_name":"expert_script_client_952553d9bf1211003f07e2c1ac073979","field":"","name":"Set all day shift start","messages":"","sys_policy":""},{"expert":{"link":"https://dev315171.service-now.com/api/now/v1/table/expert/0eace47cbf1211003f07e2c1ac07396c","value":"0eace47cbf1211003f07e2c1ac07396c"},"isolate_script":"false","applies_extended":"false","description":"","global":"true","sys_updated_on":"2014-01-16 12:08:50","type":"onLoad","sys_class_name":"expert_script_client","sys_id":"a10508fdbf1211003f07e2c1ac073987","ui_type":"0","view":"","sys_updated_by":"admin","sys_created_on":"2014-01-16 12:08:50","expert_panel":{"link":"https://dev315171.service-now.com/api/now/v1/table/expert_panel/54ffa87cbf1211003f07e2c1ac073905","value":"54ffa87cbf1211003f07e2c1ac073905"},"expert_panel_variable":"","sys_domain":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user_group/global","value":"global"},"sys_name":"Hide group reference icon","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","table":"","order":"","sys_mod_count":"0","active":"true","sys_overrides":"","sys_domain_path":"","sys_tags":"","script":"function onLoad() {\n\t// remove the reference lookup icon next to the group field\n\tgel(\"IO:39a2bc7cbf1211003f07e2c1ac073952LINK\").style.display = \"none\";\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"condition":"","sys_update_name":"expert_script_client_a10508fdbf1211003f07e2c1ac073987","field":"","name":"Hide group reference icon","messages":"","sys_policy":""},{"expert":{"link":"https://dev315171.service-now.com/api/now/v1/table/expert/0eace47cbf1211003f07e2c1ac07396c","value":"0eace47cbf1211003f07e2c1ac07396c"},"isolate_script":"true","applies_extended":"false","description":"","global":"true","sys_updated_on":"2018-10-19 08:00:15","type":"onSubmit","sys_class_name":"expert_script_client","sys_id":"b180f9ef73b82300cbb654eb7df6a7dc","ui_type":"0","view":"","sys_updated_by":"admin","sys_created_on":"2018-10-03 06:37:28","expert_panel":{"link":"https://dev315171.service-now.com/api/now/v1/table/expert_panel/8602a611eb121100eac006a2f206fec9","value":"8602a611eb121100eac006a2f206fec9"},"expert_panel_variable":"","sys_domain":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user_group/global","value":"global"},"sys_name":"Validate Rotations and Escalations","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","table":"","order":"","sys_mod_count":"21","active":"true","sys_overrides":"","sys_domain_path":"","sys_tags":"","script":"function onSubmit() {\n    // clear any messages that may have been left there\n    g_form.clearMessages();\n\n    // we only need to validate the form if the user is moving to the next panel\n    if (g_form.getActionName() != \"previous\")\n        return validateRotation();\n\n    return true;\n}\n\nfunction validateRotation() {\n    showLoadingDialog();\n    var rotationIntervalCountEl = closest(g_form.getElement('rotation_interval_count'), '.form-group');\n    rotationIntervalCountEl.removeClassName('has-error');\n\n    var result = true;\n    var intervalCount = parseInt(g_form.getValue(\"rotation_interval_count\"));\n    if (isNaN(intervalCount) || intervalCount <= 0) {\n        getMessage('\"{0}\" should be greater than zero', function(msg) {\n            var formattedMsg = new GwtMessage().format(msg, g_form.getLabelOf(\"rotation_interval_count\"));\n            g_form.addErrorMessage(formattedMsg);\n            rotationIntervalCountEl.addClassName('has-error');\n        });\n        result = false;\n    }\n    hideLoadingDialog();\n    return result;\n}\n\nfunction closest(el, selector) {\n\tvar matchesFn;\n\n\t// find vendor prefix\n\t['matches', 'webkitMatchesSelector', 'mozMatchesSelector', 'msMatchesSelector', 'oMatchesSelector'].some(function(fn) {\n\t\tif (typeof document.body[fn] == 'function') {\n\t\t\tmatchesFn = fn;\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t});\n\n\tvar parent;\n\n\t// traverse parents\n\twhile (el) {\n\t\tparent = el.parentElement;\n\t\tif (parent && parent[matchesFn](selector)) {\n\t\t\treturn parent;\n\t\t}\n\t\tel = parent;\n\t}\n\n\treturn null;\n}\n\nfunction hideLoadingDialog() {\n    loadingDialog.destroy();\n}\n\nfunction showLoadingDialog() {\n    var dialogClass = window.GlideModal ? GlideModal : GlideDialogWindow;\n    loadingDialog = new dialogClass(\"dialog_loading\", true, 300);\n    loadingDialog.setPreference('table', 'loading');\n    loadingDialog.render();\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"condition":"","sys_update_name":"expert_script_client_b180f9ef73b82300cbb654eb7df6a7dc","field":"","name":"Validate Rotations and Escalations","messages":"","sys_policy":""},{"expert":{"link":"https://dev315171.service-now.com/api/now/v1/table/expert/0eace47cbf1211003f07e2c1ac07396c","value":"0eace47cbf1211003f07e2c1ac07396c"},"isolate_script":"false","applies_extended":"false","description":"","global":"true","sys_updated_on":"2014-01-16 09:57:13","type":"onChange","sys_class_name":"expert_script_client","sys_id":"d4a2d4e9eb121100eac006a2f206fe3d","ui_type":"0","view":"","sys_updated_by":"admin","sys_created_on":"2014-01-15 18:30:51","expert_panel":{"link":"https://dev315171.service-now.com/api/now/v1/table/expert_panel/f940a615bf1211003f07e2c1ac073954","value":"f940a615bf1211003f07e2c1ac073954"},"expert_panel_variable":"c30c6e55bf1211003f07e2c1ac07396e","sys_domain":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user_group/global","value":"global"},"sys_name":"Remove first element from dropdown","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","table":"","order":"","sys_mod_count":"16","active":"true","sys_overrides":"","sys_domain_path":"","sys_tags":"","script":"/*\n * Removes the \"System (TIMEZONE)\" element(s) from the options\n * as the select variable cannot evaluate the javascript \n * expression for the option of value \"NULL_OVERRIDE\"\n */\nfunction onChange(control, oldValue, newValue, isLoading) {\n\tfor (var i = 0; i < control.options.length; i++)\n\t\tif(control.options[i].value == \"NULL_OVERRIDE\")\n\t\t\tcontrol.options[i] = null;\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"condition":"","sys_update_name":"expert_script_client_d4a2d4e9eb121100eac006a2f206fe3d","field":"","name":"Remove first element from dropdown","messages":"","sys_policy":""},{"expert":{"link":"https://dev315171.service-now.com/api/now/v1/table/expert/0eace47cbf1211003f07e2c1ac07396c","value":"0eace47cbf1211003f07e2c1ac07396c"},"isolate_script":"true","applies_extended":"false","description":"","global":"true","sys_updated_on":"2018-10-04 14:27:50","type":"onChange","sys_class_name":"expert_script_client","sys_id":"da162c4473892300cbb654eb7df6a782","ui_type":"0","view":"","sys_updated_by":"admin","sys_created_on":"2018-10-04 14:26:30","expert_panel":{"link":"https://dev315171.service-now.com/api/now/v1/table/expert_panel/8602a611eb121100eac006a2f206fec9","value":"8602a611eb121100eac006a2f206fec9"},"expert_panel_variable":"6c777f3a73b82300cbb654eb7df6a7aa","sys_domain":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user_group/global","value":"global"},"sys_name":"Hide day of week for rotation","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","table":"","order":"","sys_mod_count":"2","active":"true","sys_overrides":"","sys_domain_path":"","sys_tags":"","script":"function onChange(control, oldValue, newValue, isLoading) {\n\tg_form.setDisplay('dow_for_rotate', newValue == 'weekly');\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"condition":"","sys_update_name":"expert_script_client_da162c4473892300cbb654eb7df6a782","field":"","name":"Hide day of week for rotation","messages":"","sys_policy":""},{"expert":{"link":"https://dev315171.service-now.com/api/now/v1/table/expert/0eace47cbf1211003f07e2c1ac07396c","value":"0eace47cbf1211003f07e2c1ac07396c"},"isolate_script":"true","applies_extended":"false","description":"","global":"true","sys_updated_on":"2018-10-19 08:01:59","type":"onSubmit","sys_class_name":"expert_script_client","sys_id":"f5fca4a573012300cbb654eb7df6a73e","ui_type":"0","view":"","sys_updated_by":"admin","sys_created_on":"2018-10-09 06:51:08","expert_panel":{"link":"https://dev315171.service-now.com/api/now/v1/table/expert_panel/519b28e4d7600300532c24837e6103b7","value":"519b28e4d7600300532c24837e6103b7"},"expert_panel_variable":"","sys_domain":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user_group/global","value":"global"},"sys_name":"Validate Notification fields","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","table":"","order":"","sys_mod_count":"8","active":"true","sys_overrides":"","sys_domain_path":"","sys_tags":"","script":"function onSubmit() {\n\t// clear any messages that may have been left there\n\tg_form.clearMessages();\n\n\tvar result = true;\n\tvar sendReminders = g_form.getValue('send_reminders');\n\tvar reminderLeadTime = g_form.getValue('reminder_lead_time');\n\tvar reminderLeadTimeEl = closest(g_form.getElement('reminder_lead_time'), '.form-group');\n\treminderLeadTimeEl.removeClassName('has-error');\n\n\tif (sendReminders == 'false')\n\t\tg_form.setValue('reminder_lead_time', '2'); // reset value\n\n\tif (sendReminders == 'true' && isNaN(reminderLeadTime)) {\n\t\tgetMessage('\"{0}\" should be valid number', function(msg) {\n\t\t\tvar formattedMsg = new GwtMessage().format(msg, g_form.getLabelOf(\"reminder_lead_time\"));\n\t\t\tg_form.addErrorMessage(formattedMsg);\n\t\t\treminderLeadTimeEl.addClassName('has-error');\n\t\t});\n\t\tresult = false;\n\t}\n\n\tvar coverageInterval = g_form.getValue('coverage_interval');\n\tvar coverageIntervalEl = closest(g_form.getElement('coverage_interval'), '.form-group');\n\tcoverageIntervalEl.removeClassName('has-error');\n\tif (isNaN(coverageInterval)) {\n\t\tgetMessage('\"{0}\" should be valid number', function(msg) {\n\t\t\tvar formattedMsg = new GwtMessage().format(msg, g_form.getLabelOf(\"coverage_interval\"));\n\t\t\tg_form.addErrorMessage(formattedMsg);\n\t\t\tcoverageIntervalEl.addClassName('has-error');\n\t\t});\n\t\tresult = false;\n\t}\n\n\treturn result;\n}\n\nfunction closest(el, selector) {\n\tvar matchesFn;\n\n\t// find vendor prefix\n\t['matches', 'webkitMatchesSelector', 'mozMatchesSelector', 'msMatchesSelector', 'oMatchesSelector'].some(function(fn) {\n\t\tif (typeof document.body[fn] == 'function') {\n\t\t\tmatchesFn = fn;\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t});\n\n\tvar parent;\n\n\t// traverse parents\n\twhile (el) {\n\t\tparent = el.parentElement;\n\t\tif (parent && parent[matchesFn](selector)) {\n\t\t\treturn parent;\n\t\t}\n\t\tel = parent;\n\t}\n\n\treturn null;\n}","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"condition":"","sys_update_name":"expert_script_client_f5fca4a573012300cbb654eb7df6a73e","field":"","name":"Validate Notification fields","messages":"","sys_policy":""}]}