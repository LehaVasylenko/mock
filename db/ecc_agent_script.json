{"result":[{"sys_mod_count":"6","active":"true","description":"Enumerate all the properties in the MIDServer instance.","sys_overrides":"","sys_updated_on":"2013-03-15 23:04:03","sys_domain_path":"","sys_tags":"","script":"var config = Packages.com.service_now.mid.services.Config.get();\nvar props = config.getProperties();\nvar prop_enum = props.propertyNames();\nvar prop_vals = [];\nprop_vals.push('MID Server properties:\\n');\n\nwhile (prop_enum.hasMoreElements()) {\n    var prop_name = '' + prop_enum.nextElement();\n    if (prop_name.match(/password/i)) {\n        prop_vals.push(prop_name + ': ********\\n');\n    } else {\n        var prop_value = '' + props.getProperty(prop_name);\n        prop_vals.push(prop_name + ': ' + prop_value + '\\n');\n    }\n}\n\nprop_vals.join('');","sys_class_name":"ecc_agent_script","sys_id":"85c0084ec0a80a390037da936ee78971","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/42b8273704f12210559073c06a02f78d","value":"42b8273704f12210559073c06a02f78d"},"sys_update_name":"ecc_agent_script_85c0084ec0a80a390037da936ee78971","sys_updated_by":"roy.laurie","sys_created_on":"2009-09-04 15:53:51","sys_domain":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user_group/global","value":"global"},"name":"Show MID server properties","sys_name":"Show MID server properties","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"tom.dilatush","order":"200","sys_policy":""},{"sys_mod_count":"11","active":"true","description":"Lists the log files on the MID server, with size and date last modified.","sys_overrides":"","sys_updated_on":"2009-09-05 22:35:36","sys_domain_path":"","sys_tags":"","script":"var sdf = Packages.java.text.SimpleDateFormat('MM/dd/yyyy HH:mm:ss.SSS');\r\nvar log_dir = new Packages.java.io.File('logs');\r\nvar files = log_dir.listFiles();\r\nvar result = [];\r\nvar fos = [];\r\n\r\n// collect our file data...\r\nfor (var i = 0; i < files.length; i++) {\r\n   var file = files[i];\r\n   var name = '' + file.getName();\r\n   if (file.isDirectory())\r\n      continue;\r\n   if (name.charAt(0) == '.')\r\n      continue;\r\n   var fo = {};\r\n   fo['name'] = name;\r\n   fo['size'] = '' + file.length();\r\n   var last_mod_dt = new Packages.java.util.Date(file.lastModified());\r\n   fo['last'] = '' + sdf.format(last_mod_dt);\r\n   fos.push(fo);\r\n}\r\n\r\n// figure out how big our biggest fields are...\r\nvar big_name = 8;\r\nvar big_size = 9;\r\nfor (var i = 0; i < fos.length; i++) {\r\n   var fo = fos[i];\r\n   if (fo.name.length > big_name)\r\n      big_name = fo.name.length;\r\n   if (fo.size.length > big_size)\r\n      big_size = fo.size.length;\r\n}\r\n\r\n// now produce our pretty results...\r\nvar bfl = '---------------------------------------------';\r\nresult.push('\\n\\n' + fixlen('Log file', big_name, false) + '|' + fixlen('File size', big_size, true) + '|' + 'Last modified');\r\nresult.push('\\n' + fixlen(bfl, big_name, false) + '+' + fixlen(bfl, big_size, true) + '+' + '-----------------------');\r\nfor (var i = 0; i < fos.length; i++) {\r\n   var fo = fos[i];\r\n   result.push('\\n' + fixlen(fo.name, big_name, false) + '|' + fixlen(fo.size, big_size, true) + '|' + fo.last);\r\n}\r\nresult.push('\\n' + fixlen(bfl, big_name, false) + '+' + fixlen(bfl, big_size, true) + '+' + '-----------------------');\r\nresult.join('');\r\n\r\nfunction fixlen(fld, len, padleft) {\r\n   var f = '' + fld;\r\n   if (f.length >= len)\r\n      return f.substring(0, len);\r\n   while (f.length < len)\r\n      f = padleft ? ' ' + f : f + ' ';\r\n   return f;\r\n}","sys_class_name":"ecc_agent_script","sys_id":"8c2ee0c80ab301540083ed7549b45fd9","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/42b8273704f12210559073c06a02f78d","value":"42b8273704f12210559073c06a02f78d"},"sys_update_name":"ecc_agent_script_8c2ee0c80ab301540083ed7549b45fd9","sys_updated_by":"tom.dilatush","sys_created_on":"2009-09-05 21:57:51","sys_domain":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_user_group/global","value":"global"},"name":"List logs","sys_name":"List logs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"tom.dilatush","order":"300","sys_policy":""}]}