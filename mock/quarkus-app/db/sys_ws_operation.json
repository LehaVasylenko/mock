{"result":[{"short_description":"Removes baseline from history timeline, by baseline sys_id.","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n/**\nParameters:\n\tbaselineId (sys_id)\n*/\n    var saOpsWrapper = new SaOperationsWrapper(SNC.SaActionsHandler);\n\tsaOpsWrapper.process(request,response, \"removeBaseline\");\n\n})(request, response);","sys_updated_on":"2018-03-05 13:11:06","enforce_acl":"a0ae0157c30303008ebd1962c1d3aeb1","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"004ee6537f520300995cbaf8befa912d","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/it_service/removeBaseline","sys_created_on":"2017-11-13 13:37:40","sys_name":"RemoveBaseline - Internal API","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3418e25f7f120300995cbaf8befa912e","value":"3418e25f7f120300995cbaf8befa912e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_004ee6537f520300995cbaf8befa912d","consumes_customized":"false","name":"RemoveBaseline - Internal API","produces":"application/json,application/xml,text/xml","relative_path":"/removeBaseline","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var escalationSetSysId = request.pathParams.escalation_set_sys_id;\n\tvar currentEscalationLevel = request.queryParams.sysparm_escalation_level;\n\tvar rotaSysId = request.queryParams.rota_sys_id + '';\n\ttry {\n\t\treturn new OCEscalationDesigner().incrementStepsEscalationLevel(escalationSetSysId, currentEscalationLevel, rotaSysId);\n\t} catch (e) {\n\t\tif (e.securityError) {\n\t\t\tvar body = {\n\t\t\t\terror: {\n\t\t\t\t\tmessage: e.message\n\t\t\t\t}\n\t\t\t};\n\t\t\tresponse.setBody(body);\n\t\t\tresponse.setStatus(403);\n\t\t}\n\t\telse {\n\t\t\treturn new sn_ws_err.BadRequestError(e.message);\n\t\t}\n\t}\n})(request, response);","sys_updated_on":"2021-03-17 08:44:05","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"00ae57d65f60630084a5a184ff466644","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/escalations/{escalation_set_sys_id}/steps/incrementescalationlevel","sys_created_on":"2018-09-17 07:09:29","sys_name":"incrementEscalationLevel","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_00ae57d65f60630084a5a184ff466644","consumes_customized":"false","name":"incrementEscalationLevel","produces":"application/json,application/xml,text/xml","relative_path":"/escalations/{escalation_set_sys_id}/steps/incrementescalationlevel","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    /**\n     * Builds the metadata for the application currently loaded in the IDE\n     */\n    try {\n        var body = request.body.data;\n        var scopeId = body.scopeId;\n        var appName = body.appName;\n        var scopeName = body.scopeName;\n        var transactionId = new global.IDEGlobalUtils().getTransactionId();\n        var ideService = new sn_glider.IDERequestBuilder();\n        var stopWatch = new sn_glider.StopWatch();\n        if (!scopeId) {\n            return response.setError(\n                new sn_ws_err.BadRequestError('[txId: ' + transactionId + '] sys_scope field is missing. Unable to process the build request.')\n            );\n        }\n        var appInfo = {\n            scopeId,\n            appName,\n            scopeName\n        };\n        var convertRequest = ideService.createConvertRequest(appInfo, transactionId);\n        stopWatch.time('convert:execute');\n        var convertResponse = convertRequest.execute();\n        stopWatch.timeEnd(':execute', '[convert:execute][scope:' + scopeId + '][transactionId: ' + transactionId + ']');\n        var result = ideService.handleConvertResponse(appInfo, convertResponse, transactionId);\n        response.setBody(ideService.successResponse('[txId: ' + transactionId + '] Successfully converted and installed, ' + scopeId, result.logs, result.status));\n        return response.setStatus(200);\n    } catch (e) {\n        gs.error('Convert request failed', e);\n        var svcErr = new sn_ws_err.ServiceError();\n        svcErr.setMessage(e.message || e.toString());\n        if (e.detailedLog) {\n            svcErr.setDetail(e.detailedLog);\n        }\n        svcErr.setStatus(500);\n        return response.setError(svcErr);\n    }\n})(request, response);","sys_updated_on":"2024-09-05 23:04:53","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"00dbb8b74f0c121068e80241b1ce0b70","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/ide/build/convert-application","sys_created_on":"2024-08-22 20:42:24","sys_name":"Convert Application","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/fd254d9443a161100967247e6bb8f200","value":"fd254d9443a161100967247e6bb8f200"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/52287426ff110210771bffffffffff8f","value":"52287426ff110210771bffffffffff8f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"8","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fd254d9443a161100967247e6bb8f200","value":"fd254d9443a161100967247e6bb8f200"},"sys_update_name":"sys_ws_operation_00dbb8b74f0c121068e80241b1ce0b70","consumes_customized":"false","name":"Convert Application","produces":"application/json,application/xml,text/xml","relative_path":"/convert-application","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar taskId = request.pathParams.taskId;\n    if (!taskId)\n        return new sn_ws_err.BadRequestError(\"Task Item id not provided\");\n\n    response.setBody(new SOWProblemUtils().getApprovals(taskId));\n})(request, response);","sys_updated_on":"2024-05-20 10:47:53","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"013fe65d431202108bfa3d1e2ab8f2a0","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sow_problem/sow_problem_utils/approvals/{taskId}","sys_created_on":"2024-05-20 10:47:53","sys_name":"Approvals","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/54a81ee10b11301039dd818393673a5c","value":"54a81ee10b11301039dd818393673a5c"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/8a16e47f5706021013d48f90ac94f9d5","value":"8a16e47f5706021013d48f90ac94f9d5"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/54a81ee10b11301039dd818393673a5c","value":"54a81ee10b11301039dd818393673a5c"},"sys_update_name":"sys_ws_operation_013fe65d431202108bfa3d1e2ab8f2a0","consumes_customized":"false","name":"Approvals","produces":"application/json,application/xml,text/xml","relative_path":"/approvals/{taskId}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar result = {\n\t\thasCompanyCode: false,\n\t\tisPartOfActivePipeline: false,\n\t};\n\n\ttry {\t\t\n\t\tvar vendorInfo = new sn_appauthor.ScopedAppVendorInfoObtainer().obtainFromAppRepo();\n\n\t\tvar currentInstanceInfo = new sn_pipeline.PipelineConfigChecks().getCurrentInstanceInfo(DeploymentPipelineConstants.APPLICATION_DEPLOYMENT);\n\n\t\tresult['hasCompanyCode'] = !!vendorInfo.key;\n\t\tresult['isPartOfActivePipeline'] = currentInstanceInfo.hasGivenPipelineTypeConfiguredInController;\n\t} catch (exception) {\n\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t.setStatus(500)\n\t\t\t.setMessage(gs.getMessageLang('Unable to retrieve company code or pipeline details. {0}', 'en', exception.message))\n\t\t\t.setDetail(gs.getMessage('Unable to retrieve company code or pipeline details. {0}', exception.message));\n\t}\n\tresponse.setBody(result);\n\tresponse.setStatus(200);\n\n})(request, response);","sys_updated_on":"2022-03-07 17:57:53","enforce_acl":"11a5cd8353263010b846ddeeff7b12c2","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/44112378533a3010b846ddeeff7b1228","value":"44112378533a3010b846ddeeff7b1228"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"0173a07653223010b846ddeeff7b12c9","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_deploy_pipeline/v1/deployment_pipeline_api/validate_configuration","sys_created_on":"2021-09-15 23:48:24","sys_name":"Validate Configuration","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bb67ed7253e83010b846ddeeff7b1204","value":"bb67ed7253e83010b846ddeeff7b1204"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/9d52207653223010b846ddeeff7b12f3","value":"9d52207653223010b846ddeeff7b12f3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"13","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bb67ed7253e83010b846ddeeff7b1204","value":"bb67ed7253e83010b846ddeeff7b1204"},"sys_update_name":"sys_ws_operation_0173a07653223010b846ddeeff7b12c9","consumes_customized":"false","name":"Validate Configuration","produces":"application/json,application/xml,text/xml","relative_path":"/validate_configuration","produces_customized":"false","default_operation_uri":"/api/sn_deploy_pipeline/deployment_pipeline_api/validate_configuration","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar currentId = request.body.data.currentId; // Change_request id\n\tvar currentTable = request.body.data.currentTable; // Change_request\n\tvar resourceId = request.body.data.resourceId; // Incident id\n\tvar resourceTable = request.body.data.resourceTable; // Incident\n\tvar actionStage = request.body.data.actionStage;\n \n\tvar currentGr = new GlideRecordSecure(currentTable);\n\tif (!currentGr.get(currentId))\n\t\treturn response.setBody({successful: false, message: gs.getMessage(\"Could not find Change Request\")});\n\t\n\tvar resourceGr = new GlideRecordSecure(resourceTable);\n\tif (!resourceGr.get(resourceId))\n\t\treturn response.setBody({successful: false, message: gs.getMessage(\"Could not find Incident\")});\n\n\tvar currentNumber = currentGr.number;\n\tvar resourceNumber = resourceGr.number;\n\n\tvar body = {};\n\tif (actionStage === 'pre_modal') {\n\t\tbody.successful = true;\n\t\tbody.useModal = true;\n\t\tbody.modalTitle = gs.getMessage('Link to Incident');\n\t\tbody.errMsg = gs.getMessage('Could not link Incident to Change Request');\n\t\tbody.modalInfoMsg = gs.getMessage('Now linking {0} to {1}.', [currentNumber, resourceNumber]);\n\t\tbody.modalFields = [{label: currentGr.work_notes.getLabel(), name: 'work_notes', value: '', fieldType: 'textarea'}, {label: currentGr.comments.getLabel('comments'), name: 'comments', value: '', fieldType: 'textarea'}];\n\t\tbody.postModalRestRequired = true;\n\t} else if (actionStage === 'post_modal') {\n\t\tresourceGr.caused_by = currentGr.sys_id;\n\t\tresourceGr.update();\n\t\tbody.successful = true;\n\t\tbody.infoMsg = gs.getMessage('{0} has been identified as a possible cause for {1}.', [currentNumber, resourceNumber]);\n\t\tbody.useModal = true;\n\t} else\n\t\treturn response.setBody({successful: false, message: gs.getMessage(\"Invalid action stage\")});\n\n\tresponse.setBody(body);\n\n})(request, response);","sys_updated_on":"2024-01-02 14:19:26","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"0199572b0f333300759fb0add7767e6f","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/cxs_actions/link_chg_to_inc","sys_created_on":"2019-09-16 13:37:06","sys_name":"link_chg_to_inc","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5f387aa0b32023002bf182c136a8dc1c","value":"5f387aa0b32023002bf182c136a8dc1c"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"14","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ba3ca7f704352210559073c06a02f749","value":"ba3ca7f704352210559073c06a02f749"},"sys_update_name":"sys_ws_operation_0199572b0f333300759fb0add7767e6f","consumes_customized":"false","name":"link_chg_to_inc","produces":"application/json,application/xml,text/xml","relative_path":"/link_chg_to_inc","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var DEFAULT_COMMIT_MODE_SYS_PROPERTY = 'glide.sourcecontrol.default_commit_mode';\n    var ALLOW_COMMIT_MODE_SELECTION_SYS_PROPERTY = 'sn_devstudio.vcs.allow_commit_mode_selection';\n\n    var defaultCommitMode = 'exclude_untracked';\n    var allowCommitModeSelection = 'true';\n\n    var grProps = new GlideRecord('sys_properties');\n    grProps.addEncodedQuery('name=' + DEFAULT_COMMIT_MODE_SYS_PROPERTY + '^ORname=' + ALLOW_COMMIT_MODE_SELECTION_SYS_PROPERTY);\n    grProps.query();\n\n    while (grProps.next()) {\n        if (grProps.getValue('name') === DEFAULT_COMMIT_MODE_SYS_PROPERTY)\n            defaultCommitMode = grProps.getValue('value');\n        else if (grProps.getValue('name') === ALLOW_COMMIT_MODE_SELECTION_SYS_PROPERTY)\n            allowCommitModeSelection = grProps.getValue('value');\n    }\n\n    response.setBody({\n        defaultCommitMode: defaultCommitMode,\n        allowCommitModeSelection: allowCommitModeSelection\n    });\n    response.setStatus(200);\n})(request, response);","sys_updated_on":"2023-11-17 06:51:35","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/f7ec1279c3202010a9f5e548fa40dd4d","value":"f7ec1279c3202010a9f5e548fa40dd4d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"01b0c3bbc711301031a006d427c26097","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_app_eng_studio/v1/generic/commit_mode_properties","sys_created_on":"2021-07-19 08:39:39","sys_name":"Get Commit Mode Properties","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/37cc9e39c3202010a9f5e548fa40ddef","value":"37cc9e39c3202010a9f5e548fa40ddef"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"12","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_ws_operation_01b0c3bbc711301031a006d427c26097","consumes_customized":"false","name":"Get Commit Mode Properties","produces":"application/json,application/xml,text/xml","relative_path":"/commit_mode_properties","produces_customized":"false","default_operation_uri":"/api/sn_app_eng_studio/generic/commit_mode_properties","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tconst apiHelper = new APIHelper(request, response);\n\tapiHelper.execute(function(){\n\t\tconst controllerPresetHandler = new ControllerPreset();\n\t\tconst elementId = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.ELEMENT_ID);\n\t\tconst encodedQuery = elementId ? `controller=${elementId}` : 'controllerISNOTEMPTY';\n\t\tconst preset = controllerPresetHandler.getRecordsByQuery(encodedQuery,'name');\n\t\tapiHelper.respondSuccesfully(preset, preset.length === 0 ? 204 : 200);\n\t});\n\n})(request, response);","sys_updated_on":"2024-03-18 20:17:38","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"01ee122a77fc3110d2955d9c4f5a99a9","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/controller/presets","sys_created_on":"2023-08-24 21:02:37","sys_name":"Controller Presets","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_01ee122a77fc3110d2955d9c4f5a99a9","consumes_customized":"false","name":"Controller Presets","produces":"application/json,application/xml,text/xml","relative_path":"/controller/presets","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n        var storeApps = [];\n\t\tvar storeAppGR = new GlideRecord('sys_store_app');\n\t\tstoreAppGR.addQuery('private', false).addOrCondition('private', '');\n\t\tstoreAppGR.addQuery('active', true);\n\t\tstoreAppGR.query();\n\t\twhile (storeAppGR.next()) {\n\t\t     if (storeAppGR.canRead()) {\n\t\t         if (sn_app_customization.AppCustomizationAPI.isAppCustomizationCapableById(storeAppGR.getValue('sys_id')))\n\t\t\t\t     storeApps.push(storeAppGR.getValue('sys_id').toString());\n\t\t\t }\n\t\t}\n\n        response.setBody({\n            numStoreApps: storeApps.length,\n            storeAppsList: storeApps.toString()\n        });\n\n})(request, response);","sys_updated_on":"2020-08-04 00:31:44","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"020b735b5b521010c3a999b8b681c7c8","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/storeapps","sys_created_on":"2020-08-04 00:10:38","sys_name":"getAppCustomizationCapableStoreApps","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_020b735b5b521010c3a999b8b681c7c8","consumes_customized":"false","name":"Get App Customization Capable Store Apps","produces":"application/json,application/xml,text/xml","relative_path":"/storeapps","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/storeapps","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar result = {};\n\tresponse.setContentType('application/json');\n\t\n\ttry {\n\t\tvar service_sys_id = '';\n\t\tvar error = {'message':'Unknown error'};\n\t\tvar payload = request.body.data;\n\t\t\n\t\tif(!isRequestPayloadValid(payload, error)) {\n\t\t\tresponse.setError(throwError(400, error));\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tvar helper = new CSDMAppServiceHelper();\n\t\t\n\t\tif(payload.hasOwnProperty('basic_details')) {\n\t\t\t//TODO: Rectify error message for uniqeness and mandatory attributes\n\t\t\tservice_sys_id = helper.createApplicationService(payload);\n\t\t\tif(JSUtil.nil(service_sys_id)) {\n\t\t\t\terror.message = 'Could not create Application Service based on given inputs';\n\t\t\t\tresponse.setError(throwError(400, error));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult.service_sys_id = service_sys_id;\n\t\t\tvar gr = new GlideRecord('cmdb_ci_service_auto');\n\t\t\tif(gr.get(service_sys_id))\n\t\t\t\tresult.number = gr.getValue('number');\n\t\t}\n\t\t\n\t\tif(payload.hasOwnProperty('relationships') ) {\n\t\t\thelper.createCSDMRelationships(service_sys_id, payload.relationships);\n\t\t\t//TODO: add new rel_sys_ids to the result\n\t\t}\n\t\t\t\n\t\tresponse.setStatus(200);\n\t\tresponse.setBody(result);\n\t\t\n\t} catch(err) {\n\t\tresponse.setError(throwError(500, error));\n\t\treturn;\n\t}\n\t\n\t\n\t// Supporting functions\n\tfunction isRequestPayloadValid(payload, errorMsg) {\n\t\tif(payload.hasOwnProperty('basic_details') || payload.hasOwnProperty('relationships')) {\n\t\t\t\n\t\t\tvar basic = payload.basic_details;\n\t\t\tif(JSUtil.notNil(basic)) {\n\t\t\t\tif(basic.hasOwnProperty('sys_id') || basic.hasOwnProperty('sys_class_name') || basic.hasOwnProperty('sys_class_path')) { // TODO: Accomodate all sys fields\n\t\t\t\t\terrorMsg.message = \"Updating system fields is not allowed\";\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar rels = payload.relationships;\n\t\t\tif(JSUtil.notNil(rels)) {\n\t\t\t\tif(!rels.hasOwnProperty('business_app') && !rels.hasOwnProperty('business_service_offering') && !rels.hasOwnProperty('technical_service_offering')) {\n\t\t\t\t\terrorMsg.message = \"Relationships are not specified correctly\";\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\terrorMsg.message = \"Request payload is not in expected format\";\n\t\treturn false;\n\t}\n\t\n\tfunction throwError(status, errMsg) {\n\t\tvar genericError = new sn_ws_err.ServiceError();\n\t\tgenericError.setStatus(status);\n\t\tgenericError.setMessage(\"Problem processing request\");\n\t\tgenericError.setDetail(errMsg.message);\n\t\treturn genericError;\n\t}\n\t\n})(request, response);","sys_updated_on":"2020-05-15 21:09:01","enforce_acl":"44eb6c5573f7001061b79c0c6df6a71c","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"021664c67363001061b79c0c6df6a790","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/cmdb/csdm/app_service/register_service","sys_created_on":"2020-03-15 20:13:29","sys_name":"Register Service","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/565abf20c39413003e76741e81d3ae48","value":"565abf20c39413003e76741e81d3ae48"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"14","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2f8d67ff04352210559073c06a02f74f","value":"2f8d67ff04352210559073c06a02f74f"},"sys_update_name":"sys_ws_operation_021664c67363001061b79c0c6df6a790","consumes_customized":"false","name":"Register Service","produces":"application/json,application/xml,text/xml","relative_path":"/csdm/app_service/register_service","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var table = request.body.data.table || null;\n    if (!table)\n        return new sn_ws_err.BadRequestError('table not provided');\n\n    var sysId = request.body.data.sysId || null;\n    if (!sysId)\n        return new sn_ws_err.BadRequestError('sysId not provided');\n\n    var view = request.body.data.view || null;\n    if (!view)\n        return new sn_ws_err.BadRequestError('view not provided');\n\n    var state = request.body.data.state || '';\n    var isNew = (request.body.data.isNew + '' === 'true') || (sysId === '-1');\n\n    var overviewUtils = new SOWOverviewUtils();\n    var result = {\n        formData: overviewUtils.getFormSectionsForLayout(table, sysId, view),\n        stateFormData: overviewUtils.getSectionsForState(table, sysId, state, isNew),\n        versionNumber: gs.getProperty('itsm_family_release_version_check',0)\n    };\n\n    return result;\n})(request, response);","sys_updated_on":"2024-04-15 09:35:04","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"022c645c7741021013d4aeb4bb5a9942","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/sn_sow_itsm_common/sow_record/get_form_sections_layout","sys_created_on":"2024-03-15 19:21:53","sys_name":"get states","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/0eef12637311301045216238edf6a75e","value":"0eef12637311301045216238edf6a75e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7c4614e4737d301045216238edf6a755","value":"7c4614e4737d301045216238edf6a755"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0eef12637311301045216238edf6a75e","value":"0eef12637311301045216238edf6a75e"},"sys_update_name":"sys_ws_operation_022c645c7741021013d4aeb4bb5a9942","consumes_customized":"false","name":"get states","produces":"application/json,application/xml,text/xml","relative_path":"/get_form_sections_layout","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar offset = isNaN(parseInt(request.queryParams.offset)) ? 0 : parseInt(request.queryParams.offset);\n\tvar limit = isNaN(parseInt(request.queryParams.chg_model_limit)) ? 40 : parseInt(request.queryParams.chg_model_limit);\n\tvar filter = (request.queryParams.filter && request.queryParams.filter !== \"undefined\") ? request.queryParams.filter + \"\" : \"all\";\n\tvar orderBy = (request.queryParams.orderby && request.queryParams.orderby !== \"undefined\") ? request.queryParams.orderby + \"\" : \"name\";\n\tvar textSearch = (!request.queryParams.text_search || request.queryParams.text_search === \"undefined\") ? \"\" : request.queryParams.text_search + \"\".trim();\n\tvar restrict = (!request.queryParams.restrict || request.queryParams.restrict === \"undefined\") ? \"\" : request.queryParams.restrict + \"\".trim();\n\n\treturn new SowChangeCards().getChangeCards(offset, limit, filter, orderBy, textSearch, restrict);\n\n})(request, response);","sys_updated_on":"2022-03-18 12:16:23","enforce_acl":"1f440635771201100bfdaeb4bb5a99eb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"024a9cc723f33010b8f7dc1756bf6554","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sow_chg/sow_change_creation_page/changecards","sys_created_on":"2021-11-17 19:10:06","sys_name":"changecards","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/17c918c723f33010b8f7dc1756bf650d","value":"17c918c723f33010b8f7dc1756bf650d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_update_name":"sys_ws_operation_024a9cc723f33010b8f7dc1756bf6554","consumes_customized":"false","name":"changecards","produces":"application/json,application/xml,text/xml","relative_path":"/changecards","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\n\tvar requestBody = request.body.nextEntry();\n\tvar isPreview = requestBody[\"isPreview\"];\n\tif (isPreview == true) {\n\t\tvar value = requestBody[\"sysparm_value\"];\n\t\tvar regexId = requestBody[\"sysparm_regexId\"];\n\t\tif (global.JSUtil.notNil(value) && global.JSUtil.notNil(regexId)) \n\t\t\treturn GlideappQuestion.validateRegexForValue(regexId, value);\n\t\t\n\t\treturn true;\t\t\n\t}\n    var questionId = request.pathParams.sys_id;\n\tif (!questionId)\n\t\tthrow new sn_ws_err.BadRequestError(\"SYS_ID should be provided as path param.\");\n\t\n\tvar questionValue = requestBody[\"sysparm_value\"];\n\tif (!questionValue) {\n\t\tthrow new sn_ws_err.BadRequestError(\"Question value should be provided as request body.\");\n\t}\n\t\n\tvar question = GlideappQuestion.getQuestion(questionId);\n\tif (!question.validateRegex(questionValue)) {\n\t\tvar error_response = {};\n\t\tresponse.setStatus(400);\n\t\terror_response.errMsg = \"Validation error: \" + question.getValidationMessage();\n\t\treturn error_response;\n\t} else\n\t\treturn true;\n\n})(request, response);","sys_updated_on":"2020-11-17 19:39:40","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"02aaa86487122300e0ef0cf888cb0bba","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/variables/{sys_id}/validate_regex","sys_created_on":"2018-12-07 07:31:39","sys_name":"Validate Variable Regex","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_02aaa86487122300e0ef0cf888cb0bba","consumes_customized":"false","name":"Validate Variable Regex","produces":"application/json,application/xml,text/xml","relative_path":"/variables/{sys_id}/validate_regex","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/variables/{sys_id}/validate_regex","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var currentTable = request.body.data.currentTable;\n    var currentId = request.body.data.currentId;\n    var resourceTable = request.body.data.resourceTable;\n    var resourceId = request.body.data.resourceId;\n    var allActions = request.body.data.allActions;\n    var actions = [];\n    var uniqueActions = [];\n\n    var sau = new SNC.SearchActionUtils();\n    //PRB1367764: Treat answer as a question to pass the check that the actions exist\n    if (resourceTable === 'kb_social_qa_answer') {\n        resourceTable = 'kb_social_qa_question';\n    }\n\n    if (sau.loadRecords(currentTable, currentId, resourceTable, resourceId)) {\n        for (var i = 0; i < allActions.length; i++) {\n            var currentCondition = allActions[i].currentActionCondition;\n            var resourceCondition = allActions[i].actionCondition;\n\n\t\t\tif (allActions[i].sysId) {\n\t\t\t\tif (sau.checkVisibility(allActions[i].sysId)) {\n\t\t\t\t\tactions.push(allActions[i].actionId);\n\t\t\t\t\tuniqueActions.push(allActions[i].sysId);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (sau.checkVisibilityPreOrlandoOnly(currentTable, currentCondition, resourceTable, resourceCondition)) {\n\t\t\t\t\tactions.push(allActions[i].actionId);\n\t\t\t\t\tuniqueActions.push(allActions[i].sysId);\n\t\t\t\t}\n      }\n        }\n    }\n\n    var body = {};\n    body.succeed = true;\n    //itemId not used since Orlando. Leaving it here only to serve backward compatibility for pre-Orlando to Orlando upgrade.\n    body.itemId = resourceTable + ':' + resourceId;\n    //keeping this for backwards compatibility\n    body.actions = actions;\n    body.uniqueActions = uniqueActions;\n    response.setBody(body);\n})(request, response);","sys_updated_on":"2024-01-02 14:08:06","enforce_acl":"8ac76f2c53233110610bddeeff7b123b","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"02d7316667202300bff282f45685ef1d","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/cxs/get_actions_by_condition","sys_created_on":"2018-09-17 18:16:44","sys_name":"Get Actions by Condition","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7e534526d722220034d145bcce6103fa","value":"7e534526d722220034d145bcce6103fa"},"consumes":"application/json","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"44","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5209e3b704f12210559073c06a02f734","value":"5209e3b704f12210559073c06a02f734"},"sys_update_name":"sys_ws_operation_02d7316667202300bff282f45685ef1d","consumes_customized":"false","name":"Get Actions by Condition","produces":"application/json","relative_path":"/get_actions_by_condition","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"var {\n    RuleChecker\n} = require('@devsnc/uibtk-api');\n\n(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var rc = new RuleChecker();\n    var appRoutes = rc.checkAllRulesAgainstSubpageFromExp(\n\t\trequest.pathParams.experienceId,\n\t\trequest.pathParams.parentScreenId,\n\t\trequest.pathParams.parentElementId,\n\t\trequest.pathParams.isMaint\n\t);\n\n    response.setBody({\n        appRoutes\n    });\n\n})(request, response);","sys_updated_on":"2024-08-26 15:50:57","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"04ad23cbb7ff0610461e83e75e11a9fe","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/check_rules/experience/{experienceId}/parentScreenId/{parentScreenId}/parentElementId/{parentElementId}/isMaint/{isMaint}","sys_created_on":"2024-08-08 15:25:29","sys_name":"Execute Rules Engine for Subpge from Exp","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_04ad23cbb7ff0610461e83e75e11a9fe","consumes_customized":"false","name":"Execute Rules Engine for Subpge from Exp","produces":"application/json,application/xml,text/xml","relative_path":"/check_rules/experience/{experienceId}/parentScreenId/{parentScreenId}/parentElementId/{parentElementId}/isMaint/{isMaint}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    const data = new UXAHandler().handleQueryRequest(request.body?.data);\n\n    response.setHeader('Content-Type', 'text/csv');\n    const streamWriter = response.getStreamWriter();\n    streamWriter.writeString(data.csvData.join('\\n'));\n    response.setStatus(200);\n\n})(request, response);","sys_updated_on":"2024-09-17 16:36:34","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/d93d4288ffe7c21024f4ffffffffff52","value":"d93d4288ffe7c21024f4ffffffffff52"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"04df46f07f589210053a6e377d866507","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_uxa_req_manager/v1/uxa_data/export","sys_created_on":"2024-08-26 05:19:03","sys_name":"Export","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/e9f5c0d20b620210e8a937009777b2d7","value":"e9f5c0d20b620210e8a937009777b2d7"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"9","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_update_name":"sys_ws_operation_04df46f07f589210053a6e377d866507","consumes_customized":"false","name":"Export","produces":"text/csv","relative_path":"/export","produces_customized":"true","default_operation_uri":"/api/sn_uxa_req_manager/uxa_data/export","sys_policy":""},{"short_description":"Duplicates a screen and it's macroponent","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    const apiHelper = new APIHelper(request, response);\n    apiHelper.execute(function() {\n        // Override Field Values should be an object with new values for the screen record e.g {name: value}\n        const {\n            noDomain: noDomain,\n            sysId\n        } = request.queryParams;\n\n        const data = request.body.data ?? {};\n\n        const result = new Screen([], noDomain).duplicate(sysId, data);\n        typeof result === 'string' ? apiHelper.respondUnsuccesfully(result) : apiHelper.respondSuccesfully(result);\n    });\n})(request, response);","sys_updated_on":"2023-05-26 18:20:58","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"{\n       screen = {\n\t\tname: '',\n\t\tscreenCondition: '',\n\t\tscreenType: '',\n\t\tmacroponent: ''\n\t}\n        applicabilities: []\n}","sys_id":"05359ae07ceb1110f87754eb73ab0018","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/screen/duplicate","sys_created_on":"2022-11-30 15:44:53","sys_name":"Duplicate Screen","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"21","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_05359ae07ceb1110f87754eb73ab0018","consumes_customized":"false","name":"Duplicate Screen","produces":"application/json,application/xml,text/xml","relative_path":"/screen/duplicate","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        var newApplicationPath = request.pathParams.application_path;\n        if (!newApplicationPath)\n            return new sn_ws_err.BadRequestError('Application path not provided');\n\t\tvar path = gs.base64Decode(newApplicationPath);\n        var gr = new GlideRecordSecure(\"sys_ux_page_registry\");\n        gr.addQuery(\"path\", path);\n        gr.query();\n\t\t\n        var result = {\n            isUnique: !gr.next(),\n\t\t\tpath: path\n        };\n        response.setStatus(200);\n        response.setBody(result);\n    } catch (e) {\n        var error = new sn_ws_err.ServiceError();\n        error.setMessage(e.toString());\n        response.setError(error);\n    }\n})(request, response);","sys_updated_on":"2023-02-16 05:06:35","enforce_acl":"09bc12e78c4c3950f877cf5681e3f116","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"053d512c5b462010fb2a210bb881c71b","http_method":"GET","sys_updated_by":"maint","operation_uri":"/api/sn_workspace_sta_0/workspace_starter_experience/is_unique/{application_path}","sys_created_on":"2021-01-28 09:33:15","sys_name":"Verify workspace url","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/a7caf0e3731020104cb09434c4f6a741","value":"a7caf0e3731020104cb09434c4f6a741"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/57ac99e85b462010fb2a210bb881c7df","value":"57ac99e85b462010fb2a210bb881c7df"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/a7caf0e3731020104cb09434c4f6a741","value":"a7caf0e3731020104cb09434c4f6a741"},"sys_update_name":"sys_ws_operation_053d512c5b462010fb2a210bb881c71b","consumes_customized":"false","name":"Verify workspace url","produces":"application/json,application/xml,text/xml","relative_path":"/is_unique/{application_path}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var files = [];\n\t\n    try {\n        var requestBody = request.body.data;\n\n        if (requestBody === null || requestBody === undefined || JSON.stringify(requestBody) === '{}') {\n            var info = new sn_ws_err.BadRequestError(`Request body is empty, expected \"uris\" object`);\n            return response.setBody(info);\n        }\n\n        var dirUris = requestBody['uris'];\n\n        if (dirUris === undefined) {\n            var err = new sn_ws_err.BadRequestError(`Invalid request body payload, expected \"uris\" object`);\n            return response.setError(err);\n        }\n\n        for (var i = 0; i < dirUris.length; i++)\n\t\t\tfiles = files.concat(new sn_glider.SyncUtil().getDirectoryStat(dirUris[i]));\n\n        var resObj = {\n            timeStamp: Date.now(),\n            files: files,\n        };\n\n        response.setStatus(200);\n        response.setBody(resObj);\n    } catch (err) {\n        var exp = new sn_ws_err.BadRequestError(err.message);\n        response.setError(exp);\n    }\n})(request, response);","sys_updated_on":"2024-05-10 18:34:55","enforce_acl":"4bf8f016a3060210acce0373341e61fe","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"{\"uris\" : [\"uri1\", \"uri2\"]}","sys_id":"058030b7430146104733a7ec6bb8f243","http_method":"POST","sys_updated_by":"maint","operation_uri":"/api/sn_glider/sync/state","sys_created_on":"2024-03-26 16:39:56","sys_name":"State","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/fd254d9443a161100967247e6bb8f200","value":"fd254d9443a161100967247e6bb8f200"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3510f477430146104733a7ec6bb8f2cf","value":"3510f477430146104733a7ec6bb8f2cf"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"71","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fd254d9443a161100967247e6bb8f200","value":"fd254d9443a161100967247e6bb8f200"},"sys_update_name":"sys_ws_operation_058030b7430146104733a7ec6bb8f243","consumes_customized":"false","name":"State","produces":"application/json,application/xml,text/xml","relative_path":"/state","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var request_body = request.body.nextEntry();\n\n    var mode = request.queryParams.mode ? request.queryParams.mode + '' : undefined;\n    var templateId = request.queryParams.template_id ? request.queryParams.template_id + '' : undefined;\n\tvar parentRecordTable = request_body.sysparm_parent_target_record_table ? request_body.sysparm_parent_target_record_table.toString() : undefined;\n\tvar parentRecordId = request_body.sysparm_parent_target_record_id ? request_body.sysparm_parent_target_record_id.toString() : undefined;\n    for (var key in request_body.variables)\n        if (request_body.variables.hasOwnProperty(key) && request_body.variables[key] != null && typeof(request_body.variables[key]) !== 'string')\n            request_body.variables[key] = request_body.variables[key].toString();\n\n    var requestObj = {\n        wizardId: request.pathParams.sys_id + '',\n        targetRecord: request.pathParams.record_id + '',\n        mode: mode,\n        templateId: templateId,\n        variables: request_body.variables,\n\t\tparentTargetRecordTable: parentRecordTable,\n\t\tparentTargetRecordId: parentRecordId,\n    };\n\n    if (requestObj.mode == 'template') {\n        var templateParams = ['sysparm_template_type', 'sysparm_template_name', 'sysparm_template_shortDescription', 'sysparm_template_availableFor', 'sysparm_template_readonly', 'sysparm_template_mandatory', 'sysparm_template_restricted', 'sysparm_changedQuestions', 'sysparm_template_use_template_scope'];\n\n        for (var i in templateParams) {\n            var templateParam = templateParams[i];\n            if (request_body.hasOwnProperty(templateParam) && request_body[templateParam] != null)\n                requestObj[templateParam] = request_body[templateParam].toString();\n\n        }\n    }\n\n\tvar responseObject;\n\ttry {\n\t\tvar answerObject = sn_sc.CatalogWizardHandler.submit(requestObj);\n\t\tresponseObject = JSON.parse(answerObject);\n\t} catch (e) {\n\t\tgs.debug(e);\n\t\tresponseObject = {\n\t\t\terrMsg: e.getMessage() + ''\n\t\t};\n\t}\n\n    return responseObject;\n})(request, response);","sys_updated_on":"2022-08-04 18:08:15","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"0646e19373121010c84e2bb43cf6a7f1","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/wizard/{sys_id}/record_id/{record_id}","sys_created_on":"2020-08-03 13:18:42","sys_name":"Submit Wizard","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5a9d2bff04352210559073c06a02f771","value":"5a9d2bff04352210559073c06a02f771"},"sys_update_name":"sys_ws_operation_0646e19373121010c84e2bb43cf6a7f1","consumes_customized":"false","name":"Submit Wizard","produces":"application/json,application/xml,text/xml","relative_path":"/wizard/{sys_id}/record_id/{record_id}","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/wizard/{sys_id}/record_id/{record_id}","sys_policy":"read"},{"short_description":"","operation_script":"(function process(request, response) {\n    var appId = request.pathParams.appId;\n\n    var allowed = VCSAppAccessCheck.verifyReadAccess(appId) && (VCSAppAccessCheck.isGACOrSourceControlUser() || VCSAppAccessCheck.verifyVersionControlAccess(appId));\n\n    if (!allowed) \n\t\tVCSAppAccessCheck.throwAccessDenied(appId);\n\n    response.setStatus(200);\n    response.setContentType('application/json');\n    response.setBody({\n        hasUpdateSetCommitHistory: sn_vcs.AppSourceControl.hasUpdateSetCommitHistory(appId)\n    });\n\n\n})(request, response);","sys_updated_on":"2021-04-06 20:16:25","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"069fab44c3b12010ca199a038a40dd3b","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/apps/{appId}/changes/updateSetHistory","sys_created_on":"2021-01-14 20:44:20","sys_name":"Has Completed Update Set History","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_069fab44c3b12010ca199a038a40dd3b","consumes_customized":"false","name":"Has Completed Update Set History","produces":"application/json,application/xml,text/xml","relative_path":"/apps/{appId}/changes/updateSetHistory","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/apps/{appId}/changes/updateSetHistory","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var model = JSON.stringify(request.body.data.model);\n    return (new SNC.BusinessServiceManager()).updateBusinessService(model);\n})(request, response);","sys_updated_on":"2017-07-05 12:02:44","enforce_acl":"2020bb459f73320089c25ecec32e70f8","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"06c1085767033200dde22dbd2685ef34","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/sa_business_service/updateBusinessService","sys_created_on":"2017-06-04 11:48:53","sys_name":"Update Business Service","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/f8f0abda9f0232004db75ecec32e7027","value":"f8f0abda9f0232004db75ecec32e7027"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"9","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_06c1085767033200dde22dbd2685ef34","consumes_customized":"false","name":"Update Business Service","produces":"application/json,application/xml,text/xml","relative_path":"/updateBusinessService","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    response.setContentType('application/json');\n\tvar result = [];\n\tvar queryParams = request.queryParams;\n\t\n\tvar grs = new GlideRecordSecure(\"svc_by_tags_candidates\");\n\tgrs.addQuery(\"service_family\", queryParams.service_family);\n\tif(queryParams.current_service){\n\t\tgrs.addEncodedQuery(\"actual_serviceISEMPTY^ORactual_service=\" + queryParams.current_service);\n\t} else {\n\t\tgrs.addNullQuery(\"actual_service\");\n\t}\n\tif(queryParams.encoded_query){\n\t\tgrs.addEncodedQuery(queryParams.encoded_query);\n\t}\n\t\n\tgrs.query();\n\t\n\twhile(grs.hasNext()){\n\t\tgrs.next();\n\t\tresult.push({sys_id: grs.getValue(\"sys_id\"), name: grs.getValue(\"service_name\")});\n\t}\n\n\tresponse.setStatus(200);\n\tresponse.setBody(result);\n\t\n})(request, response);","sys_updated_on":"2020-04-23 21:46:14","enforce_acl":"edc5e02473230010ee4dd3c72bf6a7ea","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"06dcdf9c73230010ee4dd3c72bf6a731","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/csdm_app_service/tag_based_service_candidates","sys_created_on":"2020-03-10 21:21:35","sys_name":"Get Tag Based Service Candidates","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/60c171d973c30010ee4dd3c72bf6a716","value":"60c171d973c30010ee4dd3c72bf6a716"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2f8d67ff04352210559073c06a02f74f","value":"2f8d67ff04352210559073c06a02f74f"},"sys_update_name":"sys_ws_operation_06dcdf9c73230010ee4dd3c72bf6a731","consumes_customized":"false","name":"Get Tag Based Service Candidates","produces":"application/json,application/xml,text/xml","relative_path":"/tag_based_service_candidates","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar pathParams = request.pathParams;\n    var tableName = pathParams.tableName;\n\tvar requestBody = request.body.data;\n\tvar sysIds = requestBody.scriptIncludes;\n\t\n\tvar result = new GlideScriptEditorManager().getIntellisenseForScripts(sysIds, tableName);\n    response.setBody({\n        'result': result\n    });\n    response.setStatus(200);\n\n})(request, response);","sys_updated_on":"2020-06-09 06:13:42","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a25b4ce37303230010d533083cf6a72d","value":"a25b4ce37303230010d533083cf6a72d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"0710fc205330101097a3ddeeff7b1240","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/v1/syntax_editor/intellisense/{tableName}","sys_created_on":"2020-05-12 06:46:53","sys_name":"intellisense","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/dc4bc0e37303230010d533083cf6a7ed","value":"dc4bc0e37303230010d533083cf6a7ed"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"9","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/450423f704312210559073c06a02f741","value":"450423f704312210559073c06a02f741"},"sys_update_name":"sys_ws_operation_0710fc205330101097a3ddeeff7b1240","consumes_customized":"false","name":"intellisense","produces":"application/json,application/xml,text/xml","relative_path":"/intellisense/{tableName}","produces_customized":"false","default_operation_uri":"/api/now/syntax_editor/intellisense/{tableName}","sys_policy":""},{"short_description":"Get Data Lookups for a catalog item","sys_updated_on":"2017-06-21 10:12:32","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"073493bbc3330200d68d3b0ac3d3aeb3","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/items/{sys_id}/data_lookups","sys_created_on":"2015-11-25 10:49:22","sys_name":"Data lookup for a Catalog Item","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"7","active":"false","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_073493bbc3330200d68d3b0ac3d3aeb3","consumes_customized":"false","name":"Data lookup for a Catalog Item","produces":"application/json,application/xml,text/xml","relative_path":"/items/{sys_id}/data_lookups","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/items/{sys_id}/data_lookups","sys_policy":"protected"},{"short_description":"","operation_script":"(function process(request, response) {\n\n    response.setContentType('application/json');\n    var helper = new CMDBDataManagerHelper();\n    var policyId = helper.getParamAsString('sys_id');\n\n    if (JSUtil.nil(policyId)) {\n        return new sn_ws_err.BadRequestError(\"PolicyId is missing\");\n    }\n\n    var result = helper.getPolicy(policyId);\n    if (JSUtil.nil(result)) {\n        var error = new sn_ws_err.ServiceError();\n        error.setStatus(400);\n        error.setMessage(\"Policy not found\");\n        return error;\n    }\n    response.setStatus(200);\n    response.setBody(result);\n})(request, response);","sys_updated_on":"2021-03-23 23:31:44","enforce_acl":"885bc51053832010af64ddeeff7b12cb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"07947018775220108043270bba10619b","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/ci_lifecycle_manager/policy","sys_created_on":"2021-02-09 04:31:33","sys_name":"Get Policy","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ad9ebe127322101045cadfcd3bf6a735","value":"ad9ebe127322101045cadfcd3bf6a735"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"20","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"sys_update_name":"sys_ws_operation_07947018775220108043270bba10619b","consumes_customized":"false","name":"Get Policy","produces":"application/json,application/xml,text/xml","relative_path":"/policy","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var TABLES = {\n        INCIDENT: \"incident\",\n        PROBLEM: \"problem\"\n    };\n\n    var LINK_FIELD = 'problem_id';\n\n    /**\n     * actionId: search UI Action's unique ID\n     * incidentId: sys_id of Incident record which has search term\n     * changeId: sys_id of Change record which is the search result\n     * actionStage: to indicate whether this request is sent before or after modal\n     */\n\n    var actionId = request.body.data.actionId;\n    var incidentId = request.body.data.currentId;\n    var problemId = request.body.data.resourceId;\n    var actionStage = request.body.data.actionStage;\n    var body = {};\n\n    /**\n     * action_id (mandatory): search UI Action's unique ID, AS/AI will use it to determine how to handle result\n     * item_id (optional): \"table_name:record_id\", having this tells AS/AI to refresh child record's UI Action list due to link action's change on child record\n     * succeed (mandatory): indicates link action is successfully done or not for non-rest call's\n     * successful (mandatory): indicates link action is successfully done or not for rest call's\n     * message (optional): shows on top of the form after action is performed\n     */\n\n    if (actionId.includes('rest'))\n        body.successful = false;\n    else\n        body.succeed = false;\n\n    function addErrorMessage(errorMessage) {\n        if (actionId.includes('rest'))\n            body.errMsg = errorMessage;\n        else\n            body.message = errorMessage;\n    }\n\n    if (!gs.hasRole('itil,sn_incident_write')) {\n        addErrorMessage(gs.getMessage(\"Roles are insufficient to perform the action\"));\n        return response.setBody(body);\n    }\n\n    var problemGr = new GlideRecord(TABLES.PROBLEM);\n    if (!problemGr.get(problemId)) {\n        addErrorMessage(gs.getMessage(\"Invalid Problem record\"));\n        return response.setBody(body);\n    }\n\n    var incidentGr = new GlideRecord(TABLES.INCIDENT);\n    if (!incidentGr.get(incidentId)) {\n        addErrorMessage(gs.getMessage(\"Invalid Incident record\"));\n        return response.setBody(body);\n    }\n\n    var errMsg = gs.getMessage('Updating \"Problem\" field on {0} has failed', incidentGr.getDisplayValue());\n    var infoMsg = gs.getMessage('{0} has been linked as a Parent to {1}', [problemGr.getDisplayValue(), incidentGr.getDisplayValue()]);\n\n    body.action_id = actionId;\n    body.item_id = TABLES.INCIDENT + \":\" + incidentGr.getUniqueValue();\n\n    if (actionId.includes('rest')) {\n        if (actionStage === 'pre_modal') {\n            body.successful = true;\n            body.useModal = true;\n            body.resourceRecord = {};\n            body.resourceRecord.sys_id = problemId;\n            body.resourceRecord.number = problemGr.number;\n            body.modalTitle = gs.getMessage('Link to incident');\n            body.errMsg = errMsg;\n            body.modalInfoMsg = gs.getMessage('You are linking the current {0} as a Parent to {1}', [problemGr.getDisplayValue(), incidentGr.getDisplayValue()]);\n            body.modalFields = [{\n                label: gs.getMessage('{0} (Private)', incidentGr.work_notes.getLabel()),\n                name: 'work_notes',\n                value: '',\n                fieldType: 'textarea'\n            }, {\n                label: gs.getMessage('{0} (Customer visible)', incidentGr.comments.getLabel()),\n                name: 'comments',\n                value: '',\n                fieldType: 'textarea'\n            }];\n            body.updateCurrentRecord = false;\n            body.postModalRestRequired = true;\n            return response.setBody(body);\n        } else if (actionStage === 'post_modal') {\n            incidentGr.setValue(LINK_FIELD, problemGr.getUniqueValue());\n            if (incidentGr.update()) {\n                body.successful = true;\n                body.useModal = false;\n                body.infoMsg = infoMsg;\n                body.updateCurrentRecord = true;\n            } else {\n                body.errMsg = errMsg;\n            }\n            return response.setBody(body);\n        }\n    }\n    incidentGr.setValue(LINK_FIELD, problemGr.getUniqueValue());\n    if (incidentGr.update()) {\n        body.succeed = true;\n        body.message = infoMsg;\n    } else {\n        body.message = errMsg;\n    }\n    response.setBody(body);\n})(request, response);","sys_updated_on":"2022-03-14 11:39:47","enforce_acl":"81661d6053120110ae50ddeeff7b12a2","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"079df50577300110b3771aceca5a9905","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/cxs_actions/link_inc_to_prb_rest","sys_created_on":"2021-12-31 14:14:05","sys_name":"link_inc_to_prb","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/49aff4bb733320103e366238edf6a70f","value":"49aff4bb733320103e366238edf6a70f"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5f387aa0b32023002bf182c136a8dc1c","value":"5f387aa0b32023002bf182c136a8dc1c"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/49aff4bb733320103e366238edf6a70f","value":"49aff4bb733320103e366238edf6a70f"},"sys_update_name":"sys_ws_operation_079df50577300110b3771aceca5a9905","consumes_customized":"false","name":"link_inc_to_prb","produces":"application/json,application/xml,text/xml","relative_path":"/link_inc_to_prb_rest","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tresponse.setContentType('application/json');\n\tvar artifactName = \"va_topic\";\n\tvar data = request.body.data;\n\tvar csTopicSysIds = data.topics;\n\tvar languages = data.languages;\n\tif (!csTopicSysIds || !languages) {\n\t\tresponse.setStatus(400);\n\t\tresponse.setBody({ errorMessage: \"Invalid request, missing required fields.\" });\n\t\treturn;\n\t}\n\n\ttry {\n\t\tvar lfApi = new global.LocalizationFrameworkAPIV2();\n\t\tvar result = lfApi.requestTranslations(artifactName, csTopicSysIds, languages);\n\t\tresponse.setStatus(200);\n\t\tresponse.setBody({ status: 'SUCCESS' });\n\t} catch (e) {\n\t\tresponse.setStatus(500);\n\t\tresponse.setBody({ errorMessage: e.message });\n\t}\n\n})(request, response);","sys_updated_on":"2021-10-04 19:57:15","enforce_acl":"95736dc3c7e220105a06145bf4c26096","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"07ec1329c72620105a06145bf4c260ff","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/virtual_agent_design/request_translation","sys_created_on":"2021-02-25 17:55:42","sys_name":"Request Translation","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/86719a5dc7e220105a06145bf4c26006","value":"86719a5dc7e220105a06145bf4c26006"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"12","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_ws_operation_07ec1329c72620105a06145bf4c260ff","consumes_customized":"false","name":"Request Translation","produces":"application/json,application/xml,text/xml","relative_path":"/request_translation","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var nlqApi = sn_nlq.JavascriptProcessorScoped;\n    if (!nlqApi) {\n        response.setStatus(404);\n        response.setError(new sn_ws_err.NotFoundError(\"The NLQ Scripted API is only supported in Vancouver and above.\"));\n        return response;\n    }\n\n})(request, response);","sys_updated_on":"2023-03-09 04:38:31","enforce_acl":"39a22ab60735011017b703767cd30036,a3036eb60735011017b703767cd300b7","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"0816bbbb4319211017b739603ab8f244","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_cmdb_ws/cmdb_workspace_api_scoped/nlq/suggest","sys_created_on":"2023-03-08 00:56:30","sys_name":"Suggest NLQ Search","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3ff417b78f3f2010960c53ac37bdeefb","value":"3ff417b78f3f2010960c53ac37bdeefb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_update_name":"sys_ws_operation_0816bbbb4319211017b739603ab8f244","consumes_customized":"false","name":"Suggest NLQ Search","produces":"application/json,application/xml,text/xml","relative_path":"/nlq/suggest","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\treturn new SowChangeCards().getOverflowValues();\n})(request, response);","sys_updated_on":"2024-08-16 16:01:26","enforce_acl":"1f440635771201100bfdaeb4bb5a99eb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"081c3cb57740121013d4aeb4bb5a9909","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sow_chg/sow_change_creation_page/getdropdownvalues","sys_created_on":"2024-08-16 15:30:38","sys_name":"getDropdownValues","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/17c918c723f33010b8f7dc1756bf650d","value":"17c918c723f33010b8f7dc1756bf650d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_update_name":"sys_ws_operation_081c3cb57740121013d4aeb4bb5a9909","consumes_customized":"false","name":"getDropdownValues","produces":"application/json,application/xml,text/xml","relative_path":"/getdropdownvalues","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar solutionNames = [];\n\tvar solutionNamesParam = getQueryParam(request, \"solution_names\");\n\tif (JSUtil.notNil(solutionNamesParam)) {\n\t\tsolutionNames = solutionNamesParam.split(',');\n\t}\n\n\tvar options = {};\n\tvar optionsParam = getQueryParam(request, \"options\");\n\tif (JSUtil.notNil(optionsParam)) {\n\t\toptions = JSON.parse(optionsParam);\n\t}\n\n\tvar input = getPredictionInput(request);\n\n\tvar result = {};\n\tvar eps = new GlideScriptedExtensionPoint().getExtensions(\"MLSolutionUtil\");\n\tif (eps.length > 0){\n\t\tvar point = eps[0];\n\t\tresult = point.getPredictions(input, solutionNames, options);\n\t}\n\treturn result;\n\n})(request, response);\n\nfunction getQueryParam(request, param_name) {\n\tif (request.queryParams[param_name])\n\t\treturn request.queryParams[param_name][0];\n\telse\n\t\treturn null;\n}\n\nfunction getPredictionInput(request) {\n\tvar predictionInput = {};\n\tvar inputMaps = getQueryParam(request, \"input_maps\");\n\tvar inputTable = getQueryParam(request, \"input_table\");\n\tvar inputFilter = getQueryParam(request, \"input_filter\");\n\n\tif (JSUtil.notNil(inputMaps)) {\n\t\tpredictionInput = JSON.parse(inputMaps);\n\t} else if (JSUtil.notNil(inputTable) && JSUtil.notNil(inputFilter)) {\n\t\tvar gr = new GlideRecord(inputTable);\n\t\tgr.addEncodedQuery(inputFilter);\n\t\tgr.query();\n\t\tpredictionInput = gr;\n\t}\n\treturn predictionInput;\n}","sys_updated_on":"2025-04-15 09:02:21","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"084ab9ef7363330080b29ca9faf6a79d","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/agent_intelligence/solution/prediction","sys_created_on":"2019-09-03 20:40:51","sys_name":"Prediction for multiple solutions","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3d4fe0bf0b323200c7ecc71437673a4e","value":"3d4fe0bf0b323200c7ecc71437673a4e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_ws_operation_084ab9ef7363330080b29ca9faf6a79d","consumes_customized":"false","name":"Prediction for multiple solutions","produces":"application/json,application/xml,text/xml","relative_path":"/solution/prediction","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Get the help resource from help content table ","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar restHandler, result, id, isSysId, snhelpUtil;\n\n\ttry {\n\t\tsnhelpUtil = new SNHelpUtil();\n\t\tif(!snhelpUtil.isSnHelpEnabled())\n\t\t\treturn snhelpUtil.snHelpDisabledError(response);\n\n\t\tid = request.queryParams.sys_id || request.queryParams.resource_id;\n\t\tisSysId = request.queryParams.sys_id ? true : false;\n\t\t// Query params are stored in an array\n\t\tif(Array.isArray(id) && id.length > 0) {\n\t\t\tid = id[0];\n\t\t}\n\n\t\trestHandler = new SNHelpGuidanceRestHandler();\n\n\t\tresult = restHandler.getResourceById(id, isSysId);\n\t\tresponse.setStatus(result.status);\n\n\t\tif (result.error) {\n\t\t\tresponse.setBody({error: result.error});\n\t\t} else {\n\t\t\tresponse.setStatus(result.status);\n\t\t\tresponse.setBody(result.data);\n\t\t}\n\n\t} catch (e) {\n\t\tresponse.setStatus(500);\n\t\tgs.error(\"SNHelpGuidanceRestHandler: \" + e.message);\n\t\tresponse.setBody({error: \"Internal server error\"});\n\t}\n\n})(request, response);","sys_updated_on":"2020-08-29 06:56:30","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"08684d7f5362101089abddeeff7b1264","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/help/resources","sys_created_on":"2020-08-17 10:41:10","sys_name":"Get resource by sys_id or resource_id","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/bd93a9195300501065f2ddeeff7b1297","value":"bd93a9195300501065f2ddeeff7b1297"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"9","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/562ba37304352210559073c06a02f751","value":"562ba37304352210559073c06a02f751"},"sys_update_name":"sys_ws_operation_08684d7f5362101089abddeeff7b1264","consumes_customized":"false","name":"Get resource by sys_id or resource_id","produces":"application/json,application/xml,text/xml","relative_path":"/resources","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var mobileThemeIds =  new sn_mobile_theme.MobileThemeColorAPI().getMobileThemeIds();\n\ttry {\n\t\treturn new MobileUXThemeService().getMobileUXThemes(mobileThemeIds);\n\t} catch (error) {\n\t\tnew ErrorHandler().throwSnWsError(error);\n\t}\n\n})(request, response);","sys_updated_on":"2023-05-22 17:36:17","enforce_acl":"4bbe81b4c703201066492f3bf4c260e6","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"088865dc43c32110e9af1f6ffab8f259","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_mab_api/mab_api/mobileUXThemes","sys_created_on":"2023-05-22 17:32:11","sys_name":"Get Mobile UX Themes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3512bd93c7c12010100f2f3bf4c26049","value":"3512bd93c7c12010100f2f3bf4c26049"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_update_name":"sys_ws_operation_088865dc43c32110e9af1f6ffab8f259","consumes_customized":"false","name":"Get Mobile UX Themes","produces":"application/json,application/xml,text/xml","relative_path":"/mobileUXThemes","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Returns the column information for a Excel spreadsheet attachment","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar MIN_COLUMN_LENGTH = 40;\n\t\n\tfunction isAttachmentAccessible(sysId) {\n\t\tvar gr = new GlideRecordSecure(\"sys_attachment\");\n\t\tgr.addQuery(\"sys_id\", sysId);\n\t\tgr.query();\n\t\treturn gr.hasNext();\n\t}\n\n\tfunction getAttachmentSysId(sysId) {\n\t\tif (!sysId) {\n\t\t\tthrow \"Attachment SysID is required \";\n\t\t}\n\n\t\tif (!isAttachmentAccessible(sysId)) {\n\t\t\tthrow \"Attachment \" + sysId + \" was not found\";\n\t\t}\n\n\t\treturn sysId;\n\t}\n\n\tfunction getHeaderRow(headerRowParam) {\n\t\t// Note: GlideExcelParser expects a zero-based header row number.\n\t\tvar row = headerRowParam ? (+headerRowParam[0] - 1) : 0;\n\t\tif (isNaN(row) || typeof row !== \"number\") {\n\t\t\tthrow \"Header row invalid \" + headerRowParam;\n\t\t}\n\n\t\treturn row;\n\t}\n\n\tvar headerRow = getHeaderRow(request.queryParams.headerRow);\n\tvar attachmentSysId = getAttachmentSysId(request.queryParams.attachmentSysId);\n\tvar attachmentStream = new GlideSysAttachment().getContentStream(attachmentSysId);\n\n\tvar parser = new sn_impex.GlideExcelParser();\n\tparser.setHeaderRowNumber(headerRow);\n\tif (!parser.parse(attachmentStream)) {\n\t\tthrow \"Attachment could not be parsed as an Excel Spreadsheet \" + attachmentSysId;\n\t}\n\n\tvar columns = {};\n\tvar tableInfo = parser.getTableInfo();\n\tfor (var name in tableInfo) {\n\t\tcolumns[name] = {\n\t\t\tlabel: name,\n\t\t\tinternal_type: tableInfo[name].getType(),\n\t\t\tmax_length: Math.max(tableInfo[name].getLength(), MIN_COLUMN_LENGTH)\n\t\t};\n\t}\n\n\treturn { columns: columns };\n})(request, response);","sys_updated_on":"2019-03-08 07:17:26","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"08dfe4f177003300df1a9c4f681061dd","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_g_app_creator/guided_app_creator_api/excel_spreadsheet_columns","sys_created_on":"2019-03-08 04:48:03","sys_name":"GET Excel Spreadsheet Columns","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e4f5d215533223004205ddeeff7b1258","value":"e4f5d215533223004205ddeeff7b1258"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/54bdb9a37732230001fb4311a8106127","value":"54bdb9a37732230001fb4311a8106127"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"26","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e4f5d215533223004205ddeeff7b1258","value":"e4f5d215533223004205ddeeff7b1258"},"sys_update_name":"sys_ws_operation_08dfe4f177003300df1a9c4f681061dd","consumes_customized":"false","name":"GET Excel Spreadsheet Columns","produces":"application/json","relative_path":"/excel_spreadsheet_columns","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t//System exclusion List\n\tvar manager = new global.CreateOrUpdateITService() ;\n\tvar systemExclusionList = manager.retrieveSystemExcludeList();\n\n\t//Returns true if typeName appears in the excludeList list\n\tvar checkIfInList = function(excludeList, typeName) {\n\t\tvar iterator = excludeList.iterator();\n\t\twhile (iterator.hasNext()) {\n\t\t\tvar parentInstanceName = iterator.next();\n\t\t\tvar test =  GlideDBObjectManager.get().isInstanceOf(typeName,parentInstanceName);\n\t\t\tif (test) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t};\n\n\t//sorts two types according to their label (ascending)\n\tvar comperator = function(typeA, typeB) {\n\t\tvar typeLC_a = typeA.label.toLowerCase();\n\t\tvar typeLC_b = typeB.label.toLowerCase();\n\t\tif (typeLC_a < typeLC_b){\n\t\t\treturn -1;\n\t\t} else if (typeLC_a > typeLC_b){\n\t\t\treturn  1;\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t};\n\n\n\t//used to allow only a specific type\n\tvar expectedTypeSource = request.queryParams[\"expectedType\"];\n\n\tvar expectedType = null;\n\tif (expectedTypeSource) {\n\t\texpectedType= expectedTypeSource;\n\t}\n\n\n    // implement resource here\n\tvar ciClasses = [];\n    var children = GlideDBObjectManager.get().getAllExtensions(\"cmdb_ci\");\n\n    for (var index = 0; index < children.size(); index++) {\n\t\tvar retJson = {};\n\t\tvar typeName = children.get(index);\n\n\t\tvar isInSystemExclusionList = checkIfInList(systemExclusionList, typeName);\n\t\tif (isInSystemExclusionList) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tvar isExpectedType = (!expectedType) || (typeName == expectedType);\n\t\tvar isDirectConfigurationItem = (typeName == \"cmdb_ci\");\n\t\tif (isExpectedType && !isDirectConfigurationItem){\n\t\t\tretJson.id = typeName;\n\t\t\tretJson.name = typeName;\n\t\t\tvar tableDesc = GlideTableDescriptor.get(typeName);\n\t\t\tretJson.label =  tableDesc.getLabel();\n\t\t\tretJson.sys_id = tableDesc.getUniqueID();\n\t\t\tciClasses.push(retJson);\n\t\t}\n\t}\n\treturn ciClasses.sort(comperator);\n})(request, response);","sys_updated_on":"2022-03-22 11:45:39","enforce_acl":"edc5e02473230010ee4dd3c72bf6a7ea","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"092b525c537b0010ee0dddeeff7b12fc","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/csdm_app_service/ci_types","sys_created_on":"2020-03-23 02:52:09","sys_name":"Get CI Types","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/60c171d973c30010ee4dd3c72bf6a716","value":"60c171d973c30010ee4dd3c72bf6a716"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2f8d67ff04352210559073c06a02f74f","value":"2f8d67ff04352210559073c06a02f74f"},"sys_update_name":"sys_ws_operation_092b525c537b0010ee0dddeeff7b12fc","consumes_customized":"false","name":"Get CI Types","produces":"application/json,application/xml,text/xml","relative_path":"/ci_types","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var gr = new GlideRecord('cmdb_identifier');\n\tvar obj = new IdentificationRuleValidator();\n\tvar msg = '';\n\t\n\tif (gr.get(request.pathParams.sys_id)) {\n\t\tmsg = obj.validate(gr);\n\t}\n\t\n\treturn msg;\n\n})(request, response);","sys_updated_on":"2017-08-01 17:50:05","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"09b2cc063b1003001298874064efc416","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/cmdb_ui_api/validate/{sys_id}","sys_created_on":"2017-08-01 17:50:05","sys_name":"validate","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/11920c063b1003001298874064efc45a","value":"11920c063b1003001298874064efc45a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_ws_operation_09b2cc063b1003001298874064efc416","consumes_customized":"false","name":"validate","produces":"application/json,application/xml,text/xml","relative_path":"/validate/{sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n    var appId = request.pathParams.appId;\n\t\n\tScopeCheck.verifyNotGlobal(appId);\n\t\n\tvar allowed = VCSAppAccessCheck.verifyReadAccess(appId) && (VCSAppAccessCheck.isGACOrSourceControlUser() || VCSAppAccessCheck.verifyVersionControlAccess(appId));\n\n    if (!allowed) \n\t\tVCSAppAccessCheck.throwAccessDenied(appId);\n\t\n\tvar repo = sn_vcs.AppSourceControl.getRepository(appId),\n\t\tbranches = repo.getBranches(),\n\t\tresult = [];\n\t\n\twhile (branches && branches.next()) {\n\t\tresult.push({\n\t\t\tappId: appId,\n\t\t\trepoId: branches.getSysRepoConfigSysId(),\n\t\t\tname: branches.getName(),\n\t\t\tisCurrent: branches.isCurrent(),\n\t\t\theadCommit: branches.getHeadCommit()\n\t\t});\n\t} \n\t\n\tresponse.setBody({\n\t\tcount: result.length,\n\t\tbranches: result\n\t});\n\n\tresponse.setStatus(200);\n\tresponse.setContentType('application/json');\n\n})(request, response);\n","sys_updated_on":"2021-04-06 20:20:19","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"0a05725537330200612747efbe41f19b","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/apps/{appId}/repos/{repoId}/branches","sys_created_on":"2015-11-17 13:48:36","sys_name":"List Branches","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"28","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_0a05725537330200612747efbe41f19b","consumes_customized":"false","name":"List Branches","produces":"application/json,application/xml,text/xml","relative_path":"/apps/{appId}/repos/{repoId}/branches","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/apps/{appId}/repos/{repoId}/branches","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var payloads = request.body.data;\n    var {\n        table,\n        sysId,\n        action,\n        payload\n    } = payloads;\n    var logger = new sn_wwna.WWNALogger();\n    logger.info(\"WWNA: Invoke WWNA action API request body arguments: \" + JSON.stringify({\n        table,\n        sysId,\n        action,\n        payload\n    }));\n    if (!table || !sysId || !action || !payload) {\n        let missingParams = ['table', 'sysId', 'action', 'payload'].filter(param => !payloads[param]);\n        logger.error(\"WWNA: Invoke WWNA action API request body missing arguments: \" + JSON.stringify(missingParams));\n        response.setStatus(400);\n        return response.setBody({\n            status: 'failure',\n            message: 'Missing required parameters: ' + missingParams.join(', ')\n        });\n    }\n    try {\n        const wwna_table = \"wwna_quick_actions\";\n        const message = \"/\" + action + \" \" + payload;\n        var result = new sn_wwna.WWNAUtils().invokeNACMAction(table, sysId, message, \"public\");\n        if (result) {\n            logger.info(\"WWNA: Skill Config API formatted skillConfiguration: \" + JSON.stringify(result));\n            response.setStatus(200);\n            return response.setBody({\n                status: 'success',\n                data: result\n            });\n        } else {\n            throw new Error(\"WWNA: Skill Config API error: Action result is empty\");\n        }\n    } catch (error) {\n        logger.error(\"WWNA: Invoke WWNA action API error: \" + error.message);\n        response.setStatus(500);\n        return response.setBody({\n            status: 'failure',\n            message: \"Something went wrong, please contact your system Admin!\"\n        });\n    }\n})(request, response);","sys_updated_on":"2024-10-11 09:37:16","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"0a15efafff01121070fcffffffffffce","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_wwna/wwna/test_wwna_action","sys_created_on":"2024-10-11 07:23:12","sys_name":"Test WWNA Action","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/757c34719bf7f10c4a1f9fe81ba8bba3","value":"757c34719bf7f10c4a1f9fe81ba8bba3"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/4ab4da0643520210fbb28b11afb8f20d","value":"4ab4da0643520210fbb28b11afb8f20d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/757c34719bf7f10c4a1f9fe81ba8bba3","value":"757c34719bf7f10c4a1f9fe81ba8bba3"},"sys_update_name":"sys_ws_operation_0a15efafff01121070fcffffffffffce","consumes_customized":"false","name":"Test WWNA Action","produces":"application/json,application/xml,text/xml","relative_path":"/test_wwna_action","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // implement resource here\n\tvar cartID = request.pathParams.sys_id;\n\t\n\tvar cart = new sn_sc.CartJS();\n\tif(!cart.canEmptyCart(cartID))\n\t\tthrow new sn_ws_err.BadRequestError(\"Either the CartID is invalid or Security constraints prevents access to it!\");\n\telse\n\t\tcart.empty(cartID);\n\tresponse.setStatus(204);\n\n})(request, response);","sys_updated_on":"2016-02-05 09:48:17","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"0a38a152db10120064301150f0b8f535","http_method":"DELETE","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/cart/{sys_id}/empty","sys_created_on":"2015-12-15 07:29:54","sys_name":"Empty Cart","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"20","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_0a38a152db10120064301150f0b8f535","consumes_customized":"false","name":"Empty Cart","produces":"application/json,application/xml,text/xml","relative_path":"/cart/{sys_id}/empty","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/cart/{sys_id}/empty","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar util = new GuidedSetupUtilSNC();\n\n\ttry {\n\t\t// isMetaAccessAllowed security check is moved to script include\n\t\treturn util.getRootContentDetails(request.pathParams.contentId, request.queryParams);\n\t} catch (e) {\n\t\treturn util.restErrorHandler(e, response);\n\t}\n\n})(request, response);","sys_updated_on":"2016-11-10 19:13:35","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"0a961124ffe30200b18affffffffffa0","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/guided_setup/content/{contentId}/root","sys_created_on":"2015-11-02 12:44:17","sys_name":"Root Content Details","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5f4ef4ed9f401200b18a7feea57fcfbe","value":"5f4ef4ed9f401200b18a7feea57fcfbe"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3ce43d1bff220200b18affffffffff55","value":"3ce43d1bff220200b18affffffffff55"},"consumes":"application/json","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5f4ef4ed9f401200b18a7feea57fcfbe","value":"5f4ef4ed9f401200b18a7feea57fcfbe"},"sys_update_name":"sys_ws_operation_0a961124ffe30200b18affffffffffa0","consumes_customized":"false","name":"Root Content Details","produces":"application/json","relative_path":"/content/{contentId}/root","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // implement resource here\n    var payload = request.body.data;\n    var tableName = request.pathParams['table_name'];\n    var queryParams = request.queryParams;\n    var pdf_id = \"\",\n        newTableName = \"\";\n\n    if (queryParams.hasOwnProperty(\"pdfId\")) {\n        pdf_id = String(queryParams['pdfId']);\n    }\n\n    if (queryParams.hasOwnProperty(\"new_table_name\")) {\n        newTableName = String(queryParams['new_table_name']);\n    }\n\n    var res_obj = {\n        status: 'success'\n    };\n    if (!payload || !tableName) {\n\t\tres_obj['status'] = 'error';\n        res_obj['message'] = \"Payload/tableName is missing in API call.\";\n    } else {\n        res_obj = new PDFtoTableOperationHelper().updateTableData(tableName,pdf_id,payload,newTableName);\n    }\n\n    response.setBody(res_obj);\n\n})(request, response);","sys_updated_on":"2022-08-12 02:33:06","enforce_acl":"f7e62b5f97e415108843f73ef053af30","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"0b23e2f797cd51108843f73ef053af1e","http_method":"POST","sys_updated_by":"devendher.macha@snc","operation_uri":"/api/sn_pdf_table_bldr/app/save_data/{table_name}","sys_created_on":"2022-08-08 12:28:21","sys_name":"Save PDF TableData","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/8e417ee064982b70a7bd187e6edb95f1","value":"8e417ee064982b70a7bd187e6edb95f1"},"sys_created_by":"devendher.macha@snc","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/16652f5b97e415108843f73ef053af22","value":"16652f5b97e415108843f73ef053af22"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8e417ee064982b70a7bd187e6edb95f1","value":"8e417ee064982b70a7bd187e6edb95f1"},"sys_update_name":"sys_ws_operation_0b23e2f797cd51108843f73ef053af1e","consumes_customized":"false","name":"Save PDF TableData","produces":"application/json,application/xml,text/xml","relative_path":"/save_data/{table_name}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"Combines the policy query with the exclusion list and retirement definition","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    response.setContentType('application/json');\n    var result = {};\n    var helper = new CMDBDataManagerHelper();\n    var policyTypeId = helper.getParamAsString('policy_type_id');\n    var encodedQuery = helper.getParamAsString('encoded_query');\n    var table = helper.getParamAsString('table') || ''; // optional parameter, for legacy workspace this isn't populated\n\n    //If the policy type is one that requires use of enforced conditions, \n    //  include its sys_id in the conditionalPolicies array below\n    var ARCHIVE_ID = 'b82b20d00731201017b703767cd300e1';\n    var DELETE_ID = '562bec900731201017b703767cd300e7';\n    var RETIRE_ID = '66306fcb7352201026f6aa114df6a77c';\n    var conditionalPolicies = [ARCHIVE_ID, DELETE_ID, RETIRE_ID];\n\n    var fullEncodedQuery = \"\";\n\n    if (conditionalPolicies.indexOf(policyTypeId) > -1) {\n        var classesFromQuery = [];\n        // TODO: This query is extremely expensive for large customers and should be refactored to only support the policy table\n        var grCI = new GlideAggregate('cmdb_ci');\n        grCI.addEncodedQuery(encodedQuery);\n        grCI.groupBy('sys_class_name');\n        grCI.query();\n        while (grCI.next()) {\n            classesFromQuery.push(grCI.getValue('sys_class_name'));\n        }\n        var tableString = classesFromQuery.join();\n        if (!tableString) {\n            fullEncodedQuery = \"sys_class_nameISEMPTY\";\n        } else {\n            fullEncodedQuery = sn_cmdb.CMDBRetirementScriptableApi.getFullEncodedQueryCombined(tableString, policyTypeId, encodedQuery, table);\n            if (gs.nil(fullEncodedQuery) || fullEncodedQuery.startsWith(\"sys_class_nameISEMPTY\"))\n                return new sn_ws_err.BadRequestError('No retirement definitions for the impacted classes');\n        }\n    }\n    result.fullEncodedQuery = fullEncodedQuery;\n\n    response.setStatus(200);\n    response.setBody(result);\n})(request, response);","sys_updated_on":"2024-03-25 21:49:04","enforce_acl":"bf20624e53832010af64ddeeff7b1272","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"0b2c8d6243e0021002f939603ab8f251","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/ci_lifecycle_manager/full_encoded_query","sys_created_on":"2024-02-27 00:58:20","sys_name":"Get Full Encoded Query","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ad9ebe127322101045cadfcd3bf6a735","value":"ad9ebe127322101045cadfcd3bf6a735"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"13","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"sys_update_name":"sys_ws_operation_0b2c8d6243e0021002f939603ab8f251","consumes_customized":"false","name":"Get Full Encoded Query","produces":"application/json,application/xml,text/xml","relative_path":"/full_encoded_query","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var contents = [];\n    var files = [];\n    var URIS_STRING = 'uris';\n\n    try {\n        var requestBody = request.body.data;\n\n        if (requestBody === null || requestBody === undefined || JSON.stringify(requestBody) === '{}') {\n            var info = new sn_ws_err.BadRequestError(`Request body is empty, expected \"${URIS_STRING}\" object`);\n            return response.setBody(info);\n        }\n\n        var fileUris = requestBody['uris'];\n\n        if (fileUris === undefined) {\n            var err = new sn_ws_err.ServiceError();\n            err.setStatus(422);\n            err.setMessage('Invalid request body payload');\n            err.setDetail(`Expected \"uris\" array object in the request body payload`);\n\n            return response.setError(err);\n        }\n\n        for (var i = 0; i < fileUris.length; i++) {\n            var fileStat = new sn_glider.SyncUtil().getFileStat(fileUris[i]);\n\n            if (fileStat.file)\n                files.push(fileStat.file);\n\n            if (fileStat.content)\n                contents.push(fileStat.content);\n        }\n\n        var resObj = {\n            timeStamp: Date.now(),\n            files,\n            contents\n        };\n\n        response.setStatus(200);\n        response.setBody(resObj);\n    } catch (err) {\n        var exp = new sn_ws_err.BadRequestError(err.message);\n        response.setError(exp);\n    }\n})(request, response);","sys_updated_on":"2024-05-10 18:34:43","enforce_acl":"4bf8f016a3060210acce0373341e61fe","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"\"path1/file1, path2/file2,path3/file3\"","sys_id":"0b3f30f7434146104733a7ec6bb8f2ee","http_method":"POST","sys_updated_by":"maint","operation_uri":"/api/sn_glider/sync/files","sys_created_on":"2024-03-26 17:45:19","sys_name":"Files","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/fd254d9443a161100967247e6bb8f200","value":"fd254d9443a161100967247e6bb8f200"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3510f477430146104733a7ec6bb8f2cf","value":"3510f477430146104733a7ec6bb8f2cf"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"17","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fd254d9443a161100967247e6bb8f200","value":"fd254d9443a161100967247e6bb8f200"},"sys_update_name":"sys_ws_operation_0b3f30f7434146104733a7ec6bb8f2ee","consumes_customized":"false","name":"Files","produces":"application/json,application/xml,text/xml","relative_path":"/files","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar rotaId = request.queryParams.rota_id ? request.queryParams.rota_id + \"\" : \"\";\n    var escalationSetSysId = request.queryParams.escalation_set_sys_id ? request.queryParams.escalation_set_sys_id + \"\" : \"\";\n\ttry {\n\t\treturn new OnCallCommon().getEscalationPathDefinition(rotaId, escalationSetSysId);\n\t} catch (e) {\n\t\tif (e.securityError) {\n\t\t\tvar body = {\n\t\t\t\terror: {\n\t\t\t\t\tmessage: e.message\n\t\t\t\t}\n\t\t\t};\n\t\t\tresponse.setBody(body);\n\t\t\tresponse.setStatus(403);\n\t\t}\n\t\telse {\n\t\t\treturn new sn_ws_err.BadRequestError(e.message);\n\t\t}\n\t}\n})(request, response);","sys_updated_on":"2019-04-10 10:38:41","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"0b4dc7f953e72300bf68ddeeff7b1294","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/escalation_path","sys_created_on":"2019-02-11 19:43:14","sys_name":"Get escalation path definition","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"8","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_0b4dc7f953e72300bf68ddeeff7b1294","consumes_customized":"false","name":"Get escalation path definition","produces":"application/json,application/xml,text/xml","relative_path":"/escalation_path","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar NEGATIVE_SENTIMENT = 'Negative';\n\tvar POSITIVE_SENTIMENT = 'Positive';\n\tvar requestData = request.body.data;\n\t\n\tif (!requestData || Object.keys(requestData).length == 0 || !requestData['sysId']) {\n\t\tvar error = new sn_ws_err.ServiceError();\n        error.setStatus(400);\n        error.setMessage(\"There was not enough logging information included in the payload\");\n        return error;\n\t}\n\t\n\tvar feedbackSentiment = requestData.feedbackSentiment + '';\n\tif (POSITIVE_SENTIMENT != feedbackSentiment && NEGATIVE_SENTIMENT != feedbackSentiment)\n\t\tfeedbackSentiment = '';\n\t\n\tvar gr = new GlideRecord('nlq_query_log');\n\tgr.addQuery('sys_id', requestData.sysId + '');\n\tgr.addQuery('user', gs.getUserID());\n\tgr.query();\n\tif (!gr.next()) \n\t\treturn new sn_ws_err.BadRequestError('NLQ Log could not be found or is not from the user logged in');\n\t\n\tgr.setValue('feedback_sentiment', feedbackSentiment);\n\tgr.setValue('feedback_problem_category', requestData.feedbackProblemCategory ? requestData.feedbackProblemCategory + '' : '');\n\tgr.setValue('feedback_detailed', requestData.feedbackDetailed ? requestData.feedbackDetailed + '' : '');\n\tgr.update();\n    response.setStatus(200);\n\n})(request, response);","sys_updated_on":"2022-02-22 18:12:55","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"0b637a42c7310110f376a0736cc2603f","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/nlq/nlq_query_log","sys_created_on":"2022-02-22 13:47:48","sys_name":"nlq query log","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/9c43f242c7310110f376a0736cc26073","value":"9c43f242c7310110f376a0736cc26073"},"consumes":"application/json","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"12","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cebd633304752210559073c06a02f7f7","value":"cebd633304752210559073c06a02f7f7"},"sys_update_name":"sys_ws_operation_0b637a42c7310110f376a0736cc2603f","consumes_customized":"false","name":"nlq query log","produces":"application/json","relative_path":"/nlq_query_log","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar cartItemId = request.pathParams.cart_item_id;\n\tif (!cartItemId)\n\t\tthrow new sn_ws_err.BadRequestError(\"Cart item id is required\");\n\tcartItemId = '' + cartItemId;\n\tvar cartItemGr = new GlideRecordSecure(\"sc_cart_item\");\n\tif (!cartItemGr.get(cartItemId))\n\t\tthrow new sn_ws_err.NotFoundError(\"Either the Cart Item ID is invalid or Security constraints prevent access to it!\");\n\n\tvar cartJS = new sn_sc.CartJS(\"saved_items\");\n\treturn cartJS.getCartItemDetails(cartItemId);\n})(request, response);","sys_updated_on":"2016-07-21 06:02:09","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"0b795491c3202200d68d3b0ac3d3aeb7","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/wishlist/{cart_item_id}","sys_created_on":"2016-07-10 05:37:09","sys_name":"Item in wishlist","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_0b795491c3202200d68d3b0ac3d3aeb7","consumes_customized":"false","name":"Item in wishlist","produces":"application/json,application/xml,text/xml","relative_path":"/wishlist/{cart_item_id}","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/wishlist/{cart_item_id}","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var appManagerApiUtil = new AppManagerApiUtil(request, response);\n    var tracker = new ProgressTracker();\n    try {\n        var trackerId = request.pathParams.trackerId;  \n        var result = tracker.getProgress(trackerId);\n        appManagerApiUtil.setResponseBody(result);\n    } catch (err) {\n        appManagerApiUtil.setError(err);\n    }\n})(request, response);","sys_updated_on":"2023-10-04 09:25:33","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/be08b89397b0d1104b593f0e6253afe1","value":"be08b89397b0d1104b593f0e6253afe1"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"0ba6ece777e42110c918256a5b5a99a8","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_appclient/v1/appmanager/progress/{trackerId}","sys_created_on":"2023-01-28 08:33:19","sys_name":"Execution Status","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7ea1fc5f9770d1104b593f0e6253af99","value":"7ea1fc5f9770d1104b593f0e6253af99"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_update_name":"sys_ws_operation_0ba6ece777e42110c918256a5b5a99a8","consumes_customized":"false","name":"Execution Status","produces":"application/json,application/xml,text/xml","relative_path":"/progress/{trackerId}","produces_customized":"false","default_operation_uri":"/api/sn_appclient/appmanager/progress/{trackerId}","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar sysId = request.pathParams.sys_id || \"\";\n\tif (!sysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Change Request id not provided\");\n\n\tvar changeRequestGr = new GlideRecordSecure(global.ChangeRequest.CHANGE_REQUEST);\n\tif (!changeRequestGr.get(sysId))\n\t\treturn new sn_ws_err.NotFoundError(\"Change Request not found\");\n\n\tvar evaluatedRiskImpact = new global.RiskCalculator(changeRequestGr).evaluateRiskImpact();\n\tif (!evaluatedRiskImpact)\n\t\treturn new sn_ws_err.BadRequestError(\"Failed to evaluate Risk and Impact\");\n\n\tif (evaluatedRiskImpact && evaluatedRiskImpact.errorMsg)\n\t\treturn new sn_ws_err.BadRequestError(evaluatedRiskImpact.errorMsg);\n\n\t// refresh the gliderecord\n\tchangeRequestGr.get(changeRequestGr.getUniqueValue());\n\treturn new global.ChangeRequest(changeRequestGr).toJS();\n})(request, response);","sys_updated_on":"2018-09-06 14:25:01","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"0bb5d48bb710230096c3e4f6ee11a933","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/{sys_id}/risk","sys_created_on":"2018-09-06 14:08:35","sys_name":"Risk - Calculate","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_0bb5d48bb710230096c3e4f6ee11a933","consumes_customized":"false","name":"Risk - Calculate","produces":"application/json,application/xml,text/xml","relative_path":"/{sys_id}/risk","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/{sys_id}/risk","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n\n\tresponse.setContentType('application/json');\n    var helper = new CMDBDataManagerHelper();\n\tvar includeOnDemandPolicyType = helper.getParamAsString('include_on_demand_policy_type');\n    var result = {};\n\tif (JSUtil.nil(includeOnDemandPolicyType)) {\n        return new sn_ws_err.BadRequestError('Missing include_on_demand_policy_type param');\n    }\n\tresult.policy_types = helper.getPolicyTypes(includeOnDemandPolicyType);\n    response.setStatus(200);\n    response.setBody(result);\n})(request, response);","sys_updated_on":"2021-08-18 22:50:21","enforce_acl":"885bc51053832010af64ddeeff7b12cb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"0c01c0e00731201017b703767cd30013","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/ci_lifecycle_manager/policy_types","sys_created_on":"2021-01-15 16:34:35","sys_name":"Get Policy Types","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ad9ebe127322101045cadfcd3bf6a735","value":"ad9ebe127322101045cadfcd3bf6a735"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"23","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"sys_update_name":"sys_ws_operation_0c01c0e00731201017b703767cd30013","consumes_customized":"false","name":"Get Policy Types","produces":"application/json,application/xml,text/xml","relative_path":"/policy_types","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var data = request.body.data;\n\n    try {\n        if ((data.testSet && data.modelList && Array.isArray(data.modelList)) || data.testRun) {\n            var definitionId = data.testRun;\n\n            // If definitionId is not provided, then it's a fresh run:\n            if (!definitionId) {\n                var isOptimize = !!data.isOptimized;\n\n                // Check if there is a definition with same set of inputs:\n                var defGr = data.reRun && sn_nlu_workbench.NLUBatchTestDefinition.getRecord(data.testSet, data.modelList, isOptimize);\n                definitionId = defGr && defGr.getUniqueValue();\n                if (!definitionId) {\n                    sn_nlu_workbench.NLUBatchTestDefinition.validateAndGetModelSnapshot(\n                        data.modelList, isOptimize);\n                    definitionId = sn_nlu_workbench.NLUBatchTestDefinition.addRecord(\n                        data.testSet, data.modelList, isOptimize);\n                    if (gs.nil(definitionId))\n                        throw new Error(gs.getMessage('Failed to create test run definition'));\n                }\n            }\n\n            var result = sn_nlu_workbench.NLUBatchTestDefinition.runTestInBackground(\n                definitionId, data.sync);\n\n            if (result.status === 'success') {\n                response.setStatus(200);\n            } else {\n                response.setStatus(400);\n            }\n            response.setContentType('application/json');\n            return result;\n        } else {\n            return new sn_ws_err.BadRequestError('Invalid input data provided');\n        }\n    } catch (e) {\n        response.setStatus(400);\n        return {\n            status: 'failure',\n            message: e.message\n        };\n    }\n\n})(request, response);","sys_updated_on":"2021-12-23 04:38:21","enforce_acl":"0f43facbeb8220105de665fcc8522895","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b51a6d700710201028ef0a701ad300ab","value":"b51a6d700710201028ef0a701ad300ab"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"0c2a25b00710201028ef0a701ad300b0","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_nlu_workbench/v1/nlu_advanced/runBatchTest","sys_created_on":"2021-07-01 03:59:39","sys_name":"runBatchTest","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea82488673402010e6b632e954f6a7ca","value":"ea82488673402010e6b632e954f6a7ca"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"21","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_update_name":"sys_ws_operation_0c2a25b00710201028ef0a701ad300b0","consumes_customized":"false","name":"runBatchTest","produces":"application/json,application/xml,text/xml","relative_path":"/runBatchTest","produces_customized":"false","default_operation_uri":"/api/sn_nlu_workbench/nlu_advanced/runBatchTest","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var restHandler, result, context_lane_sys_ids;\n    try {\n        restHandler = new sn_ads_setup.SNHelpSetupRestHandler();\n        context_lane_sys_ids = request.pathParams.context_lane_sys_ids;\n        result = restHandler.getPDLaneDescriptions(context_lane_sys_ids);\n        response.setStatus(result.status);\n        if (result.error) {\n            response.setBody({\n                error: result.error\n            });\n        } else {\n            response.setBody(result.data);\n        }\n    } catch (e) {\n        response.setStatus(500);\n        gs.error(\"SNHelpSetupRestHandler: \" + e.message);\n        response.setBody({\n            error: \"Internal server error\"\n        });\n    }\n\n})(request, response);","sys_updated_on":"2024-04-13 08:19:20","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"0c8ed3914325021050286548b9b8f297","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_ads_setup/play/pd_lane/descriptions/{context_lane_sys_ids}","sys_created_on":"2024-04-13 08:19:20","sys_name":"Get PAD Lanes Description","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/9fb44064773230106ee492b01e5a9991","value":"9fb44064773230106ee492b01e5a9991"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_update_name":"sys_ws_operation_0c8ed3914325021050286548b9b8f297","consumes_customized":"false","name":"Get PAD Lanes Description","produces":"application/json,application/xml,text/xml","relative_path":"/pd_lane/descriptions/{context_lane_sys_ids}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var table = request.body.data.table || null;\n    if (!table)\n        return new sn_ws_err.BadRequestError('table not provided');\n\n    var sysId = request.body.data.sysId || null;\n    if (!sysId)\n        return new sn_ws_err.BadRequestError('sysId not provided');\n\n    var view = request.body.data.view || null;\n    if (!view)\n        return new sn_ws_err.BadRequestError('view not provided');\n\n    var state = request.body.data.state || '';\n    var isNew = (request.body.data.isNew + '' === 'true') || (sysId === '-1');\n\n    var changeState = request.body.data.changeState;\n    if (!changeState)\n        return new sn_ws_err.BadRequestError('changeState not provided');\n\n    var changeModel = request.body.data.changeModel;\n\n    var userPref = request.body.data.preferences;\n    if (!userPref)\n        return new sn_ws_err.BadRequestError('userPref not provided');\n\n    var chgUtils = new SOWChangeUtils();\n\n    var result = {\n        formData: chgUtils.getFormSectionsForLayout(table, sysId, view),\n        stateFormData: chgUtils.getSectionsForState(table, sysId, state, isNew),\n        versionNumber: gs.getProperty('itsm_family_release_version_check', 0),\n        stepperData: chgUtils.getStepperData(changeState, changeModel),\n        preference: chgUtils.getUserPreference(userPref)\n    };\n\n    return result;\n})(request, response);","sys_updated_on":"2024-10-15 14:34:52","enforce_acl":"ca65477e9fb8121001b688e1ba0a1cf5","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a912b23453a6111088d8ddeeff7b1240","value":"a912b23453a6111088d8ddeeff7b1240"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"0ca9c4829fb8121001b688e1ba0a1c49","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/sn_sow_chg/v1/sow_change_utils/get_change_overview_details","sys_created_on":"2024-09-23 13:18:03","sys_name":"getChangeOverviewDetails","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3d876fa953615110532cddeeff7b12bb","value":"3d876fa953615110532cddeeff7b12bb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"24","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_update_name":"sys_ws_operation_0ca9c4829fb8121001b688e1ba0a1c49","consumes_customized":"false","name":"getChangeOverviewDetails","produces":"application/json,application/xml,text/xml","relative_path":"/get_change_overview_details","produces_customized":"false","default_operation_uri":"/api/sn_sow_chg/sow_change_utils/get_change_overview_details","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar payload = request.body.data;\n\tvar parameters = {};\n\n\t// Create the request from the payload\n\tif (payload && payload.params){\n\t\tparameters = payload.params;\n\t\tif(parameters){\n\n\t\t\tvar kbService = new KBPortalService();\n\t\t\tvar result = kbService.getAllFacets(\n\t\t\t\tgetParamAsString(\"keyword\"),\n\t\t\t\tgetParamAsString(\"language\"),\n\t\t\t\tgetParamAsString(\"variables\"),\n\t\t\t\tgetParamAsString(\"query\"),\n\t\t\t\tgetParamAsString(\"order\"),\n\t\t\t\tgetParamAsString(\"paginationMinCount\"),\n\t\t\t\tgetParamAsString(\"portal_suffix\"),\n\t\t\t\ttrue\n\t\t\t);\n\t\t\tvar status;\n\n\t\t\t//We want to keep the browser from caching these responses\n\t\t\tresponse.setHeader(\"Cache-Control\", \"no-cache,no-store,must-revalidate,max-age=-1\");\n\t\t\tresponse.setHeader(\"Pragma\", \"no-store,no-cache\");\n\t\t\tresponse.setHeader(\"Expires\",\"Thu, 01 Jan 1970 00:00:00\");\n\t\t\tresponse.setContentType('application/json');\n\t\t\tresponse.setStatus(status);\n\n\t\t\tif (result) {\n\t\t\t\tstatus = 200;\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\t// If error in result\n\t\t\t\treturn new sn_ws_err.BadRequestError(\"Invalid input data provided\"); \n\t\t\t}\n\t\t}else{\n\t\t\t// If payload format is not as expected return error\n\t\t\treturn new sn_ws_err.BadRequestError(\"Invalid input parameters\"); \n\t\t}\n\t}else{\n\t\t// If there is no payload we can return an error.\n\t\treturn new sn_ws_err.BadRequestError(\"No input data provided\"); \n\t}\n\n\t//make sure we always get strings from the parameter map\n\tfunction getParamAsString(paramName) {\n\t\tvar val = parameters[paramName];\n\t\tif (val){\n\t\t\tif(typeof val === 'object')\n\t\t\t\treturn new global.JSON().encode(val) + '';\n\t\t\telse\n\t\t\t\treturn val+'';\n\t\t}\n\t\treturn '';\n\t}\n\n})(request, response);","sys_updated_on":"2020-01-27 09:59:10","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/ff718228db70320099f93691f0b8f5ef","value":"ff718228db70320099f93691f0b8f5ef"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"0ce9f3aedb01320002533691f0b8f547","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/v1/knowledge/search/facets","sys_created_on":"2017-02-23 11:43:25","sys_name":"getAllFacets","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bab6dea3db20320099f93691f0b8f590","value":"bab6dea3db20320099f93691f0b8f590"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/8ad394c8db03220099f93691f0b8f584","value":"8ad394c8db03220099f93691f0b8f584"},"consumes":"application/json","requires_snc_internal_role":"false","requires_authentication":"false","sys_mod_count":"39","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bab6dea3db20320099f93691f0b8f590","value":"bab6dea3db20320099f93691f0b8f590"},"sys_update_name":"sys_ws_operation_0ce9f3aedb01320002533691f0b8f547","consumes_customized":"true","name":"getAllFacets","produces":"application/json","relative_path":"/search/facets","produces_customized":"true","default_operation_uri":"/api/now/knowledge/search/facets","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // implement resource here\n    var requestBody = request.body.data;\n    var currentRecordTable = requestBody.table;\n    var currentRecordSysId = requestBody.sysId;\n    var actionInputs = requestBody.actionInputs;\n    var actionType = requestBody.actionType;\n    var actionId = requestBody.actionId;\n    var ruleContextId = requestBody.contextSysId;\n\n    response.setContentType('application/json');\n    if (!sn_nb_action.NextBestActionUtil.isValidString(currentRecordTable) || !sn_nb_action.NextBestActionUtil.isValidString(currentRecordSysId) || !sn_nb_action.NextBestActionUtil.isValidString(actionType) || !sn_nb_action.NextBestActionUtil.isValidString(actionId))\n        response.setError(new sn_ws_err.BadRequestError(gs.getMessage('Missing required parameters')));\n    else {\n        try {\n            var nbaService = new sn_nb_action.NextBestActionService();\n            var result = {};\n            var actionDetailId = nbaService.createSearchExecutionRecord(currentRecordTable, currentRecordSysId, actionType, actionInputs, actionId, ruleContextId);\n            if (actionDetailId) {\n                result.actionDetailId = actionDetailId;\n                response.setBody(result);\n                response.setStatus(200);\n            } else {\n                var errObj = new sn_ws_err.ServiceError();\n                errObj.setStatus(500);\n                errObj.setMessage(gs.getMessage('Error getting actions'));\n                errObj.setDetail(gs.getMessage('Refer error logs for details'));\n                response.setError(errObj);\n            }\n\n        } catch (err) {\n            gs.error(\"Create search result execution record failed : \" + JSON.stringify(err));\n            var customErrObj = new sn_ws_err.ServiceError();\n            customErrObj.setStatus(500);\n            customErrObj.setMessage(gs.getMessage('Error getting actions'));\n            customErrObj.setDetail(gs.getMessage('Refer error logs for details'));\n            response.setError(customErrObj);\n        }\n    }\n\n})(request, response);","sys_updated_on":"2024-06-11 19:29:52","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/5024b34a53c31010763eddeeff7b1289","value":"5024b34a53c31010763eddeeff7b1289"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"0d1b22bc43fc3110f5a404836ab8f2a0","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_nb_action/v1/next_best_action/create_search_result_execution_record","sys_created_on":"2023-08-19 11:27:58","sys_name":"Create Search Result Execution Record","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/427fe83177221010d7159b71a91061e1","value":"427fe83177221010d7159b71a91061e1"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/95beed2cc7c71010763e343703c2608d","value":"95beed2cc7c71010763e343703c2608d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/427fe83177221010d7159b71a91061e1","value":"427fe83177221010d7159b71a91061e1"},"sys_update_name":"sys_ws_operation_0d1b22bc43fc3110f5a404836ab8f2a0","consumes_customized":"false","name":"Create Search Result Execution Record","produces":"application/json,application/xml,text/xml","relative_path":"/create_search_result_execution_record","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar modelId = request.pathParams.modelId;\n\tresponse.setContentType('application/json');\n\tif (!modelId) {\n\t\tresponse.setStatus(400);\n\t\tresponse.setBody({ errorMessage: 'No input model id provided' });\n\t\treturn;\n\t}\n\t\n\ttry {\n\t\tvar status = NLUStudioService.getModelStatusByName(modelId, true);\t\n\t\tvar result =  {\n\t\t\t'sysId': status.id || '',\n\t\t\t'name': status.displayName || '',\n\t\t\t'id': modelId,\n\t\t\t'language': status.language || '',\n\t\t\t'scope': status.scope || '',\n\t\t\t'state': status.state || '',\n\t\t\t'type': status.type || '',\n\t\t\t'trainedVersion': status.trainedVersion || '',\n\t\t\t'publishedVersion': status.publishedVersion || '',\n\t\t\t'lastUpdatedOn': status.lastUpdatedOn || '',\n\t\t\t'lastTrainedOn': status.lastTrainedOn || '',\n\t\t\t'lastPublishedOn': status.lastPublishedOn || '',\n\t\t\t'publishStatus': status.publishStatus || '',\n\t\t\t'publishMessage': status.publishMessage || {}\n\t\t};\n\t\t\n\t\tresponse.setStatus(200);\n\t\tresponse.setBody(result);\n\t\t\n\t} catch (e) { \n\t\tresponse.setStatus(500);\n\t\tresponse.setBody({ errorMessage: e.message });\n\t}\n\n})(request, response);","sys_updated_on":"2022-03-21 06:42:00","enforce_acl":"95736dc3c7e220105a06145bf4c26096","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"0d8ad342c73620105a06145bf4c260cd","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/virtual_agent_design/model_status/{modelId}","sys_created_on":"2021-03-11 17:17:56","sys_name":"Get Model Status","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/86719a5dc7e220105a06145bf4c26006","value":"86719a5dc7e220105a06145bf4c26006"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_ws_operation_0d8ad342c73620105a06145bf4c260cd","consumes_customized":"false","name":"Get Model Status","produces":"application/json,application/xml,text/xml","relative_path":"/model_status/{modelId}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\ttry {\n\t\treturn new CategoryService().getMobileAppCategoryRecords();\t\t\n\t} catch (error) {\n\t\tnew ErrorHandler().throwSnWsError(error);\n\t}\n\n})(request, response);","sys_updated_on":"2021-03-15 18:15:09","enforce_acl":"4bbe81b4c703201066492f3bf4c260e6","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"0dab44270f322010e70a4abec4767e31","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_mab_api/mab_api/category/mobileApps","sys_created_on":"2021-03-15 18:04:21","sys_name":"Get Category Records - Mobile Apps","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3512bd93c7c12010100f2f3bf4c26049","value":"3512bd93c7c12010100f2f3bf4c26049"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_update_name":"sys_ws_operation_0dab44270f322010e70a4abec4767e31","consumes_customized":"false","name":"Get Category Records - Mobile Apps","produces":"application/json,application/xml,text/xml","relative_path":"/category/mobileApps","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var data = request.body.data;\n\n    try {\n        if ((data.modelList && Array.isArray(data.modelList)) || data.definition) {\n            var result = sn_nlu_workbench.NLUConflictDefinition.analyseConflicts(data.modelList, data.definition);\n            response.setStatus(200);\n            response.setContentType('application/json');\n            result.status = 'success';\n            return result;\n        } else {\n            return new sn_ws_err.BadRequestError('Invalid input data provided');\n        }\n    } catch (e) {\n        response.setStatus(400);\n        return {\n            status: 'failure',\n            message: e.message\n        };\n    }\n\n})(request, response);","sys_updated_on":"2021-08-16 10:14:22","enforce_acl":"0f43facbeb8220105de665fcc8522895","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b51a6d700710201028ef0a701ad300ab","value":"b51a6d700710201028ef0a701ad300ab"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"0dd0f7d30760201028ef0a701ad30084","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_nlu_workbench/v1/nlu_advanced/analyseConflicts","sys_created_on":"2020-11-23 19:48:37","sys_name":"analyseConflicts","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea82488673402010e6b632e954f6a7ca","value":"ea82488673402010e6b632e954f6a7ca"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"30","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_update_name":"sys_ws_operation_0dd0f7d30760201028ef0a701ad30084","consumes_customized":"false","name":"analyseConflicts","produces":"application/json,application/xml,text/xml","relative_path":"/analyseConflicts","produces_customized":"false","default_operation_uri":"/api/sn_nlu_workbench/nlu_advanced/analyseConflicts","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n\tvar files;\n\t\n\ttry {\n\t\tfiles = JSON.parse(request.queryParams.sys_ids);\n\t} catch (e) {\n\t\tthrow new sn_ws_err.BadRequestError(\"Invalid or missing param 'sys_ids'\");\n\t}\t\n\t\n\tvar result = _.reduce(files, function(memo, sysIds, tableName) {\n\t\tvar gr = new GlideRecord(tableName);\t\t\n\t\t\n\t\tgr.addQuery('sys_id', 'IN', sysIds);\n\t\tgr.query();\t\n\t\t\n\t\twhile (gr.next()) {\n\t\t\tmemo[gr.getUniqueValue()] = gr.canRead() ? gr.getDisplayValue() : 403;\n\t\t}\n\t\t\n\t\treturn memo;\n\t}, {});\n\t\n\tresponse.setBody(result);\n\tresponse.setStatus(200);\n\tresponse.setContentType('application/json');\n\n})(request, response);","sys_updated_on":"2016-06-22 16:00:43","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b90d5e8137331200612747efbe41f142","value":"b90d5e8137331200612747efbe41f142"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"0ddcfa4137331200612747efbe41f124","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/system/files","sys_created_on":"2016-06-02 15:56:01","sys_name":"List Files","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b1edafaf37131200612747efbe41f104","value":"b1edafaf37131200612747efbe41f104"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_0ddcfa4137331200612747efbe41f124","consumes_customized":"false","name":"List Files","produces":"application/json,application/xml,text/xml","relative_path":"/files","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/system/files","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var variableSetIds = request.body.data.variableSetIds || [];\n\tvar output = {};\n\tvariableSetIds.forEach(function(setId) {\n\t\tvar set = new sn_sc.CatalogItemVariableSet(setId);\n\t\tvar layout = set.getLayout(true);\n\t\tvar variables = set.getFlatQuestions();\n\t\toutput[setId] = {\n\t\t\tlayout: layout,\n\t\t\tvariables: variables\n\t\t};\n\t});\n\treturn output;\n})(request, response);","sys_updated_on":"2024-01-25 10:07:51","enforce_acl":"fd0064f343f331108c0c9c18cab8f227","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"0e44d390b7231010f03e9b7ade11a9bb","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/variableSetLayout","sys_created_on":"2020-09-25 16:56:50","sys_name":"Variable Set Layout","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_0e44d390b7231010f03e9b7ade11a9bb","consumes_customized":"false","name":"Variable Set Layout","produces":"application/json,application/xml,text/xml","relative_path":"/variableSetLayout","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/variableSetLayout","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        const params = {\n            ...request.body.data,\n            isSingle: true\n        };\n        const uxaHandler = new UXAHandler();\n        const result = uxaHandler.handleCohortRequest(params, true);\n        response.setBody(result);\n        response.setContentType('application/json');\n        response.setStatus(200);\n        return response;\n\n    } catch (err) {\n        const serviceError = new UXAUtils().generateErrorObject(err);\n        response.setError(serviceError);\n        response.setStatus(err?.statusCode || 500);\n    }\n})(request, response);","sys_updated_on":"2024-10-01 08:57:57","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/d93d4288ffe7c21024f4ffffffffff52","value":"d93d4288ffe7c21024f4ffffffffff52"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"0e6de3017f9c12107bb47c936d86657b","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_uxa_req_manager/v1/uxa_data/single-cohort-data","sys_created_on":"2024-08-27 06:47:40","sys_name":"Single Cohort Data","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/e9f5c0d20b620210e8a937009777b2d7","value":"e9f5c0d20b620210e8a937009777b2d7"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_update_name":"sys_ws_operation_0e6de3017f9c12107bb47c936d86657b","consumes_customized":"false","name":"Single Cohort Data","produces":"application/json,application/xml,text/xml","relative_path":"/single-cohort-data","produces_customized":"false","default_operation_uri":"/api/sn_uxa_req_manager/uxa_data/single-cohort-data","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar aesUtils = new AesUtils();\n\tvar topics = [];\n\tvar content = [];\n\n    var grTopics = new GlideRecord('sn_app_eng_studio_resources_content_topic');\n\tgrTopics.orderBy('order');\n\tgrTopics.query();\n\twhile (grTopics.next()) {\n\t\tvar topicObj = aesUtils.getObjectFromGlideRecord(grTopics, ['sys_id', 'value', 'order']);\n\t\ttopicObj.label = grTopics.getDisplayValue('label');\n\t\ttopics.push(topicObj);\n\t}\n\t\n\tvar grContent = new GlideRecord('sn_app_eng_studio_resources_content');\n\tgrContent.query();\n\n\twhile (grContent.next()) {\n\t\tvar contentItem = aesUtils.getObjectFromGlideRecord(grContent, ['sys_id', 'content_url', 'type', 'topics', 'order']);\n\t\tcontentItem.title = grContent.getDisplayValue('title');\n\t\tcontentItem.description = grContent.getDisplayValue('description');\n\t\tcontentItem.topicLabels = grContent.getDisplayValue('topics');\n\t\tcontentItem.icon = aesUtils.getUserImageString(grContent, 'icon');\n\t\tcontentItem.image = aesUtils.getUserImageString(grContent, 'image');\n\t\tcontent.push(contentItem);\n\t}\n\t\n\tresponse.setStatus(200);\n\tresponse.setBody({\n\t\ttopics: topics,\n\t\tcontent: content\n\t});\n\n})(request, response);","sys_updated_on":"2021-02-09 19:49:44","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/955e5784c7231010408bc8d6f2c26052","value":"955e5784c7231010408bc8d6f2c26052"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"0eb2e708c7231010408bc8d6f2c26022","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_app_eng_studio/v1/resources_content","sys_created_on":"2020-09-24 23:37:30","sys_name":"GET Resources Content","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/47ad9384c7231010408bc8d6f2c260ef","value":"47ad9384c7231010408bc8d6f2c260ef"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"13","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_ws_operation_0eb2e708c7231010408bc8d6f2c26022","consumes_customized":"false","name":"GET Resources Content","produces":"application/json,application/xml,text/xml","relative_path":"/","produces_customized":"false","default_operation_uri":"/api/sn_app_eng_studio/resources_content","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        const table = request.pathParams.table;\n        if (table) {\n            const gr = new GlideRecord(table);\n            return {\n                canCreate: gr.canCreate()\n            };\n        } else {\n            throw `Table name is required.`;\n        }\n\n    } catch (exception) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(500)\n            .setMessage(gs.getMessageLang('Unhandled exception {0}', 'en', [exception]))\n            .setDetail(gs.getMessage('Unhandled exception {0}', [exception]));\n    }\n\n})(request, response);","sys_updated_on":"2024-12-05 13:40:51","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/666b80a95156d210f877f46ad9114076","value":"666b80a95156d210f877f46ad9114076"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"0ed10cad5116d210f877f46ad9114071","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sns/v1/verifyaccess/{table}","sys_created_on":"2024-12-05 12:59:51","sys_name":"VerifyCreateAccess","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/38d42e26f06b4d72f1c7ceee505e96f5","value":"38d42e26f06b4d72f1c7ceee505e96f5"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/113686d951da9210f877f46ad9114045","value":"113686d951da9210f877f46ad9114045"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/38d42e26f06b4d72f1c7ceee505e96f5","value":"38d42e26f06b4d72f1c7ceee505e96f5"},"sys_update_name":"sys_ws_operation_0ed10cad5116d210f877f46ad9114071","consumes_customized":"false","name":"VerifyCreateAccess","produces":"application/json,application/xml,text/xml","relative_path":"/{table}","produces_customized":"false","default_operation_uri":"/api/sn_sns/verifyaccess/{table}","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar queryParams = request.queryParams;\n\n\tvar orderBy = \"\";\n\tif (typeof queryParams.orderBy !== \"undefined\")\n\t\torderBy = queryParams.orderBy + \"\";\n\n\tvar textSearch = \"\";\n\tif (typeof queryParams.textSearch !== \"undefined\")\n\t\ttextSearch = queryParams.textSearch + \"\";\n\n\tvar encodedQueryObj = global.ChangeCommon.buildEncodedQuery(global.ChangeCommon.assign({}, request.queryParams));\n\tvar result = global.ChangeCommon.getWindow(global.EmergencyChangeProcess.findAll(orderBy, textSearch, encodedQueryObj.encodedQuery), queryParams.sysparm_limit || null, queryParams.sysparm_offset || null);\n\tresult.push({__meta: encodedQueryObj});\n\treturn result;\n})(request, response);","sys_updated_on":"2018-08-17 14:06:13","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"0ed4b3a6b723130096c3e4f6ee11a936","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/emergency","sys_created_on":"2018-07-30 10:19:18","sys_name":"Emergency - search","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_0ed4b3a6b723130096c3e4f6ee11a936","consumes_customized":"false","name":"Emergency - search","produces":"application/json,application/xml,text/xml","relative_path":"/emergency","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/emergency","sys_policy":""},{"short_description":"Retrives variables of a catalog item","sys_updated_on":"2018-03-05 15:50:36","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"0f110a53c3330200d68d3b0ac3d3ae09","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/items/{sys_id}/variables","sys_created_on":"2015-11-23 16:32:47","sys_name":"Variables of an item","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"13","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_0f110a53c3330200d68d3b0ac3d3ae09","consumes_customized":"false","name":"Variables of an item","produces":"application/json,application/xml,text/xml","relative_path":"/items/{sys_id}/variables","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/items/{sys_id}/variables","sys_policy":"protected"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar userContactPreference = request.body.data;\n    var userContactPreferenceSysId = userContactPreference.sys_id;\n\tvar occup = new OnCallUserPreferences();\n\tvar userContactPreferenceGr = new GlideRecord(\"on_call_user_contact_preference\");\n\tif (!userContactPreferenceSysId) { // create new record\n\t\tif (userContactPreference.on_call_user_preference + \"\") {\n\t\t\tvar ocupGr = new GlideRecord(\"on_call_user_preference\");\n\t\t\tif (!ocupGr.get(userContactPreference.on_call_user_preference + \"\"))\n\t\t\t\treturn new sn_ws_err.BadRequestError(\"Invalid user preference id provided\");\n\t\t\t\t\n\t\t\tif (!ocupGr.canRead())\n\t\t\t\treturn new sn_ws_err.BadRequestError(\"Security constraints prevent this operation\");\n\t\t}\n\t\tuserContactPreferenceGr.initialize();\n\t\tsetProperties();\n\t\tuserContactPreferenceGr.contact_attempt = occup.getHighestOrderContactAttempt(userContactPreference.on_call_user_preference + \"\") + 1;\n\n\t\tif (!userContactPreferenceGr.canWrite())\n\t\t\t\treturn new sn_ws_err.BadRequestError(\"Security constraints prevent this operation\");\n\n\t\tif(!userContactPreferenceGr.insert())\n\t\t\treturn new sn_ws_err.BadRequestError(\"User contact preference creation failed\");\n\t} else { // update the record\n\t\tif (userContactPreferenceGr.get(userContactPreferenceSysId)) {\n\t\t\tif (!userContactPreferenceGr.canRead())\n\t\t\t\treturn new sn_ws_err.BadRequestError(\"Security constraints prevent this operation\");\n\n\t\t\tsetProperties();\n\n\t\t\tif (!userContactPreferenceGr.canWrite())\n\t\t\t\treturn new sn_ws_err.BadRequestError(\"Security constraints prevent this operation\");\n\n\t\t\tif (!userContactPreferenceGr.update())\n\t\t\t\treturn new sn_ws_err.BadRequestError(\"User contact preference update failed\");\n\t\t} else\n\t\t\treturn new sn_ws_err.BadRequestError(\"Invalid user contact preference id provided\");\n\t}\n\treturn occup.convertUserContactPreferenceToJS(userContactPreferenceGr);\n\t\n\tfunction setProperties() {\n\t\t['devices', 'email', 'sms', 'voice', 'slack', 'mobile_notification', 'teams',  'on_call_user_preference'].forEach(function (prop) {\n\t\t\tif (userContactPreference[prop] || userContactPreference[prop] === \"\")\n\t\t\t\tuserContactPreferenceGr.setValue(prop, userContactPreference[prop] + \"\");\n\t\t});\n\t}\n\t\n})(request, response);","sys_updated_on":"2024-06-19 06:49:39","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"0f7a916173e83300cbb654eb7df6a738","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/saveUserContactPreference","sys_created_on":"2019-04-01 09:52:53","sys_name":"saveUserContactPreference","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"28","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_0f7a916173e83300cbb654eb7df6a738","consumes_customized":"false","name":"saveUserContactPreference","produces":"application/json,application/xml,text/xml","relative_path":"/saveUserContactPreference","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tconst {ComponentUsage} = require('@servicenow/sn-cb-api');\n    const {\n        queryParams: {\n            sysId,\n            rangeStart,\n            rangeEnd\n\n        }\n    } = request;\n    if (!sysId) return [];\n    return new ComponentUsage().getComponentDetails(sysId, rangeStart, rangeEnd);\n\n})(request, response);","sys_updated_on":"2024-03-26 22:16:53","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"0f7d35bf04c94210f8771ae8f4c099c6","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_cb_api/componentbuilder/component/component-details","sys_created_on":"2024-03-26 22:16:53","sys_name":"Component Details","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/58d65e5a729340ac35dc8fd71d665545","value":"58d65e5a729340ac35dc8fd71d665545"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/79353aa3a37731100aa159e6d31e6154","value":"79353aa3a37731100aa159e6d31e6154"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/58d65e5a729340ac35dc8fd71d665545","value":"58d65e5a729340ac35dc8fd71d665545"},"sys_update_name":"sys_ws_operation_0f7d35bf04c94210f8771ae8f4c099c6","consumes_customized":"false","name":"Component Details","produces":"application/json,application/xml,text/xml","relative_path":"/component/component-details","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t// if the associated app passed into the `hasLicenseForApp` check does not exist, an error/\n\t// exception is thrown (false is not returned, womp) - so we must keep track of license check for\n\t// both ways that the AES app can be install (side-loaded & installed through store/plugin list)\n\t\n\t// if `com.snc.app-engine-studio` is the scoped app id, then app is installed through \n\t// store / plugin\n\t\n\t// if `sn_app_eng_studio` is the scoped app id, then app has been side-loaded into the system (\n\t// via the Install Application platform feature)\n\t\n\tvar hasLicenseForApp = false;\n\t\n\ttry {\n\t\t// checks if the user has a license for AES - installed via the app store / plugins list\n\t\thasLicenseForApp = sn_lef.GlideEntitlement.hasLicenseForApp('com.snc.app-engine-studio');\n\t} catch (e) {\n\t\thasLicenseForApp = false;\n\t}\n\t\n\tif (!hasLicenseForApp) {\n\t\ttry {\n\t\t\t// checks if the user has a license for AES - installed via side-loading\n\t\t\thasLicenseForApp = sn_lef.GlideEntitlement.hasLicenseForApp('sn_app_eng_studio');\n\t\t} catch (e) {\n\t\t\thasLicenseForApp = false;\n\t\t}\n\t}\n\t\n\tresponse.setBody({\n\t\thasLicenseForApp: hasLicenseForApp,\n\t});\n\t\n\tresponse.setStatus(200);\n\n})(request, response);","sys_updated_on":"2021-02-09 16:44:12","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/f7ec1279c3202010a9f5e548fa40dd4d","value":"f7ec1279c3202010a9f5e548fa40dd4d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"0f7dd679c3202010a9f5e548fa40dd7d","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_app_eng_studio/v1/generic/license_validation_status","sys_created_on":"2020-11-18 21:50:13","sys_name":"Get AES License Status","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/37cc9e39c3202010a9f5e548fa40ddef","value":"37cc9e39c3202010a9f5e548fa40ddef"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_ws_operation_0f7dd679c3202010a9f5e548fa40dd7d","consumes_customized":"false","name":"Get AES License Status","produces":"application/json,application/xml,text/xml","relative_path":"/license_validation_status","produces_customized":"false","default_operation_uri":"/api/sn_app_eng_studio/generic/license_validation_status","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tconst apiHelper = new APIHelper(request, response);\n\tapiHelper.execute(function(){\n\t\tconst presetId = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.SYS_ID);\n    const commaSeparatedFields = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.FIELDS, null);\n    const fields = commaSeparatedFields !== null ? commaSeparatedFields.split(',') : null;\n\t\tconst controllerPreset = new ControllerPreset(fields).getRecordById(presetId);\n\t\tconst componentPreset = new ComponentPreset(fields).getRecordById(presetId);\n\t\tif(componentPreset !== null || controllerPreset !== null){\n\t\t\tconst preset = componentPreset !== null ? componentPreset : controllerPreset;\n\t\t\tapiHelper.respondSuccesfully(preset);\n\t\t}\n    else{\n\t\t  apiHelper.respondUnsuccessfully(BuilderToolkitConstants.ERRORS.NO_PRESET_FOUND);\n    }\n\t});\n\n})(request, response);","sys_updated_on":"2023-06-16 17:01:22","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"100afbba43660210eeba83020cb8f279","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/preset","sys_created_on":"2023-06-15 21:43:05","sys_name":"Page Templates","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_100afbba43660210eeba83020cb8f279","consumes_customized":"false","name":"Preset","produces":"application/json,application/xml,text/xml","relative_path":"/preset","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var statusCodes = CollabTaskConstants.statusCodes;\n    var collaborationFeature = CollabTaskConstants.collaborationFeature;\n    var appId = request.pathParams.application_sys_id;\n\n    //Expected feature query param value : INVITE or JOIN\n    var feature = !global.JSUtil.nil(request.queryParams.feature) ? request.queryParams.feature.toString().trim() : \"\";\n\n    if (!appId) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(statusCodes.BAD_REQUEST)\n            .setMessage(gs.getMessage(\"Missing App Id\"));\n    }\n\n    var payload = request.body.data;\n    var descriptorId = payload.descriptorId;\n    var users = payload.users;\n    var groups = payload.groups;\n    var sourceStudioName = payload.sourceStudioName;\n    var optionalMessage = payload.optionalMessage;\n\n    if (feature === collaborationFeature.JOIN) {\n        var currentLoggedInUser = gs.getUserID();\n        users = [currentLoggedInUser];\n    }\n\n    if ((!users || !users.length) && (!groups || !groups.length)) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(statusCodes.BAD_REQUEST)\n            .setMessage(gs.getMessage('Bad Request: There are no users or groups present in the payload.'));\n    }\n\n    if ((!descriptorId)) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(statusCodes.BAD_REQUEST)\n            .setMessage(gs.getMessage('Missing descriptor Id.'));\n    }\n\n    var result = CollabTaskServiceV2.inviteCollaborators(users, groups, appId, descriptorId, feature, sourceStudioName, optionalMessage);\n\n    response.setBody(result.body);\n    response.setStatus(result.status);\n\n})(request, response);","sys_updated_on":"2023-11-14 07:31:34","enforce_acl":"6151fdac533130100f29ddeeff7b120a,a6b5c01b07123110523bc41f0ad300a8","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/d47b4a5dc7f33010408bc8d6f2c260cc","value":"d47b4a5dc7f33010408bc8d6f2c260cc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"107b8a5dc7f33010408bc8d6f2c26073","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_collab_request/v2/collaboration_tasks_api/app/{application_sys_id}","sys_created_on":"2021-11-12 16:49:01","sys_name":"Invite Collaborators (v2)","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/6adeae39c3013010a9f5e548fa40dd4e","value":"6adeae39c3013010a9f5e548fa40dd4e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"19","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"sys_update_name":"sys_ws_operation_107b8a5dc7f33010408bc8d6f2c26073","consumes_customized":"false","name":"Invite Collaborators (v2)","produces":"application/json,application/xml,text/xml","relative_path":"/app/{application_sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_collab_request/collaboration_tasks_api/app/{application_sys_id}","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // implement resource here\n\tvar userID = request.pathParams.user_id;\n\tvar gr = new ScopedGlideRecord('sys_user');\n\tif(!gr.get(userID))\n\t\tthrow new sn_ws_err.BadRequestError(\"Invalid User ID!\");\n\t\n\tif (!gr.canRead())\n\t\tthrow new sn_ws_err.BadRequestError(\"Security Constraints prevent accessing the User Address\");\n\t\n\tif (!sn_sc.CartJS.canViewRF() && !gs.getUser().getID().equals(userID))\n\t\tthrow new sn_ws_err.BadRequestError(\"Security Constraints prevent accessing the User Address\");\n\n\treturn sn_sc.CartJS.getRequestedForAddress(userID);\n\n})(request, response);","sys_updated_on":"2020-04-20 10:10:30","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"10a27370db20120064301150f0b8f582","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/cart/delivery_address/{user_id}","sys_created_on":"2015-12-23 11:48:19","sys_name":"Get Shipping Address","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"14","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_10a27370db20120064301150f0b8f582","consumes_customized":"false","name":"Get Shipping Address","produces":"application/json,application/xml,text/xml","relative_path":"/cart/delivery_address/{user_id}","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/cart/delivery_address/{user_id}","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var requestBody = request.body.data;\n    var searchTerm = requestBody.search_term;\n    var filter = requestBody.filter;\n    var currentTable = requestBody.table;\n    var currentRecordSysId = requestBody.sys_id;\n    var paginationToken = requestBody.paginationToken;\n    var selectedFacetFilters = requestBody.facet_filter;\n    var selectedSortFilter = requestBody.sort_filter;\n    var ruleContextId = requestBody.context_sys_id;\n    if (!sn_nb_action.NextBestActionUtil.isValidString(currentRecordSysId) || !sn_nb_action.NextBestActionUtil.isValidString(currentTable))\n        response.setError(new sn_ws_err.BadRequestError(gs.getMessage('Missing required parameters')));\n    else {\n        try {\n            var nbaService = new sn_nb_action.NextBestActionService();\n            var result = nbaService.getSearchResultActions(currentTable, currentRecordSysId, searchTerm, filter, paginationToken, selectedFacetFilters, selectedSortFilter, ruleContextId);\n            if (result) {\n                response.setBody(result);\n                response.setStatus(200);\n            } else {\n                response.setBody([]);\n                response.setStatus(200);\n            }\n        } catch (err) {\n            gs.error(\"Get search recommendations : \" + JSON.stringify(err));\n            response.setBody([]);\n            response.setStatus(200);\n        }\n    }\n})(request, response);","sys_updated_on":"2024-06-12 04:55:14","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/5024b34a53c31010763eddeeff7b1289","value":"5024b34a53c31010763eddeeff7b1289"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1131d14577203110f67ec57b0c5a99f4","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_nb_action/v1/next_best_action/actions/get_search_result_actions","sys_created_on":"2023-08-07 13:18:29","sys_name":"Get Search Result Actions","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/427fe83177221010d7159b71a91061e1","value":"427fe83177221010d7159b71a91061e1"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/95beed2cc7c71010763e343703c2608d","value":"95beed2cc7c71010763e343703c2608d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/427fe83177221010d7159b71a91061e1","value":"427fe83177221010d7159b71a91061e1"},"sys_update_name":"sys_ws_operation_1131d14577203110f67ec57b0c5a99f4","consumes_customized":"false","name":"Get Search Result Actions","produces":"application/json,application/xml,text/xml","relative_path":"/actions/get_search_result_actions","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar result = {\n\t\tisValid: false,\n\t\tinstanceId: null,\n\t\tsourceInstance: {\n\t\t\tinstanceId: null,\n\t\t\tfoundInEnvironments: false,\n\t\t\tpipelineTypeName: null,\n\t\t\thasGivenPipelineTypeConfigured: false,\n\t\t}\n\t};\n\n\ttry {\n\t\tvar pipelineUtils = new PipelineUtils();\n\t\tvar queryParams = request.queryParams;\n\n\t\tvar sourceInstanceId = queryParams.source_instance_id && queryParams.source_instance_id[0]; // queryParams values are arrays\n\t\tvar pipelineTypeName = queryParams.pipeline_type_name && queryParams.pipeline_type_name[0]; // queryParams values are arrays\n\n\t\tresult.sourceInstance.instanceId = sourceInstanceId;\n\t\tresult.sourceInstance.pipelineTypeName = pipelineTypeName;\n\n\t\tvar currentInstanceIsController = pipelineUtils.currentInstanceIsController();\n\n\t\tif (currentInstanceIsController) {\n\t\t\t// There are two conditions for being a valid instance\n\t\t\t// Condition 1: There should be no controller defined in the environments table\n\t\t\t// Condition 2: The controller instance defined refers to itself\n\t\t\tresult['isValid'] = true;\n\t\t\tresult['instanceId'] = gs.getProperty(\"instance_id\");\n\n\t\t\tif (sourceInstanceId) {\n\t\t\t\tvar sourceInstanceEnvironment = pipelineUtils.getEnvironmentByInstanceId(sourceInstanceId);\n\t\t\t\tvar sourceInstance = {\n\t\t\t\t\tinstanceId: sourceInstanceId,\n\t\t\t\t\tfoundInEnvironments: !!sourceInstanceEnvironment.sys_id,\n\t\t\t\t\tpipelineTypeName: pipelineTypeName,\n\t\t\t\t\thasGivenPipelineTypeConfigured: pipelineUtils.isSourceInstanceInPipeline(sourceInstanceId, pipelineTypeName)\n\t\t\t\t};\n\t\t\t\tresult['sourceInstance'] = sourceInstance;\n\t\t\t}\n\t\t}\n\t} catch (exception) {\n\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t.setStatus(500)\n\t\t\t.setMessage(gs.getMessageLang('Unable to validate controller. {0}', 'en', exception.message))\n\t\t\t.setDetail(gs.getMessage('Unable to validate controller. {0}', exception.message));\n\t}\n\n\tresponse.setBody(result);\n\tresponse.setStatus(200);\n\n})(request, response);","sys_updated_on":"2021-08-13 17:03:36","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/3eeef5f2b72030100290b9708e11a939","value":"3eeef5f2b72030100290b9708e11a939"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"12c145a953753010b846ddeeff7b12b9","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_pipeline/v1/pipeline/validate_controller","sys_created_on":"2021-08-05 21:02:09","sys_name":"Validate Controller","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e78853e9c3222010b83971e54440dd26","value":"e78853e9c3222010b83971e54440dd26"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/0a6e31f2b72030100290b9708e11a980","value":"0a6e31f2b72030100290b9708e11a980"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"35","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e78853e9c3222010b83971e54440dd26","value":"e78853e9c3222010b83971e54440dd26"},"sys_update_name":"sys_ws_operation_12c145a953753010b846ddeeff7b12b9","consumes_customized":"false","name":"Validate Controller","produces":"application/json,application/xml,text/xml","relative_path":"/validate_controller","produces_customized":"false","default_operation_uri":"/api/sn_pipeline/pipeline/validate_controller","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    //This queries the solution record and checks whether the class-recall has been sepcified pre training\n    var solution_id = decodeURI(request.pathParams.solution_id);\n\treturn new sn_ml_ui.MLApplyClassificationTargetValues().isClassRecallSpecified(solution_id);\n\n\n})(request, response);","sys_updated_on":"2019-09-12 15:26:43","enforce_acl":"5a3bd3757351230080b29ca9faf6a7f2","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/456b8f4553103300d1dcddeeff7b12ac","value":"456b8f4553103300d1dcddeeff7b12ac"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"12d4d65173733300cddda4fa54f6a7d5","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_ml_ui/v1/ml_ui/isClassRecallSpecified/{solution_id}","sys_created_on":"2019-09-09 08:46:19","sys_name":"isClassRecallSpecified","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/21f30bcdb7d03300d1dcf8b8ee11a9eb","value":"21f30bcdb7d03300d1dcf8b8ee11a9eb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/c6facb4553103300d1dcddeeff7b1287","value":"c6facb4553103300d1dcddeeff7b1287"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/21f30bcdb7d03300d1dcf8b8ee11a9eb","value":"21f30bcdb7d03300d1dcf8b8ee11a9eb"},"sys_update_name":"sys_ws_operation_12d4d65173733300cddda4fa54f6a7d5","consumes_customized":"false","name":"isClassRecallSpecified","produces":"application/json,application/xml,text/xml","relative_path":"/isClassRecallSpecified/{solution_id}","produces_customized":"false","default_operation_uri":"/api/sn_ml_ui/ml_ui/isClassRecallSpecified/{solution_id}","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    response.setContentType('application/json');\n    var helper = new CMDBDataManagerHelper();\n    var result = {};\n\tresult.user_groups = helper.getDataManagerUserGroups();\n    response.setStatus(200);\n    response.setBody(result);\n\n})(request, response);","sys_updated_on":"2022-04-10 00:00:49","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"12d6f9c553764110456dddeeff7b1267","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/ci_lifecycle_manager/data_manager_user_groups","sys_created_on":"2022-04-09 23:48:55","sys_name":"Get Data Manager User Groups","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ad9ebe127322101045cadfcd3bf6a735","value":"ad9ebe127322101045cadfcd3bf6a735"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"sys_update_name":"sys_ws_operation_12d6f9c553764110456dddeeff7b1267","consumes_customized":"false","name":"Get Data Manager User Groups","produces":"application/json,application/xml,text/xml","relative_path":"/data_manager_user_groups","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar validSearchWordTypes = ['script_include','table'];\n\tvar params = request.body.data;\n\tvar searchWord = params.searchWord;\n\tvar searchWordType = params.searchWordType;\n\tvar searchTables = params.searchTables;\n\tvar ignoredTables = params.ignoredTables;\n\n\tif (!(searchWord && searchWordType))\n\t\treturn new sn_ws_err.BadRequestError('Missing one or more required fields');\n\tif (validSearchWordTypes.indexOf(searchWordType) < 0)\n\t\treturn new sn_ws_err.BadRequestError('Invalid search word type, search word type should be either script_include or table');\n\tif (ignoredTables!=undefined && !(ignoredTables instanceof Array))\n\t\treturn new sn_ws_err.BadRequestError('Invalid type, ignoredTables must be an array');\n\tif (searchTables!=undefined && !(searchTables instanceof Array))\n\t\treturn new sn_ws_err.BadRequestError('Invalid type, searchTables must be an array');\n\tif (ignoredTables!=undefined && ignoredTables.length>0 && searchTables!=undefined && searchTables.length>0)\n\t\treturn new sn_ws_err.BadRequestError('Invalid request, provide either searchTables or ignoredTables but not both');\n\n\tvar searchRequest = {\n\t\tsearchWord: searchWord,\n\t\tsearchWordType: searchWordType,\n\t\tsearchTables: searchTables,\n\t\tignoredTables: ignoredTables\n\t};\n\n\tvar result =  SNC.GlideScriptReferences.getReferences(searchRequest);\n\tresponse.setBody({'result':result});\n\tresponse.setStatus(200);\n})(request, response);","sys_updated_on":"2019-09-16 09:18:14","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a25b4ce37303230010d533083cf6a72d","value":"a25b4ce37303230010d533083cf6a72d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"12f8978b73123300e44f105ee2f6a740","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/v1/syntax_editor/getReferences","sys_created_on":"2019-07-02 10:44:09","sys_name":"Get References","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/dc4bc0e37303230010d533083cf6a7ed","value":"dc4bc0e37303230010d533083cf6a7ed"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"17","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/450423f704312210559073c06a02f741","value":"450423f704312210559073c06a02f741"},"sys_update_name":"sys_ws_operation_12f8978b73123300e44f105ee2f6a740","consumes_customized":"false","name":"Get References","produces":"application/json,application/xml,text/xml","relative_path":"/getReferences","produces_customized":"false","default_operation_uri":"/api/now/syntax_editor/getReferences","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n    var restHandler, result;\n    try {\n        restHandler = new sn_ads_setup.SNHelpSetupRestHandler();\n        var bodyData = request.body.data,\n            interactionId = \"\";\n        if (bodyData) {\n            interactionId = bodyData.interaction_id;\n        }\n\n        result = restHandler.setGuidanceAutoComplete(request.pathParams.sys_id, interactionId);\n\n        response.setStatus(result.status);\n\n        if (result.error) {\n            response.setBody({\n                error: result.error\n            });\n        } else {\n            response.setBody(result.data);\n        }\n\n    } catch (e) {\n        response.setStatus(500);\n        gs.error(\"SNHelpSetupRestHandler: \" + e.message);\n        response.setBody({\n            error: \"Internal server error\"\n        });\n    }\n})(request, response);","sys_updated_on":"2024-09-23 11:51:01","enforce_acl":"d684e2aa530e0110f54fddeeff7b1237","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1350e53ec34001109aba8972a840dd7f","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_ads_setup/play/autocomplete/{sys_id}","sys_created_on":"2021-11-29 16:01:15","sys_name":"Autocomplete setup","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/9fb44064773230106ee492b01e5a9991","value":"9fb44064773230106ee492b01e5a9991"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"9","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_update_name":"sys_ws_operation_1350e53ec34001109aba8972a840dd7f","consumes_customized":"false","name":"Autocomplete setup","produces":"application/json,application/xml,text/xml","relative_path":"/autocomplete/{sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var result = {};\n    var constants = new AdminCenterConstants();\n    var adminCenterApplicationsUtil = new AdminCenterApplicationsUtil();\n\n    var storeAppIds = [];\n    var storeApp = new GlideRecord('sys_store_app');\n    storeApp.addQuery('scope', constants.ADMIN_CENTER_SCOPE).addOrCondition('scope', constants.ADOPTION_BLUE_PRINT_SCOPE);\n    storeApp.query();\n    while (storeApp.next()) {\n        storeAppIds.push(storeApp.getUniqueValue());\n    }\n\n    var appStatusData = adminCenterApplicationsUtil.fetchAppStatusData(storeAppIds);\n    var baseURL = gs.getProperty('glide.servlet.uri');\n\n    for (var i = 0; i < storeAppIds.length; i++) {\n\n        var appStatus = appStatusData[storeAppIds[i]];\n        if (!appStatus)\n            continue;\n\n        result[appStatus.scope] = {\n            'isUpdateAvailable': appStatus.isInstalledAndUpdateAvailable,\n            'newVersion': appStatus.latest_version,\n            'name': appStatus.name,\n            'baseUrl': baseURL\n        };\n    }\n\n    response.setContentType('application/json');\n    response.setStatus(200);\n    response.setBody(result);\n\n})(request, response);","sys_updated_on":"2023-09-21 20:56:25","enforce_acl":"87156c3db79701109cfe23508e11a95b","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"13e63c1958e38510f87726403cd26090","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_admin_center/adminx/check_updates","sys_created_on":"2022-05-17 20:35:13","sys_name":"Admin Center Apps Update Available","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1163fa730f102010e8c940c1df767e8c","value":"1163fa730f102010e8c940c1df767e8c"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/93683ba5b71701109cfe23508e11a91f","value":"93683ba5b71701109cfe23508e11a91f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1163fa730f102010e8c940c1df767e8c","value":"1163fa730f102010e8c940c1df767e8c"},"sys_update_name":"sys_ws_operation_13e63c1958e38510f87726403cd26090","consumes_customized":"false","name":"Admin Center Apps Update Available","produces":"application/json,application/xml,text/xml","relative_path":"/check_updates","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var receivedParams = request.pathParams;\n    var currentRecordTable = receivedParams.table_name;\n    var currentRecordSysId = receivedParams.sys_id;\n    var queryParams = request.queryParams;\n    var ruleContextId;\n    if (queryParams.hasOwnProperty(\"contextSysId\"))\n        ruleContextId = queryParams.contextSysId[0];\n\n    response.setContentType('application/json');\n\n    if (!sn_nb_action.NextBestActionUtil.isValidString(currentRecordSysId) || !sn_nb_action.NextBestActionUtil.isValidString(currentRecordTable))\n        response.setError(new sn_ws_err.BadRequestError(gs.getMessage('Missing required parameters')));\n    else {\n        try {\n            var nbaService = new sn_nb_action.NextBestActionService();\n            var result = nbaService.getRecommendationHistory(currentRecordSysId, currentRecordTable, ruleContextId);\n            if (result) {\n                response.setBody(result);\n                response.setStatus(200);\n            } else {\n                response.setBody([]);\n                response.setStatus(200);\n\n            }\n\n        } catch (err) {\n            gs.error(\"Get Recommendation history failed! : \" + JSON.stringify(err));\n            response.setBody([]);\n            response.setStatus(200);\n        }\n    }\n\n})(request, response);","sys_updated_on":"2024-06-12 20:04:06","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/5024b34a53c31010763eddeeff7b1289","value":"5024b34a53c31010763eddeeff7b1289"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"141f1849c3603110852da6bec840dd26","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_nb_action/v1/next_best_action/actions/{table_name}/{sys_id}/get_recommendation_history","sys_created_on":"2023-08-07 09:41:12","sys_name":"Get Recommendation History","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/427fe83177221010d7159b71a91061e1","value":"427fe83177221010d7159b71a91061e1"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/95beed2cc7c71010763e343703c2608d","value":"95beed2cc7c71010763e343703c2608d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/427fe83177221010d7159b71a91061e1","value":"427fe83177221010d7159b71a91061e1"},"sys_update_name":"sys_ws_operation_141f1849c3603110852da6bec840dd26","consumes_customized":"false","name":"Get Recommendation History","produces":"application/json,application/xml,text/xml","relative_path":"/actions/{table_name}/{sys_id}/get_recommendation_history","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\n var groupId = JSUtil.nil(request.queryParams.group_id) ? \"\" : request.queryParams.group_id;\n return {\n\t\"escalations\": new OnCallEscalationUtil().setCheckAccess(true).getEscalations(request.queryParams.source, request.queryParams.table, groupId)\n };\n\n})(request, response);","sys_updated_on":"2023-10-26 18:46:11","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1443e39a0f6200101d6d6bfaa8767e95","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/getEscalations","sys_created_on":"2020-01-27 09:56:07","sys_name":"getEscalations","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"8","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_1443e39a0f6200101d6d6bfaa8767e95","consumes_customized":"false","name":"getEscalations","produces":"application/json,application/xml,text/xml","relative_path":"/getEscalations","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar sysId = request.pathParams.sys_id || null;\n\tif (!sysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Change Request id not provided\");\n\n\tvar changeRequestGr = new GlideRecordSecure(global.ChangeRequest.CHANGE_REQUEST);\n\tchangeRequestGr.addQuery(\"sys_id\", sysId);\n\tchangeRequestGr.query();\n\tif (!changeRequestGr.next())\n\t\treturn new sn_ws_err.NotFoundError(\"Change Request not found\");\n\n\tvar changeProcess = new global.ChangeProcess(changeRequestGr);\n\tif (!changeProcess)\n\t\treturn new sn_ws_err.NotFoundError(\"Change Request not found\");\n\n\tvar nameValuePairs = global.ChangeCommon.assign({}, request.queryParams, request.body.data);\n\n\tif (!nameValuePairs.state)\n\t\treturn new sn_ws_err.BadRequestError(\"Approval state parameter not provided. Valid state parameter is: approved or rejected\");\n\t\n\tvar state = nameValuePairs.state.toLowerCase();\n\tvar comments = nameValuePairs.comments || null;\n\n\tif ((state === \"approved\" && changeProcess.approve(comments)) || (comments && state === \"rejected\" && changeProcess.reject(comments)))\n\t\treturn changeProcess.toJS();\n\n\tvar errorMessage = \"Change Request approval could not be processed.\";\n\tvar lastErrorMessage = changeProcess.getGlideRecord().getLastErrorMessage();\n\tif (lastErrorMessage)\n\t\terrorMessage += \" \" + lastErrorMessage;\n\n\tif (!comments && state === \"rejected\")\n\t\terrorMessage += \" Comments are mandatory when rejecting changes\";\n\t\n\tif (state !== \"approved\" && state !== \"rejected\")\n\t\terrorMessage += \" Expecting state to be appproved or rejected, not: \" + state;\n\n\treturn new sn_ws_err.BadRequestError(errorMessage);\n})(request, response);","sys_updated_on":"2018-08-21 13:17:50","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"14eb613db723130096c3e4f6ee11a91a","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/{sys_id}/approvals","sys_created_on":"2018-07-27 16:25:28","sys_name":"Approvals","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"16","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_14eb613db723130096c3e4f6ee11a91a","consumes_customized":"false","name":"Approvals","produces":"application/json,application/xml,text/xml","relative_path":"/{sys_id}/approvals","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/{sys_id}/approvals","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // implement resource here\n\tvar queryParams = request.queryParams;\n\n\tvar minCount = getParam(queryParams, \"minCount\");\n\tvar maxCount = getParam(queryParams, \"maxCount\");\n\tvar offset = getParam(queryParams, \"offset\");\n\tvar numRowsPerPage = getParam(queryParams, \"numRows\");\n\n\t//var records = appEngineCompliance.getAppEngineRolesStatsOnInstance(minCount, maxCount);\n\t\t\n\tvar roles = SNC.AppEngineLicensingUsage.getAppEngineRolesStatsOnInstance(minCount, maxCount, offset, numRowsPerPage);\n\tvar records = JSON.parse(roles);\n\t//gs.info(\"Total App Engine license roles on instance : \" + records.length);\t\n\t\n\tif (records.length == 0)\n\t\tresponse.setStatus(204);\n\telse {\n\t\tresponse.setStatus(200);\n\t\tresponse.setBody(records);\n\t}\n\t\n\tfunction getParam(rParams, key) {\n\t\tif (key in rParams)\n\t\t\treturn rParams[key];\n\t\treturn \"\";\n\t}\n\n\n})(request, response);","sys_updated_on":"2020-03-23 21:19:02","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"14ed87580b01330000ea069f56673a21","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/uaappenginelicensingservice/getLicensingRolesStats","sys_created_on":"2019-04-22 17:28:05","sys_name":"getLicensingRolesStats","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ad1762623bb033007fef460044efc468","value":"ad1762623bb033007fef460044efc468"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"8","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8bc96fbb04f12210559073c06a02f755","value":"8bc96fbb04f12210559073c06a02f755"},"sys_update_name":"sys_ws_operation_14ed87580b01330000ea069f56673a21","consumes_customized":"false","name":"getLicensingRolesStats","produces":"application/json,application/xml,text/xml","relative_path":"/getLicensingRolesStats","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"Gets a new sys_id that has not been used","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    const apiHelper = new APIHelper(request, response);\n    apiHelper.execute(function() {\n        const totalIds = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.TOTAL, null);\n        if (totalIds) {\n\t\t\tconst ids = [];\n\t\t\tfor(let count = 0; count < totalIds; count++){\n\t\t\t\tids.push(gs.generateGUID());\n\t\t\t}\n            apiHelper.respondSuccesfully({\n                sysIds: ids\n            });\n        } else {\n            apiHelper.respondSuccesfully({\n                sysId: gs.generateGUID()\n            });\n        }\n    });\n\n})(request, response);","sys_updated_on":"2023-05-26 18:22:16","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"15062f97018b911003e4b16738befeed","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/generate_sys_id","sys_created_on":"2022-11-14 14:08:33","sys_name":"Generate SysId","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"14","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_15062f97018b911003e4b16738befeed","consumes_customized":"false","name":"Generate SysId","produces":"application/json,application/xml,text/xml","relative_path":"/generate_sys_id","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tif (!request.body.hasNext())\n\t\treturn new sn_ws_err.BadRequestError(\"illegal changeSchedDef payload\");\n\n\tvar changeSchedDef = request.body.nextEntry();\n\tif (!changeSchedDef)\n\t\treturn new sn_ws_err.BadRequestError(\"changeSchedDef malformed or null\");\n\n\tvar chgSocSysId = changeSchedDef.chg_soc_definition;\n\tif (!chgSocSysId)\n\t\treturn new sn_ws_err.BadRequestError(\"permission malformed or null chgSocSysId: \" + chgSocSysId);\n\n\tif (new global.ChangeSoCUtil().hasDynamicCondition(changeSchedDef.condition))\n\t\treturn new sn_ws_err.BadRequestError(gs.getMessage(\"is (dynamic) filter operators are not supported\"));\n\n\tvar gr = new GlideRecordSecure(\"chg_soc_definition\");\n\tif (!gr.get(chgSocSysId))\n\t\treturn new sn_ws_err.BadRequestError(\"chg_soc_definition: \" + chgSocSysId + \" record not found\");\n\n\treturn new SoCDefinition(gr).updateSchedule(changeSchedDef);\n})(request, response);\n","sys_updated_on":"2018-03-01 18:39:48","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"155f3b02d7601300532c24837e61039e","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_chg_soc/soc/updateSchedule","sys_created_on":"2018-03-01 18:39:48","sys_name":"updateSchedule","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3115d45f67020300b410afa00585ef87","value":"3115d45f67020300b410afa00585ef87"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_update_name":"sys_ws_operation_155f3b02d7601300532c24837e61039e","consumes_customized":"false","name":"updateSchedule","produces":"application/json,application/xml,text/xml","relative_path":"/updateSchedule","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t/*\n\t\tPath params -\n\t\tschedule_page_sys_id\n\n\t\tBody params -\n\t\tevent_id\n\t\tcurrent_start_date\n\t\tcurrent_end_date\n\t\tnew_start_date\n\t\tnew_end_date\n\t\tupdate_single_occurrence\n\t*/\n\tvar util = new SchedulePageUtilSNC();\n\tvar dataSourceClass = util.getClassName(request.pathParams.schedule_page_sys_id);\n\n\tif (dataSourceClass) {\n\t\tvar dataSourceObj = util.getObjInstance(dataSourceClass, this);\n\n\t\tvar resp = dataSourceObj.updateEvent(request.body.data);\n\t\tif (resp.apiError && resp.errorType == 'security' ) {\n\t\t\tvar respError = new sn_ws_err.ServiceError();\n\t\t\trespError.setStatus(403);\n\t\t\trespError.setMessage(resp.apiError);\n\t\t\treturn respError;\n\t\t} else if (resp.apiError)\n\t\t\treturn new sn_ws_err.BadRequestError(resp.apiError);\n\t\telse\n\t\t\treturn resp;\n\t}\n\treturn new sn_ws_err.BadRequestError(gs.getMessage('A valid implementation for datasource Script Include is missing.'));\n\n})(request, response);","sys_updated_on":"2017-07-28 21:18:17","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"15f9a1100bc33200ecfd818393673a0c","http_method":"PUT","sys_updated_by":"admin","operation_uri":"/api/now/schedule_page/event/{schedule_page_sys_id}","sys_created_on":"2017-05-26 11:33:35","sys_name":"Update Event","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/9a31657653373200e8960ef5d5dc34d5","value":"9a31657653373200e8960ef5d5dc34d5"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/81e45c800b833200ecfd818393673a2e","value":"81e45c800b833200ecfd818393673a2e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"9","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9a31657653373200e8960ef5d5dc34d5","value":"9a31657653373200e8960ef5d5dc34d5"},"sys_update_name":"sys_ws_operation_15f9a1100bc33200ecfd818393673a0c","consumes_customized":"false","name":"Update Event","produces":"application/json,application/xml,text/xml","relative_path":"/event/{schedule_page_sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    /**\n     * Sync application source files to application metadata\n     */\n    try {\n        var body = request.body.data;\n        var scopeId = body.sys_scope;\n        var transactionId = new global.IDEGlobalUtils().getTransactionId();\n        var ideService = new sn_glider.IDERequestBuilder();\n        var stopWatch = new sn_glider.StopWatch();\n        if (!scopeId) {\n            response.setBody(ideService.failureResponse('[transactionId: ' + transactionId + '] Scope ID was not defined! Cannot handle sync request.'));\n            return response.setStatus(400);\n        }\n        var syncRequest = ideService.createSyncRequest(scopeId, transactionId);\n        stopWatch.time('sync:execute');\n        var syncResponse = syncRequest.execute();\n        stopWatch.timeEnd('sync:execute', '[sync:execute][scope:' + scopeId + '][transactionId: ' + transactionId + ']');\n        var result = ideService.handleSyncResponse(scopeId, syncResponse, transactionId);\n        response.setBody(ideService.successResponse('[transactionId: ' + transactionId + '] Successfully synced and updated, ' + scopeId, result.logs, result.status));\n        return response.setStatus(200);\n    } catch (e) {\n        gs.error('sync request failed', e);\n        var svcErr = new sn_ws_err.ServiceError();\n        svcErr.setMessage(e.message || e.toString());\n        if (e.detailedLog) {\n            svcErr.setDetail(e.detailedLog);\n        }\n        response.setError(svcErr);\n        svcErr.setStatus(500);\n        return response.setError(svcErr);\n    }\n})(request, response);","sys_updated_on":"2024-07-15 17:32:58","enforce_acl":"b546fc12a3060210acce0373341e615f","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"161cf82aff110210771bffffffffff11","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/ide/build/sync-application","sys_created_on":"2024-04-04 06:33:32","sys_name":"Sync Application","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/fd254d9443a161100967247e6bb8f200","value":"fd254d9443a161100967247e6bb8f200"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/52287426ff110210771bffffffffff8f","value":"52287426ff110210771bffffffffff8f"},"consumes":"application/json","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"15","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fd254d9443a161100967247e6bb8f200","value":"fd254d9443a161100967247e6bb8f200"},"sys_update_name":"sys_ws_operation_161cf82aff110210771bffffffffff11","consumes_customized":"true","name":"Sync Application","produces":"application/json","relative_path":"/sync-application","produces_customized":"true","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var currentApplicationId = gs.getCurrentApplicationId();\n    var appRoutesGr = new GlideRecord('sys_ux_app_route');\n    appRoutesGr.addQuery('sys_scope', currentApplicationId);\n    appRoutesGr.addNullQuery('parent_macroponent_composition_element_id'); // This condition is to filter out all the content block subpages\n    var routes = [];\n    appRoutesGr.query();\n    while (appRoutesGr.next()) {\n        routes.push({\n            id: appRoutesGr.getValue('route_type'),\n            label: appRoutesGr.getValue('name'),\n            value: appRoutesGr.getValue('route_type'),\n            requiredParams: appRoutesGr.getValue('fields'),\n            optionalParams: appRoutesGr.getValue('optional_parameters')\n        });\n    }\n    return routes;\n\n})(request, response);","sys_updated_on":"2023-04-10 15:42:16","enforce_acl":"4b2b70b277862110bc5db5b27a5a99d1","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"166e5617533c21102958ddeeff7b120d","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/ace/fetchRoutes","sys_created_on":"2023-02-09 08:45:22","sys_name":"fetchRoutes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/090c5ee353721110c733ddeeff7b1299","value":"090c5ee353721110c733ddeeff7b1299"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"15","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_update_name":"sys_ws_operation_166e5617533c21102958ddeeff7b120d","consumes_customized":"false","name":"fetchRoutes","produces":"application/json,application/xml,text/xml","relative_path":"/fetchRoutes","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar themeSysId = request.pathParams.themeSysId;\n\treturn new sn_mobile_theme.MobileThemeColorAPI().getWebColorVariablesByThemeId(themeSysId);\n\n})(request, response);","sys_updated_on":"2023-05-22 20:34:14","enforce_acl":"4bbe81b4c703201066492f3bf4c260e6","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"168295cf77e11110112b7f7c8c5a99d9","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_mab_api/mab_api/getWebColorVariables/{themeSysId}","sys_created_on":"2022-08-30 19:11:53","sys_name":"Get Web Color Variables by Theme ID","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3512bd93c7c12010100f2f3bf4c26049","value":"3512bd93c7c12010100f2f3bf4c26049"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_update_name":"sys_ws_operation_168295cf77e11110112b7f7c8c5a99d9","consumes_customized":"false","name":"Get Web Color Variables by Theme ID","produces":"application/json,application/xml,text/xml","relative_path":"/getWebColorVariables/{themeSysId}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var data = request.body.data;\n    try {\n        var result = ImportNLUModel.importModel(data);\n        if (result.status === 'success') {\n            response.setStatus(200);\n        } else {\n            response.setStatus(400);\n        }\n        response.setContentType('application/json');\n        return result;\n    } catch (e) {\n        response.setStatus(400);\n        return {\n            status: 'failure',\n            message: e.message\n        };\n    }\n})(request, response);","sys_updated_on":"2021-07-19 10:35:26","enforce_acl":"ccd8a1e7772000105d7b3882a910617c","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/e4cda81e7333230021a044764df6a777","value":"e4cda81e7333230021a044764df6a777"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"16dfc512c7d9f010c59db91703c260c1","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/v1/nlu/importModelCSV","sys_created_on":"2021-07-14 08:28:03","sys_name":"importModelCSV","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/55672c9a7333230021a044764df6a706","value":"55672c9a7333230021a044764df6a706"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_ws_operation_16dfc512c7d9f010c59db91703c260c1","consumes_customized":"false","name":"importModelCSV","produces":"application/json,application/xml,text/xml","relative_path":"/importModelCSV","produces_customized":"false","default_operation_uri":"/api/now/nlu/importModelCSV","sys_policy":""},{"short_description":"Get content of tracked configuration file at specified time","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar queryParams = request.queryParams;\n\tvar bsId = String(queryParams.bs_id || '');\n\tvar fileId = String(queryParams.file_id || '');\n\tvar fileStableId = String(queryParams.file_stable_id || '');\n\tvar timestamp = String(queryParams.timestamp || Date.now());\n\t\n\tif (!fileId || !fileStableId || !bsId) {\n\t\tresponse.setError(new sn_ws_err.BadRequestError('Missing required parameters.'));\n\t\treturn;\n\t}\n\t\n    var api = new SNC.TrackedConfigFilesHistoryManager();\n\t\n\tvar content = api.getFileContent(fileId, fileStableId, bsId, timestamp);\n\t\n\tresponse.setStatus(200);\n\tresponse.setContentType(\"text/plain\");\n\tresponse.getStreamWriter().writeString(content);\n\n})(request, response);","sys_updated_on":"2019-05-01 15:13:32","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"175d679187132200b5bea18dd0e3ec34","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/tracked_config_files/get_file_content","sys_created_on":"2016-11-24 13:51:07","sys_name":"GetFileContent","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/68ec639187132200b5bea18dd0e3ec51","value":"68ec639187132200b5bea18dd0e3ec51"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"14","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_175d679187132200b5bea18dd0e3ec34","consumes_customized":"false","name":"GetFileContent","produces":"text/plain","relative_path":"/get_file_content","produces_customized":"true","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var tableName = decodeURIComponent(request.pathParams.table);\n    var sysId = decodeURIComponent(request.pathParams.sys_id);\n    var referenceTable = decodeURIComponent(request.pathParams.reference_table);\n\n    var pillPickerUtils = new RAPillPickerUtils(tableName, sysId, referenceTable);\n    var result;\n    if (referenceTable.indexOf(Constants.VAR__M_SYS_HUB_FLOW_OUTPUT_PREFIX) > -1) {\n        result = pillPickerUtils.getElements(Constants.pillPickerVars.INPUT_GENERATOR_OUTPUT_ELEMENTS);\n    } else if (referenceTable == Constants.pillPickerVars.RESOURCE_GENERATOR_OUTPUT_IDENTIFIER_TABLE) {\n        result = pillPickerUtils.getElements(Constants.pillPickerVars.RESOURCE_GENERATOR_OUTPUT_ELEMENTS);\n    } else if (referenceTable.indexOf(Constants.VAR__M_SN_NB_ACTION_FIELD_RECOMMENDATION_INPUT_PREFIX) > -1) {\n        result = pillPickerUtils.getElements(Constants.pillPickerVars.FIELD_RECOMMENDATION_INPUT_ELEMENTS);\n    } else if(referenceTable.indexOf(Constants.VAR__M_SYS_SEARCH_RESULT_GENIUS_RESULT_FIELD_PREFIX)> -1){\n        result = pillPickerUtils.getElements(Constants.pillPickerVars.GENIUS_RESULT_OUTPUT_ELEMENTS);\n    }\n\n    response.setBody(result);\n\n})(request, response);","sys_updated_on":"2023-09-07 04:38:44","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/5024b34a53c31010763eddeeff7b1289","value":"5024b34a53c31010763eddeeff7b1289"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"17694b9e53030110e530ddeeff7b1218","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_nb_action/v1/next_best_action/pillpicker/var_elements/{table}/{sys_id}/{reference_table}","sys_created_on":"2022-04-26 13:24:58","sys_name":"Pill Picker Var Elements","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/427fe83177221010d7159b71a91061e1","value":"427fe83177221010d7159b71a91061e1"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/95beed2cc7c71010763e343703c2608d","value":"95beed2cc7c71010763e343703c2608d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/427fe83177221010d7159b71a91061e1","value":"427fe83177221010d7159b71a91061e1"},"sys_update_name":"sys_ws_operation_17694b9e53030110e530ddeeff7b1218","consumes_customized":"false","name":"Pill Picker Var Elements","produces":"application/json,application/xml,text/xml","relative_path":"/pillpicker/var_elements/{table}/{sys_id}/{reference_table}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    const options = UDCUtil.assign({},\n        request.pathParams,\n        UDCUtil.normalizeQueryParams(request.queryParams)\n    );\n    try {\n        const builders = FileTaxonomyBuilder.getBuilders(options);\n        return builders;\n    } catch (e) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(500)\n            .setMessage(gs.getMessageLang(\"Unhandled exception {0}\", \"en\", [e]))\n            .setDetail(gs.getMessage(\"Unhandled exception {0}\", [e]));\n    }\n\n})(request, response);","sys_updated_on":"2024-02-20 14:27:05","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/90711aa05bdc31109cf872c60a81c7fb","value":"90711aa05bdc31109cf872c60a81c7fb"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"17699c8543be75106c4bb0117fb8f256","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_udc/v1/file_taxonomy/builders","sys_created_on":"2023-11-27 05:35:02","sys_name":"Get Taxonomy Builders","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ebf096a05bdc31109cf872c60a81c769","value":"ebf096a05bdc31109cf872c60a81c769"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_update_name":"sys_ws_operation_17699c8543be75106c4bb0117fb8f256","consumes_customized":"false","name":"Get Taxonomy Builders","produces":"application/json,application/xml,text/xml","relative_path":"/builders","produces_customized":"false","default_operation_uri":"/api/sn_udc/file_taxonomy/builders","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var grSysScope = new GlideRecord(\"sys_scope\");\n\n    if (grSysScope.get(CreatorStudioConstants.AES_APPLICATION_SYS_ID)) {\n        var activeVersion = grSysScope.getValue(\"version\");\n\n        response.setStatus(200);\n        response.setBody({\n            active_version: activeVersion\n        });\n\n        return;\n    }\n\n    throw new sn_ws_err.ServiceError()\n        .setStatus(404)\n        .setMessage(gs.getMessage(\"Application record not found\"))\n        .setDetail(gs.getMessage(\"App Engine Studio application record not found\"));\n\n})(request, response);","sys_updated_on":"2022-01-10 19:49:51","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/d3940d53c302201085c091294440dd1a","value":"d3940d53c302201085c091294440dd1a"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"17f86e58c7850110408bc8d6f2c2607f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_app_eng_studio/v1/plugin_activations/active_plugin_version","sys_created_on":"2022-01-10 19:49:51","sys_name":"Active Plugin Version","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/f9f715260f7f1010f23ff722ff767e29","value":"f9f715260f7f1010f23ff722ff767e29"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_ws_operation_17f86e58c7850110408bc8d6f2c2607f","consumes_customized":"false","name":"Active Plugin Version","produces":"application/json,application/xml,text/xml","relative_path":"/active_plugin_version","produces_customized":"false","default_operation_uri":"/api/sn_app_eng_studio/plugin_activations/active_plugin_version","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar payload = request.body.data;\n\tif (JSUtil.isEmpty(payload)) {\n\t\tresponse.setStatus(500);\n\t\treturn;\n\t}\n\n    var userTable = payload.user_table;\n\tvar userDocument = payload.user_document;\n\tvar clientPhoneNumber = payload.client_phone_number;\n\tvar phoneNumberValidationUtils = new global.PhoneNumberValidationUtils();\n\tvar result = {};\n\tvar validationResult;\n\tif (GlideDBObjectManager.get().getBase(userTable) == 'sys_user') {\n\t\tuserTable = 'sys_user';\n\t}\n\tif (userTable) {\n\t\tswitch (userTable) {\n\t\t\tcase 'sys_user':\n\t\t\t\tvalidationResult = phoneNumberValidationUtils.validatePhoneNumberForSysUser(clientPhoneNumber, userDocument);\n\t\t\t\tbreak;\n\t\t\tcase 'csm_consumer':\n\t\t\t\tvalidationResult = phoneNumberValidationUtils.validatePhoneNumberForConsumer(clientPhoneNumber, userDocument);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tvalidationResult = undefined;\n\t\t}\n\t} else {\n\t\tvalidationResult = phoneNumberValidationUtils.validatePhoneNumberForSysUser(clientPhoneNumber, userDocument);\n\t}\n\n\tif (validationResult == undefined) {\n\t\tresult = {\n\t\t\tisValid: false\n\t\t};\n\t} else {\n\t\tresult = {\n\t\t\tisValid: true,\n\t\t\te164PhoneNumber: validationResult\n\t\t};\n\t}\n\n\tresponse.setBody(result);\n\tresponse.setStatus(200);\n\n})(request, response);","sys_updated_on":"2021-01-05 00:53:37","enforce_acl":"70cffc8db7212010ffe5ef54ce11a9e2","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"18306673e7301010748b42d6c2f6a9bf","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/initiate_message/validate_phone_number","sys_created_on":"2020-05-22 17:28:51","sys_name":"Validate Phone Number","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/47dc3947b760101042a9ef54ce11a989","value":"47dc3947b760101042a9ef54ce11a989"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9cc37b3704b52210559073c06a02f781","value":"9cc37b3704b52210559073c06a02f781"},"sys_update_name":"sys_ws_operation_18306673e7301010748b42d6c2f6a9bf","consumes_customized":"false","name":"Validate Phone Number","produces":"application/json,application/xml,text/xml","relative_path":"/validate_phone_number","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Gets single applications files for a given table. object_ids are comma seperated","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    try {\n\t\tvar tableName = request.pathParams.table_name;\n\t\tvar applicationSysId = request.pathParams.application_sys_id;\n\n\t\t// Comma seperated list of object sys_ids\n\t\tvar objectSysIds = request.pathParams.object_sys_ids;\n\t\tvar objectSysIdArray= objectSysIds.split(',');\n\t\t\n\t\tvar files = ApplicationFileBuilder.build(applicationSysId, objectSysIdArray, tableName);\n\t\t\n\t\tif (files.length == 0) {\n\t\t\tthrow CreatorStudioConstants.errors.APPLICATION_FILE_DOES_NOT_EXIST;\n\t\t}\n\n\t\tresponse.setBody(files);\n\t\tresponse.setStatus(200);\n\t\t\n\t} catch (exception) {\n\t\t\n\t\tswitch(exception) {\n\t\t\n\t\t\tcase CreatorStudioConstants.errors.APPLICATION_DOES_NOT_EXIST:\n\t\t\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t\t\t.setStatus(404)\n\t\t\t\t\t.setMessage(gs.getMessageLang(\"Application, with sys_id {0}, does not exist\", \"en\", [applicationSysId]))\n\t\t\t\t\t.setDetail(gs.getMessage(\"Application, with sys_id {0}, does not exist\", [applicationSysId]));\n\t\t\t\t\n\t\t\tcase CreatorStudioConstants.errors.APPLICATION_ACCESS_DENIED:\n\t\t\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t\t\t.setStatus(403)\n\t\t\t\t\t.setMessage(gs.getMessageLang(\"Access to application, with sys_id {0}, is denied\", \"en\", [applicationSysId]))\n\t\t\t\t\t.setDetail(gs.getMessage(\"Access to application, with sys_id {0}, is denied\", [applicationSysId]));\n\t\t\t\t\n\t\t\tcase CreatorStudioConstants.errors.APPLICATION_FILE_DOES_NOT_EXIST:\n\t\t\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t\t\t.setStatus(404)\n\t\t\t\t\t.setMessage(gs.getMessageLang(\"Application object with sys_id(s) {0} does not exist\", \"en\", [objectSysIds]))\n\t\t\t\t\t.setDetail(gs.getMessage(\"Application object with sys_id(s) {0} does not exist\", [objectSysIds]));\n\t\t\t\t\n\t\t\tcase CreatorStudioConstants.errors.TAXONOMY_DOES_NOT_EXIST:\n\t\t\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t\t\t.setStatus(404)\n\t\t\t\t\t.setMessage(gs.getMessageLang(\"Taxonomy with table_name {0} does not exist\", \"en\", [tableName]))\n\t\t\t\t\t.setDetail(gs.getMessage(\"Taxonomy with table_name {0} does not exist\", [tableName]));\n\t\t\t\t\n\t\t\tdefault:\n\t\t\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t\t\t.setStatus(500)\n\t\t\t\t\t.setMessage(gs.getMessageLang(\"Unhandled exception {0}\", \"en\", [exception]))\n\t\t\t\t\t.setDetail(gs.getMessage(\"Unhandled exception {0}\", [exception]));\n\t\t\n\t\t}\n\t\t\n\t}\n\n})(request, response);","sys_updated_on":"2021-03-29 21:33:46","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/eff91f2c7700001001fb4311a8106131","value":"eff91f2c7700001001fb4311a8106131"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"18ddbd235b23001083f30f216581c7cb","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_app_eng_studio/v1/applications/{application_sys_id}/{table_name}/files/{object_sys_ids}","sys_created_on":"2020-03-20 17:05:46","sys_name":"GET Application File","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/4c41d3287700001001fb4311a81061ae","value":"4c41d3287700001001fb4311a81061ae"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"23","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_ws_operation_18ddbd235b23001083f30f216581c7cb","consumes_customized":"false","name":"GET Application File","produces":"application/json,application/xml,text/xml","relative_path":"/{application_sys_id}/{table_name}/files/{object_sys_ids}","produces_customized":"false","default_operation_uri":"/api/sn_app_eng_studio/applications/{application_sys_id}/{table_name}/files/{object_sys_ids}","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var appManagerApiUtil = new AppManagerApiUtil(request, response);\n    try {\n        var args = appManagerApiUtil.getRequestParams();\n        var responseData = new AppInfoService().getAppInfoFromStore(args);\n        appManagerApiUtil.setResponseBody(responseData);\n    } catch (err) {\n        appManagerApiUtil.setError(err);\n    }\n})(request, response);","sys_updated_on":"2022-08-22 04:47:08","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/be08b89397b0d1104b593f0e6253afe1","value":"be08b89397b0d1104b593f0e6253afe1"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"19317e5a539551106883ddeeff7b120b","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_appclient/v1/appmanager/app_info_from_store/{sourceAppId}/{version}","sys_created_on":"2022-08-16 07:55:03","sys_name":"GetAppDetailsFromStore","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7ea1fc5f9770d1104b593f0e6253af99","value":"7ea1fc5f9770d1104b593f0e6253af99"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_update_name":"sys_ws_operation_19317e5a539551106883ddeeff7b120b","consumes_customized":"false","name":"GetAppDetailsFromStore","produces":"application/json,application/xml,text/xml","relative_path":"/app_info_from_store/{sourceAppId}/{version}","produces_customized":"false","default_operation_uri":"/api/sn_appclient/appmanager/app_info_from_store/{sourceAppId}/{version}","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n    var appId = request.pathParams.appId;\n\n    ScopeCheck.verifyNotGlobal(appId);\n\n    var allowed = VCSAppAccessCheck.verifyWriteAccess(appId) && (VCSAppAccessCheck.isGACOrSourceControlUser() || VCSAppAccessCheck.verifyVersionControlAccess(appId));\n\n    if (!allowed) \n\t\tVCSAppAccessCheck.throwAccessDenied(appId);\n\n    var success = sn_vcs.AppSourceControl.getRepository(appId)\n        .getStash(request.pathParams.stashId)\n        .deleteRecord();\n\n    response.setBody({\n        success: !!success\n    });\n    response.setStatus(200);\n    response.setContentType('application/json');\n})(request, response);","sys_updated_on":"2021-04-06 20:10:58","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"194632d337011200612747efbe41f160","http_method":"DELETE","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/apps/{appId}/repos/{repoId}/stashes/{stashId}","sys_created_on":"2016-01-24 22:23:55","sys_name":"Delete Stash","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_194632d337011200612747efbe41f160","consumes_customized":"false","name":"Delete Stash","produces":"application/json,application/xml,text/xml","relative_path":"/apps/{appId}/repos/{repoId}/stashes/{stashId}","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/apps/{appId}/repos/{repoId}/stashes/{stashId}","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var appManagerApiUtil = new AppManagerApiUtil(request, response);\n    try {\n        var helper = new PluginInfoHelper();\n        var pluginResponse = helper.getPlugins(appManagerApiUtil);\n        appManagerApiUtil.setResponseBody(pluginResponse);\n    } catch (err) {\n        appManagerApiUtil.setError(err);\n    }\n})(request, response);","sys_updated_on":"2022-07-25 05:16:43","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/be08b89397b0d1104b593f0e6253afe1","value":"be08b89397b0d1104b593f0e6253afe1"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"19493cd397b0d1104b593f0e6253af5a","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_appclient/v1/appmanager/plugins","sys_created_on":"2022-07-25 05:12:31","sys_name":"GetPlugins","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7ea1fc5f9770d1104b593f0e6253af99","value":"7ea1fc5f9770d1104b593f0e6253af99"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_update_name":"sys_ws_operation_19493cd397b0d1104b593f0e6253af5a","consumes_customized":"false","name":"GetPlugins","produces":"application/json,application/xml,text/xml","relative_path":"/plugins","produces_customized":"false","default_operation_uri":"/api/sn_appclient/appmanager/plugins","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar type = request.pathParams.type;\n    var sysId = request.pathParams.sysId;\n\ttry {\n\t\treturn new OnCallContactPreferenceUtil().getContactPreferences(type, sysId);\n\t} catch (e) {\n\t\tif (e.securityError) {\n\t\t\tvar body = {\n\t\t\t\terror: {\n\t\t\t\t\tmessage: e.message\n\t\t\t\t}\n\t\t\t};\n\t\t\tresponse.setBody(body);\n\t\t\tresponse.setStatus(403);\n\t\t}\n\t\telse {\n\t\t\treturn new sn_ws_err.BadRequestError(e.message);\n\t\t}\n\t}\n})(request, response);","sys_updated_on":"2019-04-10 12:33:37","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1a003ae9b7a03300e11bc556ee11a9e9","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/contact_preferences/{type}/{sysId}","sys_created_on":"2019-04-01 16:03:09","sys_name":"getContactPreferences","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_1a003ae9b7a03300e11bc556ee11a9e9","consumes_customized":"false","name":"getContactPreferences","produces":"application/json,application/xml,text/xml","relative_path":"/contact_preferences/{type}/{sysId}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n\tvar taskId = request.pathParams.taskId;\n\tif (!taskId)\n\t\treturn new sn_ws_err.BadRequestError(\"Task Item id not provided\");\n\t\n\tvar cabApproval = new CABApproval(taskId);\n\tresponse.setBody(cabApproval.toJS());\n})(request, response);","sys_updated_on":"2021-04-26 17:42:46","enforce_acl":"ee9fb61a232303001488dc1756bf658b","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1a4693a0eb20220034d1eeea1206fe7e","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_change_cab/cab/approval/{taskId}","sys_created_on":"2016-07-08 11:17:06","sys_name":"Approval Info","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/cf65d305eb10220034d1eeea1206fe55","value":"cf65d305eb10220034d1eeea1206fe55"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"23","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_update_name":"sys_ws_operation_1a4693a0eb20220034d1eeea1206fe7e","consumes_customized":"false","name":"Approval Info","produces":"application/json,application/xml,text/xml","relative_path":"/approval/{taskId}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var tableName = decodeURIComponent(request.pathParams.table);\n    var sysId = decodeURIComponent(request.pathParams.sys_id);\n\n    if (tableName == Constants.TBL_DECISION_TREE_NODE) {\n        response.setBody(null);\n    } else {\n        var pillPickerUtils = new RAPillPickerUtils(tableName, sysId);\n        var result = pillPickerUtils.getElements(Constants.pillPickerVars.BASE_ELEMENTS);\n        response.setBody(result);\n    }\n\n})(request, response);","sys_updated_on":"2022-10-06 06:25:28","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/5024b34a53c31010763eddeeff7b1289","value":"5024b34a53c31010763eddeeff7b1289"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1a684b5e53030110e530ddeeff7b124a","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_nb_action/v1/next_best_action/pillpicker/base_elements/{table}/{sys_id}","sys_created_on":"2022-04-26 13:15:33","sys_name":"Pill Picker Base Elements","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/427fe83177221010d7159b71a91061e1","value":"427fe83177221010d7159b71a91061e1"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/95beed2cc7c71010763e343703c2608d","value":"95beed2cc7c71010763e343703c2608d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/427fe83177221010d7159b71a91061e1","value":"427fe83177221010d7159b71a91061e1"},"sys_update_name":"sys_ws_operation_1a684b5e53030110e530ddeeff7b124a","consumes_customized":"false","name":"Pill Picker Base Elements","produces":"application/json,application/xml,text/xml","relative_path":"/pillpicker/base_elements/{table}/{sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var table = request.pathParams.table;\n    var recordId = request.pathParams.recordId;\n\n    var glideRecord = new GlideRecord(table);\n    \n    if (!glideRecord || !glideRecord.get(recordId))\n        return {};\n\n    result = {\n        table: table,\n        recordId: recordId,\n        scopeId: glideRecord.getValue('sys_package')\n    };\n\n    response.setContentType('application/json');\n    response.setStatus(200);\n    response.setBody(result);\n\n})(request, response);","sys_updated_on":"2023-06-26 22:41:58","enforce_acl":"64cf7ea74fa3611038e26c01b1ce0bf5","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1a7a6bdbb7386510ebc251e75e11a977","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_config_hub/configuration_hub_api/config/record_scope/{table}/{recordId}","sys_created_on":"2023-02-09 14:17:36","sys_name":"Get Record Scope","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/2028fe718b11c8f32122c6da3b496a83","value":"2028fe718b11c8f32122c6da3b496a83"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/d68a7cb5eb9221109cfedf3c03522847","value":"d68a7cb5eb9221109cfedf3c03522847"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2028fe718b11c8f32122c6da3b496a83","value":"2028fe718b11c8f32122c6da3b496a83"},"sys_update_name":"sys_ws_operation_1a7a6bdbb7386510ebc251e75e11a977","consumes_customized":"false","name":"Get Record Scope","produces":"application/json,application/xml,text/xml","relative_path":"/config/record_scope/{table}/{recordId}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    // Get the \"view\" query parameter\n    var viewParam = request.queryParams.view || [];\n\tvar view = viewParam[0] || 'main';\n\n    // Create an instance of the VADConfigUtil Script Include\n    var vadConfigUtil = new VADConfigUtil();\n\n    // Load the appropriate config using the \"view\" query parameter\n    var config = vadConfigUtil.load(view);\n\n    // Set the response body to the loaded config\n    response.setBody(config);\n})(request, response);","sys_updated_on":"2024-05-23 22:43:03","enforce_acl":"cf9d01d3e73003009d6247e603f6a990,a145f646935e02108dbf85abd18918f1","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1a94f606935e02108dbf85abd18918fe","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_cs_builder/va_designer_config","sys_created_on":"2024-05-22 19:09:35","sys_name":"Fetch VA Designer Config","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/a6c104e2b3133200f7d1a13816a8dc64","value":"a6c104e2b3133200f7d1a13816a8dc64"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/75543606935e02108dbf85abd1891879","value":"75543606935e02108dbf85abd1891879"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/a6c104e2b3133200f7d1a13816a8dc64","value":"a6c104e2b3133200f7d1a13816a8dc64"},"sys_update_name":"sys_ws_operation_1a94f606935e02108dbf85abd18918fe","consumes_customized":"false","name":"Fetch VA Designer Config","produces":"application/json,application/xml,text/xml","relative_path":"/","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tconst {ComponentUsage} = require('@servicenow/sn-cb-api');\n    const {\n        queryParams: {\n            sysId,\n            rangeStart,\n            rangeEnd\n\n        }\n    } = request;\n    if (!sysId) return [];\n    return new ComponentUsage().getPageDetails(sysId, rangeStart, rangeEnd);\n\n})(request, response);","sys_updated_on":"2024-02-27 18:42:41","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1aa68fb3a3f331100aa159e6d31e611c","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_cb_api/componentbuilder/component/page","sys_created_on":"2024-01-25 00:21:31","sys_name":"Page","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/58d65e5a729340ac35dc8fd71d665545","value":"58d65e5a729340ac35dc8fd71d665545"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/79353aa3a37731100aa159e6d31e6154","value":"79353aa3a37731100aa159e6d31e6154"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"20","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/58d65e5a729340ac35dc8fd71d665545","value":"58d65e5a729340ac35dc8fd71d665545"},"sys_update_name":"sys_ws_operation_1aa68fb3a3f331100aa159e6d31e611c","consumes_customized":"false","name":"Page","produces":"application/json,application/xml,text/xml","relative_path":"/component/page","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n\tvar agendaItemId = request.pathParams.agendaItemId;\n\tvar agendaItemGr = new GlideRecord('cab_agenda_item');\n\n\tif (!agendaItemId)\n\t\treturn new sn_ws_err.BadRequestError(\"Agenda Item id not provided\");\n\n\tif (!agendaItemGr.get(agendaItemId))\n\t\treturn new sn_ws_err.NotFoundError(\"Requested Agenda Item not found\");\n\n\tvar agendaItemState = agendaItemGr.getValue(\"state\");\n\tif (agendaItemState !== \"pending\")\n\t\treturn new sn_ws_err.BadRequestError(\"Cannot promote the Agenda Item. State is \" + agendaItemState);\n\n\tvar cabMeetingGr = new GlideRecord('cab_meeting');\n\tif (!cabMeetingGr.get(agendaItemGr.getValue('cab_meeting')))\n\t\treturn new sn_ws_err.NotFoundError(\"CAB Meeting for the given Agenda Item not found\");\n\n\tvar cabMeeting = new CABMeeting(cabMeetingGr);\n\tif (cabMeeting.getAgendaItemCount() !== 0) {\n\t\tvar orderNumber = agendaItemGr.getValue('order');\n\t\tvar currentItemGr;\n\t\tvar runtimeMeeting = new GlideRecord('cab_runtime_state');\n\t\truntimeMeeting.addQuery('cab_meeting',agendaItemGr.getValue('cab_meeting'));\n\t\truntimeMeeting.query();\n\n\t\tif (!runtimeMeeting.hasNext())\n\t\t\treturn new sn_ws_err.NotFoundError(\"CAB Meeting's Runtime State for the given Agenda Item not found\");\n\n\t\truntimeMeeting.next();\n\t\tcurrentItemGr = runtimeMeeting.current_agenda_item.getRefRecord();\n\t\tvar firstPendingItemOrder = cabMeeting.getFirstPendingAgendaItemOrder();\n\t\tif (!currentItemGr.isValidRecord())\n\t\t\torderNumber = firstPendingItemOrder - 10;\n\t\telse {\n\t\t\tvar currentItemOrder = parseInt(currentItemGr.getValue('order'));\n\t\t\tif (firstPendingItemOrder - currentItemOrder <= 1) {\n\t\t\t\tcabMeeting.redistributeOrderNumbers();\n\t\t\t\tfirstPendingItemOrder = cabMeeting.getFirstPendingAgendaItemOrder();\n\t\t\t\tcurrentItemOrder = parseInt(currentItemGr.getValue('order'));\n\t\t\t}\n\t\t\torderNumber =  parseInt(currentItemOrder + ((firstPendingItemOrder - currentItemOrder) / 2));\n\t\t}\n\t\tagendaItemGr.setValue('order', orderNumber);\n\t\tagendaItemGr.update();\n\t} else\n\t\treturn new sn_ws_err.BadRequestError(\"Cannot promote Agenda Item. There aren't any pending Agenda Items in the CAB Meeting of the given Agenda Item\");\n\n\tresponse.setContentType('application/json');\n\tresponse.setBody({promoteState: 'true'});\n\tresponse.setStatus(202);\n\treturn response;\n})(request, response);","sys_updated_on":"2018-02-05 14:11:37","enforce_acl":"ee9fb61a232303001488dc1756bf658b","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1ab79843d7e02200d105ef637e61037b","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_change_cab/cab/agenda/item/{agendaItemId}/promote","sys_created_on":"2016-07-15 15:48:21","sys_name":"UPDATE Agenda Item Promote","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/cf65d305eb10220034d1eeea1206fe55","value":"cf65d305eb10220034d1eeea1206fe55"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"49","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_update_name":"sys_ws_operation_1ab79843d7e02200d105ef637e61037b","consumes_customized":"false","name":"UPDATE Agenda Item Promote","produces":"application/json,application/xml,text/xml","relative_path":"/agenda/item/{agendaItemId}/promote","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n/**\nParams:\n\tbsId (sys_id)\n*/\n    var saOpsWrapper = new SaOperationsWrapper(SNC.SaActionsHandler);\n\tsaOpsWrapper.process(request,response, \"getBaselines\");\n\n})(request, response);","sys_updated_on":"2018-03-11 12:45:44","enforce_acl":"ea4f3ae287132200b5bea18dd0e3eceb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1b7da2537f520300995cbaf8befa917f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/it_service/getBaselines","sys_created_on":"2017-11-13 13:34:00","sys_name":"GetBaselines - Internal API","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3418e25f7f120300995cbaf8befa912e","value":"3418e25f7f120300995cbaf8befa912e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_1b7da2537f520300995cbaf8befa917f","consumes_customized":"false","name":"GetBaselines - Internal API","produces":"application/json,application/xml,text/xml","relative_path":"/getBaselines","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var apiResponse = new ExcelSpreadsheetColumns(request.queryParams).build();\n    return apiResponse;\n\n})(request, response);","sys_updated_on":"2022-01-20 09:03:28","enforce_acl":"59b0f35b77cd011066cfa9ff9a5a990d","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1b847fdb77cd011066cfa9ff9a5a99d2","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_table_bldr_wzd/app/excel_spreadsheet_columns","sys_created_on":"2022-01-20 09:03:28","sys_name":"GET Excel Spreadsheet Columns","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5fc95d0df025bde7fac20ba52d0ecc05","value":"5fc95d0df025bde7fac20ba52d0ecc05"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7a088303770d011066cfa9ff9a5a99b2","value":"7a088303770d011066cfa9ff9a5a99b2"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5fc95d0df025bde7fac20ba52d0ecc05","value":"5fc95d0df025bde7fac20ba52d0ecc05"},"sys_update_name":"sys_ws_operation_1b847fdb77cd011066cfa9ff9a5a99d2","consumes_customized":"false","name":"GET Excel Spreadsheet Columns","produces":"application/json,application/xml,text/xml","relative_path":"/excel_spreadsheet_columns","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tif (!request.body.hasNext())\n\t\treturn new sn_ws_err.BadRequestError(\"illegal identityDetails payload\");\n\n\tvar identityDetails = request.body.nextEntry();\n\tif (!identityDetails)\n\t\treturn new sn_ws_err.BadRequestError(\"identityDetails malformed or null\");\n\n\tvar chgSocSysId = identityDetails.chg_soc_definition;\n\tvar tableName = identityDetails.tableName;\n\tvar sysId = identityDetails.sys_id;\n\tif (!chgSocSysId || !tableName || !sysId)\n\t\treturn new sn_ws_err.BadRequestError(\"identityDetails malformed or null chgSocSysId: \" + chgSocSysId + \" tableName: \" + tableName + \" sysId: \" + sysId);\n\n\tvar gr = new GlideRecordSecure(\"chg_soc_definition\");\n\tif (!gr.get(chgSocSysId))\n\t\treturn new sn_ws_err.BadRequestError(\"chg_soc_definition: \" + chgSocSysId + \" record not found\");\n\n\treturn new SoCDefinition(gr).removePermission(tableName, sysId);\n})(request, response);\n","sys_updated_on":"2018-02-13 22:47:21","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1b8e5e4dd7101300532c24837e610348","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_chg_soc/soc/removePermission","sys_created_on":"2018-02-13 22:47:21","sys_name":"removePermission","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3115d45f67020300b410afa00585ef87","value":"3115d45f67020300b410afa00585ef87"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_update_name":"sys_ws_operation_1b8e5e4dd7101300532c24837e610348","consumes_customized":"false","name":"removePermission","produces":"application/json,application/xml,text/xml","relative_path":"/removePermission","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    try {\n        var nluModel = new NLUModel(request.pathParams.modelId);\n        var modelGr = nluModel.getGR();\n        var lastTrainingCompleted = true,\n            latestVersion = 0,\n            lastPublishedBy;\n        if (modelGr) {\n            var parloIntegrator = new NLUParloIntegrator(modelGr);\n            var solution = null;\n            try {\n                solution = parloIntegrator.getSolution();\n                latestVersion = solution.getLatestVersion();\n                var status = latestVersion.getStatus();\n                lastTrainingCompleted = status && JSON.parse(status)['hasJobEnded'];\n                latestVersion = latestVersion.getVersionNumber();\n            } catch (e) {\n                gs.info('There is no latest version for for: ' + request.pathParams.modelId);\n\t\t\t\tlatestVersion = 0;\n            }\n            try {\n                if (solution) {\n                    var activeVersion = solution.getActiveVersion();\n                    var props = activeVersion.getProperties();\n                    lastPublishedBy = NLUSystemUtil.getUserName(JSON.parse(props)['sys_created_by']);\n                }\n            } catch (e) {\n                gs.info('There is no published version for for: ' + request.pathParams.modelId);\n            }\n        }\n\n        response.setStatus(200);\n        response.setContentType('application/json');\n        return {\n            lastTrainingCompleted: lastTrainingCompleted,\n            latestVersion: latestVersion,\n            lastPublishedBy: lastPublishedBy\n        };\n    } catch (e) {\n        return e;\n    }\n\n})(request, response);","sys_updated_on":"2021-04-20 05:47:30","enforce_acl":"ccd8a1e7772000105d7b3882a910617c","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/e4cda81e7333230021a044764df6a777","value":"e4cda81e7333230021a044764df6a777"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1c5572d20736101028ef0a701ad30001","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/nlu/getModelDetails/{modelId}","sys_created_on":"2020-08-25 13:07:32","sys_name":"getModelDetails","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/55672c9a7333230021a044764df6a706","value":"55672c9a7333230021a044764df6a706"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"15","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_ws_operation_1c5572d20736101028ef0a701ad30001","consumes_customized":"false","name":"getModelDetails","produces":"application/json,application/xml,text/xml","relative_path":"/getModelDetails/{modelId}","produces_customized":"false","default_operation_uri":"/api/now/nlu/getModelDetails/{modelId}","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar request_body = request.body.nextEntry();\n\tvar itemId = '' + request_body.sysparm_id;\n\tvar catUtil = new RestCatalogUtil();\n\tfor (var key in request_body.variables)\n\t\tif (request_body.variables.hasOwnProperty(key) && request_body.variables[key] != null && typeof(request_body.variables[key]) !== 'string')\n\t\t\trequest_body.variables[key] = catUtil.getFieldValueAsString(key, request_body.variables[key], itemId);\n\t\n\tvar cart = new sn_sc.CartJS();\n\tvar conflictingCartDomain = cart.findConflictingDomain();\n\tif (conflictingCartDomain)\n\t\tthrow new sn_ws_err.BadRequestError(gs.getMessage(\"Your cart has item(s) belonging to the '{0}' domain. Please change the domain to continue with the checkout.\", conflictingCartDomain));\n\t\t\n\tif(cart.isEmpty())\n\t\tthrow new sn_ws_err.BadRequestError(\"Cart is empty!\");\n\n\tvar response_body = {};\n\ttry {\n\t\tresponse_body = cart.submitOrder(request_body);\n\t} catch (e) {\n\t\tgs.debug(e);\n\t\tvar catalogExceptionUtils = new global.CatalogExceptionUtils();\n\t\tif(catalogExceptionUtils.isCartException(e)) {\n\t\t\tresponse.setStatus(400);\n\t\t\tresponse_body = catalogExceptionUtils.handleCartExceptionInPortal(e);\n\t\t} else\n\t\t\tthrow new sn_ws_err.ServiceError('Error during submit');\n\t}\n\treturn response_body;\n})(request, response);","sys_updated_on":"2021-09-18 17:47:21","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"1c5a7330db20120064301150f0b8f54e","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/cart/submit_order","sys_created_on":"2015-12-23 12:22:05","sys_name":"Submit Order","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"13","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_1c5a7330db20120064301150f0b8f54e","consumes_customized":"false","name":"Submit Order","produces":"application/json,application/xml,text/xml","relative_path":"/cart/submit_order","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/cart/submit_order","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar payload = request.body.data;\n\n\t// If there's no payload and no query parameter we can return an error.\n\tif (JSUtil.isEmpty(payload))\n\t\treturn new sn_ws_err.BadRequestError(\"No Query String provided\");\n\n\tvar json = new JSON();\n\tvar feedbackRequest = new SNC.FeedbackRequest().fromJSON(json.encode(payload));\n\tvar feedbackResponse = feedbackRequest.submit();\n\tresponse.setBody(json.decode(feedbackResponse.toJSON()));\n})(request, response);","sys_updated_on":"2018-10-02 17:03:07","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"1c634e5cd7703200f2d224837e6103dd","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/cxs/feedback","sys_created_on":"2017-02-03 17:03:56","sys_name":"feedback","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7e534526d722220034d145bcce6103fa","value":"7e534526d722220034d145bcce6103fa"},"consumes":"application/json","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5209e3b704f12210559073c06a02f734","value":"5209e3b704f12210559073c06a02f734"},"sys_update_name":"sys_ws_operation_1c634e5cd7703200f2d224837e6103dd","consumes_customized":"false","name":"feedback","produces":"application/json","relative_path":"/feedback","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var appManagerApiUtil = new AppManagerApiUtil(request, response);\n    try {\n        var appInfoService = new AppInfoService();\n        var data = appInfoService.getApps(appManagerApiUtil);\n        appManagerApiUtil.setResponseBody(data);\n    } catch (err) {\n        appManagerApiUtil.setError(err);\n    }\n\n})(request, response);","sys_updated_on":"2022-07-26 12:47:24","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/be08b89397b0d1104b593f0e6253afe1","value":"be08b89397b0d1104b593f0e6253afe1"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1c65305397b0d1104b593f0e6253affe","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_appclient/v1/appmanager/apps","sys_created_on":"2022-10-10 09:49:35","sys_name":"GetApps","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7ea1fc5f9770d1104b593f0e6253af99","value":"7ea1fc5f9770d1104b593f0e6253af99"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"9","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_update_name":"sys_ws_operation_1c65305397b0d1104b593f0e6253affe","consumes_customized":"false","name":"GetApps","produces":"application/json,application/xml,text/xml","relative_path":"/apps","produces_customized":"false","default_operation_uri":"/api/sn_appclient/appmanager/apps","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n\t\tconst params = request.queryParams;\n        const uxaHandler = new UXAHandler(); \n\t\tconst result = uxaHandler.handleCohortRequest(params, true);\n        response.setBody(result);\n        response.setContentType('application/json');\n        response.setStatus(200);\n        return response;\n    } catch (error) {\n        response.setStatus(500);\n        response.setError(UXAError.getGenericError(error));\n        return response;\n    }\n})(request, response);","sys_updated_on":"2024-09-17 16:36:56","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/d93d4288ffe7c21024f4ffffffffff52","value":"d93d4288ffe7c21024f4ffffffffff52"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1c8673e6b7c41210979ab238ee11a9e3","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uxa_req_manager/v1/uxa_data/fetch-cohorts","sys_created_on":"2024-08-19 13:01:16","sys_name":"Fetch Cohorts","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/e9f5c0d20b620210e8a937009777b2d7","value":"e9f5c0d20b620210e8a937009777b2d7"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_update_name":"sys_ws_operation_1c8673e6b7c41210979ab238ee11a9e3","consumes_customized":"false","name":"Fetch Cohorts","produces":"application/json,application/xml,text/xml","relative_path":"/fetch-cohorts","produces_customized":"false","default_operation_uri":"/api/sn_uxa_req_manager/uxa_data/fetch-cohorts","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar util = new SchedulePageUtilSNC();\n    var dataSourceClass = util.getClassName(request.pathParams.schedule_page_sys_id);\n\tvar infoType = request.pathParams.info_type;\n\tif (dataSourceClass) {\n\t\tvar dataSourceObj = util.getObjInstance(dataSourceClass, this);\n\t\tdataSourceObj.setSchedulePageId(request.pathParams.schedule_page_sys_id);\n\t\tvar resp = dataSourceObj.updateCustomInfo(infoType, request.body.data, request.queryParams);\n\t\tif (resp.apiError && resp.errorType == 'security' ) {\n\t\t\tvar respError = new sn_ws_err.ServiceError();\n\t\t\trespError.setStatus(403);\n\t\t\trespError.setMessage(resp.apiError);\n\t\t\treturn respError;\n\t\t} else if (resp.apiError)\n\t\t\treturn new sn_ws_err.BadRequestError(resp.apiError);\n\t\telse\n\t\t\treturn resp;\n\t}\n\treturn new sn_ws_err.BadRequestError(gs.getMessage('A valid implementation for datasource Script Include is missing.'));\n\n})(request, response);","sys_updated_on":"2017-07-28 21:42:47","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"1c8abcdc53100300e8960ef5d5dc345c","http_method":"PUT","sys_updated_by":"admin","operation_uri":"/api/now/schedule_page/info/{info_type}/{schedule_page_sys_id}","sys_created_on":"2017-07-27 11:24:04","sys_name":"Update Custom Info","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/9a31657653373200e8960ef5d5dc34d5","value":"9a31657653373200e8960ef5d5dc34d5"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/81e45c800b833200ecfd818393673a2e","value":"81e45c800b833200ecfd818393673a2e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"8","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9a31657653373200e8960ef5d5dc34d5","value":"9a31657653373200e8960ef5d5dc34d5"},"sys_update_name":"sys_ws_operation_1c8abcdc53100300e8960ef5d5dc345c","consumes_customized":"false","name":"Update Custom Info","produces":"application/json,application/xml,text/xml","relative_path":"/info/{info_type}/{schedule_page_sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar sysId = request.pathParams.sys_id || \"\";\n\tif (!sysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Change Request id not provided\");\n\n\tvar changeGR = new GlideRecordSecure(global.ChangeRequest.CHANGE_REQUEST);\n\tif (!changeGR.get(sysId))\n\t\treturn new sn_ws_err.NotFoundError(\"Change Request not found\");\n\n\tvar changeConflict = new global.ChangeConflictAPI(changeGR);\n\n\tif (changeConflict.cancelConflictDetection())\n\t\treturn global.ChangeCommon.toJS(changeConflict.getProgressRecord());\n\n\treturn new sn_ws_err.BadRequestError(\"Conflict for change request could not be cancelled\");\n\n})(request, response);","sys_updated_on":"2018-08-17 14:12:22","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1c924cd723f313001488dc1756bf65a2","http_method":"DELETE","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/{sys_id}/conflict","sys_created_on":"2018-08-13 10:51:55","sys_name":"Conflict - Cancel","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"15","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_1c924cd723f313001488dc1756bf65a2","consumes_customized":"false","name":"Conflict - Cancel","produces":"application/json,application/xml,text/xml","relative_path":"/{sys_id}/conflict","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/{sys_id}/conflict","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        var res = new sn_wn.WhatsNewAPIHandler().handleUserActivityRequest(request.body.data);\n        response.setStatus(res.status);\n        response.setBody({\"message\": res.message});\n    } catch (e) {\n        var exp = new sn_ws_err.BadRequestError(e + \"\");\n        response.setError(exp);\n    }\n\n})(request, response);","sys_updated_on":"2023-10-11 09:19:34","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1cf54ff193bd7110878c97d93489184a","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_wn/whats_new/user_activity","sys_created_on":"2023-10-11 09:19:34","sys_name":"User Activity","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cb08e377eb9071106fb3951ff15228b8","value":"cb08e377eb9071106fb3951ff15228b8"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/8f25234477703110878cd30e5b5a994c","value":"8f25234477703110878cd30e5b5a994c"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cb08e377eb9071106fb3951ff15228b8","value":"cb08e377eb9071106fb3951ff15228b8"},"sys_update_name":"sys_ws_operation_1cf54ff193bd7110878c97d93489184a","consumes_customized":"false","name":"User Activity","produces":"application/json,application/xml,text/xml","relative_path":"/user_activity","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar sanitize = new ServiceMappingSanitizeIdAPI();\n\tvar serviceId = sanitize.sanitizeIdString(request.pathParams.service_id);\n    var bsGlideRecord = new GlideRecord(\"cmdb_ci_service_discovered\");\n\tbsGlideRecord.addQuery(\"sys_id\", serviceId);\n\tbsGlideRecord.query();\n\tbsGlideRecord.next();\n\tbsGlideRecord.deleteRecord();\n\n})(request, response);","sys_updated_on":"2024-02-26 12:27:39","enforce_acl":"a36f6b459f73320089c25ecec32e705e","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1cfdd0336793f2009ebb2dbd2685ef42","http_method":"DELETE","sys_updated_by":"admin","operation_uri":"/api/now/sa_business_service/deleteBusinessService/{service_id}","sys_created_on":"2017-06-18 13:16:04","sys_name":"Delete Business Service","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/f8f0abda9f0232004db75ecec32e7027","value":"f8f0abda9f0232004db75ecec32e7027"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"8","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_1cfdd0336793f2009ebb2dbd2685ef42","consumes_customized":"false","name":"Delete Business Service","produces":"application/json,application/xml,text/xml","relative_path":"/deleteBusinessService/{service_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        var guidedTourPlugin = 'com.glide.guided_tours';\n        var isActive = GlidePluginManager.isActive(guidedTourPlugin);\n        response.setStatus(200);\n        response.setBody({\n            isActive: isActive\n        });\n    } catch (e) {\n        // Given status as 200 to avoid showing alert in UI.\n        response.setStatus(200);\n        response.setBody({\n            error: {\n                message: e.message\n            }\n        });\n    }\n})(request, response);","sys_updated_on":"2023-07-26 10:34:29","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/3268f36173eb13007077edcc5ef6a738","value":"3268f36173eb13007077edcc5ef6a738"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1d3ee430439031103eaa6548b9b8f296","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/guided_tours/isactive","sys_created_on":"2023-07-25 05:50:51","sys_name":"Get guided tour plugin status","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/2405194d87e73200b38c0f4c59cb0b6f","value":"2405194d87e73200b38c0f4c59cb0b6f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_update_name":"sys_ws_operation_1d3ee430439031103eaa6548b9b8f296","consumes_customized":"false","name":"Get guided tour plugin status","produces":"application/json,application/xml,text/xml","relative_path":"/isactive","produces_customized":"false","default_operation_uri":"/api/now/guided_tours/isactive","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        var options = UDCUtil.assign({},\n            request.pathParams,\n            UDCUtil.normalizeQueryParams(request.queryParams), {\n                payload: request.body.data\n            }\n        );\n\n        options.payload.validEntries = DeveloperHistory.validatePayload(options);\n\n        var apiResponse = DeveloperHistory.addHistoryEntries(options);\n\n        response.setBody(apiResponse);\n    } catch (error) {\n        return new sn_ws_err.BadRequestError(error);\n    }\n})(request, response);","sys_updated_on":"2023-11-01 10:43:50","enforce_acl":"4464a7a0a392311018d4189b66fcdac7","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a09dceb7a3f5f11018d4189b66fcdaea","value":"a09dceb7a3f5f11018d4189b66fcdaea"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1e1ae13fa3bdb11018d4189b66fcda8f","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_udc/v1/developer_history/entries","sys_created_on":"2023-10-17 07:27:27","sys_name":"POST History Entries","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/82c969fba3bdb11018d4189b66fcdaf4","value":"82c969fba3bdb11018d4189b66fcdaf4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_update_name":"sys_ws_operation_1e1ae13fa3bdb11018d4189b66fcda8f","consumes_customized":"false","name":"POST History Entries","produces":"application/json,application/xml,text/xml","relative_path":"/entries","produces_customized":"false","default_operation_uri":"/api/sn_udc/developer_history/entries","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar data = request.body.data;\n\t\n\ttry {\n        if (data.dateRange) {\n            var result = new sn_nlu_workbench.NLUImprovementAnalysis().run(data.dateRange);\n\n            if (result.status === 'success') {\n                response.setStatus(200);\n            } else {\n                response.setStatus(400);\n            }\n\n            response.setContentType('application/json');\n            return result;\n        } else {\n            return new sn_ws_err.BadRequestError(\"No input data provided\");\n        }\n\n    } catch (e) {\n        return new sn_ws_err.BadRequestError(e.message);\n    }\n    \n\n})(request, response);","sys_updated_on":"2021-02-05 10:16:57","enforce_acl":"0f43facbeb8220105de665fcc8522895","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b51a6d700710201028ef0a701ad300ab","value":"b51a6d700710201028ef0a701ad300ab"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1e2300c673402010e6b632e954f6a7cc","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_nlu_workbench/v1/nlu_advanced/runImprovementAnalysis","sys_created_on":"2020-10-25 08:43:28","sys_name":"runImprovementAnalysis","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea82488673402010e6b632e954f6a7ca","value":"ea82488673402010e6b632e954f6a7ca"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_update_name":"sys_ws_operation_1e2300c673402010e6b632e954f6a7cc","consumes_customized":"false","name":"runImprovementAnalysis","produces":"application/json,application/xml,text/xml","relative_path":"/runImprovementAnalysis","produces_customized":"false","default_operation_uri":"/api/sn_nlu_workbench/nlu_advanced/runImprovementAnalysis","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        var res = new sn_wn.WhatsNewAPIHandler().handleTotalContentCountRequest(request.body.data);\n        response.setStatus(res.status);\n        response.setBody(res);\n    } catch (e) {\n        var exp = new sn_ws_err.BadRequestError(e + \"\");\n        response.setError(exp);\n    }\n})(request, response);","sys_updated_on":"2023-10-22 08:08:16","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1e43af5593023110878c97d93489181d","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_wn/whats_new/content_count","sys_created_on":"2023-10-22 08:08:16","sys_name":"Content Count","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cb08e377eb9071106fb3951ff15228b8","value":"cb08e377eb9071106fb3951ff15228b8"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/8f25234477703110878cd30e5b5a994c","value":"8f25234477703110878cd30e5b5a994c"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cb08e377eb9071106fb3951ff15228b8","value":"cb08e377eb9071106fb3951ff15228b8"},"sys_update_name":"sys_ws_operation_1e43af5593023110878c97d93489181d","consumes_customized":"false","name":"Content Count","produces":"application/json,application/xml,text/xml","relative_path":"/content_count","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t/*\n\t\tPath params -\n\t\tschedule_page_sys_id\n\n\t\tQuery params -\n\t\tsysparm_sys_id\n\t\tstart_date\n\t\tend_date\n\t\tformat - dhtmlx/ical\n\t*/\n\tvar util = new SchedulePageUtilSNC();\n\tvar dataSourceClass = util.getClassName(request.pathParams.schedule_page_sys_id);\n\n\tif (dataSourceClass) {\n\t\tvar dataSourceObj = util.getObjInstance(dataSourceClass, this);\n\t\tdataSourceObj.setSchedulePageId(request.pathParams.schedule_page_sys_id);\n\n\t\tvar p = dataSourceObj.processQueryParams(request.queryParams);\n\t\tif (dataSourceObj.hasApiError(p))\n\t\t\treturn new sn_ws_err.BadRequestError(p.apiError);\n\t\tvar resp = dataSourceObj.getEvents(p);\n\t\tif (resp.apiError)\n\t\t\treturn new sn_ws_err.BadRequestError(resp.apiError);\n\t\telse\n\t\t\treturn resp;\n\t}\n\treturn new sn_ws_err.BadRequestError(gs.getMessage('A valid schedule page ID is necessary to get the associated schedule events.'));\n\n})(request, response);","sys_updated_on":"2017-07-28 21:15:49","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"1e45dc800b833200ecfd818393673a0d","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/schedule_page/event/{schedule_page_sys_id}","sys_created_on":"2017-05-25 10:54:08","sys_name":"Get Event","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/9a31657653373200e8960ef5d5dc34d5","value":"9a31657653373200e8960ef5d5dc34d5"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/81e45c800b833200ecfd818393673a2e","value":"81e45c800b833200ecfd818393673a2e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"14","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9a31657653373200e8960ef5d5dc34d5","value":"9a31657653373200e8960ef5d5dc34d5"},"sys_update_name":"sys_ws_operation_1e45dc800b833200ecfd818393673a0d","consumes_customized":"false","name":"Get Event","produces":"application/json,application/xml,text/xml","relative_path":"/event/{schedule_page_sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var returnObj = {};\n    var sysProp = gs.getProperty('sn_va_slack.enable_slack_branding', 'false');\n    var botConfig = new SlackBotConfig().getSlackBots();\n    returnObj['botConfig'] = botConfig;\n    returnObj['propValue'] = sysProp;\n    return returnObj;\n\n})(request, response);","sys_updated_on":"2023-04-06 09:28:10","enforce_acl":"0c264b08c3d16110bf30c265cb40dda4","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1e7a74871b760110382c43b8b04bcb84","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/slack_bots_config","sys_created_on":"2022-04-16 00:35:09","sys_name":"slack_bot_config","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"akhil.parashara@snc","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/6a5a74871b760110382c43b8b04bcb66","value":"6a5a74871b760110382c43b8b04bcb66"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_ws_operation_1e7a74871b760110382c43b8b04bcb84","consumes_customized":"false","name":"slack_bot_config","produces":"application/json,application/xml,text/xml","relative_path":"/","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var shifts = request.body.data.shifts;\n\tif (!shifts)\n        return new sn_ws_err.BadRequestError(\"Shifts are not provided\");\n\n\tif (shifts.length) {\n\t\tfor (var i = 0; i < shifts.length; i++) {\n\t\t\tvar shift = shifts[i];\n\t\t\tif (shift.sys_id) {\n\t\t\t\tvar rotaGr = new GlideRecord(\"cmn_rota\");\n\t\t\t\tif(rotaGr.get(shift.sys_id)) {\n\t\t\t\t\tif (rotaGr.canWrite()) {\n\t\t\t\t\t\tif (shift.state === 'draft') {\n\t\t\t\t\t\t\trotaGr.setValue('state', 'draft');\n\t\t\t\t\t\t\trotaGr.setValue('active', false);\n\t\t\t\t\t\t} else if (shift.state === '') {\n\t\t\t\t\t\t\trotaGr.setValue('state', '');\n\t\t\t\t\t\t\trotaGr.setValue('active', true);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (rotaGr.update()) {\n\t\t\t\t\t\t\tshift.status = \"successfully_udpated\";\n\t\t\t\t\t\t\tif (shift.state === '' && shift.send_subscriptions)\n\t\t\t\t\t\t\t\tnew OCRotaICalendar().sendCalendarURL(rotaGr);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else\n\t\t\t\t\t\tshift.status = \"security_constraint\";\n\t\t\t\t} else {\n\t\t\t\t\tshift.status = \"invalid_sys_id\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n    return shifts;\n\n})(request, response);","sys_updated_on":"2019-04-18 08:37:04","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1e9257d673232300cbb654eb7df6a7c9","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/creation_wizard/shiftStateUpdate","sys_created_on":"2019-02-13 09:33:41","sys_name":"shiftStateUpdate","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_1e9257d673232300cbb654eb7df6a7c9","consumes_customized":"false","name":"shiftStateUpdate","produces":"application/json,application/xml,text/xml","relative_path":"/creation_wizard/shiftStateUpdate","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    return new SessionService().getSessionInfo(request.body.data);\n})(request, response);","sys_updated_on":"2021-06-08 18:42:41","enforce_acl":"4bbe81b4c703201066492f3bf4c260e6","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1eb4b226c724301066492f3bf4c2605a","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_mab_api/mab_api/getSessionInfo","sys_created_on":"2021-06-08 03:39:12","sys_name":"Get Session Info","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3512bd93c7c12010100f2f3bf4c26049","value":"3512bd93c7c12010100f2f3bf4c26049"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_update_name":"sys_ws_operation_1eb4b226c724301066492f3bf4c2605a","consumes_customized":"false","name":"Get Session Info","produces":"application/json,application/xml,text/xml","relative_path":"/getSessionInfo","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    \n\treturn NLUStudioService.getEntities(request.queryParams.modelId.toString(), request.queryParams.intentId.toString()); \n\t\n})(request, response);","sys_updated_on":"2021-04-20 05:47:29","enforce_acl":"ccd8a1e7772000105d7b3882a910617c","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/e4cda81e7333230021a044764df6a777","value":"e4cda81e7333230021a044764df6a777"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1f0cf4697300330021a044764df6a730","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/nlu/getEntities","sys_created_on":"2019-03-07 11:05:10","sys_name":"getEntities","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/55672c9a7333230021a044764df6a706","value":"55672c9a7333230021a044764df6a706"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"33","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_ws_operation_1f0cf4697300330021a044764df6a730","consumes_customized":"false","name":"getEntities","produces":"application/json,application/xml,text/xml","relative_path":"/getEntities","produces_customized":"false","default_operation_uri":"/api/now/nlu/getEntities","sys_policy":""},{"short_description":"","sys_updated_on":"2023-04-07 16:05:51","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/08a4748a53a02110c271ddeeff7b127b","value":"08a4748a53a02110c271ddeeff7b127b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"{\r\n    \"entity\": \"<some unique value>\",\r\n    \"builder\": \"builder name\",\r\n    \"description\": \"[Optional] : Description\",\r\n    \"timeout\": 240,\r\n    \"executionRequests\": [\r\n        {\r\n            \"payload\": {\r\n                \"attr1\": \"val1\",\r\n                \"attr2\": \"val2\",\r\n            },\r\n            \"capabilityId\": \"<capabilityId>\"\r\n        }\r\n    ]\r\n}","sys_id":"1f2a523553202110c271ddeeff7b125b","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/v1/oneextend/scripted/setup_and_execute","sys_created_on":"2023-01-23 06:38:40","sys_name":"SetupAndExecute","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/adf99ef153202110c271ddeeff7b12ff","value":"adf99ef153202110c271ddeeff7b12ff"},"consumes":"application/json","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"13","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7c84affb04312210559073c06a02f73d","value":"7c84affb04312210559073c06a02f73d"},"sys_update_name":"sys_ws_operation_1f2a523553202110c271ddeeff7b125b","consumes_customized":"true","name":"SetupAndExecute","produces":"application/json","relative_path":"/scripted/setup_and_execute","produces_customized":"true","default_operation_uri":"/api/now/oneextend/scripted/setup_and_execute","sys_policy":"protected"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var requestData = request.body.data;\n    var table = request.pathParams.table;\n    var sysId = request.pathParams.sys_id;\n    var data = requestData.data;\n    if (!table)\n        return new sn_ws_err.BadRequestError(\"Table not provided\");\n    var gr = new GlideRecordSecure(table);\n    if (gr.get(sysId) && gr.canWrite()) {\n        for (var key in data) {\n            if (data.hasOwnProperty(key)) \n                    gr[key] = data[key];\n        }\n        if (gr.update()) {\n            response.setBody({\n                status: 'success'\n            });\n        } else {\n            response.setBody({\n                status: 'error'\n            });\n        }\n    }\n    else\n    \treturn new sn_ws_err.BadRequestError(\"You do not have permissions to modify this record\");\n\n})(request, response);","sys_updated_on":"2024-12-16 03:33:39","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1f4614e4737d301045216238edf6a799","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_sow_itsm_common/sow_record/update/{table}/{sys_id}","sys_created_on":"2021-08-02 14:17:20","sys_name":"save record","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/0eef12637311301045216238edf6a75e","value":"0eef12637311301045216238edf6a75e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7c4614e4737d301045216238edf6a755","value":"7c4614e4737d301045216238edf6a755"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"56","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0eef12637311301045216238edf6a75e","value":"0eef12637311301045216238edf6a75e"},"sys_update_name":"sys_ws_operation_1f4614e4737d301045216238edf6a799","consumes_customized":"false","name":"save record","produces":"application/json,application/xml,text/xml","relative_path":"/update/{table}/{sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    const params = UDCUtil.assign({},\n        request.pathParams,\n        UDCUtil.normalizeQueryParams(request.queryParams)\n    );\n    const tableName = params.tableName;\n    const builderId = params.builderId;\n    const sysId = params.sysId;\n\n    return TaxonomyHelper.getTaxonomyFileDetails(tableName, sysId, builderId);\n\n})(request, response);","sys_updated_on":"2023-12-06 13:55:29","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/90711aa05bdc31109cf872c60a81c7fb","value":"90711aa05bdc31109cf872c60a81c7fb"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1f4d95395b0131109cf872c60a81c701","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_udc/v1/file_taxonomy/taxonomy_file_details","sys_created_on":"2023-09-03 18:37:07","sys_name":"Taxonomy File Details","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ebf096a05bdc31109cf872c60a81c769","value":"ebf096a05bdc31109cf872c60a81c769"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"8","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_update_name":"sys_ws_operation_1f4d95395b0131109cf872c60a81c701","consumes_customized":"false","name":"Taxonomy File Details","produces":"application/json,application/xml,text/xml","relative_path":"/taxonomy_file_details","produces_customized":"false","default_operation_uri":"/api/sn_udc/file_taxonomy/taxonomy_file_details","sys_policy":"read"},{"short_description":"","operation_script":"(function process(request, response) {\n    var appId = request.pathParams.appId;\n\t\n\tvar allowed = VCSAppAccessCheck.verifyWriteAccess(appId) && VCSAppAccessCheck.verifyPublishAccess(appId);\n\n    if (!allowed) \n\t\tVCSAppAccessCheck.throwAccessDenied(appId);\n\n    var version = request.body.data.version,\n        publishToStore = !!request.body.data.publish_to_store,\n        isAppCustomization = !!request.body.data.is_app_customization,\n        versionInfo = {},\n        appRecord,\n        errorMessage,\n        body = {};\n\n    var skipVersionCheck = false;\n    if (isAppCustomization) {\n\t\tvar anchorScopeId = appId;\n\t\tvar scopedPlugin = new GlideRecord('sys_scoped_plugin');\n\t\tif (scopedPlugin.isValid()) {\n\t\t\tscopedPlugin.addQuery('scope', appId);\n\t\t\tscopedPlugin.query();\n\t\t\tif (scopedPlugin.next())\n\t\t\t\tanchorScopeId = scopedPlugin.getValue('parent_scope_id') || appId;\n\t\t}\n\n        appRecord = new GlideRecord('sys_app_customization');\n        appRecord.addQuery('vendor_app', anchorScopeId);\n        appRecord.query();\n        if (appRecord.next())\n            appId = appRecord.getUniqueValue();\n        else\n            skipVersionCheck = true;\n    }\n\n    versionInfo = new sn_appauthor\n        .ScopedAppVendorInfoObtainer()\n        .obtainDisplayVersionFromAppRepo(appId, version, publishToStore);\n\n    // We get null back if we can't talk to the repo. assume the number is OK\n    // so the user can continue other operations like saving to git\n    if (!versionInfo)\n        versionInfo = {\n            allowed: false,\n            errorMessage: gs.getMessage('Unable to validate app version because the app repository is not available.')\n        };\n    else if (skipVersionCheck)\n        versionInfo = {\n            allowed: true\n        };\n\n    body.allowed = !!versionInfo.allowed;\n\n    if (body.allowed) {\n\n        if (isAppCustomization)\n            new sn_appclient.SetAppCustomizationVersion().setVersion(appId, version);\n        else {\n            appRecord = new GlideRecord('sys_app');\n\n            if (appRecord.get(appId)) {\n                appRecord.setValue('version', version);\n                appRecord.update();\n            }\n        }\n    } else {\n        body.errorMessage = versionInfo.errorMessage || gs.getMessage('Invalid version number');\n    }\n\n    response.setBody(body);\n    response.setContentType('application/json');\n    response.setStatus(200);\n\n})(request, response);","sys_updated_on":"2023-09-21 04:34:39","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1f4e062a37001200612747efbe41f184","http_method":"PATCH","sys_updated_by":"maint","operation_uri":"/api/sn_devstudio/v1/vcs/apps/{appId}","sys_created_on":"2015-12-03 19:10:58","sys_name":"Validate App Version ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"55","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_1f4e062a37001200612747efbe41f184","consumes_customized":"false","name":"Validate App Version ","produces":"application/json,application/xml,text/xml","relative_path":"/apps/{appId}","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/apps/{appId}","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var tables_output = [];\n    var rotatedTables = getRotatedTables();\n    var queryParams = request.queryParams;\n\n    if (!queryParams.sysparm_transaction_scope) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(500)\n            .setMessage('sysparm_transaction_scope query parameter is required.');\n    }\n\n    function addAdditionalQueries(gr) {\n        if (queryParams.only_extendable && queryParams.only_extendable[0] === 'true')\n            gr.addQuery('is_extendable', 'true');\n        if (queryParams.only_in_scope && queryParams.only_in_scope[0] === 'true')\n            gr.addQuery('sys_scope', queryParams.sysparm_transaction_scope);\n        if (queryParams.only_out_of_scope && queryParams.only_out_of_scope[0] === 'true')\n            gr.addQuery('sys_scope', '!=', queryParams.sysparm_transaction_scope);\n        if (queryParams.order_by && typeof queryParams.order_by[0] === 'string')\n            gr.orderBy(queryParams.order_by[0]);\n        if (queryParams.limit && typeof queryParams.limit[0] === 'string')\n            gr.setLimit(queryParams.limit[0]);\n        if (queryParams.search_query && typeof queryParams.search_query[0] === 'string') {\n            gr.addEncodedQuery(queryParams.search_query[0]);\n        }\n    }\n\n    function isExcludedRotation(name) {\n        return rotatedTables.indexOf(name) > -1;\n    }\n\n    function getRotatedTables() {\n        var rotatedList = [];\n        var rotations = [];\n        var rotatedTable = new GlideRecord(\"sys_table_rotation\");\n        rotatedTable.query();\n\n        while (rotatedTable.next())\n            rotatedList.push(rotatedTable.getValue(\"name\"));\n\n        var rotatedExtension = new GlideRecord(\"sys_table_rotation_schedule\");\n        rotatedExtension.query();\n\n        while (rotatedExtension.next()) {\n            if (rotatedList.indexOf(rotatedExtension.getValue(\"table_name\")) === -1)\n                rotations.push(rotatedExtension.getValue(\"table_name\"));\n        }\n        return rotations;\n    }\n\n    function startsWith(str, word) {\n        return str.lastIndexOf(word, 0) === 0;\n    }\n\n    function shouldExcludeTable(tableName) {\n        if (isExcludedRotation(tableName))\n            return true;\n\n        if (\n            startsWith(tableName, 'v_') ||\n            startsWith(tableName, 'sysx_') ||\n            startsWith(tableName, 'var__') ||\n            startsWith(tableName, 'ts_')\n\n        )\n            return true;\n\n        return false;\n    }\n\n    var tablesGR = new GlideRecord('sys_db_object');\n    addAdditionalQueries(tablesGR);\n    tablesGR.query();\n\n    while (tablesGR.next()) {\n        var tableName = tablesGR.getValue('name');\n\n        if (shouldExcludeTable(tableName))\n            continue;\n\n        var table = {\n            name: tablesGR.getValue('name'),\n            sys_id: tablesGR.getUniqueValue(),\n            label: tablesGR.getDisplayValue('label'),\n            is_extendable: tablesGR.getValue('is_extendable')\n        };\n        tables_output.push(table);\n    }\n\n    response.setBody(tables_output);\n    response.setStatus(200);\n\n})(request, response);","sys_updated_on":"2021-02-09 16:45:17","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/f7ec1279c3202010a9f5e548fa40dd4d","value":"f7ec1279c3202010a9f5e548fa40dd4d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1f581696773820106c947206d8106188","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_app_eng_studio/v1/generic/template-tables","sys_created_on":"2020-12-02 21:00:37","sys_name":"GET Template Table Names","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/37cc9e39c3202010a9f5e548fa40ddef","value":"37cc9e39c3202010a9f5e548fa40ddef"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"106","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_ws_operation_1f581696773820106c947206d8106188","consumes_customized":"false","name":"GET Template Table Names","produces":"application/json,application/xml,text/xml","relative_path":"/template-tables","produces_customized":"false","default_operation_uri":"/api/sn_app_eng_studio/generic/template-tables","sys_policy":"read"},{"short_description":"","operation_script":"(function process(request, response) {\n    var appId = request.pathParams.appId;\n\n    ScopeCheck.verifyNotGlobal(appId);\n\n    var allowed = VCSAppAccessCheck.verifyReadAccess(appId) && (VCSAppAccessCheck.verifyPublishAccess(appId) || VCSAppAccessCheck.isGACOrSourceControlUser() || VCSAppAccessCheck.verifyVersionControlAccess(appId));\n\n    if (!allowed) \n\t\tVCSAppAccessCheck.throwAccessDenied(appId);\n\n    response.setStatus(200);\n    response.setContentType('application/json');\n    response.setBody({\n        dirty: sn_vcs.AppSourceControl.hasOutgoingChanges(appId)\n    });\n\n})(request, response);","sys_updated_on":"2022-05-13 14:44:25","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1f7e882337230200612747efbe41f158","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/apps/{appId}/changes/status","sys_created_on":"2015-11-11 15:12:07","sys_name":"Has Local Changes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"22","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_1f7e882337230200612747efbe41f158","consumes_customized":"false","name":"Has Local Changes","produces":"application/json,application/xml,text/xml","relative_path":"/apps/{appId}/changes/status","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/apps/{appId}/changes/status","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var restHandler, result;\n\ttry {\n\t\trestHandler = new sn_ads_setup.SNHelpSetupRestHandler();\n\t\tresult = restHandler.getSetup(request.pathParams.sys_id);\n\t\tresponse.setStatus(result.status);\n\n\t\tif (result.error) {\n\t\t\tresponse.setBody({error: result.error});\n\t\t} else {\n\t\t\tresponse.setBody(result.data);\n\t\t}\n\n\t} catch (e) {\n\t\tresponse.setStatus(500);\n\t\tgs.error(\"SNHelpSetupRestHandler: \" + e.message);\n\t\tresponse.setBody({error: \"Internal server error\"});\n\t}\n\n})(request, response);","sys_updated_on":"2022-09-21 07:30:08","enforce_acl":"d684e2aa530e0110f54fddeeff7b1237","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1fe40464773230106ee492b01e5a99c9","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_ads_setup/play/setup/{sys_id}","sys_created_on":"2021-09-21 06:03:34","sys_name":"Get Setup ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/9fb44064773230106ee492b01e5a9991","value":"9fb44064773230106ee492b01e5a9991"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_update_name":"sys_ws_operation_1fe40464773230106ee492b01e5a99c9","consumes_customized":"false","name":"Get Setup ","produces":"application/json,application/xml,text/xml","relative_path":"/setup/{sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar restHandler, result, stepId, setupId, data;\n\t\n\ttry {\n\t\tsetupId = request.pathParams.setup_id;\n\t\tstepId = request.pathParams.step_id;\n\t\trestHandler = new SNHelpSetupRestHandler();\n\t\tresult = restHandler.getSetupStep(setupId, stepId);\n\t\t\n\t\tresponse.setStatus(result.status);\n\t\t\n\t\tif(result.data)\n\t\t\tresponse.setBody(result.data);\n\t\telse\n\t\t\tresponse.setBody({error: result.message});\n\t} catch (ex) {\n\t\tresponse.setStatus(500);\n\t\tresponse.setBody({error: \"Internal Server Error \"});\n\t}\n\t\n})(request, response);","sys_updated_on":"2022-09-21 07:32:49","enforce_acl":"d0fc8522534a0110f54fddeeff7b123d","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"1ff676ab53444110f54fddeeff7b12db","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_ads_setup/build/setup/{setup_id}/step/{step_id}","sys_created_on":"2021-12-02 06:03:54","sys_name":"Get Setup Step","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/6db6b2ab53444110f54fddeeff7b1232","value":"6db6b2ab53444110f54fddeeff7b1232"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"9","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_update_name":"sys_ws_operation_1ff676ab53444110f54fddeeff7b12db","consumes_customized":"false","name":"Get Setup Step","produces":"application/json,application/xml,text/xml","relative_path":"/setup/{setup_id}/step/{step_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    const uxaPageFilterProcessor = new sn_uxa_commons.UXAPageFilterProcessor();\n    try {\n        const {\n            appSysId,\n            selectedItems,\n            componentId\n        } = request.body.data;\n        const updatedStatus = uxaPageFilterProcessor.updateUserFilterPreferences({\n            appSysId,\n            selectedItems,\n            componentId\n        });\n        response.setStatus(200);\n        response.setBody(updatedStatus);\n    } catch (ex) {\n        gs.error('Error' + ex.message);\n        response.setStatus(500);\n        response.setBody({\n            'error': 'Error updating the user selected filters',\n        });\n    }\n\n})(request, response);","sys_updated_on":"2024-09-25 18:50:05","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/2eec4a44ffe7c21024f4ffffffffff03","value":"2eec4a44ffe7c21024f4ffffffffff03"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2005425cff66021024f4c2da03cb1455","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_uxa_commons/v1/uxa_filters/update_user_preferences","sys_created_on":"2024-05-29 15:31:19","sys_name":"update_user_preferences","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e4e0ec1f30eed2c36cf86e04ac482a9a","value":"e4e0ec1f30eed2c36cf86e04ac482a9a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/2f79bc10ff62021024f4c2da03cb1404","value":"2f79bc10ff62021024f4c2da03cb1404"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"18","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e4e0ec1f30eed2c36cf86e04ac482a9a","value":"e4e0ec1f30eed2c36cf86e04ac482a9a"},"sys_update_name":"sys_ws_operation_2005425cff66021024f4c2da03cb1455","consumes_customized":"false","name":"update_user_preferences","produces":"application/json,application/xml,text/xml","relative_path":"/update_user_preferences","produces_customized":"false","default_operation_uri":"/api/sn_uxa_commons/uxa_filters/update_user_preferences","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n\tvar meetingId = request.pathParams.meetingId;\n\tif (!meetingId) \n\t\treturn new sn_ws_err.BadRequestError(\"CAB Meeting id not provided\");\n\t\n\tvar runtimeState = CABRuntimeState.get(meetingId);\n\truntimeState.pauseCurrentAgendaItem();\n\tresponse.setBody(runtimeState.toJS());\n})(request, response);","sys_updated_on":"2017-01-26 12:56:52","enforce_acl":"cbe72f65c32032001488b731c1d3ae92","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2026e4f4eb20220034d1eeea1206fe03","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_change_cab/cab/runtime_state/pause_current_item/{meetingId}","sys_created_on":"2016-07-08 17:04:59","sys_name":"Pause Current Agenda Item","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/cf65d305eb10220034d1eeea1206fe55","value":"cf65d305eb10220034d1eeea1206fe55"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_update_name":"sys_ws_operation_2026e4f4eb20220034d1eeea1206fe03","consumes_customized":"false","name":"Pause Current Agenda Item","produces":"application/json,application/xml,text/xml","relative_path":"/runtime_state/pause_current_item/{meetingId}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\nvar dashboardUtils = new NotificationDashboardUtils();\nvar result = dashboardUtils.fetchNotificationsInfo(request.body.data);\nresponse.setBody(result);\n\n})(request, response);","sys_updated_on":"2024-09-24 11:21:53","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"204830d2ff3c9250ac42fbd38c4fd9dc","http_method":"POST","sys_updated_by":"rishika.karri@snc","operation_uri":"/api/snc/notification_dashboard/notifications/email/activenotifications","sys_created_on":"2024-09-24 11:21:30","sys_name":"Get Active Notifications Info","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"rishika.karri@snc","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/a5ea2ec8ffec5a10ac42fbd38c4fd9fb","value":"a5ea2ec8ffec5a10ac42fbd38c4fd9fb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fa85f980ff6c5a10ac42fbd38c4fd9bd","value":"fa85f980ff6c5a10ac42fbd38c4fd9bd"},"sys_update_name":"sys_ws_operation_204830d2ff3c9250ac42fbd38c4fd9dc","consumes_customized":"false","name":"Get Active Notifications Info","produces":"application/json,application/xml,text/xml","relative_path":"/notifications/email/activenotifications","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n\tvar meetingId = request.pathParams.meetingId;\n\tif (!meetingId) \n\t\treturn new sn_ws_err.BadRequestError(\"CAB Meeting id not provided\");\n\t\n\tvar runtimeState = CABRuntimeState.get(meetingId);\n\truntimeState.startMeeting();\n\tresponse.setBody(runtimeState.toJS());\t\n})(request, response);","sys_updated_on":"2017-01-26 11:21:56","enforce_acl":"cbe72f65c32032001488b731c1d3ae92","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"204c08c3eb20220034d1eeea1206fecc","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_change_cab/cab/runtime_state/start/{meetingId}","sys_created_on":"2016-07-15 14:59:27","sys_name":"Start Meeting","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/cf65d305eb10220034d1eeea1206fe55","value":"cf65d305eb10220034d1eeea1206fe55"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_update_name":"sys_ws_operation_204c08c3eb20220034d1eeea1206fecc","consumes_customized":"false","name":"Start Meeting","produces":"application/json,application/xml,text/xml","relative_path":"/runtime_state/start/{meetingId}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var attachmentSysID = String(request.queryParams.sys_id);\n    var tableSysIDs = String(request.queryParams.table_sys_ids);\n    var isRetry = String(request.queryParams.is_retry) == 'true';\n    var list = tableSysIDs.split(\",\");\n    var return_obj = {};\n\n    var pdfHelper = new PDFtoTableHelper();\n    return_obj = pdfHelper.addTablesToList(attachmentSysID, list);\n\n    if (return_obj && return_obj.status === \"success\") {\n        response.setStatus(200);\n    } else {\n    \tif(isRetry){\n\tpdfHelper.deletePDFDetails(attachmentSysID);\n\t}\n        return_obj.queryParams = {sys_id: attachmentSysID, table_sys_ids: tableSysIDs, is_retry: isRetry};\n        response.setStatus(500);\n    }\n    response.setBody(return_obj);\n})(request, response);","sys_updated_on":"2022-07-19 07:50:45","enforce_acl":"f7e62b5f97e415108843f73ef053af30","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2064468997b09910daa03df6f053afe6","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_pdf_table_bldr/app/add_tables_to_list","sys_created_on":"2022-07-18 11:06:48","sys_name":"Add Tables to List","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/8e417ee064982b70a7bd187e6edb95f1","value":"8e417ee064982b70a7bd187e6edb95f1"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/16652f5b97e415108843f73ef053af22","value":"16652f5b97e415108843f73ef053af22"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"16","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8e417ee064982b70a7bd187e6edb95f1","value":"8e417ee064982b70a7bd187e6edb95f1"},"sys_update_name":"sys_ws_operation_2064468997b09910daa03df6f053afe6","consumes_customized":"false","name":"Add Tables to List","produces":"application/json,application/xml,text/xml","relative_path":"/add_tables_to_list","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar recordProducerId = request.pathParams.sys_id;\n\tvar request_body = request.body.nextEntry();\n\n\tvar catalogUtil = new RestCatalogUtil();\n\n\tif(!catalogUtil.isValidItem(recordProducerId, 'sc_cat_item_producer'))\n\t\tthrow new sn_ws_err.NotFoundError('Record Producer does not exist');\n\n\tvar catalogItem = new sn_sc.CatItem(recordProducerId);\n\n\tif(!catalogItem.canView())\n\t\tthrow new sn_ws_err.BadRequestError(\"Security Constraints prevent access to the Item\");\n\n\tfor (var key in request_body.variables)\n\t\tif (request_body.variables.hasOwnProperty(key) && request_body.variables[key] != null && typeof(request_body.variables[key]) !== 'string')\n\t\t\trequest_body.variables[key] = request_body.variables[key].toString();\n\n\tvar variables = request_body.variables || {};\n\n\tvar mrvsErrorMessages = catalogUtil.validateMaxRowCountMultiRowVS('sc_cat_item', recordProducerId , recordProducerId, request_body.variables);\n\tif (mrvsErrorMessages && mrvsErrorMessages.length > 0) {\n\t\tvar errors = mrvsErrorMessages.join();\n\t\tthrow new sn_ws_err.BadRequestError(errors);\n\t}\n\n\trequest_body.sysparm_id = recordProducerId;\n\trequest_body.sysparm_action = 'save_producer';\n\n\tvar response_body = {};\n\ttry {\n\t\tresponse_body = catalogItem.submitProducer(request_body);\n\t} catch(e) {\n\t\tgs.debug(e);\n\t\tvar catalogExceptionUtils = new global.CatalogExceptionUtils();\n\t\tif (catalogExceptionUtils.isValveException(e))\n\t\t\tresponse_body = catalogExceptionUtils.handleValveExceptionInPortal(e);\n\t\telse\n\t\t\tthrow sn_ws_err.ServiceError(\"Invalid Request\");\n\t}\n\tif (response_body.errMsg)\n\t\tresponse.setStatus(400);\n\n\treturn response_body;\n\t\t\n})(request, response);","sys_updated_on":"2024-06-17 12:11:04","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"20c04525536210101553ddeeff7b12df","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/items/{sys_id}/save_producer","sys_created_on":"2020-08-10 10:27:42","sys_name":"Save a Record Producer","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_20c04525536210101553ddeeff7b12df","consumes_customized":"false","name":"Save a Record Producer","produces":"application/json,application/xml,text/xml","relative_path":"/items/{sys_id}/save_producer","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/items/{sys_id}/save_producer","sys_policy":"read"},{"short_description":"","operation_script":"\n(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar sysId = \"\";\n\tif (request.body.hasNext())\n\t\tsysId = request.body.nextEntry().sys_id + \"\";\n\tvar gr = new GlideRecordSecure(\"chg_soc_definition\");\n\tif (!sysId || !gr.get(sysId))\n\t\treturn new sn_ws_err.BadRequestError(\"chg_soc_definition: \" + sysId + \" record not found\");\n\treturn new SoCDefinition(gr).getPermissions();\n})(request, response);\n","sys_updated_on":"2018-02-12 09:53:54","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"20c3a22457101300532c3da73d94f95d","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_chg_soc/soc/getPermissions","sys_created_on":"2018-02-12 09:53:54","sys_name":"getPermissions","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3115d45f67020300b410afa00585ef87","value":"3115d45f67020300b410afa00585ef87"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_update_name":"sys_ws_operation_20c3a22457101300532c3da73d94f95d","consumes_customized":"false","name":"getPermissions","produces":"application/json,application/xml,text/xml","relative_path":"/getPermissions","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var escalationSetSysId = request.pathParams.escalation_set_sys_id;\n\tvar rotaId = request.queryParams.rota_sys_id + '';\n\ttry {\n\t\treturn new OCEscalationDesigner().getEscalationSet(escalationSetSysId, rotaId);\n\t} catch (e) {\n\t\tif (e.securityError) {\n\t\t\tvar body = {\n\t\t\t\terror: {\n\t\t\t\t\tmessage: e.message\n\t\t\t\t}\n\t\t\t};\n\t\t\tresponse.setBody(body);\n\t\t\tresponse.setStatus(403);\n\t\t}\n\t\telse {\n\t\t\treturn new sn_ws_err.BadRequestError(e.message);\n\t\t}\n\t}\n})(request, response);","sys_updated_on":"2021-03-17 08:56:32","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2108e1915f24230084a5a184ff466611","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/escalations/{escalation_set_sys_id}","sys_created_on":"2018-09-13 19:55:19","sys_name":"getEscalation","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"9","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_2108e1915f24230084a5a184ff466611","consumes_customized":"false","name":"getEscalation","produces":"application/json,application/xml,text/xml","relative_path":"/escalations/{escalation_set_sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar escalationSetSysId = request.pathParams.escalation_set_sys_id;\n\ttry {\n\t\treturn new OCEscalationDesigner().deleteEscalationSet(escalationSetSysId);\n\t} catch (e) {\n\t\tif (e.securityError) {\n\t\t\tvar body = {\n\t\t\t\terror: {\n\t\t\t\t\tmessage: e.message\n\t\t\t\t}\n\t\t\t};\n\t\t\tresponse.setBody(body);\n\t\t\tresponse.setStatus(403);\n\t\t}\n\t\telse {\n\t\t\treturn new sn_ws_err.BadRequestError(e.message);\n\t\t}\n\t}\n})(request, response);","sys_updated_on":"2019-03-20 08:30:26","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"212b6822b71f2300cfb8c556ee11a9a7","http_method":"DELETE","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/escalations/sets/{escalation_set_sys_id}","sys_created_on":"2019-02-01 05:34:48","sys_name":"deleteEscalationSet","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_212b6822b71f2300cfb8c556ee11a9a7","consumes_customized":"false","name":"deleteEscalationSet","produces":"application/json,application/xml,text/xml","relative_path":"/escalations/sets/{escalation_set_sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    response.setContentType('application/json');\n    try {\n\n        var result = [];\n        \n        var isGenAiActive = new GlidePluginManager().isActive('com.glide.cs.genai');\n        var isNowAssistEnabled = false;\n        if (isGenAiActive) {\n            try {\n                isNowAssistEnabled = new sn_nowassist_admin.NowAssistConfig().isNowAssistEnabled();\n            } catch (e) {\n                isNowAssistEnabled = false;\n            }\n        }\n\n        if (isNowAssistEnabled) {\n            var allSkills = JSON.parse(sn_one_extend.OneExtendUtil.getSkills());\n            if (allSkills) {\n                for (var i = 0; i < allSkills.length; ++i) {\n                    var skillDefinition = {};\n                    var skill = allSkills[i];\n                    skillDefinition['id'] = skill.id;\n                    skillDefinition['table'] = skill.skillTable;\n                    skillDefinition['documentId'] = skill.skillDocumentId;\n                    skillDefinition['title'] = skill.title;\n                    skillDefinition['description'] = skill.metaData.description;\n                    var skillAttributes = skill.metaData.attributes;\n                    var outputs = [];\n                    var inputs = [];\n                    for (var s = 0; s < skillAttributes.length; ++s) {\n                        var skillAttribute = skillAttributes[s];\n                        var attribute = {\n                            name: skillAttribute.name,\n                            description: skillAttribute.description,\n                            mandatory: skillAttribute.mandatory\n                        };\n                        if (skillAttribute.type == 'OUTPUT') {\n                            outputs.push(attribute);\n                        } else {\n                            inputs.push(attribute);\n                        }\n                    }\n                    skillDefinition['inputs'] = inputs;\n                    skillDefinition['outputs'] = outputs;\n                    result.push(skillDefinition);\n                }\n            }\n        }\n\n        response.setStatus(200);\n        response.setBody({\n            skills: result\n        });\n\n    } catch (e) {\n        response.setStatus(500);\n        response.setBody({\n            errorMessage: e.message\n        });\n    }\n\n})(request, response);","sys_updated_on":"2023-11-07 19:20:08","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"21d45e85375231101487903174924b36","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/virtual_agent_design/skills","sys_created_on":"2023-11-02 18:04:05","sys_name":"Get Skills","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/86719a5dc7e220105a06145bf4c26006","value":"86719a5dc7e220105a06145bf4c26006"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_ws_operation_21d45e85375231101487903174924b36","consumes_customized":"false","name":"Get Skills","produces":"application/json,application/xml,text/xml","relative_path":"/skills","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Retrive list of categories","sys_updated_on":"2015-12-11 06:03:35","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"21e255ccc33302006f333b0ac3d3ae91","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/categories","sys_created_on":"2015-11-13 10:33:10","sys_name":"List of Categories","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"18","active":"false","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_21e255ccc33302006f333b0ac3d3ae91","consumes_customized":"false","name":"List of Categories","produces":"application/json,application/xml,text/xml","relative_path":"/categories","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/categories","sys_policy":"protected"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var  clusterId = request.pathParams.cluster_id;\n\n    try {\n        if (clusterId) {\n\n            var result = new sn_nlu_workbench.NLUImprovementAnalaysisReport().unIgnoreCluster(clusterId);\n\n            if (result.status === 'success') {\n                response.setStatus(200);\n            } else {\n                response.setStatus(400);\n            }\n\n            response.setContentType('application/json');\n            return result;\n        } else {\n            return new sn_ws_err.BadRequestError(\"No input data provided\");\n        }\n\n    } catch (e) {\n        return new sn_ws_err.BadRequestError(e.message);\n    }\n\n\n})(request, response);","sys_updated_on":"2021-02-05 10:18:25","enforce_acl":"0f43facbeb8220105de665fcc8522895","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b51a6d700710201028ef0a701ad300ab","value":"b51a6d700710201028ef0a701ad300ab"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"21ff4ba9eb1120105de665fcc85228b1","http_method":"DELETE","sys_updated_by":"admin","operation_uri":"/api/sn_nlu_workbench/v1/nlu_advanced/unIgnoreCluster/{cluster_id}","sys_created_on":"2020-12-25 14:09:36","sys_name":"unIgnoreCluster","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea82488673402010e6b632e954f6a7ca","value":"ea82488673402010e6b632e954f6a7ca"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_update_name":"sys_ws_operation_21ff4ba9eb1120105de665fcc85228b1","consumes_customized":"false","name":"unIgnoreCluster","produces":"application/json,application/xml,text/xml","relative_path":"/unIgnoreCluster/{cluster_id}","produces_customized":"false","default_operation_uri":"/api/sn_nlu_workbench/nlu_advanced/unIgnoreCluster/{cluster_id}","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n   function insertOrUpdateUIParameter(data) {\n\t\tvar gr = new GlideRecord('sys_sg_ui_parameter');\n\n\t\tif (data.sys_id !== '-1') {\n\t\t\tgr.get(data.sys_id);\n\n\t\t\tif (!gr.isValidRecord()) {\n\t\t\t\tthrow new Error('Invalid GlideRecord');\n\t\t\t}\n\n\t\t} else {\n\t\t\tgr.newRecord();\n\t\t}\n\n\t\tgr.setValue('sys_scope', data.scope);\n\t\tgr.setValue('input_source', getValueFromRequest('input_source'));\n\t\tgr.setValue('name', getValueFromRequest('name'));\n\t\tgr.setValue('input_type', getValueFromRequest('input_type'));\n\t    gr.setValue('screen', getValueFromRequest('screen'));\n\t    gr.setValue('parameter_type', 'screen');\n\t   \n\t   if (getValueFromRequest('input_source') === 'user') {\n\t\t    gr.setValue('order', getValueFromRequest('order'));\n\t\t\tgr.setValue('table_name', getValueFromRequest('table_name'));\n\t\t\tgr.setValue('field_name', getValueFromRequest('field_name'));\n\t\t\tgr.setValue('default_value', getValueFromRequest('default_value'));\n\t\t\tgr.setValue('default_value_type', getValueFromRequest('default_value_type'));\n\t\t\tgr.setValue('input_style', getValueFromRequest('input_style'));\n\t\t\tgr.setValue('placeholder', getValueFromRequest('placeholder'));\n\t\t\tgr.setValue('mandatory', getValueFromRequest('mandatory'));\n\t\t   \n\t\t   if (getValueFromRequest('input_type') === 'list') {\n\t\t\t   gr.setValue('multi_select', getValueFromRequest('multi_select'));\n\t\t   }\n\t   }\n\n\t\tif (gr.isNewRecord()) {\n\t\t\tgr.insert();\n\t\t} else {\n\t\t\tgr.update();\n\t\t}\n\n\t\treturn {\n\t\t\tinput_source: gr.getValue('input_source'),\n\t\t\tname: gr.getValue('name'),\n\t\t\tinput_type: gr.getValue('input_type'),\n\t\t\tsys_id: gr.getUniqueValue()\n\t\t}\n\n\t\tfunction getValueFromRequest(field) {\n\t\t\tvar fieldObject = data[field];\n\t\t\tif (fieldObject && fieldObject.value) {\n\t\t\t\treturn fieldObject.value;\n\t\t\t}\n\n\t\t\treturn null;\n\t\t}\n\t}\n\n\treturn insertOrUpdateUIParameter(request.body.data);\n})(request, response);","sys_updated_on":"2024-01-16 20:57:41","enforce_acl":"3d3fbc35532033004205ddeeff7b129f","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2218b6f373022300d396c8168bf6a70c","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/mobile_studio/upsert_ui_param","sys_created_on":"2018-12-05 09:46:49","sys_name":"Upsert UI Parameter","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/e36b1b75538223004205ddeeff7b123c","value":"e36b1b75538223004205ddeeff7b123c"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"false","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/75d42bbf04312210559073c06a02f78d","value":"75d42bbf04312210559073c06a02f78d"},"sys_update_name":"sys_ws_operation_2218b6f373022300d396c8168bf6a70c","consumes_customized":"false","name":"Upsert UI Parameter","produces":"application/json,application/xml,text/xml","relative_path":"/upsert_ui_param","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n/**\nParams:\n\tbsId (sys_id)\n\tprefName\n*/\n    var saOpsWrapper = new SaOperationsWrapper(SNC.SaActionsHandler);\n\tsaOpsWrapper.process(request,response, \"getBSPreference\");\n\n})(request, response);","sys_updated_on":"2018-03-11 12:46:05","enforce_acl":"ea4f3ae287132200b5bea18dd0e3eceb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"223f2e537f520300995cbaf8befa9186","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/it_service/getBSPreference","sys_created_on":"2017-11-13 13:41:55","sys_name":"GetBSPreference - Internal API","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3418e25f7f120300995cbaf8befa912e","value":"3418e25f7f120300995cbaf8befa912e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_223f2e537f520300995cbaf8befa9186","consumes_customized":"false","name":"GetBSPreference - Internal API","produces":"application/json,application/xml,text/xml","relative_path":"/getBSPreference","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n  var template = request.body.data.template;\n  var scope = request.body.data.scope;\n\n  var templateRepo = new sn_mobile_card_bui.ViewTemplateRepository();\n  var newTemplate = templateRepo.save(template, scope);\n  var newTemplateSysId = newTemplate.getUniqueValue();\n\n  var formatName = \"viewTemplateFormat\";\n  var formatList = new sn_mobile_card_bui.McbResultFormats();\n  var format = formatList.getFormat(formatName);\n\n  var util = new sn_mobile_card_bui.McbGlideRecordUtil(format);\n  var includeViewConfigs = false;\n  var viewTemplateHM = util.getTemplate(newTemplateSysId, includeViewConfigs);\n\n  return viewTemplateHM;\n})(request, response);\n","sys_updated_on":"2023-03-07 17:11:25","enforce_acl":"cf9d01d3e73003009d6247e603f6a990,d7088c08b751211095411226de11a9e9","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"224b76417705211095417f7c8c5a993f","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/mcb/view_template","sys_created_on":"2023-02-14 21:21:20","sys_name":"View Template - Post","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/63d8b7c573c51010a59b4c5353f6a737","value":"63d8b7c573c51010a59b4c5353f6a737"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"22","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_update_name":"sys_ws_operation_224b76417705211095417f7c8c5a993f","consumes_customized":"false","name":"View Template - Post","produces":"application/json,application/xml,text/xml","relative_path":"/view_template","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar isActive = GlidePluginManager.isActive('com.glide.sg.offline');\n\tresponse.setBody({ active: isActive });\n\tresponse.setStatus(200);\n\n})(request, response);","sys_updated_on":"2021-02-05 20:46:23","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/d3940d53c302201085c091294440dd1a","value":"d3940d53c302201085c091294440dd1a"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"227859260f7f1010f23ff722ff767e17","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_app_eng_studio/v1/plugin_activations/mobile_offline_active","sys_created_on":"2020-10-14 17:59:32","sys_name":"Mobile Offline Plugin Activation Check","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/f9f715260f7f1010f23ff722ff767e29","value":"f9f715260f7f1010f23ff722ff767e29"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_ws_operation_227859260f7f1010f23ff722ff767e17","consumes_customized":"false","name":"Mobile Offline Plugin Activation Check","produces":"application/json,application/xml,text/xml","relative_path":"/mobile_offline_active","produces_customized":"false","default_operation_uri":"/api/sn_app_eng_studio/plugin_activations/mobile_offline_active","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    if(request.pathParams.flag == \"enable\") {\n        GlideSessionDebug.enable(\"cs_debug\");\n        GlideSessionDebug.enable(\"log\");\n    }\n    else if(request.pathParams.flag == \"disable\") {\n        GlideSessionDebug.disable(\"cs_debug\");\n        GlideSessionDebug.disable(\"log\");\n    }\n    else {\n        response.setStatus(400);\n    }\n\n})(request, response);","sys_updated_on":"2022-02-17 22:16:52","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/eeebe20967300300a0228c7942415afb","value":"eeebe20967300300a0228c7942415afb"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2281b64967300300a0228c7942415ad8","http_method":"PUT","sys_updated_by":"admin","operation_uri":"/api/now/v1/cs_preview/logging/{flag}","sys_created_on":"2017-08-24 00:30:32","sys_name":"Logging","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/0456ae8567300300a0228c7942415a7c","value":"0456ae8567300300a0228c7942415a7c"},"consumes":"application/json","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_ws_operation_2281b64967300300a0228c7942415ad8","consumes_customized":"false","name":"Logging","produces":"application/json","relative_path":"/logging/{flag}","produces_customized":"false","default_operation_uri":"/api/now/cs_preview/logging/{flag}","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n\tvar meetingId = request.pathParams.meetingId;\n\tif (!meetingId) \n\t\treturn new sn_ws_err.BadRequestError(\"CAB Meeting id not provided\");\n\t\n\tvar runtimeState = CABRuntimeState.get(request.pathParams.meetingId);\n\tif (!runtimeState)\n\t\treturn new sn_ws_err.NotFoundError(\"Requested CAB Meeting not found\");\n\t\n\tvar cabMeetingGr = runtimeState.getGlideRecord().cab_meeting.getRefRecord();\n\tvar cabMeeting = new CABMeeting(cabMeetingGr);\n\t\n\tvar rs = runtimeState.toJS();\n\trs.cab_meeting.record = cabMeeting.toJS();\n\t\n\t// Add request time for time adjustment\n\trs.request_time_ms = (new GlideDateTime()).getNumericValue();\n\t\n\tresponse.setBody(rs);\n})(request, response);","sys_updated_on":"2018-01-11 15:40:43","enforce_acl":"ee9fb61a232303001488dc1756bf658b","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"22dee865eb10220034d1eeea1206feb8","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_change_cab/cab/runtime_state/{meetingId}","sys_created_on":"2016-06-28 15:30:36","sys_name":"GET Runtime State","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/cf65d305eb10220034d1eeea1206fe55","value":"cf65d305eb10220034d1eeea1206fe55"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"15","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_update_name":"sys_ws_operation_22dee865eb10220034d1eeea1206feb8","consumes_customized":"false","name":"GET Runtime State","produces":"application/json,application/xml,text/xml","relative_path":"/runtime_state/{meetingId}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var appId = request.pathParams[\"app_id\"];\n\n    var pipelineConfigChecks = new sn_pipeline.PipelineConfigChecks();\n    var deploymentRequestUtils = new DeploymentRequestUtils();\n\n    var currentInstanceInfo = pipelineConfigChecks.getCurrentInstanceInfo();\n\n    if (!currentInstanceInfo.isController) {\n        if (!currentInstanceInfo.hasValidControllerRecord) {\n            throw new sn_ws_err.ServiceError()\n                .setStatus(404)\n                .setMessage(gs.getMessageLang(\"Controller environment not found\", \"en\"))\n                .setDetail(gs.getMessage(\"Controller environment configured is not valid\"));\n        }\n\n        var controllerEnv = pipelineConfigChecks.getControllerRecord();\n\t\t\n\t\ttry {\n\t\t\tvar actionOutputs = deploymentRequestUtils.getOpenDeploymentRequestPresentForAppFromEnv(appId, controllerEnv);\n\t\t\tvar status = actionOutputs[\"status_code\"];\n            var responseFromController = actionOutputs.response_body ? JSON.parse(actionOutputs.response_body) : {};\n        } catch (e) {\n            gs.debug(\"Fetching open deployment request from controller failed with error: \" + JSON.stringify(e));\n            throw new sn_ws_err.ServiceError()\n                .setStatus(500)\n                .setMessage(gs.getMessageLang(\"Error fetching deployment information\", \"en\"))\n                .setDetail(gs.getMessage(\"Error fetching deployment information from controller instance: \", JSON.stringify(e)));\n        }\n\n        if (status === 200) {\n            var parsedResult = responseFromController.result || {};\n            response.setStatus(200);\n\t\t\tresponse.setBody(parsedResult);\n\t\t\treturn;\n        } else {\n            var parsedError = responseFromController.error || {};\n            throw new sn_ws_err.ServiceError()\n                .setStatus(status)\n                .setMessage(parsedError.message)\n                .setDetail(gs.getMessage(\"Redirected response from controller instance: {0}\", parsedError.detail));\n        }\n    } else {\n\t\tvar openDeploymentRequestRecord = deploymentRequestUtils.getOpenDeploymentRequestRecordForApp(appId);\n\t\tvar openDeploymentRequest = deploymentRequestUtils.getDeploymentRequestObject(openDeploymentRequestRecord);\n\t\t\n        response.setBody(openDeploymentRequest);\n        response.setStatus(200);\n    }\n\n})(request, response);","sys_updated_on":"2021-12-15 18:44:05","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/44112378533a3010b846ddeeff7b1228","value":"44112378533a3010b846ddeeff7b1228"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"22f16646c7c73010408bc8d6f2c2601d","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_deploy_pipeline/v1/deployment_pipeline_api/{app_id}/deployment_request/open","sys_created_on":"2021-10-08 20:02:29","sys_name":"Open App Deployment Request","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bb67ed7253e83010b846ddeeff7b1204","value":"bb67ed7253e83010b846ddeeff7b1204"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/9d52207653223010b846ddeeff7b12f3","value":"9d52207653223010b846ddeeff7b12f3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"13","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bb67ed7253e83010b846ddeeff7b1204","value":"bb67ed7253e83010b846ddeeff7b1204"},"sys_update_name":"sys_ws_operation_22f16646c7c73010408bc8d6f2c2601d","consumes_customized":"false","name":"Open App Deployment Request","produces":"application/json,application/xml,text/xml","relative_path":"/{app_id}/deployment_request/open","produces_customized":"false","default_operation_uri":"/api/sn_deploy_pipeline/deployment_pipeline_api/{app_id}/deployment_request/open","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tfunction isValidRequest(data) {\n\t\tif (!data.modelId) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\t\n\tvar data = request.body.data;\n\t\n\tif (!isValidRequest(data)) {\n\t\tresponse.setStatus(400);\n\t\tresponse.setBody({ errorMessage: \"Invalid request, missing required fields or services.\" });\n\t\treturn;\n\t}\n\n\tvar result;\n\ttry {\n\t\tresult = NLUStudioService.publishModels([data.modelId]);\n\t} catch (e) {\n\t\tresponse.setStatus(500);\n\t\tresponse.setBody({ errorMessage: e.message });\n\t\treturn;\n\t}\n\t\n\tresponse.setStatus(200);\n\tresponse.setBody(result);\n\n})(request, response);","sys_updated_on":"2022-06-01 18:14:37","enforce_acl":"95736dc3c7e220105a06145bf4c26096","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"234eafb5b7eec110c232a4f4ae11a909","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/virtual_agent_design/model","sys_created_on":"2022-03-31 06:16:48","sys_name":"Publish Model","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/86719a5dc7e220105a06145bf4c26006","value":"86719a5dc7e220105a06145bf4c26006"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_ws_operation_234eafb5b7eec110c232a4f4ae11a909","consumes_customized":"false","name":"Publish Model","produces":"application/json,application/xml,text/xml","relative_path":"/model","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        const params = request.queryParams;\n        const uxaHandler = new UXAHandler();\n        const result = uxaHandler.handleFunnelRequest(params, true);\n        response.setBody(result);\n        response.setContentType('application/json');\n        response.setStatus(200);\n        return response;\n\n    } catch (error) {\n        response.setStatus(500);\n        response.setError(UXAError.getGenericError(error));\n        return response;\n    }\n})(request, response);","sys_updated_on":"2024-09-17 16:37:14","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/d93d4288ffe7c21024f4ffffffffff52","value":"d93d4288ffe7c21024f4ffffffffff52"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"23def6fb7f238e50979a7c936d866591","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uxa_req_manager/v1/uxa_data/fetch-funnels","sys_created_on":"2024-07-29 09:40:12","sys_name":"Fetch Funnels","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/e9f5c0d20b620210e8a937009777b2d7","value":"e9f5c0d20b620210e8a937009777b2d7"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"22","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_update_name":"sys_ws_operation_23def6fb7f238e50979a7c936d866591","consumes_customized":"false","name":"Fetch Funnels","produces":"application/json,application/xml,text/xml","relative_path":"/fetch-funnels","produces_customized":"false","default_operation_uri":"/api/sn_uxa_req_manager/uxa_data/fetch-funnels","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var rollback = request.queryParams.rollback && request.queryParams.rollback[0] === \"true\";\n    var activating = !rollback;\n    var res = {\n        nextExperienceActivated: activating,\n    };\n\n    var activationScript = 'function activateNextExperience(isRollback) {' +\n        '      var rollback = isRollback;' +\n        '      var activating = !rollback;' +\n        '      var res = {' +\n        '          nextExperienceActivated: activating,' +\n        '      };' +\n        '' +\n        '      var unifiedAnalyticsProp = \"com.glide.par.unified_analytics.enabled\";' +\n        '      var rollbackAllowedProp = \"glide.par.coreui.migration.bulk_rollback_enabled\";' +\n        '      var unifiedEnabled = gs.getProperty(unifiedAnalyticsProp, \"false\");' +\n        '      var rollbackAllowed = gs.getProperty(rollbackAllowedProp, \"false\");' +\n        '      if ((unifiedEnabled === \"true\" && activating) || (unifiedEnabled === \"false\" && !activating)) {' +\n        '          res.skipped = true;' +\n        '          return res;' +\n        '      }' +\n        '      if (rollback && rollbackAllowed !== \"true\") {' +\n        '          return {' +\n        '              skipped: true,' +\n        '              nextExperienceActivated: true,' +\n        '              message: \"Please don\\'t rollback. You weren\\'t meant to find this. Contact support first.\",' +\n        '          };' +\n        '      }' +\n        '' +\n        '      var COMPONENT_BRIDGE = \"par_coreui_migration_bridge_component\";' +\n        '      var DASHBOARD_BRIDGE = \"par_coreui_migration_bridge_dashboard\";' +\n        '      var SCHEDULED_JOB_BRIDGE = \"par_coreui_migration_bridge_sysauto\";' +\n        '      var bridgingTables = [COMPONENT_BRIDGE, DASHBOARD_BRIDGE, SCHEDULED_JOB_BRIDGE];' +\n        '      var tablesInfo = {};' +\n        '      var isDomainSeparated = new SNC.PADomainUtils().isDomainSeparated();' +\n        '      tablesInfo[DASHBOARD_BRIDGE] = {' +\n        '          core: function() {' +\n        '              return {' +\n        '                  table: \"pa_dashboards\",' +\n        '                  bridgeField: \"pa_dashboard\",' +\n        '                  hasActive: true,' +\n        '              };' +\n        '          },' +\n        '          next: function() {' +\n        '              return {' +\n        '                  table: \"par_dashboard\",' +\n        '                  bridgeField: \"par_dashboard\",' +\n        '                  hasActive: true,' +\n        '              };' +\n        '          }' +\n        '      };' +\n        '      tablesInfo[COMPONENT_BRIDGE] = {' +\n        '          core: function(record) {' +\n        '              switch (record.getValue(\"type\")) {' +\n        '                  case \"report\":' +\n        '                      return {' +\n        '                          table: \"sys_report\",' +\n        '                              bridgeField: \"report\",' +\n        '                              hasActive: true,' +\n        '                      };' +\n        '                  case \"widget\":' +\n        '                      return {' +\n        '                          table: \"pa_widgets\",' +\n        '                              bridgeField: \"widget\",' +\n        '                              hasActive: false,' +\n        '                      };' +\n        '                  case \"filter\":' +\n        '                      return {' +\n        '                          table: \"sys_ui_hp_publisher\",' +\n        '                              bridgeField: \"filter\",' +\n        '                              hasActive: false' +\n        '                      };' +\n        '                  default:' +\n        '                      throw new Error(\"Unexpected component type - \" + record.getValue(\"type\"));' +\n        '              }' +\n        '          },' +\n        '          next: function(record) {' +\n        '              return {' +\n        '                  table: \"par_component\",' +\n        '                  bridgeField: \"component\",' +\n        '                  hasActive: true,' +\n        '              };' +\n        '          },' +\n        '      };' +\n        '      tablesInfo[SCHEDULED_JOB_BRIDGE] = {' +\n        '          core: function() {' +\n        '              return {' +\n        '                  table: \"sysauto_report\",' +\n        '                  bridgeField: \"sysauto_report\",' +\n        '                  hasActive: true,' +\n        '              };' +\n        '          },' +\n        '          next: function() {' +\n        '              return {' +\n        '                  table: \"sysauto_par\",' +\n        '                  bridgeField: \"sysauto_par\",' +\n        '                  hasActive: true,' +\n        '              };' +\n        '          },' +\n        '      };' +\n        '' +\n        '      var direction;' +\n        '      if (activating)' +\n        '          direction = [\"core\", \"next\"];' +\n        '      else' +\n        '          direction = [\"next\", \"core\"];' +\n        '' +\n        '' +\n        '      var tableRecordsToBeUpdated = {};' +\n        '' +\n        '      function addTableInfo(tableName, activeValue) {' +\n        '          if (!tableRecordsToBeUpdated[tableName]) {' +\n        '              tableRecordsToBeUpdated[tableName] = {};' +\n        '              tableRecordsToBeUpdated[tableName].active = activeValue;' +\n        '              tableRecordsToBeUpdated[tableName].sysids = [];' +\n        '          }' +\n        '      }' +\n        '' +\n        '      function updateComponentRelatedRecords(tableRecordsToBeUpdated) {' +\n        '          for (var table in tableRecordsToBeUpdated) {' +\n        '              gs.info(\"running updateComponentRelatedRecords for table:\" + table + \" record count is:\" + tableRecordsToBeUpdated[table].sysids.length);' +\n        '              if (tableRecordsToBeUpdated[table].sysids.length > 0) {' +\n        '                  var dbQuery = new GlideDBQuery(table);' +\n        '                  dbQuery.addQuery(\"sys_id\", \"IN\", tableRecordsToBeUpdated[table].sysids);' +\n        '                  if (isDomainSeparated)' +\n        '                      dbQuery.setSuppressSeparation(true);' +\n        '' +\n        '                  var dbu = new GlideDBUpdate(table);' +\n        '                  dbu.setQuery(dbQuery);' +\n        '                  dbu.setValue(\"active\", tableRecordsToBeUpdated[table].active);' +\n        '                  dbu.setMultiple(true);' +\n        '                  dbu.execute();' +\n        '                  delete tableRecordsToBeUpdated[table];' +\n        '              }' +\n        '          }' +\n        '      }' +\n        '' +\n        '      for (var i = 0; i < bridgingTables.length; i++) {' +\n        '          var bridgingTable = bridgingTables[i];' +\n        '          var gr = new GlideRecord(bridgingTable);' +\n        '          if (activating) {' +\n        '              gr.addEncodedQuery(\"active=\");' +\n        '          } else {' +\n        '              gr.addEncodedQuery(\"active=next\");' +\n        '          }' +\n        '          /** ^ active points at the \"source of truth\" for if the artifact has been MANUALLY set to COREUI or NEXT. */' +\n        '          /** If the bridging table says null, rollback/activation can transfer the active flag. */' +\n        '          /** If the active flag has been manually set to next/core, then the automated rollback/activation will skip over it. */' +\n        '          if (isDomainSeparated)' +\n        '              gr.queryNoDomain();' +\n        '          else' +\n        '              gr.query();' +\n        '' +\n        '          var tableInfo = tablesInfo[bridgingTable];' +\n        '          var counter = 0;' +\n        '          while (gr.next()) {' +\n        '              counter++;' +\n        '              var FROM_TABLE_INFO = tableInfo[direction[0]](gr);' +\n        '              var TO_TABLE_INFO = tableInfo[direction[1]](gr);' +\n        '' +\n        '\t\t\t\tif(!FROM_TABLE_INFO || !TO_TABLE_INFO) {' +\n        '\t\t\t\t\tgs.error(\"Failed to get correct to or from table for \" + bridgingTable + \", skipping records to preserve data. From: \" + FROM_TABLE_INFO + \" To: \" + TO_TABLE_INFO);' +\n        '\t\t\t\t\tcontinue;' +\n        '\t\t\t\t}\t' +\n        '' +\n        '              var active = true;' +\n        '              var sysid = \"\";' +\n        '              if (FROM_TABLE_INFO.hasActive) {' +\n        '                  sysid = gr.getValue(FROM_TABLE_INFO.bridgeField);' +\n        '                  if (sysid != null) {' +\n        '                      addTableInfo(FROM_TABLE_INFO.table, false);' +\n        '                      tableRecordsToBeUpdated[FROM_TABLE_INFO.table].sysids.push(sysid);' +\n        '                  }' +\n        '              }' +\n        '' +\n        '              if (active && TO_TABLE_INFO.hasActive) {' +\n        '                  sysid = gr.getValue(TO_TABLE_INFO.bridgeField);' +\n        '                  if (sysid != null) {' +\n        '                      addTableInfo(TO_TABLE_INFO.table, true);' +\n        '                      tableRecordsToBeUpdated[TO_TABLE_INFO.table].sysids.push(sysid);' +\n        '                  }' +\n        '              }' +\n        '' +\n        '              /**  Do it in batches to avoid excessive memory usage */' +\n        '              if (counter == 500) {' +\n        '                  updateComponentRelatedRecords(tableRecordsToBeUpdated);' +\n        '                  counter = 0;' +\n        '              }' +\n        '          }' +\n        '' +\n        '          gs.info(\"updating \" + bridgingTable + \" table active field\");' +\n        '          /** bulk update the bridging table */' +\n        '          var activeDirection = direction[1] === \"core\" ? \"\" : direction[1];' +\n        '          var dbQuery = new GlideDBQuery(bridgingTable);' +\n        '          var dbu = new GlideDBUpdate(bridgingTable);' +\n        '          if (activating) {' +\n        '              dbQuery.addQuery(\"active\", \"=\", \"NULL\");' +\n        '          } else {' +\n        '              dbQuery.addQuery(\"active\", \"=\", \"next\");' +\n        '          }' +\n        '          if (isDomainSeparated)' +\n        '              dbQuery.setSuppressSeparation(true);' +\n        '' +\n        '          dbu.setQuery(dbQuery);' +\n        '          dbu.setValue(\"active\", activeDirection);' +\n        '          dbu.setMultiple(true);' +\n        '          dbu.execute();' +\n        '' +\n        '          updateComponentRelatedRecords(tableRecordsToBeUpdated);' +\n        '      }' +\n        '' +\n        '      gs.setProperty(unifiedAnalyticsProp, activating);' +\n        '  }' +\n        'activateNextExperience(' + rollback + ');' +\n        'var migrationService = new SNC.MigrationServiceScriptable();' +\n        'migrationService.unblockNewAnalyticsContent();';\n\n    //check if its enabled:\n\tvar migrationEnabledProp = \"com.glide.par.coreui.migration.enabled\";\n\tvar migrationEnabled = gs.getProperty(migrationEnabledProp, \"true\");\n\tif(migrationEnabled === \"false\") {\n\t\tres.message = \"Migration has been disabled by the system admin\";\n        return res;\n\t}\n    // check if it is already running in background\n    var gr = new GlideRecord(\"sys_trigger\");\n    gr.addQuery(\"name\", \"Activate Next Experience\");\n    gr.query();\n    if (gr.next()) {\n        res.message = \"Activate Next Experience job is already running.\";\n        return res;\n    }\n\n    gr = new GlideRecord(\"sysauto_script\");\n    gr.initialize();\n    gr.setValue(\"active\", true);\n    gr.setValue(\"name\", \"Activate Next Experience\");\n    gr.setValue(\"run_type\", \"once\");\n    gr.setValue(\"entered_time\", \"1981-07-15 07:00:00\");\n    gr.setValue(\"run_start\", \"1981-07-15 07:00:00\");\n    gr.setValue(\"run_time\", \"1981-07-15 07:00:00\");\n    gr.setValue(\"script\", activationScript);\n    res.sysautoId = gr.insert();\n    return res;\n})(request, response);","sys_updated_on":"2024-09-11 09:02:37","enforce_acl":"0e73c9c4433131106e3f864e3ab8f2ff","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"23f5d3cb431131106e3f864e3ab8f200","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/par_coreui_migration_utils/activate_next_experience","sys_created_on":"2024-08-08 15:52:19","sys_name":"Activate Next Experience Analytics","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69e513cb431131106e3f864e3ab8f2f2","value":"69e513cb431131106e3f864e3ab8f2f2"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"31","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/013ba77304352210559073c06a02f7f1","value":"013ba77304352210559073c06a02f7f1"},"sys_update_name":"sys_ws_operation_23f5d3cb431131106e3f864e3ab8f200","consumes_customized":"false","name":"Activate Next Experience Analytics","produces":"application/json,application/xml,text/xml","relative_path":"/activate_next_experience","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"var {\n    RuleChecker\n} = require('@devsnc/uibtk-api');\n\n(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\t\n\n  var rc = new RuleChecker();\n  var ruleViolations = rc.checkAllRulesAgainstMacroponent(request.pathParams.macroponentId, request.pathParams.isMaint);\n\n    var body = {};\n    body.ruleViolations = ruleViolations;\n    response.setBody(body);\n\n})(request, response);","sys_updated_on":"2024-08-26 15:43:03","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"240daac8770442108964a8e4bc5a992f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/check_rules/macroponent/{macroponentId}/isMaint/{isMaint}","sys_created_on":"2024-01-25 17:05:17","sys_name":"Execute Rules Engine for Macroponent","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"35","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_240daac8770442108964a8e4bc5a992f","consumes_customized":"false","name":"Execute Rules Engine for Macroponent","produces":"application/json,application/xml,text/xml","relative_path":"/check_rules/macroponent/{macroponentId}/isMaint/{isMaint}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Checks to see if a path for a new experience is in use already","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    const apiHelper = new APIHelper(request, response);\n    apiHelper.execute(function() {\n        const result = new Experience().checkIfPathInUse(apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.PATH));\n        apiHelper.respondSuccesfully({\n            inUse: result\n        }); \n    });\n})(request, response);","sys_updated_on":"2023-05-26 18:17:34","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"24213027a5af1110f877a4ad4cca4823","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/experience/path","sys_created_on":"2022-12-09 16:07:23","sys_name":"Check Experience Path","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"8","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_24213027a5af1110f877a4ad4cca4823","consumes_customized":"false","name":"Check Experience Path","produces":"application/json,application/xml,text/xml","relative_path":"/experience/path","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var contextId = request.pathParams.contextId;;\n    var flowOutputs = sn_fd.FlowAPI.getOutputs(contextId);\n    if (flowOutputs.trainjson) {\n        flowOutputs = JSON.parse(flowOutputs.trainjson);\n    }\n    return flowOutputs;\n})(request, response);","sys_updated_on":"2023-02-27 11:11:29","enforce_acl":"ccd8a1e7772000105d7b3882a910617c","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/e4cda81e7333230021a044764df6a777","value":"e4cda81e7333230021a044764df6a777"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2456f807a3012110f066d78446fcdab4","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/nlu/flowStatus/{contextId}","sys_created_on":"2023-02-20 16:48:22","sys_name":"flowStatus","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/55672c9a7333230021a044764df6a706","value":"55672c9a7333230021a044764df6a706"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"41","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_ws_operation_2456f807a3012110f066d78446fcdab4","consumes_customized":"false","name":"flowStatus","produces":"application/json,application/xml,text/xml","relative_path":"/flowStatus/{contextId}","produces_customized":"false","default_operation_uri":"/api/now/nlu/flowStatus/{contextId}","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var appManagerApiUtil = new AppManagerApiUtil(request, response);\n    try {\n        var args = appManagerApiUtil.getRequestParams();\n        var responseData = new sn_appclient.AppsData().processSyncAppsRequest(args);\n        appManagerApiUtil.setResponseBody(responseData);\n    } catch (err) {\n        appManagerApiUtil.setError(err);\n    }\n\n})(request, response);","sys_updated_on":"2023-10-04 09:25:33","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/be08b89397b0d1104b593f0e6253afe1","value":"be08b89397b0d1104b593f0e6253afe1"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"246c112d77712110b61ec1bfbd5a9985","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_appclient/v1/appmanager/sync_apps","sys_created_on":"2023-03-25 10:56:25","sys_name":"Sync Apps","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7ea1fc5f9770d1104b593f0e6253af99","value":"7ea1fc5f9770d1104b593f0e6253af99"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_update_name":"sys_ws_operation_246c112d77712110b61ec1bfbd5a9985","consumes_customized":"false","name":"Sync Apps","produces":"application/json,application/xml,text/xml","relative_path":"/sync_apps","produces_customized":"false","default_operation_uri":"/api/sn_appclient/appmanager/sync_apps","sys_policy":""},{"short_description":"Remove subscription for the current user for the given object","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar sub_obj_id = request.pathParams.sub_obj_id;\t\n\n\tvar actSubCtx = ActivitySubscriptionContext.getContext();\n\tif(!actSubCtx.isPluginEnabled()){\n\t\tresponse.setStatus(400);\n\t\treturn {\"status\":400,\n\t\t\t\t\"message\":\"Plugin is disabled please contact system administrator\"};\n\t}\n\t\n\tvar subscriptionService = actSubCtx.getSubscriptionService();\n\t\n\tvar result = subscriptionService.unsubscribe(sub_obj_id);\n\t\n\tresponse.setStatus(result.status);\n\tresponse.setBody(result);\n\n})(request, response);","sys_updated_on":"2018-01-31 18:04:09","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/882dfe6853003200fa9bd7b08cc587d5","value":"882dfe6853003200fa9bd7b08cc587d5"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"249efaa853003200fa9bd7b08cc587d8","http_method":"DELETE","sys_updated_by":"admin","operation_uri":"/api/now/v1/actsub/subscriptions/{sub_obj_id}/unsubscribe","sys_created_on":"2016-12-29 09:13:19","sys_name":"Subscriptions","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/aabc7e6853003200fa9bd7b08cc5870f","value":"aabc7e6853003200fa9bd7b08cc5870f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"15","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/27dc6bfb04352210559073c06a02f739","value":"27dc6bfb04352210559073c06a02f739"},"sys_update_name":"sys_ws_operation_249efaa853003200fa9bd7b08cc587d8","consumes_customized":"false","name":"Subscriptions","produces":"application/json,application/xml,text/xml","relative_path":"/subscriptions/{sub_obj_id}/unsubscribe","produces_customized":"false","default_operation_uri":"/api/now/actsub/subscriptions/{sub_obj_id}/unsubscribe","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var attachment_helper_sys_id = String(request.queryParams.sys_id);\n\tvar isRetryParsing = String(request.queryParams.retryParsing);\n    var return_obj = {};\n    var preProcessPdf = new PDFtoTableHelper();\n\n    try {\n        var result = preProcessPdf.processPdf(attachment_helper_sys_id, (isRetryParsing === \"true\"));\n        response.setStatus(200);\n        return_obj.status = \"success\";\n        return_obj.message = \"successfully submitted PDF for parsing.\";\n        response.setBody(return_obj);\n    } catch (e) {\n        response.setStatus(500);\n        return_obj.status = \"error\";\n        return_obj.message = e.message || (response && response['message']);\n        response.setBody(return_obj);\n    }\n\n})(request, response);","sys_updated_on":"2022-07-13 07:44:51","enforce_acl":"f7e62b5f97e415108843f73ef053af30","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"24b8e3df97e415108843f73ef053af2a","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_pdf_table_bldr/app/submit_parse_pdf_job","sys_created_on":"2022-07-13 07:44:51","sys_name":"Submit Parse PDF Job","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/8e417ee064982b70a7bd187e6edb95f1","value":"8e417ee064982b70a7bd187e6edb95f1"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/16652f5b97e415108843f73ef053af22","value":"16652f5b97e415108843f73ef053af22"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8e417ee064982b70a7bd187e6edb95f1","value":"8e417ee064982b70a7bd187e6edb95f1"},"sys_update_name":"sys_ws_operation_24b8e3df97e415108843f73ef053af2a","consumes_customized":"false","name":"Submit Parse PDF Job","produces":"application/json,application/xml,text/xml","relative_path":"/submit_parse_pdf_job","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var groupSysId = request.queryParams.group_sys_id + \"\";\n\t\n\tif (!groupSysId)\n\t\treturn new sn_ws_err.BadRequestError(gs.getMessage(\"Group id not provided\"));\n\t\n\tvar ocsNG = new OnCallSecurityNG();\n\tif (!ocsNG.rotaMgrAccess(groupSysId))\n\t\treturn getSecurityConstraintError();\n\t\n\tvar occwUtils = new OnCallCreationWizardUtils();\n\tvar result = {};\n\tresult.groupDetails = occwUtils.getGroupDetails(groupSysId);\n\tresult.groupMemberCount = occwUtils.getGroupMemberCount(groupSysId);\n\tresult.shifts = occwUtils.getPreviewRotaDetails(groupSysId);\n\t\n\tfunction getSecurityConstraintError() {\n\t\tvar respError = new sn_ws_err.ServiceError();\n\t\trespError.setStatus(403);\n\t\trespError.setMessage(gs.getMessage(\"Security constraints prevent access to requested resource\"));\n\t\treturn respError;\n\t}\n\t\n\treturn result;\n\t\n})(request, response);","sys_updated_on":"2019-03-20 08:31:37","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"254b97e673232300cbb654eb7df6a76c","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/creation_wizard/getPreviewDetails","sys_created_on":"2019-02-14 04:48:02","sys_name":"getPreviewDetails","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_254b97e673232300cbb654eb7df6a76c","consumes_customized":"false","name":"getPreviewDetails","produces":"application/json,application/xml,text/xml","relative_path":"/creation_wizard/getPreviewDetails","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\nvar dashboard = new NotificationDashboard();\nvar result = dashboard.getAllNotifications(request.body.data);\n\nresponse.setBody(result);\n\n})(request, response);","sys_updated_on":"2024-09-26 13:38:51","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2586769dffb4de10ac42fbd38c4fd9aa","http_method":"POST","sys_updated_by":"rajesh.tatikonda@snc","operation_uri":"/api/snc/notification_dashboard/notifications/email/all","sys_created_on":"2024-09-21 17:57:27","sys_name":"Get all Notifications","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"rajesh.tatikonda@snc","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/a5ea2ec8ffec5a10ac42fbd38c4fd9fb","value":"a5ea2ec8ffec5a10ac42fbd38c4fd9fb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fa85f980ff6c5a10ac42fbd38c4fd9bd","value":"fa85f980ff6c5a10ac42fbd38c4fd9bd"},"sys_update_name":"sys_ws_operation_2586769dffb4de10ac42fbd38c4fd9aa","consumes_customized":"false","name":"Get all Notifications","produces":"application/json,application/xml,text/xml","relative_path":"/notifications/email/all","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar sysId = request.pathParams.sys_id || null;\n\tif (!sysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Standard Change Template id not provided\");\n\n\tvar standardChangeTemplate = global.StandardChangeTemplate.findById(sysId);\n\tif (!standardChangeTemplate)\n\t\treturn new sn_ws_err.NotFoundError(\"Standard Change Template not found\");\n\n\treturn  standardChangeTemplate.toJS();\n})(request, response);","sys_updated_on":"2018-07-10 16:04:59","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"26248698b713130096c3e4f6ee11a9c6","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/standard/template/{sys_id}","sys_created_on":"2018-07-10 16:04:59","sys_name":"Template","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_26248698b713130096c3e4f6ee11a9c6","consumes_customized":"false","name":"Template","produces":"application/json,application/xml,text/xml","relative_path":"/standard/template/{sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/standard/template/{sys_id}","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    /**\n    Parameters:\n    \tapplId (sys_id)\n    */\n    if (!request.queryParams.applId) {\n        return;\n    }\n\n    var applId = request.queryParams.applId[0];\n    if (!applId) {\n        return;\n    }\n\n    var applGr = new GlideRecord('cmdb_ci_appl_generic');\n    if (!applGr.get(applId)) {\n        return;\n    }\n\n    var processData = {};\n    processData.process_name = applGr.process_name + '';\n    processData.running_process_command = applGr.running_process_command + '';\n    return processData;\n\n})(request, response);","sys_updated_on":"2024-04-03 08:32:17","enforce_acl":"ea4f3ae287132200b5bea18dd0e3eceb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"26686a9b4fc94210610fea6b43ce0bde","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/it_service/processDataFromGenericAppl","sys_created_on":"2024-03-25 12:34:13","sys_name":"getProcessDataFromGenericAppl","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3418e25f7f120300995cbaf8befa912e","value":"3418e25f7f120300995cbaf8befa912e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_26686a9b4fc94210610fea6b43ce0bde","consumes_customized":"false","name":"getProcessDataFromGenericAppl","produces":"application/json,application/xml,text/xml","relative_path":"/processDataFromGenericAppl","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var groupSysId = request.queryParams.group_sys_id + \"\";\n\t\n\tif (!groupSysId)\n\t\treturn new sn_ws_err.BadRequestError(gs.getMessage(\"Group id not provided\"));\n\t\n\tvar ocsNG = new OnCallSecurityNG();\n\tif (!ocsNG.rotaMgrAccess(groupSysId))\n\t\treturn getSecurityConstraintError();\n\t\n\tvar occwUtils = new OnCallCreationWizardUtils();\n\tvar result = {};\n\tresult.group_members = occwUtils.getGroupMembers(groupSysId);\n\tresult.shifts = occwUtils.getRotasRostersMembersByGroup(groupSysId);\n\t\n\tfunction getSecurityConstraintError() {\n\t\tvar respError = new sn_ws_err.ServiceError();\n\t\trespError.setStatus(403);\n\t\trespError.setMessage(gs.getMessage(\"Security constraints prevent access to requested resource\"));\n\t\treturn respError;\n\t}\n\t\n\treturn result;\n\t\n})(request, response);","sys_updated_on":"2019-03-20 08:31:42","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"269427ed73e32300cbb654eb7df6a77a","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/creation_wizard/getRostersAndMemberDetails","sys_created_on":"2019-02-11 02:46:11","sys_name":"getRostersAndMemberDetails","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"14","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_269427ed73e32300cbb654eb7df6a77a","consumes_customized":"false","name":"getRostersAndMemberDetails","produces":"application/json,application/xml,text/xml","relative_path":"/creation_wizard/getRostersAndMemberDetails","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar escalationStepSysId = request.pathParams.escalation_step_sys_id;\n\ttry {\n\t\treturn new OCEscalationDesigner().deleteEscalationStep(escalationStepSysId);\n\t} catch (e) {\n\t\tif (e.securityError) {\n\t\t\tvar body = {\n\t\t\t\terror: {\n\t\t\t\t\tmessage: e.message\n\t\t\t\t}\n\t\t\t};\n\t\t\tresponse.setBody(body);\n\t\t\tresponse.setStatus(403);\n\t\t}\n\t\telse {\n\t\t\treturn new sn_ws_err.BadRequestError(e.message);\n\t\t}\n\t}\n\t\n})(request, response);","sys_updated_on":"2019-03-20 08:30:31","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"26947d5d5f24230084a5a184ff4666aa","http_method":"DELETE","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/escalations/steps/{escalation_step_sys_id}","sys_created_on":"2018-09-13 20:50:54","sys_name":"deleteEscalationStep","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_26947d5d5f24230084a5a184ff4666aa","consumes_customized":"false","name":"deleteEscalationStep","produces":"application/json,application/xml,text/xml","relative_path":"/escalations/steps/{escalation_step_sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar requestBody = request.body;\n\tvar requestData = requestBody.data;\n\tvar dict = requestData.dictionary_entries;\n\t\n\treturn new SNC.DCManager().clearClassification(dict);\n})(request, response);","sys_updated_on":"2020-09-24 08:25:46","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"26c3e9f3c3131010c15254d41340dd91","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/data_classification/clear","sys_created_on":"2020-09-23 19:29:24","sys_name":"ClearClassificationForDictionaryEntries","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/90b9010773761010ae8dd21efaf6a745","value":"90b9010773761010ae8dd21efaf6a745"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"16","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e6cde73304752210559073c06a02f70a","value":"e6cde73304752210559073c06a02f70a"},"sys_update_name":"sys_ws_operation_26c3e9f3c3131010c15254d41340dd91","consumes_customized":"false","name":"ClearClassificationForDictionaryEntries","produces":"application/json,application/xml,text/xml","relative_path":"/clear","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar params = request.body.nextEntry();\n    \n\tvar agendaItemIds = params.agendaItemIds;\n\t\n\tif (!agendaItemIds || agendaItemIds.length === 0) \n\t\treturn new sn_ws_err.BadRequestError(\"Agenda Item id not provided\");\n\t\n\tvar cabMeeting = new CABMeeting();\n\tvar agendaItems = cabMeeting.getAgendaItems(agendaItemIds);\n\t\n\tif (!agendaItems)\n\t\treturn new sn_ws_err.NotFoundError(\"Requested Agenda Item(s) not found\");\n\t\n\tresponse.setBody(agendaItems);\n})(request, response);","sys_updated_on":"2020-07-23 15:42:20","enforce_acl":"ee9fb61a232303001488dc1756bf658b","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2714c3be533110107b9dddeeff7b126c","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_change_cab/cab/agenda/item","sys_created_on":"2020-07-08 10:22:05","sys_name":"POST Retrieve Agenda Item","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/cf65d305eb10220034d1eeea1206fe55","value":"cf65d305eb10220034d1eeea1206fe55"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_update_name":"sys_ws_operation_2714c3be533110107b9dddeeff7b126c","consumes_customized":"false","name":"POST Retrieve Agenda Item","produces":"application/json,application/xml,text/xml","relative_path":"/agenda/item","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar changeSysId = request.pathParams.change_sys_id || \"\";\n\tif (!changeSysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Change Request id not provided\");\n\n\tvar taskSysId = request.pathParams.task_sys_id || \"\";\n\tif (!taskSysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Change Task id not provided\");\n\n\tvar changeTask = global.ChangeTask.bySysId(taskSysId);\n\tif (!changeTask)\n\t\treturn new sn_ws_err.NotFoundError(\"Change Task not found\");\n\n\tif (changeSysId !== changeTask.getGlideRecord().change_request + \"\")\n\t\treturn new sn_ws_err.BadRequestError(\"Change Task found, but not related to Change Request: \" + changeSysId);\n\n\treturn changeTask.toJS();\n})(request, response);","sys_updated_on":"2018-08-10 14:28:29","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"27571192b733130096c3e4f6ee11a9ad","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/{change_sys_id}/task/{task_sys_id}","sys_created_on":"2018-08-10 14:28:29","sys_name":"Task","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_27571192b733130096c3e4f6ee11a9ad","consumes_customized":"false","name":"Task","produces":"application/json,application/xml,text/xml","relative_path":"/{change_sys_id}/task/{task_sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/{change_sys_id}/task/{task_sys_id}","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar cmdbSysID = request.pathParams.cmdb_ci_sys_id || \"\";\n\tvar startTime = request.queryParams.planned_start_time || \"\"; //expect UTC date time\n\tvar duration = request.queryParams.duration_in_seconds || \"\";\n\t\n\tif (!cmdbSysID) \n\t\treturn new sn_ws_err.BadRequestError(\"cmdb_ci not provided\");\n\t\n\tvar grs = new GlideRecordSecure('cmdb_ci');\n\tif (!grs.get(cmdbSysID))\n\t\treturn new sn_ws_err.BadRequestError(\"cmdb_ci not found\");\n\t\t\n\tif (!duration)\n\t\treturn new sn_ws_err.BadRequestError(\"duration_in_seconds not provided\");\n\t\n\tif (isNaN(duration) || parseInt(duration, 10) <= 0)\n\t\treturn new sn_ws_err.BadRequestError(\"duration_in_seconds must be a positive integer\");\n\t\n\tif (startTime) {\n\t\tvar gdt = new GlideDateTime(startTime);\n\t\tif (!gdt.isValid())\n\t\t\treturn new sn_ws_err.BadRequestError(\"planned_start_time is invalid\");\n\t}\n\t\n\tvar nameValuePairs = {};\n\tnameValuePairs.cmdb_ci_sys_id = cmdbSysID;\n\tnameValuePairs.planned_start_time = startTime;\n\tnameValuePairs.duration_in_seconds = parseInt(duration, 10);\n\tnameValuePairs.timezone = gs.getSession().getTimeZoneName();\n\t\n\tvar changeManagementWorker = new global.ChangeManagementWorker();\n\tchangeManagementWorker.run(nameValuePairs, global.ChangeManagementWorker.GET, global.ChangeManagementWorker.SCHEDULE );\n\n\t// Provide Async link in header\n\tresponse.setHeader(\"Link\", changeManagementWorker.getResponseParam(\"worker\").link + \"\");\n\n\t// Allows server to accept request for asynchronous process\n\tresponse.setStatus(202);\n\n\treturn changeManagementWorker.toJS();\n\t\n})(request, response);","sys_updated_on":"2021-03-31 10:03:07","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"281fd8c9c3222010a282a539e540dd3f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/ci/{cmdb_ci_sys_id}/schedule","sys_created_on":"2021-02-23 15:15:03","sys_name":"Schedule Dates","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"24","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/32b7af7f04b12210559073c06a02f7fb","value":"32b7af7f04b12210559073c06a02f7fb"},"sys_update_name":"sys_ws_operation_281fd8c9c3222010a282a539e540dd3f","consumes_customized":"false","name":"Schedule Dates","produces":"application/json,application/xml,text/xml","relative_path":"/ci/{cmdb_ci_sys_id}/schedule","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/ci/{cmdb_ci_sys_id}/schedule","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\treturn new OCRotationV2()\n\t\t.setStartDate(request.queryParams.start_date || request.body.data.start_date)\n\t\t.setEndDate(request.queryParams.end_date || request.body.data.end_date)\n\t\t.setGroupIds(request.queryParams.group_ids || request.body.data.group_ids)\n\t\t.setRotaIds(request.queryParams.rota_ids || request.body.data.rota_ids)\n\t\t.setRosterIds(request.queryParams.roster_ids || request.body.data.roster_ids)\n\t\t.setUserIds(request.queryParams.user_ids || request.body.data.user_ids)\n\t\t.getSections();\n})(request, response);","sys_updated_on":"2019-03-20 10:29:03","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2835e1e3675132004792adab9485efe5","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/sections","sys_created_on":"2017-03-10 13:42:03","sys_name":"sections","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_2835e1e3675132004792adab9485efe5","consumes_customized":"false","name":"sections","produces":"application/json,application/xml,text/xml","relative_path":"/sections","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar userPreferenceSysId = request.pathParams.user_preference_sys_id + \"\";\n\tif (!userPreferenceSysId)\n\t\treturn new sn_ws_err.BadRequestError(\"On-Call User contact preference id not provided\");\n\t\n\tvar ocupGr = new GlideRecord(\"on_call_user_preference\");\n\tif (ocupGr.get(userPreferenceSysId)) {\n\t\tif (ocupGr.canDelete()) {\n\t\t\tocupGr.deleteRecord();\n\t\t} else\n\t\t\treturn getSecurityConstraintError();\n\t} else\n\t\treturn new sn_ws_err.BadRequestError(\"Invalid sys id provided\");\n\t\n\tfunction getSecurityConstraintError() {\n\t\tvar respError = new sn_ws_err.ServiceError();\n\t\trespError.setStatus(403);\n\t\trespError.setMessage(\"Security constraints prevent access to requested resource\");\n\t\treturn respError;\n\t}\n\n\treturn;\n\t\n})(request, response);","sys_updated_on":"2019-04-01 09:40:36","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2904b89c73243300cbb654eb7df6a73b","http_method":"DELETE","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/deleteUserPreference/{user_preference_sys_id}","sys_created_on":"2019-03-28 09:47:41","sys_name":"deleteUserPreference","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_2904b89c73243300cbb654eb7df6a73b","consumes_customized":"false","name":"deleteUserPreference","produces":"application/json,application/xml,text/xml","relative_path":"/deleteUserPreference/{user_preference_sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    function isValidRequest(data) {\n\t\tif (!data.modelName) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!data.intentName) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!data.primaryLanguage) {\n\t\t\treturn false;\n\t\t}\n\t\tif (data.secondaryLanguages == null) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!NLUStudioService.createIntent) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\t\n\tfunction getSysId(modelId) {\n\t\tif (data.modelId) {\n\t\t\tstatus = NLUStudioService.getModelStatusByName(data.modelId);\n\t\t\tif (status) {\n\t\t\t\treturn status.id;\n\t\t\t}\n\t\t}\n\t\treturn '';\n\t}\n\t\n\tvar data = request.body.data;\n\t\n\tif (!isValidRequest(data)) {\n\t\tresponse.setStatus(400);\n\t\tresponse.setBody({ errorMessage: \"Invalid request, missing required fields or services.\" });\n\t\treturn;\n\t}\n\t\n\tvar result;\n\tvar sysId;\n\ttry {\n\t\tsysId = getSysId(data.modelId);\n\t\tresult = NLUStudioService.createIntent({\n\t\t\tname: data.modelName,\n\t\t\tcategory: 'virtual_agent',\n\t\t\tsys_id: sysId,\n\t\t\tprimaryLanguage: data.primaryLanguage,\n\t\t\tsecondaryLanguages: data.secondaryLanguages\n\t\t}, data.intentName);\n\t} catch (e) {\n\t\tresponse.setStatus(500);\n\t\tresponse.setBody({ errorMessage: e.message });\n\t\treturn;\n\t}\n\t\n\tresponse.setStatus(200);\n\tresponse.setBody(result);\n\n})(request, response);","sys_updated_on":"2022-06-07 14:41:17","enforce_acl":"95736dc3c7e220105a06145bf4c26096","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2927332ca1e53010fa9bbc5d6759f696","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/virtual_agent_design/intent","sys_created_on":"2021-07-21 20:41:52","sys_name":"Create Intent","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/86719a5dc7e220105a06145bf4c26006","value":"86719a5dc7e220105a06145bf4c26006"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_ws_operation_2927332ca1e53010fa9bbc5d6759f696","consumes_customized":"false","name":"Create Intent","produces":"application/json,application/xml,text/xml","relative_path":"/intent","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar changeSysId = request.pathParams.change_sys_id || \"\";\n\tif (!changeSysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Change Request id not provided\");\n\n\tvar changeRequestGr = new GlideRecordSecure(global.ChangeRequest.CHANGE_REQUEST);\n\tchangeRequestGr.addQuery(\"sys_id\", changeSysId);\n\tchangeRequestGr.query();\n\tif (!changeRequestGr.next())\n\t\treturn new sn_ws_err.NotFoundError(\"Change Request not found\");\n\n\treturn global.ChangeCommon.getWindow(new global.ChangeProcess(changeRequestGr).getTasks(), request.queryParams.sysparm_limit || null, request.queryParams.sysparm_offset || null);\n})(request, response);","sys_updated_on":"2018-08-17 14:12:41","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2927dd52b733130096c3e4f6ee11a9ce","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/{change_sys_id}/task","sys_created_on":"2018-08-10 14:27:32","sys_name":"Task - search","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_2927dd52b733130096c3e4f6ee11a9ce","consumes_customized":"false","name":"Task - search","produces":"application/json,application/xml,text/xml","relative_path":"/{change_sys_id}/task","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/{change_sys_id}/task","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    return sn_glider.GliderGitRelay.execute(request, response, 'POST');\n})(request, response);","sys_updated_on":"2024-09-04 23:04:08","enforce_acl":"f7936c469f0202104f96136eba0a1c41","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/88c454eda3233110c4383702f31e61e2","value":"88c454eda3233110c4383702f31e61e2"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"29b6ac31a3273110c4383702f31e61e5","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_glider/v1/relay","sys_created_on":"2024-01-05 21:19:09","sys_name":"Post","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/fd254d9443a161100967247e6bb8f200","value":"fd254d9443a161100967247e6bb8f200"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/70eecc29a3233110c4383702f31e6112","value":"70eecc29a3233110c4383702f31e6112"},"consumes":"application/json,application/xml,text/xml,application/x-git-upload-pack-request, application/x-git-receive-pack-request","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"129","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fd254d9443a161100967247e6bb8f200","value":"fd254d9443a161100967247e6bb8f200"},"sys_update_name":"sys_ws_operation_29b6ac31a3273110c4383702f31e61e5","consumes_customized":"false","name":"Post","produces":"application/json,application/xml,text/xml,application/x-git-upload-pack-result,application/x-git-receive-pack-result","relative_path":"/","produces_customized":"false","default_operation_uri":"/api/sn_glider/relay","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n  // Private Helper Functions\n  function _returnEmptyResult() {\n    return {\n      cards: [],\n      totalRecordCount: 0,\n      paginationWindow: {\n        size: 0,\n        range: {\n          start: 0,\n          end: 0,\n        },\n        excludedCount: 0,\n      },\n    };\n  }\n\n  function _getViewConfigElements(viewConfigSysId) {\n    // fetch view config and view config elements\n    var viewConfigElements = [];\n    var vceGr = new GlideRecordSecure(\"sys_sg_view_config_element\");\n    vceGr.addQuery(\"view_config\", viewConfigSysId);\n    vceGr.query();\n\n    while (vceGr.next()) {\n      var viewConfigElementAttributes = [];\n      var vceaGr = new GlideRecordSecure(\n        \"sys_sg_view_config_element_attribute\"\n      );\n      vceaGr.addQuery(\"view_config_element\", vceGr.getUniqueValue());\n      vceaGr.query();\n      while (vceaGr.next()) {\n        viewConfigElementAttributes.push({\n          sysId: vceaGr.getUniqueValue(),\n          name: vceaGr.getDisplayValue(\"name\"),\n          description: vceaGr.getValue(\"description\"),\n          value: vceaGr.getValue(\"value\"),\n          translatedValue: vceaGr.getValue(\"translated_value\"),\n        });\n      }\n\n      var tsGr = vceGr.view_template_slot.getRefRecord();\n\n      // TODO: Clean up naming convention between BE/FE\n      viewConfigElements.push({\n        sysId: vceGr.getUniqueValue(),\n        name: vceGr.getValue(\"name\"),\n        cardTemplateElement: vceGr.getValue(\"view_template_slot\"),\n        cardTemplateElementDisplayName:\n          vceGr.getDisplayValue(\"view_template_slot\"),\n        viewConfigElementAttribute: viewConfigElementAttributes,\n        templateSlot: {\n          name: tsGr.getValue(\"name\"),\n          type: tsGr.getValue(\"type\"),\n        },\n      });\n    }\n\n    return viewConfigElements;\n  }\n\n  function _getTemplateSlots(viewTemplateSysId) {\n    // fetch view config and view config elements\n    var viewTemplateSlot = [];\n    var vtsGr = new GlideRecordSecure(\"sys_sg_view_template_slot\");\n    vtsGr.addQuery(\"view_template\", viewTemplateSysId);\n    vtsGr.query();\n\n    while (vtsGr.next()) {\n      var viewTemplateSlotAttributes = [];\n      var vtsaGr = new GlideRecordSecure(\"sys_sg_view_template_slot_attribute\");\n      vtsaGr.addQuery(\"view_template_slot\", vtsGr.getUniqueValue());\n      vtsaGr.query();\n      while (vtsaGr.next()) {\n        viewTemplateSlotAttributes.push({\n          id: vtsaGr.getUniqueValue(),\n          attributeName: {\n            id: vtsaGr.getValue(\"name\"),\n            name: vtsaGr.getDisplayValue(\"name\"),\n          },\n          description: vtsaGr.getValue(\"description\"),\n          value: vtsaGr.getValue(\"value\"),\n          translatedValue: vtsaGr.getValue(\"translated_value\"),\n        });\n      }\n\n      viewTemplateSlot.push({\n        id: vtsGr.getUniqueValue(),\n        name: vtsGr.getValue(\"name\"),\n        type: vtsGr.getDisplayValue(\"type\"),\n        templateSlotAttributes: viewTemplateSlotAttributes,\n      });\n    }\n\n    return viewTemplateSlot;\n  }\n\n  function _getTemplateView(templateSysId) {\n    var templateViewGR = new GlideRecordSecure(\"sys_sg_view_template\");\n    var viewTemplateSlots = _getTemplateSlots(templateSysId);\n\n    templateViewGR.get(templateSysId);\n\n    return {\n      id: templateViewGR.getUniqueValue(),\n      name: templateViewGR.getValue(\"name\"),\n      description: templateViewGR.getValue(\"description\"),\n      application: templateViewGR.getDisplayValue(\"sys_scope\"),\n      scope: templateViewGR.getValue(\"sys_scope\"),\n      updated: templateViewGR.getValue(\"sys_updated_on\"),\n      type: \"viewTemplate\",\n      jsonTemplate: templateViewGR.getValue(\"template_json\"),\n      templateSlots: viewTemplateSlots,\n    };\n  }\n\n  // Filter/Search/Pagination Query Paramters\n  var pagination = {\n    start: Number(request.queryParams[\"start\"]),\n    size: Number(request.queryParams[\"size\"]),\n  };\n  var requestedFilterApplication = request.queryParams[\"application\"];\n  var requestedFilterApplet = request.queryParams[\"applet\"];\n  var requestedFilterTable = request.queryParams[\"table\"];\n  var requestedFilterSearch = request.queryParams[\"search\"];\n  var requestedSort = request.queryParams[\"sort\"];\n\n  var mobileViewGR = new GlideRecordSecure(\"sys_sg_view_config\");\n\n  // Application Filtering\n  if (requestedFilterApplication) {\n    mobileViewGR.addQuery(\"sys_scope\", String(requestedFilterApplication));\n  }\n\n  // Table Filtering\n  if(requestedFilterTable) {\n\t  mobileViewGR.addQuery(\"table\", String(requestedFilterTable));\n  }\n\n  // Applet Filtering\n  if (requestedFilterApplet) {\n    var screenGr = new GlideRecordSecure(\"sys_sg_screen\");\n    if (screenGr.get(String(requestedFilterApplet))) {\n      var className = screenGr.getValue(\"sys_class_name\");\n      if (\n        className === \"sys_sg_list_screen\" ||\n        className === \"sys_sg_map_screen\"\n      ) {\n        // get mobile view sys id ref\n        // list -> item view -> item view stream -> master item +-> embedded screen\n\n        // sys_sg_list_screen\n        var lsSysId = screenGr.getUniqueValue();\n\n        // sys_sg_item_stream_segment\n        var issGr = new GlideRecordSecure(\"sys_sg_item_stream_segment\");\n        issGr.addQuery(\"screen\", lsSysId);\n        issGr.query();\n        issGr.next();\n        var issSysId = issGr.getUniqueValue();\n\n        // sys_sg_item_stream\n        var m2mIssGr = new GlideRecordSecure(\"sys_sg_item_stream_m2m_segment\");\n        m2mIssGr.addQuery(\"segment\", issSysId);\n        m2mIssGr.query();\n        m2mIssGr.next();\n        var isSysId = m2mIssGr.getValue(\"item_stream\");\n\n        // sys_sg_master_item\n        var m2mIsGr = new GlideRecordSecure(\n          \"sys_sg_item_stream_m2m_master_item\"\n        );\n        m2mIsGr.addQuery(\"item_stream\", isSysId);\n        m2mIsGr.query();\n        m2mIsGr.next();\n        var miSysId = m2mIsGr.getValue(\"master_item\");\n\n        // sys_sg_master_item - view config\n        var miGr = new GlideRecordSecure(\"sys_sg_master_item\");\n        miGr.get(miSysId);\n        var viewConfigSysId = miGr.getValue(\"view_config\");\n\n        // sys_sg_form_screen\n        var esSysId = miGr.getValue(\"embedded_screen\");\n        var esGr = new GlideRecordSecure(\"sys_sg_form_screen\"); // it's really a ref to sys_sg_screen\n        esGr.get(esSysId);\n        var secondViewConfigSysId = esGr.getValue(\"view_config\");\n\n        var grOR = mobileViewGR.addQuery(\"sys_id\", viewConfigSysId);\n        grOR.addOrCondition(\"sys_id\", secondViewConfigSysId);\n      } else if (className === \"sys_sg_form_screen\") {\n        // sys_sg_form_screen\n        var fGr = new GlideRecordSecure(\"sys_sg_form_screen\"); // it's really a ref to sys_sg_screen\n        fGr.get(screenGr.getUniqueValue());\n\n        var viewConfigSysId = fGr.getValue(\"view_config\");\n\n        mobileViewGR.addQuery(\"sys_id\", viewConfigSysId);\n      }\n    } else {\n      return _returnEmptyResult();\n    }\n  }\n\n  // Search Filtering\n  if (requestedFilterSearch) {\n    var grORName = mobileViewGR.addQuery(\n      \"name\",\n      \"CONTAINS\",\n      String(requestedFilterSearch)\n    );\n    grORName.addOrCondition(\n      \"description\",\n      \"CONTAINS\",\n      String(requestedFilterSearch)\n    );\n  }\n\n  // Total Record Count before Pagination\n  // GlideRecord.getRecordCount() does not take into account ACLs, and therefore we do not use it\n  // This has to be done in a second GlideRecordSecure because a subsequent query() does not return records\n  // if the scoped_administration is set to true for the filtering application for the admin user\n  var totalRecordCount = 0;\n  var totalCountMobileViewGR = new GlideRecordSecure(\"sys_sg_view_config\");\n  totalCountMobileViewGR.addEncodedQuery(mobileViewGR.getEncodedQuery());\n  totalCountMobileViewGR.query();\n  while (totalCountMobileViewGR.next()) {\n    if (totalCountMobileViewGR.canRead()) totalRecordCount++;\n  }\n\n  // Sort\n  if (requestedSort) {\n    switch (String(requestedSort)) {\n      case \"UpdatedDesc\":\n        mobileViewGR.orderByDesc(\"sys_updated_on\");\n        break;\n      case \"UpdatedAsce\":\n        mobileViewGR.orderBy(\"sys_updated_on\");\n        break;\n      case \"AlphaDesc\":\n        mobileViewGR.orderByDesc(\"name\");\n        break;\n      case \"AlphaAsce\": // Default sort\n      default:\n        mobileViewGR.orderBy(\"name\");\n    }\n  }\n\n  // Pagination\n  if (!isNaN(pagination.start) && !isNaN(pagination.size)) {\n    mobileViewGR.chooseWindow(\n      pagination.start,\n      pagination.start + pagination.size\n    );\n  }\n\n  // Payload Construction\n  var mobileViews = [];\n  mobileViewGR.query();\n  while (mobileViewGR.next()) {\n    if (mobileViewGR.canRead()) {\n      var templateView = _getTemplateView(mobileViewGR.getValue(\"template\"));\n      var viewConfigElements = _getViewConfigElements(\n        mobileViewGR.getUniqueValue()\n      );\n\n      mobileViews.push({\n        sys_id: mobileViewGR.getUniqueValue(),\n        name: mobileViewGR.getValue(\"name\"),\n        description: mobileViewGR.getValue(\"description\"),\n        application: mobileViewGR.getDisplayValue(\"sys_scope\"),\n        scope: mobileViewGR.getValue(\"sys_scope\"),\n        updated: mobileViewGR.getValue(\"sys_updated_on\"),\n        type: \"viewConfig\",\n        templateView: templateView,\n        viewConfigElements: viewConfigElements,\n      });\n    }\n  }\n\n  return {\n    cards: mobileViews,\n    totalRecordCount: totalRecordCount,\n    paginationWindow: {\n      size: pagination.size,\n      range: {\n        start: pagination.start + 1,\n        end: pagination.start + pagination.size,\n      },\n      excludedCount: pagination.size - mobileViews.length,\n    },\n  };\n})(request, response);\n","sys_updated_on":"2024-04-26 06:17:00","enforce_acl":"cf9d01d3e73003009d6247e603f6a990,d7088c08b751211095411226de11a9e9","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"29c7c45a0f931010e70a4abec4767ec7","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/mcb/view_config/open_modal","sys_created_on":"2020-09-18 20:54:52","sys_name":"View Config - Open Modal - Get","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/63d8b7c573c51010a59b4c5353f6a737","value":"63d8b7c573c51010a59b4c5353f6a737"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"187","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_update_name":"sys_ws_operation_29c7c45a0f931010e70a4abec4767ec7","consumes_customized":"false","name":"View Config - Open Modal - Get","produces":"application/json,application/xml,text/xml","relative_path":"/view_config/open_modal","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var body = request.body.data;\n    var bs_id = body.bsId;\n\n\n    var eps = []; // array for holding Entry Points\n\teps.push(bs_id);\n    var epsGR = new GlideRecord('sa_m2m_service_entry_point');\n    epsGR.addQuery('cmdb_ci_service', bs_id);\n\tepsGR.addQuery('cmdb_ci_endpoint.sys_class_name', '!=', 'cmdb_ci_endpoint_manual');\n\tepsGR.query();\n\n    // add the entry points to array\n    while (epsGR.next()) {\n           eps.push(epsGR.cmdb_ci_endpoint.toString());\n    }\n\n\n    // search for \"parent\" Application Services having endpoints equal to\n    // current Discovered Service's entry point(s)\n    var parentService = new GlideRecord('svc_ci_assoc');\n    parentService.addQuery('ci_idIN' + eps.toString());\n    parentService.addQuery('service_id', '!=', bs_id);\n    parentService.orderBy('service_id.name');\n    parentService.query();\n\n    var parents = parentService.getRowCount();\n\n    var parentsList = [];\n    //var parentNames = Array();\n    var parentIds = [];\n    var serviceId;\n    var serviceName;\n    while (parentService.next()) {\n        var ciId = parentService.getValue('ci_id');\n        serviceId = parentService.getValue('service_id');\n        if (ciId == serviceId) {\n            continue;\n        }\n        serviceName = parentService.service_id.name;\n        parentIds.push(serviceId);\n    }\n\n    var cmdbServGr = new GlideRecord('cmdb_ci_service_discovered');\n    cmdbServGr.addQuery('sys_id', parentIds);\n    cmdbServGr.query();\n\n    var userId = gs.getUserID();\n    var pluginMode = body.pluginMode;\n    var bsManager = new SNC.BusinessServiceManager();\n    while (cmdbServGr.next()) {\n        var answer = bsManager.isReadingPermitted(cmdbServGr, userId);\n        if (answer) {\n            if (pluginMode != 'assurance' || cmdbServGr.operational_status == '1') {\n                parentsList.push({\n                    \"sysId\": cmdbServGr.getValue('sys_id'),\n                    \"name\": cmdbServGr.getValue('name')\n                });\n            }\n        }\n    }\n\n    return parentsList;\n\n})(request, response);","sys_updated_on":"2023-05-24 09:26:44","enforce_acl":"1da2279e9f0232004db75ecec32e70d1","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"29ff4342b73020101ab56e39ce11a931","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/it_service/getParentServices","sys_created_on":"2020-12-02 06:35:17","sys_name":"getParentServices - Internal API","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3418e25f7f120300995cbaf8befa912e","value":"3418e25f7f120300995cbaf8befa912e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"47","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_29ff4342b73020101ab56e39ce11a931","consumes_customized":"false","name":"getParentServices - Internal API","produces":"application/json,application/xml,text/xml","relative_path":"/getParentServices","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    response.setContentType('application/json');\n\tvar result = {};\n\tvar tagUtils = new SMServiceByTagsUtils();\n\tvar requestBody = request.body;\n\tvar requestData = requestBody.data;\n\n\tif(JSUtil.nil(requestData.tag_list) || requestData.tag_list.length == 0){\n\t\tresponse.setStatus(200);\n\t\tresult.valid = true;\n\t\tresponse.setBody(result);\n\t\treturn;\n\t}\n\t\n\tif(!tagUtils.validateTagsList(requestData.tag_list)){\n\t\tresponse.setStatus(200);\n\t\tresult.valid = false;\n\t\tresult.error_message = gs.getMessage(\"Invalid list of tags, please specify proper key and value.\");\n\t\tresponse.setBody(result);\n\t\treturn;\n\t}\n\t\n\tvar included = [];\n\t\n\tfor(var i=0; i<requestData.tag_list.length; i++){\n\t\tif(tagUtils.isTagIncludedInMultiTagCategory(requestData.tag_list[i].tag)){\n\t\t\tincluded.push(requestData.tag_list[i].tag);\n\t\t}\n\t}\n\t\n\tif(included.length > 0){\n\t\tresponse.setStatus(200);\n\t\tresult.valid = false;\n\t\tresult.error_message = gs.getMessage(\"The following tags are already being used: {0}. Please use a different tag.\", included.join(\",\"));\n\t\tresponse.setBody(result);\n\t\treturn;\n\t}\n\t\n\tresponse.setStatus(200);\n\tresult.valid = true;\n\tresponse.setBody(result);\n\n})(request, response);","sys_updated_on":"2020-03-30 19:04:30","enforce_acl":"edc5e02473230010ee4dd3c72bf6a7ea","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2a3a421d73a70010ee4dd3c72bf6a7cf","http_method":"PUT","sys_updated_by":"admin","operation_uri":"/api/now/csdm_app_service/validate_tag_list","sys_created_on":"2020-03-13 20:39:28","sys_name":"Validate List of Tags","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/60c171d973c30010ee4dd3c72bf6a716","value":"60c171d973c30010ee4dd3c72bf6a716"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"9","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2f8d67ff04352210559073c06a02f74f","value":"2f8d67ff04352210559073c06a02f74f"},"sys_update_name":"sys_ws_operation_2a3a421d73a70010ee4dd3c72bf6a7cf","consumes_customized":"false","name":"Validate List of Tags","produces":"application/json,application/xml,text/xml","relative_path":"/validate_tag_list","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    const {\n        ComponentBuilder\n    } = require('@servicenow/sn-cb-api');\n    const componentBuilder = new ComponentBuilder(response);\n    try {\n        const {\n            pathParams: {\n                sysId,\n            }\n        } = request;\n        componentBuilder.deleteComponent(sysId);\n\n        return componentBuilder.getSuccessResponse({success: true}, 200);\n    } catch (e) {\n        return componentBuilder.getErrorResponse(e.message);\n    }\n})(request, response);","sys_updated_on":"2024-03-11 23:33:16","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2aa0c9ba77a40a107d514a833f5a99e0","http_method":"DELETE","sys_updated_by":"admin","operation_uri":"/api/sn_cb_api/componentbuilder/component/{sysId}","sys_created_on":"2024-02-27 18:45:24","sys_name":"Delete Component","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/58d65e5a729340ac35dc8fd71d665545","value":"58d65e5a729340ac35dc8fd71d665545"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/79353aa3a37731100aa159e6d31e6154","value":"79353aa3a37731100aa159e6d31e6154"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"23","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/58d65e5a729340ac35dc8fd71d665545","value":"58d65e5a729340ac35dc8fd71d665545"},"sys_update_name":"sys_ws_operation_2aa0c9ba77a40a107d514a833f5a99e0","consumes_customized":"false","name":"Delete Component","produces":"application/json,application/xml,text/xml","relative_path":"/component/{sysId}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var CONST = {\n        APPROVAL_TABLE: \"sysapproval_approver\"\n    };\n\n    var params = request.body.nextEntry();\n    var sysId = params.sysId;\n    var commentId = params.commentId;\n    var commentTable = params.commentTable;\n    var approvalObj = {\n        state: params.state,\n        comments: params.comments,\n        useCommentBox: params.useCommentBox\n    };\n\n    if (sysId) {\n        var todoApprovalActionsUtil = new sn_ex_sp.TodoApprovalActionsUtil();\n        var approvalGr = todoApprovalActionsUtil.getTargetRecord(sysId, CONST.APPROVAL_TABLE);\n        if (!gs.nil(approvalGr)) {\n            var isApprover = todoApprovalActionsUtil.isApprover(approvalGr);\n            if (isApprover) {\n                var isPosted = false;\n                var commentGr = null;\n                if (commentId && commentTable) {\n                    commentGr = todoApprovalActionsUtil.getTargetRecord(commentId, commentTable);\n                    if (!gs.nil(commentGr)) {\n                        approvalObj.requireRejectionComment = todoApprovalActionsUtil.checkRejectionCommentRequired(commentGr);\n                        approvalObj.useCommentBox = approvalObj.useCommentBox && approvalObj.requireRejectionComment;\n                    }\n                }\n\n                isPosted = todoApprovalActionsUtil.updateApprovalAndComment(approvalGr, commentGr, approvalObj);\n                if (isPosted && !gs.nil(commentGr)) {\n                    var postApprovalInfo = todoApprovalActionsUtil.getPostApprovalInfo(approvalGr, commentGr);\n                }\n                response.setBody({\n                    isPosted: isPosted,\n                    postApprovalInfo: postApprovalInfo\n                });\n            }\n        }\n    }\n\n})(request, response);","sys_updated_on":"2023-07-27 08:44:36","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2ab867d1eb50fd507f419f67135228f7","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_ex_sp/approvals/updateState","sys_created_on":"2023-07-27 08:43:20","sys_name":"Update State","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/4249e63a28d54d61bb6fbf61fd86cccb","value":"4249e63a28d54d61bb6fbf61fd86cccb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/fa58ef11eb50fd507f419f671352282e","value":"fa58ef11eb50fd507f419f671352282e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4249e63a28d54d61bb6fbf61fd86cccb","value":"4249e63a28d54d61bb6fbf61fd86cccb"},"sys_update_name":"sys_ws_operation_2ab867d1eb50fd507f419f67135228f7","consumes_customized":"false","name":"Update State","produces":"application/json,application/xml,text/xml","relative_path":"/updateState","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"API to list all inprogress  installations","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var appManagerApiUtil = new AppManagerApiUtil(request, response);\n    var tracker = new ProgressTracker();\n    try {\n        var params = appManagerApiUtil.getRequestParams();\n        var result = tracker.getAllQueuedInstallations(params, appManagerApiUtil);\n        appManagerApiUtil.setResponseBody(result);\n    } catch (err) {\n        appManagerApiUtil.setError(err);\n    }\n})(request, response);","sys_updated_on":"2023-10-04 09:25:33","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/be08b89397b0d1104b593f0e6253afe1","value":"be08b89397b0d1104b593f0e6253afe1"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2b074a9d75f9a910f87758c54bbac94d","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_appclient/v1/appmanager/installations","sys_created_on":"2023-03-24 18:57:43","sys_name":"GetAllQueuedInstallations","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7ea1fc5f9770d1104b593f0e6253af99","value":"7ea1fc5f9770d1104b593f0e6253af99"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_update_name":"sys_ws_operation_2b074a9d75f9a910f87758c54bbac94d","consumes_customized":"false","name":"GetAllQueuedInstallations","produces":"application/json,application/xml,text/xml","relative_path":"/installations","produces_customized":"false","default_operation_uri":"/api/sn_appclient/appmanager/installations","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar util = new CustomMapTokenUtil();\n\tutil.getTokenHandler(process, request, response);\n})(request, response);","sys_updated_on":"2021-04-16 17:49:03","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2b46f6c0c3832010ce53bb62ef40dda9","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/sg_custom_map/token","sys_created_on":"2021-03-17 19:47:47","sys_name":"Get Custom Map Bundle URL with SAS token","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/238532c0c3832010ce53bb62ef40dd05","value":"238532c0c3832010ce53bb62ef40dd05"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"57","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6af46bff04312210559073c06a02f7e8","value":"6af46bff04312210559073c06a02f7e8"},"sys_update_name":"sys_ws_operation_2b46f6c0c3832010ce53bb62ef40dda9","consumes_customized":"false","name":"Get Custom Map Bundle URL with SAS token","produces":"application/json,application/xml,text/xml","relative_path":"/token","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\tvar flow = request.body.data;\n\t\tif (flow) {\n\t\t\tvar errors = [];\n\t\t\tvar data;\n\t\t\ttry {\n\t\t\t\tdata =  FlowDiagramBuilderApi.getFlowDiagramConfiguration(flow, errors);\n\t\t\t} catch (e) {\n\t\t\t\terrors.push(e);\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tdata: data,\n\t\t\t\tflow: flow,\n\t\t\t\terrors: errors\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\tdata: request.body.data\n\t\t\t};\n\t\t}\n\t})(request, response);","sys_updated_on":"2023-10-06 10:00:00","enforce_acl":"f186a581dd763010f87742fe561ce9f0","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2bc3dbc977d07110f92a7a8c8c5a9936","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_flow_diagram/flow_diagramming_api/getFlowDiagramConfiguration","sys_created_on":"2023-07-26 12:33:49","sys_name":"Get Flow Diagram Configuration","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/a4f5f4d7ca80209b2a32be23119ae821","value":"a4f5f4d7ca80209b2a32be23119ae821"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/1275e141dd763010f87742fe561ce935","value":"1275e141dd763010f87742fe561ce935"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/a4f5f4d7ca80209b2a32be23119ae821","value":"a4f5f4d7ca80209b2a32be23119ae821"},"sys_update_name":"sys_ws_operation_2bc3dbc977d07110f92a7a8c8c5a9936","consumes_customized":"false","name":"Get Flow Diagram Configuration","produces":"application/json,application/xml,text/xml","relative_path":"/getFlowDiagramConfiguration","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var appManagerApiUtil = new AppManagerApiUtil(request, response);\n    var handler = new AppManagerHandler();\n    try {\n        appManagerApiUtil.verifyTablesReadAccess([\"v_plugin\"]);\n        var requestParams = appManagerApiUtil.getRequestParams();\n        var result = handler.repairPlugin(requestParams);\n        appManagerApiUtil.setResponseBody(result);\n    } catch (err) {\n        appManagerApiUtil.setError(err);\n    }\n})(request, response);","sys_updated_on":"2025-03-14 01:16:26","enforce_acl":"3966a96cf53bc610f87752fa9ffbe0da","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/be08b89397b0d1104b593f0e6253afe1","value":"be08b89397b0d1104b593f0e6253afe1"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2c14107077902110c918256a5b5a9901","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_appclient/v1/appmanager/plugin/repair","sys_created_on":"2023-01-07 07:44:43","sys_name":"Repair Plugin","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7ea1fc5f9770d1104b593f0e6253af99","value":"7ea1fc5f9770d1104b593f0e6253af99"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_update_name":"sys_ws_operation_2c14107077902110c918256a5b5a9901","consumes_customized":"false","name":"Repair Plugin","produces":"application/json,application/xml,text/xml","relative_path":"/plugin/repair","produces_customized":"false","default_operation_uri":"/api/sn_appclient/appmanager/plugin/repair","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var table = request.pathParams.table;\n    var sysId = request.pathParams.sysid;\n\n    if (!table || !sysId)\n        return new sn_ws_err.BadRequestError(\"Requires table and sys_id\");\n\n    var result = {\n        \"code\": 404,\n        \"data\": \"Record not found\"\n    };\n    var grs = new GlideRecordSecure(table);\n    if (grs.get(sysId)) {\n        var params = request.body.nextEntry();\n        for (var k in params)\n            grs.setValue(k, params[k]);\n        if (Object.keys(params).length > 0)\n            grs.update();\n        if (grs.isActionAborted()) {\n            result.code = 403;\n            result.data = \"Could not update the record. The transaction was aborted.\";\n        } else {\n            result.code = 200;\n            result.data = ChangeCommon.toJS(grs, \"\", true);\n        }\n    }\n\n    response.setStatus(result.code);\n    response.setBody(result);\n\n})(request, response);","sys_updated_on":"2020-10-08 13:48:37","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2d3f6be9b75610103186f2b1de11a99c","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/now/change_request_calendar/{table}/{sysid}","sys_created_on":"2020-07-29 13:01:24","sys_name":"Update Change from Calendar","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/0472746e0b2332005775aabcb4673a25","value":"0472746e0b2332005775aabcb4673a25"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"19","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3eb7af7f04b12210559073c06a02f7fb","value":"3eb7af7f04b12210559073c06a02f7fb"},"sys_update_name":"sys_ws_operation_2d3f6be9b75610103186f2b1de11a99c","consumes_customized":"false","name":"Update Change from Calendar","produces":"application/json,application/xml,text/xml","relative_path":"/{table}/{sysid}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var blockId = request.body.data.blockId;\n\tvar aceUtil = new sn_ace.ACEAppBuilderUtilV2();\n\n    var result = {};\n    if (blockId) {\n        try {\n            result = aceUtil._getContentBlockMetaData(null, blockId , null, null, null, true);\n        } catch (e) {\n\t\t\tgs.error('Unable to fetch reusable block content tree: ' + e);\n\t\t}\n    }\n\n\tresponse.setBody(result);\n\n})(request, response);","sys_updated_on":"2023-04-13 13:25:10","enforce_acl":"4b2b70b277862110bc5db5b27a5a99d1","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2d5762433c271110f8775b50d68f0419","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/ace/fetchReusableBlockContentTree","sys_created_on":"2022-12-08 11:29:59","sys_name":"fetchReusableBlockContentTree","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/090c5ee353721110c733ddeeff7b1299","value":"090c5ee353721110c733ddeeff7b1299"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_update_name":"sys_ws_operation_2d5762433c271110f8775b50d68f0419","consumes_customized":"false","name":"fetchReusableBlockContentTree","produces":"application/json,application/xml,text/xml","relative_path":"/fetchReusableBlockContentTree","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    // Check if user has the \"Submit for Deployment\" delegated dev permission\n    var access = gs.hasRightsTo(\"api/sn_app_eng_studio.applications.deployment_request/POST\", {\n        scopeId: request.pathParams.application_sys_id\n    });\n    if (!access) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(403)\n            .setMessage(gs.getMessageLang(\"Access denied. Submit for Deployment delegated development permission required.\", \"en\"))\n            .setDetail(gs.getMessage(\"Access denied. Submit for Deployment delegated development permission required.\"));\n    }\n\n    var aesUtils = new AesUtils();\n\n    // get controller instanceUrl and creds\n\n    var pipelineConfigChecks = new sn_pipeline.PipelineConfigChecks();\n\n    var grController = pipelineConfigChecks.getControllerRecord();\n\n    if (!grController) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(500)\n            .setMessage(gs.getMessageLang(\"Controller environment has not been setup.\", \"en\"))\n            .setDetail(gs.getMessage(\"Controller environment has not been setup.\"));\n    }\n\n    var prodBaseInstanceUrl = grController.instance_url;\n    var prodCredRef = grController.instance_credential.getRefRecord();\n\n    var adminEmail = (new sn_pipeline.PipelineAdminEmailUtil()).getAdminEmail();\n\n    var inputs = {\n        url: prodBaseInstanceUrl,\n        application_sys_id: request.pathParams.application_sys_id,\n        admin_email: adminEmail,\n\t\tinstance_credential: prodCredRef\n    };\n    \n\tvar requestData = request.body.data;\n\t\n\trequestData.app_sys_id = inputs.application_sys_id;\n\n    // Add user information to request\n    var users = new GlideRecord(\"sys_user\");\n    var userAttributes;\n    var attributeValue;\n\n    if (users.get(gs.getUserID())) {\n        userAttributes = [\"email\", \"user_name\", \"first_name\", \"last_name\"];\n        userAttributes.forEach(function(attribute) {\n            if (!users[attribute].nil()) {\n                requestData[\"requestor_\" + attribute] = users.getValue(attribute);\n            }\n        });\n    }\n\n    // Get application files\n    var files = FileDataBuilder.build([request.pathParams.application_sys_id]);\n\n    // Create array of objects with object name and launch url\n    // [{ name : \"Workspace\", url: \"/api/now/workspace_administration/workspace_url/8735d7f2b7215010835d6f54ce11a934\" }]\n    var launchUrls = files.reduce(function(prev, current) {\n        if (current.name && current.launch_url) {\n            prev.push({\n                name: current.name,\n                url: current.launch_url\n            });\n        }\n        return prev;\n    }, []);\n\n    if (launchUrls.length) {\n        requestData.launch_urls = JSON.stringify(launchUrls);\n    }\n\t\n\tinputs.request_data = JSON.stringify(requestData);\n\n    // Run an action from a server-side script synchronously.\n\tvar deploymentRequestResponse = sn_fd.FlowAPI.executeSubflow('sn_app_eng_studio.deployment_request_subflow', inputs);\n\n    if (deploymentRequestResponse.has_error) {\n        var error = new sn_ws_err.ServiceError();\n        error.setStatus(deploymentRequestResponse.status_code);\n        error.setMessage(deploymentRequestResponse.error_message);\n\n        return response.setError(error);\n    }\n\n    var responseBody = JSON.parse(deploymentRequestResponse.body).result;\n    var key = responseBody.state;\n    var applicationStatusHelper = new ApplicationStatusHelper;\n\n    responseBody.status = applicationStatusHelper.appStatusMapping[key];\n\n    response.setBody(responseBody);\n    response.setStatus(200);\n\n})(request, response);","sys_updated_on":"2021-10-29 15:56:25","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/eff91f2c7700001001fb4311a8106131","value":"eff91f2c7700001001fb4311a8106131"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2db4048b53301010b846ddeeff7b1263","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_app_eng_studio/v1/applications/{application_sys_id}/deployment_request","sys_created_on":"2020-05-19 22:00:59","sys_name":"POST Deployment Request","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/4c41d3287700001001fb4311a81061ae","value":"4c41d3287700001001fb4311a81061ae"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"168","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_ws_operation_2db4048b53301010b846ddeeff7b1263","consumes_customized":"false","name":"POST Deployment Request","produces":"application/json,application/xml,text/xml","relative_path":"/{application_sys_id}/deployment_request","produces_customized":"false","default_operation_uri":"/api/sn_app_eng_studio/applications/{application_sys_id}/deployment_request","sys_policy":"read"},{"short_description":"","operation_script":"(function process(request, response) {\n\tvar manager = new SNC.EntryPointSelectorManager();\n\treturn manager.getAllEntryPointTypes(request.queryParams.excludeInclusion);\n})(request, response);","sys_updated_on":"2023-05-29 09:28:19","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2e0591c29f523200db315ecec32e7080","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/snc_entry_point_selector/getAllEntryPointTypes","sys_created_on":"2017-04-24 13:44:07","sys_name":"getAllEntryPointTypes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"ola.shaked","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/2ef399829f523200db315ecec32e7009","value":"2ef399829f523200db315ecec32e7009"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"21","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_2e0591c29f523200db315ecec32e7080","consumes_customized":"false","name":"getAllEntryPointTypes","produces":"application/json,application/xml,text/xml","relative_path":"/getAllEntryPointTypes","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar stack = gs.getSession().getStack('default');\n\tif (request.pathParams.action == 'get') {\n\t\treturn {url: stack.back()};\n\t}\n\telse if (request.pathParams.action == 'add') {\n\t\treturn {url: stack.push(request.body.data.url)};\n\t}\n\telse if (request.pathParams.action == 'top') {\n\t\treturn {url: stack.top()};\n\t}\n\n    // implement resource here\n\n})(request, response);","sys_updated_on":"2019-04-09 09:08:38","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2e2b02fb876833005087af1e36cb0bf3","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/glidestack/{action}","sys_created_on":"2019-04-08 13:04:49","sys_name":"GlideStack","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_2e2b02fb876833005087af1e36cb0bf3","consumes_customized":"false","name":"GlideStack","produces":"application/json,application/xml,text/xml","relative_path":"/glidestack/{action}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    // if pipeline table exists\n    var pipelineConfigChecks = new sn_pipeline.PipelineConfigChecks();\n\n    var grController = pipelineConfigChecks.getControllerRecord();\n    if (grController) {\n        try {\n            var subflowResult = sn_fd.FlowAPI.getRunner()\n                .subflow(\"sn_app_eng_studio.check_if_deployment_pipeline_is_active_on_instance\")\n                .inForeground()\n                .withInputs({\n                    url: grController.getValue('instance_url'),\n                    credentials: grController.instance_credential.getRefRecord()\n                })\n                .run();\n\n            var subflowOutputs = subflowResult.getOutputs();\n\n            if (!subflowOutputs[\"unhandled_error\"]) {\n                response.setStatus(200);\n                response.setBody({\n                    isActive: subflowOutputs[\"is_active\"]\n                });\n                return;\n            }\n        } catch (e) {\n            gs.debug(\"Error occurred when running check_if_deployment_pipeline_is_active_on_instance with error: \" + e.getMessage());\n        }\n    } else {\n        response.setStatus(200);\n        response.setBody({\n            isActive: true\n        });\n        return;\n    }\n\n    throw new sn_ws_err.ServiceError()\n        .setStatus(500)\n        .setMessage(gs.getMessageLang(\"Could not get information from controller environment\", \"en\"))\n        .setDetail(gs.getMessage(\"Could not get information from controller environment\"));\n\n})(request, response);","sys_updated_on":"2022-07-07 11:13:44","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/d3940d53c302201085c091294440dd1a","value":"d3940d53c302201085c091294440dd1a"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2e3c94b6c7d77010408bc8d6f2c26029","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_app_eng_studio/v1/plugin_activations/controller_deployment_pipeline_plugin_active","sys_created_on":"2021-10-23 05:10:25","sys_name":"Controller Deployment Pipeline Active","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/f9f715260f7f1010f23ff722ff767e29","value":"f9f715260f7f1010f23ff722ff767e29"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_ws_operation_2e3c94b6c7d77010408bc8d6f2c26029","consumes_customized":"false","name":"Controller Deployment Pipeline Active","produces":"application/json,application/xml,text/xml","relative_path":"/controller_deployment_pipeline_plugin_active","produces_customized":"false","default_operation_uri":"/api/sn_app_eng_studio/plugin_activations/controller_deployment_pipeline_plugin_active","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var solution_id = decodeURI(request.pathParams.solution_name);\n\tif (solution_id) {\n\t\treturn new MLTriggerAutoTrain().getSolutionRecords(solution_id);\n\t} else {\n\t\treturn sn_ws_err.BadRequestError(\"Solution id not present\");\n\t}\n\n})(request, response);","sys_updated_on":"2019-05-02 04:48:20","enforce_acl":"5a3bd3757351230080b29ca9faf6a7f2","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2e55527153a03300ccffddeeff7b12ca","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/agent_intelligence/solution/{solution_name}/solution_getsolutionrecords","sys_created_on":"2019-04-02 08:41:09","sys_name":"getRecordsForSolutionDefinition","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3d4fe0bf0b323200c7ecc71437673a4e","value":"3d4fe0bf0b323200c7ecc71437673a4e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_ws_operation_2e55527153a03300ccffddeeff7b12ca","consumes_customized":"false","name":"getRecordsForSolutionDefinition","produces":"application/json,application/xml,text/xml","relative_path":"/solution/{solution_name}/solution_getsolutionrecords","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var tables = NLUWorkbenchConstants.tables;\n\n    var data = request.pathParams;\n    var query = request.queryParams;\n\n    try {\n        if (data.executionId) {\n            var executionGr = new GlideRecord(tables.NLU_BATCH_TEST_RUN_EXECUTION);\n            if (!executionGr.get(data.executionId))\n                throw new Error(gs.getMessage('Execution does not exists!'));\n\n            var testName = executionGr.test_run_definition.test_set.name;\n            var testVersion = executionGr.sys_created_on.getDisplayValue();\n            var fileName = (testName && testVersion) ? testName + '_' + testVersion + '.csv' : 'batch_test_results_' + data.executionId + '.csv';\n\n            response.setContentType('application/csv');\n            response.setStatus(200);\n            response.setHeader('Content-Disposition', 'attachment;filename=\"' + fileName + '\"');\n            var writer = response.getStreamWriter();\n\n            var batchTestExporter = new sn_nlu_workbench.NLUBatchTestExportUtil();\n            batchTestExporter.writeToStream(data.executionId, query.filters, writer, fileName);\n\n        } else {\n            return new sn_ws_err.BadRequestError('Invalid input data provided');\n        }\n    } catch (e) {\n        response.setStatus(400);\n        var message = e.message;\n        return {\n            status: 'failure',\n            message: e.message\n        };\n    }\n\n})(request, response);","sys_updated_on":"2021-06-21 13:59:12","enforce_acl":"0f43facbeb8220105de665fcc8522895","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b51a6d700710201028ef0a701ad300ab","value":"b51a6d700710201028ef0a701ad300ab"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2e94e3490724301028ef0a701ad30072","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_nlu_workbench/v1/nlu_advanced/exportBatchTest/{executionId}","sys_created_on":"2021-06-03 15:17:02","sys_name":"exportBatchTest","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea82488673402010e6b632e954f6a7ca","value":"ea82488673402010e6b632e954f6a7ca"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"42","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_update_name":"sys_ws_operation_2e94e3490724301028ef0a701ad30072","consumes_customized":"false","name":"exportBatchTest","produces":"application/json,application/xml,text/xml","relative_path":"/exportBatchTest/{executionId}","produces_customized":"false","default_operation_uri":"/api/sn_nlu_workbench/nlu_advanced/exportBatchTest/{executionId}","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var result = {};\n\tresponse.setContentType('application/json');\n\n\ttry {\n\t\tvar service_sys_id = request.pathParams.service_sys_id;\n\t\tvar error = {'message':'Unknown error'};\n\t\tvar payload = request.body.data;\n\t\tresponse.setStatus(200);\n\t\tresponse.setBody(result);\n\t\t\n\t\tvar helper = new CSDMAppServiceHelper();\n\t\t\n\t\tif(payload.hasOwnProperty('population_method')) {\n\t\t\tvar population = [payload.population_method];\n\t\t\tif(!GlidePluginManager.isActive('com.snc.service-mapping') && (population[0].type === 'tag_list' || population[0].type === 'tag_based_service_family' || population[0].type === 'discovery') ) {\n\t\t\t\terror.message = \"Provided population method need 'Service Mapping' plugin to be installed\";\n\t\t\t\tresponse.setError(throwError(500, error));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar isValid = helper.validateBuildMethods(service_sys_id, population);\n\t\t\tif(!isValid) {\n\t\t\t\terror.message = 'Provided population method is not valid for given service';\n\t\t\t\tresponse.setError(throwError(400, error));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tif(population[0].type === 'discovery') {\n\t\t\t\thelper.createApplicationService({\"basic_details\":{\"service_id\":service_sys_id}, \"build_methods\": population});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\thelper.updateBuildMethod(service_sys_id, population);\n\t\t}\n\t\t\n\t} catch(err) {\n\t\tresponse.setError(throwError(500, err.getMessage()));\n\t\treturn;\n\t}\n\t\n\tfunction throwError(status, errMsg) {\n\t\tvar genericError = new sn_ws_err.ServiceError();\n\t\tgenericError.setStatus(status);\n\t\tgenericError.setMessage(\"Problem processing request\");\n\t\tgenericError.setDetail(errMsg.message);\n\t\treturn genericError;\n\t}\n\n})(request, response);","sys_updated_on":"2020-05-19 05:29:31","enforce_acl":"44eb6c5573f7001061b79c0c6df6a71c","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2eba96eb73e3001061b79c0c6df6a766","http_method":"PUT","sys_updated_by":"admin","operation_uri":"/api/now/cmdb/csdm/app_service/{service_sys_id}/populate_service","sys_created_on":"2020-03-23 02:34:05","sys_name":"Populate Service","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/565abf20c39413003e76741e81d3ae48","value":"565abf20c39413003e76741e81d3ae48"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"12","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2f8d67ff04352210559073c06a02f74f","value":"2f8d67ff04352210559073c06a02f74f"},"sys_update_name":"sys_ws_operation_2eba96eb73e3001061b79c0c6df6a766","consumes_customized":"false","name":"Populate Service","produces":"application/json,application/xml,text/xml","relative_path":"/csdm/app_service/{service_sys_id}/populate_service","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar sysId = request.pathParams.sys_id || null;\n\tif (!sysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Change Model id not provided\");\n\n\tvar changeModelsGr = new GlideRecordSecure(\"chg_model\");\n\tif (!changeModelsGr.get(sysId))\n\t\treturn new sn_ws_err.NotFoundError(\"Change Model not found\");\n\n\treturn global.ChangeCommon.toJS(changeModelsGr);\n})(request, response);","sys_updated_on":"2020-09-28 10:44:12","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2ebb519553231010930cddeeff7b12b1","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/model/{sys_id}","sys_created_on":"2020-09-28 10:42:32","sys_name":"Model","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_2ebb519553231010930cddeeff7b12b1","consumes_customized":"false","name":"Model","produces":"application/json,application/xml,text/xml","relative_path":"/model/{sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/model/{sys_id}","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    const uxaPageFilterProcessor = new sn_uxa_commons.UXAPageFilterProcessor();\n\n    try {\n        // get the params from the request URL and execute the function.\n        const {\n            channel,\n            appSysId,\n            componentId,\n            dynamicTimeRange\n        } = request.queryParams;\n        const record = uxaPageFilterProcessor.getFiltersForUser(channel[0], appSysId[0], componentId[0], dynamicTimeRange?.[0]);\n        response.setStatus(200);\n        response.setBody(record);\n    } catch (ex) {\n        // incase of any failures on getting the filters, just return the default date filter.\n        gs.error('Error getting page filters reverting to default date filter' + ex);\n        gs.error(ex.stack);\n        response.setStatus(200);\n        response.setBody(uxaPageFilterProcessor.getDefaultDateFilter());\n    }\n})(request, response);","sys_updated_on":"2024-12-05 13:48:34","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/2eec4a44ffe7c21024f4ffffffffff03","value":"2eec4a44ffe7c21024f4ffffffffff03"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2ed93450ff62021024f4c2da03cb1437","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uxa_commons/v1/uxa_filters/fetch","sys_created_on":"2024-05-29 09:57:57","sys_name":"fetch","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e4e0ec1f30eed2c36cf86e04ac482a9a","value":"e4e0ec1f30eed2c36cf86e04ac482a9a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/2f79bc10ff62021024f4c2da03cb1404","value":"2f79bc10ff62021024f4c2da03cb1404"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"36","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e4e0ec1f30eed2c36cf86e04ac482a9a","value":"e4e0ec1f30eed2c36cf86e04ac482a9a"},"sys_update_name":"sys_ws_operation_2ed93450ff62021024f4c2da03cb1437","consumes_customized":"false","name":"fetch","produces":"application/json,application/xml,text/xml","relative_path":"/fetch","produces_customized":"false","default_operation_uri":"/api/sn_uxa_commons/uxa_filters/fetch","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var tables_output = [];\n    var rotatedTables = getRotatedTables();\n    var queryParams = request.queryParams;\n\n    if (!queryParams.sysparm_transaction_scope) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(500)\n            .setMessage('sysparm_transaction_scope query parameter is required.');\n    }\n\n    function addAdditionalQueries(gr) {       \n        if (queryParams.only_in_scope && queryParams.only_in_scope[0] === 'true')\n            gr.addQuery('sys_scope', queryParams.sysparm_transaction_scope);\n        if (queryParams.only_out_of_scope && queryParams.only_out_of_scope[0] === 'true')\n            gr.addQuery('sys_scope', '!=', queryParams.sysparm_transaction_scope);\n        if (queryParams.order_by && typeof queryParams.order_by[0] === 'string')\n            gr.orderBy(queryParams.order_by[0]);\n        if (queryParams.limit && typeof queryParams.limit[0] === 'string')\n            gr.setLimit(queryParams.limit[0]);\n        if (queryParams.search_query && typeof queryParams.search_query[0] === 'string') {\n            gr.addEncodedQuery(queryParams.search_query[0]);\n        }\n    }\n\n    function isExcludedRotation(name) {\n        return rotatedTables.indexOf(name) > -1;\n    }\n\n    function getRotatedTables() {\n        var rotatedList = [];\n        var rotations = [];\n        var rotatedTable = new GlideRecord(\"sys_table_rotation\");\n        rotatedTable.query();\n\n        while (rotatedTable.next())\n            rotatedList.push(rotatedTable.getValue(\"name\"));\n\n        var rotatedExtension = new GlideRecord(\"sys_table_rotation_schedule\");\n        rotatedExtension.query();\n\n        while (rotatedExtension.next()) {\n            if (rotatedList.indexOf(rotatedExtension.getValue(\"table_name\")) === -1)\n                rotations.push(rotatedExtension.getValue(\"table_name\"));\n        }\n        return rotations;\n    }\n\n    function startsWith(str, word) {\n        return str.lastIndexOf(word, 0) === 0;\n    }\n\n    function shouldExcludeTable(tableName) {\n        if (isExcludedRotation(tableName))\n            return true;\n\n        if (\n            startsWith(tableName, 'v_') ||\n            startsWith(tableName, 'sysx_') ||\n            startsWith(tableName, 'var__') ||\n            startsWith(tableName, 'ts_')\n\n        )\n            return true;\n\n        return false;\n    }\n\n    var tablesGR = new GlideRecord('sys_db_object');\n    addAdditionalQueries(tablesGR);\n    tablesGR.query();\n\n    while (tablesGR.next()) {\n        var tableName = tablesGR.getValue('name');\n\n        if (shouldExcludeTable(tableName))\n            continue;\n\n        var table = {\n            name: tablesGR.getValue('name'),\n            sys_id: tablesGR.getUniqueValue(),\n            label: tablesGR.getDisplayValue('label'),\n        };\n        tables_output.push(table);\n    }\n\n    response.setBody(tables_output);\n    response.setStatus(200);\n\n})(request, response);","sys_updated_on":"2021-11-09 05:42:05","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2ee987b7c3633010d4437f9ec840dd5e","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_decision_table/generic/table_names","sys_created_on":"2021-11-08 05:31:48","sys_name":"GET Table Names","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/13aa96a16bcefa78b16cc99ed9e4f1f4","value":"13aa96a16bcefa78b16cc99ed9e4f1f4"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/d5498f77c3633010d4437f9ec840dd67","value":"d5498f77c3633010d4437f9ec840dd67"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/13aa96a16bcefa78b16cc99ed9e4f1f4","value":"13aa96a16bcefa78b16cc99ed9e4f1f4"},"sys_update_name":"sys_ws_operation_2ee987b7c3633010d4437f9ec840dd5e","consumes_customized":"false","name":"GET Table Names","produces":"application/json,application/xml,text/xml","relative_path":"/table_names","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\n\tvar errorHandler = new ErrorHandler();\n\tvar tableName = request.pathParams.tableName;\n\tvar sysId  = request.pathParams.sysId;\n\tvar parentNode = request.queryParams.parentNode;\n\n  try {\n\t\tcopyPreview = new ConfigRetrievalService(true).retrieveConfig(tableName, sysId, [], parentNode);\n\t\t\n\t\tif (!copyPreview || copyPreview.isEmpty()) {\n\t\t\terrorHandler.throwNotFoundError('Could not process copy for ' + tableName + ' ' + sysId);\n\t\t}\n\t} catch (error) {\n\t\terrorHandler.throwSnWsError(error);\n\t}\n\t\n\treturn copyPreview;\n\n})(request, response);","sys_updated_on":"2022-03-14 20:10:07","enforce_acl":"4bbe81b4c703201066492f3bf4c260e6","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2ef9cfa477120110e665d6b87f5a99ad","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_mab_api/mab_api/copyPreview/{tableName}/{sysId}","sys_created_on":"2022-03-14 20:03:58","sys_name":"Get Copy Preview","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3512bd93c7c12010100f2f3bf4c26049","value":"3512bd93c7c12010100f2f3bf4c26049"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_update_name":"sys_ws_operation_2ef9cfa477120110e665d6b87f5a99ad","consumes_customized":"false","name":"Get Copy Preview","produces":"application/json,application/xml,text/xml","relative_path":"/copyPreview/{tableName}/{sysId}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"API to list all inprogress  installations","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var appManagerApiUtil = new AppManagerApiUtil(request, response);\n    var tracker = new ProgressTracker();\n    try {\n        trackerId = request.pathParams.trackerId;\n        var result = tracker.getQueuedInstallationByTrackerId(trackerId);\n        appManagerApiUtil.setResponseBody(result);\n    } catch (err) {\n        appManagerApiUtil.setError(err);\n    }\n})(request, response);","sys_updated_on":"2023-10-04 09:25:33","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/be08b89397b0d1104b593f0e6253afe1","value":"be08b89397b0d1104b593f0e6253afe1"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2f2b2be7a9c66910f877d897bf2f1ac6","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_appclient/v1/appmanager/installations/{trackerId}","sys_created_on":"2023-04-13 12:17:12","sys_name":"GetQueuedInstallationByTrackerId","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7ea1fc5f9770d1104b593f0e6253af99","value":"7ea1fc5f9770d1104b593f0e6253af99"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_update_name":"sys_ws_operation_2f2b2be7a9c66910f877d897bf2f1ac6","consumes_customized":"false","name":"GetQueuedInstallationByTrackerId","produces":"application/json,application/xml,text/xml","relative_path":"/installations/{trackerId}","produces_customized":"false","default_operation_uri":"/api/sn_appclient/appmanager/installations/{trackerId}","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar reqBody = request.body.data;\n    var offset = JSUtil.nil(request.queryParams.offset) ? \"\" : request.queryParams.offset;\n\tvar textSearch = JSUtil.nil(reqBody.text) ? \"\" : reqBody.text;\n\tvar textSearchType = reqBody.textSearchType;\n\tvar excludeGroupSysIds = JSUtil.nil(reqBody.ignoreGroupSysIds) ? \"\" : reqBody.ignoreGroupSysIds;\n\tvar dateTime = JSUtil.nil(request.queryParams.date_time) ? new GlideDateTime().getValue() : request.queryParams.date_time;\n\tvar groupsLimit;\n\tif (!JSUtil.nil(request.queryParams.group_limit));\n\t\tgroupsLimit = parseInt(request.queryParams.group_limit);\n\tvar onCallRotation = new OnCallRotation();\n\tvar onCallGroups = onCallRotation.onCallGroups(dateTime, offset, groupsLimit, 'search', textSearch, excludeGroupSysIds, textSearchType);\n\tif (onCallRotation.log.atLevel(GSLog.DEBUG)) {\n\t\tonCallRotation.timer.timerName += \" REST-POST /searchoncallgroups\";\n\t\tonCallRotation.log.debug(onCallRotation.timer.result());\n\t}\n\treturn onCallGroups;\n\n})(request, response);","sys_updated_on":"2019-03-20 08:32:21","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2f3ad30e5fd353006ae6a184ff46669c","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/searchoncallgroups","sys_created_on":"2018-07-16 09:21:41","sys_name":"searchoncallgroups","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_2f3ad30e5fd353006ae6a184ff46669c","consumes_customized":"false","name":"searchoncallgroups","produces":"application/json,application/xml,text/xml","relative_path":"/searchoncallgroups","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar requestBody = request.body.nextEntry();\n\tvar style = requestBody.style;\n\tvar sysId = style.__def_id ? style.__def_id : \"\";\n\tif (!sysId)\n\t\treturn new sn_ws_err.BadRequestError(\"chg_soc_definition sys_id is required\");\n\n\tvar fieldName = style.name ? style.name.value : \"\";\n\tvar eventColor = style.event_color ? style.event_color.value : \"\";\n\tif (!fieldName || !eventColor)\n\t\treturn new sn_ws_err.BadRequestError(\"Invalid field name or color\");\n\n\tvar gr = new GlideRecordSecure(\"chg_soc_definition\");\n\tif (!gr.get(sysId))\n\t\treturn new sn_ws_err.BadRequestError(\"Style rule: \" + sysId + \" not found in chg_soc_definition\");\n\tgr.setValue(fieldName, eventColor);\n\treturn gr.update();\n})(request, response);","sys_updated_on":"2018-02-13 22:40:35","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2f85da98c3101300b6dcdfdc64d3aeb2","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_chg_soc/soc/updatechgdefstyle","sys_created_on":"2018-02-11 14:13:16","sys_name":"updateChgDefStyle","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3115d45f67020300b410afa00585ef87","value":"3115d45f67020300b410afa00585ef87"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_update_name":"sys_ws_operation_2f85da98c3101300b6dcdfdc64d3aeb2","consumes_customized":"false","name":"updateChgDefStyle","produces":"application/json,application/xml,text/xml","relative_path":"/updatechgdefstyle","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // implement resource here\n\tvar queryParams = request.queryParams;\n\n\tvar minCount = getParam(queryParams, \"minCount\");\n\tvar maxCount = getParam(queryParams, \"maxCount\");\n\tvar offset = getParam(queryParams, \"offset\");\n\tvar numRowsPerPage = getParam(queryParams, \"numRows\");\n\t\n\tvar userUsageDetails = SNC.AppEngineLicensingUsage.getUsageDetailsPerUsers(minCount, maxCount, offset, numRowsPerPage);\n\tvar records = JSON.parse(userUsageDetails);\n\t\n\tif (records.length == 0)\n\t\tresponse.setStatus(204);\n\telse {\n\t\tresponse.setStatus(200);\n\t\tresponse.setBody(records);\n\t}\n\t\n\tfunction getParam(rParams, key) {\n\t\tif (key in rParams)\n\t\t\treturn rParams[key];\n\t\treturn \"\";\n\t}\n\n\n})(request, response);","sys_updated_on":"2020-03-23 21:19:11","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"2fd5ff240b013300d35147b193673a41","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/uaappenginelicensingservice/getLicensingUserStats","sys_created_on":"2019-04-23 15:03:23","sys_name":"getLicensingUserStats","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ad1762623bb033007fef460044efc468","value":"ad1762623bb033007fef460044efc468"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8bc96fbb04f12210559073c06a02f755","value":"8bc96fbb04f12210559073c06a02f755"},"sys_update_name":"sys_ws_operation_2fd5ff240b013300d35147b193673a41","consumes_customized":"false","name":"getLicensingUserStats","produces":"application/json,application/xml,text/xml","relative_path":"/getLicensingUserStats","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var appManagerApiUtil = new AppManagerApiUtil(request, response);\n    try {\n        var args = appManagerApiUtil.getRequestParams();\n        var sourceAppId = args.queryParams['source_app_id'] || \"\";\n        var version = args.queryParams['version'] || \"\";\n        var manifest = new ManifestService().getManifestForAppVersionSysId(sourceAppId, version);\n        appManagerApiUtil.setResponseBody(manifest);\n    } catch (err) {\n        appManagerApiUtil.setError(err);\n    }\n})(request, response);","sys_updated_on":"2023-10-04 09:25:33","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/be08b89397b0d1104b593f0e6253afe1","value":"be08b89397b0d1104b593f0e6253afe1"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"301b857b530711102c05ddeeff7b12b8","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_appclient/v1/appmanager/manifest","sys_created_on":"2022-11-15 16:08:49","sys_name":"GetAppManifest","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7ea1fc5f9770d1104b593f0e6253af99","value":"7ea1fc5f9770d1104b593f0e6253af99"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_update_name":"sys_ws_operation_301b857b530711102c05ddeeff7b12b8","consumes_customized":"false","name":"GetAppManifest","produces":"application/json,application/xml,text/xml","relative_path":"/manifest","produces_customized":"false","default_operation_uri":"/api/sn_appclient/appmanager/manifest","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // implement resource here\n    var payload = request.body.data;\n    var result;\n    if (payload.controlCardData) {\n        result = new ACEAppBuilderUtilV2().setControl(payload.controlCardData);\n    }\n\n    response.setBody({result: result});\n\n})(request, response);","sys_updated_on":"2023-06-14 18:58:59","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"307e2323531361104410ddeeff7b12aa","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/ace/setControl","sys_created_on":"2023-06-14 17:43:18","sys_name":"Set Control","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/090c5ee353721110c733ddeeff7b1299","value":"090c5ee353721110c733ddeeff7b1299"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_update_name":"sys_ws_operation_307e2323531361104410ddeeff7b12aa","consumes_customized":"false","name":"Set Control","produces":"application/json,application/xml,text/xml","relative_path":"/setControl","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Retrives the list of catalogs you have access to","sys_updated_on":"2016-01-28 18:21:37","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"30a5ce83c3a302006f333b0ac3d3ae2c","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/catalogs","sys_created_on":"2015-11-10 10:35:05","sys_name":"List of Catalogs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_30a5ce83c3a302006f333b0ac3d3ae2c","consumes_customized":"false","name":"List of Catalogs","produces":"application/json,application/xml,text/xml","relative_path":"/catalogs","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/catalogs","sys_policy":"protected"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var result = {\n        companyKey: '',\n        companyName: ''\n    };\n\n    try {\n        var vendorInfo = new sn_appauthor.ScopedAppVendorInfoObtainer().obtainFromAppRepo();\n\n        result.companyKey = vendorInfo.key || '';\n        result.companyName = vendorInfo.name || '';\n    } catch (e) {\n        var message = gs.getMessage('Unable to get vendor information. Failed with error - {0}', e.message);\n        gs.error(message);\n        \n\t\tthrow new sn_ws_err.ServiceError()\n            .setStatus(400)\n            .setMessage(message);\n    }\n\n    response.setBody(result);\n    response.setStatus(200);\n\n\n})(request, response);","sys_updated_on":"2023-08-03 09:41:36","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/f7ec1279c3202010a9f5e548fa40dd4d","value":"f7ec1279c3202010a9f5e548fa40dd4d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"30d25f72735d30107419c907fbf6a7c0","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_app_eng_studio/v1/generic/vendor_info","sys_created_on":"2021-07-16 07:29:06","sys_name":"Get Vendor Information","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/37cc9e39c3202010a9f5e548fa40ddef","value":"37cc9e39c3202010a9f5e548fa40ddef"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_ws_operation_30d25f72735d30107419c907fbf6a7c0","consumes_customized":"false","name":"Get Vendor Information","produces":"application/json,application/xml,text/xml","relative_path":"/vendor_info","produces_customized":"false","default_operation_uri":"/api/sn_app_eng_studio/generic/vendor_info","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar payloads = request.body.data;\n\n\tvar ServiceGenerator = new CreateOrUpdateITService();\n\ttry{\n\t\tServiceGenerator.convertManualToDynamicService(payloads.serviceId, payloads.levels);\n\t\tresponse.setContentType('application/json');\n\t\tresponse.setStatus(200);\n\t} catch(err){\n\t\tvar exp = new sn_ws_err.BadRequestError(err);\n\t\tresponse.setError(exp);\n\t}\n})(request, response);","sys_updated_on":"2024-02-26 11:28:06","enforce_acl":"a36f6b459f73320089c25ecec32e705e","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"30e42665c3a210100bb24dafea40ddcb","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/cmdb/app_service/convertToDynamicService","sys_created_on":"2020-08-10 17:39:35","sys_name":"ConvertToDynamicService","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/565abf20c39413003e76741e81d3ae48","value":"565abf20c39413003e76741e81d3ae48"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"12","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_30e42665c3a210100bb24dafea40ddcb","consumes_customized":"false","name":"ConvertToDynamicService","produces":"application/json,application/xml,text/xml","relative_path":"/app_service/convertToDynamicService","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var data = {};\n    var input = request.body.data;\n\n    if (!input.table)\n        return new sn_ws_err.BadRequestError('Missing table id');\n\n    if (!input.policyTypeId)\n        return new sn_ws_err.BadRequestError('Missing policy type id');\n\n    if (gs.getProperty('sn_cmdb_ws.glide.cmdb.data.manager.ignore.record.counts', \"false\") != \"false\") {\n        data.recordCount = \"\";\n    } else {\n        ga = new GlideAggregate(input.table);\n        ga.addEncodedQuery(input.list_filter, true);\n        ga.addAggregate('COUNT');\n        ga.query();\n        if (ga.next()) {\n            data.recordCount = ga.getAggregate('COUNT');\n        }\n\n    }\n\n    ga = new GlideAggregate('cmdb_policy_ci_exclusion_list');\n    ga.addAggregate('COUNT');\n    ga.addQuery('policy_type', input.policyTypeId);\n    ga.addEncodedQuery(input.excl_list_filter, true);\n    ga.query();\n    if (ga.next()) {\n        data.excludedCount = ga.getAggregate('COUNT');\n    }\n\n    response.setBody(data);\n    response.setStatus(200);\n\t\n})(request, response);","sys_updated_on":"2024-07-02 09:00:21","enforce_acl":"39a22ab60735011017b703767cd30036","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"314c18da43720210ce0a8ef0dab8f252","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_cmdb_ws/cmdb_workspace_api_scoped/policy_aggregate_count","sys_created_on":"2024-06-16 23:12:33","sys_name":"Get Policy Aggregate Count","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3ff417b78f3f2010960c53ac37bdeefb","value":"3ff417b78f3f2010960c53ac37bdeefb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"14","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_update_name":"sys_ws_operation_314c18da43720210ce0a8ef0dab8f252","consumes_customized":"false","name":"Get Policy Aggregate Count","produces":"application/json,application/xml,text/xml","relative_path":"/policy_aggregate_count","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tfunction getData(col, dateField) {\n        var data = [];\n        var agg = new GlideAggregate(table);\n        agg.addAggregate('count', col);\n        agg.addEncodedQuery(dateField + 'ONThis%20month@javascript:gs.beginningOfThisMonth()@javascript:gs.endOfThisMonth()');\n        agg.orderByAggregate('count', col);\n        agg.query();\n\n        while (agg.next()) {\n            var name = agg[col].toString();\n            var count = parseInt(agg.getAggregate('count', col));\n            data.push({ 'name': name, 'count': count });\n        }\n        \n        return data;\n    }\n    \n    var outputData = {\n        executions: [],\n        states: []\n    };\n    \n    var table = request.queryParams.table.toString();\n    var canRead = (function () {\n        var gr = new GlideRecord(table);\n        return gr.canRead();\n    })();\n    \n    if (!canRead) {\n        return outputData;\n    }\n    \n    outputData.states = getData('state', 'sys_updated_on');\n    outputData.executions = getData('name', 'sys_created_on');\n    \n    return outputData;\n    \n})(request, response);","sys_updated_on":"2023-09-29 10:29:17","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"31d3d6d5432931101188f114cfb8f2cf","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/sn_app_wfstudio/getchartdata","sys_created_on":"2023-09-27 05:54:55","sys_name":"Get Operations Charts Data","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/ae5cba824353e110f8abe279fcb8f258","value":"ae5cba824353e110f8abe279fcb8f258"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/47c15a95432931101188f114cfb8f2cd","value":"47c15a95432931101188f114cfb8f2cd"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"20","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ae5cba824353e110f8abe279fcb8f258","value":"ae5cba824353e110f8abe279fcb8f258"},"sys_update_name":"sys_ws_operation_31d3d6d5432931101188f114cfb8f2cf","consumes_customized":"false","name":"Get Operations Charts Data","produces":"application/json,application/xml,text/xml","relative_path":"/getchartdata","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var configTypes = new MobileConfigService().getTypes();\n\n    return configTypes;\n\n})(request, response);","sys_updated_on":"2023-11-17 19:24:25","enforce_acl":"4bbe81b4c703201066492f3bf4c260e6","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"321323fd536a35104078ddeeff7b12b2","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_mab_api/mab_api/getConfigTypes","sys_created_on":"2023-11-17 17:55:07","sys_name":"Get Mobile Config Types","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3512bd93c7c12010100f2f3bf4c26049","value":"3512bd93c7c12010100f2f3bf4c26049"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_update_name":"sys_ws_operation_321323fd536a35104078ddeeff7b12b2","consumes_customized":"false","name":"Get Mobile Config Types","produces":"application/json,application/xml,text/xml","relative_path":"/getConfigTypes","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\r\n    var scenario = request.queryParams.scenario || \"default\";\r\n\tgs.info(\"Scenario param: \" + scenario);\r\n    var result;\r\n\r\n    if (scenario.includes(\"default\")) {\r\n\t\tresponse.setStatus(204);\r\n        result = {\r\n            status: \"ok\",\r\n\t\t\tsc: scenario,\r\n            message: \"This is a success response\"\r\n        };\r\n    } else if (scenario.includes(\"error\")) {\r\n        response.setStatus(400);\r\n        result = {\r\n            status: \"error\",\r\n\t\t\tsc: scenario,\r\n            message: \"This is an error response\"\r\n        };\r\n    } else if (scenario.includes(\"teapot\")) {\r\n        response.setStatus(418);\r\n        result = {\r\n            status: \"error\",\r\n\t\t\tsc: scenario,\r\n            message: \"This is an error response\"\r\n        };\r\n    } else {\r\n\t\tresponse.setStatus(500);\r\n        result = {\r\n            status: \"internal server error\",\r\n\t\t\tsc: scenario,\r\n            message: \"Unknown scenario\"\r\n        };\r\n    }\r\n\r\n    response.setBody(result);\r\n})(request, response);\r\n","sys_updated_on":"2025-07-14 12:05:15","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"321abd6cc3fee610ed4bd50d050131da","http_method":"DELETE","sys_updated_by":"admin","operation_uri":"/api/1702979/my_function/fun_run_delete","sys_created_on":"2025-07-14 11:56:35","sys_name":"Run Fun","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b746ad24c3bee610ed4bd50d0501316d","value":"b746ad24c3bee610ed4bd50d0501316d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/global","value":"global"},"sys_update_name":"sys_ws_operation_321abd6cc3fee610ed4bd50d050131da","consumes_customized":"false","name":"Run Fun","produces":"application/json,application/xml,text/xml","relative_path":"/fun_run_delete","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n\tvar meetingId = request.pathParams.meetingId;\n\tif (!meetingId) \n\t\treturn new sn_ws_err.BadRequestError(\"CAB Meeting id not provided\");\n\t\n\tvar runtimeState = CABRuntimeState.get(meetingId);\n\truntimeState.endMeeting();\n\tresponse.setBody(runtimeState.toJS());\t\n})(request, response);","sys_updated_on":"2017-01-26 12:53:26","enforce_acl":"cbe72f65c32032001488b731c1d3ae92","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"3249fe07eb30220034d1eeea1206fe9f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_change_cab/cab/runtime_state/end/{meetingId}","sys_created_on":"2016-07-28 13:51:09","sys_name":"End Meeting","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/cf65d305eb10220034d1eeea1206fe55","value":"cf65d305eb10220034d1eeea1206fe55"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_update_name":"sys_ws_operation_3249fe07eb30220034d1eeea1206fe9f","consumes_customized":"false","name":"End Meeting","produces":"application/json,application/xml,text/xml","relative_path":"/runtime_state/end/{meetingId}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar changeSysId = request.pathParams.change_sys_id || null;\n\tif (!changeSysId)\n\t\treturn new sn_ws_err.BadRequestError('Change Request id not provided');\n\n\treturn new SOWChangeUtils().calculateRisk(changeSysId, request.pathParams.dryRun || true);\n\n})(request, response);","sys_updated_on":"2023-11-24 13:12:58","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a912b23453a6111088d8ddeeff7b1240","value":"a912b23453a6111088d8ddeeff7b1240"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"3271f6f053a6111088d8ddeeff7b1216","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/sn_sow_chg/v1/sow_change_utils/calculateRisk/{change_sys_id}/{dryRun}","sys_created_on":"2022-10-12 19:22:58","sys_name":"calculateRisk","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3d876fa953615110532cddeeff7b12bb","value":"3d876fa953615110532cddeeff7b12bb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_update_name":"sys_ws_operation_3271f6f053a6111088d8ddeeff7b1216","consumes_customized":"false","name":"calculateRisk","produces":"application/json,application/xml,text/xml","relative_path":"/calculateRisk/{change_sys_id}/{dryRun}","produces_customized":"false","default_operation_uri":"/api/sn_sow_chg/sow_change_utils/calculateRisk/{change_sys_id}/{dryRun}","sys_policy":""},{"short_description":"Deletes a screen record","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    const apiHelper = new APIHelper(request, response);\n    apiHelper.execute(function() {\n        const noDomain = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.NO_DOMAIN);\n\t\tconst sysId = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.SYS_ID);\n\t\tapiHelper.getResponseGlideOperation(new Screen(noDomain).deleteRecord({sysId: sysId}), BuilderToolkitConstants.ERRORS.FAILED_TO_DELETE);\n    });\n\n})(request, response);","sys_updated_on":"2023-05-26 18:26:23","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"32aa1ca839fb9110f877f50b0c4d7aec","http_method":"DELETE","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/screen","sys_created_on":"2022-12-12 17:03:10","sys_name":"Screen","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_32aa1ca839fb9110f877f50b0c4d7aec","consumes_customized":"false","name":"Screen","produces":"application/json,application/xml,text/xml","relative_path":"/screen","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    response.setContentType('application/json');\n\tvar result = [];\n\tvar gr = new GlideRecord(\"sys_choice\");\n\tgr.addQuery(\"name\", \"cmdb_ci\");\n\tgr.addQuery(\"element\", \"environment\");\n\tgr.addQuery(\"language\", gs.getSession().getLanguage());\n\tgr.addQuery(\"inactive\", false);\n\tgr.query();\n\t\n\twhile(gr.hasNext()){\n\t\tgr.next();\n\t\tresult.push({value: gr.getValue(\"value\"), label: gr.getValue(\"label\")});\n\t}\n\n\tresponse.setStatus(200);\n\tresponse.setBody(result);\n\n})(request, response);","sys_updated_on":"2020-11-02 19:59:18","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"331bf1e30730101017b703767cd3009d","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/csdm_app_service/environment_choice_list","sys_created_on":"2020-05-21 19:59:17","sys_name":"Get Environment Choice List","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/60c171d973c30010ee4dd3c72bf6a716","value":"60c171d973c30010ee4dd3c72bf6a716"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2f8d67ff04352210559073c06a02f74f","value":"2f8d67ff04352210559073c06a02f74f"},"sys_update_name":"sys_ws_operation_331bf1e30730101017b703767cd3009d","consumes_customized":"false","name":"Get Environment Choice List","produces":"application/json,application/xml,text/xml","relative_path":"/environment_choice_list","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var payload = request.body.data;\n    if (JSUtil.isEmpty(payload))\n        return new sn_ws_err.BadRequestError(\"Payload is empty\");\n    var resourceId = payload.resourceId;\n    var actionId = payload.actionId;\n    \n    var incidentGR = new GlideRecordSecure('incident');\n    var fieldsToCopy = {};\n    if (incidentGR.get(resourceId)) {\n        fieldsToCopy.payload = {\n            close_code: {\n                value: incidentGR.getValue('close_code'),\n                display_value: incidentGR.getDisplayValue('close_code')\n            },\n            close_notes:{\n                value: incidentGR.getValue('close_notes'),\n                display_value: incidentGR.getDisplayValue('close_notes')\n            }\n        };\n        fieldsToCopy.meta = {\n            number:{\n                value: incidentGR.getValue('number'),\n                display_value: incidentGR.getDisplayValue('number')\n            }\n        };\n        fieldsToCopy['succeed'] = true;\n        fieldsToCopy['action_id'] = actionId;\n        fieldsToCopy['info_message'] = gs.getMessage('Resolution details are copied');\n    } else {\n        fieldsToCopy['succeed'] = false;\n        fieldsToCopy['action_id'] = actionId;\n        fieldsToCopy['info_message'] = gs.getMessage('Could not find Incident');\n\t}\n\n    response.setBody(fieldsToCopy);\n})(request, response);","sys_updated_on":"2024-01-02 14:19:17","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"333936e0b32023002bf182c136a8dc68","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/cxs_actions/copy_incident_resolution","sys_created_on":"2018-09-11 17:54:32","sys_name":"copy_incident_resolution","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5f387aa0b32023002bf182c136a8dc1c","value":"5f387aa0b32023002bf182c136a8dc1c"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"11","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5209e3b704f12210559073c06a02f734","value":"5209e3b704f12210559073c06a02f734"},"sys_update_name":"sys_ws_operation_333936e0b32023002bf182c136a8dc68","consumes_customized":"false","name":"copy_incident_resolution","produces":"application/json,application/xml,text/xml","relative_path":"/copy_incident_resolution","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"function getTemplateManifests(templateId) {\n    var templateManifests = [];\n\n    var templateManifestRecords = new GlideRecord(\"sys_app_template_manifest\");\n    templateManifestRecords.addJoinQuery(\"sys_app_template\");\n    templateManifestRecords.addQuery(\"template.active\", true);\n    templateManifestRecords.addQuery(\"template\", templateId);\n    templateManifestRecords.query();\n\n    while (templateManifestRecords.next()) {\n        templateManifests.push({\n            description: {\n                value: templateManifestRecords.getValue('description'),\n                display_value: templateManifestRecords.getDisplayValue('description'),\n            },\n            order: {\n                value: templateManifestRecords.getValue('order'),\n                display_value: templateManifestRecords.getDisplayValue('order'),\n            },\n            table_name: {\n                value: templateManifestRecords.getValue('table_name'),\n                display_value: templateManifestRecords.getDisplayValue('table_name'),\n            },\n        });\n    }\n\n    return templateManifests;\n}\n\nfunction process(request, response) {\n    try {\n        var templateId = request.queryParams.template;\n        var templateManifests = getTemplateManifests(templateId);\n\n        response.setStatus(200);\n        response.setBody(templateManifests);\n    } catch (exception) {\n\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t.setStatus(500)\n\t\t\t.setMessage(gs.getMessageLang('Unhandled exception {0}', \"en\", [exception]))\n\t\t\t.setDetail(gs.getMessage('Unhandled exception {0}', [exception]));\n    }\n}\n\nprocess(request, response);","sys_updated_on":"2021-03-29 22:22:28","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"336774e453da20100f29ddeeff7b12b9","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_app_eng_studio/templates/manifests","sys_created_on":"2021-02-09 17:02:18","sys_name":"Get Application Template Manifests","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7b27f0e453da20100f29ddeeff7b12bc","value":"7b27f0e453da20100f29ddeeff7b12bc"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"16","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_ws_operation_336774e453da20100f29ddeeff7b12b9","consumes_customized":"false","name":"Get Application Template Manifests","produces":"application/json,application/xml,text/xml","relative_path":"/manifests","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"Retrives details of a catalog","sys_updated_on":"2016-02-27 03:48:24","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"344590a147330200e0ef563dbb9a7123","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/catalogs/{sys_id}","sys_created_on":"2015-11-17 20:52:39","sys_name":"Specific Catalog","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"13","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_344590a147330200e0ef563dbb9a7123","consumes_customized":"false","name":"Specific Catalog","produces":"application/json,application/xml,text/xml","relative_path":"/catalogs/{sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/catalogs/{sys_id}","sys_policy":"protected"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar changeSysId = request.pathParams.change_sys_id || \"\";\n\tif (!changeSysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Change Request id not provided\");\n\n\tvar changeRequestGr = new GlideRecordSecure(global.ChangeRequest.CHANGE_REQUEST);\n\tchangeRequestGr.addQuery(\"sys_id\", changeSysId);\n\tchangeRequestGr.query();\n\tif (!changeRequestGr.next())\n\t\treturn new sn_ws_err.NotFoundError(\"Change Request not found\");\n\n\tvar nameValuePairs = global.ChangeCommon.assign({}, request.queryParams, request.body.data);\n\tnameValuePairs.change_request = changeRequestGr.getUniqueValue();\n\tvar changeTask = global.ChangeTask.newChangeTask(nameValuePairs);\n\tif (!changeTask || !changeTask.getGlideRecord().getUniqueValue())\n\t\treturn new sn_ws_err.BadRequestError(\"Could not create Change Task.\");\n\n\tif (changeSysId !== changeTask.getGlideRecord().change_request + \"\")\n\t\treturn new sn_ws_err.BadRequestError(\"Change Task found, but not related to Change Request: \" + changeSysId);\n\n\treturn changeTask.toJS();\n})(request, response);","sys_updated_on":"2018-08-10 14:28:02","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"34471192b733130096c3e4f6ee11a99d","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/{change_sys_id}/task","sys_created_on":"2018-08-10 14:28:02","sys_name":"Task","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_34471192b733130096c3e4f6ee11a99d","consumes_customized":"false","name":"Task","produces":"application/json,application/xml,text/xml","relative_path":"/{change_sys_id}/task","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/{change_sys_id}/task","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // defaulting to 'full' maintains backwards compatibility for flow App Intake Request V1\n    var permissionType = request.body && request.body.data && request.body.data.permission_type || CreatorStudioConstants.permissionType.FULL;\n    var sysUser = request.body && request.body.data && request.body.data.sys_user;\n\n\tif (sysUser) {\n\t\tvar appIntakeUtils = new AESUserIntake();\n\t\tvar insertResult = appIntakeUtils.userInsert(sysUser, permissionType);\n\t\t/* Example output of appIntakeUtils.userInsert:\n\t\t * \"result\": {\n\t\t *   \"insertUserResult\": \"7a2d7753534c0110b846ddeeff7b12b2\",\n\t\t *   \"insertGroupResult\": \"7edfa31e6dbc0110f87785692ab45ccd\",\n\t\t *   \"action\": \"add\"\n\t\t * }\n\t\t */\n\n\t\tresponse.setBody(insertResult);\n\t\tresponse.setStatus(200);\n\t} else {\n\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t.setStatus(400)\n\t\t\t.setMessage(gs.getMessageLang(\"Request requires a sys_user.\", \"en\"))\n\t\t\t.setDetail(gs.getMessage(\"Creating or updating a user requires a sys_user.\"));\n\t}\n\n})(request, response);","sys_updated_on":"2022-12-16 20:08:09","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/e8a97707c7300110408bc8d6f2c26002","value":"e8a97707c7300110408bc8d6f2c26002"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"34c9fb07c7300110408bc8d6f2c26087","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_app_eng_studio/v1/app_engine_studio_user_intake","sys_created_on":"2022-01-07 04:29:40","sys_name":"Update AES User","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/da39bfc3c7300110408bc8d6f2c2606a","value":"da39bfc3c7300110408bc8d6f2c2606a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_ws_operation_34c9fb07c7300110408bc8d6f2c26087","consumes_customized":"false","name":"Update AES User","produces":"application/json,application/xml,text/xml","relative_path":"/","produces_customized":"false","default_operation_uri":"/api/sn_app_eng_studio/app_engine_studio_user_intake","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var data = request.body.data;\n    try {\n        var modelId = data.sysId;\n        var opts = data.opts;\n        if (modelId) {\n            var cloneModel = new NLUCloneModel(modelId);\n            response.setContentType('application/json');\n            return cloneModel.clone(opts);\n\n        } else {\n            return new sn_ws_err.BadRequestError(\"Input is not valid\");\n        }\n\n    } catch (e) {\n        return {\n            status: 'failure',\n            message: e.message\n        };\n    }\n\n})(request, response);","sys_updated_on":"2021-08-04 02:54:28","enforce_acl":"ccd8a1e7772000105d7b3882a910617c","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/e4cda81e7333230021a044764df6a777","value":"e4cda81e7333230021a044764df6a777"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"34fe4d6d5f32330064f1e1cf2f7313e5","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/v1/nlu/clonemodel","sys_created_on":"2019-07-22 05:25:20","sys_name":"clonemodel","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/55672c9a7333230021a044764df6a706","value":"55672c9a7333230021a044764df6a706"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"26","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_ws_operation_34fe4d6d5f32330064f1e1cf2f7313e5","consumes_customized":"false","name":"clonemodel","produces":"application/json,application/xml,text/xml","relative_path":"/clonemodel","produces_customized":"false","default_operation_uri":"/api/now/nlu/clonemodel","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // implement resource here\n\tvar questionId = request.pathParams.sys_id;\n\tif (!questionId)\n\t\tthrow new sn_ws_err.BadRequestError(\"SYS_ID should be provided as path param.\");\n\t\n\tvar requestBody = request.body.nextEntry();\n\tvar questionValue = requestBody[\"sysparm_value\"];\n\tif (!questionValue) {\n\t\tthrow new sn_ws_err.BadRequestError(\"Question value should be provided as request body.\");\n\t}\n\treturn new global.VariableUtil().getDisplayValue(questionId, questionValue);\n})(request, response);","sys_updated_on":"2018-11-06 20:34:28","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"352dd93773101300f49d0690fdf6a702","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/variables/{sys_id}/display_value","sys_created_on":"2018-02-22 07:06:17","sys_name":"Variable display value ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_352dd93773101300f49d0690fdf6a702","consumes_customized":"false","name":"Variable display value ","produces":"application/json,application/xml,text/xml","relative_path":"/variables/{sys_id}/display_value","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/variables/{sys_id}/display_value","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var lazyLoadEnable = gs.getProperty('glide.email.dashboard.recipient_and_notification_table.lazy_load', \"true\");\n    var notificationDashboard = new NotificationDashboard();\n    if (lazyLoadEnable == \"true\") {\n\t\tresponse.setBody(notificationDashboard.getTopRecipients(request.body.data));\n    } else {\n        response.setBody(notificationDashboard.getTopRecipientAndNotifications(request.body.data));\n    }\n})(request, response);","sys_updated_on":"2024-09-19 16:30:13","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"353f08b4fffc1e10ac42fbd38c4fd9bd","http_method":"POST","sys_updated_by":"rajesh.tatikonda@snc","operation_uri":"/api/snc/notification_dashboard/notifications/email/top/recipients_and_its_notification","sys_created_on":"2024-09-19 16:30:13","sys_name":"TopRecipientsAndNotifications","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"rajesh.tatikonda@snc","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/a5ea2ec8ffec5a10ac42fbd38c4fd9fb","value":"a5ea2ec8ffec5a10ac42fbd38c4fd9fb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fa85f980ff6c5a10ac42fbd38c4fd9bd","value":"fa85f980ff6c5a10ac42fbd38c4fd9bd"},"sys_update_name":"sys_ws_operation_353f08b4fffc1e10ac42fbd38c4fd9bd","consumes_customized":"false","name":"TopRecipientsAndNotifications","produces":"application/json,application/xml,text/xml","relative_path":"/notifications/email/top/recipients_and_its_notification","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar appId = request.queryParams.appId ? request.queryParams.appId[0] : '';\n\t\n    if (appId) {\n\t\t// Testing for AES VCS only when appId is available\n        ScopeCheck.verifyNotGlobal(appId);\n        var allowed = VCSAppAccessCheck.verifyVersionControlAccess(appId);\n\n        if (!allowed) \n\t\t\tVCSAppAccessCheck.throwAccessDenied(appId);\n    }\n\n    return sn_vcs.AppSourceControl.getDefaultBranchName();\n\n})(request, response);","sys_updated_on":"2021-04-05 21:25:39","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"353fd8c59f0333000592786f957fcf61","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/default_branch_name","sys_created_on":"2019-08-01 22:46:40","sys_name":"Get Default Branch Name","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"12","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_353fd8c59f0333000592786f957fcf61","consumes_customized":"false","name":"Get Default Branch Name","produces":"application/json,application/xml,text/xml","relative_path":"/default_branch_name","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/default_branch_name","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var TABLES = {\n        INCIDENT: \"incident\",\n        PROBLEM: \"problem\"\n    };\n    var LINK_FIELD = \"problem_id\";\n\n    if (!gs.hasRole('itil,sn_incident_write'))\n        return response.setBody({\n            succeed: false,\n            message: gs.getMessage(\"Roles are insufficient to perform the action\")\n        });\n\n    /**\n     * actionId: search UI Action's unique ID\n     * incidentId: sys_id of Incident record which is the search result\n     * problemId: sys_id of Problem record which is the search term\n     */\n\n    var actionId = request.body.data.actionId;\n    var incidentId = request.body.data.resourceId;\n    var problemId = request.body.data.currentId;\n    var actionStage = request.body.data.actionStage;\n\n\n    var incidentGr = new GlideRecord(TABLES.INCIDENT);\n    if (!incidentGr.get(incidentId))\n        return response.setBody({\n            succeed: false,\n            message: gs.getMessage(\"Invalid Incident record\")\n        });\n\n    var problemGr = new GlideRecord(TABLES.PROBLEM);\n    if (!problemGr.get(problemId))\n        return response.setBody({\n            succeed: false,\n            message: gs.getMessage(\"Invalid Problem record\")\n        });\n\n\n    /**\n     * action_id (mandatory): search UI Action's unique ID, AS/AI will use it to determine how to handle result\n     * item_id (optional): \"table_name:record_id\", having this tells AS/AI to refresh child record's UI Action list due to link action's change on child record\n     * succeed (mandatory): indicates link action is successfully done or not\n     * message (optional): shows on top of the form after action is performed\n     */\n\n\n    var errMsg = gs.getMessage('Linking \"Incident\" record to {0} has failed', problemGr.getDisplayValue());\n    var infoMsg = gs.getMessage('{0} has been linked to {1}.', [incidentGr.getDisplayValue('number'), problemGr.getDisplayValue('number')]);\n\n    var body = {};\n    body.action_id = actionId;\n    body.item_id = TABLES.INCIDENT + \":\" + incidentGr.getUniqueValue();\n\n    if (actionId.includes('rest')) {\n        if (actionStage === 'pre_modal') {\n            body.successful = true;\n            body.useModal = true;\n            body.modalTitle = gs.getMessage('Link to Problem');\n            body.errMsg = errMsg;\n            body.modalInfoMsg = gs.getMessage('You are linking the current {0} to {1}', [incidentGr.getDisplayValue('number'), problemGr.getDisplayValue('number')]);\n            body.modalFields = [{\n                label: gs.getMessage('{0} (Private)', problemGr.work_notes.getLabel()),\n                name: 'work_notes',\n                value: '',\n                fieldType: 'textarea'\n            }];\n            body.updateCurrentRecord = false;\n            body.postModalRestRequired = true;\n            return response.setBody(body);\n        } else if (actionStage === 'post_modal') {\n            if (linkIncToProb(incidentGr, problemGr)) {\n                body.useModal = false;\n                body.updateCurrentRecord = true;\n                setResponse(true, infoMsg);\n            } else {\n                setResponse(false, errMsg);\n            }\n            return response.setBody(body);\n        }\n    }\n\n\n    if (!linkIncToProb(incidentGr, problemGr)) {\n        body.succeed = false;\n        body.message = gs.getMessage('Updating \"Problem\" field on {0} has failed', incidentGr.getDisplayValue());\n    } else {\n        body.succeed = true;\n        body.message = gs.getMessage('{0} has been added to this Problem', incidentGr.getDisplayValue());\n    }\n    return response.setBody(body);\n\n\n\n    function setResponse(success, message) {\n        if (actionId.includes('rest')) {\n            body.successful = success;\n            if (success) {\n                body.infoMsg = message;\n            } else {\n                body.errMsg = message;\n            }\n        } else {\n            body.succeed = success;\n            body.message = message;\n        }\n        return;\n    }\n\n    function linkIncToProb(incidentGr, problemGr) {\n        incidentGr.setValue(LINK_FIELD, problemGr.getUniqueValue());\n        return incidentGr.update();\n    }\n\n})(request, response);","sys_updated_on":"2024-09-27 11:06:10","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"35df181d87012300fb3ad61e36cb0bf1","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/cxs_actions/link_prb_to_inc","sys_created_on":"2018-10-08 11:11:40","sys_name":"link_prb_to_inc","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5f387aa0b32023002bf182c136a8dc1c","value":"5f387aa0b32023002bf182c136a8dc1c"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8ddc67fb04352210559073c06a02f70d","value":"8ddc67fb04352210559073c06a02f70d"},"sys_update_name":"sys_ws_operation_35df181d87012300fb3ad61e36cb0bf1","consumes_customized":"false","name":"link_prb_to_inc","produces":"application/json,application/xml,text/xml","relative_path":"/link_prb_to_inc","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","sys_updated_on":"2020-11-17 16:21:48","enforce_acl":"c181cf8187602010c84e4561d5cb0b5e","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"362bca4987202010c84e4561d5cb0bd6","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/catalog_builder/validate_catalog_categories","sys_created_on":"2020-11-16 12:36:47","sys_name":"Validate Categories in Catalogs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c69d2bff04352210559073c06a02f736","value":"c69d2bff04352210559073c06a02f736"},"sys_update_name":"sys_ws_operation_362bca4987202010c84e4561d5cb0bd6","consumes_customized":"false","name":"Validate Categories in Catalogs","produces":"application/json,application/xml,text/xml","relative_path":"/catalog_builder/validate_catalog_categories","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/catalog_builder/validate_catalog_categories","sys_policy":"protected"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var appId = request.pathParams[\"app_id\"];\n\tvar payload = request.body.data;\n\n    var pipelineConfigChecks = new sn_pipeline.PipelineConfigChecks();\n    var deploymentRequestUtils = new DeploymentRequestUtils();\n\n    var currentInstanceInfo = pipelineConfigChecks.getCurrentInstanceInfo();\n\n    if (!currentInstanceInfo.isController) {\n        if (!currentInstanceInfo.hasValidControllerRecord) {\n            throw new sn_ws_err.ServiceError()\n                .setStatus(404)\n                .setMessage(gs.getMessageLang(\"Controller environment not found\", \"en\"))\n                .setDetail(gs.getMessage(\"Controller environment configured is not valid\"));\n        }\n\n        var controllerEnv = pipelineConfigChecks.getControllerRecord();\n\t\t\n\t\tdeploymentRequestUtils.checkCanUpdateDeploymentRequestOnController(appId, controllerEnv);\n\t\t\n\t\ttry {\n\t\t\tvar actionOutputs = deploymentRequestUtils.updateOpenDeploymentRequestPresentForAppOnEnv(appId, controllerEnv, payload);\n\t\t\tvar status = actionOutputs[\"status_code\"];\n            var responseFromController = actionOutputs.response_body ? JSON.parse(actionOutputs.response_body) : {};\n        } catch (e) {\n            gs.debug(\"Fetching open deployment request from controller failed with error: \" + JSON.stringify(e));\n            throw new sn_ws_err.ServiceError()\n                .setStatus(500)\n                .setMessage(gs.getMessageLang(\"Error updating deployment information\", \"en\"))\n                .setDetail(gs.getMessage(\"Error updating deployment information on controller instance: \", JSON.stringify(e)));\n        }\n\n        if (status === 200) {\n            var parsedResult = responseFromController.result || {};\n            response.setStatus(200);\n\t\t\tresponse.setBody(parsedResult);\n\t\t\treturn;\n        } else {\n            var parsedError = responseFromController.error || {};\n            throw new sn_ws_err.ServiceError()\n                .setStatus(status)\n                .setMessage(parsedError.message)\n                .setDetail(gs.getMessage(\"Redirected response from controller instance: {0}\", parsedError.detail));\n        }\n\t\t\n    } else {\n\t\tvar openDeploymentRequestRecord = deploymentRequestUtils.getOpenDeploymentRequestRecordForApp(appId);\n\t\t\n\t\tdeploymentRequestUtils.checkCanUpdateDeploymentRequest(appId, openDeploymentRequestRecord);\n\t\t\n\t\tif (payload && payload.state && payload.state === DeploymentPipelineConstants.deploymentRequest.states.CANCELED) {\n            try {\n                result = ScheduledDeploymentService.cancelDeploymentRequest(openDeploymentRequestRecord.sys_id);\n            } catch (exception) {\n                gs.error(\"Unable to cancel deployment request. \" + exception);\n                throw new sn_ws_err.ServiceError()\n                    .setStatus(500)\n                    .setMessage(gs.getMessageLang(\"Unable to cancel deployment request. {0}\", \"en\", [exception]))\n                    .setDetail(gs.getMessage(\"Unable to cancel deployment request. {0}\", [exception]));\n            }\n\n            if (!result.success) {\n\t\t\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t\t\t.setStatus(500)\n\t\t\t\t\t.setMessage(gs.getMessageLang(\"Failed to change state of deployment request to cancelled.\", \"en\"))\n\t\t\t\t\t.setDetail(gs.getMessage(\"Updating the state of deployment request ended in error: {0}\", openDeploymentRequestRecord.getLastErrorMessage()));\n\t\t\t}\n\t\t\topenDeploymentRequestRecord = result.updatedRecord;\n\t\t} else {\n\t\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t\t\t.setStatus(400)\n\t\t\t\t\t.setMessage(gs.getMessageLang(\"Unsupported update properties.\", \"en\"))\n\t\t\t\t\t.setDetail(gs.getMessage(\"The state of the deployment request can only be updated to canceled.\"));\n\t\t}\n\n\t\tvar updatedDeploymentRequest = deploymentRequestUtils.getDeploymentRequestObject(openDeploymentRequestRecord);\n\t\t\n\t\tresponse.setBody(updatedDeploymentRequest);\n\t\tresponse.setStatus(200);\n    }\n\n})(request, response);","sys_updated_on":"2023-08-28 10:36:54","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/44112378533a3010b846ddeeff7b1228","value":"44112378533a3010b846ddeeff7b1228"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"36dbc681c7d80110408bc8d6f2c2601e","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/sn_deploy_pipeline/v1/deployment_pipeline_api/{app_id}/deployment_request/update","sys_created_on":"2021-12-06 18:55:36","sys_name":"Update Open Deployment Request","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bb67ed7253e83010b846ddeeff7b1204","value":"bb67ed7253e83010b846ddeeff7b1204"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/9d52207653223010b846ddeeff7b12f3","value":"9d52207653223010b846ddeeff7b12f3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"11","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bb67ed7253e83010b846ddeeff7b1204","value":"bb67ed7253e83010b846ddeeff7b1204"},"sys_update_name":"sys_ws_operation_36dbc681c7d80110408bc8d6f2c2601e","consumes_customized":"false","name":"Update Open Deployment Request","produces":"application/json,application/xml,text/xml","relative_path":"/{app_id}/deployment_request/update","produces_customized":"false","default_operation_uri":"/api/sn_deploy_pipeline/deployment_pipeline_api/{app_id}/deployment_request/update","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var key = \"is_pdf_to_table_plugin_installed\";\n    var clientKeyValue = gs.getSession().getClientData(key);\n    var isPluginActive;\n    var res = {\n        status: 'error'\n    };\n\n    if (gs.nil(clientKeyValue)) {\n        var isPluginInstalled = GlidePluginManager.isActive('com.sn_pdf_to_table_builder') && GlidePluginManager.isActive('com.glide.platform_ml');\n        gs.getSession().putClientData(key, isPluginInstalled);\n        clientKeyValue = gs.getSession().getClientData(key);\n    }\n    isPluginActive = (clientKeyValue === \"true\");\n    var isPropertyEnabled = gs.getProperty('sn_pdf_table_bldr.feature_flag') == 'true';\n\n    if(!isPropertyEnabled){\n\t\tres['message'] = 'Property is disabled';\n\t}else if (!isPluginActive) {\n        res['message'] = 'Plugin is not installed in instance.';\n    } else {\n        try {\n            var table_name = request.queryParams.table_name ? String(request.queryParams.table_name) : null;\n            res = new sn_pdf_table_bldr.PDFtoTableOperations().isTableCreatedFromPDF(table_name);\n        } catch (e) {\n            res['message'] = JSON.stringify(e);\n        }\n    }\n\n    response.setBody(res);\n\n\n})(request, response);","sys_updated_on":"2022-07-28 11:35:14","enforce_acl":"f70e338e73f110107419c907fbf6a733","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"36f1e59c97c51550daa03df6f053af84","http_method":"GET","sys_updated_by":"devendher.macha@snc","operation_uri":"/api/sn_table_builder/app/is_table_created_from_pdf","sys_created_on":"2022-07-28 10:46:04","sys_name":"Check Table created from PDF","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f53f19bac362fa22ca2e93692d32f18f","value":"f53f19bac362fa22ca2e93692d32f18f"},"sys_created_by":"devendher.macha@snc","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/72cd338e73f110107419c907fbf6a730","value":"72cd338e73f110107419c907fbf6a730"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f53f19bac362fa22ca2e93692d32f18f","value":"f53f19bac362fa22ca2e93692d32f18f"},"sys_update_name":"sys_ws_operation_36f1e59c97c51550daa03df6f053af84","consumes_customized":"false","name":"Check Table created from PDF","produces":"application/json,application/xml,text/xml","relative_path":"/is_table_created_from_pdf","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    const params = UDCUtil.assign({},\n        request.pathParams,\n        UDCUtil.normalizeQueryParams(request.queryParams)\n    );\n\n    const {\n        collectionSysId,\n        type = ''\n    } = params;\n    const LOG = new Logger(`GET:/v1/collection/${collectionSysId}/items?type=${type}`);\n\n    try {\n        if (!Collection.isFavoriteCollection(collectionSysId) && !Collection.isValidCollection(collectionSysId))\n            throw `Invalid collection items retrieval. Collection does not exist with sys id: ${collectionSysId}`;\n\n        const collectionItems = CollectionItem.getCollectionItemsForUser(collectionSysId, {\n            type\n        });\n\n        return {\n            status: 'success',\n            ...collectionItems\n        };\n    } catch (error) {\n        LOG.error(`Failed to retrieve collection items: ${error.toString()}`);\n        return response.setError(new sn_ws_err.BadRequestError(error.toString()));\n    }\n})(request, response);","sys_updated_on":"2024-04-05 09:49:15","enforce_acl":"c634a3a0a392311018d4189b66fcda72","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/867b5921f391021000baad941484cace","value":"867b5921f391021000baad941484cace"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"36fe206ef3d5021000baad941484ca59","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_udc/v1/collection/{collectionSysId}/items","sys_created_on":"2024-04-04 05:43:51","sys_name":"GET Collection Items","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5e4b9521f391021000baad941484caf7","value":"5e4b9521f391021000baad941484caf7"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"24","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_update_name":"sys_ws_operation_36fe206ef3d5021000baad941484ca59","consumes_customized":"false","name":"GET Collection Items","produces":"application/json,application/xml,text/xml","relative_path":"/{collectionSysId}/items","produces_customized":"false","default_operation_uri":"/api/sn_udc/collection/{collectionSysId}/items","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar util = new SchedulePageUtilSNC();\n\tvar dataSourceClass = util.getClassName(request.pathParams.schedule_page_sys_id);\n\tvar infoType = request.pathParams.info_type;\n\n\tif (dataSourceClass) {\n\t\tvar dataSourceObj = util.getObjInstance(dataSourceClass, this);\n\t\tdataSourceObj.setSchedulePageId(request.pathParams.schedule_page_sys_id);\n\t\tvar resp = dataSourceObj.getCustomInfo(infoType, dataSourceObj.processQueryParams(request.queryParams));\n\t\tif (resp.apiError && resp.errorType == 'security' ) {\n\t\t\tvar respError = new sn_ws_err.ServiceError();\n\t\t\trespError.setStatus(403);\n\t\t\trespError.setMessage(resp.apiError);\n\t\t\treturn respError;\n\t\t} else if (resp.apiError)\n\t\t\treturn new sn_ws_err.BadRequestError(resp.apiError);\n\t\telse\n\t\t\treturn resp;\n\t}\n\treturn new sn_ws_err.BadRequestError(gs.getMessage('A valid data source associated to schedule page ID is necessary to process the request.'));\n\n})(request, response);","sys_updated_on":"2017-07-28 21:44:28","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"370e66a587133200b18a046787cb0b96","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/schedule_page/info/{info_type}/{schedule_page_sys_id}","sys_created_on":"2017-06-11 23:58:56","sys_name":"Get Custom Info","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/9a31657653373200e8960ef5d5dc34d5","value":"9a31657653373200e8960ef5d5dc34d5"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/81e45c800b833200ecfd818393673a2e","value":"81e45c800b833200ecfd818393673a2e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9a31657653373200e8960ef5d5dc34d5","value":"9a31657653373200e8960ef5d5dc34d5"},"sys_update_name":"sys_ws_operation_370e66a587133200b18a046787cb0b96","consumes_customized":"false","name":"Get Custom Info","produces":"application/json,application/xml,text/xml","relative_path":"/info/{info_type}/{schedule_page_sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var result = {};\n    try {\n        var data = request.body.data;\n        var lookupIds = data && data.lookupIds;\n        if (lookupIds && Array.isArray(lookupIds) && lookupIds.length > 0) {\n            lookupIds.forEach(function(eachId) {\n                result[eachId] = new NLULookup(eachId).getStatus();\n            });\n        } else\n            return new sn_ws_err.BadRequestError('No input data provided');\n    } catch (e) {\n        return e;\n    }\n    return result;\n\n})(request, response);","sys_updated_on":"2021-04-20 05:47:30","enforce_acl":"ccd8a1e7772000105d7b3882a910617c","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/e4cda81e7333230021a044764df6a777","value":"e4cda81e7333230021a044764df6a777"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"374e2df1731710103bb6a4fa54f6a76c","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/v1/nlu/getLookupModelDetails","sys_created_on":"2020-09-17 15:08:53","sys_name":"getLookupModelDetails","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/55672c9a7333230021a044764df6a706","value":"55672c9a7333230021a044764df6a706"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"9","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_ws_operation_374e2df1731710103bb6a4fa54f6a76c","consumes_customized":"false","name":"getLookupModelDetails","produces":"application/json,application/xml,text/xml","relative_path":"/getLookupModelDetails","produces_customized":"false","default_operation_uri":"/api/now/nlu/getLookupModelDetails","sys_policy":""},{"short_description":"","operation_script":"var {\n    RuleChecker\n} = require('@devsnc/uibtk-api');\n\n(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n  var rc = new RuleChecker();\n  var appRoutes = rc.checkAllRulesAgainstExperience(request.pathParams.experienceId, request.pathParams.isMaint);\n\n  response.setBody({ appRoutes });\n\n})(request, response);","sys_updated_on":"2024-08-26 15:49:00","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"378375427740021048c7a8e4bc5a9980","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/check_rules/experience/{experienceId}/isMaint/{isMaint}","sys_created_on":"2024-01-31 18:02:00","sys_name":"Execute Rules Engine for Experience","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_378375427740021048c7a8e4bc5a9980","consumes_customized":"false","name":"Execute Rules Engine for Experience","produces":"application/json,application/xml,text/xml","relative_path":"/check_rules/experience/{experienceId}/isMaint/{isMaint}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n\tvar meetingId = request.pathParams.meetingId;\n\tif (!meetingId) \n\t\treturn new sn_ws_err.BadRequestError(\"CAB Meeting id not provided\");\n\t\n\tvar runtimeState = CABRuntimeState.get(meetingId);\n\truntimeState.resumeCurrentAgendaItem();\n\tresponse.setBody(runtimeState.toJS());\n})(request, response);","sys_updated_on":"2017-01-26 12:57:20","enforce_acl":"cbe72f65c32032001488b731c1d3ae92","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"37849429cb302200dff9b9c0c24c9cf2","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_change_cab/cab/runtime_state/resume_current_item/{meetingId}","sys_created_on":"2016-07-23 09:59:20","sys_name":"Resume Current Agenda Item","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/cf65d305eb10220034d1eeea1206fe55","value":"cf65d305eb10220034d1eeea1206fe55"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_update_name":"sys_ws_operation_37849429cb302200dff9b9c0c24c9cf2","consumes_customized":"false","name":"Resume Current Agenda Item","produces":"application/json,application/xml,text/xml","relative_path":"/runtime_state/resume_current_item/{meetingId}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tif (!request.body.hasNext())\n\t\treturn new sn_ws_err.BadRequestError(\"illegal identityDetails payload\");\n\n\tvar permission = request.body.nextEntry();\n\tif (!permission)\n\t\treturn new sn_ws_err.BadRequestError(\"permission malformed or null\");\n\n\tvar chgSocSysId = permission.chg_soc_definition;\n\tvar everyone = permission.everyone;\n\tif (!chgSocSysId)\n\t\treturn new sn_ws_err.BadRequestError(\"permission malformed or null chgSocSysId: \" + chgSocSysId + \" everyone: \" + everyone);\n\n\tvar gr = new GlideRecordSecure(\"chg_soc_definition\");\n\tif (!gr.get(chgSocSysId))\n\t\treturn new sn_ws_err.BadRequestError(\"chg_soc_definition: \" + chgSocSysId + \" record not found\");\n\n\treturn new SoCDefinition(gr).updatePermission(everyone);\n})(request, response);\n","sys_updated_on":"2018-02-22 17:13:56","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"38386bfb57101300532c3da73d94f9be","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_chg_soc/soc/updatePermission","sys_created_on":"2018-02-22 17:12:24","sys_name":"updatePermission","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3115d45f67020300b410afa00585ef87","value":"3115d45f67020300b410afa00585ef87"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_update_name":"sys_ws_operation_38386bfb57101300532c3da73d94f9be","consumes_customized":"false","name":"updatePermission","produces":"application/json,application/xml,text/xml","relative_path":"/updatePermission","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Gets all supporting data needed to create an experience","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    const apiHelper = new APIHelper(request, response);\n    apiHelper.execute(function() {\n        // Hard coded app shell sys_ids: workspace , breadcrump app shell, portal, uxrBase\n        const appShellUIQuery = 'category=chrome^sys_created_by!=admin^sys_created_by!=maint^sys_created_byNOT LIKE@snc^NQsys_idINc276387cc331101080d6d3658940ddd2,e341e22cc32e2010ea04a5a1d840dd02,b66bf1075b31101016fd7c1bf481c7a7,76a83a645b122010b913030a1d81c780';\n        const appShellUIGR = new Macroponent().getRecordsByQuery(appShellUIQuery, 'name', true);\n        const appShellUIs = [];\n        while (appShellUIGR.next()) {\n            appShellUIs.push({\n                label: appShellUIGR.getValue('name'),\n                id: appShellUIGR.getUniqueValue()\n            });\n        }\n\n        const instanceNameGR = new GlideRecord('sys_properties');\n        instanceNameGR.get('name', 'instance_name');\n\n        const instanceRoles = [];\n        const instanceRolesGR = new GlideRecord('sys_user_role');\n        instanceRolesGR.orderBy('name');\n        instanceRolesGR.query();\n        while (instanceRolesGR.next()) {\n            instanceRoles.push({\n                label: instanceRolesGR.getValue('name'),\n                id: instanceRolesGR.getUniqueValue()\n            });\n        }\n\n        apiHelper.getResponse({\n            appShells: appShellUIs,\n            instanceName: instanceNameGR.getValue('value'),\n            roles: instanceRoles\n        }, BuilderToolkitConstants.ERRORS.A_ERROR_HAS_OCCURED);\n    });\n\n})(request, response);","sys_updated_on":"2023-05-26 18:20:12","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"383dfaba492f1110f8771a44d192092f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/experience/data","sys_created_on":"2022-12-07 18:39:08","sys_name":"Create Experience Supporting Data","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_383dfaba492f1110f8771a44d192092f","consumes_customized":"false","name":"Create Experience Supporting Data","produces":"application/json,application/xml,text/xml","relative_path":"/experience/data","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var result = {};\n    var currentRecordSysID = request.pathParams[\"record_sys_id\"];\n\n    if (!currentRecordSysID) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(500)\n            .setMessage(gs.getMessageLang(\"Request sysID is required\", \"en\"))\n            .setDetail(gs.getMessage(\"Request sysID is required\"));\n    }\n\n    try {\n        result = ScheduledDeploymentService.cancelDeploymentRequest(currentRecordSysID);\n\t\t\n    } catch (exception) {\n        gs.error(\"Unable to cancel deployment request. \" + exception);\n\n        throw new sn_ws_err.ServiceError()\n            .setStatus(500)\n            .setMessage(gs.getMessageLang(\"Unable to cancel deployment request. {0}\", \"en\", [exception]))\n            .setDetail(gs.getMessage(\"Unable to cancel deployment request. {0}\", [exception]));\n    }\n\n    if (!result.success) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(500)\n            .setMessage(gs.getMessageLang(\"Failed to change state of deployment request to cancelled.\", \"en\"))\n            .setDetail(gs.getMessage(\"Failed to change state of deployment request to cancelled.\"));\n    } else {\n        result.updatedRecord = new DeploymentRequestUtils().getDeploymentRequestObject(result.updatedRecord);\n    }\n\n    response.setBody(result);\n    response.setStatus(200);\n\n})(request, response);","sys_updated_on":"2023-08-30 10:36:54","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/c64d1f1b43c62110fcbf9bf6cab8f241","value":"c64d1f1b43c62110fcbf9bf6cab8f241"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"3841fd9f5f922110f082532aca73135b","http_method":"PUT","sys_updated_by":"admin","operation_uri":"/api/sn_deploy_pipeline/v1/scheduled_deployment/cancel/{record_sys_id}","sys_created_on":"2023-04-24 19:08:56","sys_name":"PUT Cancel Deployment","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bb67ed7253e83010b846ddeeff7b1204","value":"bb67ed7253e83010b846ddeeff7b1204"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/84da5f9743c62110fcbf9bf6cab8f2da","value":"84da5f9743c62110fcbf9bf6cab8f2da"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bb67ed7253e83010b846ddeeff7b1204","value":"bb67ed7253e83010b846ddeeff7b1204"},"sys_update_name":"sys_ws_operation_3841fd9f5f922110f082532aca73135b","consumes_customized":"false","name":"PUT Cancel Deployment","produces":"application/json,application/xml,text/xml","relative_path":"/cancel/{record_sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_deploy_pipeline/scheduled_deployment/cancel/{record_sys_id}","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar sysId = request.pathParams.sys_id || null;\n\tif (!sysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Normal Change Request id not provided\");\n\n\tvar changeProcess = global.NormalChangeProcess.findById(sysId);\n\tif (!changeProcess)\n\t\treturn new sn_ws_err.NotFoundError(\"Normal Change Request not found\");\n\n\tif (!changeProcess.deleteRecord())\n\t\treturn new sn_ws_err.BadRequestError(\"Normal Change Request not deleted\");\n\n\treturn changeProcess.toJS();\n})(request, response);","sys_updated_on":"2018-07-07 19:43:07","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"38591b5f5303130096c3ddeeff7b1228","http_method":"DELETE","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/normal/{sys_id}","sys_created_on":"2018-07-07 19:43:07","sys_name":"Normal","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_38591b5f5303130096c3ddeeff7b1228","consumes_customized":"false","name":"Normal","produces":"application/json,application/xml,text/xml","relative_path":"/normal/{sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/normal/{sys_id}","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // implement resource here\n    var request_body = request.body.nextEntry();\n\n    var cartItemID = '' + request.pathParams.cart_item_id;\n    var noValidation = (request_body.sysparm_no_validation == 'true');\n\n    var gr = new GlideRecord('sc_cart_item');\n    if (!gr.get(cartItemID) || !gr.canRead())\n        throw new sn_ws_err.NotFoundError(\"Either the Cart Item ID is invalid or Security constraints prevents access to it!\");\n\n    if (!request_body.sysparm_id)\n        request_body.sysparm_id = gr.getValue(\"cat_item\");\n    else if (request_body.sysparm_id != gr.getValue(\"cat_item\"))\n        throw new sn_ws_err.BadRequestError(\"Cart Item ID & Item ID doesn't match to a record!\");\n\n    var quantity = '' + request_body.sysparm_quantity;\n\n    if (!/^\\+?([0-9]*)$/.test(quantity))\n        throw new sn_ws_err.BadRequestError(\"Invalid Quantity value\");\n    else\n        //Force convert quantity to String\n        request_body.sysparm_quantity = quantity;\n\n    var itemId = '' + request_body.sysparm_id;\n    var catItem = new sn_sc.CatItem(itemId);\n    if (!catItem.canView())\n        throw new sn_ws_err.NotFoundError(\"Security constraints prevent access to the Item\");\n\n\tvar catUtil = new RestCatalogUtil();\n    for (var key in request_body.variables)\n        if (request_body.variables.hasOwnProperty(key) && request_body.variables[key] != null && typeof(request_body.variables[key]) !== 'string')\n        \trequest_body.variables[key] = catUtil.getFieldValueAsString(key, request_body.variables[key], itemId);\n\n    if (!noValidation) {\n        if (!catUtil.checkMandatoryVariables(itemId, request_body.variables))\n            throw new sn_ws_err.BadRequestError('Mandatory Variables are required');\n    }\n\n    var messages = catUtil.validateVariableRegex(itemId, request_body.variables);\n    if (messages && messages.length > 0) {\n\t\tvar errorResponse = {};\n\t\terrorResponse.errMsg = messages.join();\n\t\tresponse.setStatus(400);\n\t\treturn errorResponse;\n\t}\n\n    var mrvsErrorMessages = catUtil.validateMaxRowCountMultiRowVS('sc_cart_item', cartItemID, itemId, request_body.variables);\n    if (mrvsErrorMessages && mrvsErrorMessages.length > 0) {\n        var errors = mrvsErrorMessages.join();\n        throw new sn_ws_err.BadRequestError(errors);\n    }\n\n    //Find out the cart name and then work through to handle wish list cart\n    var cartName = \"\";\n    var cartItemGr = new GlideRecordSecure('sc_cart_item');\n    if (cartItemGr.get(cartItemID))\n        cartName = '' + cartItemGr.cart.name;\n\n    var cart = new sn_sc.CartJS(cartName);\n    try {\n        response.setStatus(201);\n        return cart.updateCart(request_body, cartItemID);\n    } catch (e) {\n\t\tvar catalogExceptionUtils = new global.CatalogExceptionUtils();\n\t\tif(catalogExceptionUtils.isCartException(e)) {\n\t\t\tresponse.setStatus(400);\n\t\t\treturn catalogExceptionUtils.handleCartExceptionInPortal(e);\n\t\t}\n        gs.debug(e);\n        throw new sn_ws_err.BadRequestError(\"Invalid Request\");\n    }\n\n})(request, response);","sys_updated_on":"2021-09-18 17:47:21","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"385ddb14db90120064301150f0b8f564","http_method":"PUT","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/cart/{cart_item_id}","sys_created_on":"2015-12-09 10:43:10","sys_name":"Update Cart Item","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"47","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_385ddb14db90120064301150f0b8f564","consumes_customized":"false","name":"Update Cart Item","produces":"application/json,application/xml,text/xml","relative_path":"/cart/{cart_item_id}","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/cart/{cart_item_id}","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t//Updates the solution based on user targets\n    try {\n        var solutionId = decodeURI(request.pathParams.solution_id);\n        var queryParams = request.queryParams;\n        var targetMetricName = String(queryParams.target_metric_name);\n        var targetMetricValue = String(queryParams.target_metric_value);\n        var applyclassificationTargetValue = new sn_ml_ui.MLApplyClassificationTargetValues();\n\t\t\n\t\tapplyclassificationTargetValue.validateInputs(targetMetricName, targetMetricValue);\n        applyclassificationTargetValue.applyClassificationTargetValues(solutionId, targetMetricName, targetMetricValue);\n    } catch (error) {\n\t\tgs.info(gs.getMessage('Solution Update Failed : {0}',error));\n        return sn_ws_err.BadRequestError(error);\n    }\n\n})(request, response);","sys_updated_on":"2019-09-20 08:04:20","enforce_acl":"5a3bd3757351230080b29ca9faf6a7f2","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/456b8f4553103300d1dcddeeff7b12ac","value":"456b8f4553103300d1dcddeeff7b12ac"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"3883565173733300cddda4fa54f6a755","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_ml_ui/v1/ml_ui/applyClassificationTargetValues/{solution_id}","sys_created_on":"2019-09-09 08:41:11","sys_name":"applyClassificationTargetValues","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/21f30bcdb7d03300d1dcf8b8ee11a9eb","value":"21f30bcdb7d03300d1dcf8b8ee11a9eb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/c6facb4553103300d1dcddeeff7b1287","value":"c6facb4553103300d1dcddeeff7b1287"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"13","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/21f30bcdb7d03300d1dcf8b8ee11a9eb","value":"21f30bcdb7d03300d1dcf8b8ee11a9eb"},"sys_update_name":"sys_ws_operation_3883565173733300cddda4fa54f6a755","consumes_customized":"false","name":"applyClassificationTargetValues","produces":"application/json,application/xml,text/xml","relative_path":"/applyClassificationTargetValues/{solution_id}","produces_customized":"false","default_operation_uri":"/api/sn_ml_ui/ml_ui/applyClassificationTargetValues/{solution_id}","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tnew global.related_list_edit_helper().create(request, response);\n\n})(request, response);","sys_updated_on":"2023-10-04 21:34:33","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"38b163cf7707330022f7f4d2681061c2","http_method":"POST","sys_updated_by":"vincent.lim@snc","operation_uri":"/api/now/related_list_edit/create","sys_created_on":"2019-08-08 18:05:45","sys_name":"Create","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/e68a5fcb7707330022f7f4d2681061a2","value":"e68a5fcb7707330022f7f4d2681061a2"},"consumes":"application/json","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ba9c2f7b04352210559073c06a02f7cb","value":"ba9c2f7b04352210559073c06a02f7cb"},"sys_update_name":"sys_ws_operation_38b163cf7707330022f7f4d2681061c2","consumes_customized":"true","name":"Create","produces":"application/json,application/xml,text/xml","relative_path":"/create","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"function formatApiResponse(data) {\n    var response = {\n        sys_id: data.sys_id,\n        name: data.name,\n        description: data.description,\n        scope: data.scope,\n        scope_name: data.scope_name,\n        icon: \"/\" + data.icon + \".iix\",\n        files: [],\n\t\tcontained_roles: data.contained_roles\n    };\n\n    // Loop over all categories\n    Object.keys(data.categories)\n        .forEach(function(categorySysId) {\n            // Loop over all files in a category\n            Object.keys(data['categories'][categorySysId].files)\n                .forEach(function(fileSysId) {\n                    // Push the file in response\n                    response.files.push(data['categories'][categorySysId]['files'][fileSysId]);\n                });\n        });\n\n    return response;\n}\n\nfunction getDotWalkPath(path) {\n    var slashRegex = /^\\/+|\\/+$/g;\n    return (path || \"\").replace(slashRegex, \"\").replaceAll(\"/\", \".\");\n}\n\nfunction combineData(\n    role,\n    applicationInventory,\n    fileACLLookup,\n    categoryLookup,\n    filterCategories\n) {\n    // Setup base role info\n    var files = applicationInventory.files;\n\n    var data = {\n        sys_id: role.sys_id,\n        name: {\n            value: role.name_value,\n            display_value: role.name,\n        },\n        icon: role.icon,\n        description: role.description,\n        scope: role.scope,\n        scope_name: applicationInventory.scope_name,\n        categories: {},\n        contained_roles: role.contained_roles\n    };\n\n    for (var i = 0; i < filterCategories.length; i++) {\n        var categorySysId = filterCategories[i];\n        data['categories'][categorySysId] = {\n            sys_id: categorySysId,\n            name: categoryLookup[categorySysId].name,\n            description: categoryLookup[categorySysId].description,\n            files: {}\n        };\n    }\n\n    for (var idx = 0; idx < files.length; idx++) {\n        var file = files[idx];\n        var fileSysId = file.sys_id;\n        var fileNameValue = file.name_value;\n        var fileCategory = file.taxonomy_category;\n        var experienceFileName = getDotWalkPath(file.launch_url);\n\n        if (!data['categories'][fileCategory]) {\n            // File is not of category type data or experience\n            continue;\n        }\n\n        data['categories'][fileCategory]['files'][fileSysId] = {\n            sys_id: file.sys_id,\n            name: {\n                value: file.name_value,\n                display_value: file.name\n            },\n            taxonomy_category: file.taxonomy_category,\n            taxonomy_definition: file.taxonomy_definition,\n            launch_url: file.launch_url,\n            acl_file_name: file.name_value || experienceFileName,\n            acls: fileACLLookup[fileNameValue] || fileACLLookup[experienceFileName] || {}\n        };\n    }\n\n    return data;\n}\n\nfunction getCategoryLookup() {\n    var categoryRecords = new GlideRecord('sn_app_eng_studio_taxonomy_category');\n    var categoryLookup = {};\n\n    categoryRecords.query();\n\n    while (categoryRecords.next()) {\n        var sys_id = categoryRecords.getValue('sys_id');\n        categoryLookup[sys_id] = {\n            sys_id: sys_id,\n            name: categoryRecords.getValue('sys_name'),\n            description: categoryRecords.getValue('description')\n        };\n    }\n\n    return categoryLookup;\n}\n\n\nfunction getACLRecords(roleAssociationLookup) {\n    var aclRecords = new GlideRecord('sys_security_acl');\n    var aclQuery = null;\n    var fileACLLookup = {};\n\n    if (!Object.keys(roleAssociationLookup).length) {\n        // Since there are no acl's, there is nothing to lookup\n        return fileACLLookup;\n    }\n\n    aclRecords.addActiveQuery();\n\taclRecords.addQuery('sys_id', 'IN', Object.keys(roleAssociationLookup));\n    aclRecords.query();\n\n    while (aclRecords.next()) {\n        var sys_id = aclRecords.getValue('sys_id');\n        var fileName = aclRecords.getValue('name');\n        var operation = aclRecords.getValue('operation');\n\n        // The type can be name or sys_id of the sys_security_type\n        var type = aclRecords.getValue('type');\n        var aclKey = operation + '#' + type;\n\n        if (fileName.endsWith('.*')) {\n            // This is a ux_page_route entry, so combine it with ux_page entry by removing .*\n            fileName = fileName.slice(0, -2);\n        }\n\n        fileACLLookup[fileName] = fileACLLookup[fileName] || {};\n        fileACLLookup[fileName][aclKey] = {\n            sys_id: sys_id,\n            security_acl_role_sys_id: roleAssociationLookup[sys_id],\n            operation: operation\n        };\n    }\n\n    return fileACLLookup;\n}\n\nfunction getRoleAssociations(roleSysId) {\n    var roleAssociationRecords = new GlideRecord('sys_security_acl_role');\n    var roleAssociationLookup = {};\n\n    roleAssociationRecords.addQuery('sys_user_role', roleSysId);\n    roleAssociationRecords.query();\n\n    while (roleAssociationRecords.next()) {\n        var associationSysId = roleAssociationRecords.getValue('sys_id');\n        var aclSysId = roleAssociationRecords.getValue('sys_security_acl');\n        roleAssociationLookup[aclSysId] = associationSysId;\n    }\n\n    return roleAssociationLookup;\n}\n\nfunction getRoleDetails(roleSysId) {\n    var roleRecords = new GlideRecord('sys_user_role');\n    var taxonomyRecords = new GlideRecord('sn_app_eng_studio_taxonomy');\n    var roleContainsRecords = new GlideRecord('sys_user_role_contains');\n\n    roleRecords.addQuery('sys_id', roleSysId);\n    taxonomyRecords.addQuery('table', 'sys_user_role');\n    roleContainsRecords.addQuery('role', roleSysId);\n\n    roleRecords.query();\n    taxonomyRecords.query();\n    roleContainsRecords.query();\n\n    if (!roleRecords.next()) {\n        throw CreatorStudioConstants.errors.APPLICATION_FILE_DOES_NOT_EXIST;\n    }\n\n    if (!taxonomyRecords.next()) {\n        throw CreatorStudioConstants.errors.TAXONOMY_DEFINITION_DOES_NOT_EXIST;\n    }\n\n    var containedRoles = [];\n    while (roleContainsRecords.next()) {\n        containedRoles.push({ sys_id: roleContainsRecords.getValue('sys_id'), name: roleContainsRecords.getDisplayValue('contains') });\n    }\n\n    return {\n        sys_id: roleRecords.getValue('sys_id'),\n        name: roleRecords.getValue('name'),\n        name_value: roleRecords.getDisplayValue('name'),\n        icon: taxonomyRecords.getValue('icon'),\n        description: {\n            value: roleRecords.getValue('description'),\n            display_value: roleRecords.getDisplayValue('description'),\n        },\n        scope: {\n            value: roleRecords.getValue('sys_scope'),\n            display_value: roleRecords.getDisplayValue('sys_scope'),\n        },\n        contained_roles: containedRoles\n    };\n}\n\nfunction process(request, response) {\n    try {\n        var DATA_CATEGORY_SYS_ID = 'dd66a7577703330001fb4311a810611e';\n        var EXPERIENCE_CATEGORY_SYS_ID = 'db5663577703330001fb4311a81061b9';\n        var applicationSysId = request.pathParams.application_sys_id;\n        var roleSysId = request.pathParams.role_sys_id;\n\n        // Get the application inventory for the app-id sent in request\n        var applicationInventory = ApplicationInventoryListBuilder.build(applicationSysId);\n\n        // Get the sys_user_role for the role send in request\n        var role = getRoleDetails(roleSysId);\n\n        // Get associations with the role\n        var roleAssociationLookup = getRoleAssociations(roleSysId);\n\n        // Get the acl records from the associated sys_id's\n        var fileACLLookup = getACLRecords(roleAssociationLookup);\n\n        // Get category lookup to filter out data and experience files\n        var categoryLookup = getCategoryLookup();\n\n        // Combine all the data\n        var combinedData = combineData(\n            role,\n            applicationInventory,\n            fileACLLookup,\n            categoryLookup,\n            [DATA_CATEGORY_SYS_ID, EXPERIENCE_CATEGORY_SYS_ID]\n        );\n\n        response.setBody(formatApiResponse(combinedData));\n        response.setStatus(200);\n\n    } catch (exception) {\n        switch (exception) {\n            case CreatorStudioConstants.errors.APPLICATION_DOES_NOT_EXIST:\n\t\t\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t\t\t.setStatus(404)\n\t\t\t\t\t.setMessage(gs.getMessageLang('Application, with sys_id {0}, does not exist', \"en\", [applicationSysId]))\n\t\t\t\t\t.setDetail(gs.getMessage('Application, with sys_id {0}, does not exist', [applicationSysId]));\n\n            case CreatorStudioConstants.errors.APPLICATION_ACCESS_DENIED:\n\t\t\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t\t\t.setStatus(403)\n\t\t\t\t\t.setMessage(gs.getMessageLang('Access to application, with sys_id {0}, is denied', \"en\", [applicationSysId]))\n\t\t\t\t\t.setDetail(gs.getMessage('Access to application, with sys_id {0}, is denied', [applicationSysId]));\n\t\t\t\t\n            case CreatorStudioConstants.errors.APPLICATION_FILE_DOES_NOT_EXIST:\n\t\t\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t\t\t.setStatus(404)\n\t\t\t\t\t.setMessage(gs.getMessageLang('Application role object with sys_id {0} does not exist', \"en\", [roleSysId]))\n\t\t\t\t\t.setDetail(gs.getMessage('Application role object with sys_id {0} does not exist', [roleSysId]));\n\n            case CreatorStudioConstants.errors.TAXONOMY_DEFINITION_DOES_NOT_EXIST:\n\t\t\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t\t\t.setStatus(404)\n\t\t\t\t\t.setMessage(gs.getMessageLang('Taxonomy definition for sys_user_role {0} does not exist', \"en\", [roleSysId]))\n\t\t\t\t\t.setDetail(gs.getMessage('Taxonomy definition for sys_user_role {0} does not exist', [roleSysId]));\n\n            default:\n\t\t\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t\t\t.setStatus(500)\n\t\t\t\t\t.setMessage(gs.getMessageLang('Unhandled exception {0}', \"en\", [exception]))\n\t\t\t\t\t.setDetail(gs.getMessage('Unhandled exception {0}', [exception]));\n\n        }\n    }\n}\n\nprocess(request, response);","sys_updated_on":"2021-09-02 19:48:05","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/eff91f2c7700001001fb4311a8106131","value":"eff91f2c7700001001fb4311a8106131"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"38f1ee6053f350100f29ddeeff7b1290","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_app_eng_studio/v1/applications/{application_sys_id}/role_details/{role_sys_id}","sys_created_on":"2020-10-08 18:11:27","sys_name":"Get Role Details","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/4c41d3287700001001fb4311a81061ae","value":"4c41d3287700001001fb4311a81061ae"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"172","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_ws_operation_38f1ee6053f350100f29ddeeff7b1290","consumes_customized":"false","name":"Get Role Details","produces":"application/json,application/xml,text/xml","relative_path":"/{application_sys_id}/role_details/{role_sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_app_eng_studio/applications/{application_sys_id}/role_details/{role_sys_id}","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar sysId = request.pathParams.sys_id || \"\";\n\tif (!sysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Change Management Worker sysId not provided\");\n\n\tvar chgMgtWorkerGr = new GlideRecordSecure(global.ChangeManagementWorker.CHG_MGT_WORKER);\n\tif (!chgMgtWorkerGr.get(sysId))\n\t\treturn new sn_ws_err.NotFoundError(\"Change Management worker not found\");\n\n\treturn new global.ChangeManagementWorker(chgMgtWorkerGr).toJS();\n})(request, response);","sys_updated_on":"2019-01-21 17:50:15","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"394aa20fb78323000999e4f6ee11a971","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/worker/{sys_id}","sys_created_on":"2019-01-21 17:50:15","sys_name":"Worker","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_394aa20fb78323000999e4f6ee11a971","consumes_customized":"false","name":"Worker","produces":"application/json,application/xml,text/xml","relative_path":"/worker/{sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/worker/{sys_id}","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar sysId = request.pathParams.sys_id || null;\n\tif (!sysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Standard Change Request id not provided\");\n\n\tvar changeProcess = global.StandardChangeProcess.findById(sysId);\n\tif (!changeProcess)\n\t\treturn new sn_ws_err.NotFoundError(\"Standard Change Request not found\");\n\n\tif (!changeProcess.deleteRecord())\n\t\treturn new sn_ws_err.BadRequestError(\"Standard Change Request not deleted\");\n\n\treturn changeProcess.toJS();\n})(request, response);","sys_updated_on":"2018-07-07 19:49:06","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"3970d7db5303130096c3ddeeff7b1255","http_method":"DELETE","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/standard/{sys_id}","sys_created_on":"2018-07-07 19:04:25","sys_name":"Standard","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_3970d7db5303130096c3ddeeff7b1255","consumes_customized":"false","name":"Standard","produces":"application/json,application/xml,text/xml","relative_path":"/standard/{sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/standard/{sys_id}","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var ciConfigId = \"1bb0fa3353161010af5addeeff7b124b\"; //CI Guided Setup Config\n\n    try {\n        var gr = new GlideRecord('guided_setup_configuration_response');\n        gr.addQuery('parent_setup_config', ciConfigId);\n        gr.setValue('active', false);\n        gr.updateMultiple();\n\n        gr.initialize();\n        gr.setValue('category', 'skip_survey');\n        gr.setValue('value', 'true');\n        gr.setValue('parent_setup_config', ciConfigId);\n        gr.insert();\n\n        //remove the previous survey selections when survey is skipped\n        var userPref = new GlideRecord('sys_user_preference');\n        userPref.addQuery('name', 'save_survey_options');\n        userPref.orderByDesc('sys_updated_on');\n        userPref.setLimit(1);\n        userPref.query();\n        if (userPref.next())\n            gs.getUser().savePreference(\"save_survey_options\", '');\n\n    } catch (e) {\n        gs.error('Error occured in skip survey rest api' + e);\n    }\n})(request, response);","sys_updated_on":"2023-06-05 12:23:16","enforce_acl":"15ecc6e9c33a51104b8e88c7c840dd2b","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"397ae87253221010af5addeeff7b12fe","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_ci_gs_content/guided_setup_config_api/skip_survey","sys_created_on":"2020-08-14 05:56:15","sys_name":"Skip Survey","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/30f13c8d53521010af5addeeff7b121d","value":"30f13c8d53521010af5addeeff7b121d"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/cac9a47253221010af5addeeff7b122a","value":"cac9a47253221010af5addeeff7b122a"},"consumes":"application/json","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"11","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/30f13c8d53521010af5addeeff7b121d","value":"30f13c8d53521010af5addeeff7b121d"},"sys_update_name":"sys_ws_operation_397ae87253221010af5addeeff7b12fe","consumes_customized":"false","name":"Skip Survey","produces":"application/json","relative_path":"/skip_survey","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar payload = request.body.data;\n    var result = {};\n    var configUtil = new sn_oe_sfs.CollabConfigurationUtil();\n\tswitch (payload.operation) {\n        case 'INSERT_DELETE_RECORDS':\n            result = configUtil.insertOrDeleteRecord(payload.channel, payload.items);\n            break;\n\t\tcase 'GROUP_FILTER':\n            result = configUtil.applyGroupFilter(payload.channel, payload.items);\n            break;\n\t\tcase 'USER_FILTER':\n            result = configUtil.applyUserFilter(payload.channel, payload.items);\n            break;\n\tcase 'DELETE_CONFIG':\n             result = configUtil.deleteConfiguraton(payload.channel);\n             break;\n\t}\n    response.setContentType(\"application/json\");\n    response.setStatus(result.status);\n    response.setBody(result.body);\n})(request, response);","sys_updated_on":"2023-05-11 12:06:05","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"39c2ba235bd22110e4334bbca881c7ba","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_oe_sfs/sidebar_teams_permission_api/util","sys_created_on":"2023-04-25 18:27:10","sys_name":"util","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/53b1b0e79761011018b2fa98c253afcc","value":"53b1b0e79761011018b2fa98c253afcc"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/133272235bd22110e4334bbca881c7e7","value":"133272235bd22110e4334bbca881c7e7"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/53b1b0e79761011018b2fa98c253afcc","value":"53b1b0e79761011018b2fa98c253afcc"},"sys_update_name":"sys_ws_operation_39c2ba235bd22110e4334bbca881c7ba","consumes_customized":"false","name":"util","produces":"application/json,application/xml,text/xml","relative_path":"/util","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n  function _getTemplateSlots(viewTemplateSysId) {\n    // fetch view config and view config elements\n    var viewTemplateSlot = [];\n    var vtsGr = new GlideRecordSecure(\"sys_sg_view_template_slot\");\n    vtsGr.addQuery(\"view_template\", viewTemplateSysId);\n    vtsGr.query();\n\n    while (vtsGr.next()) {\n      var viewTemplateSlotAttributes = [];\n      var vtsaGr = new GlideRecordSecure(\"sys_sg_view_template_slot_attribute\");\n      vtsaGr.addQuery(\"view_template_slot\", vtsGr.getUniqueValue());\n      vtsaGr.query();\n      while (vtsaGr.next()) {\n        viewTemplateSlotAttributes.push({\n          id: vtsaGr.getUniqueValue(),\n          attributeName: {\n            id: vtsaGr.getValue(\"name\"),\n            name: vtsaGr.getDisplayValue(\"name\"),\n          },\n          description: vtsaGr.getValue(\"description\"),\n          value: vtsaGr.getValue(\"value\"),\n          translatedValue: vtsaGr.getValue(\"translated_value\"),\n        });\n      }\n\n      viewTemplateSlot.push({\n        id: vtsGr.getUniqueValue(),\n        name: vtsGr.getValue(\"name\"),\n        type: vtsGr.getDisplayValue(\"type\"),\n        templateSlotAttributes: viewTemplateSlotAttributes,\n      });\n    }\n\n    return viewTemplateSlot;\n  }\n\n  // Filter/Search/Pagination Query Paramters\n  var pagination = {\n    start: Number(request.queryParams[\"start\"]),\n    size: Number(request.queryParams[\"size\"]),\n  };\n  var requestedFilterApplication = request.queryParams[\"application\"];\n  var requestedFilterType = request.queryParams[\"type\"];\n  var requestedFilterSearch = request.queryParams[\"search\"];\n  var requestedSort = request.queryParams[\"sort\"];\n\n  var templateViewGR = new GlideRecordSecure(\"sys_sg_view_template\");\n\n  // Application Filtering\n  if (requestedFilterApplication) {\n    templateViewGR.addQuery(\"sys_scope\", String(requestedFilterApplication));\n  }\n\n  // Type Filtering\n  if (requestedFilterType) {\n    switch (String(requestedFilterType)) {\n      case \"defaultTemplates\":\n        var defaultTemplateSysIds =\n          new DefaultTemplateRepository().getDefaultTemplateSysIds();\n        templateViewGR.addQuery(\"sys_id\", \"IN\", String(defaultTemplateSysIds));\n        break;\n      case \"customTemplates\":\n        var defaultTemplateSysIds =\n          new DefaultTemplateRepository().getDefaultTemplateSysIds();\n        templateViewGR.addQuery(\n          \"sys_id\",\n          \"NOT IN\",\n          String(defaultTemplateSysIds)\n        );\n        break;\n      case \"myTemplates\":\n        var user = gs.getUser();\n        var userName = user.getName();\n        templateViewGR.addQuery(\"sys_created_by\", userName);\n        break;\n    }\n  }\n\n  // Search Filtering\n  if (requestedFilterSearch) {\n    var grORName = templateViewGR.addQuery(\n      \"name\",\n      \"CONTAINS\",\n      String(requestedFilterSearch)\n    );\n    grORName.addOrCondition(\n      \"description\",\n      \"CONTAINS\",\n      String(requestedFilterSearch)\n    );\n  }\n\n  // Total Record Count before Pagination\n  // GlideRecord.getRecordCount() does not take into account ACLs, and therefore we do not use it\n  // This has to be done in a second GlideRecordSecure because a subsequent query() does not return records\n  // if the scoped_administration is set to true for the filtering application for the admin user\n  var totalRecordCount = 0;\n  var totalCountTemplateViewGR = new GlideRecordSecure(\"sys_sg_view_template\");\n  totalCountTemplateViewGR.addEncodedQuery(templateViewGR.getEncodedQuery());\n  totalCountTemplateViewGR.query();\n  while (totalCountTemplateViewGR.next()) {\n    if (totalCountTemplateViewGR.canRead()) totalRecordCount++;\n  }\n\n  // Sort\n  if (requestedSort) {\n    switch (String(requestedSort)) {\n      case \"UpdatedDesc\":\n        templateViewGR.orderByDesc(\"sys_updated_on\");\n        break;\n      case \"UpdatedAsce\":\n        templateViewGR.orderBy(\"sys_updated_on\");\n        break;\n      case \"AlphaDesc\":\n        templateViewGR.orderByDesc(\"name\");\n        break;\n      case \"AlphaAsce\": // Default sort\n      default:\n        templateViewGR.orderBy(\"name\");\n    }\n  }\n\n  // Pagination\n  if (!isNaN(pagination.start) && !isNaN(pagination.size)) {\n    templateViewGR.chooseWindow(\n      pagination.start,\n      pagination.start + pagination.size\n    );\n  }\n\n  // Payload Construction\n  var templateViews = [];\n  templateViewGR.query();\n  while (templateViewGR.next()) {\n    if (templateViewGR.canRead()) {\n      var viewTemplateSlots = _getTemplateSlots(\n        templateViewGR.getUniqueValue()\n      );\n\n      templateViews.push({\n        id: templateViewGR.getUniqueValue(),\n        name: templateViewGR.getValue(\"name\"),\n        description: templateViewGR.getValue(\"description\"),\n        application: templateViewGR.getDisplayValue(\"sys_scope\"),\n        scope: templateViewGR.getValue(\"sys_scope\"),\n        updated: templateViewGR.getValue(\"sys_updated_on\"),\n        type: \"viewTemplate\",\n        jsonTemplate: templateViewGR.getValue(\"template_json\"),\n        templateSlots: viewTemplateSlots,\n      });\n    }\n  }\n\n  return {\n    templates: templateViews,\n    totalRecordCount: totalRecordCount,\n    paginationWindow: {\n      size: pagination.size,\n      range: {\n        start: pagination.start + 1,\n        end: pagination.start + pagination.size,\n      },\n      excludedCount: pagination.size - templateViews.length,\n    },\n  };\n})(request, response);\n","sys_updated_on":"2023-03-07 17:09:35","enforce_acl":"cf9d01d3e73003009d6247e603f6a990,d7088c08b751211095411226de11a9e9","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"39d2f05677121110112b7f7c8c5a99be","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/mcb/view_template/open_modal","sys_created_on":"2022-10-04 15:44:50","sys_name":"View Template - Open Modal - Get","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/63d8b7c573c51010a59b4c5353f6a737","value":"63d8b7c573c51010a59b4c5353f6a737"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"24","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_update_name":"sys_ws_operation_39d2f05677121110112b7f7c8c5a99be","consumes_customized":"false","name":"View Template - Open Modal - Get","produces":"application/json,application/xml,text/xml","relative_path":"/view_template/open_modal","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var appManagerApiUtil = new AppManagerApiUtil(request, response);\n    try {\n        var pageConfig = new sn_appclient.AppManagerPageConfigurationUtil().getPageConfigurations();\n        appManagerApiUtil.setResponseBody(pageConfig);\n    } catch (err) {\n        appManagerApiUtil.setError(err);\n    }\n})(request, response);","sys_updated_on":"2023-10-04 09:25:33","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/be08b89397b0d1104b593f0e6253afe1","value":"be08b89397b0d1104b593f0e6253afe1"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"39d3a6d177f21110adafc1bfbd5a9956","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_appclient/v1/appmanager/get_page_config","sys_created_on":"2022-10-26 18:25:59","sys_name":"GetPageConfig","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7ea1fc5f9770d1104b593f0e6253af99","value":"7ea1fc5f9770d1104b593f0e6253af99"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_update_name":"sys_ws_operation_39d3a6d177f21110adafc1bfbd5a9956","consumes_customized":"false","name":"GetPageConfig","produces":"application/json,application/xml,text/xml","relative_path":"/get_page_config","produces_customized":"false","default_operation_uri":"/api/sn_appclient/appmanager/get_page_config","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    return sn_glider.GliderGitRelay.execute(request, response, 'GET');\n})(request, response);","sys_updated_on":"2024-09-04 22:03:30","enforce_acl":"f7936c469f0202104f96136eba0a1c41","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/88c454eda3233110c4383702f31e61e2","value":"88c454eda3233110c4383702f31e61e2"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"39d494eda3233110c4383702f31e6111","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_glider/v1/relay","sys_created_on":"2024-01-05 01:18:50","sys_name":"Get","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/fd254d9443a161100967247e6bb8f200","value":"fd254d9443a161100967247e6bb8f200"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/70eecc29a3233110c4383702f31e6112","value":"70eecc29a3233110c4383702f31e6112"},"consumes":"application/json,application/xml,text/xml,application/x-git-upload-pack-request, application/x-git-receive-pack-request","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"76","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fd254d9443a161100967247e6bb8f200","value":"fd254d9443a161100967247e6bb8f200"},"sys_update_name":"sys_ws_operation_39d494eda3233110c4383702f31e6111","consumes_customized":"false","name":"Get","produces":"application/json,application/xml,text/xml,application/x-git-upload-pack-result,application/x-git-receive-pack-result","relative_path":"/","produces_customized":"false","default_operation_uri":"/api/sn_glider/relay","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    const params = UDCUtil.assign({},\n        request.pathParams,\n        UDCUtil.normalizeQueryParams(request.queryParams)\n    );\n    const {\n        appSysId,\n        enforceLimit\n    } = params;\n\n    return FileTaxonomy.getFilesByApp(appSysId, enforceLimit);\n})(request, response);","sys_updated_on":"2025-05-22 05:32:03","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/90711aa05bdc31109cf872c60a81c7fb","value":"90711aa05bdc31109cf872c60a81c7fb"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"3a11cf22f3a842101fd9ad941484ca2a","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_udc/v1/file_taxonomy/app/{appSysId}/files","sys_created_on":"2024-02-27 09:32:57","sys_name":"Get App Files","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ebf096a05bdc31109cf872c60a81c769","value":"ebf096a05bdc31109cf872c60a81c769"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_update_name":"sys_ws_operation_3a11cf22f3a842101fd9ad941484ca2a","consumes_customized":"false","name":"Get App Files","produces":"application/json,application/xml,text/xml","relative_path":"/app/{appSysId}/files","produces_customized":"false","default_operation_uri":"/api/sn_udc/file_taxonomy/app/{appSysId}/files","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n  var sysId = request.pathParams.sysId;\n  var format = sn_mab_api.McbResultFormats.viewTemplateFormat;\n\n  var util = new sn_mab_api.McbGlideRecordUtil(format);\n  if (util.verifyAuth('sys_sg_view_template', sysId)) {\n    var viewTemplateHM = util.getTemplate(sysId);\n\n    return viewTemplateHM;\n  } else {\n    response.setStatus(401);\n  }\n})(request, response);","sys_updated_on":"2024-09-10 15:25:44","enforce_acl":"4bbe81b4c703201066492f3bf4c260e6","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"3a2aed7dffa01210905a9f2203cb1465","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_mab_api/mab_api/cardTemplateMetadata/{sysId}","sys_created_on":"2024-09-10 15:25:44","sys_name":"Get Card Template Metadata","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3512bd93c7c12010100f2f3bf4c26049","value":"3512bd93c7c12010100f2f3bf4c26049"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_update_name":"sys_ws_operation_3a2aed7dffa01210905a9f2203cb1465","consumes_customized":"false","name":"Get Card Template Metadata","produces":"application/json,application/xml,text/xml","relative_path":"/cardTemplateMetadata/{sysId}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tif (!request.pathParams.id) response.setStatus(400);\n\telse {\n\t\tvar detail = request.queryParams['detail'] ?request.queryParams['detail'].toString(): \"low\";\n\t\tvar controller = new sn_tourbuilder.GTAutoLaunchController();\n\t\t/*  On the player side, we can't always find the gwtMessage object, especially on Workspace pages.\n\t\t    Due to this, we rely on the backend to get translations if the current session language is other than English, for all strings that are used on the player side\n\t\t*/\n        \tvar session = gs.getSession();\n    \t\tvar language = session.getLanguage();\n    \t\tvar i18n = (language==\"en\")?false:true;\n\t\tvar result = controller.getTourById(request.pathParams.id, detail,i18n);\n\t\tif (result.success) {\n\t\t\tresponse.setBody(result.payload);\n\t\t\tresponse.setStatus(200);\n\t\t} else {\n\t\t\tresponse.setStatus(404);\n\t\t}\n\t}\t\n\n})(request, response);","sys_updated_on":"2019-09-16 09:58:29","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/3268f36173eb13007077edcc5ef6a738","value":"3268f36173eb13007077edcc5ef6a738"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"3a8cf8c387231300b38c0f4c59cb0bb6","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/guided_tours/tours/{id}","sys_created_on":"2018-07-31 10:13:15","sys_name":"Get tour details by id","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/2405194d87e73200b38c0f4c59cb0b6f","value":"2405194d87e73200b38c0f4c59cb0b6f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_update_name":"sys_ws_operation_3a8cf8c387231300b38c0f4c59cb0bb6","consumes_customized":"false","name":"Get tour details by id","produces":"application/json,application/xml,text/xml","relative_path":"/tours/{id}","produces_customized":"false","default_operation_uri":"/api/now/guided_tours/tours/{id}","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var appManagerApiUtil = new AppManagerApiUtil(request, response);\n    try {\n        var args = appManagerApiUtil.getRequestParams();\n        var responseData = new AppInfoService().getInstanceAppInfo(args);\n        appManagerApiUtil.setResponseBody(responseData);\n    } catch (err) {\n        appManagerApiUtil.setError(err);\n    }\n})(request, response);","sys_updated_on":"2022-08-06 04:14:55","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/be08b89397b0d1104b593f0e6253afe1","value":"be08b89397b0d1104b593f0e6253afe1"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"3a99795c534511106883ddeeff7b1200","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_appclient/v1/appmanager/app/{appID}","sys_created_on":"2022-07-28 12:27:09","sys_name":"GetAppById","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7ea1fc5f9770d1104b593f0e6253af99","value":"7ea1fc5f9770d1104b593f0e6253af99"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_update_name":"sys_ws_operation_3a99795c534511106883ddeeff7b1200","consumes_customized":"false","name":"GetAppById","produces":"application/json,application/xml,text/xml","relative_path":"/app/{appID}","produces_customized":"false","default_operation_uri":"/api/sn_appclient/appmanager/app/{appID}","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n    response.setContentType('application/json');\n    var requestData = request.body.data;\n\n    if ((JSUtil.nil(requestData.ci_add_list) && JSUtil.nil(requestData.ci_remove_list))|| (requestData.ci_add_list.length == 0 && requestData.ci_remove_list.length == 0) || JSUtil.nil(requestData.cmdb_policy_type)) {\n        return new sn_ws_err.BadRequestError(\"Cannot perform edit Exclusion List operation without Cis and Policy type\");\n    }\n\n    var result = {};\n\tvar errorSysIdList = [];\n    var helper = new CMDBDataManagerHelper();\n\n\tif (requestData.ci_remove_list.length)\n\t\thelper.removeCIFromExclusionList(requestData.ci_remove_list, requestData.cmdb_policy_type);\n\n\tif (requestData.ci_add_list.length)\n\t\terrorSysIdList = helper.addCIToExclusionList(requestData.ci_add_list, requestData.cmdb_policy_type);\n\n    if (errorSysIdList.length > 0) {\n        var error = new sn_ws_err.ServiceError();\n        error.setStatus(400);\n        error.setMessage(\"Error occcured while creating CI Exclusion list\");\n        error.setDetail(\"Error occured while adding CIs \" + errorSysIdList.toString() + \" to the exclusion list\");\n        return error;\n    }\n    result.status = 'success';\n    response.setStatus(200);\n    response.setBody(result);\n\t\n})(request, response);","sys_updated_on":"2021-04-07 14:20:18","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"3ab0c56a7353201045cadfcd3bf6a738","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/ci_lifecycle_manager/edit_exclusion_list","sys_created_on":"2021-04-06 15:52:26","sys_name":"Edit Exclusion List","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ad9ebe127322101045cadfcd3bf6a735","value":"ad9ebe127322101045cadfcd3bf6a735"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"sys_update_name":"sys_ws_operation_3ab0c56a7353201045cadfcd3bf6a738","consumes_customized":"false","name":"Edit Exclusion List","produces":"application/json,application/xml,text/xml","relative_path":"/edit_exclusion_list","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        var requestBody = request.body.data;\n        var appSysId = requestBody.app_sys_id;\n        var pageNames = requestBody.page_names || null;  // Optional array\n\n        // Validate mandatory appSysId\n        if (!appSysId) {\n            return response.setStatus(400).setBody({ status: 'error', message: gs.getMessage('AppSysId is required') });\n        }\n\n        // Call the Script Include to fetch page names\n        var result = new UXAPageUtils().fetchPageNames(appSysId, screenType, operatingSystem, pageNames);\n\n        return response.setBody(result);\n    } catch (error) {\n        return response.setStatus(500).setBody({ status: 'error', message: gs.getMessage('An unexpected error occurred') });\n    }\n})(request, response);\n","sys_updated_on":"2024-09-17 16:43:16","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/d93d4288ffe7c21024f4ffffffffff52","value":"d93d4288ffe7c21024f4ffffffffff52"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"3ac6267c9fec12103bf5cb348a0a1cdd","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_uxa_req_manager/v1/uxa_data/get-page-display-name","sys_created_on":"2024-09-07 17:20:05","sys_name":"Get Page Display Name","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/e9f5c0d20b620210e8a937009777b2d7","value":"e9f5c0d20b620210e8a937009777b2d7"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"11","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_update_name":"sys_ws_operation_3ac6267c9fec12103bf5cb348a0a1cdd","consumes_customized":"false","name":"Get Page Display Name","produces":"application/json,application/xml,text/xml","relative_path":"/get-page-display-name","produces_customized":"false","default_operation_uri":"/api/sn_uxa_req_manager/uxa_data/get-page-display-name","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n/**\nParams:\n\ttableName\n\tsinceTime\n*/\n    var saOpsWrapper = new SaOperationsWrapper(SNC.SaActionsHandler);\n\tsaOpsWrapper.process(request,response, \"wasTableUpdatedSince\");\n\n})(request, response);","sys_updated_on":"2018-03-11 12:49:20","enforce_acl":"ea4f3ae287132200b5bea18dd0e3eceb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"3aff22937f520300995cbaf8befa917f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/it_service/wasTableUpdatedSince","sys_created_on":"2017-11-13 13:45:02","sys_name":"WasTableUpdatedSince - Internal API","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3418e25f7f120300995cbaf8befa912e","value":"3418e25f7f120300995cbaf8befa912e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_3aff22937f520300995cbaf8befa917f","consumes_customized":"false","name":"WasTableUpdatedSince - Internal API","produces":"application/json,application/xml,text/xml","relative_path":"/wasTableUpdatedSince","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar themeSysId = request.pathParams.themeSysId;\n\n\treturn new sn_mobile_theme.MobileThemeColorAPI().getWebColorVariablesByThemeId(themeSysId);\n\n})(request, response);","sys_updated_on":"2023-05-18 12:56:43","enforce_acl":"cf9d01d3e73003009d6247e603f6a990,d7088c08b751211095411226de11a9e9","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"3b5c098b77e11110112b7f7c8c5a9970","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/mcb/web_color_variable/{themeSysId}","sys_created_on":"2022-08-30 18:45:35","sys_name":"Web Color Variables By Theme ID - Get","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/63d8b7c573c51010a59b4c5353f6a737","value":"63d8b7c573c51010a59b4c5353f6a737"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"14","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_update_name":"sys_ws_operation_3b5c098b77e11110112b7f7c8c5a9970","consumes_customized":"false","name":"Web Color Variables By Theme ID - Get","produces":"application/json,application/xml,text/xml","relative_path":"/web_color_variable/{themeSysId}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n/**\nParams:\n\tbsId (sys_id)\n*/\n    var saOpsWrapper = new SaOperationsWrapper(SNC.SaActionsHandler);\n\tsaOpsWrapper.process(request,response, \"getAllBSPreferences\");\n\n})(request, response);","sys_updated_on":"2018-03-11 12:45:19","enforce_acl":"ea4f3ae287132200b5bea18dd0e3eceb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"3b7f2e537f520300995cbaf8befa919a","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/it_service/getAllBSPreferences","sys_created_on":"2017-11-13 13:42:52","sys_name":"GetAllBSPreferences - Internal API","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3418e25f7f120300995cbaf8befa912e","value":"3418e25f7f120300995cbaf8befa912e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_3b7f2e537f520300995cbaf8befa919a","consumes_customized":"false","name":"GetAllBSPreferences - Internal API","produces":"application/json,application/xml,text/xml","relative_path":"/getAllBSPreferences","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Ci properties for comparison map.","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n/**\nParameters:\n\tbsId (sys_id)\n\tciId (sys_id)\n\tstableId (stable id of CI)\n\tfrom (number, ms)\n\tto (number, ms)\n*/\n    var saOpsWrapper = new SaOperationsWrapper(SNC.SaActionsHandler);\n\tsaOpsWrapper.process(request,response, \"compareCiFullData\");\n\n})(request, response);","sys_updated_on":"2018-03-11 12:44:03","enforce_acl":"ea4f3ae287132200b5bea18dd0e3eceb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"3c1be2137f520300995cbaf8befa91b1","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/it_service/compareCiFullData","sys_created_on":"2017-11-13 13:24:03","sys_name":"CompareCiFullData - Internal API","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3418e25f7f120300995cbaf8befa912e","value":"3418e25f7f120300995cbaf8befa912e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_3c1be2137f520300995cbaf8befa91b1","consumes_customized":"false","name":"CompareCiFullData - Internal API","produces":"application/json,application/xml,text/xml","relative_path":"/compareCiFullData","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar contactPreferenceSysId = request.pathParams.contact_preference_sys_id + \"\";\n\tif (!contactPreferenceSysId)\n\t\treturn new sn_ws_err.BadRequestError(\"On-Call User Contact preference id not provided\");\n\t\n\tvar ocucpGr = new GlideRecord(\"on_call_user_contact_preference\");\n\tif (ocucpGr.get(contactPreferenceSysId)) {\n\t\tif (ocucpGr.canDelete()) {\n\t\t\tif (!ocucpGr.deleteRecord())\n\t\t\t\treturn new sn_ws_err.BadRequestError(\"On-Call User Contact preference deletion failed\");\n\t\t} else\n\t\t\treturn getSecurityConstraintError();\n\t} else\n\t\treturn new sn_ws_err.BadRequestError(\"Invalid sys id provided\");\n\t\n\tfunction getSecurityConstraintError() {\n\t\tvar respError = new sn_ws_err.ServiceError();\n\t\trespError.setStatus(403);\n\t\trespError.setMessage(\"Security constraints prevent access to requested resource\");\n\t\treturn respError;\n\t}\n\n\treturn;\n\t\n})(request, response);","sys_updated_on":"2019-04-09 11:15:49","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"3c36f4dc73243300cbb654eb7df6a77f","http_method":"DELETE","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/deleteUserContactPreference/{contact_preference_sys_id}","sys_created_on":"2019-03-28 09:56:46","sys_name":"deleteUserContactPreference","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_3c36f4dc73243300cbb654eb7df6a77f","consumes_customized":"false","name":"deleteUserContactPreference","produces":"application/json,application/xml,text/xml","relative_path":"/deleteUserContactPreference/{contact_preference_sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    const configurationHubUtil = new ConfigurationHubUtil();\n    let result = {\n        applications: configurationHubUtil.getInstalledApplications()\n    };\n    response.setContentType('application/json');\n    response.setStatus(200);\n    response.setBody(result);\n})(request, response);","sys_updated_on":"2023-06-26 22:05:40","enforce_acl":"f0b6b66f4f63611038e26c01b1ce0b3f","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"3ca1fef8b7a1211010ba064d2e11a905","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_config_hub/configuration_hub_api/app/data","sys_created_on":"2023-03-10 22:31:07","sys_name":"Get App Data","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/2028fe718b11c8f32122c6da3b496a83","value":"2028fe718b11c8f32122c6da3b496a83"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/d68a7cb5eb9221109cfedf3c03522847","value":"d68a7cb5eb9221109cfedf3c03522847"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2028fe718b11c8f32122c6da3b496a83","value":"2028fe718b11c8f32122c6da3b496a83"},"sys_update_name":"sys_ws_operation_3ca1fef8b7a1211010ba064d2e11a905","consumes_customized":"false","name":"Get App Data","produces":"application/json,application/xml,text/xml","relative_path":"/app/data","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar response_body = new CatalogSaveUtility().processAddItem(request,response, false); \n\treturn response_body;\n\n})(request, response);","sys_updated_on":"2023-07-26 22:06:42","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"3ca3d997c3003110547aab8f8740dd1a","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/items/{sys_id}/save_catalog_item","sys_created_on":"2023-07-20 16:42:12","sys_name":"Save Catalog Item","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_3ca3d997c3003110547aab8f8740dd1a","consumes_customized":"false","name":"Save Catalog Item","produces":"application/json,application/xml,text/xml","relative_path":"/items/{sys_id}/save_catalog_item","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/items/{sys_id}/save_catalog_item","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var appSysIDs = !global.JSUtil.nil(request.queryParams.appSysIDs) ? request.queryParams.appSysIDs.toString().trim() : \"\";\n    var result = CollabTaskServiceV2.getUserPendingCollaborationTasks(appSysIDs);\n    response.setBody(result.body);\n    response.setStatus(result.status);\n\n\n})(request, response);","sys_updated_on":"2023-11-14 07:31:11","enforce_acl":"6151fdac533130100f29ddeeff7b120a,1296f5b007223110523bc41f0ad300ba","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/d47b4a5dc7f33010408bc8d6f2c260cc","value":"d47b4a5dc7f33010408bc8d6f2c260cc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"3d1059a72d353110f877933d291d5d1e","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_collab_request/v2/collaboration_tasks_api/user_pending_collaboration_tasks","sys_created_on":"2023-10-16 10:55:38","sys_name":"Get User Pending Collaboration Tasks","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/6adeae39c3013010a9f5e548fa40dd4e","value":"6adeae39c3013010a9f5e548fa40dd4e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"25","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"sys_update_name":"sys_ws_operation_3d1059a72d353110f877933d291d5d1e","consumes_customized":"false","name":"Get User Pending Collaboration Tasks","produces":"application/json,application/xml,text/xml","relative_path":"/user_pending_collaboration_tasks","produces_customized":"false","default_operation_uri":"/api/sn_collab_request/collaboration_tasks_api/user_pending_collaboration_tasks","sys_policy":"read"},{"short_description":"","operation_script":"(function process(request, response) {\n    response.setContentType('application/json');\n    var result = {};\n    var policyId = request.pathParams.sys_id;\n    var helper = new CMDBDataManagerHelper();\n    var requestData = request.body.data;\n    var errorMessage = \"\";\n\n    if (JSUtil.nil(policyId) || JSUtil.nil(requestData.policy_details) || !helper.isMandatoryDataAvailable(requestData.policy_details)) {\n        errorMessage = \"Mandatory fields are missing from the request\";\n    } else if (!helper.isNameAvailable(requestData.policy_details.name, policyId)) {\n        errorMessage = \"The policy name is already in use\";\n    }\n    if (errorMessage) {\n        return new sn_ws_err.BadRequestError(errorMessage);\n    }\n\n    var policyDetails = helper.updatePolicy(requestData.policy_details, policyId);\n    if (!JSUtil.nil(policyDetails.error)) {\n        var error = new sn_ws_err.ServiceError();\n        error.setStatus(500);\n        error.setMessage(\"Failed to Update Policy\");\n        error.setDetail(policyDetails.error);\n        return error;\n    }\n    result.status = policyDetails.status;\n\tresult.sys_id = policyDetails.policySysId;\n    response.setStatus(200);\n    response.setBody(result);\n})(request, response);","sys_updated_on":"2021-03-23 23:37:29","enforce_acl":"bf20624e53832010af64ddeeff7b1272","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"3d1fbdec775620108043270bba1061d9","http_method":"PUT","sys_updated_by":"admin","operation_uri":"/api/now/ci_lifecycle_manager/policy/{sys_id}","sys_created_on":"2021-02-09 22:14:34","sys_name":"Update Policy","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ad9ebe127322101045cadfcd3bf6a735","value":"ad9ebe127322101045cadfcd3bf6a735"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"52","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"sys_update_name":"sys_ws_operation_3d1fbdec775620108043270bba1061d9","consumes_customized":"false","name":"Update Policy","produces":"application/json,application/xml,text/xml","relative_path":"/policy/{sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var tableName = String(request.queryParams.tableName || \"\");\n\tvar pdfId = String(request.queryParams.pdfId || \"\");\n\t\n\tvar helper = new PDFtoTableOperationHelper();\n\treturn helper.getPDFExtractorData(tableName, pdfId);\n    \n})(request, response);","sys_updated_on":"2022-07-27 18:02:51","enforce_acl":"f7e62b5f97e415108843f73ef053af30","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"3db100c8970555104d4736e71153afdf","http_method":"GET","sys_updated_by":"rahul.verma@snc","operation_uri":"/api/sn_pdf_table_bldr/app/fetchPdfExtractorDetails","sys_created_on":"2022-07-27 09:08:06","sys_name":"Fetch pdf extractor details","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/8e417ee064982b70a7bd187e6edb95f1","value":"8e417ee064982b70a7bd187e6edb95f1"},"sys_created_by":"rahul.verma@snc","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/16652f5b97e415108843f73ef053af22","value":"16652f5b97e415108843f73ef053af22"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8e417ee064982b70a7bd187e6edb95f1","value":"8e417ee064982b70a7bd187e6edb95f1"},"sys_update_name":"sys_ws_operation_3db100c8970555104d4736e71153afdf","consumes_customized":"false","name":"Fetch pdf extractor details","produces":"application/json,application/xml,text/xml","relative_path":"/fetchPdfExtractorDetails","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"Get choice list options for \"target\" field for sys_sg_ui_rule_action field.","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\ttry {\n\t\treturn new UIRuleActionFieldsService(request.queryParams).getTargetOptions();\n\t} catch (error) {\n\t\tnew ErrorHandler().throwSnWsError(error);\n\t}\n\n})(request, response);","sys_updated_on":"2022-04-19 15:53:27","enforce_acl":"4bbe81b4c703201066492f3bf4c260e6","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"3e4f258099733010fa9b23788e4a63db","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_mab_api/mab_api/uiRuleActionFields/target","sys_created_on":"2021-11-08 17:35:12","sys_name":"UI Rule Action Options - Target","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3512bd93c7c12010100f2f3bf4c26049","value":"3512bd93c7c12010100f2f3bf4c26049"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_update_name":"sys_ws_operation_3e4f258099733010fa9b23788e4a63db","consumes_customized":"false","name":"UI Rule Action Options - Target","produces":"application/json,application/xml,text/xml","relative_path":"/uiRuleActionFields/target","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    response.setContentType('application/json');\n\tvar result = [];\n\tvar queryParams = request.queryParams;\n\t\n\tvar grs = new GlideRecordSecure(\"svc_by_tags_service_family_categories_m2m\");\n\tgrs.addQuery(\"service_family\", queryParams.service_family);\n\tgrs.query();\n\t\n\twhile(grs.hasNext()){\n\t\tgrs.next();\n\t\tvar category = {};\n\t\tvar categoryGlideRecord = new GlideRecordSecure(\"svc_tag_categories\");\n        categoryGlideRecord.addQuery(\"sys_id\", grs.getValue(\"category\"));\n        categoryGlideRecord.query();\n\t\t\n\t\twhile (categoryGlideRecord.next()) {\n\t\t\tcategory.category = categoryGlideRecord.getValue(\"name\");\n        }\n        category.values = grs.getValue(\"values\");\n        result.push(category);\n\t}\n\n\tresponse.setStatus(200);\n\tresponse.setBody(result);\n\t\n})(request, response);","sys_updated_on":"2020-03-24 21:44:12","enforce_acl":"edc5e02473230010ee4dd3c72bf6a7ea","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"3e5e1fdc73230010ee4dd3c72bf6a758","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/csdm_app_service/tag_based_service_family_category","sys_created_on":"2020-03-10 21:28:24","sys_name":"Get Tag Based Service Family Category","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/60c171d973c30010ee4dd3c72bf6a716","value":"60c171d973c30010ee4dd3c72bf6a716"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2f8d67ff04352210559073c06a02f74f","value":"2f8d67ff04352210559073c06a02f74f"},"sys_update_name":"sys_ws_operation_3e5e1fdc73230010ee4dd3c72bf6a758","consumes_customized":"false","name":"Get Tag Based Service Family Category","produces":"application/json,application/xml,text/xml","relative_path":"/tag_based_service_family_category","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    const apiHelper = new APIHelper(request, response);\n    apiHelper.execute(function() {\n        const table = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.TABLE, null);\n        const tableGR = new GlideRecord(table);\n        apiHelper.getResponse({\n            displayField: tableGR.getDisplayName()\n        });\n    });\n\n})(request, response);","sys_updated_on":"2024-05-08 19:54:40","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239,c67e91dd43a11210eeba83020cb8f24c","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"3ea8f2a543020210eeba83020cb8f204","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/reference_display_value","sys_created_on":"2024-05-08 19:54:40","sys_name":"Reference field display value","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_3ea8f2a543020210eeba83020cb8f204","consumes_customized":"false","name":"Reference field display value","produces":"application/json,application/xml,text/xml","relative_path":"/reference_display_value","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var data = request.body.data;\n    try {\n        var modelId = data.modelId;\n        var removedIds = data.removedIds || [];\n        var trainPercent = data.trainPercent;\n        var result = new sn_nlu_workbench.TuneModel(modelId, removedIds, trainPercent).tuneModel();\n\n        if (result.status === 'success') {\n            response.setStatus(200);\n        } else {\n            response.setStatus(400);\n        }\n        response.setContentType('application/json');\n        return result;\n    } catch (e) {\n        return new sn_ws_err.BadRequestError(e.message);\n    }\n})(request, response);","sys_updated_on":"2022-10-19 20:18:25","enforce_acl":"0f43facbeb8220105de665fcc8522895","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b51a6d700710201028ef0a701ad300ab","value":"b51a6d700710201028ef0a701ad300ab"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"3eb28949c7221110c59d3d9c95c260ac","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_nlu_workbench/v1/nlu_advanced/addFeedbackToModels","sys_created_on":"2022-10-13 06:01:09","sys_name":"addFeedbackToModels","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea82488673402010e6b632e954f6a7ca","value":"ea82488673402010e6b632e954f6a7ca"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_update_name":"sys_ws_operation_3eb28949c7221110c59d3d9c95c260ac","consumes_customized":"false","name":"addFeedbackToModels","produces":"application/json,application/xml,text/xml","relative_path":"/addFeedbackToModels","produces_customized":"false","default_operation_uri":"/api/sn_nlu_workbench/nlu_advanced/addFeedbackToModels","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar tableName = request.pathParams.tableName;\n\tvar sysId = request.pathParams.sysId;\n\tvar externalNodes = request.body.data.externalNodes;\n\tvar configResponse;\n\t\n\ttry {\n\t\tvar configRetrievalService = new ConfigRetrievalService(false);\n\t\tconfigResponse = configRetrievalService.retrieveConfig(tableName, sysId, externalNodes);\n\t} catch (error) {\n\t\tnew ErrorHandler().throwSnWsError(error);\n\t}\n\n\tif (!configResponse || configResponse.isEmpty()) {\n\t\treturn new sn_ws_err.NotFoundError('Configuration for ' + tableName + ', with ID: ' + sysId + ', not found');\n\t}\n\t\n\treturn configResponse;\n})(request, response);","sys_updated_on":"2021-04-27 12:29:07","enforce_acl":"4bbe81b4c703201066492f3bf4c260e6","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"3ec4021bc7276010be78953c14c2609e","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_mab_api/mab_api/retrieveConfiguration/{tableName}/{sysId}","sys_created_on":"2021-04-21 15:04:38","sys_name":"Get Configuration with branchNodes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3512bd93c7c12010100f2f3bf4c26049","value":"3512bd93c7c12010100f2f3bf4c26049"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_update_name":"sys_ws_operation_3ec4021bc7276010be78953c14c2609e","consumes_customized":"false","name":"Get Configuration with branchNodes","produces":"application/json,application/xml,text/xml","relative_path":"/retrieveConfiguration/{tableName}/{sysId}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var taskSysId = request.pathParams.sysId || null;\n    if (!taskSysId)\n        return new sn_ws_err.BadRequestError('taskSysId not provided');\n\n    var decision = request.body.data.decision || null;\n    if (!decision)\n        return new sn_ws_err.BadRequestError('decision not provided');\n\n    var comments = request.body.data.comments || null;\n\tvar approvalId = request.body.data.approvalId || null;\n    return new SOWProblemUtils().updateApproval(taskSysId, decision, comments, approvalId);\n\n})(request, response);","sys_updated_on":"2024-07-05 14:57:40","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"3f4c8359435202108bfa3d1e2ab8f293","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/sn_sow_problem/sow_problem_utils/approvals/{sysId}","sys_created_on":"2024-05-20 12:54:51","sys_name":"Approvals","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/54a81ee10b11301039dd818393673a5c","value":"54a81ee10b11301039dd818393673a5c"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/8a16e47f5706021013d48f90ac94f9d5","value":"8a16e47f5706021013d48f90ac94f9d5"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/54a81ee10b11301039dd818393673a5c","value":"54a81ee10b11301039dd818393673a5c"},"sys_update_name":"sys_ws_operation_3f4c8359435202108bfa3d1e2ab8f293","consumes_customized":"false","name":"Approvals","produces":"application/json,application/xml,text/xml","relative_path":"/approvals/{sysId}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var dashboard = new NotificationDashboard();\n    var result = dashboard.fetchNotificationRecordById(request.body.data);\n    response.setBody(result);\n})(request, response);","sys_updated_on":"2024-09-26 19:39:43","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"3f5df40bfff85650ac42fbd38c4fd94b","http_method":"POST","sys_updated_by":"rishika.karri@snc","operation_uri":"/api/snc/notification_dashboard/notifications/email/notifInfo","sys_created_on":"2024-09-26 19:39:43","sys_name":"Get Notification By ID","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"rishika.karri@snc","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/a5ea2ec8ffec5a10ac42fbd38c4fd9fb","value":"a5ea2ec8ffec5a10ac42fbd38c4fd9fb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fa85f980ff6c5a10ac42fbd38c4fd9bd","value":"fa85f980ff6c5a10ac42fbd38c4fd9bd"},"sys_update_name":"sys_ws_operation_3f5df40bfff85650ac42fbd38c4fd94b","consumes_customized":"false","name":"Get Notification By ID","produces":"application/json,application/xml,text/xml","relative_path":"/notifications/email/notifInfo","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar input = request.body.data;\n    var taskId = input.taskId;\n    var action = input.action;\n\tvar ciCount = input.ciCount;\n\tvar hidePopupUserPref = input.hidePopupUserPref;\n\t\n\tvar result = {\n\t\taction: action,\n\t\tciCount: ciCount\n\t};\n\t\n\tvar smartDetectionUtil = new sn_cmdb_ws.CMDBAttestationSmartDetectionUtil();\n\tif (action === 'review') {\n\t\tsmartDetectionUtil.reviewSmartDetection(taskId, ciCount);\n\t} else if (action === 'accept') {\n\t\tvar res = smartDetectionUtil.acceptSmartDetection(taskId, ciCount);\n\t\tresult.ciCount = res.successCount;\n\t\tresult.error = res.error;\n\t} else if (action === 'cancel') {\n\t\tsmartDetectionUtil.cancelSmartDetection(taskId, ciCount, hidePopupUserPref);\n\t}\n    response.setBody(result);\n\n})(request, response);","sys_updated_on":"2022-06-13 22:06:45","enforce_acl":"39a22ab60735011017b703767cd30036","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"3f80c293b753011094bb21208e11a92d","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_cmdb_ws/cmdb_workspace_api_scoped/smartdetection/action","sys_created_on":"2022-05-11 20:49:48","sys_name":"Perform smart detection action","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3ff417b78f3f2010960c53ac37bdeefb","value":"3ff417b78f3f2010960c53ac37bdeefb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_update_name":"sys_ws_operation_3f80c293b753011094bb21208e11a92d","consumes_customized":"false","name":"Perform smart detection action","produces":"application/json,application/xml,text/xml","relative_path":"/smartdetection/action","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var isTemplateAuthor = gs.hasRole('app_template_author');\n\n    response.setBody({\n        isTemplateAuthor: isTemplateAuthor\n    });\n\n})(request, response);","sys_updated_on":"2022-02-04 16:42:50","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/f7ec1279c3202010a9f5e548fa40dd4d","value":"f7ec1279c3202010a9f5e548fa40dd4d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"3fd7f81377cd01106c94fe5fef5a99b6","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_app_eng_studio/v1/generic/is_template_author","sys_created_on":"2022-01-19 19:10:31","sys_name":"GET Is Template Author","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/37cc9e39c3202010a9f5e548fa40ddef","value":"37cc9e39c3202010a9f5e548fa40ddef"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_ws_operation_3fd7f81377cd01106c94fe5fef5a99b6","consumes_customized":"false","name":"GET Is Template Author","produces":"application/json,application/xml,text/xml","relative_path":"/is_template_author","produces_customized":"false","default_operation_uri":"/api/sn_app_eng_studio/generic/is_template_author","sys_policy":"read"},{"short_description":"Updates a macroponent record","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    const apiHelper = new APIHelper(request, response);\n    apiHelper.execute(function() {\n        const noDomain = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.NO_DOMAIN);\n        const includeRelatedRecords = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.INCLUDE_RELATED_RECORDS);\n        const {\n            macroponent,\n            clientScripts = [],\n            addOnEventMappings = [],\n            events = []\n        } = request.body.data;\n\n        if(macroponent && macroponent?.formFactors){\n            macroponent.formFactors = new FormFactorHelper().stripGlobalFormFactors(macroponent.formFactors);\n        }\n\n        if (includeRelatedRecords === true) {\n            const eventHandler = new UXEvent();\n            // We have to update, insert, or delete as needed\n            // Then we have to update our macroponent's dispatched/handled events\n            // Sometimes an event will already exist with the same namespace, so we just switch our MCP to that ID instead\n            const {\n                updatedDispatchedEvents = '',\n                    updatedHandledEvents = '',\n                    eventOperationResults = []\n            } = eventHandler.upsertAndDeleteRecords(events, macroponent);\n\n            if (updatedDispatchedEvents !== '' || updatedHandledEvents !== '') {\n                macroponent.dispatchedEvents = updatedDispatchedEvents;\n                macroponent.handledEvents = updatedHandledEvents;\n            }\n\n            apiHelper.getResponseFromMutliOperation({\n                macroponent: macroponent ? new Macroponent().updateRecord(macroponent) : true,\n                clientScripts: clientScripts ? new ClientScript().processRecordsByDatabaseOperation(clientScripts) : true,\n                addOnEventMappings: addOnEventMappings ? new UXAddOnEventMapping([], noDomain).processRecordsByDatabaseOperation(addOnEventMappings) : true,\n                events: eventOperationResults\n            });\n        } else {\n            apiHelper.getResponseGlideOperation(new Macroponent().updateRecord(macroponent), BuilderToolkitConstants.ERRORS.FAILED_TO_UPDATE);\n        }\n    });\n\n})(request, response);","sys_updated_on":"2024-04-15 10:36:40","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"{\n    \"macroponent\": {\n        \"requiredTranslations\": \"[ ]\",\n        \"sysId\": \"\",\n        \"sysScope\": {\n            \"value\": \"\",\n            \"displayValue\": \"\",\n            \"scopeName\": \"\"\n        },\n        \"props\": [],\n        \"extends\": \"\",\n        \"name\": \"\",\n        \"category\": \"\",\n        \"composition\": [],\n        \"data\": [],\n        \"layout\": {},\n        \"stateProperties\": [],\n        \"internalEventMappings\": {}\n    }\n}","sys_id":"4036116668ef9110f8772643d81e4f3f","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/macroponent","sys_created_on":"2022-12-06 16:15:48","sys_name":"Macroponent","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_4036116668ef9110f8772643d81e4f3f","consumes_customized":"false","name":"Macroponent","produces":"application/json,application/xml,text/xml","relative_path":"/macroponent","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        var params = request.body.data;\n        const uxaHandler = new UXAHandler();\n        const result = uxaHandler.handleFunnelRequest(params);\n        response.setBody(result);\n        response.setContentType('application/json');\n        response.setStatus(200);\n        return response;\n    } catch (error) {\n        response.setStatus(500);\n        response.setError(UXAError.getGenericError(error));\n        return response;\n    }\n})(request, response);","sys_updated_on":"2024-09-17 16:36:24","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/d93d4288ffe7c21024f4ffffffffff52","value":"d93d4288ffe7c21024f4ffffffffff52"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"407547f37f278e50979a7c936d8665bf","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_uxa_req_manager/v1/uxa_data/create-funnels","sys_created_on":"2024-07-31 16:13:43","sys_name":"Create Funnels","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/e9f5c0d20b620210e8a937009777b2d7","value":"e9f5c0d20b620210e8a937009777b2d7"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"12","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_update_name":"sys_ws_operation_407547f37f278e50979a7c936d8665bf","consumes_customized":"false","name":"Create Funnels","produces":"application/json,application/xml,text/xml","relative_path":"/create-funnels","produces_customized":"false","default_operation_uri":"/api/sn_uxa_req_manager/uxa_data/create-funnels","sys_policy":""},{"short_description":"","sys_updated_on":"2024-11-05 10:03:58","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"407cc9d3a3b3021083259788341e6199","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_mif/vtable/table/{tableName}","sys_created_on":"2024-08-08 22:18:42","sys_name":"MIFDataRetrieve","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/47401582b7a6b9501e8f827b9e11a913","value":"47401582b7a6b9501e8f827b9e11a913"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/160c0193a3b3021083259788341e61cd","value":"160c0193a3b3021083259788341e61cd"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"101","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/47401582b7a6b9501e8f827b9e11a913","value":"47401582b7a6b9501e8f827b9e11a913"},"sys_update_name":"sys_ws_operation_407cc9d3a3b3021083259788341e6199","consumes_customized":"false","name":"MIFDataRetrieve","produces":"application/json,application/xml,text/xml","relative_path":"/table/{tableName}","produces_customized":"false","default_operation_uri":"","sys_policy":"protected"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var taskSysId = request.pathParams.sysId || null;\n    if (!taskSysId)\n        return new sn_ws_err.BadRequestError('taskSysId not provided');\n\n    var decision = request.body.data.decision || null;\n    if (!decision)\n        return new sn_ws_err.BadRequestError('decision not provided');\n\n    var comments = request.body.data.comments || null;\n    var approvalId = request.body.data.approvalId || null;\n    return new SOWChangeUtils().updateApproval(taskSysId, decision, comments, approvalId);\n\n})(request, response);","sys_updated_on":"2024-07-01 14:26:33","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a912b23453a6111088d8ddeeff7b1240","value":"a912b23453a6111088d8ddeeff7b1240"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"412079035357111088d8ddeeff7b12b1","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/sn_sow_chg/v1/sow_change_utils/approvals/{sysId}","sys_created_on":"2022-11-25 21:10:00","sys_name":"Approvals","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3d876fa953615110532cddeeff7b12bb","value":"3d876fa953615110532cddeeff7b12bb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"8","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_update_name":"sys_ws_operation_412079035357111088d8ddeeff7b12b1","consumes_customized":"false","name":"Approvals","produces":"application/json,application/xml,text/xml","relative_path":"/approvals/{sysId}","produces_customized":"false","default_operation_uri":"/api/sn_sow_chg/sow_change_utils/approvals/{sysId}","sys_policy":""},{"short_description":"Gets either all lite-version component definitions or specific full ones","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\n\tconst apiHelper = new APIHelper(request, response);\n\tapiHelper.execute(function(){\t\t\n\t\tapiHelper.getResponse(new ComponentDefinitions().getInterfaceComponents(), BuilderToolkitConstants.ERRORS.NO_COMPONENT_DEFINITIONS);\n\t});\n\n})(request, response);","sys_updated_on":"2024-03-18 20:18:42","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"416ea0d043302110dd0383020cb8f2b1","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/component/interface","sys_created_on":"2023-01-30 16:53:39","sys_name":"Interface Components","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_416ea0d043302110dd0383020cb8f2b1","consumes_customized":"false","name":"Interface Components","produces":"application/json,application/xml,text/xml","relative_path":"/component/interface","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar setupPref = request.queryParams.setupPref,\n\t\tmodule = request.queryParams.module;\n\tvar actSubCtx = ActivitySubscriptionContext.getContext();\n\tif(!actSubCtx.isPluginEnabled()){\n\t\tresponse.setStatus(400);\n\t\treturn {\"status\":400,\n\t\t\t\t\"message\":\"Plugin is disabled please contact system administrator\"};\n\t}\n\n\tvar subscriptionService = actSubCtx.getSubscriptionService();\n\n\tvar result = subscriptionService.getSubscribableObjects(setupPref, module);\n\n\tresponse.setStatus(result.status);\n\tresponse.setContentType('application/json');\n\tresponse.setBody(result);\n\n})(request, response);","sys_updated_on":"2019-02-25 18:25:00","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/882dfe6853003200fa9bd7b08cc587d5","value":"882dfe6853003200fa9bd7b08cc587d5"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"419ff8bfdb013200624273c8f0b8f560","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/actsub/subobjects","sys_created_on":"2017-02-26 19:25:47","sys_name":"Subscribable Object","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/aabc7e6853003200fa9bd7b08cc5870f","value":"aabc7e6853003200fa9bd7b08cc5870f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/27dc6bfb04352210559073c06a02f739","value":"27dc6bfb04352210559073c06a02f739"},"sys_update_name":"sys_ws_operation_419ff8bfdb013200624273c8f0b8f560","consumes_customized":"false","name":"Subscribable Object","produces":"application/json,application/xml,text/xml","relative_path":"/subobjects","produces_customized":"false","default_operation_uri":"/api/now/actsub/subobjects","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n    var workspaceId = request.pathParams.workspace_id;\n    var urlRoot = '/sys_security_acl.do?sys_id=';\n\n    if (!workspaceId)\n        return new sn_ws_err.BadRequestError('No workspace_id provided');\n\n    var service = new WorkspaceAdminHelper();\n    aclId = service.generateAclId(workspaceId);\n\n    if (!aclId)\n        return new sn_ws_err.BadRequestError('Error retrieving acl url');\n\n    response.setLocation(urlRoot + aclId);\n    response.setStatus(301);\n})(request, response);","sys_updated_on":"2019-07-30 20:14:10","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"41cfd1107743330065117206d81061be","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/workspace_administration/workspace_acl/{workspace_id}","sys_created_on":"2019-07-30 19:34:47","sys_name":"Workspace ACL","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/676c785c7703330065117206d81061cc","value":"676c785c7703330065117206d81061cc"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/990a233f04f12210559073c06a02f754","value":"990a233f04f12210559073c06a02f754"},"sys_update_name":"sys_ws_operation_41cfd1107743330065117206d81061be","consumes_customized":"false","name":"Workspace ACL","produces":"application/json,application/xml,text/xml","relative_path":"/workspace_acl/{workspace_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Get map notifications for UI. Currently supports single notification at time","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t/*\n\t * params:\n\t\t\t bsId - id of business service.\n\t   returns:\n\t\t  JSON encoding MapNotificationDTO, or\n\t\t  JSON encoding empty string: if no notifications on service.\n\t */\n    var saOpsWrapper = new SaOperationsWrapper(SNC.SaActionsHandler);\n\tsaOpsWrapper.process(request,response, \"getMapNotifications\");\n\n})(request, response);","sys_updated_on":"2018-03-14 14:45:39","enforce_acl":"a0ae0157c30303008ebd1962c1d3aeb1","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"41d2f916c3b013008ebd1962c1d3aee3","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/it_service/mapNotifications","sys_created_on":"2018-03-14 13:40:38","sys_name":"MapNotifications - Internal API","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3418e25f7f120300995cbaf8befa912e","value":"3418e25f7f120300995cbaf8befa912e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_41d2f916c3b013008ebd1962c1d3aee3","consumes_customized":"false","name":"MapNotifications - Internal API","produces":"application/json,application/xml,text/xml","relative_path":"/mapNotifications","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var output = {\n        \"onCallData\": [],\n        \"groups\": {},\n        \"users\": {},\n        \"rotas\": {},\n        \"rosters\": {},\n        \"members\": {},\n        \"_metaData\": {\n            \"offset\": \"0\",\n            \"groupsLimit\": \"5\",\n            \"hasMoreGroups\": false,\n            \"groupsCount\": \"0\",\n            \"activeGroupsCount\": \"0\"\n        }\n    };\n    if (!request.body || !request.body.data)\n        return output;\n    var nameValuePairs = global.ChangeCommon.assign({}, request.queryParams, request.body.data);\n\n    var date_time = null;\n    if (nameValuePairs.date_time && typeof nameValuePairs.date_time !== 'undefined' && nameValuePairs.date_time !== 'undefined') {\n        date_time = nameValuePairs.date_time + '';\n        delete nameValuePairs.date_time;\n    }\n\n    var sysparm_offset = null;\n    if (typeof nameValuePairs.sysparm_offset !== 'undefined') {\n        sysparm_offset = nameValuePairs.sysparm_offset + '';\n        delete nameValuePairs.sysparm_offset;\n    }\n\n    var sysparm_limit = null;\n    if (typeof nameValuePairs.sysparm_limit !== 'undefined') {\n        sysparm_limit = nameValuePairs.sysparm_limit + '';\n        delete nameValuePairs.sysparm_limit;\n    }\n\n    var textSearch = '';\n    if (typeof nameValuePairs.textSearch !== 'undefined') {\n        textSearch = (nameValuePairs.textSearch + '').trim();\n        delete nameValuePairs.textSearch;\n    }\n\n    if (gs.nil(textSearch))\n        return output;\n\n    var exclude_groups = null;\n    if (typeof nameValuePairs.exclude_groups !== 'undefined') {\n        exclude_groups = nameValuePairs.exclude_groups + '';\n        delete nameValuePairs.exclude_groups;\n    }\n\n    var active_groups = false;\n    if (typeof nameValuePairs.active_groups !== 'undefined') {\n        active_groups = nameValuePairs.active_groups;\n        delete nameValuePairs.active_groups;\n    }\n\n    return new OnCallRotationSow().getOnCallGroupData(date_time, sysparm_offset, sysparm_limit, GlideStringUtil.escapeQueryTermSeparator(decodeURIComponent(textSearch)), exclude_groups, active_groups);\n})(request, response);","sys_updated_on":"2024-07-03 05:44:18","enforce_acl":"1dbba406eb197110249e8d835d52281f","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"41d8021553b320100999ddeeff7b123b","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_sow_on_call/on_call_shifts/oncallgroups","sys_created_on":"2021-04-27 20:26:26","sys_name":"oncallgroups","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/7e3c2481539260100c54ddeeff7b127b","value":"7e3c2481539260100c54ddeeff7b127b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/999a9a18536230100999ddeeff7b12a4","value":"999a9a18536230100999ddeeff7b12a4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7e3c2481539260100c54ddeeff7b127b","value":"7e3c2481539260100c54ddeeff7b127b"},"sys_update_name":"sys_ws_operation_41d8021553b320100999ddeeff7b123b","consumes_customized":"false","name":"oncallgroups","produces":"application/json,application/xml,text/xml","relative_path":"/oncallgroups","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var flowActionGr = new GlideRecord('sys_hub_action_type_definition');\n\tflowActionGr.addActiveQuery();\n    flowActionGr.query();\n\n    var flowActionData = [];\n    while (flowActionGr.next()) {\n        flowActionData.push({\n            id: flowActionGr.getUniqueValue(),\n            label: flowActionGr.getValue('name'),\n            scope: flowActionGr.sys_scope.source,\n            internal_name: flowActionGr.getValue('internal_name')\n        });\n    }\n\n    response.setBody(flowActionData);\n\n})(request, response);","sys_updated_on":"2023-05-18 12:22:47","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"4251bfb0c3ba291044104fb9c840dde7","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/ace/getFlowActionData","sys_created_on":"2023-05-12 07:31:25","sys_name":"Get flow action data","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/090c5ee353721110c733ddeeff7b1299","value":"090c5ee353721110c733ddeeff7b1299"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_update_name":"sys_ws_operation_4251bfb0c3ba291044104fb9c840dde7","consumes_customized":"false","name":"Get flow action data","produces":"application/json,application/xml,text/xml","relative_path":"/getFlowActionData","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var schUtil = new SchedulePageUtilSNC();\n\tvar pg = schUtil.getSchedulePageById(request.pathParams.schedule_page_sys_id);\n\tif (pg) {\n\t\treturn schUtil.getSchedulePageInfo(pg);\n\t}\n\tnew sn_ws_err.NotFoundError(gs.getMessage('Page not found'));\n\n})(request, response);","sys_updated_on":"2017-07-25 10:52:13","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"427d56ab87040300b18a046787cb0b79","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/schedule_page/{schedule_page_sys_id}","sys_created_on":"2017-07-25 10:43:30","sys_name":"Get page Info","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/9a31657653373200e8960ef5d5dc34d5","value":"9a31657653373200e8960ef5d5dc34d5"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/81e45c800b833200ecfd818393673a2e","value":"81e45c800b833200ecfd818393673a2e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9a31657653373200e8960ef5d5dc34d5","value":"9a31657653373200e8960ef5d5dc34d5"},"sys_update_name":"sys_ws_operation_427d56ab87040300b18a046787cb0b79","consumes_customized":"false","name":"Get page Info","produces":"application/json,application/xml,text/xml","relative_path":"/{schedule_page_sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tif (!gs.hasRole(\"security_admin\")) {\n\t\tvar accessRestrictedError = new sn_ws_err.ServiceError();\n\t\taccessRestrictedError.setStatus(403);\n\t\taccessRestrictedError.setMessage(gs.getMessage(\"Insufficent privileges to modify exclusion list\"));\n\t\tresponse.setError(accessRestrictedError);\n\t\t\n\t\treturn;\n\t}\n\t\t\n\tif (!request.pathParams.group_id) {\n\t\tresponse.setError(new sn_ws_err.BadRequestError(gs.getMessage('request is missing password group id')));\n\n\t\treturn;\n\t}\n\n\tvar workerId = SNC.PasswordPolicyUtil.installPasswordLists(request.pathParams.group_id);\n\tif (workerId == null || workerId == 'undefined')\n\t\treturn new sn_ws_err.BadRequestError(gs.getMessage('password exclusion list progress worker not available'));\n\t\n\treturn { \"workerID\": workerId };\n})(request, response);","sys_updated_on":"2022-05-03 21:13:15","enforce_acl":"8823b1de778230106407f0ec8e5a99d6","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"42f495c9770230106407f0ec8e5a9972","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/passwordexclusionlist/set_group/{group_id}","sys_created_on":"2021-08-16 18:41:00","sys_name":"setExclusionListGroup","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/87045d89770230106407f0ec8e5a9974","value":"87045d89770230106407f0ec8e5a9974"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"17","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f915e73304712210559073c06a02f7e1","value":"f915e73304712210559073c06a02f7e1"},"sys_update_name":"sys_ws_operation_42f495c9770230106407f0ec8e5a9972","consumes_customized":"false","name":"setExclusionListGroup","produces":"application/json,application/xml,text/xml","relative_path":"/set_group/{group_id}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\t// Ensuring that we provide spans according to the session TZ without unnecessary manipulation on the client using g_tz_offset, which provides an offset with an hour less.\n\tvar startDate = new GlideDateTime();\n\tstartDate.setDisplayValueInternal(request.pathParams.start_date);\n\tvar endDate = new GlideDateTime();\n\tendDate.setDisplayValueInternal(request.pathParams.end_date);\n\n\tvar changeGr = new GlideRecord(ChangeRequestCalendarSNC.CHANGE);\n\tif (changeGr.get(request.pathParams.sys_id)) {\n\t\tvar cchange;\n\n\t\tif(GlidePluginManager.isActive(\"com.snc.change_management.cab\"))\n\t\t\tcchange = new sn_change_cab.CABChangeRequest(changeGr);\n\t\telse\n\t\t\tcchange = new global.ChangeRequestCalendar(changeGr);\n\n\t\tvar data = cchange.getRelatedSchedules(startDate, endDate);\n\t\treturn {\n\t\t\tmaintenance: cchange.getScheduleInformation(data.maintenance, startDate, endDate),\n\t\t\tblackout: cchange.getScheduleInformation(data.blackout, startDate, endDate),\n\t\t\twarn_invalid_conflict_checker: data.is_invalid_conflict_checker_si\n\t\t};\n\t} else {\n\t\treturn new sn_ws_err.NotFoundError('Given Change Request not found');\n\t}\n\n})(request, response);","sys_updated_on":"2021-04-01 15:18:16","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"4382346e0b2332005775aabcb4673abd","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/change_request_calendar/change/{sys_id}/{start_date}/{end_date}","sys_created_on":"2017-06-27 03:48:38","sys_name":"Change Schedules Meta","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/0472746e0b2332005775aabcb4673a25","value":"0472746e0b2332005775aabcb4673a25"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"12","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3eb7af7f04b12210559073c06a02f7fb","value":"3eb7af7f04b12210559073c06a02f7fb"},"sys_update_name":"sys_ws_operation_4382346e0b2332005775aabcb4673abd","consumes_customized":"false","name":"Change Schedules Meta","produces":"application/json,application/xml,text/xml","relative_path":"/change/{sys_id}/{start_date}/{end_date}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var input = request.body.data;\n\n    var taskId = input.taskId;\n    var selectProps = input.selectProps;\n    var attributes = input.attributes;\n    var action = input.action;\n    var comment = input.comment;\n\n    var proxy = new sn_cmdb_ws.CMDBWsDMTaskUIProxy();\n    var result = {};\n    if (action === 'certify') {\n        if (attributes && attributes.length) {\n            result = proxy.certifyAttributes(taskId, attributes, comment, selectProps);\n        } else {\n            result = proxy.certifyRecords(taskId, selectProps);\n        }\n    } else if (action === 'fail') {\n        if (attributes && attributes.length) {\n            result = proxy.failAttributes(taskId, attributes, comment, selectProps);\n        } else {\n            result = proxy.failRecords(taskId, selectProps);\n        }\n    }\n\n    response.setBody({\n        action: action,\n        result: result\n    });\n\n})(request, response);","sys_updated_on":"2024-03-07 05:07:10","enforce_acl":"39a22ab60735011017b703767cd30036","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"4388106953b882106adfddeeff7b12d0","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_cmdb_ws/cmdb_workspace_api_scoped/certification/action","sys_created_on":"2024-03-07 04:57:29","sys_name":"Perform certification action","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3ff417b78f3f2010960c53ac37bdeefb","value":"3ff417b78f3f2010960c53ac37bdeefb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_update_name":"sys_ws_operation_4388106953b882106adfddeeff7b12d0","consumes_customized":"false","name":"Perform certification action","produces":"application/json,application/xml,text/xml","relative_path":"/certification/action","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n\n    var appId = request.pathParams.appId;\n\n    ScopeCheck.verifyNotGlobal(appId);\n\n    var allowed = VCSAppAccessCheck.verifyWriteAccess(appId) && (VCSAppAccessCheck.verifyPublishAccess(appId) || VCSAppAccessCheck.isGACOrSourceControlUser() || VCSAppAccessCheck.verifyVersionControlAccess(appId));\n\n    if (!allowed) \n\t\tVCSAppAccessCheck.throwAccessDenied(appId);\n\n    var progressId = sn_vcs.AppSourceControl.commitOutgoingChanges()\n        .setSysApp(appId)\n        .setCommitMessage(request.body.data.commitMessage || '')\n        .setCommitMode(request.body.data.commitMode || '')\n        .setListOfFilesToBeCommited(request.body.data.changedRecords || [])\n        .start();\n\n    response.setContentType('application/json');\n\n\tresponse.setBody({\n\t\tprogressId: progressId\n\t});\n\tresponse.setStatus(202);\n\n})(request, response);","sys_updated_on":"2022-05-13 14:47:24","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"43b2bd7237930200612747efbe41f14f","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/apps/{appId}/repos/{repoId}/commits","sys_created_on":"2015-10-28 04:18:55","sys_name":"Commit Local Changes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"47","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_43b2bd7237930200612747efbe41f14f","consumes_customized":"false","name":"Commit Local Changes","produces":"application/json,application/xml,text/xml","relative_path":"/apps/{appId}/repos/{repoId}/commits","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/apps/{appId}/repos/{repoId}/commits","sys_policy":"read"},{"short_description":"","operation_script":"(function process(request, response) {\n\tvar userId = request.pathParams.userId;\n\t\n\tUserCheck.verifyLoggedIn(userId);\n\n\tresponse.setBody({\n\t\tuser: gs.getUserID(),\n\t\tprefs: UserPreferences.get(userId)\n\t});\n\tresponse.setStatus(200);\n\tresponse.setContentType('application/json');\n\n})(request, response);","sys_updated_on":"2016-05-03 15:39:43","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/3aee689137031200612747efbe41f143","value":"3aee689137031200612747efbe41f143"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"4401fc9137031200612747efbe41f15f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/users/{userId}/preferences","sys_created_on":"2016-04-26 17:36:42","sys_name":"List User Preferences","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/842e289137031200612747efbe41f1ce","value":"842e289137031200612747efbe41f1ce"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"13","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_4401fc9137031200612747efbe41f15f","consumes_customized":"false","name":"List User Preferences","produces":"application/json,application/xml,text/xml","relative_path":"/{userId}/preferences","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/users/{userId}/preferences","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar offset = isNaN(parseInt(request.queryParams.offset)) ? 0 : parseInt(request.queryParams.offset);\n\tvar limit = isNaN(parseInt(request.queryParams.chg_model_limit)) ? 40 : parseInt(request.queryParams.chg_model_limit);\n\tvar filter = (request.queryParams.filter && request.queryParams.filter !== \"undefined\") ? request.queryParams.filter + \"\" : \"all\";\n\tvar orderBy = (request.queryParams.orderby && request.queryParams.orderby !== \"undefined\") ? request.queryParams.orderby + \"\" : \"name\";\n\tvar textSearch = (!request.queryParams.text_search || request.queryParams.text_search === \"undefined\") ? \"\" : request.queryParams.text_search + \"\".trim();\n\n\tif (offset === -1)\n\t\treturn new ChgLandingCardBuilder().initialHit(orderBy, textSearch);\n\treturn new ChgLandingCardBuilder().getChgLandingCards(offset, limit, filter, orderBy, textSearch);\n})(request, response);","sys_updated_on":"2020-09-15 18:20:05","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"44574095535f10100999ddeeff7b1215","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_chg_model_ui/landing/chgmodels","sys_created_on":"2020-09-15 18:20:05","sys_name":"chgmodels","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bb9f15345332101034d1ddeeff7b12c8","value":"bb9f15345332101034d1ddeeff7b12c8"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5af68855535f10100999ddeeff7b1288","value":"5af68855535f10100999ddeeff7b1288"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bb9f15345332101034d1ddeeff7b12c8","value":"bb9f15345332101034d1ddeeff7b12c8"},"sys_update_name":"sys_ws_operation_44574095535f10100999ddeeff7b1215","consumes_customized":"false","name":"chgmodels","produces":"application/json,application/xml,text/xml","relative_path":"/chgmodels","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var actSubCtx = ActivitySubscriptionContext.getContext();\n    if (!actSubCtx.isPluginEnabled()) {\n        response.setStatus(400);\n        return {\n            \"status\": 400,\n            \"message\": \"Plugin is disabled please contact system administrator\"\n        };\n    }\n\n    var reqObject = {};\n    reqObject.activity_count = request.queryParams.activity_count || gs.getProperty('com.snc.actsub.activities.api.fetch.limit');\n    reqObject.stream = request.queryParams.stream;\n    reqObject.profileId = request.queryParams.profile_id;\n    reqObject.stFrom = request.queryParams.stFrom;\n    reqObject.last = request.queryParams.last;\n    reqObject.before = request.queryParams.before;\n    reqObject.actor = request.queryParams.actor;\n    reqObject.enableAggregation = request.queryParams.enableAggregation + \"\" == \"true\";\n    reqObject.isFirstLoad = request.queryParams.isFirstLoad + \"\" == \"true\";\n    reqObject.contextId = request.queryParams.context;\n    reqObject.contextInstanceId = request.queryParams.context_instance;\n    reqObject.facetIds = request.queryParams.facets;\n    reqObject.recordId = request.queryParams.record_id;\n    reqObject.startDate = request.queryParams.start_date;\n    reqObject.endDate = request.queryParams.end_date;\n\t  reqObject.searchText = request.queryParams.search_text;\n\n    var activityService = actSubCtx.getActivityService();\n    var activities = activityService.getActivitiesData(reqObject);\n\n    response.setContentType('application/json');\n    response.setStatus(activities.status);\n    if (activities.status == 200)\n        response.setBody(activities.data);\n    else\n        response.setBody(activities);\n\n})(request, response);","sys_updated_on":"2024-07-15 10:29:02","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/882dfe6853003200fa9bd7b08cc587d5","value":"882dfe6853003200fa9bd7b08cc587d5"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"445f7ea853003200fa9bd7b08cc587e8","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/actsub/activities","sys_created_on":"2016-12-29 09:16:03","sys_name":"Activities","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/aabc7e6853003200fa9bd7b08cc5870f","value":"aabc7e6853003200fa9bd7b08cc5870f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"false","sys_mod_count":"31","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/27dc6bfb04352210559073c06a02f739","value":"27dc6bfb04352210559073c06a02f739"},"sys_update_name":"sys_ws_operation_445f7ea853003200fa9bd7b08cc587e8","consumes_customized":"false","name":"Activities","produces":"application/json,application/xml,text/xml","relative_path":"/activities","produces_customized":"false","default_operation_uri":"/api/now/actsub/activities","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar offset = isNaN(parseInt(request.queryParams.offset)) ? 0 : parseInt(request.queryParams.offset);\n\tvar limit = isNaN(parseInt(request.queryParams.chg_model_limit)) ? 40 : parseInt(request.queryParams.chg_model_limit);\n\tvar filter = (request.queryParams.filter && request.queryParams.filter !== \"undefined\") ? request.queryParams.filter + \"\" : \"\";\n\tvar orderBy = (request.queryParams.orderby && request.queryParams.orderby !== \"undefined\") ? request.queryParams.orderby + \"\" : \"name\";\n\tvar textSearch = (!request.queryParams.text_search || request.queryParams.text_search === \"undefined\") ? \"\" : request.queryParams.text_search + \"\".trim();\n\tvar restrict = (!request.queryParams.restrict || request.queryParams.restrict === \"undefined\") ? \"\" : request.queryParams.restrict + \"\".trim();\n\tvar encodedQuery = \"available_in_ui=true\";\n\n\treturn new SowChangeCards().getChangeCardsV2(offset, limit, filter, orderBy, textSearch, restrict, encodedQuery);\n\n})(request, response);","sys_updated_on":"2024-08-19 10:40:15","enforce_acl":"1f440635771201100bfdaeb4bb5a99eb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"448cfb167708121013d4aeb4bb5a990b","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sow_chg/sow_change_creation_page/changecardsv2","sys_created_on":"2024-08-18 18:48:21","sys_name":"changecardsV2","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/17c918c723f33010b8f7dc1756bf650d","value":"17c918c723f33010b8f7dc1756bf650d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_update_name":"sys_ws_operation_448cfb167708121013d4aeb4bb5a990b","consumes_customized":"false","name":"changecardsV2","produces":"application/json,application/xml,text/xml","relative_path":"/changecardsv2","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var saOpsWrapper = new SaOperationsWrapper(SNC.SaActionsHandler);\n\tsaOpsWrapper.process(request,response, \"getMapApi\");\n\n})(request, response);","sys_updated_on":"2018-03-11 12:48:00","enforce_acl":"ea4f3ae287132200b5bea18dd0e3eceb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"44b15f2ec34303003e76741e81d3ae18","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/it_service/map_api","sys_created_on":"2017-12-18 15:03:36","sys_name":"Map_API - Internal API","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3418e25f7f120300995cbaf8befa912e","value":"3418e25f7f120300995cbaf8befa912e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_44b15f2ec34303003e76741e81d3ae18","consumes_customized":"false","name":"Map_API - Internal API","produces":"application/json,application/xml,text/xml","relative_path":"/map_api","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Creates a new macroponent from provided field values and template (optional)","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    const apiHelper = new APIHelper(request, response);\n    apiHelper.execute(function() {\n        const macroponent = apiHelper.getBodyParam('macroponent', null);\n        if (!macroponent) {\n            apiHelper.respondUnsuccessfully(BuilderToolkitConstants.ERRORS.NO_MACROPONENT);\n            return;\n        }\n        const copyFrom = apiHelper.getBodyParam('copyFrom', null);\n        const newMacroponent = new Macroponent().copyOrCreateRecord(macroponent, copyFrom);\n\n        typeof newMacroponent === 'string' ? apiHelper.respondSuccesfully({\n            macroponent: newMacroponent\n        }) : apiHelper.respondUnsuccessfully(newMacroponent.message);\n    });\n})(request, response);","sys_updated_on":"2023-09-22 14:06:33","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"{\r\n     macroponent: {\r\n            name: \"New Macroponent\",\r\n     },\r\n     templateId: \"template_sys_id\"\r\n}","sys_id":"44bd063743557110e70583020cb8f200","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/macroponent","sys_created_on":"2023-09-22 13:35:26","sys_name":"Macroponent","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"12","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_44bd063743557110e70583020cb8f200","consumes_customized":"false","name":"Macroponent","produces":"application/json,application/xml,text/xml","relative_path":"/macroponent","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Returns the MAB duplicate config map to the clients","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\treturn new sn_mab_api.DuplicateConfigMap();\n})(request, response);","sys_updated_on":"2023-06-07 20:56:06","enforce_acl":"4bbe81b4c703201066492f3bf4c260e6","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"44e7560953132110f366ddeeff7b1211","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_mab_api/mab_api/getDuplicateConfigMap","sys_created_on":"2023-06-06 15:06:54","sys_name":"Get Duplicate Config Map","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3512bd93c7c12010100f2f3bf4c26049","value":"3512bd93c7c12010100f2f3bf4c26049"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_update_name":"sys_ws_operation_44e7560953132110f366ddeeff7b1211","consumes_customized":"false","name":"Get Duplicate Config Map","produces":"application/json,application/xml,text/xml","relative_path":"/getDuplicateConfigMap","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"Can return the list of tables that would be searched for a given search group.","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\t//The api returns some strings as NativeArrays which is not ideal\n\tvar search_group = getParamAsString(\"search_group\");\n\n\t//lets help a dev debug\n\tgs.debug(\"Getting tables for search group {0}\", search_group ? search_group : empty);\n\t\n\tvar searcher = CodeSearch()\n\t\t\t\t\t.setSearchGroup(search_group);\n\t\n\t//We want to keep the browser from caching these responses\n\tresponse.setHeader(\"Cache-Control\", \"no-cache,no-store,must-revalidate,max-age=-1\");\n\tresponse.setHeader(\"Pragma\", \"no-store,no-cache\");\n\tresponse.setHeader(\"Expires\",\"Thu, 01 Jan 1970 00:00:00\");\n\t\n\treturn searcher.getAllSearchableTables(true);\n\t\n\t\n\t//make sure we always get strings from the parameter map\n\tfunction getParamAsString(paramName) {\n\t\tif (request.queryParams.hasOwnProperty(paramName))\n\t\t\treturn request.queryParams[paramName] + '';\n\n\t\treturn '';\n\t}\n\n})(request, response);","sys_updated_on":"2017-07-25 02:43:21","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1a2e2ac3d7220200b6bddb0c825203d6","value":"1a2e2ac3d7220200b6bddb0c825203d6"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"450d6ce7b3080300f7d1a13816a8dc51","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_codesearch/v1/code_search/tables","sys_created_on":"2017-07-25 02:33:45","sys_name":"tables","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f9752f20d7120200b6bddb0c8252032e","value":"f9752f20d7120200b6bddb0c8252032e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/939d2ac3d7220200b6bddb0c82520377","value":"939d2ac3d7220200b6bddb0c82520377"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f9752f20d7120200b6bddb0c8252032e","value":"f9752f20d7120200b6bddb0c8252032e"},"sys_update_name":"sys_ws_operation_450d6ce7b3080300f7d1a13816a8dc51","consumes_customized":"false","name":"tables","produces":"application/json,application/xml,text/xml","relative_path":"/tables","produces_customized":"false","default_operation_uri":"/api/sn_codesearch/code_search/tables","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var appManagerApiUtil = new AppManagerApiUtil(request, response);\n    var tracker = new ProgressTracker();\n    try {\n        var batchId = request.pathParams.batchId;  \n        var result = tracker.getBatchInstallStatus(batchId);\n        appManagerApiUtil.setResponseBody(result);\n    } catch (err) {\n        appManagerApiUtil.setError(err);\n    }\n})(request, response);","sys_updated_on":"2023-10-04 09:25:33","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/be08b89397b0d1104b593f0e6253afe1","value":"be08b89397b0d1104b593f0e6253afe1"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"4548a7e44c4aa110f8774058d680225e","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_appclient/v1/appmanager/batch/{batchId}","sys_created_on":"2023-04-04 04:22:42","sys_name":"Batch Execution Status","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7ea1fc5f9770d1104b593f0e6253af99","value":"7ea1fc5f9770d1104b593f0e6253af99"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_update_name":"sys_ws_operation_4548a7e44c4aa110f8774058d680225e","consumes_customized":"false","name":"Batch Execution Status","produces":"application/json,application/xml,text/xml","relative_path":"/batch/{batchId}","produces_customized":"false","default_operation_uri":"/api/sn_appclient/appmanager/batch/{batchId}","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var REUSABLE_BLOCK_TYPE_ID = '5db4a12153975110c733ddeeff7b1277';\n\n    var getTableData = function(tableName, filter, fieldNames) {\n        var result = [];\n        var gr = new GlideRecord(tableName);\n        gr.addEncodedQuery(filter);\n        gr.query();\n        while (gr.next()) {\n            resultItem = {};\n            fieldNames.forEach(function(fieldName, indx) {\n                var keyToFieldSplit = fieldName.split(\":\");\n                var fieldValue = '';\n                var tempGr = gr;\n                if (keyToFieldSplit.length > 1) {\n                    var fieldsArr = keyToFieldSplit[1].split('.');\n                    fieldsArr.forEach(function(field) {\n                        tempGr = tempGr[field];\n                    });\n                    fieldValue = tempGr + '';\n                } else {\n                    fieldValue = gr.getValue(keyToFieldSplit[0]);\n                }\n                resultItem[keyToFieldSplit[0]] = fieldValue;\n            });\n            result.push(resultItem);\n        }\n        return result;\n    };\n\n    var aceConfigId = request.body.data.aceConfig;\n    var result = {\n        acePages: [],\n        blocks: [],\n        reusableBlockProperties: {}\n    };\n    if (aceConfigId) {\n        var acePages = getTableData(\"sn_ace_page\", \"ace_app=\" + aceConfigId, [\"id:sys_id\", \"ace_app\", \"app_config_template\", \"is_template\",\n            \"label:name\", \"path\", \"route\", \"scopeId:sys_scope\", \"scopeName:sys_scope.scope\", \"appName:sys_scope.name\"\n        ]);\n        var aceAppConfigs = getTableData(\"sn_ace_app_config\", \"sys_id=\" + aceConfigId, [\"sys_id\", \"app_config\", \"name\"]);\n        var uniqueAppConfigIds = [];\n        var aceAppPathMap = {};\n        var aceApp2AppConfigMap = {};\n        var appConfig2AceAppMap = {};\n\n        aceAppConfigs.forEach(function(aceAppConfig) {\n            if (uniqueAppConfigIds.indexOf(aceAppConfig.app_config) == -1) {\n                uniqueAppConfigIds.push(aceAppConfig.app_config);\n                aceApp2AppConfigMap[aceAppConfig.sys_id] = aceAppConfig.app_config;\n                appConfig2AceAppMap[aceAppConfig.app_config] = {\n                    aceApp: aceAppConfig.sys_id\n                };\n            }\n        });\n\n        var uxApplications = getTableData(\"sys_ux_page_registry\", \"admin_panelIN\" + uniqueAppConfigIds.join(\",\"), [\"sys_id\", \"admin_panel\", \"path\"]);\n\n        uxApplications.forEach(function(uxApplicationItem) {\n            appConfig2AceAppMap[uxApplicationItem.admin_panel] = appConfig2AceAppMap[uxApplicationItem.admin_panel] || {};\n            appConfig2AceAppMap[uxApplicationItem.admin_panel][\"path\"] = uxApplicationItem[\"path\"];\n        });\n\n        var routeMap2AcePage = {};\n        var uniqueRouteIds = [];\n        acePages.forEach(function(acePageItem) {\n            var configId = aceApp2AppConfigMap[acePageItem.ace_app];\n            acePageItem.basePath = appConfig2AceAppMap[configId].path;\n            routeMap2AcePage[acePageItem.route] = acePageItem.sys_id;\n            if (uniqueRouteIds.indexOf(acePageItem.route) == -1) {\n                uniqueRouteIds.push(acePageItem.route);\n            }\n        });\n\n\n        var appRoutes = getTableData(\"sys_ux_app_route\", \"sys_idIN\" + uniqueRouteIds.join(\",\"), [\"sys_id\", \"screen_type\"]);\n        var screenType2Route = {};\n        var route2Macroponent = {};\n        var uniqueScreenTypes = [];\n\n        appRoutes.forEach(function(appRouteItem) {\n            screenType2Route[appRouteItem.screen_type] = appRouteItem.sys_id;\n            if (uniqueScreenTypes.indexOf(appRouteItem.screen_type) == -1) {\n                uniqueScreenTypes.push(appRouteItem.screen_type);\n            }\n        });\n\n        var screens = getTableData(\"sys_ux_screen\", \"screen_typeIN\" + uniqueScreenTypes.join(\",\"), [\"sys_id\", \"screen_type\", \"macroponent\", \"macroponent_config\"]);\n        screens.forEach(function(screenItem) {\n            var routeId = screenType2Route[screenItem.screen_type];\n            route2Macroponent[routeId] = {\n                macroponent: screenItem.macroponent,\n                macroponentConfig: screenItem.macroponent_config\n            };\n        });\n\n        acePages.forEach(function(acePageItem) {\n            var macroponentData = route2Macroponent[acePageItem.route];\n            acePageItem.macroponent = macroponentData && macroponentData.macroponent;\n            acePageItem.macroponentConfig = macroponentData && macroponentData.macroponentConfig;\n        });\n\n        result['acePages'] = acePages;\n\n        var blockGr = new GlideRecord('sn_ace_content_block');\n        blockGr.addQuery('document_id', aceConfigId);\n        blockGr.addQuery('type', REUSABLE_BLOCK_TYPE_ID);\n        blockGr.query();\n\n        while (blockGr.next()) {\n            result.blocks.push({\n                label: blockGr.getValue('name'),\n                id: blockGr.getValue('sys_id'),\n                scopeId: blockGr.getValue('sys_scope'),\n                scopeName: blockGr.sys_scope.scope + '',\n                appName: blockGr.sys_scope.name + ''\n            });\n\n            result.reusableBlockProperties[blockGr.getUniqueValue()] = {\n                id: blockGr.getUniqueValue(),\n                label: blockGr.getValue('name'),\n                category: 'reusable',\n                params: JSON.parse(blockGr.variable[\"block_variables\"])\n            };\n        }\n    }\n\n    result.sessionScope = {};\n    result.sessionScope.id = gs.getCurrentApplicationId();\n    result.sessionScope.name = gs.getCurrentScopeName();\n\n    response.setBody(result);\n})(request, response);","sys_updated_on":"2023-04-10 15:41:50","enforce_acl":"4b2b70b277862110bc5db5b27a5a99d1","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"454cc3765307d510c733ddeeff7b122e","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/ace/fetchmeta","sys_created_on":"2022-11-12 22:58:20","sys_name":"fetchMetaData","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/090c5ee353721110c733ddeeff7b1299","value":"090c5ee353721110c733ddeeff7b1299"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"37","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_update_name":"sys_ws_operation_454cc3765307d510c733ddeeff7b122e","consumes_customized":"false","name":"fetchMetaData","produces":"application/json,application/xml,text/xml","relative_path":"/fetchmeta","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n\n    response.setContentType('application/json');\n\tvar result = {};\n    var helper = new CMDBDataManagerHelper();\n    var policyId = helper.getParamAsString('policy_id');\n    var encodedQuery = helper.getParamAsString('encoded_query');\n\tvar table = helper.getParamAsString('table') || 'cmdb_ci';\n\t\n    if (JSUtil.nil(policyId)) {\n        return new sn_ws_err.BadRequestError('Missing policy id');\n    }\n\n    result = helper.getPreviewMetadata(policyId, encodedQuery, table);\n\tif (result.error) {\n\t\treturn new sn_ws_err.ServiceError(result.error);\n\t}\n    response.setStatus(200);\n    response.setBody(result);\n\n})(request, response);","sys_updated_on":"2024-03-25 21:54:49","enforce_acl":"885bc51053832010af64ddeeff7b12cb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"456ec2b8771a20108043270bba10610b","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/ci_lifecycle_manager/preview_metadata","sys_created_on":"2021-02-10 18:00:07","sys_name":"Get Preview Metadata","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ad9ebe127322101045cadfcd3bf6a735","value":"ad9ebe127322101045cadfcd3bf6a735"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"15","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"sys_update_name":"sys_ws_operation_456ec2b8771a20108043270bba10610b","consumes_customized":"false","name":"Get Preview Metadata","produces":"application/json,application/xml,text/xml","relative_path":"/preview_metadata","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var data = request.body.data;\n\n    try {\n        if (data) {\n            var modelId = data.modelId || '';\n            var intentName = data.intentName || '';\n            var language = data.language || '';\n            var dataMap = data.dataMap || {};\n            var result = new sn_nlu_workbench.NLUImprovementAnalaysisReport().addUtterancesToIntent(modelId, intentName, language, dataMap);\n\n            if (result.status === 'success') {\n                response.setStatus(200);\n            } else {\n                response.setStatus(400);\n            }\n\n            response.setContentType('application/json');\n            return result;\n        } else {\n            return new sn_ws_err.BadRequestError(\"No input data provided\");\n        }\n\n    } catch (e) {\n        return new sn_ws_err.BadRequestError(e.message);\n    }\n\n})(request, response);","sys_updated_on":"2021-06-29 13:49:06","enforce_acl":"0f43facbeb8220105de665fcc8522895","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b51a6d700710201028ef0a701ad300ab","value":"b51a6d700710201028ef0a701ad300ab"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"457afa6f73282010e6b632e954f6a7e8","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_nlu_workbench/v1/nlu_advanced/addUtterancesToIntent","sys_created_on":"2020-11-24 10:30:54","sys_name":"addUtterancesToIntent","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea82488673402010e6b632e954f6a7ca","value":"ea82488673402010e6b632e954f6a7ca"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_update_name":"sys_ws_operation_457afa6f73282010e6b632e954f6a7e8","consumes_customized":"false","name":"addUtterancesToIntent","produces":"application/json,application/xml,text/xml","relative_path":"/addUtterancesToIntent","produces_customized":"false","default_operation_uri":"/api/sn_nlu_workbench/nlu_advanced/addUtterancesToIntent","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    try {\n        var result = ScanSuiteService.getScanSuites();\n\n        response.setBody(result);\n        response.setStatus(200);\n\n    } catch (exception) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(500)\n            .setMessage(gs.getMessageLang('Unhandled exception {0}', \"en\", [exception]))\n            .setDetail(gs.getMessage('Unhandled exception {0}', [exception]));\n\n    }\n\n})(request, response);","sys_updated_on":"2023-03-14 15:33:09","enforce_acl":"8e18710a5f212110f082532aca7313f7","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"45b47d065f212110f082532aca731369","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_deploy_pipeline/admin/scansuites","sys_created_on":"2023-03-14 15:18:52","sys_name":"Scan Suites","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bb67ed7253e83010b846ddeeff7b1204","value":"bb67ed7253e83010b846ddeeff7b1204"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/a2347dc25f212110f082532aca73132e","value":"a2347dc25f212110f082532aca73132e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bb67ed7253e83010b846ddeeff7b1204","value":"bb67ed7253e83010b846ddeeff7b1204"},"sys_update_name":"sys_ws_operation_45b47d065f212110f082532aca731369","consumes_customized":"false","name":"Scan Suites","produces":"application/json,application/xml,text/xml","relative_path":"/scansuites","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar controller = new sn_tourbuilder.GTAutoLaunchController();\n\tvar name = request.queryParams.name;\n\tvar portal = request.queryParams.portal;\n\t/*\n\t@params name, portal, autolaunchPage\n\t*/\n\tvar tours = controller.getToursForPage(name, portal, true);\n\n\tresponse.setBody(tours);\n\tresponse.setStatus(200);\n\n})(request, response);","sys_updated_on":"2019-06-21 13:13:33","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/3268f36173eb13007077edcc5ef6a738","value":"3268f36173eb13007077edcc5ef6a738"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"45d3a6f587333200b38c0f4c59cb0b2e","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/guided_tours/autolaunch/tour","sys_created_on":"2017-07-07 14:25:14","sys_name":"All - Get tours for a page","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/2405194d87e73200b38c0f4c59cb0b6f","value":"2405194d87e73200b38c0f4c59cb0b6f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"19","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_update_name":"sys_ws_operation_45d3a6f587333200b38c0f4c59cb0b2e","consumes_customized":"false","name":"All - Get tours for a page","produces":"application/json,application/xml,text/xml","relative_path":"/autolaunch/tour","produces_customized":"false","default_operation_uri":"/api/now/guided_tours/autolaunch/tour","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n    var appId = request.pathParams.appId;\n\n    ScopeCheck.verifyNotGlobal(appId);\n\n    var allowed = VCSAppAccessCheck.verifyWriteAccess(appId) && (VCSAppAccessCheck.isGACOrSourceControlUser() || VCSAppAccessCheck.verifyVersionControlAccess(appId));\n\n    if (!allowed) \n\t\tVCSAppAccessCheck.throwAccessDenied(appId);\n\n    var requestParams = request.body.data,\n        commitMessage = requestParams.msg || gs.getMessage('Initial state of application at link to source control');\n\n    var shouldCommit = (requestParams.commitUpdateSetHistory == 'true');\n\tvar credential = SourceControlHelper.getAppropriateCredential(requestParams.url, requestParams.credential);\n\n    var progressId, repo;\n    repo = sn_vcs.AppSourceControl.registerRepository()\n        .setSysApp(appId)\n        .setRepositoryURL(requestParams.url)\n        .setCredential(credential)\n        .setDefaultBranchName(requestParams.remoteDefaultBranchName)\n        .setBranchName(requestParams.branch)\n        .setShortDescription(requestParams.shortDescription || '')\n        .setCommitMessage(commitMessage)\n        .setTestConnection(!!requestParams.setTestConnection)\n        .setDefaultCommitEmail(requestParams.email)\n        .setUseDefaultEmailForAllCommits(requestParams.use_default_email_for_all)\n        .setCommitUpdateSetHistory(shouldCommit);\n\n    if (requestParams.hasOwnProperty(\"upgradeBaseApp\"))\n        repo.setUpgradeVendorApp(requestParams.upgradeBaseApp);\n\n    if (requestParams.mid_server) \n\t\trepo.setMidServerId(requestParams.mid_server);\n\n    progressId = repo.start();\n\n    response.setContentType('application/json');\n    response.setBody({\n        progressId: progressId\n    });\n    response.setStatus(202);\n\n})(request, response);","sys_updated_on":"2021-04-09 18:03:02","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"46e3fd7237930200612747efbe41f196","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/apps/{appId}/repos","sys_created_on":"2015-10-28 04:23:35","sys_name":"Link to Repository","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"54","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_46e3fd7237930200612747efbe41f196","consumes_customized":"false","name":"Link to Repository","produces":"application/json,application/xml,text/xml","relative_path":"/apps/{appId}/repos","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/apps/{appId}/repos","sys_policy":"read"},{"short_description":"","operation_script":"(function process(request, response) {\n    var appId = request.pathParams.appId;\n    var requestParams = request.body.data;\n\n    ScopeCheck.verifyNotGlobal(appId);\n\n    var allowed = VCSAppAccessCheck.verifyWriteAccess(appId) && (VCSAppAccessCheck.isGACOrSourceControlUser() || VCSAppAccessCheck.verifyVersionControlAccess(appId));\n\n    if (!allowed) \n\t\tVCSAppAccessCheck.throwAccessDenied(appId);\n\n    var progressId, repo;\n    repo = sn_vcs.AppSourceControl\n        .switchToBranch()\n        .setSysApp(appId)\n        .setBranchName(requestParams.branchName)\n        .setStashMessage(requestParams.stashMessage)\n        .setPreserveOutgoingChanges(requestParams.preserveLocalChanges);\n\n    if (requestParams.hasOwnProperty(\"upgradeBaseApp\"))\n        repo.setUpgradeVendorApp(requestParams.upgradeBaseApp);\n\n    progressId = repo.start();\n\n    response.setContentType('application/json');\n    response.setBody({\n        progressId: progressId\n    });\n    response.setStatus(202);\n})(request, response);","sys_updated_on":"2021-04-06 20:21:19","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"46f01c2337230200612747efbe41f1e7","http_method":"PUT","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/apps/{appId}/repos/{repoId}/branches/switch","sys_created_on":"2015-11-11 15:23:03","sys_name":"Switch to Branch","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"38","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_46f01c2337230200612747efbe41f1e7","consumes_customized":"false","name":"Switch to Branch","produces":"application/json,application/xml,text/xml","relative_path":"/apps/{appId}/repos/{repoId}/branches/switch","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/apps/{appId}/repos/{repoId}/branches/switch","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var restHandler, result;\n\ttry {\n\t\trestHandler = new sn_ads_setup.SNHelpSetupRestHandler();\n\t\tresult = restHandler.selectGuidance(request.pathParams.sys_id);\n\t\tresponse.setStatus(result.status);\n\n\t\tif (result.error) {\n\t\t\tresponse.setBody({error: result.error});\n\t\t} else {\n\t\t\tresponse.setBody(result.data);\n\t\t}\n\n\t} catch (e) {\n\t\tresponse.setStatus(500);\n\t\tgs.error(\"SNHelpSetupRestHandler: \" + e.message);\n\t\tresponse.setBody({error: \"Internal server error\"});\n\t}\n\n})(request, response);","sys_updated_on":"2022-09-21 07:29:53","enforce_acl":"d684e2aa530e0110f54fddeeff7b1237","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"4703596c77cc01106ee492b01e5a99d1","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_ads_setup/play/select/setup/{sys_id}","sys_created_on":"2021-11-22 15:05:01","sys_name":"Select Guidance ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/9fb44064773230106ee492b01e5a9991","value":"9fb44064773230106ee492b01e5a9991"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"9","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_update_name":"sys_ws_operation_4703596c77cc01106ee492b01e5a99d1","consumes_customized":"false","name":"Select Guidance ","produces":"application/json,application/xml,text/xml","relative_path":"/select/setup/{sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar payloads = request.body.data;\n\n\tvar ServiceGenerator = new CreateOrUpdateITService();\n\ttry{\n\t\tvar name = payloads.name;\n\t\tvar levels = payloads.levels;\n\t\tdelete payloads[\"name\"];\n\t\tdelete payloads[\"levels\"];\n\t\tvar serviceId = ServiceGenerator.createDynamicService(name, levels, payloads);\n\t\tresponse.setContentType('application/json');\n\t\tresponse.setBody({serviceId : serviceId});\n\t\tresponse.setStatus(200);\n\t} catch(err){\n\t\tvar exp = new sn_ws_err.BadRequestError(err);\n\t\tresponse.setError(exp);\n\t}\n})(request, response);","sys_updated_on":"2024-02-26 12:25:35","enforce_acl":"a36f6b459f73320089c25ecec32e705e","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"47c60929c36210100bb24dafea40dd54","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/cmdb/app_service/createDynamicService","sys_created_on":"2020-08-10 10:47:43","sys_name":"CreateDynamicService","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/565abf20c39413003e76741e81d3ae48","value":"565abf20c39413003e76741e81d3ae48"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"15","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_47c60929c36210100bb24dafea40dd54","consumes_customized":"false","name":"CreateDynamicService","produces":"application/json,application/xml,text/xml","relative_path":"/app_service/createDynamicService","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var changeSysId = request.pathParams.change_sys_id || '';\n\tif (!changeSysId)\n\t\treturn new sn_ws_err.BadRequestError('Change Request sys_id not provided');\n\n\treturn new SOWChangeUtils().deleteChangeRiskAsmts(changeSysId);\n})(request, response);","sys_updated_on":"2023-11-24 13:13:33","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a912b23453a6111088d8ddeeff7b1240","value":"a912b23453a6111088d8ddeeff7b1240"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"47e8672d53615110532cddeeff7b122c","http_method":"DELETE","sys_updated_by":"admin","operation_uri":"/api/sn_sow_chg/v1/sow_change_utils/delete_change_risk_asmt/{change_sys_id}","sys_created_on":"2022-08-26 14:18:50","sys_name":"deleteChangeRiskAsmts","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3d876fa953615110532cddeeff7b12bb","value":"3d876fa953615110532cddeeff7b12bb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_update_name":"sys_ws_operation_47e8672d53615110532cddeeff7b122c","consumes_customized":"false","name":"deleteChangeRiskAsmts","produces":"application/json,application/xml,text/xml","relative_path":"/delete_change_risk_asmt/{change_sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_sow_chg/sow_change_utils/delete_change_risk_asmt/{change_sys_id}","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    \n\ttry {\n\t\t\n        var applicationSysId = request.pathParams.application_sys_id;\n\t\t\n\t\tAccessValidator.verifyApplicationAccess(applicationSysId);\n\t\t\n        var appObjectTemplatesPermission = {};\n        var templateManifestRecords = new GlideRecord(\"sys_app_template_manifest\");\n        templateManifestRecords.addJoinQuery(\"sys_app_template\");\n        templateManifestRecords.addQuery(\"template.active\", true);\n        templateManifestRecords.addQuery(\"template.create_app\", false);\n        templateManifestRecords.query();\n\n        while (templateManifestRecords.next()) {\n            var tableName = templateManifestRecords.table_name.getRefRecord().getValue(\"name\");\n            var templateID = templateManifestRecords.getValue('template');\n            var now_GR = new GlideRecord(tableName);\n\n            if (!now_GR.canCreate()) {\n                appObjectTemplatesPermission[templateID] = false;\n            } else if (appObjectTemplatesPermission[templateID] !== false) {\n                appObjectTemplatesPermission[templateID] = true;\n            }\n        }\n\n\t\tvar result = {};\n\t\tresult[applicationSysId] = appObjectTemplatesPermission;\n        response.setStatus(200);\n        response.setBody(result);\n    \n\t} catch (exception) {\n\n        switch (exception) {\n\n            case CreatorStudioConstants.errors.APPLICATION_DOES_NOT_EXIST:\n                throw new sn_ws_err.ServiceError()\n                    .setStatus(404)\n                    .setMessage(gs.getMessageLang(\"Application, with sys_id {0}, does not exist\", \"en\", [applicationSysId]))\n                    .setDetail(gs.getMessage(\"Application, with sys_id {0}, does not exist\", [applicationSysId]));\n            case CreatorStudioConstants.errors.APPLICATION_ACCESS_DENIED:\n                throw new sn_ws_err.ServiceError()\n                    .setStatus(403)\n                    .setMessage(gs.getMessageLang(\"Access to application, with sys_id {0}, is denied\", \"en\", [applicationSysId]))\n                    .setDetail(gs.getMessage(\"Access to application, with sys_id {0}, is denied\", [applicationSysId]));\n            default:\n                throw new sn_ws_err.ServiceError()\n                    .setStatus(500)\n                    .setMessage(gs.getMessageLang(\"Unhandled exception {0}\", \"en\", [exception]))\n                    .setDetail(gs.getMessage(\"Unhandled exception {0}\", [exception]));\n\n        }\n\n    }\n})(request, response);","sys_updated_on":"2021-06-02 16:53:16","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/eff91f2c7700001001fb4311a8106131","value":"eff91f2c7700001001fb4311a8106131"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"47f181bfb70030107f83c1508e11a986","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_app_eng_studio/v1/applications/{application_sys_id}/object_templates_permission","sys_created_on":"2021-05-17 19:58:03","sys_name":"GET App Object Templates Permission","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/4c41d3287700001001fb4311a81061ae","value":"4c41d3287700001001fb4311a81061ae"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"15","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_ws_operation_47f181bfb70030107f83c1508e11a986","consumes_customized":"false","name":"GET App Object Templates Permission","produces":"application/json,application/xml,text/xml","relative_path":"/{application_sys_id}/object_templates_permission","produces_customized":"false","default_operation_uri":"/api/sn_app_eng_studio/applications/{application_sys_id}/object_templates_permission","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tconst request_payload = {\n\t\tselected_text: request.body.data['SelectedText'],\n\t\tdrafted_text: request.body.data['DraftedText'],\n\t\tskill_name: request.body.data['SkillName'],\n\t\tskill_description: request.body.data['SkillDescription'],\n\t\tdocument_table_name: request.body.data['DocumentTableName'],\n\t\tdocument_sys_id: request.body.data['DocumentSysId'],\n\t\tskill_id: request.body.data['SkillId'],\n\t\ttrigger_source: 'WWNA_TRIGGER_SOURCE.REFINE',\n\t\tskill_config_id: request.body.data['SkillConfigId'],\n\t\tcaller: 'mobile',\n\t\tcontext: ''\n\t};\n\n\tconst external_key = gs.generateGUID();\n\tconst params = [JSON.stringify({payload: request_payload, ambChannel: '/wwna/mobile/' + external_key})];\n\n\tconst quickActionGR = new GlideRecord('wwna_quick_actions');\n\tquickActionGR.addQuery('command_name', request.body.data['ActionName']);\n\tquickActionGR.query();\n\tif(quickActionGR.next()){\n\t\tconst evaluator = new GlideScopedEvaluator().withReturnError(true);\n\t\tevaluator.putVariable('params', params);\n\t\tevaluator.putVariable('selected_text', request_payload.selected_text);\n\t\tevaluator.putVariable('drafted_text', request_payload.drafted_text);\n\t\tconst result = evaluator.evaluateScript(quickActionGR, 'script', params);\n\t\t\n\t\tif(result?.success) {\n\t\t\tconst pollId = new MobileWWNA().startGenAIRequest(external_key, request_payload, request_payload.skill_id);\n\t\t\treturn { PollId: pollId };\n\t\t} else {\n\t\t\tconst error = new sn_ws_err.ServiceError();\n\t\t\terror.setStatus(500);\n\t\t\terror.setMessage(result);\n\t\t\treturn error;\n\t\t}\n\t}\n\t\n})(request, response);","sys_updated_on":"2024-09-06 22:21:05","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"47fd8af4390012100489feb9b58d9cd3","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/generative/wwna_action_execute","sys_created_on":"2024-08-13 18:55:08","sys_name":"WWNA Action Execute","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/f68f36d03d3302107fa47b9a1f00ad45","value":"f68f36d03d3302107fa47b9a1f00ad45"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"39","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/23a57f7b04b52210559073c06a02f7fc","value":"23a57f7b04b52210559073c06a02f7fc"},"sys_update_name":"sys_ws_operation_47fd8af4390012100489feb9b58d9cd3","consumes_customized":"false","name":"WWNA Action Execute","produces":"application/json,application/xml,text/xml","relative_path":"/wwna_action_execute","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"\n\t\t\t(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n\t\tconst tableName = request.queryParams.tableName?.toString();\n\t\tconst filteredRecords = CatalogTemplateHelper.getCatalogTemplates(tableName);\n\t\tresponse.setBody(filteredRecords);\n\t\tresponse.setStatus(200);\n    } catch (exception) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(500)\n            .setMessage(gs.getMessageLang('Unhandled exception {0}', 'en', [exception]))\n            .setDetail(gs.getMessage('Unhandled exception {0}', [exception]));\n    }\n})(request, response);","sys_updated_on":"2024-02-01 13:39:13","enforce_acl":"c634a3a0a392311018d4189b66fcda72","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/e735f85647080a504af56848946d43e9","value":"e735f85647080a504af56848946d43e9"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"4855381a47080a504af56848946d4371","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_studio_commons/v1/catalog_templates","sys_created_on":"2024-02-01 09:00:36","sys_name":"Get Templates","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/50c45c69e0089cfa57aa73a642c702c7","value":"50c45c69e0089cfa57aa73a642c702c7"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/71a1f45647080a504af56848946d43c0","value":"71a1f45647080a504af56848946d43c0"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"82","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/50c45c69e0089cfa57aa73a642c702c7","value":"50c45c69e0089cfa57aa73a642c702c7"},"sys_update_name":"sys_ws_operation_4855381a47080a504af56848946d4371","consumes_customized":"false","name":"Get Templates","produces":"application/json,application/xml,text/xml","relative_path":"/","produces_customized":"false","default_operation_uri":"/api/sn_studio_commons/catalog_templates","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        const data = new UXAHandler().handleQueryRequest(request.body?.data);\n        response.setContentType('application/json');\n        response.setBody(data);\n        response.setStatus(200);\n    } catch (err) {\n        const serviceError = new UXAUtils().generateErrorObject(err);\n        response.setError(serviceError);\n        response.setStatus(err?.statusCode || 500);\n    }\n    return response;\n})(request, response);","sys_updated_on":"2024-10-06 13:32:40","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/d93d4288ffe7c21024f4ffffffffff52","value":"d93d4288ffe7c21024f4ffffffffff52"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"48660cd20b620210e8a937009777b20f","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_uxa_req_manager/v1/uxa_data/query","sys_created_on":"2024-06-04 11:20:45","sys_name":"Query","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/e9f5c0d20b620210e8a937009777b2d7","value":"e9f5c0d20b620210e8a937009777b2d7"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"false","sys_mod_count":"36","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_update_name":"sys_ws_operation_48660cd20b620210e8a937009777b20f","consumes_customized":"false","name":"Query","produces":"application/json,application/xml,text/xml","relative_path":"/query","produces_customized":"false","default_operation_uri":"/api/sn_uxa_req_manager/uxa_data/query","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\r\n    var scenario = request.queryParams.scenario || \"default\";\r\n\tgs.info(\"Scenario param: \" + scenario);\r\n    var result;\r\n\r\n    if (scenario.includes(\"default\")) {\r\n\t\tresponse.setStatus(200);\r\n        result = {\r\n            status: \"ok\",\r\n\t\t\tsc: scenario,\r\n            message: \"This is a success response\"\r\n        };\r\n    } else if (scenario.includes(\"error\")) {\r\n        response.setStatus(400);\r\n        result = {\r\n            status: \"error\",\r\n\t\t\tsc: scenario,\r\n            message: \"This is an error response\"\r\n        };\r\n    } else if (scenario.includes(\"teapot\")) {\r\n        response.setStatus(418);\r\n        result = {\r\n            status: \"error\",\r\n\t\t\tsc: scenario,\r\n            message: \"This is an error response\"\r\n        };\r\n    } else {\r\n\t\tresponse.setStatus(500);\r\n        result = {\r\n            status: \"internal server error\",\r\n\t\t\tsc: scenario,\r\n            message: \"Unknown scenario\"\r\n        };\r\n    }\r\n\r\n    response.setBody(result);\r\n})(request, response);\r\n","sys_updated_on":"2025-07-14 11:49:58","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"48a66564c3bee610ed4bd50d050131ba","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/1702979/my_function/fun_run_get","sys_created_on":"2025-07-14 10:42:14","sys_name":"Run Fun","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b746ad24c3bee610ed4bd50d0501316d","value":"b746ad24c3bee610ed4bd50d0501316d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/global","value":"global"},"sys_update_name":"sys_ws_operation_48a66564c3bee610ed4bd50d050131ba","consumes_customized":"false","name":"Run Fun","produces":"application/json,application/xml,text/xml","relative_path":"/fun_run_get","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var queryParams = request.queryParams;\n\t\n\tif (!queryParams.sysparm_old_sys_id || !queryParams.sysparm_new_sys_id) {\n\t\tresponse.setError(new sn_ws_err.BadRequestError('Missing required parameters.'));\n\t\treturn;\n\t}\n\t\n    var diffAudit = new DiffAudit();\n\tvar content = diffAudit.getDiff(queryParams);\n\t\n\tresponse.setStatus(200);\n\tresponse.setContentType(\"text/html\");\n\tresponse.getStreamWriter().writeString(content);\n\n})(request, response);","sys_updated_on":"2019-05-01 15:13:32","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"48d46472c3132200b5be1962c1d3ae8f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/tracked_config_files/diff_audit","sys_created_on":"2016-11-28 15:00:59","sys_name":"DiffAudit","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/68ec639187132200b5bea18dd0e3ec51","value":"68ec639187132200b5bea18dd0e3ec51"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_48d46472c3132200b5be1962c1d3ae8f","consumes_customized":"false","name":"DiffAudit","produces":"text/html","relative_path":"/diff_audit","produces_customized":"true","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n\t\tvar params = request.body.data;\n        const uxaHandler = new UXAHandler(); \n\t\tconst result = uxaHandler.handleCohortRequest(params);\n        response.setBody(result);\n        response.setContentType('application/json');\n        response.setStatus(200);\n        return response;\n    } catch (error) {\n        response.setStatus(500);\n        response.setError(UXAError.getGenericError(error));\n        return response;\n    }\n})(request, response);","sys_updated_on":"2024-09-17 16:36:15","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/d93d4288ffe7c21024f4ffffffffff52","value":"d93d4288ffe7c21024f4ffffffffff52"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"48f7ff2ab7c41210979ab238ee11a9b3","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_uxa_req_manager/v1/uxa_data/create-cohorts","sys_created_on":"2024-08-19 13:07:22","sys_name":"Create Cohorts","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/e9f5c0d20b620210e8a937009777b2d7","value":"e9f5c0d20b620210e8a937009777b2d7"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_update_name":"sys_ws_operation_48f7ff2ab7c41210979ab238ee11a9b3","consumes_customized":"false","name":"Create Cohorts","produces":"application/json,application/xml,text/xml","relative_path":"/create-cohorts","produces_customized":"false","default_operation_uri":"/api/sn_uxa_req_manager/uxa_data/create-cohorts","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var receivedParams = request.pathParams;\n    var currentRecordTable = receivedParams.table_name;\n    var currentRecordSysId = receivedParams.sys_id;\n    var actionDetailId = receivedParams.action_id;\n\n    response.setContentType('application/json');\n\n    if (!sn_nb_action.NextBestActionUtil.isValidString(actionDetailId) || !sn_nb_action.NextBestActionUtil.isValidString(currentRecordTable) || !sn_nb_action.NextBestActionUtil.isValidString(currentRecordSysId))\n        response.setError(new sn_ws_err.BadRequestError(gs.getMessage('Missing required parameters')));\n    else {\n        try {\n\n            var current = new sn_nb_action.NextBestActionUtil.getNextBestActionDAO().getSecureTableRecordBySysId(currentRecordTable,currentRecordSysId);\n            if (!current) {\n                response.setError(new sn_ws_err.BadRequestError(gs.getMessage('Invalid parameters')));\n                return;\n            }\n\n            var nbaService = new sn_nb_action.NextBestActionService();\n            var status = 'error';\n            status = nbaService.dismissAction(current, actionDetailId);\n            if (status && status.actionStatus == sn_nb_action.Constants.STATUS_ERROR) {\n                status.actionDetailId = actionDetailId;\n                var responseBody = {};\n                responseBody.actionDetails = status;\n                response.setBody(responseBody);\n                response.setStatus(200);\n            } else {\n                var skipResult = {};\n                skipResult.status = status;\n                response.setStatus(200);\n                response.setBody(skipResult);\n            }\n\n        } catch (err) {\n            var customErrObj = new sn_ws_err.ServiceError();\n            customErrObj.setStatus(500);\n            customErrObj.setMessage(gs.getMessage('Error dismissing the action'));\n            customErrObj.setDetail(gs.getMessage('Refer error logs for details'));\n            response.setError(customErrObj);\n        }\n    }\n\n})(request, response);","sys_updated_on":"2024-06-17 07:41:33","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/5024b34a53c31010763eddeeff7b1289","value":"5024b34a53c31010763eddeeff7b1289"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"494ae8a853920110ca6cddeeff7b12b6","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/sn_nb_action/v1/next_best_action/actions/{table_name}/{sys_id}/{action_id}/dismiss_action","sys_created_on":"2022-03-14 08:27:00","sys_name":"Dismiss Action","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/427fe83177221010d7159b71a91061e1","value":"427fe83177221010d7159b71a91061e1"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/95beed2cc7c71010763e343703c2608d","value":"95beed2cc7c71010763e343703c2608d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"20","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/427fe83177221010d7159b71a91061e1","value":"427fe83177221010d7159b71a91061e1"},"sys_update_name":"sys_ws_operation_494ae8a853920110ca6cddeeff7b12b6","consumes_customized":"false","name":"Dismiss Action","produces":"application/json,application/xml,text/xml","relative_path":"/actions/{table_name}/{sys_id}/{action_id}/dismiss_action","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"This is to subscribe to the subscribable object","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var requestData = request.body.data;\n\tvar sub_obj_type_id = requestData.type;\n\tvar sub_obj_id = request.pathParams.sub_obj_Id;\t\n\t\n\tvar actSubCtx = ActivitySubscriptionContext.getContext();\n\tif(!actSubCtx.isPluginEnabled()){\n\t\tresponse.setStatus(400);\n\t\treturn {\"status\":400,\n\t\t\t\t\"message\":\"Plugin is disabled please contact system administrator\"};\n\t}\n\t\n\tvar subscriptionService = actSubCtx.getSubscriptionService();\n\tvar result = subscriptionService.subscribe(sub_obj_type_id,sub_obj_id);\n\tresponse.setStatus(result.status);\n\tresponse.setBody(result);\n\n})(request, response);","sys_updated_on":"2018-01-31 18:04:09","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/882dfe6853003200fa9bd7b08cc587d5","value":"882dfe6853003200fa9bd7b08cc587d5"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"{\"type\":\"KMArticle\"}","sys_id":"496db2a853003200fa9bd7b08cc587dd","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/v1/actsub/subscriptions/{sub_obj_Id}/subscribe","sys_created_on":"2016-12-29 09:07:42","sys_name":"Subscriptions","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/aabc7e6853003200fa9bd7b08cc5870f","value":"aabc7e6853003200fa9bd7b08cc5870f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"24","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/27dc6bfb04352210559073c06a02f739","value":"27dc6bfb04352210559073c06a02f739"},"sys_update_name":"sys_ws_operation_496db2a853003200fa9bd7b08cc587dd","consumes_customized":"false","name":"Subscriptions","produces":"application/json,application/xml,text/xml","relative_path":"/subscriptions/{sub_obj_Id}/subscribe","produces_customized":"false","default_operation_uri":"/api/now/actsub/subscriptions/{sub_obj_Id}/subscribe","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var restHandler, result = {}, setupId, reqParams;\n\n    try {\n        setupId = request.pathParams.setup_id;\n        restHandler = new SNHelpSetupRestHandler();\n        reqParams = request.body.data;\n        if (Array.isArray(reqParams) && reqParams.length) {\n            result = restHandler.createInteractionForGuidedSetup(setupId, reqParams);\n        } else {\n            result.status = 400;\n            result.message = gs.getMessage(\"Invalid request payload\");\n        }\n\n        response.setStatus(result.status);\n\n        if (result.data)\n            response.setBody(result.data);\n        else\n            response.setBody({\n                error: result.message || result.error\n            });\n\n    } catch (ex) {\n        response.setStatus(500);\n        response.setBody({\n            error: \"Internal Server Error \" + ex\n        });\n    }\n\n})(request, response);","sys_updated_on":"2024-09-19 09:38:42","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"499223af4381021050286548b9b8f2de","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_ads_setup/play/interaction/pad/setup/{setup_id}","sys_created_on":"2024-03-26 11:01:44","sys_name":"Create PAD Setup Interaction Record","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/9fb44064773230106ee492b01e5a9991","value":"9fb44064773230106ee492b01e5a9991"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"8","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_update_name":"sys_ws_operation_499223af4381021050286548b9b8f2de","consumes_customized":"false","name":"Create PAD Setup Interaction Record","produces":"application/json,application/xml,text/xml","relative_path":"/interaction/pad/setup/{setup_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"function formatApiResponse(data) {\n    var response = {\n        sys_id: data.sys_id,\n        name: data.name,\n        description: data.description,\n        scope: data.scope,\n        scope_name: data.scope_name,\n        icon: \"/\" + data.icon + \".iix\",\n        files: [],\n        contained_roles: data.contained_roles\n    };\n\n    // Loop over all categories\n    Object.keys(data.categories)\n        .forEach(function(categorySysId) {\n            // Loop over all files in a category\n            Object.keys(data['categories'][categorySysId].files)\n                .forEach(function(fileSysId) {\n                    // Push the file in response\n                    response.files.push(data['categories'][categorySysId]['files'][fileSysId]);\n                });\n        });\n\n    return response;\n}\n\nfunction getDotWalkPath(path) {\n    var slashRegex = /^\\/+|\\/+$/g;\n    return (path || \"\").replace(slashRegex, \"\").replaceAll(\"/\", \".\");\n}\n\nfunction combineData(\n    role,\n    applicationInventory,\n    fileACLLookup,\n    categoryLookup,\n    filterCategories\n) {\n    // Setup base role info\n    var files = applicationInventory.files;\n\n    var data = {\n        sys_id: role.sys_id,\n        name: {\n            value: role.name_value,\n            display_value: role.name,\n        },\n        icon: role.icon,\n        description: role.description,\n        scope: role.scope,\n        scope_name: applicationInventory.scope_name,\n        categories: {},\n        contained_roles: role.contained_roles\n    };\n\n    for (var i = 0; i < filterCategories.length; i++) {\n        var categorySysId = filterCategories[i];\n        data['categories'][categorySysId] = {\n            sys_id: categorySysId,\n            name: categoryLookup[categorySysId].name,\n            description: categoryLookup[categorySysId].description,\n            files: {}\n        };\n    }\n\n    for (var idx = 0; idx < files.length; idx++) {\n        var file = files[idx];\n        var fileSysId = file.sys_id;\n        var fileNameValue = file.name_value;\n        var fileCategory = file.taxonomy_category;\n        var experienceFileName = getDotWalkPath(file.launch_url);\n\n        if (!data['categories'][fileCategory]) {\n            // File is not of category type data or experience\n            continue;\n        }\n\n        data['categories'][fileCategory]['files'][fileSysId] = {\n            sys_id: file.sys_id,\n            name: {\n                value: file.name_value,\n                display_value: file.name\n            },\n            taxonomy_category: file.taxonomy_category,\n            taxonomy_definition: file.taxonomy_definition,\n            launch_url: file.launch_url,\n            acl_file_name: file.name_value || experienceFileName,\n            acls: fileACLLookup[fileNameValue] || fileACLLookup[experienceFileName] || {}\n        };\n    }\n\n    return data;\n}\n\nfunction getCategoryLookup() {\n    var categoryRecords = new GlideRecord('sn_app_eng_studio_taxonomy_category');\n    var categoryLookup = {};\n\n    categoryRecords.query();\n\n    while (categoryRecords.next()) {\n        var sys_id = categoryRecords.getValue('sys_id');\n        categoryLookup[sys_id] = {\n            sys_id: sys_id,\n            name: categoryRecords.getValue('sys_name'),\n            description: categoryRecords.getValue('description')\n        };\n    }\n\n    return categoryLookup;\n}\n\n\nfunction getACLRecords(roleAssociationLookup) {\n    var aclRecords = new GlideRecord('sys_security_acl');\n    var aclQuery = null;\n    var fileACLLookup = {};\n\n    if (!Object.keys(roleAssociationLookup).length) {\n        // Since there are no acl's, there is nothing to lookup\n        return fileACLLookup;\n    }\n\n    aclRecords.addActiveQuery();\n    aclRecords.addQuery('sys_id', 'IN', Object.keys(roleAssociationLookup));\n    aclRecords.query();\n\n    while (aclRecords.next()) {\n        var sys_id = aclRecords.getValue('sys_id');\n        var fileName = aclRecords.getValue('name');\n        var operation = aclRecords.getValue('operation');\n\n        // The type can be name or sys_id of the sys_security_type\n        var type = aclRecords.getValue('type');\n        var aclKey = operation + '#' + type;\n\n        if (fileName.endsWith('.*')) {\n            // This is a ux_page_route entry, so combine it with ux_page entry by removing .*\n            fileName = fileName.slice(0, -2);\n        }\n\n        fileACLLookup[fileName] = fileACLLookup[fileName] || {};\n        fileACLLookup[fileName][aclKey] = {\n            sys_id: sys_id,\n            security_acl_role_sys_id: roleAssociationLookup[sys_id],\n            operation: operation\n        };\n    }\n\n    return fileACLLookup;\n}\n\nfunction getRoleAssociations(roleSysId) {\n    var roleAssociationRecords = new GlideRecord('sys_security_acl_role');\n    var roleAssociationLookup = {};\n\n    roleAssociationRecords.addQuery('sys_user_role', roleSysId);\n    roleAssociationRecords.query();\n\n    while (roleAssociationRecords.next()) {\n        var associationSysId = roleAssociationRecords.getValue('sys_id');\n        var aclSysId = roleAssociationRecords.getValue('sys_security_acl');\n        roleAssociationLookup[aclSysId] = associationSysId;\n    }\n\n    return roleAssociationLookup;\n}\n\nfunction getRoleDetails(roleSysId) {\n    var roleRecords = new GlideRecord('sys_user_role');\n    var taxonomyRecords = new GlideRecord('sn_app_eng_studio_taxonomy');\n    var roleContainsRecords = new GlideRecord('sys_user_role_contains');\n\n    roleRecords.addQuery('sys_id', roleSysId);\n    taxonomyRecords.addQuery('table', 'sys_user_role');\n    roleContainsRecords.addQuery('role', roleSysId);\n\n    roleRecords.query();\n    taxonomyRecords.query();\n    roleContainsRecords.query();\n\n    if (!roleRecords.next()) {\n        throw sn_app_eng_studio.CreatorStudioConstants.errors.APPLICATION_FILE_DOES_NOT_EXIST;\n    }\n\n    if (!taxonomyRecords.next()) {\n        throw sn_app_eng_studio.CreatorStudioConstants.errors.TAXONOMY_DEFINITION_DOES_NOT_EXIST;\n    }\n\n    var containedRoles = [];\n    while (roleContainsRecords.next()) {\n        containedRoles.push({\n            sys_id: roleContainsRecords.getValue('sys_id'),\n            name: roleContainsRecords.getDisplayValue('contains')\n        });\n    }\n\n    return {\n        sys_id: roleRecords.getValue('sys_id'),\n        name: roleRecords.getValue('name'),\n        name_value: roleRecords.getDisplayValue('name'),\n        icon: taxonomyRecords.getValue('icon'),\n        description: {\n            value: roleRecords.getValue('description'),\n            display_value: roleRecords.getDisplayValue('description'),\n        },\n        scope: {\n            value: roleRecords.getValue('sys_scope'),\n            display_value: roleRecords.getDisplayValue('sys_scope'),\n        },\n        contained_roles: containedRoles\n    };\n}\n\nfunction process(request, response) {\n    try {\n        var DATA_CATEGORY_SYS_ID = 'dd66a7577703330001fb4311a810611e';\n        var EXPERIENCE_CATEGORY_SYS_ID = 'db5663577703330001fb4311a81061b9';\n        var applicationSysId = request.pathParams.application_sys_id;\n        var roleSysId = request.pathParams.role_sys_id;\n\n        // Get the application inventory for the app-id sent in request\n        var applicationInventory = sn_app_eng_studio.ApplicationInventoryListBuilder.build(applicationSysId);\n\n        // Get the sys_user_role for the role send in request\n        var role = getRoleDetails(roleSysId);\n\n        // Get associations with the role\n        var roleAssociationLookup = getRoleAssociations(roleSysId);\n\n        // Get the acl records from the associated sys_id's\n        var fileACLLookup = getACLRecords(roleAssociationLookup);\n\n        // Get category lookup to filter out data and experience files\n        var categoryLookup = getCategoryLookup();\n\n        // Combine all the data\n        var combinedData = combineData(\n            role,\n            applicationInventory,\n            fileACLLookup,\n            categoryLookup,\n            [DATA_CATEGORY_SYS_ID, EXPERIENCE_CATEGORY_SYS_ID]\n        );\n\n        response.setBody(formatApiResponse(combinedData));\n        response.setStatus(200);\n\n    } catch (exception) {\n        switch (exception) {\n            case sn_app_eng_studio.CreatorStudioConstants.errors.APPLICATION_DOES_NOT_EXIST:\n                throw new sn_ws_err.ServiceError()\n                    .setStatus(404)\n                    .setMessage(gs.getMessageLang('Application, with sys_id {0}, does not exist', \"en\", [applicationSysId]))\n                    .setDetail(gs.getMessage('Application, with sys_id {0}, does not exist', [applicationSysId]));\n\n            case sn_app_eng_studio.CreatorStudioConstants.errors.APPLICATION_ACCESS_DENIED:\n                throw new sn_ws_err.ServiceError()\n                    .setStatus(403)\n                    .setMessage(gs.getMessageLang('Access to application, with sys_id {0}, is denied', \"en\", [applicationSysId]))\n                    .setDetail(gs.getMessage('Access to application, with sys_id {0}, is denied', [applicationSysId]));\n\n            case sn_app_eng_studio.CreatorStudioConstants.errors.APPLICATION_FILE_DOES_NOT_EXIST:\n                throw new sn_ws_err.ServiceError()\n                    .setStatus(404)\n                    .setMessage(gs.getMessageLang('Application role object with sys_id {0} does not exist', \"en\", [roleSysId]))\n                    .setDetail(gs.getMessage('Application role object with sys_id {0} does not exist', [roleSysId]));\n\n            case sn_app_eng_studio.CreatorStudioConstants.errors.TAXONOMY_DEFINITION_DOES_NOT_EXIST:\n                throw new sn_ws_err.ServiceError()\n                    .setStatus(404)\n                    .setMessage(gs.getMessageLang('Taxonomy definition for sys_user_role {0} does not exist', \"en\", [roleSysId]))\n                    .setDetail(gs.getMessage('Taxonomy definition for sys_user_role {0} does not exist', [roleSysId]));\n\n            default:\n                throw new sn_ws_err.ServiceError()\n                    .setStatus(500)\n                    .setMessage(gs.getMessageLang('Unhandled exception {0}', \"en\", [exception]))\n                    .setDetail(gs.getMessage('Unhandled exception {0}', [exception]));\n\n        }\n    }\n}\n\nprocess(request, response);","sys_updated_on":"2023-08-03 09:41:36","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/4d8d15aa53923010fe92ddeeff7b1263","value":"4d8d15aa53923010fe92ddeeff7b1263"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"499d15aa53923010fe92ddeeff7b126e","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_role_builder/v1/application/{application_sys_id}/role_details/{role_sys_id}","sys_created_on":"2021-09-02 21:07:50","sys_name":"GET Role Details","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/8df4249253123010fe92ddeeff7b120e","value":"8df4249253123010fe92ddeeff7b120e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/126d91aa53923010fe92ddeeff7b126f","value":"126d91aa53923010fe92ddeeff7b126f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8df4249253123010fe92ddeeff7b120e","value":"8df4249253123010fe92ddeeff7b120e"},"sys_update_name":"sys_ws_operation_499d15aa53923010fe92ddeeff7b126e","consumes_customized":"false","name":"GET Role Details","produces":"application/json,application/xml,text/xml","relative_path":"/{application_sys_id}/role_details/{role_sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_role_builder/application/{application_sys_id}/role_details/{role_sys_id}","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var restHandler, result, stepId, dependencyId;\n\ttry {\n\t\trestHandler = new sn_ads_setup.SNHelpSetupRestHandler();\n\t\tstepId = request.pathParams.step_id;\n\t\tdependencyId = request.pathParams.dependency_id;\n\t\tresult = restHandler.getStepDependency(dependencyId, stepId);\n\t\tresponse.setStatus(result.status);\n\n\t\tif (result.error) {\n\t\t\tresponse.setBody({error: result.error});\n\t\t} else {\n\t\t\tresponse.setBody(result.data);\n\t\t}\n\n\t} catch (e) {\n\t\tresponse.setStatus(500);\n\t\tgs.error(\"SNHelpSetupRestHandler: \" + e.message);\n\t\tresponse.setBody({error: \"Internal server error\"});\n\t}\n\n})(request, response);","sys_updated_on":"2022-09-21 07:32:28","enforce_acl":"d0fc8522534a0110f54fddeeff7b123d","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"49fc804e775041106ee492b01e5a9955","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_ads_setup/build/dependency/{dependency_id}/step/{step_id}","sys_created_on":"2021-12-09 12:03:27","sys_name":"Get Dependency ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/6db6b2ab53444110f54fddeeff7b1232","value":"6db6b2ab53444110f54fddeeff7b1232"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_update_name":"sys_ws_operation_49fc804e775041106ee492b01e5a9955","consumes_customized":"false","name":"Get Dependency ","produces":"application/json,application/xml,text/xml","relative_path":"/dependency/{dependency_id}/step/{step_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var result;\n\n    var endOfLife = 'N/A';\n    var scheduledVersion = 'N/A';\n    var scheduledOn = 'N/A';\n    var upgradeGR = new GlideRecord('upgrade_center_metadata');\n    upgradeGR.query();\n    if (upgradeGR.next()) {\n        endOfLife = upgradeGR.getValue('near_end_of_life') == 1 ? 'Yes' : 'No';\n\n        if (global.JSUtil.notNil(upgradeGR.getValue('scheduled_version'))) {\n            scheduledVersion = getVersionName(upgradeGR.getValue('scheduled_version'));\n            scheduledOn = upgradeGR.getDisplayValue('upgrade_scheduled_on');\n        }\n    }\n\n    function getVersionName(version) {\n        var gr = new GlideRecord('upgrade_preview_version');\n        gr.addQuery('value', version);\n        gr.query();\n        gr.next();\n\n        return gr.getDisplayValue('label');\n    }\n\n\n    result = {\n        currentReleaseVersion: new GlideUpgradeUtil().getCurrentBuildName(),\n        endOfLife: endOfLife,\n        scheduledVersion: scheduledVersion,\n        scheduledOn: scheduledOn\n    };\n\n    response.setContentType('application/json');\n    response.setStatus(200);\n    response.setBody(result);\n\n})(request, response);","sys_updated_on":"2023-09-21 20:57:30","enforce_acl":"87156c3db79701109cfe23508e11a95b","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"4a236bf9b75c21109cfe23508e11a987","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_admin_center/adminx/landing_page_instance_upgrade_data","sys_created_on":"2023-01-11 01:27:23","sys_name":"Landing Page Instance Upgrade Data","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1163fa730f102010e8c940c1df767e8c","value":"1163fa730f102010e8c940c1df767e8c"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/93683ba5b71701109cfe23508e11a91f","value":"93683ba5b71701109cfe23508e11a91f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1163fa730f102010e8c940c1df767e8c","value":"1163fa730f102010e8c940c1df767e8c"},"sys_update_name":"sys_ws_operation_4a236bf9b75c21109cfe23508e11a987","consumes_customized":"false","name":"Landing Page Instance Upgrade Data","produces":"application/json,application/xml,text/xml","relative_path":"/landing_page_instance_upgrade_data","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    // implement resource here\n    var clientType = request.pathParams.clientType;\n    var app = request.pathParams.app;\n    var sysProp = gs.getProperty('sn_va_slack.enable_slack_branding', 'false');\n    var updateUrl = sysProp == 'false';\n    var returnUrl = decodeURIComponent(new global.ChannelProxyInstallURLGetter(clientType, app).getURL());\n    if (updateUrl && returnUrl.indexOf(',chat:write.customize') >= 0) {\n        var replaceText = ',chat:write.customize';\n        returnUrl = returnUrl.replaceAll(replaceText, '');\n    }\n    return returnUrl;\n\n})(request, response);","sys_updated_on":"2023-04-10 14:23:27","enforce_acl":"0c264b08c3d16110bf30c265cb40dda4","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"4a68a0f2c3022110bf30c265cb40ddf1","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_oe_sfs/bot_install/{clientType}/{app}","sys_created_on":"2023-04-10 14:23:27","sys_name":"install_url","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/53b1b0e79761011018b2fa98c253afcc","value":"53b1b0e79761011018b2fa98c253afcc"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5b18e8b2c3022110bf30c265cb40ddc8","value":"5b18e8b2c3022110bf30c265cb40ddc8"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/53b1b0e79761011018b2fa98c253afcc","value":"53b1b0e79761011018b2fa98c253afcc"},"sys_update_name":"sys_ws_operation_4a68a0f2c3022110bf30c265cb40ddf1","consumes_customized":"false","name":"install_url","produces":"application/json,application/xml,text/xml","relative_path":"/{clientType}/{app}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"var {\n    RuleChecker\n} = require('@devsnc/uibtk-api');\n\n(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n  var rc = new RuleChecker();\n  var appRoutes = rc.checkAllRulesAgainstPc(request.pathParams.extensionPointId, request.pathParams.isMaint);\n\n  response.setBody({ appRoutes });\n\n})(request, response);","sys_updated_on":"2024-08-26 15:50:03","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"4abc783fb7ba0210461e83e75e11a9a9","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/check_rules/pc/{extensionPointId}/isMaint/{isMaint}","sys_created_on":"2024-06-21 17:23:22","sys_name":"Execute Rules Engine for Page Collection","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_4abc783fb7ba0210461e83e75e11a9a9","consumes_customized":"false","name":"Execute Rules Engine for Page Collection","produces":"application/json,application/xml,text/xml","relative_path":"/check_rules/pc/{extensionPointId}/isMaint/{isMaint}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n    var appId = request.pathParams.appId;\n\n    ScopeCheck.verifyNotGlobal(appId);\n\n    var allowed = VCSAppAccessCheck.verifyReadAccess(appId) && (VCSAppAccessCheck.isGACOrSourceControlUser() || VCSAppAccessCheck.verifyVersionControlAccess(appId));\n\n    if (!allowed) \n\t\tVCSAppAccessCheck.throwAccessDenied(appId);\n\n    var blacklist = [\n            'sys_choice',\n            'sys_choice_set',\n            'sys_ui_list',\n            'sys_ui_related_list',\n            'sys_ui_section',\n            'sys_ui_form',\n            'sys_ui_form_section',\n            'wf_workflow',\n            'wf_workflow_version',\n            'cmdb_datasource_definition'\n        ],\n        result = [],\n\t\tconflictUpdateNames = [],\n\t\tpreviewResults = [],\n\t\tupdateProblems = [],\n        isCollision,\n        stashedGr,\n        stashedXml,\n\t\tremoteUpdateSetArr = [],\n        updateValues,\n        recordValues,\n        gr;\n\t\n\tvar currentStashId = sn_vcs.AppSourceControl\n        .getRepository(appId)\n        .getCurrentStashPreview().getSysId();\n\n    var updates = sn_vcs.AppSourceControl\n        .getRepository(appId)\n        .getCurrentStashPreview()\n        .getUpdates();\n\t\n\tvar remoteUpdateSetRec = new GlideRecord('sys_remote_update_set');\n\tremoteUpdateSetRec.addQuery('parent', currentStashId);\n\tremoteUpdateSetRec.query();\n\twhile (remoteUpdateSetRec.next()) {\n\t\tvar remoteUpdateSetId = remoteUpdateSetRec.getValue('sys_id');\n\t\tremoteUpdateSetArr.push(remoteUpdateSetId);\n\t}\n\n    while (updates && updates.next()) {\n        isCollision = updates.isCollision();\n        if (!isCollision)\n            continue;\n\n        stashedGr = new GlideRecord('sys_update_xml');\n        stashedXml = stashedGr.get(updates.getSysId());\n\t\tconflictUpdateNames.push(updates.getUpdateName());\n\n        updateValues = {\n            updateName: updates.getUpdateName(),\n            updateSysId: updates.getSysId(),\n            stashedFileName: stashedXml ? stashedGr.getValue('target_name') : '',\n            action: updates.getAction() === 'DELETE' ? gs.getMessage('deleted') : gs.getMessage('modified'),\n            conflict: isCollision,\n            referencesMissingTable: updates.referencesMissingTable(),\n            isSkip: updates.isSkip(),\n            payload: updates.getPayload()\n        };\n\n        gr = updates.getCurrentRecord();\n        recordValues = gr.isValidRecord() ? getRecordValues(gr) : getPayloadValues(updateValues.payload);\n\n        result.push(_.extend({}, updateValues, recordValues));\n    }\n\n    response.setBody({\n\t\tresult : result,\n\t\thasPreviewProblems : hasPreviewProblems(currentStashId, result),\n\t\tremoteUpdateSetArr: remoteUpdateSetArr\n\t});\n\t\n    response.setStatus(200);\n    response.setContentType('application/json');\n\n    function getRecordValues(gr) {\n        var tableName, customType;\n\n        tableName = gr.getValue('sys_class_name');\n        customType = FileTypeMap.studioTypeForTable(tableName);\n\n        return {\n            fileSysId: gr.getValue('sys_id'),\n            fileName: gr.getValue('sys_name'),\n            table: tableName,\n            type: (customType && customType.name) || tableName,\n            isBlacklisted: _.contains(blacklist, tableName),\n            updatedBy: gr.getDisplayValue('sys_updated_by'),\n            updatedOn: gr.getDisplayValue('sys_updated_on')\n        };\n    }\n\n    function getPayloadValues(payload) {\n        var record, tableName, customType;\n        record = UpdateXMLPayloadParser.parse(payload);\n        tableName = record.sys_class_name;\n        customType = FileTypeMap.studioTypeForTable(tableName);\n\n        return {\n            fileSysId: record.sys_id,\n            fileName: record.sys_name,\n            table: tableName,\n            type: (customType && customType.name) || tableName,\n            isBlacklisted: true,\n            updatedBy: record.sys_updated_by,\n            updatedOn: record.sys_updated_on\n        };\n\t}\n\t\n\tfunction hasPreviewProblems(currentStashId, result) {\t\t\n\t\tvar previews = new GlideAggregate('sys_update_preview_problem');\n\t\tpreviews.addAggregate('count', 'sys_id');\n\t\tpreviews.addQuery('remote_update_set.remote_base_update_set', currentStashId);\n\t\tpreviews.orderBy(\"remote_update.name\");\n        previews.addNullQuery('status');\n        previews.query();\n\t\twhile(previews.next()) {\n\t\t\tpreviewResults.push(previews.getValue(\"remote_update.name\"));\n\t\t}\n\t\tupdateProblems = findUnique(previewResults,conflictUpdateNames);\n\t\treturn ((previews.getRowCount() > conflictUpdateNames.length) && updateProblems.length > 0);\n\t}\n\t\n\tfunction findUnique(a, b) {\n        var c = a.filter(function(item) {\n            return b.indexOf(item) === -1;\n        });\n        return c;\n\t}\n\n\n})(request, response);","sys_updated_on":"2022-10-06 21:05:07","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"4af7ebb337301200612747efbe41f1e4","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/apps/{appId}/repos/{repoId}/stash_previews/current","sys_created_on":"2016-01-14 05:00:39","sys_name":"Get Current Stash Preview","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"126","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_4af7ebb337301200612747efbe41f1e4","consumes_customized":"false","name":"Get Current Stash Preview","produces":"application/json,application/xml,text/xml","relative_path":"/apps/{appId}/repos/{repoId}/stash_previews/current","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/apps/{appId}/repos/{repoId}/stash_previews/current","sys_policy":"read"},{"short_description":"","operation_script":"(function process(request, response) {\n\tvar appId = request.pathParams.appId;\n\t\n\tScopeCheck.verifyNotGlobal(appId);\n\tvar allowed = VCSAppAccessCheck.verifyWriteAccess(appId) && (VCSAppAccessCheck.isGACOrSourceControlUser() || VCSAppAccessCheck.verifyVersionControlAccess(appId));\n\n    if (!allowed) \n\t\tVCSAppAccessCheck.throwAccessDenied(appId);\n\t\n\tvar requestParams = request.body.data;\n\tvar worker = sn_vcs.AppSourceControl.createBranch()\n\t\t\t.setSysApp(appId)\n\t\t\t.setBranchName(requestParams.branchName)\n\t\t\t.setStashMessage(requestParams.stashMessage)\n\t\t\t.setPreserveLocalChanges(requestParams.preserveLocalChanges);\n\n\tif (typeof requestParams.tagName !== 'undefined')\n\t\tworker.setBranchFromTag(requestParams.tagName);\n\n\tresponse.setContentType('application/json');\n\tresponse.setBody({\n\t\tprogressId: worker.start()\n\t});\n\tresponse.setStatus(202);\n\n})(request, response);","sys_updated_on":"2021-05-04 16:52:37","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"4b6aaff237930200612747efbe41f1f8","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/apps/{appId}/repos/{repoId}/branches","sys_created_on":"2015-10-28 13:03:04","sys_name":"Create Branch","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"30","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_4b6aaff237930200612747efbe41f1f8","consumes_customized":"false","name":"Create Branch","produces":"application/json,application/xml,text/xml","relative_path":"/apps/{appId}/repos/{repoId}/branches","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/apps/{appId}/repos/{repoId}/branches","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        var baseTableName = request.pathParams.table;\n        var referenceTables = request.queryParams.referencedTables ?\n            String(request.queryParams.referencedTables).split(',') : [];\n\n        var isFetchingDataOnlyForRequestedReferences = !!referenceTables.length;\n        if (!isFetchingDataOnlyForRequestedReferences){ \n\t\t\treferenceTables.push(...getParentTableInHierarchy(baseTableName));\n\t\t}\n\n        // Get list of parent tables if any, for each of reference table.\n        var parentTableForEachReferenceTableMap = getParentTableForEachReferenceTable(\n            referenceTables, isFetchingDataOnlyForRequestedReferences\n        );\n\n        // Response will not include that invalid table/s data.\n        var areTablesValid = !!parentTableForEachReferenceTableMap;\n        if (!areTablesValid) {\n            return {};\n        }\n\n        // Form encoded query and get reference tables data at once\n        var encodedQuery = formEncodedQueryForReferenceAndItsParentTable(parentTableForEachReferenceTableMap);\n\n        var referenceFieldsData = getReferenceFieldsData(encodedQuery);\n\n        // Get table labels for each reference table and its extended table\n        var referenceTableLabelAndNamesMap = getTableLabelForAllTables(encodedQuery);\n\n        // Group extended table fields with its child table. EG: Group task fields with incident table\n        var transformedReferenceFieldsData = transformReferenceFieldsData(referenceFieldsData, parentTableForEachReferenceTableMap, referenceTableLabelAndNamesMap);\n\n        var result = {};\n        result.referenceFieldsData = transformedReferenceFieldsData;\n        response.setBody(result);\n        response.setStatus(200);\n    } catch (err) {\n        response.setBody({\n            \"message\": gs.getMessage(\"Something went wrong while fetching table schema data. Please try again.\"),\n            \"details\": e.message + e.stack\n        });\n        response.setStatus(500);\n    }\n})(request, response);\n\nfunction getParentTableInHierarchy(baseTableName) {\n    var tables = [baseTableName];\n    var parentTableName = new GlideTableHierarchy(\n        baseTableName\n    ).getBase();\n\n    if (parentTableName !== baseTableName) {\n        tables = tables.concat(getParentTableInHierarchy(parentTableName));\n    }\n\n    return tables;\n}\n\nfunction formEncodedQueryForReferenceTables(referenceTables) {\n    var referenceQuery = 'referenceISNOTEMPTY^active=true^';\n    for (var index in referenceTables) {\n        // check if table is extended table\n        var tableName = referenceTables[index];\n        referenceQuery += 'name=' + tableName + '^OR';\n    }\n\n\n    var modifiedString = referenceQuery.replace(/(\\^OR)$/, \"\");\n    return modifiedString;\n}\n\nfunction getFields(tableObject) {\n    if (!tableObject) return [];\n    return tableObject.fields;\n}\n\nfunction getParentTableForEachReferenceTable(referenceTables, isFetchingDataOnlyForRequestedReferences) {\n    var referenceAndItsParentMap = {};\n\n    if (isFetchingDataOnlyForRequestedReferences) {\n        //If we have reference table names, no need to query again from sys_dictionary.\n        for (var index in referenceTables) {\n            var reference = referenceTables[index];\n            var parentTable = new GlideTableHierarchy(reference).getBase();\n            referenceAndItsParentMap[reference] = parentTable;\n        }\n    } else {\n        var refGr = new GlideRecordSecure('sys_dictionary');\n        refGr.addEncodedQuery(formEncodedQueryForReferenceTables(referenceTables));\n        refGr.query();\n        if (!refGr.hasNext()) return;\n        while (refGr.next()) {\n            var reference = refGr.getValue('reference');\n            var parentTable = new GlideTableHierarchy(reference).getBase();\n            referenceAndItsParentMap[reference] = parentTable;\n        }\n    }\n    return referenceAndItsParentMap;\n}\n\nfunction formEncodedQueryForReferenceAndItsParentTable(parentTableForEachReferenceTableMap) {\n    //Prepare encoded query for all tables\n    var encodedQuery = '';\n    for (var table in parentTableForEachReferenceTableMap)\n        encodedQuery += 'name=' + table + '^ORname=' + parentTableForEachReferenceTableMap[table] + '^OR';\n\n    var modifiedString = encodedQuery.replace(/(\\^OR)$/, \"\");\n    return modifiedString;\n}\n\nfunction getReferenceFieldsData(encodedQuery) {\n    var referenceData = {};\n\n    var gr = new GlideRecordSecure('sys_dictionary');\n    gr.addEncodedQuery(\n        'elementISNOTEMPTY^element!=sys_id^active=true^' + encodedQuery\n    ); //filter inactive and collection fields\n    gr.query();\n    while (gr.next()) {\n        var currentTable = gr.getValue('name');\n        var field = {\n            name: gr.getValue('element'),\n            label: gr.getValue('column_label'),\n            type: gr.getValue('internal_type'),\n            displayType: gr.getDisplayValue('internal_type'),\n            tableName: currentTable,\n            referenceName: gr.getValue('reference'),\n        };\n\n        if (referenceData[currentTable]) {\n            referenceData[currentTable].fields.push(field);\n        } else {\n            referenceData[currentTable] = {\n                fields: [field],\n            };\n        }\n    }\n\n    return referenceData;\n}\n\nfunction getTableLabelForAllTables(encodedQuery) {\n    var tableLabelAndNameMap = {};\n    var documentGr = new GlideRecord('sys_documentation');\n    documentGr.addEncodedQuery(encodedQuery);\n    documentGr.addNullQuery('element');\n    documentGr\n        .addQuery('language', gs.getSession().getLanguage())\n        .addOrCondition('language', 'en');\n    documentGr.query();\n    while (documentGr.next()) {\n        tableLabelAndNameMap[\n            documentGr.getValue('name')\n        ] = documentGr.getValue('label');\n    }\n    return tableLabelAndNameMap;\n}\n\nfunction transformReferenceFieldsData(referenceFieldsData, parentTableForEachReferenceTableMap, referenceTableLabelAndNamesMap) {\n    var tranformedData = {};\n    for (var table in parentTableForEachReferenceTableMap) {\n        var parentTable = parentTableForEachReferenceTableMap[table];\n\n        if (table === parentTable) {\n            // current table has no parent\n            var fields = getFields(referenceFieldsData[table]);\n            tranformedData[table] = {\n                fields: fields,\n                tableLabel: referenceTableLabelAndNamesMap[table],\n                tableValue: table,\n                count: fields.length,\n                isExtendedTable: false,\n            };\n        } else {\n            var fields = getFields(referenceFieldsData[table]);\n            var parentFields = getFields(referenceFieldsData[parentTable]);\n            var allFields = [].concat(fields, parentFields);\n            tranformedData[table] = {\n                fields: allFields,\n                tableLabel: referenceTableLabelAndNamesMap[table],\n                tableValue: table,\n                count: allFields.length,\n                isExtendedTable: true,\n            };\n        }\n    }\n    return tranformedData;\n}","sys_updated_on":"2024-11-22 05:52:55","enforce_acl":"f70e338e73f110107419c907fbf6a733","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"4b8e43b1ff322110243dffffffffffc6","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_table_builder/app/tableSchemaData/{table}","sys_created_on":"2023-05-15 06:30:29","sys_name":"Table Schema Data API","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f53f19bac362fa22ca2e93692d32f18f","value":"f53f19bac362fa22ca2e93692d32f18f"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/72cd338e73f110107419c907fbf6a730","value":"72cd338e73f110107419c907fbf6a730"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"12","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f53f19bac362fa22ca2e93692d32f18f","value":"f53f19bac362fa22ca2e93692d32f18f"},"sys_update_name":"sys_ws_operation_4b8e43b1ff322110243dffffffffffc6","consumes_customized":"false","name":"getSchemaData","produces":"application/json,application/xml,text/xml","relative_path":"/tableSchemaData/{table}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar recordProducerId = request.pathParams.sys_id;\n\tvar request_body = request.body.nextEntry();\n\tvar noValidation =  (request_body.sysparm_no_validation == 'true');\n\n\tvar catalogUtil = new RestCatalogUtil();\n\tvar isMobile = false;\n\n\tif (request.queryParams.sysparm_view) {\n\t\tvar viewType = '' + request.queryParams.sysparm_view;\n\t\tviewType = viewType.toLowerCase();\n\t\tif(viewType == 'mobile')\n\t\t\tisMobile = true;\n\t}\n\n\tif(!catalogUtil.isValidItem(recordProducerId, 'sc_cat_item_producer'))\n\t\tthrow new sn_ws_err.NotFoundError('Record Producer does not exist');\n\t\n\tvar also_request_for = request_body.sysparm_also_request_for;\n\tif (!gs.nil(also_request_for)) \n\t\tthrow new sn_ws_err.BadRequestError('Cannot request Record Producer for other users.');\n\n\tvar catalogItem = new sn_sc.CatItem(recordProducerId);\n\n\tif(!catalogItem.canView(isMobile))\n\t\tthrow new sn_ws_err.BadRequestError(\"Security Constraints prevent access to the Item\");\n\n\tfor (var key in request_body.variables)\n\t\tif (request_body.variables.hasOwnProperty(key) && request_body.variables[key] != null && typeof(request_body.variables[key]) !== 'string')\n\t\t\trequest_body.variables[key] = catalogUtil.getFieldValueAsString(key, request_body.variables[key], recordProducerId);\n\n\tvar variables = request_body.variables || {};\n\n\tif (!noValidation) {\n\t\t//Mandatory Variables Check\n\t\tif(!catalogUtil.checkMandatoryVariables(recordProducerId, variables))\n\t\t\tthrow new sn_ws_err.BadRequestError('Mandatory variables are not filled');\n\t}\n\tvar messages = catalogUtil.validateVariableRegex(recordProducerId, variables);\n\tif (messages && messages.length > 0) {\n\t\tvar errorResponse = {};\n\t\terrorResponse.errMsg = messages.join();\n\t\tresponse.setStatus(400);\n\t\treturn errorResponse;\n\t}\n\n\tvar mrvsErrorMessages = catalogUtil.validateMaxRowCountMultiRowVS('sc_cat_item', recordProducerId , recordProducerId, request_body.variables); \n\tif (mrvsErrorMessages && mrvsErrorMessages.length > 0) {\n\t\tvar errors = mrvsErrorMessages.join();\n\t\tthrow new sn_ws_err.BadRequestError(errors);\n\t}\n\n\trequest_body.sysparm_id = recordProducerId;\n\trequest_body.sysparm_action = 'execute_producer';\n\tif (!request_body.sysparm_item_guid)\n\t\trequest_body.sysparm_item_guid = gs.generateGUID('');\n\n\tvar response_body = {};\n\ttry {\n\t\tresponse_body = catalogItem.submitProducer(request_body);\n\t} catch(e) {\n\t\tgs.debug(e);\n\t\tvar catalogExceptionUtils = new global.CatalogExceptionUtils();\n\t\tif (catalogExceptionUtils.isValveException(e))\n\t\t\tresponse_body = catalogExceptionUtils.handleValveExceptionInPortal(e);\n\t\telse\n\t\t\tthrow sn_ws_err.ServiceError(\"Invalid Request\");\n\t}\n\tif (response_body.errMsg)\n\t\tresponse.setStatus(400);\n\n\treturn response_body;\n})(request, response);","sys_updated_on":"2024-06-17 17:47:21","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"4b9f0a8967101200d22b794717415a30","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/items/{sys_id}/submit_producer","sys_created_on":"2015-12-11 13:01:26","sys_name":"Submit a Record Producer","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"27","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_4b9f0a8967101200d22b794717415a30","consumes_customized":"false","name":"Submit a Record Producer","produces":"application/json,application/xml,text/xml","relative_path":"/items/{sys_id}/submit_producer","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/items/{sys_id}/submit_producer","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var body = request.body;\n    if (!body || Object.keys(body.data).length === 0) {\n        response.setStatus(400);\n        response.setError(new sn_ws_err.BadRequestError(\"Required validation payload was missing from the request.\"));\n        return response;\n    }\n\n    var data = body.data;\n    var message = \"\";\n\n    // Currently the validator only supports non-cmdb table validation but should be expanded \n    var isValidPayload = validateTables(data.tables);\n\n    // If there are two or more non-cmdb tables in an utterance and no cmdb table that is a validation error.\n    function validateTables(tables) {\n        // valid if no tables present, this is a name search query\n        if (!tables || tables.length === 0) {\n            return true;\n        }\n\n        var nonCmdbTables = [];\n        var cmdbTables = [];\n        tables.forEach(function(table) {\n            var tableTester = new GlideTableHierarchy(table);\n            var hierarchyTables = tableTester.getHierarchy();\n            if (hierarchyTables.indexOf('cmdb') === -1)\n                nonCmdbTables.push(table);\n            else\n                cmdbTables.push(table);\n        });\n        if (nonCmdbTables.length > 1 && cmdbTables.length === 0) {\n            message = gs.getMessage(\"Queries with multiple non cmdb tables are not supported.\");\n            return false;\n        }\n        return true;\n    }\n\n    response.setBody({\n        isValidPayload: isValidPayload,\n        message: message\n    });\n\n\n})(request, response);","sys_updated_on":"2023-03-23 17:30:03","enforce_acl":"39a22ab60735011017b703767cd30036,a3036eb60735011017b703767cd300b7","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"4ba0a5b24361211017b739603ab8f2e7","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_cmdb_ws/cmdb_workspace_api_scoped/nlq/validate","sys_created_on":"2023-03-16 21:55:33","sys_name":"Validate cmdb nlq search payload","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3ff417b78f3f2010960c53ac37bdeefb","value":"3ff417b78f3f2010960c53ac37bdeefb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"20","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_update_name":"sys_ws_operation_4ba0a5b24361211017b739603ab8f2e7","consumes_customized":"false","name":"Validate cmdb nlq search payload","produces":"application/json,application/xml,text/xml","relative_path":"/nlq/validate","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var attachmentSysID = String(request.queryParams.sys_id);\n    var return_obj = new PDFtoTableHelper().deletePDFDetails(attachmentSysID);\n\n    response.setBody(return_obj);\n})(request, response);","sys_updated_on":"2022-07-27 12:13:30","enforce_acl":"f7e62b5f97e415108843f73ef053af30","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"4bc2ec0c978951508843f73ef053af7f","http_method":"DELETE","sys_updated_by":"admin","operation_uri":"/api/sn_pdf_table_bldr/app/delete_pdf_details","sys_created_on":"2022-07-27 11:29:30","sys_name":"Delete PDF Details","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/8e417ee064982b70a7bd187e6edb95f1","value":"8e417ee064982b70a7bd187e6edb95f1"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/16652f5b97e415108843f73ef053af22","value":"16652f5b97e415108843f73ef053af22"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8e417ee064982b70a7bd187e6edb95f1","value":"8e417ee064982b70a7bd187e6edb95f1"},"sys_update_name":"sys_ws_operation_4bc2ec0c978951508843f73ef053af7f","consumes_customized":"false","name":"Delete PDF Details","produces":"application/json,application/xml,text/xml","relative_path":"/delete_pdf_details","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        const taxonomyFileStructure = FileTaxonomy.cacheAndGetTaxonomyStructure();\n        const params = UDCUtil.assign({},\n            UDCUtil.normalizeQueryParams(request.queryParams)\n        );\n        if (params && params.sysparm_transaction_scope) {\n            taxonomyFileStructure.types = FileTaxonomy.filterTypesForTransactionScope(taxonomyFileStructure.types);\n            delete taxonomyFileStructure.categories;\n        }\n        return taxonomyFileStructure;\n    } catch (e) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(500)\n            .setMessage(gs.getMessageLang(\"Unhandled exception {0}\", \"en\", [e]))\n            .setDetail(gs.getMessage(\"Unhandled exception {0}\", [e]));\n    }\n\n})(request, response);","sys_updated_on":"2024-05-08 13:12:17","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/90711aa05bdc31109cf872c60a81c7fb","value":"90711aa05bdc31109cf872c60a81c7fb"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"4bcffc4e4373711065e670d0a9b8f26f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_udc/v1/file_taxonomy/structure","sys_created_on":"2024-01-19 03:58:57","sys_name":"Taxonomy Structure","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ebf096a05bdc31109cf872c60a81c769","value":"ebf096a05bdc31109cf872c60a81c769"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_update_name":"sys_ws_operation_4bcffc4e4373711065e670d0a9b8f26f","consumes_customized":"false","name":"Taxonomy Structure","produces":"application/json,application/xml,text/xml","relative_path":"/structure","produces_customized":"false","default_operation_uri":"/api/sn_udc/file_taxonomy/structure","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar changeSysId = request.pathParams.change_sys_id || \"\";\n\tif (!changeSysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Change Request id not provided\");\n\n\tvar changeRequestGr = new GlideRecordSecure(global.ChangeRequest.CHANGE_REQUEST);\n\tchangeRequestGr.addQuery(\"sys_id\", changeSysId);\n\tchangeRequestGr.query();\n\tif (!changeRequestGr.next())\n\t\treturn new sn_ws_err.NotFoundError(\"Change Request not found\");\n\n\tvar taskSysId = request.pathParams.task_sys_id || \"\";\n\tif (!taskSysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Change Task id not provided\");\n\n\tvar changeTask = global.ChangeTask.bySysId(taskSysId);\n\tif (!changeTask)\n\t\treturn new sn_ws_err.NotFoundError(\"Change Task not found\");\n\n\tif (changeSysId !== changeTask.getGlideRecord().change_request + \"\")\n\t\t return new sn_ws_err.BadRequestError(\"Change Task found, but not related to Change Request: \" + changeSysId);\n\n\tif (!changeTask.getGlideRecord().canDelete())\n\t\treturn new sn_ws_err.BadRequestError(\"Change Task deletion not allowed\");\n\n\tif (!changeTask.deleteRecord())\n\t\treturn new sn_ws_err.BadRequestError(\"Failed to delete Change Task\");\n\n\treturn changeTask.toJS();\n})(request, response);","sys_updated_on":"2018-08-10 14:26:49","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"4bf65d52b733130096c3e4f6ee11a921","http_method":"DELETE","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/{change_sys_id}/task/{task_sys_id}","sys_created_on":"2018-08-10 14:26:49","sys_name":"Task","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_4bf65d52b733130096c3e4f6ee11a921","consumes_customized":"false","name":"Task","produces":"application/json,application/xml,text/xml","relative_path":"/{change_sys_id}/task/{task_sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/{change_sys_id}/task/{task_sys_id}","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    const productId = request.queryParams?.product && request.queryParams.product.length > 0 ? request.queryParams.product[0] : null;\n\n    /**\n     * applications[] is an array of applications coming from the Frontend. When passing an array as query string, the API will create a request\n     * as: .../config/applications?applications[]=1163fa730f102010e8c940c1df767e8c&applcations[]=3a606699c931211001ff2ef35f8ede98\n     */\n    const packageIds = request.queryParams['applications[]'] ? request.queryParams['applications[]'] : null;\n\n    let configurationHubUtil = new ConfigurationHubUtil();\n\n    let resultApplications = [];\n\n    if (productId)\n        resultApplications = configurationHubUtil.getApplicationsLabel(configurationHubUtil.getProductApplicationsPackageIds(productId));\n\n    let visitedApplicationsSet = new Set(resultApplications.map(app => app.id));\n    let packageIdIndex = 0;\n    while (packageIds && packageIds[packageIdIndex]) {\n        let packageId = packageIds[packageIdIndex];\n        if (!visitedApplicationsSet.has(packageId))\n            resultApplications.push(...configurationHubUtil.getApplicationsLabel([packageId]));\n\n        packageIdIndex++;\n    }\n\n    result = {\n        product: productId,\n        applications: resultApplications\n    };\n\n    response.setContentType('application/json');\n    response.setStatus(200);\n    response.setBody(result);\n\n})(request, response);","sys_updated_on":"2023-06-26 22:12:29","enforce_acl":"15f83eef4f63611038e26c01b1ce0b8e","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"4c20f76bb3012110ebc24fe55bc8e1ee","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_config_hub/configuration_hub_api/config/applications","sys_created_on":"2023-02-22 19:43:00","sys_name":"Get Applications","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/2028fe718b11c8f32122c6da3b496a83","value":"2028fe718b11c8f32122c6da3b496a83"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/d68a7cb5eb9221109cfedf3c03522847","value":"d68a7cb5eb9221109cfedf3c03522847"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"8","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2028fe718b11c8f32122c6da3b496a83","value":"2028fe718b11c8f32122c6da3b496a83"},"sys_update_name":"sys_ws_operation_4c20f76bb3012110ebc24fe55bc8e1ee","consumes_customized":"false","name":"Get Applications","produces":"application/json,application/xml,text/xml","relative_path":"/config/applications","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar table = request.queryParams.table ? request.queryParams.table + \"\" : \"change_request\";\n\tvar type = request.queryParams.type ? request.queryParams.type + \"\" : \"\";\n\tvar DATE_ELEMENT_TYPE = {\n\t\t\"glide_date_time\": true,\n\t\t\"glide_date\": true,\n\t\t\"due_date\": true,\n\t\t\"date\": true,\n\t\t\"datetime\": true\n\t};\n\tvar elementType = [];\n\ttable = table.toLowerCase();\n\ttype = type.toLowerCase();\n\n\tvar fieldsArr = [];\n\tvar gr = new GlideRecord(table);\n\n\tif (!gr.canRead())\n\t\tthrow new sn_ws_err.BadRequestError(\"You are either not authorized or record is not valid.\");\n\n\tvar fieldElements = gr.getElements();\n\tfor (var i = 0; i < fieldElements.length; i++) {\n\t\tvar elementDescriptor = fieldElements[i].getED();\n\t\tvar fieldName = elementDescriptor.getName();\n\n\t\tif ((type.indexOf(elementDescriptor.getInternalType()) > -1) || (type.indexOf(\"date\") > -1 && DATE_ELEMENT_TYPE[elementDescriptor.getInternalType()]))\n\t\t\tfieldsArr.push({\n\t\t\t\t\"type\": elementDescriptor.getInternalType(),\n\t\t\t\t\"value\": gr.getValue(fieldName),\n\t\t\t\t\"displayValue\": gr.getDisplayValue(fieldName),\n\t\t\t\t\"label\": elementDescriptor.getLabel(),\n\t\t\t\t\"columnName\": fieldName\n\t\t\t});\n\t}\n\treturn fieldsArr;\n})(request, response);","sys_updated_on":"2018-01-26 17:48:38","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"4c2e44d357334300afc34786cc94f999","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_chg_soc/soc/gettablefields","sys_created_on":"2018-01-26 15:40:54","sys_name":"getTableFields","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3115d45f67020300b410afa00585ef87","value":"3115d45f67020300b410afa00585ef87"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"27","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_update_name":"sys_ws_operation_4c2e44d357334300afc34786cc94f999","consumes_customized":"false","name":"getTableFields","produces":"application/json,application/xml,text/xml","relative_path":"/gettablefields","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\nvar controller = new sn_tourbuilder.GTAutoLaunchController();\nvar result = controller.getTours(request.queryParams);\nif (result) {\n\tif (result.success) {\n\t\tresponse.setBody(result.payload);\n\t\tresponse.setStatus(200);\n\t} else {\n\t\tvar body = result.payload ? result.payload : {msg: 'BAD_REQUEST'};\n\t\tresponse.setBody(body);\n\t\tif (result.reason === 'BAD_REQUEST') response.setStatus(400);\n\t\telse response.setStatus(500);\n\t}\n} else {\n\tresponse.setStatus(500);\n}\n\n})(request, response);","sys_updated_on":"2019-09-16 09:58:16","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/3268f36173eb13007077edcc5ef6a738","value":"3268f36173eb13007077edcc5ef6a738"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"4c48ac6687531300b38c0f4c59cb0ba7","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/guided_tours/tours","sys_created_on":"2018-07-17 09:11:31","sys_name":"Get all tours","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/2405194d87e73200b38c0f4c59cb0b6f","value":"2405194d87e73200b38c0f4c59cb0b6f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_update_name":"sys_ws_operation_4c48ac6687531300b38c0f4c59cb0ba7","consumes_customized":"false","name":"Get all tours","produces":"application/json,application/xml,text/xml","relative_path":"/tours","produces_customized":"false","default_operation_uri":"/api/now/guided_tours/tours","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    response.setContentType('application/json');\n\tvar result = [];\n\tvar queryParams = request.queryParams;\n\t\n\tvar grs = new GlideRecordSecure(\"sys_user_group\");\n\tgrs.addEncodedQuery(\"nameSTARTSWITH\" +queryParams.term);\n\tif(queryParams.encoded_query){\n\t\tgrs.addEncodedQuery(queryParams.encoded_query);\n\t}\n\tgrs.query();\n\t\n\twhile(grs.hasNext()){\n\t\tgrs.next();\n\t\tresult.push({sys_id: grs.getValue(\"sys_id\"), name: grs.getValue(\"name\")});\n\t}\n\n\tresponse.setStatus(200);\n\tresponse.setBody(result);\n\t\n})(request, response);","sys_updated_on":"2020-03-24 21:42:35","enforce_acl":"edc5e02473230010ee4dd3c72bf6a7ea","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"4c73575473230010ee4dd3c72bf6a73b","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/csdm_app_service/search_groups","sys_created_on":"2020-03-10 20:40:29","sys_name":"Get Groups","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/60c171d973c30010ee4dd3c72bf6a716","value":"60c171d973c30010ee4dd3c72bf6a716"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2f8d67ff04352210559073c06a02f74f","value":"2f8d67ff04352210559073c06a02f74f"},"sys_update_name":"sys_ws_operation_4c73575473230010ee4dd3c72bf6a73b","consumes_customized":"false","name":"Get Groups","produces":"application/json,application/xml,text/xml","relative_path":"/search_groups","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n\tvar appId = request.pathParams.appId;\n\t\n\tScopeCheck.verifyNotGlobal(appId);\n    var allowed = VCSAppAccessCheck.verifyWriteAccess(appId) && (VCSAppAccessCheck.isGACOrSourceControlUser() || VCSAppAccessCheck.verifyVersionControlAccess(appId));\n\n    if (!allowed)\n        VCSAppAccessCheck.throwAccessDenied(appId);\n\n\tvar requestParams = request.body.data;\n\tvar stashMessage = requestParams.stashMessage || '';\n\n\tvar progressId, repo;\n\trepo = sn_vcs.AppSourceControl\n\t\t.applyIncomingChanges()\n\t\t.setSysApp(appId)\n\t\t.setStashMessage(stashMessage)\n\t\t.setExecuteEvenIfHasOutgoingChanges(true)\n\t\t.setExecuteEvenIfHasNoIncomingChanges(true)\n\t\t.setPreserveOutgoingChanges(requestParams.preserveLocalChanges);\n\n\tif (requestParams.hasOwnProperty(\"upgradeBaseApp\"))\n\t\trepo.setUpgradeVendorApp(requestParams.upgradeBaseApp);\n\n\tprogressId = repo.start();\n\n\tresponse.setContentType('application/json');\n\tresponse.setBody({\n\t\tprogressId: progressId\n\t});\n\tresponse.setStatus(202);  \n\t\n})(request, response);","sys_updated_on":"2021-04-06 20:09:53","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"4c7d482337230200612747efbe41f1ba","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/apps/{appId}/repos/{repoId}/apply","sys_created_on":"2015-11-11 15:07:14","sys_name":"Apply Remote Changes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"23","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_4c7d482337230200612747efbe41f1ba","consumes_customized":"false","name":"Apply Remote Changes","produces":"application/json,application/xml,text/xml","relative_path":"/apps/{appId}/repos/{repoId}/apply","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/apps/{appId}/repos/{repoId}/apply","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n  var sysId = request.pathParams.sysId;\n  var templateChanges = request.body.data.template;\n\n  var templateRepo = new ViewTemplateRepository();\n  templateRepo.update(sysId, templateChanges);\n\n  var formatName = \"viewTemplateFormat\";\n  var formatList = new sn_mobile_card_bui.McbResultFormats();\n  var format = formatList.getFormat(formatName);\n\n  var util = new sn_mobile_card_bui.McbGlideRecordUtil(format);\n  var viewTemplateHM = util.getTemplate(sysId);\n\n  return viewTemplateHM;\n})(request, response);\n","sys_updated_on":"2023-03-07 17:11:29","enforce_acl":"cf9d01d3e73003009d6247e603f6a990,d7088c08b751211095411226de11a9e9","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"4ca0d0137770211095417f7c8c5a9904","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/now/mcb/view_template/{sysId}","sys_created_on":"2023-02-08 22:25:44","sys_name":"View Template - Patch","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/63d8b7c573c51010a59b4c5353f6a737","value":"63d8b7c573c51010a59b4c5353f6a737"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_update_name":"sys_ws_operation_4ca0d0137770211095417f7c8c5a9904","consumes_customized":"false","name":"View Template - Patch","produces":"application/json,application/xml,text/xml","relative_path":"/view_template/{sysId}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var HTTPS_CREDENTIAL_SYS_PROPERTY = 'glide.source_control.default_basic_auth_credential_sys_id';\n    var SSH_CREDENTIAL_SYS_PROPERTY = 'glide.source_control.default_ssh_private_key_credential_sys_id';\n\n    var hasDefaultHttpsCredentials = false;\n    var hasDefaultSshCredentials = false;\n\n    var canReadCredentials = gs.hasRightsTo('record/discovery_credentials/read');\n\n    if (!canReadCredentials) {\n        var grProps = new GlideRecord('sys_properties');\n        grProps.addEncodedQuery('name=' + HTTPS_CREDENTIAL_SYS_PROPERTY + '^ORname=' + SSH_CREDENTIAL_SYS_PROPERTY);\n        grProps.query();\n        while (grProps.next()) {\n            var discoveryCredGr = new GlideRecord(\"discovery_credentials\");\n            var hasValidSysIdConfigured = discoveryCredGr.get(grProps.getValue('value'));\n            if (grProps.getValue('value') && hasValidSysIdConfigured) {\n                if (grProps.getValue('name') === HTTPS_CREDENTIAL_SYS_PROPERTY)\n                    hasDefaultHttpsCredentials = true;\n                else\n                    hasDefaultSshCredentials = true;\n            }\n        }\n    }\n\n    response.setBody({\n        canReadCredentials: canReadCredentials,\n        hasDefaultHttpsCredentials: hasDefaultHttpsCredentials,\n        hasDefaultSshCredentials: hasDefaultSshCredentials\n    });\n    response.setStatus(200);\n})(request, response);","sys_updated_on":"2024-03-04 15:32:36","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/f7ec1279c3202010a9f5e548fa40dd4d","value":"f7ec1279c3202010a9f5e548fa40dd4d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"4ca5b32377413010a75151908a1061b8","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_app_eng_studio/v1/generic/default_credentials","sys_created_on":"2021-07-06 07:36:26","sys_name":"GET Default Credentials","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/37cc9e39c3202010a9f5e548fa40ddef","value":"37cc9e39c3202010a9f5e548fa40ddef"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"54","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_ws_operation_4ca5b32377413010a75151908a1061b8","consumes_customized":"false","name":"GET Default Credentials","produces":"application/json,application/xml,text/xml","relative_path":"/default_credentials","produces_customized":"false","default_operation_uri":"/api/sn_app_eng_studio/generic/default_credentials","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    const apiHelper = new APIHelper(request, response);\n    apiHelper.execute(function() {\n        const sysId = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.SYS_ID);\n        const noDomain = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.NO_DOMAIN, false);\n        if (!sysId) {\n            return apiHelper.respondUnsuccessfully(BuilderToolkitConstants.ERRORS.NO_EXPERIENCE_FOUND);\n        }\n        const adminPanelID = apiHelper.getBodyParam('adminPanelId', false);\n        const footer = apiHelper.getBodyParam('footer', false);\n        const general = apiHelper.getBodyParam('general', false);\n        const menu = apiHelper.getBodyParam('menu', false);\n        const navigation = apiHelper.getBodyParam('navigation', false);\n        const notifications = apiHelper.getBodyParam('notifications', false);\n        const search = apiHelper.getBodyParam('search', false);\n        const theming = apiHelper.getBodyParam('theming', false);\n\n        const experienceHandler = new Experience(false, noDomain, true);\n        const appConfigHandler = new AppConfig(false, noDomain, true);\n        const pagePropHandler = new PageProperty(false, noDomain, true);\n        const themeHandler = new ThemeM2M(false, noDomain, true);\n\n        const experienceUpdate = experienceHandler.updateRecord({\n            sysId,\n            title: general?.title,\n            path: general?.path\n        });\n        const appConfigUpdate = appConfigHandler.updateRecord({\n            sysId: adminPanelID,\n            landing_path: general?.landingPath,\n            description: general?.description\n        });\n        const themeUpdate = themeHandler.updateRecord({\n            adminPanelID,\n            ...theming\n        });\n\t\tconst propUpdates = pagePropHandler.updateProps(sysId,{\n\t\t\theader: {\n\t\t\t\t...menu,\n\t\t\t\t...notifications,\n\t\t\t\tsearchPublic : search.searchPublic,\n\t\t\t\tsearchPrivate: search.searchPrivate\n\t\t\t},\n\t\t\tfooter,\n\t\t\tsearch: search.selectedSearchSource,\n\t\t\ttoolbar: navigation\n\n\t\t});\n\n\n        apiHelper.getResponseGlideOperation({\n            experience: experienceUpdate,\n            appConfig: appConfigUpdate,\n\t\t\t...propUpdates,\n\t\t\ttheme:themeUpdate\n        }, BuilderToolkitConstants.ERRORS.FAILED_TO_UPDATE);\n    });\n\n})(request, response);","sys_updated_on":"2024-03-18 20:17:50","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"4decce8377f3611003565d9c4f5a99a8","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/experience","sys_created_on":"2023-07-07 15:59:48","sys_name":"Experience","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"21","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_4decce8377f3611003565d9c4f5a99a8","consumes_customized":"false","name":"Experience","produces":"application/json,application/xml,text/xml","relative_path":"/experience","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var pluginId = request.pathParams.pluginId;\n\tvar pMgr = new GlidePluginManager();\n\tvar isInstalledResponse = {};\n\n\tisInstalledResponse.isInstalled = pMgr.isActive(pluginId);\n\tresponse.setStatus(200);\n\tresponse.setBody(isInstalledResponse);\n\treturn response;\n\n})(request, response);","sys_updated_on":"2023-09-13 20:58:23","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"4e0d1dc1c71131106766a7ea1dc26010","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/check_plugin_installation/is_plugin_installed/{pluginId}","sys_created_on":"2023-09-13 20:58:23","sys_name":"IsPluginInstalled","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/1fecd1c1c71131106766a7ea1dc2603d","value":"1fecd1c1c71131106766a7ea1dc2603d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7d93e7f304312210559073c06a02f725","value":"7d93e7f304312210559073c06a02f725"},"sys_update_name":"sys_ws_operation_4e0d1dc1c71131106766a7ea1dc26010","consumes_customized":"false","name":"IsPluginInstalled","produces":"application/json,application/xml,text/xml","relative_path":"/is_plugin_installed/{pluginId}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar groupIds = JSUtil.nil(request.queryParams.group_ids) ? \"\" : request.queryParams.group_ids;\n\tvar rotaIds = JSUtil.nil(request.queryParams.rota_ids) ? \"\" : request.queryParams.rota_ids;\n\tvar rosterIds = JSUtil.nil(request.queryParams.roster_ids) ? \"\" : request.queryParams.roster_ids;\n\tvar dateTime = JSUtil.nil(request.queryParams.date_time) ? new GlideDateTime().getValue() : request.queryParams.date_time;\n\treturn new OnCallRotation().whoIsOnCall(groupIds, rotaIds, rosterIds, dateTime);\n})(request, response);","sys_updated_on":"2019-03-20 10:29:08","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"4e3d6780d7322200f2d224837e6103dc","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/whoisoncall","sys_created_on":"2016-10-26 20:00:39","sys_name":"whoisoncall","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_4e3d6780d7322200f2d224837e6103dc","consumes_customized":"false","name":"whoisoncall","produces":"application/json,application/xml,text/xml","relative_path":"/whoisoncall","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\n\tvar message;\n\t\n\tvar uploadData =request.body.data;\n\t\n\tvar sysId = uploadData.sysId;\n\tvar entityType = uploadData.entityType;\n\tvar tableName = uploadData.tableName;\n\tvar validRecords = uploadData.validRecords;\n\t\n\tvar result = new RecipientListUploadProcessor().uploadRecords(sysId, entityType, tableName, validRecords);\n\treturn result;\n\t\t\n\t})(request, response);","sys_updated_on":"2020-09-04 04:56:57","enforce_acl":"7d4660e9c78b54102cdf073703c260d9","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"4e45701387481300d99a8467a7cb0b2e","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_publications/recipients_list_rest_api/upload_recipient_list","sys_created_on":"2018-02-08 04:39:04","sys_name":"Upload Recipient List","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/0fdd6483d72302004f1e82285e61033a","value":"0fdd6483d72302004f1e82285e61033a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/61dbc5bf87e30300d99a8467a7cb0b85","value":"61dbc5bf87e30300d99a8467a7cb0b85"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"14","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0fdd6483d72302004f1e82285e61033a","value":"0fdd6483d72302004f1e82285e61033a"},"sys_update_name":"sys_ws_operation_4e45701387481300d99a8467a7cb0b2e","consumes_customized":"false","name":"Upload Recipient List","produces":"application/json,application/xml,text/xml","relative_path":"/upload_recipient_list","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tresponse.setContentType('application/json');\n\t\n\tvar helper = new CMDBDataManagerHelper();\n    var policyType = helper.getParamAsString('cmdb_policy_type');\n    var result = {};\n\n    if (JSUtil.nil(policyType)) {\n        return new sn_ws_err.BadRequestError('Missing cmdb_policy_type');\n    }\n\t\n    result.excluded_cis_list = helper.getExcludedCisListPerPolicyType(policyType);\n\n    response.setStatus(200);\n    response.setBody(result);\n\n})(request, response);","sys_updated_on":"2021-04-05 17:13:40","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"4e690a517313201045cadfcd3bf6a7e7","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/ci_lifecycle_manager/excluded_cis_list_per_policy_type","sys_created_on":"2021-04-02 23:58:26","sys_name":"Get Excluded Cis List Per Policy Type","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ad9ebe127322101045cadfcd3bf6a735","value":"ad9ebe127322101045cadfcd3bf6a735"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"sys_update_name":"sys_ws_operation_4e690a517313201045cadfcd3bf6a7e7","consumes_customized":"false","name":"Get Excluded Cis List Per Policy Type","produces":"application/json,application/xml,text/xml","relative_path":"/excluded_cis_list_per_policy_type","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var errorHandler = new ErrorHandler();\n\tvar root = request.body.data.root;\n\tvar descendants = request.body.data.descendants;\n\tvar additionalFieldsToUpdate = request.body.data.additionalFieldsToUpdate;\n    \n\ttry {\n\t\tsaveEnhancedRecordsResponse = new EnhancedRecordConfigService(root, descendants, additionalFieldsToUpdate).saveEnhancedRecords();\n\t} catch (error) {\n\t\terrorHandler.throwSnWsError(error);\n\t}\n\t\n\treturn saveEnhancedRecordsResponse;\n    \n    })(request, response);","sys_updated_on":"2024-05-01 10:06:36","enforce_acl":"4bbe81b4c703201066492f3bf4c260e6","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"4e7fa0db67f54e106b52f0270af922da","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_mab_api/mab_api/saveEnhancedRecords","sys_created_on":"2024-05-01 10:06:36","sys_name":"Save Enhanced Records","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3512bd93c7c12010100f2f3bf4c26049","value":"3512bd93c7c12010100f2f3bf4c26049"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_update_name":"sys_ws_operation_4e7fa0db67f54e106b52f0270af922da","consumes_customized":"false","name":"Save Enhanced Records","produces":"application/json,application/xml,text/xml","relative_path":"/saveEnhancedRecords","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n      var sysId = request.pathParams.sysId;\n      var format = sn_mab_api.McbResultFormats.viewConfigFormat;\n    \n      var util = new sn_mab_api.McbGlideRecordUtil(format);\n      if (util.verifyAuth('sys_sg_view_config', sysId)) {\n        var viewConfigHM = util.getCard(sysId);\n        var viewTemplateHM = util.getTemplate(viewConfigHM[\"template\"], false);\n        var uIRuleHMs = util.getUiRules(sysId);\n    \n        viewConfigHM[\"templateView\"] = viewTemplateHM;\n        viewConfigHM[\"mobileUiRules\"] = uIRuleHMs;\n    \n        return viewConfigHM;\n      } else {\n        response.setStatus(401);\n      }\n    })(request, response);","sys_updated_on":"2024-09-13 18:41:33","enforce_acl":"4bbe81b4c703201066492f3bf4c260e6","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"4ea3c3d4679ab110f6c7f0270af922e7","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_mab_api/mab_api/cardMetadata/{sysId}","sys_created_on":"2023-10-31 13:40:22","sys_name":"Get Card Metadata","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3512bd93c7c12010100f2f3bf4c26049","value":"3512bd93c7c12010100f2f3bf4c26049"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_update_name":"sys_ws_operation_4ea3c3d4679ab110f6c7f0270af922e7","consumes_customized":"false","name":"Get Card Metadata","produces":"application/json,application/xml,text/xml","relative_path":"/cardMetadata/{sysId}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar restHandler, result, stepId, setupId, data;\n\t\n\ttry {\n\t\tsetupId = request.pathParams.setup_id;\n\t\tstepId = request.pathParams.step_id;\n\t\trestHandler = new SNHelpSetupRestHandler();\n\t\tdata = request.body.data;\n\t\tresult = restHandler.upsertSetupStep(setupId, stepId, data);\n\t\t\n\t\tresponse.setStatus(result.status);\n\t\t\n\t\tif(result.data)\n\t\t\tresponse.setBody(result.data);\n\t\telse\n\t\t\tresponse.setBody({error: result.message});\n\t} catch (ex) {\n\t\tresponse.setStatus(500);\n\t\tresponse.setBody({error: \"Internal Server Error\"});\n\t}\n\t\n})(request, response);","sys_updated_on":"2022-09-21 07:33:34","enforce_acl":"d0fc8522534a0110f54fddeeff7b123d","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"4eb5776353084110f54fddeeff7b1203","http_method":"PUT","sys_updated_by":"admin","operation_uri":"/api/sn_ads_setup/build/setup/{setup_id}/step/{step_id}","sys_created_on":"2021-12-02 10:35:22","sys_name":"Update Setup Step","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/6db6b2ab53444110f54fddeeff7b1232","value":"6db6b2ab53444110f54fddeeff7b1232"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_update_name":"sys_ws_operation_4eb5776353084110f54fddeeff7b1203","consumes_customized":"false","name":"Update Setup Step","produces":"application/json,application/xml,text/xml","relative_path":"/setup/{setup_id}/step/{step_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Updates a screen record","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    const apiHelper = new APIHelper(request, response);\n    apiHelper.execute(function() {\n\t\tconst noDomain = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.NO_DOMAIN);\n        const {\n            screen\n        } = request.body.data;\n\n\t\tif(!screen){\n\t\t\treturn apiHelper.respondUnsuccessfully(BuilderToolkitConstants.ERRORS.NO_SCREEN);\n\t\t}\n\t\tapiHelper.getResponseGlideOperation(new Screen([], noDomain).updateRecord(screen),BuilderToolkitConstants.ERRORS.FAILED_TO_UPDATE);\n    });\n\n})(request, response);","sys_updated_on":"2023-05-26 18:26:38","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"{\n    \"screen\": {\n        \"requiredTranslations\": \"[ ]\",\n        \"screenType\": \"\",\n        \"sysId\": \"\",\n        \"appConfig\": \"\",\n        \"sysDomain\": {\n            \"value\": \"\",\n            \"displayValue\": \"\"\n        },\n        \"sysScope\": {\n            \"value\": \"\",\n            \"displayValue\": \"\"\n        },\n        \"order\": 0,\n        \"active\": true,\n        \"parentMacroponent\": \"\",\n        \"name\": \"\",\n        \"macroponent\": \"\",\n        \"macroponentConfig\": {},\n        \"eventMappings\": []\n    }\n}","sys_id":"4f2ad4a839fb9110f877f50b0c4d7a0d","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/screen","sys_created_on":"2022-12-12 17:00:59","sys_name":"Screen","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_4f2ad4a839fb9110f877f50b0c4d7a0d","consumes_customized":"false","name":"Screen","produces":"application/json,application/xml,text/xml","relative_path":"/screen","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar allowedSentiment = ['positive', 'negative'];\n\tvar requestData = request.body.data;\n\t\n\tif (!requestData || Object.keys(requestData).length == 0 || !requestData['sysId']) {\n\t\tvar error = new sn_ws_err.ServiceError();\n        error.setStatus(400);\n        error.setMessage(\"There was not enough logging information included in the payload\");\n        return error;\n\t}\n\t\n\tvar feedbackSentiment = (requestData.feedbackSentiment + '').toLowerCase();\n\tif (allowedSentiment.indexOf(feedbackSentiment) < 0)\n\t\tfeedbackSentiment = '';\n\t\n\tvar gr = new GlideRecord('nlq_query_log');\n\tgr.addQuery('sys_id', requestData.sysId + '');\n\tgr.query();\n\tif (!gr.next()) \n\t\treturn new sn_ws_err.BadRequestError('NLQ Log could not be found');\n\t\n\tgr.setValue('feedback_sentiment', feedbackSentiment);\n\tgr.setValue('feedback_problem_category', requestData.feedbackProblemCategory ? requestData.feedbackProblemCategory + '' : '');\n\tgr.setValue('feedback_detailed', requestData.feedbackDetailed ? requestData.feedbackDetailed + '' : '');\n\tgr.update();\n\n    response.setStatus(200);\n\n})(request, response);","sys_updated_on":"2022-02-24 20:32:00","enforce_acl":"39a22ab60735011017b703767cd30036,a3036eb60735011017b703767cd300b7","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"4f4db78c07a5011017b703767cd3000e","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_cmdb_ws/cmdb_workspace_api_scoped/nlq_query_log","sys_created_on":"2022-02-04 03:47:15","sys_name":"Submit NLQ Feedback","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3ff417b78f3f2010960c53ac37bdeefb","value":"3ff417b78f3f2010960c53ac37bdeefb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_update_name":"sys_ws_operation_4f4db78c07a5011017b703767cd3000e","consumes_customized":"false","name":"Submit NLQ Feedback","produces":"application/json,application/xml,text/xml","relative_path":"/nlq_query_log","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\t\n\tvar request_body = request.body.nextEntry();\n\tvar quantity = '' + request_body.sysparm_quantity;\n\tvar noValidation =  (request_body.sysparm_no_validation == 'true');\n\n\tif (!/^\\+?([0-9]*)$/.test(quantity))\n\t\tthrow new sn_ws_err.BadRequestError(\"Invalid Quantity value\");\n\telse\n\t\trequest_body.sysparm_quantity = quantity;\n\n\tvar itemId = '' + request.pathParams.sys_id;\n\trequest_body.sysparm_id = itemId;\n\tvar catItem = new sn_sc.CatItem(itemId);\n\tif (!catItem.canView())\n\t\tthrow new sn_ws_err.BadRequestError(\"Security constraints prevent ordering of Item\");\n\n\tvar catUtil = new RestCatalogUtil();\n\tfor (var key in request_body.variables)\n\t\tif (request_body.variables.hasOwnProperty(key) && request_body.variables[key] != null && typeof(request_body.variables[key]) !== 'string')\n\t\t\trequest_body.variables[key] = catUtil.getFieldValueAsString(key, request_body.variables[key], itemId);\n\n\tif (!noValidation) {\n\t\tif (!catUtil.checkMandatoryVariables(itemId, request_body.variables))\n\t\t\tthrow new sn_ws_err.BadRequestError('Mandatory Variables are required');\n\t}\n\tvar messages = catUtil.validateVariableRegex(itemId, request_body.variables);\n\tif (messages && messages.length > 0) {\n\t\tvar errorResponse = {};\n\t\terrorResponse.errMsg = messages.join();\n\t\tresponse.setStatus(400);\n\t\treturn errorResponse;\n\t}\n\n\tvar mrvsErrorMessages = catUtil.validateMaxRowCountMultiRowVS('sc_cat_item', itemId, itemId, request_body.variables); \n\tif (mrvsErrorMessages && mrvsErrorMessages.length > 0) {\n\t\tvar errors = mrvsErrorMessages.join();\n\t\tthrow new sn_ws_err.BadRequestError(errors);\n\t}\n\tvar cartName = \"cart_\" + gs.generateGUID() + \"_\" + itemId;\n\tvar cart = new sn_sc.CartJS(cartName);\n\trequest_body.sysparm_cart_name = cartName;\n\tvar response_body = {};\n\ttry {\t\n\t\tresponse_body = cart.orderNow(request_body);\n\t} catch(e) {\n\t\tgs.debug(e);\n\t\tvar catalogExceptionUtils = new global.CatalogExceptionUtils();\n\t\tif(catalogExceptionUtils.isCartException(e))\n\t\t\tresponse_body = catalogExceptionUtils.handleCartExceptionInPortal(e);\n\t\telse\n\t\t\tthrow new sn_ws_err.ServiceError('Invalid Request');\n\t}\n\tif (response_body.errMsg)\n\t\tresponse.setStatus(400);\n\n\treturn response_body;\n})(request, response);","sys_updated_on":"2021-09-18 17:47:21","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"4f9131449f901200d54dd4b4232e708d","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/items/{sys_id}/order_now","sys_created_on":"2015-12-08 08:14:25","sys_name":"Buy Item","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"43","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_4f9131449f901200d54dd4b4232e708d","consumes_customized":"false","name":"Buy Item","produces":"application/json,application/xml,text/xml","relative_path":"/items/{sys_id}/order_now","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/items/{sys_id}/order_now","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var permissionType = request.body && request.body.data && request.body.data.permission_type;\n    var sysUser = request.body && request.body.data && request.body.data.sys_user;\n\n    if (sysUser && permissionType) {\n        var utils = new AppIntakeUtils();\n        var result = utils.addUserToGroup(sysUser, permissionType);\n\n        response.setBody(result);\n        response.setStatus(200);\n    } else {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(400)\n            .setMessage(gs.getMessageLang(\"Request requires a sys_user and permission type(s).\", \"en\"))\n            .setDetail(gs.getMessage(\"Provisioning a user requires a sys_user and permission type(s).\"));\n    }\n\n})(request, response);","sys_updated_on":"2024-05-29 18:44:32","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/0799025e9f110210c4191b2a1b0a1cae","value":"0799025e9f110210c4191b2a1b0a1cae"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"4fc9065e9f110210c4191b2a1b0a1ca4","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_app_intake/v1/provision/add","sys_created_on":"2024-04-03 17:37:41","sys_name":"Add User to Group","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3d3c2505c3e22010b83971e54440dd75","value":"3d3c2505c3e22010b83971e54440dd75"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/4f798e1e9f110210c4191b2a1b0a1c2f","value":"4f798e1e9f110210c4191b2a1b0a1c2f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"16","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3d3c2505c3e22010b83971e54440dd75","value":"3d3c2505c3e22010b83971e54440dd75"},"sys_update_name":"sys_ws_operation_4fc9065e9f110210c4191b2a1b0a1ca4","consumes_customized":"false","name":"Add User to Group","produces":"application/json,application/xml,text/xml","relative_path":"/add","produces_customized":"false","default_operation_uri":"/api/sn_app_intake/provision/add","sys_policy":"read"},{"short_description":"Retrive list of categories for a specific catalog","sys_updated_on":"2016-10-25 07:01:08","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"4fdfdc419f330200d54dd4b4232e7056","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/catalogs/{sys_id}/categories","sys_created_on":"2015-11-16 09:01:10","sys_name":"List of Categories for a Catalog","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"29","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_4fdfdc419f330200d54dd4b4232e7056","consumes_customized":"false","name":"List of Categories for a Catalog","produces":"application/json,application/xml,text/xml","relative_path":"/catalogs/{sys_id}/categories","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/catalogs/{sys_id}/categories","sys_policy":"protected"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var JSUtil = global.JSUtil;\n    var groupId = JSUtil.nil(request.queryParams.group_id) ? \"\" : request.queryParams.group_id + \"\";\n\t\n\tif (groupId) {\n\t\tvar ocUtils = new OnCallUtilsSow();\n\t\treturn ocUtils.getNextShiftDateTime(groupId);\n\t}\n\t\n})(request, response);","sys_updated_on":"2023-09-16 20:27:10","enforce_acl":"1dbba406eb197110249e8d835d52281f","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"503d06a6ad700110f877c4a7c02587eb","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sow_on_call/on_call_shifts/getNextShiftTime","sys_created_on":"2022-01-05 07:13:26","sys_name":"getNextShiftTime","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/7e3c2481539260100c54ddeeff7b127b","value":"7e3c2481539260100c54ddeeff7b127b"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/999a9a18536230100999ddeeff7b12a4","value":"999a9a18536230100999ddeeff7b12a4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7e3c2481539260100c54ddeeff7b127b","value":"7e3c2481539260100c54ddeeff7b127b"},"sys_update_name":"sys_ws_operation_503d06a6ad700110f877c4a7c02587eb","consumes_customized":"false","name":"getNextShiftTime","produces":"application/json,application/xml,text/xml","relative_path":"/getNextShiftTime","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar payloads = request.body.data;\n\n\tvar ServiceGenerator = new CreateOrUpdateITService();\n\ttry{\n\t\tServiceGenerator.convertDynamicToManual(payloads.serviceId);\n\t\tresponse.setContentType('application/json');\n\t\tresponse.setStatus(200);\n\t} catch(err){\n\t\tresponse.setError(err);\n\t}\n})(request, response);","sys_updated_on":"2024-04-30 06:59:00","enforce_acl":"a36f6b459f73320089c25ecec32e705e","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"509d86c4c37250100bb24dafea40ddf6","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/cmdb/app_service/convertToManualService","sys_created_on":"2020-08-18 10:21:00","sys_name":"ConvertToManualService","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/565abf20c39413003e76741e81d3ae48","value":"565abf20c39413003e76741e81d3ae48"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"13","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_509d86c4c37250100bb24dafea40ddf6","consumes_customized":"false","name":"ConvertToManualService","produces":"application/json,application/xml,text/xml","relative_path":"/app_service/convertToManualService","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\n\tvar msd = new GlideRecord(global.MLBaseConstants.ML_CAPABILITY_DEF_BASE);\n\tgs.info(\"solution definition: \" + request.pathParams.solution_name);\n\tmsd.addQuery(\"solution_name\", request.pathParams.solution_name);\n\tmsd.query();\n\tif(msd.next()){\n\t\tvar sol_def_id = msd.sys_id;\n\t\tif(new MLRequestSchedule().isCapabilitySolutionCurrentlyTraining(sol_def_id) == true  && gs.hasRole('ml_admin')){\n\t\t\tvar gr = new GlideRecord(global.MLBaseConstants.ML_SOLUTION);\n\t\t\tgr.addQuery(global.MLBaseConstants.SOL_DEFINITION_REF_FIELD, sol_def_id);\n\t\t\tgr.orderByDesc('sys_created_on');\n\t\t\tgr.query();\n\t\t\tif (gr.next())\n\t\t\t\tgs.info(\"Currently Training Solution : \" + gr.sys_id);\n\t\t\t\tnew sn_ml.TrainingRequest().cancelTraining(gr.sys_id);\n\t\t}\n\t}\n\n})(request, response);","sys_updated_on":"2019-09-16 21:41:13","enforce_acl":"5a3bd3757351230080b29ca9faf6a7f2","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"50b2c1c0b7103300ccff9f28ee11a985","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/agent_intelligence/solution/{solution_name}/solution_cancel","sys_created_on":"2019-03-15 05:54:59","sys_name":"Cancel Solution Training","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3d4fe0bf0b323200c7ecc71437673a4e","value":"3d4fe0bf0b323200c7ecc71437673a4e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_ws_operation_50b2c1c0b7103300ccff9f28ee11a985","consumes_customized":"false","name":"Cancel Solution Training","produces":"application/json,application/xml,text/xml","relative_path":"/solution/{solution_name}/solution_cancel","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var data = request.body.data,\n        result;\n    try {\n\n        if (data.modelId || data.type) {\n\n            if (data.type) {\n                result = NLUStudioValidator.validateRecord(data);\n            } else {\n                result = NLUStudioValidator.validate(data.modelId, data.intentId, data.utterance, data.entityId);\n            }\n\n            if (result.status === 'success') {\n                response.setStatus(200);\n            } else {\n                response.setStatus(400);\n            }\n\n            response.setContentType('application/json');\n            return result;\n        } else {\n            return new sn_ws_err.BadRequestError(\"No input data provided\");\n        }\n\n    } catch (e) {\n        return e;\n    }\n\n})(request, response);","sys_updated_on":"2021-04-20 05:48:22","enforce_acl":"ccd8a1e7772000105d7b3882a910617c","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/e4cda81e7333230021a044764df6a777","value":"e4cda81e7333230021a044764df6a777"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"50d5be36773323005d7b3882a91061ed","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/v1/nlu/validate","sys_created_on":"2019-02-27 06:49:37","sys_name":"validate","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/55672c9a7333230021a044764df6a706","value":"55672c9a7333230021a044764df6a706"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"17","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_ws_operation_50d5be36773323005d7b3882a91061ed","consumes_customized":"false","name":"validate","produces":"application/json,application/xml,text/xml","relative_path":"/validate","produces_customized":"false","default_operation_uri":"/api/now/nlu/validate","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar ocrRotaV2 = new OCRotationV2();\n\tvar result = ocrRotaV2.getRostersByRotas(request.pathParams.rota_id);\n\tif (ocrRotaV2.log.atLevel(GSLog.DEBUG)) {\n\t\tocrRotaV2.timer.timerName += \" REST-GET getrostersbyrotas\";\n\t\tocrRotaV2.log.debug(ocrRotaV2.timer.result());\n\t}\n\treturn result;\n})(request, response);","sys_updated_on":"2019-03-20 10:28:32","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"51291843d7130200f2d224837e610348","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/getrostersbyrotas/{rota_id}","sys_created_on":"2015-10-28 16:25:38","sys_name":"getRostersByRotas","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"22","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_51291843d7130200f2d224837e610348","consumes_customized":"false","name":"getRostersByRotas","produces":"application/json,application/xml,text/xml","relative_path":"/getrostersbyrotas/{rota_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var tableName = request.pathParams.table_name;\n    var fieldNames = request.queryParams.fieldNames;\n\n    try {\n        var result = {};\n        var fieldDescriptions = SNC.TableAndFieldDescription.getFieldDescriptions(tableName, fieldNames);\n\n        response.setStatus(200);\n        response.setBody(fieldDescriptions);\n        return response;\n    } catch (e) {\n        //convert the exception to response.\n        var ex = e + '';\n        var errorResponse = new sn_ws_err.ServiceError();\n        errorResponse.setMessage(ex);\n\n        if (ex.indexOf('IllegalArgumentException') > 0)\n            errorResponse.setStatus(400);\n        else if (ex.indexOf('ACLException') > 0)\n            errorResponse.setStatus(403);\n        else\n            errorResponse.setStatus(500);\n\n        return errorResponse;\n    }\n\n})(request, response);","sys_updated_on":"2020-02-27 21:42:52","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"516fa0ecb7220010afd28c41de11a9c6","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/reporting_table_description/field_description/{table_name}","sys_created_on":"2020-01-21 10:23:01","sys_name":"Get Field Description","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5d37b050b7620010afd28c41de11a9e6","value":"5d37b050b7620010afd28c41de11a9e6"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fb08e33304f12210559073c06a02f7a6","value":"fb08e33304f12210559073c06a02f7a6"},"sys_update_name":"sys_ws_operation_516fa0ecb7220010afd28c41de11a9c6","consumes_customized":"false","name":"Get Field Description","produces":"application/json,application/xml,text/xml","relative_path":"/field_description/{table_name}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar maxDateRangeDaysDuration = parseInt(gs.getProperty(\"com.snc.on_call_rotation.calendar_span.max_time_off_days\", \"365\"));\n\tvar coverageDateDiff = gs.dateDiff(request.queryParams.start_date_time, request.queryParams.end_date_time, true);\n\tif (JSUtil.nil(coverageDateDiff)) {\n\t\tthrow \"Invalid time off spans\";\n\t}\n\tvar providedCoverageDuration = parseInt(coverageDateDiff / (24 * 60 * 60));\n\tif (providedCoverageDuration > maxDateRangeDaysDuration) {\n\t\tthrow \"Can not provide time off for more than \" + maxDateRangeDaysDuration + \" consecutive days.\";\n\t}\n\n\tvar formatter = null;\n\tvar scriptInclude = OCFormatterMapping.formatters[request.queryParams.format + \"\"];\n\tif (scriptInclude)\n\t\tformatter = new scriptInclude();\n\treturn new OCAddItem(formatter)\n\t.setMemberSysId(request.queryParams.user_id)\n\t.setGroupSysId(request.queryParams.group_id)\n\t.setStartDateTime(request.queryParams.start_date_time)\n\t.setEndDateTime(request.queryParams.end_date_time)\n\t.setAllDay(request.queryParams.all_day)\n\t.setNotes(request.queryParams.notes)\n\t.setProposedCover(request.queryParams.proposed_cover)\n\t.timeOff();\n})(request, response);","sys_updated_on":"2019-03-20 10:21:53","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"518874fed760120035ae23c7ce610361","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/addtimeoff","sys_created_on":"2015-12-29 03:22:14","sys_name":"addTimeOff","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"21","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_518874fed760120035ae23c7ce610361","consumes_customized":"false","name":"addTimeOff","produces":"application/json,application/xml,text/xml","relative_path":"/addtimeoff","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var INCIDENT_TABLE = \"incident\";\n    var LINK_FIELD = 'parent_incident';\n    \n    //DEF0115455: read only user can not link to incident\n\tvar gr = new GlideRecord(INCIDENT_TABLE);\n\tif(!gr.canWrite() || !gr[LINK_FIELD].canWrite()){\n\t\treturn response.setBody({\n\t\t\tsucceed: false,\n\t\t\tmessage: gs.getMessage(\"Roles are insufficient to perform the action\")\n\t\t});\n\t}\n    /**\n     * isAgentAssist: to indicate whether this is REST call is from Agent Assist\n     * actionId: search UI Action's unique ID\n     * currentId: sys_id of Incident record which has search term\n     * resourceId: sys_id of Incident record which is search result\n     */\n    var isAgentAssist = request.body.data.isAgentAssist;\n    var actionId = request.body.data.actionId;\n    var currentId = request.body.data.currentId;\n    var resourceId = request.body.data.resourceId;\n    var body = {};\n\n    var reverseDir;\n    if (actionId.startsWith(\"link:\"))\n        reverseDir = false;\n    else if (actionId.startsWith(\"link_to:\"))\n        reverseDir = true;\n    else\n        reverseDir = false;\n\n    var grResource = new GlideRecord(INCIDENT_TABLE);\n    if (!grResource.isValid() || !grResource.get(resourceId))\n        return response.setBody({\n            succeed: false,\n            message: gs.getMessage(\"Invalid resource record\")\n        });\n\n    // if the request is from Agent Assist, we only need to return info of the resource record\n    if (isAgentAssist) {\n        body.succeed = true;\n        body.actionId = request.body.data.actionId;\n        body.resourceRecord = {};\n        body.resourceRecord.sys_id = resourceId;\n        body.resourceRecord.number = grResource.number;\n        body.linkField = LINK_FIELD;\n        body.modalTitle = actionId === 'link_to:link_to_major_incident' ? gs.getMessage('Link to Major Incident') : gs.getMessage('Link to incident');\n        body.confirmationMessage = gs.getMessage('You are linking the current {0} as a Parent to {1}');\n        body.successMessage = gs.getMessage('{0} has been linked as a Parent to {1}.');\n        response.setBody(body);\n        return;\n    }\n\n    var grCurrent = new GlideRecord(INCIDENT_TABLE);\n    if (!grCurrent.isValid() || !grCurrent.get(currentId))\n        return response.setBody({\n            succeed: false,\n            message: gs.getMessage(\"Invalid current record\")\n        });\n\n    var parentRecord;\n    var childRecord;\n\n    if (!reverseDir) {\n        parentRecord = grCurrent;\n        childRecord = grResource;\n    } else {\n        parentRecord = grResource;\n        childRecord = grCurrent;\n    }\n\n    // link two records\n    childRecord.setValue(LINK_FIELD, parentRecord.getUniqueValue());\n    var result = childRecord.update();\n\n    /**\n     * action_id (mandatory): search UI Action's unique ID, AS/AI will use it to determine how to handle result\n     * item_id (optional): \"table_name:record_id\", having this tells AS/AI to refresh child record's UI Action list due to link action's change on child record\n     * succeed (mandatory): indicates link action is successfully done or not\n     * message (optional): shows on top of the form after action is performed\n     */\n    body.action_id = actionId;\n    body.item_id = INCIDENT_TABLE + \":\" + childRecord.getUniqueValue();\n    if (!result) {\n        body.succeed = false;\n        body.message = gs.getMessage('Updating \"Parent incident\" field on {0} has failed', [childRecord.getDisplayValue()]);\n    } else {\n        body.succeed = true;\n        body.message = gs.getMessage('{0} has been linked as a Parent to {1}.', [parentRecord.getDisplayValue(), childRecord.getDisplayValue()]);\n    }\n    response.setBody(body);\n})(request, response);","sys_updated_on":"2024-01-02 14:19:34","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"51a836e0b32023002bf182c136a8dc60","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/cxs_actions/link_incident","sys_created_on":"2018-09-11 17:51:45","sys_name":"link_incident","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5f387aa0b32023002bf182c136a8dc1c","value":"5f387aa0b32023002bf182c136a8dc1c"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"24","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5209e3b704f12210559073c06a02f734","value":"5209e3b704f12210559073c06a02f734"},"sys_update_name":"sys_ws_operation_51a836e0b32023002bf182c136a8dc60","consumes_customized":"false","name":"link_incident","produces":"application/json,application/xml,text/xml","relative_path":"/link_incident","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var restHandler, result, interactionId;\n\ttry {\n\t\trestHandler = new sn_ads_setup.SNHelpSetupRestHandler();\n\t\t\n\t\t// Query Params could be array\n\t\tif(Array.isArray(request.queryParams.interaction_id)) \n\t\t\tinteractionId = request.queryParams.interaction_id[0];\n\t\telse\n\t\t\tinteractionId = request.queryParams.interaction_id;\n\t\t\n\t\tresult = restHandler.getStepTaskDetails(request.pathParams.task_id, interactionId);\n\t\t\n\t\tresponse.setStatus(result.status);\n\n\t\tif (result.error) {\n\t\t\tresponse.setBody({error: result.error});\n\t\t} else {\n\t\t\tresponse.setBody(result.data);\n\t\t}\n\n\t} catch (e) {\n\t\tresponse.setStatus(500);\n\t\tgs.error(\"SNHelpSetupRestHandler: \" + e.message);\n\t\tresponse.setBody({error: \"Internal server error\"});\n\t}\n\n})(request, response);","sys_updated_on":"2022-09-21 07:30:02","enforce_acl":"d684e2aa530e0110f54fddeeff7b1237","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"51cd3060773230106ee492b01e5a9916","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_ads_setup/play/task/{task_id}","sys_created_on":"2021-09-21 10:12:04","sys_name":"Get Setup Step Task Details","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/9fb44064773230106ee492b01e5a9991","value":"9fb44064773230106ee492b01e5a9991"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_update_name":"sys_ws_operation_51cd3060773230106ee492b01e5a9916","consumes_customized":"false","name":"Get Setup Step Task Details","produces":"application/json,application/xml,text/xml","relative_path":"/task/{task_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar groupId = request.queryParams.group_id;\n\tvar startDateTime = request.queryParams.start_date_time;\n\tvar endDateTime = request.queryParams.end_date_time;\n\tvar rotaId = request.queryParams.rota_id;\n\tvar rosterId = request.queryParams.roster_id;\n\tvar isOnCall = !JSUtil.nil(request.queryParams.is_on_call) ? request.queryParams.is_on_call : false;\n\t\n\tif (request.queryParams.start_date_time == \"\") {\n\t\tstartDateTime = new GlideDateTime();\n\t\tstartDateTime = startDateTime.getDisplayValue();\n\t}\n\t\t\n\tif (request.queryParams.end_date_time == \"\") {\n\t\tendDateTime = new GlideDateTime(startDateTime);\n\t\tendDateTime.add(1000);\n\t\tendDateTime = endDateTime.getValue();\n\t}\n\t\n\tvar ocGroup = new OCGroup()\n\t\t.setCheckAccess(true)\n\t\t.setGroupId(groupId)\n\t\t.setStartDateTime(startDateTime)\n\t\t.setEndDateTime(endDateTime)\n\t\t.setRotaIds(rotaId)\n\t\t.setRosterIds(rosterId);\n\tif (isOnCall)\n\t\treturn ocGroup.getOnCallMembers();\n\treturn ocGroup.getAvailableMembers();\n})(request, response);","sys_updated_on":"2022-04-19 05:42:11","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"520c7a28d7321200fca223c7ce610332","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/group/on_call/members","sys_created_on":"2016-04-12 09:32:08","sys_name":"oncall/members","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"33","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_520c7a28d7321200fca223c7ce610332","consumes_customized":"false","name":"oncall/members","produces":"application/json,application/xml,text/xml","relative_path":"/group/on_call/members","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar json = {};\n\tvar msg = \"\";\n\t\n\ttry {\n\t\tvar body = GlideStringUtil.getStringFromStream(request.body.dataStream);\n\t\t\n\t\tif (GlideStringUtil.nil(body)) {\n\t\t\tmsg = gs.getMessage(\"Wrong input for remove manual EP, input must not be empty\");\n\t\t} else {\n\t\t\t\n\t\t\ttry {\n\t\t\t\tjson = JSON.parse(body);\n\t\t\t}\n\t\t\tcatch (eJson) {\n\t\t\t\tmsg = gs.getMessage(\"Wrong input for remove manual EP, input must be JSON. {0}\", [eJson]);\n\t\t\t}\n\t\t\t\n\t\t\tif(msg ===\"\"){\n\t\t\t\tvar bsid = json.bsid;\n\t\t\t\tvar targetSysId = json.targetSysId;\n\t\t\t\tvar endpointSysIds = json.endpointSysIds;\n\t\t\t\t\n\t\t\t\tvar bsManager = new SNC.BusinessServiceManager();\n\t\t\t\tvar endpointSysIdsStr=\"\";\n\t\t\t\tfor(var i=0;i<endpointSysIds.length; i++){\n\t\t\t\t\tendpointSysIdsStr=endpointSysIdsStr + endpointSysIds[i]+ \",\";\n\t\t\t\t}\n\t\t\t\tmsg=bsManager.removeManualEPs(targetSysId,bsid,endpointSysIdsStr);\n\t\t\t}\n\t\t}\n\t}\n\tcatch(e){\n\t\tmsg = gs.getMessage(\"An error occurred on remove manual EP. {0}\", [e]);\n\t}\n\tvar exception;\n\tif(msg!==\"\"){\n\t\texception=new sn_ws_err.ServiceError().setStatus(400);\n\t\texception.setMessage(msg);\n\t\tthrow exception;\n\t}\n\t\n\treturn \"\";\n\t\n\t\n})(request, response);","sys_updated_on":"2018-01-01 11:24:33","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"52115299670f3200e828c44d2685efea","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/manual_ci/removeManualEP","sys_created_on":"2017-05-29 16:57:24","sys_name":"removeManualEPs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/be2cb28393a23200443674aff67ffba6","value":"be2cb28393a23200443674aff67ffba6"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"16","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_52115299670f3200e828c44d2685efea","consumes_customized":"false","name":"removeManualEPs","produces":"application/json,application/xml,text/xml","relative_path":"/removeManualEP","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Returns if current user is subscribed to the object","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar sub_obj_id = request.pathParams.sub_obj_id;\t\n\t\n\tvar actSubCtx = ActivitySubscriptionContext.getContext();\n\tif(!actSubCtx.isPluginEnabled()){\n\t\tresponse.setStatus(400);\n\t\treturn {\"status\":400,\n\t\t\t\t\"message\":\"Plugin is disabled please contact system administrator\"};\n\t}\n\t\n\tvar subscriptionService = actSubCtx.getSubscriptionService();\n\n\tvar result = subscriptionService.isSubscribed(sub_obj_id);\n\t\n\tresponse.setContentType('application/json');\n\tresponse.setBody(result);\n\n})(request, response);","sys_updated_on":"2018-01-31 18:04:10","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/882dfe6853003200fa9bd7b08cc587d5","value":"882dfe6853003200fa9bd7b08cc587d5"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"521f7ea853003200fa9bd7b08cc5870a","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/actsub/subscriptions/{sub_obj_id}/isSubscribed","sys_created_on":"2016-12-29 09:15:19","sys_name":"Subscriptions","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/aabc7e6853003200fa9bd7b08cc5870f","value":"aabc7e6853003200fa9bd7b08cc5870f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"13","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/27dc6bfb04352210559073c06a02f739","value":"27dc6bfb04352210559073c06a02f739"},"sys_update_name":"sys_ws_operation_521f7ea853003200fa9bd7b08cc5870a","consumes_customized":"false","name":"Subscriptions","produces":"application/json,application/xml,text/xml","relative_path":"/subscriptions/{sub_obj_id}/isSubscribed","produces_customized":"false","default_operation_uri":"/api/now/actsub/subscriptions/{sub_obj_id}/isSubscribed","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n    var repos,  \n\t\tlinkedApps = {},\n\t\tallCustomApps = [],\n\t\tallInstalledStoreApps = [];\n\n\tif (typeof sn_vcs !== 'undefined' &&\n\t\ttypeof sn_vcs.AppSourceControl !== 'undefined') {\n\n\t\trepos = sn_vcs.AppSourceControl.getRepositories();\n\n\t\twhile (repos.next()) {\n\t\t\tlinkedApps[repos.getSysAppSysId()] = {\n\t\t\t\tappId: repos.getSysAppSysId(),\n\t\t\t\trepoId: repos.getSysId(),\n\t\t\t\turl: repos.getRepositoryURL(),\n\t\t\t\tcurrentBranch: repos.getCurrentBranch(),\n\t\t\t\tsha: repos.getCurrentCommit(),\n\t\t\t\tshortDescription: repos.getShortDescription(),\n\t\t\t\thasLocalChanges: repos.hasOutgoingChanges(),\n\t\t\t\thasRemoteChanges: repos.hasIncomingChanges()\n\t\t\t};\n\t\t}\n\t}\n\n\tallCustomApps = _.map(getCustomApps(), function(app) {\n\t\treturn _.extend(app, {vcs: linkedApps[app.sysId] || {}});\n\t});\n\n\tallInstalledStoreApps = _.map(getInstalledStoreApps(), function(app) {\n\t\treturn _.extend(app, {vcs: linkedApps[app.sysId] || {}});\n\t});\n\n\tvar allApps = allCustomApps.concat(allInstalledStoreApps);\n\n\tresponse.setStatus(200);\n\tresponse.setContentType('application/json');\n\tresponse.setBody({\n\t\tcount: allApps.length,\n\t\tapps: allApps,\n\t});\n\n\tfunction getCustomApps() {\n\t\tvar gr = new GlideRecord('sys_app'),\n\t\t\tapps = [];\n\n\t\tgr.orderByDesc('sys_created_on');\n\t\tgr.query();\n\n\t\twhile (gr.next()) {\n\t\t\tif (gr.canRead())\n\t\t\t\tapps.push(getAppDetails(gr));\n\t\t}\n\n\t\treturn apps;\n\t}\n\n\tfunction getInstalledStoreApps() {\n\t\tvar appCustEnabled = sn_app_customization.AppCustomizationAPI.isAppCustomizationFeatureEnabled(),\n\t\tstoreAppGR = new GlideRecord('sys_store_app'),\n\t\tapps = [];\n\n        storeAppGR.addQuery('active', true);\n\n    \tif (appCustEnabled)\n            storeAppGR.addQuery('private', false).addOrCondition('private', '');\n\n        storeAppGR.orderByDesc('sys_created_on');\n        storeAppGR.query();\n\n        while(storeAppGR.next()) {\n        \tvar appDetails = null;\n\n        \tif (storeAppGR.canRead()) {\n        \t\tif (appCustEnabled) {\n        \t\t\tappDetails = getAppDetailsWithAppCustFeatureEnabled(storeAppGR);\n        \t\t} else {\n        \t\t\tappDetails = getAppDetailsForAppCustFeatureDisabled(storeAppGR);\n        \t\t}\n        \t}\n\n        \tif (appDetails != null)\n                apps.push(appDetails);\n        }\n\n\t\treturn apps;\n\t}\n\n\tfunction hasCustomization(appSysId) {\n      if (hasInstalledAppCustomizations(appSysId))\n          return true;\n\n      if (sn_app_customization.AppCustomizationAPI.hasAppCustomizationFiles(appSysId))\n          return true;\n\n      return false;\n\t}\n\n\tfunction hasInstalledAppCustomizations(appSysId) {\n\t\tvar appCustomizationGr = new GlideRecord(\"sys_app_customization\");\n\t\tappCustomizationGr.addQuery(\"vendor_app\", appSysId);\n\t\tappCustomizationGr.addQuery(\"version\", \"!=\", \"none\");\n\t\tappCustomizationGr.query();\n\t\treturn appCustomizationGr.hasNext();\n\t}\n\n\t//When app customization feature is enabled,\n\t//store apps are displayed if they are app customization capable and have a customization\n\t//When apps installed from plugins are not app customization capable,\n\t//they are dispayed when can_edit_in_studio = true\n\tfunction getAppDetailsWithAppCustFeatureEnabled(storeAppGR) {\n\t\tvar appSysId = storeAppGR.getValue('sys_id');\n\n\t\tif(sn_app_customization.AppCustomizationAPI.isAppCustomizationCapableById(appSysId)) {\n\t\t    if (hasCustomization(appSysId))\n\t\t        return getAppDetails(storeAppGR);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\t//When app customization feature is disabled,\n\t//the legacy behavior pre-Quebec is used,\n\t//any installed store app with can_edit_in_studio = true is displayed\n\tfunction getAppDetailsForAppCustFeatureDisabled(storeAppGR) {\n        if(storeAppGR.isValidField('can_edit_in_studio')) {\n            if(storeAppGR.getValue('can_edit_in_studio') == 1)\n                return getAppDetails(storeAppGR);\n        }\n\n\t\treturn null;\n\t}\n\n\tfunction getAppDetails(app) {\n\t\tvar logoid = new GlideRecord('sys_attachment'),\n\t\t\tdetails = {};\n\n\t\tlogoid.addQuery('table_sys_id', app.sys_id);\n\t\tlogoid.addQuery('file_name', 'logo');\n\t\tlogoid.query();\n\n\t\tif (logoid.next())\n\t\t\tdetails.logo = logoid.sys_id + \".iix\";\n\n\t\tdetails.sysId = app.getValue('sys_id');\n\t\tdetails.shortDescription = app.getValue('short_description') || '';\n \t\tdetails.keyFeatures = app.getValue('key_features') || '';\n \t\tdetails.releaseNotes = app.getValue('release_notes') || '';\n \t\tdetails.name = app.name.toString();\n \t\tdetails.vendor = app.getValue('vendor');\n \t\tdetails.vendorPrefix = app.getValue('vendor_prefix');\n \t\tdetails.link = app.getLink(true);\n \t\tdetails.scope = app.getValue('scope');\n \t\tdetails.active = !!app.getValue('active');\n\n\t\tvar installDate = null;\n\t\tif (app.isValidField('install_date') && !app.install_date.nil()) {\n\t\t\tinstallDate = new GlideDate();\n\t\t\tinstallDate.setValue(app.getValue('install_date'));\n\t\t} else if (app.isValidField('version') && !gs.nil(app.version)) {\n\t\t\tinstallDate = new GlideDate();\n\t\t\tinstallDate.setValue(app.getValue('sys_created_on'));\n\t\t}\n\n\t\tvar updateDate = '';\n\t\tdetails.recentUpdated = false;\n\n\t\tif (app.isValidField('update_date') && !app.update_date.nil()) {\n\t\t\tupdateDate = new GlideDate();\n\t\t\tupdateDate.setValue(app.getValue('update_date'));\n\t\t\tvar thirtyDaysAgo = new GlideDate();\n\t\t\tthirtyDaysAgo.setValue(gs.daysAgoStart(30));\n\t\t\tdetails.hasUpdated = updateDate.compareTo(installDate) > 0;\n\t\t\tdetails.recentUpdated = !!(details.hasUpdated && updateDate.compareTo(thirtyDaysAgo) >= 0);\n\t\t}\n\n\t\tdetails.installDate = gs.nil(installDate) ? '' : installDate.getDisplayValue();\n\t\tdetails.updateDate = gs.nil(updateDate) ? '' : updateDate.getDisplayValue();\n\n\t\tvar version;\n\t\tif (!gs.nil(app.version)) {\n\t\t\tversion = app.getValue('version');\n\t\t\tdetails.version = version === '1.0' ? '1.0.0' : version;\n\t\t\tdetails.versionDisplay = getMajorAndMinorDisplayVersion(details.version);\n\t\t} else\n\t\t\tdetails.version = '';\n\n\t\tif (app.isValidField('assigned_version') && !gs.nil(app.assigned_version))\n\t\t\tdetails.assignedVersion = app.getValue('assigned_version');\n\t\telse\n\t\t\tdetails.assignedVersion = details.version;\n\n\t\tif (app.isValidField('latest_version') && !gs.nil(app.latest_version)) {\n\t\t\tdetails.latestVersion = app.getValue('latest_version');\n\t\t\tdetails.latestVersionDisplay = getMajorAndMinorDisplayVersion(details.latestVersion);\n\n\t\t\tif (details.version !== details.latestVersion && details.versionDisplay === details.latestVersionDisplay)\n\t\t\t\t details.latestVersionDisplay = details.latestVersion;\n\t\t} else {\n\t\t\tdetails.latestVersion = details.version;\n\t\t\tdetails.latestVersionDisplay = details.versionDisplay;\n\t\t}\n\n\n\t\tdetails.sysUpdatedOn = app.getDisplayValue('sys_updated_on');\n\t\tdetails.sysCreatedOn = app.getDisplayValue('sys_created_on');\n\n\t\tvar createdOn = new GlideDate();\n\n\t\tcreatedOn.setValue(app.getValue('sys_created_on'));\n\t\tdetails.sysCreatedOnDisplay = createdOn.getDisplayValue();\n\n\t\tvar displayDate = new GlideDate();\n\t\tvar publishDate = app.isValidField('publish_date') && !app.publish_date.nil() ? app.getValue('publish_date') : app.getValue('sys_updated_on');\n\n\t\tdisplayDate.setValue(publishDate);\n\t\tdetails.displayDate = displayDate.getDisplayValue();\n\n\t\treturn details;\n\t}\n\n\tfunction getMajorAndMinorDisplayVersion(val) {\n\t\tvar ary = val.toString().split('.');\n\t\tif (ary.length <= 1)\n\t\t\treturn val;\n\n\t\tif (ary[ary.length - 1].length >= 12)\n\t\t\treturn val;\n\n\t\tif (ary.length >= 2 && ary[0] === 0 && ary[1] === 0)\n\t\t\treturn val;\n\n\t\treturn ary[0]+'.'+ary[1];\n\t}\n\n})(request, response);","sys_updated_on":"2020-12-16 19:29:06","enforce_acl":"d793e1261b7840107e2afc87cc4bcbc0","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"5261eef5771123005dbb4311a8106160","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/appsall","sys_created_on":"2018-10-22 20:09:13","sys_name":"List All Applications","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"52","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_5261eef5771123005dbb4311a8106160","consumes_customized":"false","name":"List All Applications","produces":"application/json,application/xml,text/xml","relative_path":"/appsall","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/appsall","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tgs.log('==== get CIs by type');\n\tvar result={};\n\tresult.result=[];\n\tvar domain = \"\";\n\n\tvar bsId = request.queryParams[\"bs_id\"][0];\t\n\tvar searchText = request.queryParams[\"text\"][0];\n\tvar type = request.queryParams[\"type\"][0];\n\tvar filterCIsStr  =request.queryParams[\"filter\"];\n\n\tvar limit = gs.getProperty(\"glide.ngbsm.search_ci_limit\");\n\tlimit=limit ? limit : 10;\n\n\tvar domainProvider = new CiDomainIdProvider();\n\tdomain = domainProvider.getDomainId(bsId);\n\n\tvar gr = new GlideRecord(type);\n\n\tvar filterCIsList = \"\";\n\tif (filterCIsStr && filterCIsStr.length > 0){\n\t\tfor (var i = 0; i < filterCIsStr.length; i++) {\n\t\t\tfilterCIsList += (filterCIsStr[i]) + \",\";\n\t\t}\n\t}\n\tfilterCIsList += bsId;\n\tgr.addQuery(\"sys_id\",\"NOT IN\", filterCIsList);\n\n\tvar dh = new SNC.DomainHelper();\n\tgs.log(\"Domain of business service is \" + domain);\n\tif (dh.isDomainPluginInstalled()) {\n\t\tgr.addQuery('sys_domain', domain);\n\t}\n\n\tgr.addQuery(\"name\" , \"CONTAINS\", searchText);\n\n\tvar bsManager = new SNC.BusinessServiceManager();\n\tvar blackListedDerivedClasses = bsManager.getBlacklistedDerivedClasses(type);\n\tif (blackListedDerivedClasses) {\n\t\tvar blackListedDerivedClassesArray =  blackListedDerivedClasses.split(',');\n\t\tgr.addQuery('sys_class_name', 'NOT IN', blackListedDerivedClassesArray);\n\t}\n\n\t// Bring only CI of the specific class\n\tgr.addQuery('sys_class_name', type);\n\n\tgr.setLimit(limit);\n\n\tgr.query();\n\twhile(gr.next()){\n\t\tvar obj={};\n\t\tobj.sys_id=gr.getValue(\"sys_id\");\n\t\tobj.name=gr.getDisplayValue();\n\n\t\tresult.result.push(obj);\n\t}\n\n\treturn result;\n})(request, response);\n","sys_updated_on":"2018-03-05 08:54:46","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"526fff6167f23200e828c44d2685ef6f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/manual_ci/getCIsByType","sys_created_on":"2017-05-18 09:22:10","sys_name":"getCIsByType","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/be2cb28393a23200443674aff67ffba6","value":"be2cb28393a23200443674aff67ffba6"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"57","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_526fff6167f23200e828c44d2685ef6f","consumes_customized":"false","name":"getCIsByType","produces":"application/json,application/xml,text/xml","relative_path":"/getCIsByType","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    try {\n        const hashId = request.queryParams[\"hashed_user_id\"][0];\n        const userGr = new GlideRecordSecure(UXAConstants.TABLE.USER);\n        userGr.addQuery('hashed_user_id', hashId);\n        userGr.query();\n        if (!userGr.next()) {\n            throw new Error('ACL_VIOLATION');\n        }\n\n        const userId = userGr.getValue('sys_id');\n\n        const gr = new GlideRecord(UXAConstants.TABLE.ANALYTICS_CUSTOM_USER_PROPERTIES);\n        gr.query();\n        const tableFieldsMap = [];\n        while (gr.next()) {\n            const tableName = gr.table_name.name.toString();\n            const fieldName = gr.field_name.element.toString();\n            tableFieldsMap.push({\n                table: tableName,\n                field: fieldName,\n                fieldDisplayValue: gr.getDisplayValue('field_name'),\n                query: tableName === 'sys_user' ? `sys_id=${userId}` : `user=${userId}`\n            });\n        }\n\n        const result = [];\n        tableFieldsMap.forEach(({\n            table,\n            field,\n            fieldDisplayValue,\n            query\n        }) => {\n            const tableGr = new GlideRecordSecure(table);\n            tableGr.addEncodedQuery(query);\n            tableGr.query();\n            const items = [];\n            while (tableGr.next()) {\n                items.push(tableGr.getDisplayValue(field));\n            }\n            result.push({\n                label: fieldDisplayValue,\n                value: items,\n            });\n        });\n\n        return result;\n    } catch (e) {\n        var error = new sn_ws_err.ServiceError();\n        if (e.message === 'ACL_VIOLATION') {\n            error.setStatus(403);\n            error.setMessage('No data found');\n            error.setDetail('No data found or user does not have access');\n        } else {\n            error.setMessage('Technical error');\n        }\n\n        return error;\n    }\n})(request, response);","sys_updated_on":"2024-11-29 10:40:51","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/d93d4288ffe7c21024f4ffffffffff52","value":"d93d4288ffe7c21024f4ffffffffff52"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"527c66247fb89210febd6e377d8665db","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uxa_req_manager/v1/uxa_data/getUserDetails","sys_created_on":"2024-09-19 09:30:48","sys_name":"Get User Details","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/e9f5c0d20b620210e8a937009777b2d7","value":"e9f5c0d20b620210e8a937009777b2d7"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"14","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_update_name":"sys_ws_operation_527c66247fb89210febd6e377d8665db","consumes_customized":"false","name":"Get User Details","produces":"application/json,application/xml,text/xml","relative_path":"/getUserDetails","produces_customized":"false","default_operation_uri":"/api/sn_uxa_req_manager/uxa_data/getUserDetails","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n\tvar appId = request.pathParams.appId;\n\tvar trackerId = request.pathParams.trackerId;\n\tvar str = request.body.dataString;\n\tsn_vcs.MIDTracker.updateMessage(trackerId, str);\n\n\tresponse.setContentType('application/json');\n\tresponse.setStatus(202);\n\n})(request, response);","sys_updated_on":"2019-05-16 19:09:16","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"52b87df3775533004d4eb5b268106193","http_method":"PUT","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/apps/{appId}/tracker/{trackerId}","sys_created_on":"2019-05-15 18:30:27","sys_name":"Update Tracker","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_52b87df3775533004d4eb5b268106193","consumes_customized":"false","name":"Update Tracker","produces":"application/json,application/xml,text/xml","relative_path":"/apps/{appId}/tracker/{trackerId}","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/apps/{appId}/tracker/{trackerId}","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n  var sysId = request.pathParams.sysId;\n  var cardChanges = request.body.data.viewConfig;\n\n  var templateRepo = new ViewConfigRepository();\n  templateRepo.update(sysId, cardChanges);\n\n  var formatName = \"viewConfigFormat\";\n  var formatList = new sn_mobile_card_bui.McbResultFormats();\n  var format = formatList.getFormat(formatName);\n\n  var util = new sn_mobile_card_bui.McbGlideRecordUtil(format);\n  var viewConfigHM = util.getCard(sysId);\n  var includeCardData = false;\n  var viewTemplateHM = util.getTemplate(\n    viewConfigHM[\"template\"],\n    includeCardData\n  );\n  var uIRuleHMs = util.getUiRules(sysId);\n\n  viewConfigHM[\"template\"] = viewTemplateHM;\n  viewConfigHM[\"mobileUiRules\"] = uIRuleHMs;\n\n  return viewConfigHM;\n})(request, response);","sys_updated_on":"2023-03-07 17:11:19","enforce_acl":"cf9d01d3e73003009d6247e603f6a990,d7088c08b751211095411226de11a9e9","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"52ecfa817705211095417f7c8c5a99a3","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/now/mcb/view_config/{sysId}","sys_created_on":"2023-02-14 21:28:02","sys_name":"View Config - Patch","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/63d8b7c573c51010a59b4c5353f6a737","value":"63d8b7c573c51010a59b4c5353f6a737"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_update_name":"sys_ws_operation_52ecfa817705211095417f7c8c5a99a3","consumes_customized":"false","name":"View Config - Patch","produces":"application/json,application/xml,text/xml","relative_path":"/view_config/{sysId}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var nameValuePairs = global.ChangeCommon.assign({}, request.queryParams);\n    var orderBy = '';\n    if (typeof nameValuePairs.orderBy !== 'undefined') {\n        orderBy = nameValuePairs.orderBy + '';\n        delete nameValuePairs.orderBy;\n    }\n    orderBy = orderBy || 'name';\n\n    var textSearch = '';\n    if (typeof nameValuePairs.textSearch !== 'undefined') {\n        textSearch = (nameValuePairs.textSearch + '').trim();\n        delete nameValuePairs.textSearch;\n    }\n\n    var sysparm_limit = null;\n    if (typeof nameValuePairs.sysparm_limit !== 'undefined') {\n        sysparm_limit = nameValuePairs.sysparm_limit + '';\n        delete nameValuePairs.sysparm_limit;\n    }\n\n    var sysparm_offset = null;\n    if (typeof nameValuePairs.sysparm_offset !== 'undefined') {\n        sysparm_offset = nameValuePairs.sysparm_offset + '';\n        delete nameValuePairs.sysparm_offset;\n    }\n\n    var encodedQueryObj = global.ChangeCommon.buildEncodedQuery(global.ChangeCommon.assign({}, nameValuePairs));\n    var result = global.ChangeCommon.getWindow(global.ChangeProcess.findAll(orderBy, textSearch, encodedQueryObj.encodedQuery), sysparm_limit || null, sysparm_offset || null);\n    result.push({\n        __meta: encodedQueryObj\n    });\n    return result;\n})(request, response);","sys_updated_on":"2020-09-28 10:49:16","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"533d1d9553231010930cddeeff7b12df","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change","sys_created_on":"2020-09-28 10:49:08","sys_name":"Change - search","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_533d1d9553231010930cddeeff7b12df","consumes_customized":"false","name":"Change - search","produces":"application/json,application/xml,text/xml","relative_path":"/","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var data = request.body.data;\n\tvar scopeId = data.scopeId;\n\tvar positionData = data.positionData;\n    var result = {\n        error: false,\n        message: ''\n    };\n    var updatedSysId;\n\n\tvar gr = new GlideRecordSecure(\"sn_table_builder_positioning_table\");\n\tvar recordExists = gr.get(\"scope_id\", scopeId);\n\tif (!recordExists) {\n\t\tgr.initialize();\n\t\tgr.setValue(\"scope_id\", scopeId);\n\t}\n\n\tgr.setValue(\"node_positions\", JSON.stringify(positionData));\n\n\tupdatedSysId = (recordExists ? gr.update() : gr.insert());\n\tresult.error = (updatedSysId ? false : true);\n\tresult.message = (result.error ? gs.getMessage(\"Failed to update record\") : 'Success');\n\n    response.setBody(result);\n\n})(request, response);","sys_updated_on":"2023-01-09 22:52:45","enforce_acl":"cf9d01d3e73003009d6247e603f6a990,f70e338e73f110107419c907fbf6a733","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"53a8697843d35110261cd32acab8f243","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_table_builder/app/updateSchemaPositions","sys_created_on":"2022-11-18 20:51:31","sys_name":"Update Schema Positions","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f53f19bac362fa22ca2e93692d32f18f","value":"f53f19bac362fa22ca2e93692d32f18f"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/72cd338e73f110107419c907fbf6a730","value":"72cd338e73f110107419c907fbf6a730"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"51","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f53f19bac362fa22ca2e93692d32f18f","value":"f53f19bac362fa22ca2e93692d32f18f"},"sys_update_name":"sys_ws_operation_53a8697843d35110261cd32acab8f243","consumes_customized":"false","name":"Update Schema Positions","produces":"application/json,application/xml,text/xml","relative_path":"/updateSchemaPositions","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\r\n    var scenario = request.queryParams.scenario || \"default\";\r\n\tvar body = (requestBody && requestBody.scenario) ? requestBody.scenario : \"default\";\r\n\tgs.info(\"Scenario param: \" + scenario);\r\n    var result;\r\n\r\n    if (scenario.includes(\"default\")) {\r\n\t\tresponse.setStatus(201);\r\n        result = {\r\n            status: \"ok\",\r\n\t\t\tsc: scenario,\r\n\t\t\tb: body,\r\n            message: \"This is a success response\"\r\n        };\r\n    } else if (scenario.includes(\"nothing\")) {\r\n        response.setStatus(204);\r\n        result = {\r\n            status: \"nothing\",\r\n\t\t\tsc: scenario,\r\n\t\t\tb: body,\r\n            message: \"This is a response\"\r\n        };\r\n    } else if (scenario.includes(\"error\")) {\r\n        response.setStatus(400);\r\n        result = {\r\n            status: \"error\",\r\n\t\t\tsc: scenario,\r\n\t\t\tb: body,\r\n            message: \"This is an error response\"\r\n        };\r\n    } else if (scenario.includes(\"teapot\")) {\r\n        response.setStatus(418);\r\n        result = {\r\n            status: \"error\",\r\n\t\t\tsc: scenario,\r\n\t\t\tb: body,\r\n            message: \"This is an error response\"\r\n        };\r\n    } else {\r\n\t\tresponse.setStatus(500);\r\n        result = {\r\n            status: \"internal server error\",\r\n\t\t\tsc: scenario,\r\n\t\t\tb: body,\r\n            message: \"Unknown scenario\"\r\n        };\r\n    }\r\n\r\n    response.setBody(result);\r\n})(request, response);\r\n","sys_updated_on":"2025-07-14 11:59:24","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"53f6bda8c3fee610ed4bd50d0501314b","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/1702979/my_function/fun_run_post","sys_created_on":"2025-07-14 11:40:07","sys_name":"fun_run","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b746ad24c3bee610ed4bd50d0501316d","value":"b746ad24c3bee610ed4bd50d0501316d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/global","value":"global"},"sys_update_name":"sys_ws_operation_53f6bda8c3fee610ed4bd50d0501314b","consumes_customized":"false","name":"fun_run","produces":"application/json,application/xml,text/xml","relative_path":"/fun_run_post","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar data = {};\n\tvar limit;\n\tif (!request.queryParams.hasOwnProperty('userId'))\n        return new sn_ws_err.BadRequestError('Missing user id');\n\t\n\tif (!request.queryParams.hasOwnProperty('source'))\n        return new sn_ws_err.BadRequestError('Missing nlq source');\n\n\tif (request.queryParams.hasOwnProperty('limit'))\n\t\tlimit = request.queryParams['limit'];\n\t\n\tif (!limit || isNaN(limit)) {\n\t\tlimit = 5;\n\t}\n\t\n\tvar nlqQueryLogRecordGR = new GlideRecord('nlq_query_log');\n\tnlqQueryLogRecordGR.addQuery('user', request.queryParams['userId']);\n\tnlqQueryLogRecordGR.addQuery('source', request.queryParams['source']);\n\tnlqQueryLogRecordGR.addQuery('successful', true);\n\tnlqQueryLogRecordGR.orderByDesc('sys_created_on');\n\tnlqQueryLogRecordGR.query();\n\t\n\twhile (nlqQueryLogRecordGR.next() && Object.keys(data).length < limit) {\n\t\tvar utterance = nlqQueryLogRecordGR.getValue('utterance');\n\t\tif (!data[utterance] || data[utterance].length == 0) {\n\t\t\tvar utteranceHasValidTables = true;\n\t\t\t// comma separated list of tables used in the utterance\n\t\t\tvar tablesRaw = nlqQueryLogRecordGR.getValue('multi_table');\n\t\t\tvar tablesArr = tablesRaw ? tablesRaw.split(',') : [];\n\t\t\tvar tablesAndLabelArr = [];\n\n\t\t\ttablesArr.forEach(function(table) {\n\t\t\t\tvar gr = new GlideRecord(table + '');\n\t\t\t\tvar label = gr.getClassDisplayValue();\n\t\t\t\t// ensure the label is contained in the utterance.\n\t\t\t\tif (utterance.toLowerCase().indexOf(label.toLowerCase()) > -1) {\n\t\t\t\t\ttablesAndLabelArr.push({\n\t\t\t\t\t\ttable: table,\n\t\t\t\t\t\tlabel: label,\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t// the table might be a synonym so check those\n\t\t\t\t\tvar grSynonyms = new GlideRecord('nlq_synonym');\n\t\t\t\t\tgrSynonyms.addEncodedQuery('elementISEMPTY^table=' + table); // table synonyms have an empty element (column name) record\n\t\t\t\t\tgrSynonyms.query();\n\t\t\t\t\tif (grSynonyms.next()) {\n\t\t\t\t\t\tvar synonyms = grSynonyms.getValue('synonyms') ? grSynonyms.getValue('synonyms') : '';\n\t\t\t\t\t\tvar synonymsArr = synonyms.split(',');\n\t\t\t\t\t\tvar matchedPhrase = '';\n\t\t\t\t\t\tsynonymsArr.forEach(function(synonym) {\n\t\t\t\t\t\t\t// find the synonym in the utterance\n\t\t\t\t\t\t\tif (utterance.toLowerCase().indexOf(synonym.toLowerCase()) > -1) {\n\t\t\t\t\t\t\t\tmatchedPhrase = synonym.length > matchedPhrase.length ? synonym : matchedPhrase;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\t// if matched phrase is still falsy then the link does not have valid tables\n\t\t\t\t\t\tif (!matchedPhrase) {\n\t\t\t\t\t\t\tutteranceHasValidTables = false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttablesAndLabelArr.push({\n\t\t\t\t\t\t\t\ttable: table,\n\t\t\t\t\t\t\t\tlabel: matchedPhrase,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// there was no synonym record\n\t\t\t\t\t\tutteranceHasValidTables = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tdata[utterance] = utteranceHasValidTables ? tablesAndLabelArr : [];\n\t\t}\n\t}\n\tresponse.setBody(data);\n\tresponse.setStatus(200);\n\n})(request, response);","sys_updated_on":"2022-04-12 23:28:31","enforce_acl":"39a22ab60735011017b703767cd30036,a3036eb60735011017b703767cd300b7","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"548b1f040765011017b703767cd300a1","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_cmdb_ws/cmdb_workspace_api_scoped/nlq_query_log","sys_created_on":"2022-02-04 01:24:59","sys_name":"Get NLQ Query Log","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3ff417b78f3f2010960c53ac37bdeefb","value":"3ff417b78f3f2010960c53ac37bdeefb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"25","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_update_name":"sys_ws_operation_548b1f040765011017b703767cd300a1","consumes_customized":"false","name":"Get NLQ Query Log","produces":"application/json,application/xml,text/xml","relative_path":"/nlq_query_log","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar payload = request.body.data, snhelpUtil;\n\tvar interactionController = new SNHelpGuidanceInteractionController();\n\ttry {\n\t\tsnhelpUtil = new SNHelpUtil();\n\t\tif(!snhelpUtil.isSnHelpEnabled())\n\t\t\treturn snhelpUtil.snHelpDisabledError(response);\n\n\t\tvar res = interactionController.update(request.pathParams.id, payload);\n\n\t\tresponse.setStatus(res.status);\n\n\t\tif(res.error)\n\t\t\tresponse.setBody({error: res.error});\n\t\telse\n\t\t\tresponse.setBody(res.data);\n\n\t} catch(e) {\n\t\tresponse.setStatus(500);\n\t\tgs.error(\"SNHelpService: (Save Interaction) - \" + e.message);\n\t\tresponse.setBody({msg: \"internal server error\"});\n\t}\n\n})(request, response);","sys_updated_on":"2020-08-28 10:13:24","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"549661595300501065f2ddeeff7b120b","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/help/interactions/{id}","sys_created_on":"2020-04-07 11:51:15","sys_name":"Save Interaction ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/bd93a9195300501065f2ddeeff7b1297","value":"bd93a9195300501065f2ddeeff7b1297"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/562ba37304352210559073c06a02f751","value":"562ba37304352210559073c06a02f751"},"sys_update_name":"sys_ws_operation_549661595300501065f2ddeeff7b120b","consumes_customized":"false","name":"Save Interaction ","produces":"application/json,application/xml,text/xml","relative_path":"/interactions/{id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\ttry {\n\t\treturn !!new global.CIUtils().canShowRefreshServicesUIAction(request.pathParams.table || '');\n\t} catch(err) {\n\t\treturn false;\n\t}\n})(request, response);","sys_updated_on":"2021-11-23 13:28:20","enforce_acl":"f5416e6c53000110532cddeeff7b1283","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"54ed766353733010532cddeeff7b126d","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sow_itsm_common/task/{table}/show_refresh_impacted_services","sys_created_on":"2021-11-19 20:16:26","sys_name":"Show Refresh Impacted Services","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/0eef12637311301045216238edf6a75e","value":"0eef12637311301045216238edf6a75e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/e5187e2f53333010532cddeeff7b1283","value":"e5187e2f53333010532cddeeff7b1283"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"13","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0eef12637311301045216238edf6a75e","value":"0eef12637311301045216238edf6a75e"},"sys_update_name":"sys_ws_operation_54ed766353733010532cddeeff7b126d","consumes_customized":"false","name":"Show Refresh Impacted Services","produces":"application/json,application/xml,text/xml","relative_path":"/{table}/show_refresh_impacted_services","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n  var user = gs.getUser();\n  var userName = user.getName();\n  var userId = user.getID();\n  var userRoles = user.getUserRoles();\n  var isAdmin = user.hasRole('admin');\n  var isMaint = user.hasRole('maint');\n  var delegatedScopes = ['global'];\n\n  var session = gs.getSession();\n  var timeZone = session.getTimeZoneName();\n\n  userRoles.forEach(function(roleName) {\n    var grr = new GlideRecord('sys_user_role');\n    grr.get('name', roleName);\n    var roleSysId = grr.getUniqueValue();\n\n    var gr = new GlideRecord('sys_scope_permission_set_role_assignment');\n    gr.addQuery('role', roleSysId);\n    gr.query();\n    while (gr.next()) {\n      var scope = gr.getValue('scope');\n      if (delegatedScopes.indexOf(scope)==-1) delegatedScopes.push(scope);\n    }\n  });\n\n  return {\n    userId: userId,\n    userName: userName,\n    isAdmin: isAdmin,\n    isMaint: isMaint,\n    delegatedScopes: delegatedScopes,\n    timeZone: timeZone,\n  };\n})(request, response);","sys_updated_on":"2023-03-07 17:07:51","enforce_acl":"cf9d01d3e73003009d6247e603f6a990,d7088c08b751211095411226de11a9e9","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"54f8bfc573c51010a59b4c5353f6a711","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/mcb/user","sys_created_on":"2020-05-26 20:54:41","sys_name":"User - Get","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/63d8b7c573c51010a59b4c5353f6a737","value":"63d8b7c573c51010a59b4c5353f6a737"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"16","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_update_name":"sys_ws_operation_54f8bfc573c51010a59b4c5353f6a711","consumes_customized":"false","name":"User - Get","produces":"application/json,application/xml,text/xml","relative_path":"/user","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    let result = getDefaultPref();\n    response.setContentType('application/json');\n    response.setStatus(200);\n    response.setBody(result);\n\n    function getDefaultPref() {\n        const prefName = 'configuration_hub.default_console.pinned_tables';\n        const userPrefGr = new GlideRecord('sys_user_preference');\n        userPrefGr.addNullQuery('user');\n        userPrefGr.addQuery('system', true);\n        userPrefGr.query();\n        if (!userPrefGr.get('name', prefName)) {\n            gs.warn('[CONFIGURATION_HUB] could not find the default pinned tables user preference');\n            return null;\n        } else\n            return {\n                [prefName]: userPrefGr.value\n            };\n    }\n\n})(request, response);","sys_updated_on":"2023-06-26 22:22:01","enforce_acl":"e02bf2a34fa3611038e26c01b1ce0b1f","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"54fd52515391211010baddeeff7b122f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_config_hub/configuration_hub_api/default-pinned","sys_created_on":"2023-02-28 00:17:24","sys_name":"Get Default Pinned Tables","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/2028fe718b11c8f32122c6da3b496a83","value":"2028fe718b11c8f32122c6da3b496a83"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/d68a7cb5eb9221109cfedf3c03522847","value":"d68a7cb5eb9221109cfedf3c03522847"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2028fe718b11c8f32122c6da3b496a83","value":"2028fe718b11c8f32122c6da3b496a83"},"sys_update_name":"sys_ws_operation_54fd52515391211010baddeeff7b122f","consumes_customized":"false","name":"Get Default Pinned Tables","produces":"application/json,application/xml,text/xml","relative_path":"/default-pinned","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\r\n    var scenario = request.queryParams.scenario || \"default\";\r\n\tvar body = (requestBody && requestBody.scenario) ? requestBody.scenario : \"default\";\r\n\tgs.info(\"Scenario param: \" + scenario);\r\n    var result;\r\n\r\n    if (scenario.includes(\"default\")) {\r\n\t\tresponse.setStatus(200);\r\n        result = {\r\n            status: \"ok\",\r\n\t\t\tsc: scenario,\r\n\t\t\tb: body,\r\n            message: \"This is a success response\"\r\n        };\r\n    } else if (scenario.includes(\"okay\")) {\r\n        response.setStatus(201);\r\n        result = {\r\n            status: \"okay\",\r\n\t\t\tsc: scenario,\r\n\t\t\tb: body,\r\n            message: \"This is a response\"\r\n        };\r\n    } else if (scenario.includes(\"nothing\")) {\r\n        response.setStatus(204);\r\n        result = {\r\n            status: \"nothing\",\r\n\t\t\tsc: scenario,\r\n\t\t\tb: body,\r\n            message: \"This is a response\"\r\n        };\r\n    } else if (scenario.includes(\"error\")) {\r\n        response.setStatus(400);\r\n        result = {\r\n            status: \"error\",\r\n\t\t\tsc: scenario,\r\n\t\t\tb: body,\r\n            message: \"This is an error response\"\r\n        };\r\n    } else if (scenario.includes(\"teapot\")) {\r\n        response.setStatus(418);\r\n        result = {\r\n            status: \"error\",\r\n\t\t\tsc: scenario,\r\n\t\t\tb: body,\r\n            message: \"This is an error response\"\r\n        };\r\n    } else {\r\n\t\tresponse.setStatus(500);\r\n        result = {\r\n            status: \"internal server error\",\r\n\t\t\tsc: scenario,\r\n\t\t\tb: body,\r\n            message: \"Unknown scenario\"\r\n        };\r\n    }\r\n\r\n    response.setBody(result);\r\n})(request, response);\r\n","sys_updated_on":"2025-07-14 12:01:01","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"5519bda8c3fee610ed4bd50d050131a7","http_method":"PUT","sys_updated_by":"admin","operation_uri":"/api/1702979/my_function/fun_run_put","sys_created_on":"2025-07-14 11:48:59","sys_name":"Run fun","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b746ad24c3bee610ed4bd50d0501316d","value":"b746ad24c3bee610ed4bd50d0501316d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/global","value":"global"},"sys_update_name":"sys_ws_operation_5519bda8c3fee610ed4bd50d050131a7","consumes_customized":"false","name":"Run fun","produces":"application/json,application/xml,text/xml","relative_path":"/fun_run_put","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    const params = UDCUtil.assign({},\n        request.pathParams,\n        UDCUtil.normalizeQueryParams(request.queryParams)\n    );\n\n    const {\n        collectionItemSysId\n    } = params;\n    const LOG = new Logger(`DELETE:/v1/collection/collection_item/${collectionItemSysId}`);\n\n    try {\n        CollectionItem.deleteCollectionItem(collectionItemSysId);\n\n        return {\n            status: 'success'\n        };\n    } catch (error) {\n        LOG.error(`Failed to delete collection item: ${error.toString()}`);\n        return response.setError(new sn_ws_err.BadRequestError(error.toString()));\n    }\n})(request, response);","sys_updated_on":"2024-04-05 06:56:10","enforce_acl":"4464a7a0a392311018d4189b66fcdac7","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/867b5921f391021000baad941484cace","value":"867b5921f391021000baad941484cace"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"553e109ef351021000baad941484cabc","http_method":"DELETE","sys_updated_by":"admin","operation_uri":"/api/sn_udc/v1/collection/collection_item/{collectionItemSysId}","sys_created_on":"2024-04-03 10:49:03","sys_name":"Delete Collection Item","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5e4b9521f391021000baad941484caf7","value":"5e4b9521f391021000baad941484caf7"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_update_name":"sys_ws_operation_553e109ef351021000baad941484cabc","consumes_customized":"false","name":"Delete Collection Item","produces":"application/json,application/xml,text/xml","relative_path":"/collection_item/{collectionItemSysId}","produces_customized":"false","default_operation_uri":"/api/sn_udc/collection/collection_item/{collectionItemSysId}","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar TABLES = {\n        PROBLEM: \"problem\",\n        INCIDENT: \"incident\",\n    };\n\tvar LINK_FIELD = \"problem_id\";\n\n    /**\n     * actionId: search UI Action's unique ID\n     * problemId: sys_id of Problem record which has search term\n     * incidentId: sys_id of Incident record which is the search result\n     * actionStage: to indicate whether this request is sent before or after modal\n     */\n\n    var actionId = request.body.data.actionId;\n    var problemId = request.body.data.currentId;\n    var incidentId = request.body.data.resourceId;\n    var actionStage = request.body.data.actionStage;\n    var body = {};\n\n    /**\n     * action_id (mandatory): search UI Action's unique ID, AS/AI will use it to determine how to handle result\n     * item_id (optional): \"table_name:record_id\", having this tells AS/AI to refresh child record's UI Action list due to link action's change on child record\n     * succeed (mandatory): indicates link action is successfully done or not for non-rest call's\n     * successful (mandatory): indicates link action is successfully done or not for rest call's\n     * message (optional): shows on top of the form after action is performed\n     */\n\t\n\tvar message = '';\n\n    if (!gs.hasRole('itil,sn_incident_write')) {\n        message = gs.getMessage(\"Roles are insufficient to perform the action\");\n        setResponse(false, message);\n        return response.setBody(body);\n    }\n\n    var incidentGr = new GlideRecord(TABLES.INCIDENT);\n    if (!incidentGr.get(incidentId)) {\n        message = gs.getMessage(\"Invalid Incident record\");\n        setResponse(false, message);\n        return response.setBody(body);\n    }\n\n    var problemGr = new GlideRecord(TABLES.PROBLEM);\n    if (!problemGr.get(problemId)) {\n        message = gs.getMessage(\"Invalid Problem record\");\n        setResponse(false, message);\n        return response.setBody(body);\n    }\n\n    var errMsg = gs.getMessage('Linking \"Incident\" record to {0} has failed', problemGr.getDisplayValue());\n    var infoMsg = gs.getMessage('{0} has been linked to {1}.', [incidentGr.getDisplayValue('number'), problemGr.getDisplayValue('number')]);\n\n    body.action_id = actionId;\n    body.item_id = TABLES.PROBLEM + \":\" + problemGr.getUniqueValue();\n\n    if (actionId.includes('rest')) {\n        if (actionStage === 'pre_modal') {\n            body.successful = true;\n            body.useModal = true;\n            body.modalTitle = gs.getMessage('Link to Problem');\n            body.errMsg = errMsg;\n            body.modalInfoMsg = gs.getMessage('You are linking the current {0} to {1}', [incidentGr.getDisplayValue('number'), problemGr.getDisplayValue('number')]);\n            body.modalFields = [{\n                label: gs.getMessage('{0} (Private)', problemGr.work_notes.getLabel()),\n                name: 'work_notes',\n                value: '',\n                fieldType: 'textarea'\n            }];\n            body.updateCurrentRecord = false;\n            body.postModalRestRequired = true;\n            return response.setBody(body);\n        } else if (actionStage === 'post_modal') {\n            if (linkIncToProb(incidentGr, problemGr)) {\n                body.useModal = false;\n                body.updateCurrentRecord = true;\n                setResponse(true, infoMsg);\n            } else {\n                setResponse(false, errMsg);\n            }\n            return response.setBody(body);\n        }\n    }\n\n    if (!linkIncToProb(incidentGr, problemGr)) {\n        setResponse(false, errMsg);\n    } else {\n        setResponse(true, infoMsg);\n    }\n\t\n    return response.setBody(body);\n\n    function setResponse(success, message) {\n        if (actionId.includes('rest')) {\n            body.successful = success;\n            if (success) {\n                body.infoMsg = message;\n            } else {\n                body.errMsg = message;\n            }\n        } else {\n            body.succeed = success;\n            body.message = message;\n        }\n        return;\n    }\n\n    function linkIncToProb(incidentGr, problemGr) {\n        incidentGr.setValue(LINK_FIELD, problemGr.getUniqueValue());\n        return incidentGr.update();\n    }\n\n})(request, response);","sys_updated_on":"2022-03-10 06:50:39","enforce_acl":"b2ada3cfeb020110cfc583402a522860","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"555e86ca532330105264ddeeff7b12ad","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/cxs_actions/link_prb_to_incident","sys_created_on":"2021-11-02 14:52:35","sys_name":"link_prb_to_incident","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/54a81ee10b11301039dd818393673a5c","value":"54a81ee10b11301039dd818393673a5c"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5f387aa0b32023002bf182c136a8dc1c","value":"5f387aa0b32023002bf182c136a8dc1c"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/54a81ee10b11301039dd818393673a5c","value":"54a81ee10b11301039dd818393673a5c"},"sys_update_name":"sys_ws_operation_555e86ca532330105264ddeeff7b12ad","consumes_customized":"false","name":"link_prb_to_incident","produces":"application/json,application/xml,text/xml","relative_path":"/link_prb_to_incident","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var solution_id = decodeURI(request.pathParams.solution_id);\n\tif (solution_id) {\n\t\tvar queryParams = request.queryParams;\n\t\tvar result = [];\n\t\treturn new ML_UI().getClusterData(solution_id, queryParams);\n\t} else {\n\t\treturn sn_ws_err.BadRequestError(\"Solution id not present\");\n\t}\n\n})(request, response);","sys_updated_on":"2022-02-10 08:09:29","enforce_acl":"aa527b0a53210110b6acddeeff7b12f2","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/456b8f4553103300d1dcddeeff7b12ac","value":"456b8f4553103300d1dcddeeff7b12ac"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"557b038553103300d1dcddeeff7b1267","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_ml_ui/v1/ml_ui/getclusterdata/{solution_id}","sys_created_on":"2019-03-18 18:27:21","sys_name":"getClusterData","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/21f30bcdb7d03300d1dcf8b8ee11a9eb","value":"21f30bcdb7d03300d1dcf8b8ee11a9eb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/c6facb4553103300d1dcddeeff7b1287","value":"c6facb4553103300d1dcddeeff7b1287"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/21f30bcdb7d03300d1dcf8b8ee11a9eb","value":"21f30bcdb7d03300d1dcf8b8ee11a9eb"},"sys_update_name":"sys_ws_operation_557b038553103300d1dcddeeff7b1267","consumes_customized":"false","name":"getClusterData","produces":"application/json,application/xml,text/xml","relative_path":"/getclusterdata/{solution_id}","produces_customized":"false","default_operation_uri":"/api/sn_ml_ui/ml_ui/getclusterdata/{solution_id}","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\treturn new OCRotationV2().getGroups();\n})(request, response);","sys_updated_on":"2019-03-20 10:28:23","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"5616c2d3c31302008896d5dc64d3ae18","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/group","sys_created_on":"2015-10-29 20:13:54","sys_name":"getGroups","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_5616c2d3c31302008896d5dc64d3ae18","consumes_customized":"false","name":"getGroups","produces":"application/json,application/xml,text/xml","relative_path":"/group","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    try {\n        var clientType = request.pathParams.clientType;\n        var inboundId = request.pathParams.externalId;\n        var SLACK_PROVIDER_SYSID = '41a04c42731210104049dec2c4f6a706';\n\n        var appId = gs.getProperty('com.glide.va.slack_app_id', 'A9NK2TMFS');\n        var url = \"\";\n\n        if (clientType == 'slack') {\n            var current = new GlideRecord('sys_cs_provider_application');\n            current.addQuery('inbound_id', inboundId);\n            current.addQuery('provider', SLACK_PROVIDER_SYSID);\n            current.query();\n\n            if (current.next()) {\n                var req = new sn_ws.RESTMessageV2();\n                req.setEndpoint('https://slack.com/api/team.info');\n                req.setHttpMethod('get');\n                var e = new GlideEncryptionUtil();\n                var authToken = e.getClearPassword2('token_verification', 'token', current.message_auth.outbound_message_creation);\n                if (JSUtil.notNil(authToken))\n                    req.setRequestHeader('Authorization', 'Bearer ' + authToken);\n                var resp = req.execute();\n                var domain = JSON.parse(resp.getBody()).team.domain;\n                url = \"https://\" + domain + \".slack.com/apps/\" + appId;\n            }\n            return url;\n        }\n    } catch (ex) {\n        gs.error('Error getting slack team info: ' + ex.getMessage());\n    }\n})(request, response);","sys_updated_on":"2022-11-22 07:57:02","enforce_acl":"970d93b177131110ebdef4772b106180","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"566d34155f1323006e619c4f2f7313eb","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/va_bot_uninstall/{clientType}/{externalId}","sys_created_on":"2019-01-28 10:09:59","sys_name":"uninstall_url","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/cd3df0155f1323006e619c4f2f731367","value":"cd3df0155f1323006e619c4f2f731367"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"24","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/14c37b3704b52210559073c06a02f782","value":"14c37b3704b52210559073c06a02f782"},"sys_update_name":"sys_ws_operation_566d34155f1323006e619c4f2f7313eb","consumes_customized":"false","name":"uninstall_url","produces":"application/json,application/xml,text/xml","relative_path":"/{clientType}/{externalId}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar startDateParam = \"\";\n\tvar endDateParam = \"\";\n\ttry {\n\t\tstartDateParam = request.queryParams.start_date;\n\t\tendDateParam = request.queryParams.end_date;\n\t} catch (e) {}\n\n\tvar scheduleAssistCard = new SOWChgScheduleAssist(request.pathParams.table_name, request.pathParams.sys_id, startDateParam ,endDateParam);\n\n\tvar result = scheduleAssistCard.getScheduleAssistCardDetails();\n\treturn result;\n})(request, response);","sys_updated_on":"2022-08-01 09:28:08","enforce_acl":"46500b4253001110843addeeff7b1286","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"56cee43b53201110843addeeff7b121d","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sow_chg/scheduling_assistant/scheduleassistcard/{table_name}/{sys_id}","sys_created_on":"2022-07-14 07:28:54","sys_name":"Schedule Assist Card","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/bddfaeca53801110843addeeff7b1266","value":"bddfaeca53801110843addeeff7b1266"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"11","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_update_name":"sys_ws_operation_56cee43b53201110843addeeff7b121d","consumes_customized":"false","name":"Schedule Assist Card","produces":"application/json,application/xml,text/xml","relative_path":"/scheduleassistcard/{table_name}/{sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","sys_updated_on":"2021-02-25 08:12:13","enforce_acl":"c181cf8187602010c84e4561d5cb0b5e","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"56dcc767c7122010ca6da1e603c260c4","http_method":"DELETE","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/service_fulfillment/step/{sys_id}","sys_created_on":"2021-02-19 11:37:03","sys_name":"Delete a Service Fulfillment Step","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/97adafff04352210559073c06a02f7da","value":"97adafff04352210559073c06a02f7da"},"sys_update_name":"sys_ws_operation_56dcc767c7122010ca6da1e603c260c4","consumes_customized":"false","name":"Delete a Service Fulfillment Step","produces":"application/json,application/xml,text/xml","relative_path":"/service_fulfillment/step/{sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/service_fulfillment/step/{sys_id}","sys_policy":"protected"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var logger = new WWNALogger();\n\n    var queryParams = request.queryParams;\n    var skill_id = getParam(queryParams, 'skill_id');\n    var record_table_name = getParam(queryParams, 'record_table_name');\n    var record_sys_id = getParam(queryParams, 'record_sys_id');\n    var skill_table_name = getParam(queryParams, 'skill_table_name');\n\n    logger.info(\"WWNA: Skill Config API Query Parameters: \" + JSON.stringify({\n        skill_id,\n        record_table_name,\n        record_sys_id,\n        skill_table_name\n    }));\n\n    if (!skill_id) {\n        logger.error(\"WWNA: Skill Config API Missing Query Parameter: skill_id\");\n        response.setStatus(400);\n\n        return response.setBody({\n            status: 'failure',\n            message: 'Missing required parameter: skill_id'\n        });\n    }\n\n    try {\n        var skillConfigObj = new sn_wwna.WWNAUtils().fetchNACMSkillConfiguration(skill_id, record_table_name, record_sys_id, skill_table_name);\n\n        if (skillConfigObj) {\n            logger.info(\"WWNA: Skill Config API formatted skillConfiguration: \" + JSON.stringify(skillConfigObj));\n            response.setStatus(200);\n            return response.setBody({\n                status: 'success',\n                data: skillConfigObj\n            });\n        } else {\n            throw new Error(\"WWNA: Skill Config API error: Skill configuration not found.\");\n        }\n\n    } catch (error) {\n        logger.error(\"WWNA: Skill Config API error: \" + error.message);\n        response.setStatus(500);\n        return response.setBody({\n            status: 'failure',\n            message: \"Something went wrong, please contact your system Admin!\"\n        });\n    }\n\n    function getParam(rParams, key) {\n        return rParams[key] ? rParams[key][0] : \"\";\n    }\n})(request, response);","sys_updated_on":"2024-08-22 10:51:24","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"56e4de0643520210fbb28b11afb8f263","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_wwna/wwna/skill_config","sys_created_on":"2024-05-22 16:50:01","sys_name":"Skill Configuration","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/757c34719bf7f10c4a1f9fe81ba8bba3","value":"757c34719bf7f10c4a1f9fe81ba8bba3"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/4ab4da0643520210fbb28b11afb8f20d","value":"4ab4da0643520210fbb28b11afb8f20d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"73","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/757c34719bf7f10c4a1f9fe81ba8bba3","value":"757c34719bf7f10c4a1f9fe81ba8bba3"},"sys_update_name":"sys_ws_operation_56e4de0643520210fbb28b11afb8f263","consumes_customized":"false","name":"Skill Configuration","produces":"application/json,application/xml,text/xml","relative_path":"/skill_config","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var rotaId = request.queryParams.rota_id;\n\tvar taskTable = request.queryParams.task_table;\n\tvar taskSysId = request.queryParams.task_sys_id;\n\t\n\tif (!rotaId)\n\t\treturn new sn_ws_err.BadRequestError(\"Rota id is not provided\");\n\n\tvar canReadCalendar = new OCCalendarUtils().canRead();\n\tif (canReadCalendar) {\n\t\tif (typeof rotaId == \"object\")\n\t\t\trotaId = rotaId[0];\n\t\tif (typeof taskTable == \"object\")\n\t\t\ttaskTable = taskTable[0];\n\t\tif (typeof taskSysId == \"object\")\n\t\t\ttaskSysId = taskSysId[0];\n\n\t\tvar escalationSets = new OCEscalationDesigner().getRotaEscalationSets(rotaId);\n\n\t\tvar conditionMatchedEscSetGr;\n\t\tvar taskGr;\n\t\tif (taskTable && taskSysId) {\n\t\t\ttaskGr = new GlideRecord(taskTable);\n\t\t\ttaskGr.get(taskSysId);\n\t\t}\n\t\tconditionMatchedEscSetGr = new OnCallRotation().getRotaEscalationSet(rotaId, taskGr);\n\t\tif (conditionMatchedEscSetGr) {\n\t\t\tfor (var i = 0; i < escalationSets.length; i++) {\n\t\t\t\tvar escalationSet = escalationSets[i];\n\t\t\t\tif (escalationSet.sys_id == conditionMatchedEscSetGr.getUniqueValue()) {\n\t\t\t\t\tescalationSet.condition_matched = true;\n\t\t\t\t}\n\t\t\t}\t\n\t\t}\n\t\treturn escalationSets;\n\t}\n\telse {\n\t\tresponse.setBody({\n\t\t\terror: {\n\t\t\t\tmessage: gs.getMessage(\"Does not have permission\")\n\t\t\t}\n\t\t});\n\t\tresponse.setStatus(403);\n\t}\n\t\n\t\n\n})(request, response);","sys_updated_on":"2019-03-20 08:32:26","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"57a12a1557db230084a5ac27cf94f97d","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/escalationsets","sys_created_on":"2019-01-28 16:59:43","sys_name":"Shift escalation sets","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"15","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_57a12a1557db230084a5ac27cf94f97d","consumes_customized":"false","name":"Shift escalation sets","produces":"application/json,application/xml,text/xml","relative_path":"/escalationsets","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\treturn new SowChangeCards().getCategories();\n})(request, response);","sys_updated_on":"2024-08-06 16:06:56","enforce_acl":"1f440635771201100bfdaeb4bb5a99eb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"57c1b71f77b73110b595aeb4bb5a9903","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sow_chg/sow_change_creation_page/getcategories","sys_created_on":"2024-01-23 14:09:04","sys_name":"getCategories","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/17c918c723f33010b8f7dc1756bf650d","value":"17c918c723f33010b8f7dc1756bf650d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_update_name":"sys_ws_operation_57c1b71f77b73110b595aeb4bb5a9903","consumes_customized":"false","name":"getCategories","produces":"application/json,application/xml,text/xml","relative_path":"/getcategories","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Inserts new scheduled job for export","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        var body = request.body.data;\n        var notification = body.notification;\n        var scheduling = body.scheduling;\n        var parExportIds = [];\n\n        if (!scheduling || Object.keys(scheduling).length === 0 || !scheduling.schedule || Object.keys(scheduling.schedule).length === 0 || !notification || Object.keys(notification).length === 0 || !body.visualizations || !body.dashboards || (body.visualizations.length === 0 && body.dashboards.length === 0)) {\n            var invalid = new sn_ws_err.ServiceError();\n            invalid.setStatus(400);\n            invalid.setMessage(\"Invalid request parameters.\");\n            response.setError(invalid);\n        }\n\n        if (Array.isArray(body.visualizations) && body.visualizations.length > 0) {\n            parExportIds = parExportIds.concat(saveVisualizations(body.visualizations, response));\n        }\n        if (Array.isArray(body.dashboards) && body.dashboards.length > 0) {\n            parExportIds = parExportIds.concat(saveDashboards(body.dashboards, response));\n        }\n        if (!parExportIds || parExportIds.size === 0) {\n            return;\n        }\n        var notificationSysId = saveNotification(notification, response);\n        if (!notificationSysId) {\n            return;\n        }\n        var jobSysId = saveJob(scheduling, parExportIds.toString(), notificationSysId, response);\n        if (!jobSysId) {\n            return;\n        }\n        return {\n            status: \"Successfully created the scheduled job\",\n            jobId: jobSysId.toString()\n        };\n    } catch (e) {\n        var serverError = new sn_ws_err.ServiceError();\n        serverError.setStatus(500);\n        serverError.setMessage(\"An error occurred. Scheduled job is not created.\");\n        serverError.setDetail(e.message);\n        response.setError(serverError);\n    }\n})(request, response);\n\nfunction saveVisualizations(visualizations, response) {\n    var grVisualization = new GlideRecordSecure('par_export_visualization');\n    if (!grVisualization.canCreate()) {\n        var permError = new sn_ws_err.ServiceError();\n        permError.setStatus(403);\n        permError.setMessage('You do not have access to create a scheduled job.');\n        permError.setDetail('You do not have permission to scheduled visualizations');\n        response.setError(permError);\n        return;\n    }\n    var par_viz_export_ids = [];\n    for (var i = 0; i < visualizations.length; i++) {\n        grVisualization.initialize();\n        var viz = visualizations[i];\n        grVisualization.orientation = viz.orientation;\n        grVisualization.file_type = viz.fileType;\n        grVisualization.page_size = viz.size;\n        if (viz.visualization !== undefined) {\n            if (typeof viz.visualization === 'string') {\n                grVisualization.visualizations = viz.visualization;\n            } else {\n                grVisualization.visualizations = viz.visualization.id;\n            }\n        }\n        grVisualization.smart_size = viz.smartSize;\n        grVisualization.omit_if_empty = viz.omitIfEmpty;\n        if (!grVisualization.insert()) {\n            throw new Error('Failed to insert scheduled job information for visualization ' + JSON.stringify(viz));\n        }\n        par_viz_export_ids.push(grVisualization.sys_id.toString());\n    }\n    return par_viz_export_ids;\n}\n\nfunction saveDashboards(dashboards, response) {\n    var grDashboard = new GlideRecordSecure('par_export_dashboard');\n    if (!grDashboard.canCreate()) {\n        var permError = new sn_ws_err.ServiceError();\n        permError.setStatus(403);\n        permError.setMessage('You do not have access to create a scheduled job.');\n        permError.setDetail('You do not have permission to scheduled dashboards');\n        response.setError(permError);\n        return;\n    }\n    var par_dashboard_export_ids = [];\n    for (var i = 0; i < dashboards.length; i++) {\n        grDashboard.initialize();\n        var dashboard = dashboards[i];\n        grDashboard.orientation = dashboard.orientation;\n        grDashboard.file_type = dashboard.fileType;\n        grDashboard.page_size = dashboard.size;\n        grDashboard.dashboard_canvas = dashboard.canvasList.join(',');\n        grDashboard.omit_if_empty = dashboard.omitIfEmpty;\n        if (typeof dashboard.dashboard === 'string')\n            grDashboard.dashboard = dashboard.dashboard;\n        else\n            grDashboard.dashboard = dashboard.dashboard.id;\n\n\n        if (!grDashboard.insert()) {\n            throw new Error('Failed to insert scheduled job information for dashboard ' + JSON.stringify(dashboard));\n        }\n        par_dashboard_export_ids.push(grDashboard.sys_id.toString());\n    }\n    return par_dashboard_export_ids;\n}\n\n\nfunction saveNotification(notification, response) {\n    var grNotification = new GlideRecordSecure('par_notification_email');\n\tvar grEmailRecipients = new GlideRecordSecure('par_notification_email_recipients');\n    if (!grNotification.canCreate()) {\n        permError = new sn_ws_err.ServiceError();\n        permError.setStatus(403);\n        permError.setMessage('You do not have access to create a scheduled job.');\n        permError.setDetail('You do not have permission to configure notifications');\n        response.setError(permError);\n        return;\n    }\n    grNotification.initialize();\n\tgrNotification.recipients = notification.recipients;\n    grNotification.subject = notification.subject;\n    grNotification.message = notification.message;\n    if (!grNotification.insert()) {\n        throw new Error('Failed to insert scheduled job information for notification ');\n    }\n\tgrEmailRecipients.initialize();\n\tgrEmailRecipients.users = unmapReferences(notification.users);\n\tgrEmailRecipients.groups = unmapReferences(notification.groups);\n\tgrEmailRecipients.par_notification_email = grNotification.sys_id;\n\tif (!grEmailRecipients.insert()) {\n\t\tthrow new Error('Failed to insert scheduled job information for notification ');\n\t}\n    return grNotification.sys_id;\n}\n\n\nfunction saveJob(scheduling, toExportIds, notificationSysId, response) {\n    var grSysAutoPar = new GlideRecordSecure('sysauto_par');\n    if (!grSysAutoPar.canCreate()) {\n        permError = new sn_ws_err.ServiceError();\n        permError.setStatus(403);\n        permError.ssetMessage('You do not have access to create a scheduled job.');\n        permError.setDetail('You do not have permission to scheduled par export jobs');\n        response.setError(permError);\n        return;\n    }\n    grSysAutoPar.initialize();\n    grSysAutoPar.to_export = toExportIds;\n    grSysAutoPar.notification = notificationSysId;\n    grSysAutoPar.zip_output = scheduling.zip;\n    grSysAutoPar.active = scheduling.active;\n    grSysAutoPar.business_calendar = scheduling.schedule.businessCalendar;\n    grSysAutoPar.condition = scheduling.conditionCode;\n    grSysAutoPar.conditional = scheduling.condition;\n    grSysAutoPar.run_time = scheduling.schedule.time;\n    grSysAutoPar.run_dayofmonth = scheduling.schedule.dayOfTheMonth;\n    grSysAutoPar.run_dayofweek = scheduling.schedule.dayOfTheWeek;\n    grSysAutoPar.run_period = new GlideDuration(scheduling.schedule.periodDuration);\n    grSysAutoPar.run_start = scheduling.schedule.startOn;\n    grSysAutoPar.run_type = scheduling.run;\n    grSysAutoPar.offset_type = scheduling.schedule.businessCalendarOffset;\n    grSysAutoPar.name = scheduling.name;\n\n    if (!grSysAutoPar.insert()) {\n        throw new Error('Failed to insert scheduled job information');\n    }\n    return grSysAutoPar.sys_id;\n}\n\nfunction unmapReferences(references) {\n    var res = [];\n    for (var i = 0; i < references.length; i++) {\n        res.push(references[i].id);\n    }\n    return res.join(',');\n}","sys_updated_on":"2024-10-08 10:27:23","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"{\r\n  \"visualizations\": [\r\n    {\r\n      \"fileType\": \"pdf\",\r\n      \"orientation\": \"portrait\",\r\n      \"size\": \"letter\",\r\n      \"smartSize\": false,\r\n      \"visualization\": \"c337d719b7a21110c9f09f78ce11a96f\",\r\n      \"omitIfEmpty\": true\r\n    }\r\n  ],\r\n\"dashboards\": [{\r\n    \"fileType\":\"ppt\",\r\n    \"dashboard\": {\r\n      \"id\": \"25fd7baed5ac2b9cae9b6eb87c0e210d\",\r\n      \"label\":\"Analytics Usage Overview\",\r\n    },\r\n    \"canvasList\":[\"d4ce32ee89ec88ddd38a922f445a3451\",\"f8faab7b7ae0d48e6701ca273f651037\"]\r\n    }\r\n  }],\r\n  \"notification\": {\r\n    \"subject\": \"test\",\r\n    \"zip\": false,\r\n    \"message\": \"<p>test</p>\",\r\n    \"users\": \"\",\r\n    \"groups\": \"\",\r\n    \"recipients\": \"test@test.com\"\r\n  },\r\n  \"scheduling\": {\r\n    \"run\": \"periodically\",\r\n    \"condition\": true,\r\n    \"omitIfNoRecords\": true,\r\n    \"conditionCode\": \"'Hi i am code';\",\r\n    \"hasError\": false,\r\n    \"schedule\": {\r\n      \"startOn\": \"2022-10-19 14:42:27\",\r\n      \"time\": \"12:14:12\",\r\n      \"dayOfTheWeek\": 2,\r\n      \"dayOfTheMonth\": 3,\r\n      \"periodDuration\": 5919132000,\r\n      \"businessCalendar\": \"4d7ddda353f3001076bcddeeff7b12b1\",\r\n      \"businessCalendarOffset\": 1\r\n    },\r\n    \"zip\": false\r\n  }\r\n}","sys_id":"582bf7c8536a11107c19ddeeff7b1202","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/par_scheduled_export/save","sys_created_on":"2022-11-02 14:49:16","sys_name":"Save scheduled export","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/9509c0e54e289e08608566160eb606cb","value":"9509c0e54e289e08608566160eb606cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/c3faf7c8536a11107c19ddeeff7b124d","value":"c3faf7c8536a11107c19ddeeff7b124d"},"consumes":"application/json","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"47","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9509c0e54e289e08608566160eb606cb","value":"9509c0e54e289e08608566160eb606cb"},"sys_update_name":"sys_ws_operation_582bf7c8536a11107c19ddeeff7b1202","consumes_customized":"true","name":"Save scheduled export","produces":"application/json,application/xml,text/xml","relative_path":"/save","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var saOpsWrapper = new SaOperationsWrapper(SNC.SaActionsHandler);\n\tsaOpsWrapper.process(request,response, \"getMap\");\n\n})(request, response);","sys_updated_on":"2018-03-11 12:47:43","enforce_acl":"ea4f3ae287132200b5bea18dd0e3eceb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"5898a65f7f120300995cbaf8befa9160","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/it_service/map","sys_created_on":"2017-11-13 13:13:51","sys_name":"Map - Internal API","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3418e25f7f120300995cbaf8befa912e","value":"3418e25f7f120300995cbaf8befa912e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_5898a65f7f120300995cbaf8befa9160","consumes_customized":"false","name":"Map - Internal API","produces":"application/json,application/xml,text/xml","relative_path":"/map","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    const apiHelper = new APIHelper(request, response);\n\tapiHelper.execute(function(){\n\t\tconst extensionPointSysId = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.EXTENSION_POINT_SYS_ID);\n\t\tconst experienceList = new Screen().getExperiencesForExtensionPoint(extensionPointSysId);\n\t\tapiHelper.getResponse({experiences:experienceList},BuilderToolkitConstants.ERRORS.NO_EXPERIENCE_FOUND);\n\t});\n})(request, response);","sys_updated_on":"2023-06-28 15:44:29","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"59ad5a2d438721100ef26b3235b8f2d2","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/pc_experiences","sys_created_on":"2023-05-26 18:34:35","sys_name":"List of Experiences","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"8","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_59ad5a2d438721100ef26b3235b8f2d2","consumes_customized":"false","name":"List of Experiences","produces":"application/json,application/xml,text/xml","relative_path":"/pc_experiences","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // implement resource here\n\tvar params = request.body.nextEntry();\n\tvar meetingId = request.pathParams.meetingId;\n\tif (!meetingId)\n\t\treturn new sn_ws_err.BadRequestError(\"CAB Meeting id not provided\");\n\tvar newHost = params.newHost;\n\tif (!newHost)\n\t\treturn new sn_ws_err.BadRequestError(\"New Presenter id not provided\");\n\n\tvar result = {\n\t};\n\n\tvar instance = CABRuntimeStateSNC.get(meetingId);\n\tif (instance) {\n\t\tif (!instance.getHost() || instance.getHost() === instance.getNotesEditor())\n\t\t\tinstance.setNotesEditor(newHost);\n\n\t\tinstance.setHost(newHost);\n\t\tresult.msg = 'changed successfully';\n\t}\n\telse\n\t\treturn new sn_ws_err.NotFoundError('Given meeting record not found');\n\nreturn result;\n\n})(request, response);","sys_updated_on":"2021-02-02 19:39:43","enforce_acl":"ee9fb61a232303001488dc1756bf658b","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"5a1e2f040bf022005775aabcb4673ad7","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_change_cab/cab/runtime_state/change_host/{meetingId}","sys_created_on":"2016-07-19 10:00:27","sys_name":"Change Meeting Host","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/cf65d305eb10220034d1eeea1206fe55","value":"cf65d305eb10220034d1eeea1206fe55"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"22","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_update_name":"sys_ws_operation_5a1e2f040bf022005775aabcb4673ad7","consumes_customized":"false","name":"Change Meeting Host","produces":"application/json,application/xml,text/xml","relative_path":"/runtime_state/change_host/{meetingId}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var payload = request.body.data;\n    var result = {};\n\n    // If there's no payload and no query parameter we can return an error.\n    if (global.JSUtil.isEmpty(payload))\n        return new sn_ws_err.BadRequestError(\"No Query String provided\");\n\n    if (payload.blockId || payload.pageId) {\n        var aceUtil = new sn_ace.ACEAppBuilderUtilV2();\n        if (payload.runtime) {\n            if (payload.pageId) {\n                result = aceUtil.getContentBlocksByPageId(payload.pageId, payload.params, false);\n            } else {\n                result = aceUtil.getContentBlocksByBlockId(payload.blockId, payload.params, payload.instanceBlockId, false);\n            }\n        } else {\n            var hideModal = payload.blockId ? false : true;\n            if (payload.pageId) {\n                var pageGR = new GlideRecord('sn_ace_page');\n                if (pageGR.get(payload.pageId)) {\n                    var bundle = pageGR.getValue('bundle');\n                    if (bundle && bundle.length) {\n                        var contentBlocks = new global.ACEAppBuilderGlobalScopedUtil().getDecompressedPageBundle(bundle);\n                        aceUtil.processReusableBlocks(contentBlocks, {}, hideModal);\n                        result.contentBlocks = contentBlocks;\n\n                        var screenType = pageGR.route.screen_type.toString();\n                        var screenGr = new GlideRecord(\"sys_ux_screen\");\n                        screenGr.addQuery(\"screen_type\", screenType);\n                        screenGr.query();\n                        if (screenGr.next()) {\n                            pageMacroponentId = screenGr.macroponent.toString();\n                            result.pageMacroponentId = pageMacroponentId;\n                        }\n                        result.blockParameters = [];\n                    } else {\n                        result = aceUtil._getContentBlockMetaData(payload.pageId, payload.blockId, null, null, null, hideModal);\n                    }\n\n                    result.clientContext = getClientContext(pageGR);\n                } else {\n                    result = aceUtil._getContentBlockMetaData(payload.pageId, payload.blockId, null, null, null, hideModal);\n                }\n            } else {\n                result = aceUtil._getContentBlockMetaData(payload.pageId, payload.blockId, null, null, null, hideModal);\n            }\n\n            var inputParam = {};\n            inputParam.pageId = payload.pageId;\n            inputParam.blockId = payload.blockId;\n            inputParam.aceConfig = payload.aceConfig;\n            result.component_content_type_properties = aceUtil.getCachedMetadataProperties(inputParam);\n        }\n        response.setBody(result);\n    } else {\n        response.setBody([]);\n    }\n\n    function getClientContext(pageGR) {\n        try {\n            var clientContext = pageGR.getValue('client_context');\n            if (typeof clientContext == 'string') {\n                clientContext = JSON.parse(clientContext);\n            }\n            return clientContext;\n        } catch (e) {\n            gs.error(\"ACEDesignTimeError: Failed to parse client context: \" + e.toString());\n        }\n    }\n\n})(request, response);","sys_updated_on":"2023-09-14 15:47:12","enforce_acl":"2f7a350f774e2110bc5db5b27a5a995a","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"5a2cdee353721110c733ddeeff7b1291","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/ace/fetchdata","sys_created_on":"2022-11-02 17:08:31","sys_name":"fetchData","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/090c5ee353721110c733ddeeff7b1299","value":"090c5ee353721110c733ddeeff7b1299"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"19","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_update_name":"sys_ws_operation_5a2cdee353721110c733ddeeff7b1291","consumes_customized":"false","name":"fetchData","produces":"application/json,application/xml,text/xml","relative_path":"/fetchdata","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n    response.setContentType('application/json');\n    var helper = new CMDBDataManagerHelper();\n    var state = helper.getParamAsString('state');\n\n    if (JSUtil.nil(state)) {\n        return new sn_ws_err.BadRequestError(\"state is missing\");\n    }\n\n    var result = {};\n    result.policy_tasks = helper.getPolicyTaskCount(state);\n    response.setStatus(200);\n    response.setBody(result);\n})(request, response);","sys_updated_on":"2021-03-23 23:34:03","enforce_acl":"885bc51053832010af64ddeeff7b12cb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"5a9124dc771220108043270bba106142","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/ci_lifecycle_manager/tasks_count","sys_created_on":"2021-02-08 21:07:48","sys_name":"Get Policy Tasks Count","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ad9ebe127322101045cadfcd3bf6a735","value":"ad9ebe127322101045cadfcd3bf6a735"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"25","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"sys_update_name":"sys_ws_operation_5a9124dc771220108043270bba106142","consumes_customized":"false","name":"Get Policy Tasks Count","produces":"application/json,application/xml,text/xml","relative_path":"/tasks_count","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var input = request.body.data;\n\n    var sysIds = input.sysIds;\n    var taskToCiTable = input.taskToCiTable;\n    var action = input.action;\n    var userComment = input.userComment;\n    var taskSysId = input.taskSysId;\n    var allRecordsSelected = input.allRecordsSelected;\n    var excludedSysIds = input.excludedSysIds;\n\n    var cmdbWsDMTaskAccessor = new sn_cmdb_ws.CMDBWsDMTaskAccessor();\n\n    if (!allRecordsSelected && (!sysIds || sysIds.length < 1)) {\n        return cmdbWsDMTaskAccessor.ERROR_MESSAGES.INVALID_INPUT;\n    }\n\n    var availableActions = [cmdbWsDMTaskAccessor.ACTIONS.DM_EXCLUDE_RECORDS];\n\n    if (availableActions.indexOf(action) == -1) {\n        return cmdbWsDMTaskAccessor.ERROR_MESSAGES.INVALID_ACTION;\n    }\n\n    var result;\n    if (action == cmdbWsDMTaskAccessor.ACTIONS.DM_EXCLUDE_RECORDS) {\n        result = cmdbWsDMTaskAccessor.excludeRecords(taskSysId, taskToCiTable, sysIds, userComment, allRecordsSelected, excludedSysIds);\n    }\n\n    response.setBody(result);\n\n})(request, response);","sys_updated_on":"2023-09-23 00:08:40","enforce_acl":"39a22ab60735011017b703767cd30036","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"5a92675e53513110c445ddeeff7b1298","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_cmdb_ws/cmdb_workspace_api_scoped/lifecycle_task/action","sys_created_on":"2023-09-18 03:55:31","sys_name":"Perform action on lifecycle task records","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3ff417b78f3f2010960c53ac37bdeefb","value":"3ff417b78f3f2010960c53ac37bdeefb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_update_name":"sys_ws_operation_5a92675e53513110c445ddeeff7b1298","consumes_customized":"false","name":"Perform action on lifecycle task records","produces":"application/json,application/xml,text/xml","relative_path":"/lifecycle_task/action","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\n\tvar authenticator = new sn_docker_spoke.DockerWebhookAuthenticator(request.queryParams);\n    var authResponse = authenticator.authenticate();\n    if (authResponse.status == \"failure\") {\n        response.setStatus(authResponse.status);\n        response.setBody(authResponse);\n        return;\n    }\n    gs.info(\"Docker Webhook is triggered.\");\n    gs.info(\"Docker Webhook response = \" + JSON.stringify(request.body.data));\n    var requestBody = request.body.data;\n\n    var inputs = new Object();\n    inputs['u_image'] = requestBody.repository.repo_name;\n\tgs.info(\"Image = \" + requestBody.repository.repo_name);\n    var decisionTable = new sn_dt.DecisionTableAPI();\n\n    var sysD = new GlideRecord(\"sys_decision\");\n    sysD.get('name', 'Docker Webhook Decision Policy');\n\tgs.info(\"sysD = \" + JSON.stringify(sysD));\n    var decisions = decisionTable.getDecision(sysD.getValue(\"sys_id\"), inputs);\n\t\n    gs.info(\"Decisions = \" + JSON.stringify(decisions));\n\t\n    if (!decisions)\n        gs.info(\"Decision record was not matched.\");\n    else {\n        var subFlowInternalName = new DockerWebhookUtils().getDecisionsubFlow(decisions);\n        gs.info(\"Matched Subflow Internal Name = \" + subFlowInternalName);\n\n        var subFlowInputs = {};\n        subFlowInputs['payload'] = JSON.stringify(requestBody);\n        subFlowInputs['image'] = requestBody.repository.repo_name;\n\n        new DockerWebhookUtils().subflowExecutionEvent(subFlowInputs, subFlowInternalName);\n    }\n\n})(request, response);","sys_updated_on":"2021-09-15 18:14:51","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"5a9b63be1b3034103cbb8404604bcbab","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_docker_spoke/docker_webhook_test","sys_created_on":"2021-06-21 12:32:29","sys_name":"Get Image Push Info","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/dcb0e1e4db075300dd14596e5e9619ca","value":"dcb0e1e4db075300dd14596e5e9619ca"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/1ac417fe1bfcf0103cbb8404604bcb95","value":"1ac417fe1bfcf0103cbb8404604bcb95"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"false","sys_mod_count":"51","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/dcb0e1e4db075300dd14596e5e9619ca","value":"dcb0e1e4db075300dd14596e5e9619ca"},"sys_update_name":"sys_ws_operation_5a9b63be1b3034103cbb8404604bcbab","consumes_customized":"false","name":"Get Image Push Info","produces":"application/json,application/xml,text/xml","relative_path":"/","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // implement resource here\n\tvar payloads = request.body.data;\n\ttry {\n\t\tvar subs = new AJAXFollowNotification();\n\t\tvar table = payloads[\"sysparm_table\"];\n\t\tvar sysId = payloads[\"sysparm_sysid\"];\n\t\tvar userId = payloads[\"sysparm_userid\"];\n\t\tvar operation = payloads[\"sysparm_operation\"];\n\t\tif (operation == \"add\") {\n\t\t\tsubs.subscribeUser(table, sysId);\n\t\t} else if (operation == \"delete\") {\n\t\t\tsubs.unSubscribeUser(sysId, userId);\n\t\t}\n\t} catch(err) {\n\t\tvar exp = new sn_ws_err.BadRequestError(j2js(err).message);\n\t\tresponse.setError(exp);\n\t}\n\t\n\n})(request, response);","sys_updated_on":"2022-10-20 15:38:29","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"5b7f1544772111102db61558ca5a9979","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/follow_notifications/action","sys_created_on":"2022-08-21 12:26:37","sys_name":"action","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/6f6715b3771111102db61558ca5a996c","value":"6f6715b3771111102db61558ca5a996c"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"15","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/37eda37304752210559073c06a02f7b6","value":"37eda37304752210559073c06a02f7b6"},"sys_update_name":"sys_ws_operation_5b7f1544772111102db61558ca5a9979","consumes_customized":"false","name":"action","produces":"application/json,application/xml,text/xml","relative_path":"/action","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar offset = isNaN(parseInt(request.queryParams.offset)) ? 0 : parseInt(request.queryParams.offset);\n\tvar limit = isNaN(parseInt(request.queryParams.schedule_limit)) ? 40 : parseInt(request.queryParams.schedule_limit);\n\tvar filter = (request.queryParams.filter && request.queryParams.filter !== \"undefined\") ? request.queryParams.filter + \"\" : \"all\";\n\tvar orderBy = (request.queryParams.orderby && request.queryParams.orderby !== \"undefined\") ? request.queryParams.orderby + \"\" : \"name\";\n\tvar textSearch = (!request.queryParams.text_search || request.queryParams.text_search === \"undefined\") ? \"\" : request.queryParams.text_search + \"\".trim();\n\n\tif (offset === -1)\n\t\treturn new SoCLandingModelBuilder().initialHit(orderBy, textSearch);\n\treturn new SoCLandingModelBuilder().getDefinitions(offset, limit, filter, orderBy, textSearch);\n})(request, response);","sys_updated_on":"2017-12-13 17:30:53","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"5b83460d57c70300afc34786cc94f975","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_chg_soc/soc/chgdefinitions","sys_created_on":"2017-12-13 17:30:53","sys_name":"chgdefinitions","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3115d45f67020300b410afa00585ef87","value":"3115d45f67020300b410afa00585ef87"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_update_name":"sys_ws_operation_5b83460d57c70300afc34786cc94f975","consumes_customized":"false","name":"chgdefinitions","produces":"application/json,application/xml,text/xml","relative_path":"/chgdefinitions","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar sysId = request.pathParams.sys_id || null;\n\tif (!sysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Normal Change Request id not provided\");\n\n\tvar changeProcess = global.NormalChangeProcess.findById(sysId);\n\tif (!changeProcess)\n\t\treturn new sn_ws_err.NotFoundError(\"Normal Change Request not found\");\n\n\treturn changeProcess.toJS();\n})(request, response);","sys_updated_on":"2018-07-07 19:46:05","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"5c0a5f5f5303130096c3ddeeff7b126a","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/normal/{sys_id}","sys_created_on":"2018-07-07 19:46:05","sys_name":"Normal","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_5c0a5f5f5303130096c3ddeeff7b126a","consumes_customized":"false","name":"Normal","produces":"application/json,application/xml,text/xml","relative_path":"/normal/{sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/normal/{sys_id}","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var lookupId = request.pathParams.lookupId;\n    try {\n        if (!gs.hasRole('nlu_admin')) throw new Error(gs.getMessage(\"User doesn't have access to perform this operation\"));\n        if (lookupId) {\n            var result = new NLULookupTrainer(lookupId).trainLookup();\n\n            if (result.status === 'success') {\n                response.setStatus(200);\n            } else {\n                response.setStatus(400);\n            }\n            response.setContentType('application/json');\n            return result;\n        } else {\n            return new sn_ws_err.BadRequestError('No input data provided');\n        }\n    } catch (e) {\n        return e;\n    }\n\n})(request, response);","sys_updated_on":"2022-03-17 03:03:34","enforce_acl":"ccd8a1e7772000105d7b3882a910617c","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/e4cda81e7333230021a044764df6a777","value":"e4cda81e7333230021a044764df6a777"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"5c1d25f1731710103bb6a4fa54f6a76c","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/v1/nlu/trainLookup/{lookupId}","sys_created_on":"2020-09-17 15:03:48","sys_name":"trainLookup","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/55672c9a7333230021a044764df6a706","value":"55672c9a7333230021a044764df6a706"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"8","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_ws_operation_5c1d25f1731710103bb6a4fa54f6a76c","consumes_customized":"false","name":"trainLookup","produces":"application/json,application/xml,text/xml","relative_path":"/trainLookup/{lookupId}","produces_customized":"false","default_operation_uri":"/api/now/nlu/trainLookup/{lookupId}","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // a deviceType is expected but if it does not exist, assume this is from mweb\n    var reqJson = JSON.parse(request.body.dataString);\n    if (!reqJson[\"data\"][\"deviceType\"] && reqJson[\"source\"] != \"uib\") {\n        reqJson[\"data\"][\"deviceType\"] = \"mweb\";\n    }\n    var cookies = request.getHeader('Cookie');\n    var foundGuestID = \"\";   \n\tif (cookies == null) {\n\t\tvar guestHeader = request.getHeader('guest_session_identifier');\n\t\tif (guestHeader != null) {\n\t\t\tfoundGuestID = guestHeader.toString();\n\t\t}\n    } else {\n        var splitCookie = cookies.split('guest_session_identifier=');\n        if (splitCookie.length > 1) {\n            // split out just the ID\n            var guestIdWithMore = splitCookie[splitCookie.length - 1].split(';');\n            foundGuestID = guestIdWithMore[0];\n        }\n    }\n    var ambChannel = request.getHeader(\"amb-channel\");\n    var queued = sn_cs.VASystemObject.authorizeAndEnqueueMessage(ambChannel, JSON.stringify(reqJson), foundGuestID);\n    if (queued === \"UNAUTHORIZED\") {\n        response.setStatus(403);\n    } else if (queued === \"ERROR\") {\n        response.setStatus(400);\n    } else if (queued === \"INVALID\") {\n        response.setStatus(409);\n    }\n\n\n})(request, response);","sys_updated_on":"2024-05-04 00:00:49","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a022ca843bc300106501cea234efc441","value":"a022ca843bc300106501cea234efc441"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"5c320e843bc300106501cea234efc4f1","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/v1/cs_message","sys_created_on":"2020-02-13 23:36:47","sys_name":"Inbound Messaging","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/9ce14a843bc300106501cea234efc4fd","value":"9ce14a843bc300106501cea234efc4fd"},"consumes":"application/json","requires_snc_internal_role":"true","requires_authentication":"false","sys_mod_count":"70","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_ws_operation_5c320e843bc300106501cea234efc4f1","consumes_customized":"false","name":"Inbound Messaging","produces":"application/json","relative_path":"/","produces_customized":"false","default_operation_uri":"/api/now/cs_message","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar requestBody = request.body.nextEntry();\n\treturn new SoCStyleRule().serviceUpdateStyleRule(requestBody.chgSocDefId, requestBody.style, requestBody.records);\n})(request, response);","sys_updated_on":"2018-03-07 13:11:59","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"5c3c8b9bc3401300b6dcdfdc64d3ae4f","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_chg_soc/soc/updatestylerule","sys_created_on":"2018-02-08 15:37:23","sys_name":"updateStyleRule","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3115d45f67020300b410afa00585ef87","value":"3115d45f67020300b410afa00585ef87"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_update_name":"sys_ws_operation_5c3c8b9bc3401300b6dcdfdc64d3ae4f","consumes_customized":"false","name":"updateStyleRule","produces":"application/json,application/xml,text/xml","relative_path":"/updatestylerule","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var controller = new sn_tourbuilder.GTAutoLaunchController();\n\tvar name = request.queryParams.name || '';\n\tvar sort = request.queryParams.order || '';\n\tvar data = controller.searchPagesByName({name: name, sort: sort});\n\tif(data && data.length) {\n\t\tresponse.setBody(data);\n\t\tresponse.setStatus(200);\n\t} else {\n\t\tresponse.setStatus(404);\n\t}\n\n})(request, response);","sys_updated_on":"2018-07-27 08:01:01","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/3268f36173eb13007077edcc5ef6a738","value":"3268f36173eb13007077edcc5ef6a738"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"5cd69af187333200b38c0f4c59cb0b7c","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/guided_tours/page","sys_created_on":"2017-07-07 13:28:05","sys_name":"Standard UI -  Count of tours per page","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/2405194d87e73200b38c0f4c59cb0b6f","value":"2405194d87e73200b38c0f4c59cb0b6f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"9","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_update_name":"sys_ws_operation_5cd69af187333200b38c0f4c59cb0b7c","consumes_customized":"false","name":"Standard UI -  Count of tours per page","produces":"application/json,application/xml,text/xml","relative_path":"/page","produces_customized":"false","default_operation_uri":"/api/now/guided_tours/page","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    response.setContentType('application/json');\n\tvar result = [];\n\t\n\tvar grs = new GlideRecordSecure(\"svc_by_tags_service_families\");\n\tgrs.query();\n\t\n\twhile(grs.hasNext()){\n\t\tgrs.next();\n\t\tresult.push({sys_id: grs.getValue(\"sys_id\"), name: grs.getValue(\"name\")});\n\t}\n\n\tresponse.setStatus(200);\n\tresponse.setBody(result);\n\t\n})(request, response);","sys_updated_on":"2020-03-24 21:43:52","enforce_acl":"edc5e02473230010ee4dd3c72bf6a7ea","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"5d0bf75c73630010ee4dd3c72bf6a75f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/csdm_app_service/tag_based_service_families","sys_created_on":"2020-03-10 23:33:25","sys_name":"Get Tag Based Service Families","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/60c171d973c30010ee4dd3c72bf6a716","value":"60c171d973c30010ee4dd3c72bf6a716"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2f8d67ff04352210559073c06a02f74f","value":"2f8d67ff04352210559073c06a02f74f"},"sys_update_name":"sys_ws_operation_5d0bf75c73630010ee4dd3c72bf6a75f","consumes_customized":"false","name":"Get Tag Based Service Families","produces":"application/json,application/xml,text/xml","relative_path":"/tag_based_service_families","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        var guidedSetupSubmitSurveyHelper = new sn_ci_gs_content.GuidedSetupSubmitSurvey();\n        return guidedSetupSubmitSurveyHelper.getSelectedSurveyOptions();\n    } catch (e) {\n        gs.error('Error occured while getting last selected survey options' + e);\n    }\n\n\n})(request, response);","sys_updated_on":"2023-06-05 12:26:47","enforce_acl":"15ecc6e9c33a51104b8e88c7c840dd2b","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"5d33e746533b1010af5addeeff7b1247","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_ci_gs_content/guided_setup_config_api/getLastSelectedSurveyOptions","sys_created_on":"2020-10-13 14:46:17","sys_name":"Get Last Selected Survey Options ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/30f13c8d53521010af5addeeff7b121d","value":"30f13c8d53521010af5addeeff7b121d"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/cac9a47253221010af5addeeff7b122a","value":"cac9a47253221010af5addeeff7b122a"},"consumes":"application/json","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/30f13c8d53521010af5addeeff7b121d","value":"30f13c8d53521010af5addeeff7b121d"},"sys_update_name":"sys_ws_operation_5d33e746533b1010af5addeeff7b1247","consumes_customized":"false","name":"Get Last Selected Survey Options ","produces":"application/json","relative_path":"/getLastSelectedSurveyOptions","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var payload = request.body.data;\n    if (JSUtil.isEmpty(payload)) {\n        response.setStatus(500);\n        return;\n    }\n    var userTable = payload.user_table;\n    var userDocument = payload.user_document;\n    var sendToValue = payload.send_to_value;\n    var channelId = payload.channel_id;\n\n    var extensionPoints = new GlideScriptedExtensionPoint().getExtensions('global.ChannelSendToValidation');\n    var validationResult = null;\n    var foundExtensionPointImpl = false;\n    for (var i = 0; i < extensionPoints.length; i++) {\n        if (extensionPoints[i].isValid(channelId)) {\n            var point = extensionPoints[i];\n            validationResult = point.channelSendToValidation(userTable, userDocument, sendToValue);\n            foundExtensionPointImpl = true;\n            break;\n        }\n    }\n\n    // if no extension point impl found return true;\n    if (!foundExtensionPointImpl) {\n        return {\n            isValid: true,\n            formattedValue: sendToValue\n        };\n    }\n\n    response.setBody(validationResult);\n    response.setStatus(200);\n\n})(request, response);","sys_updated_on":"2022-10-18 09:49:40","enforce_acl":"70cffc8db7212010ffe5ef54ce11a9e2","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"5d4f8b1a536b101085ecddeeff7b1273","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/agent_initiated_message/channel_specific_validation","sys_created_on":"2020-10-01 21:43:46","sys_name":"Channel Specific Validation","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/f51bc3875375101085ecddeeff7b1204","value":"f51bc3875375101085ecddeeff7b1204"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9cc37b3704b52210559073c06a02f781","value":"9cc37b3704b52210559073c06a02f781"},"sys_update_name":"sys_ws_operation_5d4f8b1a536b101085ecddeeff7b1273","consumes_customized":"false","name":"Channel Specific Validation","produces":"application/json,application/xml,text/xml","relative_path":"/channel_specific_validation","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Get choice list options for \"operation\" field for sys_sg_ui_rule_action field.","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\ttry {\n\t\treturn new UIRuleActionFieldsService(request.queryParams).getOperationOptions();\n\t} catch (error) {\n\t\tnew ErrorHandler().throwSnWsError(error);\n\t}\n\n})(request, response);","sys_updated_on":"2021-11-09 20:48:13","enforce_acl":"4bbe81b4c703201066492f3bf4c260e6","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"5d5e5798fc373010fa9b4ef32b1f5f1b","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_mab_api/mab_api/uiRuleActionFields/operation","sys_created_on":"2021-11-09 20:19:48","sys_name":"UI Rule Action Options - Operation","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3512bd93c7c12010100f2f3bf4c26049","value":"3512bd93c7c12010100f2f3bf4c26049"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_update_name":"sys_ws_operation_5d5e5798fc373010fa9b4ef32b1f5f1b","consumes_customized":"false","name":"UI Rule Action Options - Operation","produces":"application/json,application/xml,text/xml","relative_path":"/uiRuleActionFields/operation","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"Adds new baseline to history timeline of given service","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n/**\nParams:\n\tbsId (sys_id)\n\tbaselineName\n\tbaselineComment (optional)\n\ttimestamp (number ms)\n*/\n    var saOpsWrapper = new SaOperationsWrapper(SNC.SaActionsHandler);\n\tsaOpsWrapper.process(request,response, \"addBaseline\");\n\n})(request, response);","sys_updated_on":"2018-03-05 06:57:21","enforce_acl":"a0ae0157c30303008ebd1962c1d3aeb1","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"5ded26537f520300995cbaf8befa9161","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/it_service/addBaseline","sys_created_on":"2017-11-13 13:36:27","sys_name":"AddBaseline - Internal API","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3418e25f7f120300995cbaf8befa912e","value":"3418e25f7f120300995cbaf8befa912e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_5ded26537f520300995cbaf8befa9161","consumes_customized":"false","name":"AddBaseline - Internal API","produces":"text/plain","relative_path":"/addBaseline","produces_customized":"true","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar sanitize = new ServiceMappingSanitizeIdAPI();\n\tvar serviceId = sanitize.sanitizeIdString(request.body.data.serviceId);\n\tvar processStatus = request.body.data.processStatus;\n\n\tif(serviceId){\n\t\tvar gr = new GlideRecord('service_process_task');\n\t\tgr.addQuery('business_service', serviceId);\n\t\tgr.addQuery('assigned_to', gs.getUserID());\n\t\tgr.addQuery('type', 0);\n\t\tgr.query();\n\t\twhile(gr.next()){\n\t\t   gr.state=3;\n\t\t   gr.update();\n\t\t}\n\n\t\tvar serviceGR = new GlideRecord('cmdb_ci_service_discovered');\n\t\tserviceGR.addQuery('sys_id', serviceId);\n\t\tserviceGR.query();\n\t\twhile(serviceGR.next()){\n\t\t   serviceGR.process_status=processStatus;\n\t\t   serviceGR.update();\n\t\t}\n\t}\n\n})(request, response);","sys_updated_on":"2023-12-06 08:50:22","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"5e15c09167500300e0162dbd2685efc1","http_method":"PUT","sys_updated_by":"admin","operation_uri":"/api/now/sa_business_service/submitQuestionnaire","sys_created_on":"2017-07-30 10:04:45","sys_name":"Submit Questionnaire","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"ola.shaked","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/f8f0abda9f0232004db75ecec32e7027","value":"f8f0abda9f0232004db75ecec32e7027"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_5e15c09167500300e0162dbd2685efc1","consumes_customized":"false","name":"Submit Questionnaire","produces":"application/json,application/xml,text/xml","relative_path":"/submitQuestionnaire","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var pathparams = request.pathParams;\n    var exportSysId = pathparams.export_id;\n    var grSysAutoPar = new GlideRecordSecure('sysauto_par');\n    var grSysAutoReport = new GlideRecordSecure('sysauto_report');\n    var res = {\n        notification: {},\n        scheduling: {},\n        visualizations: [],\n        dashboards: [],\n        metadata: {}\n    };\n    if (grSysAutoPar.get(exportSysId)) {\n        buildScheduling(grSysAutoPar, res);\n        buildNotification(grSysAutoPar, res);\n        buildData(grSysAutoPar, res);\n        res.name = grSysAutoPar.name.toString();\n        res.metadata = {\n            table: 'sysauto_par'\n        };\n        res.flags = {\n            canDelete: grSysAutoPar.canDelete(),\n            canWrite: grSysAutoPar.canWrite(),\n            canExecute: !grSysAutoPar.getBooleanAttribute('disable_execute_now')\n        };\n        return res;\n    } else if (grSysAutoReport.get(exportSysId)) {\n        res.metadata = {\n            table: 'sysauto_report'\n        };\n        return res;\n    } else {\n        var permError = new sn_ws_err.ServiceError();\n        permError.setStatus(403);\n        permError.setMessage('You do not have access to read this job.');\n        permError.setDetail('You do not have permission to read this scheduled export job');\n        response.setError(permError);\n    }\n})(request, response);\n\nfunction buildData(grSysAutoPar, res) {\n    var buildMap = {\n        'par_export_dashboard': buildDashboards,\n        'par_export_visualization': buildVisualizations\n    };\n\n    var parExportGr = new GlideRecordSecure(\"par_export\");\n    parExportGr.addQuery(\"sys_id\", \"IN\", grSysAutoPar.to_export);\n    parExportGr.query();\n    while (parExportGr.next()) {\n        var build = buildMap[parExportGr.sys_class_name];\n        if (build)\n            build(parExportGr.sys_id.toString(), res);\n    }\n    return res;\n}\n\nfunction buildVisualizations(sysId, res) {\n    var grVisualization = new GlideRecordSecure('par_export_visualization');\n    if (grVisualization.get(sysId)) {\n        var parViz = grVisualization.visualizations.toString().split(',');\n        var grParVisualization = new GlideRecordSecure('par_visualization');\n        if (grParVisualization.get(parViz[0])) {\n            var viz = {\n                orientation: grVisualization.orientation.toString(),\n                fileType: grVisualization.file_type.toString(),\n                size: grVisualization.page_size.toString(),\n                visualization: {\n                    label: grParVisualization.name.toString(),\n                    id: parViz[0],\n                    vizType: grParVisualization.macroponent.toString()\n                },\n                smartSize: grVisualization.smart_size.getDisplayValue() == 'true',\n                omitIfEmpty: grVisualization.omit_if_empty.getDisplayValue() == 'true',\n                sysId: grVisualization.sys_id.toString()\n            };\n            res.visualizations.push(viz);\n        } else {\n            var viz = {\n                orientation: grVisualization.orientation.toString(),\n                fileType: grVisualization.file_type.toString(),\n                size: grVisualization.page_size.toString(),\n                visualization: {\n                    label: parViz[0],\n                    id: parViz[0],\n                    vizType: '',\n                    message: 'failed to get visualization with id ' + parViz[0]\n                },\n                smartSize: grVisualization.smart_size.getDisplayValue() == 'true',\n                omitIfEmpty: grVisualization.omit_if_empty.getDisplayValue() == 'true',\n                sysId: grVisualization.sys_id.toString()\n            };\n            res.visualizations.push(viz);\n\n        }\n    }\n\n    return res;\n}\n\nfunction buildDashboards(sysID, res) {\n    var grDashboard = new GlideRecordSecure(\"par_export_dashboard\")\n    if (grDashboard.get(sysID)) {\n        var parDashboardGr = new GlideRecordSecure('par_dashboard');\n        var dashboardId = grDashboard.getValue(\"dashboard\");\n        if (parDashboardGr.get(dashboardId)) {\n            var dashboard = {\n                orientation: grDashboard.orientation.toString(),\n                fileType: grDashboard.file_type.toString(),\n                size: grDashboard.page_size.toString(),\n                canvasList: grDashboard.dashboard_canvas.toString().split(\",\"),\n                dashboard: {\n                    label: parDashboardGr.getValue('name'),\n                    id: dashboardId\n                },\n                omitIfEmpty: grDashboard.omit_if_empty.getDisplayValue() == 'true',\n                sysId: grDashboard.sys_id.toString()\n            };\n            res.dashboards.push(dashboard);\n        } else {\n            var dashboard = {\n                orientation: grDashboard.orientation.toString(),\n                fileType: grDashboard.file_type.toString(),\n                size: grDashboard.page_size.toString(),\n                canvasList: grDashboard.dashboard_canvas.toString().split(\",\"),\n                dashboard: {\n                    label: dashboardId,\n                    id: dashboardId,\n                    message: 'failed to get dashboard with id ' + dashboardId\n                },\n                omitIfEmpty: grDashboard.omit_if_empty.getDisplayValue() == 'true',\n                sysId: grDashboard.sys_id.toString()\n            };\n            res.dashboards.push(dashboard);\n        }\n    }\n    return res;\n}\n\nfunction buildNotification(grSysAutoPar, res) {\n    res.notification.zip = grSysAutoPar.zip_output.toString() == 'true';\n    res.notification.recipients = grSysAutoPar.notification.recipients.toString();\n\tvar grNotifEmailRecipients = new GlideRecord(\"par_notification_email_recipients\");\n\tif (grNotifEmailRecipients.get(\"par_notification_email\", grSysAutoPar.notification)) {\n\t\tres.notification.users = mapReferences(grNotifEmailRecipients.users.toString(), 'sys_user');\n\t\tres.notification.groups = mapReferences(grNotifEmailRecipients.groups.toString(), 'sys_user_group');\n\t}\n    res.notification.subject = grSysAutoPar.notification.subject.toString();\n    res.notification.message = grSysAutoPar.notification.message.toString();\n\n    return res;\n}\n\nfunction buildScheduling(grSysAutoPar, res) {\n    res.scheduling.active = grSysAutoPar.active.getDisplayValue() == 'true';\n    res.scheduling.conditionCode = grSysAutoPar.condition.toString();\n    res.scheduling.condition = grSysAutoPar.conditional.getDisplayValue() == 'true';\n    res.scheduling.run = grSysAutoPar.run_type.toString();\n\n    res.scheduling.schedule = {};\n    res.scheduling.schedule.time = grSysAutoPar.run_time.getDisplayValue();\n    res.scheduling.schedule.dayOfTheMonth = grSysAutoPar.run_dayofmonth.toString();\n    res.scheduling.schedule.dayOfTheWeek = grSysAutoPar.run_dayofweek.toString();\n    res.scheduling.schedule.periodDurationAsDate = grSysAutoPar.run_period.toString();\n    if (grSysAutoPar.business_calendar)\n        res.scheduling.schedule.businessCalendar = grSysAutoPar.business_calendar.toString();\n\n    res.scheduling.schedule.startOn = grSysAutoPar.run_start.toString();\n\n    return res;\n}\n\nfunction mapReferences(sysIds, table) {\n    var idArr = sysIds.split(',');\n    var gr = new GlideRecordSecure(table);\n    var res = [];\n    for (var i = 0; i < idArr.length; i++) {\n        if (gr.get(idArr[i])) {\n            res.push({\n                id: idArr[i],\n                label: gr.name.toString()\n            });\n        }\n    }\n    return res;\n}","sys_updated_on":"2024-10-08 10:34:19","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"5e597b38c3f21110c9f0985cb140dd9c","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/par_scheduled_export/fetch/{export_id}","sys_created_on":"2022-10-25 10:51:59","sys_name":"Get Scheduled Job","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/9509c0e54e289e08608566160eb606cb","value":"9509c0e54e289e08608566160eb606cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/c3faf7c8536a11107c19ddeeff7b124d","value":"c3faf7c8536a11107c19ddeeff7b124d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"63","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9509c0e54e289e08608566160eb606cb","value":"9509c0e54e289e08608566160eb606cb"},"sys_update_name":"sys_ws_operation_5e597b38c3f21110c9f0985cb140dd9c","consumes_customized":"false","name":"Get Scheduled Job","produces":"application/json,application/xml,text/xml","relative_path":"/fetch/{export_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var options = PreferredTablesUtil.assign({},\n        request.pathParams,\n        PreferredTablesUtil.normalizeQueryParams(request.queryParams)\n    );\n    var apiResponse = new TableListAPI(options).build();\n\n    response.setBody(apiResponse);\n})(request, response);","sys_updated_on":"2022-11-02 10:23:15","enforce_acl":"38da542b77f6111031e3b3c64b5a99d6","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"5e5e2d1e77a2511031e3b3c64b5a99f3","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_prfrd_tables/tables/list","sys_created_on":"2022-10-17 06:21:25","sys_name":"Get Preferred Table List","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/de7c09b877e2111031e3b3c64b5a994a","value":"de7c09b877e2111031e3b3c64b5a994a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b14d651e77a2511031e3b3c64b5a99f8","value":"b14d651e77a2511031e3b3c64b5a99f8"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/de7c09b877e2111031e3b3c64b5a994a","value":"de7c09b877e2111031e3b3c64b5a994a"},"sys_update_name":"sys_ws_operation_5e5e2d1e77a2511031e3b3c64b5a99f3","consumes_customized":"false","name":"Get Preferred Table List","produces":"application/json,application/xml,text/xml","relative_path":"/list","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // implement resource here\n    var payload = request.body.data;\n    var res_obj = {\n        status: 'success'\n    };\n    if (!payload) {\n\t\tres_obj['status'] = 'error';\n        res_obj['message'] = \"Payload/tableName is missing in API call.\";\n    } else {\n        res_obj = new PDFtoTableOperationHelper().updateTableMetaData(payload);\n    }\n\n    response.setBody(res_obj);\n\n})(request, response);","sys_updated_on":"2022-08-17 08:11:36","enforce_acl":"f7e62b5f97e415108843f73ef053af30","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"5e6e33e297111110fdb77a200153af11","http_method":"POST","sys_updated_by":"rahul.verma@snc","operation_uri":"/api/sn_pdf_table_bldr/app/updateMetadata","sys_created_on":"2022-08-17 08:11:36","sys_name":"Update Table Metadata","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/8e417ee064982b70a7bd187e6edb95f1","value":"8e417ee064982b70a7bd187e6edb95f1"},"sys_created_by":"rahul.verma@snc","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/16652f5b97e415108843f73ef053af22","value":"16652f5b97e415108843f73ef053af22"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8e417ee064982b70a7bd187e6edb95f1","value":"8e417ee064982b70a7bd187e6edb95f1"},"sys_update_name":"sys_ws_operation_5e6e33e297111110fdb77a200153af11","consumes_customized":"false","name":"Update Table Metadata","produces":"application/json,application/xml,text/xml","relative_path":"/updateMetadata","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    response.setContentType('application/json');\n\tvar result = {};\n\tvar helper = new CSDMAppServiceHelper();\n\tvar requestBody = request.body;\n\tvar requestData = requestBody.data;\n\n\tvar validationResult = '';\n\tvalidationResult = helper.alreadyExists(requestData.basic_details);\n\n\tif(JSUtil.notNil(validationResult)) {\n\t\tresponse.setStatus(200);\n\t\tresult.already_exists = true;\n\t\tresult.service_id = validationResult.existingService;\n\t\tresult.message = validationResult.error;\n\t\tresponse.setBody(result);\n\t\treturn;\n\t}\n\n\tresponse.setStatus(200);\n\tresult.already_exists = false;\n\tresponse.setBody(result);\n\n})(request, response);","sys_updated_on":"2020-04-10 00:23:12","enforce_acl":"2006673c53770010ee0dddeeff7b127d","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"5e7947625383001061b7ddeeff7b122b","http_method":"PUT","sys_updated_by":"admin","operation_uri":"/api/now/csdm_app_service/validate_app_service","sys_created_on":"2020-02-21 23:24:00","sys_name":"Validate Application Service","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/60c171d973c30010ee4dd3c72bf6a716","value":"60c171d973c30010ee4dd3c72bf6a716"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2f8d67ff04352210559073c06a02f74f","value":"2f8d67ff04352210559073c06a02f74f"},"sys_update_name":"sys_ws_operation_5e7947625383001061b7ddeeff7b122b","consumes_customized":"false","name":"Validate Application Service","produces":"application/json,application/xml,text/xml","relative_path":"/validate_app_service","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Gets data broker definitions by a list of sysIds","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    const apiHelper = new APIHelper(request, response);\n    apiHelper.execute(function() {\n        const dbSysIds = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.SYS_IDS, null);\n        if (dbSysIds) {\n            const {\n                dataBrokerDefinitions,\n                eventDefinitions\n            } = new DataBrokerDefinitions().getDatabrokerDefinitions(dbSysIds);\n            apiHelper.getResponse({\n                dataBrokerDefinitions,\n                eventDefinitions\n            }, BuilderToolkitConstants.ERRORS.NO_DATABROKER_DEFINITIONS);\n        } else {\n            const\n                dataBrokerDefinitions = new DataBrokerDefinitions(null, ['name', 'description', 'sys_scope', 'private']).getBasicDataBrokerDefinitions();\n            apiHelper.getResponse({\n                dataBrokerDefinitions,\n                eventDefinitions: []\n            }, BuilderToolkitConstants.ERRORS.NO_DATABROKER_DEFINITIONS);\n        }\n    });\n\n})(request, response);","sys_updated_on":"2023-05-26 18:20:40","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"5e800e46859f1110f87761f8dffaa271","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/data_brokers","sys_created_on":"2022-11-22 19:48:03","sys_name":"Data Broker Definitions","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"15","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_5e800e46859f1110f87761f8dffaa271","consumes_customized":"false","name":"Data Broker Definitions","produces":"application/json,application/xml,text/xml","relative_path":"/data_brokers","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\ttry {\n\t\treturn (new CategoryService()).getCategoryRecords(request.queryParams);\t\t\n\t} catch (error) {\n\t\tnew ErrorHandler().throwSnWsError(error);\n\t}\n\n})(request, response);","sys_updated_on":"2021-03-19 23:49:44","enforce_acl":"4bbe81b4c703201066492f3bf4c260e6","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"5ef3f1c10f222010e70a4abec4767e24","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_mab_api/mab_api/category","sys_created_on":"2021-02-23 21:08:41","sys_name":"Get Category Records","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3512bd93c7c12010100f2f3bf4c26049","value":"3512bd93c7c12010100f2f3bf4c26049"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"37","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_update_name":"sys_ws_operation_5ef3f1c10f222010e70a4abec4767e24","consumes_customized":"false","name":"Get Category Records","produces":"application/json,application/xml,text/xml","relative_path":"/category","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var queryParams = request.queryParams;\n    var data = request.body.data;\n    var decisionTableId = queryParams.decisionTableId;\n    var inputs = data.testInputs;\n    var answerElementNames = data.answerElementNames;\n    var includeDelta = data.includeDelta;\n    var isFirstMatch = data.isFirstMatch;\n    var isMultiResultTable = data.isMultiResultTable;\n\n    if (!decisionTableId) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(500)\n            .setMessage('decisionTableId query parameter is required.');\n    }\n\n    var builderApi = new sn_dt.DecisionTableBuilderAPI();\n    var resultResponse = builderApi.evaluateDecisionTable(decisionTableId, inputs, includeDelta, isFirstMatch);\n\n    var results = {};\n    if (resultResponse) {\n        for (var decisionId in resultResponse) {\n            if (isMultiResultTable) {\n                var resultElements = resultResponse[decisionId].result_elements;\n                var resultElementValues = [];\n                for (var j = 0; j < answerElementNames.length; j++) {\n                    var element = answerElementNames[j];\n                    var resultValue = resultElements[element];\n                    var resultElementValue = {\n                        name: element,\n                        value: resultValue == undefined ? '' : resultValue.toString(),\n                        displayValue: resultValue == undefined ? '' : resultValue.getDisplayValue()\n                    };\n                    resultElementValues.push(resultElementValue);\n                }\n                results[decisionId] = resultElementValues;\n\n            } else {\n                var resultRecord = resultResponse[decisionId];\n                var result = [{\n                    value: resultRecord.getUniqueValue(),\n                    displayValue: resultRecord.getDisplayValue()\n                }];\n                results[decisionId] = result;\n            }\n\n        }\n    }\n\n    response.setBody(results);\n    response.setStatus(200);\n\n})(request, response);","sys_updated_on":"2023-05-29 04:26:38","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"5f04b8e7c3322110d4437f9ec840dd78","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_decision_table/generic/evaluate_decision_table","sys_created_on":"2023-05-20 05:44:11","sys_name":"Evaluate Decison Table","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/13aa96a16bcefa78b16cc99ed9e4f1f4","value":"13aa96a16bcefa78b16cc99ed9e4f1f4"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/d5498f77c3633010d4437f9ec840dd67","value":"d5498f77c3633010d4437f9ec840dd67"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/13aa96a16bcefa78b16cc99ed9e4f1f4","value":"13aa96a16bcefa78b16cc99ed9e4f1f4"},"sys_update_name":"sys_ws_operation_5f04b8e7c3322110d4437f9ec840dd78","consumes_customized":"false","name":"Evaluate Decison Table","produces":"application/json,application/xml,text/xml","relative_path":"/evaluate_decision_table","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n   var params;\n   \n\ttry{\n\t\tparams = request.body.data;\n\t\tgs.info(\"Training Request API request body params = \" +JSON.stringify(params));\n\t}catch(e){\n\t\tgs.error(\"Error occured \" + e.getMessage());\n\t\tthrow sn_ws_err.BadRequestError(\"malformed request\");\n\t}\n\t\n\t//Check if the user provided solution sys_id exists.\n\tvar solutionDefinition = new GlideRecord(\"ml_capability_definition_base\");\n\tsolutionDefinition.addQuery(\"sys_id\", params.sys_id);\n\tsolutionDefinition.addQuery(\"solution_label\", params.solution_label);\n\tsolutionDefinition.query();\n\tif (!solutionDefinition.next()){\n\t\t\tthrow sn_ws_err.BadRequestError(\"Sys_id or Solution Label does not exist. Please provide a valid sys_id & solution label.\");\n\t}\n\t\n\ttry{\n\t\tvar patt = /^(run_once|every_(30|60|90|120)_days)$/i;\n\t\tvar train_freq = params.training_frequency;\n\t\tvar result = train_freq.match(patt);\n\t}catch(e){\n\t\tgs.error(\"Error occured \" + e.getMessage());\n\t\tthrow sn_ws_err.ServiceError(\"Error parsing training frequency\");\n\t}\n\t\n\tif(result == null){\n\t\tgs.warning(\"Not a valid training frequency\");\n\t\tthrow sn_ws_err.BadRequestError(\"Please provide a valid training frequency. It should be one of run_once OR every_(N)_days\");\n\t}\n\t\n\ttry{\n\t\tnew global.MLRequestSchedule().deleteExistingCapabilityTrainingRequestSchedule(params.sys_id);\n\t\tnew global.MLRequestSchedule().insertCapabilityTrainingRequestSchedule(params.sys_id, params.solution_label, train_freq);\n\t\treturn {\n\t\t\t\"message\":\"Triggered training request.\",\n\t\t};\n\t\t\n\t} catch(e){\n\t\tgs.error(\"Error occured \" + e.getMessage());\n\t\tthrow sn_ws_err.ServiceError(\"Error creating a training request.\");\n\t}\n\t\n\n})(request, response);","sys_updated_on":"2019-11-01 06:57:14","enforce_acl":"5a3bd3757351230080b29ca9faf6a7f2","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"5f1b6db3b7603300ccff9f28ee11a978","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/agent_intelligence/solution_create_training_request","sys_created_on":"2019-04-08 10:47:06","sys_name":"createTrainingRequest","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3d4fe0bf0b323200c7ecc71437673a4e","value":"3d4fe0bf0b323200c7ecc71437673a4e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"18","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_ws_operation_5f1b6db3b7603300ccff9f28ee11a978","consumes_customized":"false","name":"createTrainingRequest","produces":"application/json,application/xml,text/xml","relative_path":"/solution_create_training_request","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        var gr = new GlideRecord('sys_app');\n        gr.addActiveQuery();\n        gr.query();\n\n        var apps = [];\n        while (gr.next()) {\n            var recordData = {};\n            for (var prop in gr) {\n                recordData[prop] = gr.getValue(prop);\n            }\n            apps.push(recordData);\n        }\n\n        response.setBody(apps);\n        response.setStatus(200);\n        return response;\n    } catch (e) {\n        var errorMessage = '[IDE] Failed to retrieve Fluent applications list';\n        gs.error(errorMessage, e);\n        response.setStatus(500);\n        return response.setError(e);\n    }\n})(request, response);","sys_updated_on":"2024-09-05 22:59:23","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"5f50695843e4121068e8a7ec6bb8f20e","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_glider/applications/all","sys_created_on":"2024-09-05 22:50:03","sys_name":"Get All Applications","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/fd254d9443a161100967247e6bb8f200","value":"fd254d9443a161100967247e6bb8f200"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/0400215843e4121068e8a7ec6bb8f257","value":"0400215843e4121068e8a7ec6bb8f257"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fd254d9443a161100967247e6bb8f200","value":"fd254d9443a161100967247e6bb8f200"},"sys_update_name":"sys_ws_operation_5f50695843e4121068e8a7ec6bb8f20e","consumes_customized":"false","name":"Get All Applications","produces":"application/json,application/xml,text/xml","relative_path":"/all","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","sys_updated_on":"2017-03-09 23:00:04","enforce_acl":"b5ca561bb3113200715ca943c6a8dca8","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"5f5f5ec2b3303200715ca943c6a8dcbf","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_bm_client/benchmark_client_api/optoutfeedbackoptions","sys_created_on":"2017-02-09 05:35:23","sys_name":"optoutfeedbackoptions","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/986214c16710320097eeff5557415a89","value":"986214c16710320097eeff5557415a89"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_update_name":"sys_ws_operation_5f5f5ec2b3303200715ca943c6a8dcbf","consumes_customized":"false","name":"optoutfeedback","produces":"application/json,application/xml,text/xml","relative_path":"/optoutfeedbackoptions","produces_customized":"false","default_operation_uri":"","sys_policy":"protected"},{"short_description":"API to get cluster treemap data for a specified solution id","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var solution_id = decodeURI(request.pathParams.solution_id);\n\tif (solution_id) {\n\t\tvar queryParams = request.queryParams;\n\t\tvar result = [];\n\t\treturn new ML_UI().getClusterTreeMapData(solution_id, queryParams);\n\t} else {\n\t\treturn sn_ws_err.BadRequestError(\"Solution id not present\");\n\t}\n\n})(request, response);","sys_updated_on":"2022-02-10 08:09:16","enforce_acl":"aa527b0a53210110b6acddeeff7b12f2","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/456b8f4553103300d1dcddeeff7b12ac","value":"456b8f4553103300d1dcddeeff7b12ac"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"5f7ebf61b7634010d1dc8b91ee11a921","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_ml_ui/v1/ml_ui/getClusterTreeMapData/{solution_id}","sys_created_on":"2020-03-14 21:03:16","sys_name":"getClusterTreeMapData","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/21f30bcdb7d03300d1dcf8b8ee11a9eb","value":"21f30bcdb7d03300d1dcf8b8ee11a9eb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/c6facb4553103300d1dcddeeff7b1287","value":"c6facb4553103300d1dcddeeff7b1287"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/21f30bcdb7d03300d1dcf8b8ee11a9eb","value":"21f30bcdb7d03300d1dcf8b8ee11a9eb"},"sys_update_name":"sys_ws_operation_5f7ebf61b7634010d1dc8b91ee11a921","consumes_customized":"false","name":"getClusterTreeMapData","produces":"application/json,application/xml,text/xml","relative_path":"/getClusterTreeMapData/{solution_id}","produces_customized":"false","default_operation_uri":"/api/sn_ml_ui/ml_ui/getClusterTreeMapData/{solution_id}","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar sysId = request.pathParams.sys_id;\n\tvar tableName = (request.queryParams.table_name) ? request.queryParams.table_name : \"change_request\";\n\tvar range = {};\n\tvar msg = \"\";\n\tvar gr = new GlideRecordSecure(tableName);\n\tif (gr.get(sysId)) {\n\t\tvar startDateElem = gr.getElement(\"start_date\");\n\t\tvar endDateElem = gr.getElement(\"end_date\");\n\t\tvar canReadStartDate = (startDateElem) ? startDateElem.canRead() : false;\n\t\tvar canReadEndDate = (endDateElem) ? endDateElem.canRead() : false;\n\t\tif (!canReadStartDate || !canReadEndDate) {\n\t\t\treturn {\n\t\t\t\tresCode: 401,\n\t\t\t\tdisplay_message: gs.getMessage(\"No permission to read Planned Start Date and/or Planned End Date fields\")\n\t\t\t};\n\t\t}\n\t\tvar scheduleWindow = gs.getProperty(\"change.conflict.next_available.schedule_window\", \"90\");\n\t\tvar intScheduleWindow = parseInt(scheduleWindow, 10);\n\t\t// 7 days is the smallest window of time used to search for the next available time\n\t\tif (intScheduleWindow < 7) {\n\t\t\tintScheduleWindow = 7;\n\t\t\tscheduleWindow = \"7\";\n\t\t// 1000 days is the largest window of time used to search for the next available time\n\t\t} else if (intScheduleWindow > 1000) {\n\t\t\tintScheduleWindow = 1000;\n\t\t\tscheduleWindow = \"1000\";\n\t\t}\n\t\tvar gdtStartDate = new GlideDateTime();\n\t\tvar gdtEndDate = new GlideDateTime();\n\t\tif (request.body.hasNext()) {\n\t\t\trange = request.body.nextEntry();\n\t\t\tif (range.startDate && range.endDate) {\n\t\t\t\tgdtStartDate.setValue(range.startDate);\n\t\t\t\trange.startDate = gdtStartDate;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tgdtStartDate.setValue(gr.getValue(\"start_date\"));\n\t\t\t\trange.startDate = new GlideDateTime(gs.beginningOfWeek(gdtStartDate));\n\t\t\t}\n\n\t\t\t// Always add the value of 'change.conflict.next_available.schedule_window' property to rangeStartDate\n\t\t\tgdtEndDate.setValue(range.startDate.getValue());\n\t\t\tgdtEndDate.addDaysUTC(intScheduleWindow);\n\t\t\trange.endDate = gdtEndDate;\n\n\t\t\t// adjust rangeStart to today or after if needed\n\t\t\tvar today = new GlideDateTime();\n\t\t\ttoday.setValue(gs.beginningOfToday());\n\t\t\tif (range.startDate.before(today))\n\t\t\t\trange.startDate = today;\n\n\t\t\t// adjust rangeEnd is after today or end of current week if needed\n\t\t\tif (range.endDate.before(today)) {\n\t\t\t\tvar endOfWeek = new GlideDateTime();\n\t\t\t\tendOfWeek.setValue(gs.endOfWeek(today));\n\t\t\t\trange.endDate = endOfWeek;\n\t\t\t}\n\t\t}\n\t\tvar result = new ChangeConflictSchedule(gr, null, null, range).findScheduleWindows();\n\t\tif (result.spans.length === 0) {\n\t\t\tvar startDate = _getFormattedDate(gdtStartDate);\n\n\t\t\tgdtStartDate.addDays(intScheduleWindow);\n\t\t\tvar rangeStartFormatted = _getFormattedDate(gdtStartDate);\n\n\t\t\tgdtEndDate.setValue(gdtStartDate);\n\t\t\tgdtEndDate.addDays(intScheduleWindow);\n\t\t\tvar rangeEndFormatted = _getFormattedDate(gdtEndDate);\n\n\t\t\tvar values = [scheduleWindow, startDate, rangeStartFormatted, rangeEndFormatted];\n\t\t\tresult.intro_message = gs.getMessage(\"There is no availability for {0} days from {1}\", values);\n\t\t\tresult.reason_message = result.message;\n\t\t\tresult.display_message = gs.getMessage(\"Review change request conflicts or search for availability between {2} and {3}\", values);\n\t\t\tresult.suggested_range = {};\n\t\t\tresult.suggested_range.start = gdtStartDate.getDisplayValue();\n\t\t\tresult.suggested_range.end = gdtEndDate.getDisplayValue();\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction _getFormattedDate(gdt) {\n\t\tvar gd = new GlideDate();\n\t\tgd.setDisplayValue(gdt.getDisplayValue());\n\t\treturn gd.getByFormat(\"MMMM d, y\");\n\t}\n\n\treturn {\n\t\tresCode: 400,\n\t\tdisplay_message: gs.getMessage(\"Record not found\")\n\t};\n})(request, response);","sys_updated_on":"2020-04-02 12:23:48","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"5fc0c03c5777130035ae4786cc94f9b5","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/change_request_calendar/change/nextavailabletime/{sys_id}","sys_created_on":"2018-08-05 16:19:24","sys_name":"Next Available Time","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/0472746e0b2332005775aabcb4673a25","value":"0472746e0b2332005775aabcb4673a25"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3eb7af7f04b12210559073c06a02f7fb","value":"3eb7af7f04b12210559073c06a02f7fb"},"sys_update_name":"sys_ws_operation_5fc0c03c5777130035ae4786cc94f9b5","consumes_customized":"false","name":"Next Available Time","produces":"application/json,application/xml,text/xml","relative_path":"/change/nextavailabletime/{sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var tablesOutput = [];\n    var rotatedTables = getRotatedTables();\n\n    /*\n    * Keeping our functions encapsulated allows for us to achieve a 10x speed improvement.\n    * This is because Rhino performs a 'direct call' where the function is called without\n    * any variable lookup at all and avoids generic reflective method calls.\n    */\n    function getRotatedTables() {\n        var isBaseTableMap = {};\n        var isRotatedTableMap = {};\n\n        var rotatedTable = new GlideRecord('sys_table_rotation');\n        rotatedTable.query();\n\n        while (rotatedTable.next())\n            isBaseTableMap[rotatedTable.getValue('name')] = true;\n\n        var rotatedExtension = new GlideRecord('sys_table_rotation_schedule');\n        rotatedExtension.query();\n\n        /*\n        * The sys_table_rotation table includes all of the base tables that are a rotated table.\n        * For example, sys_amb_message\n        *\n        * The sys_table_rotation_schedule includes all tables that are part of the rotated tabels.\n        * For example, sys_amb_message, sys_amb_message0001, sys_amb_message0002, etc\n        *\n        * This check will see if the current sys_table_rotation_schedule is the base table and not include it in the list of tables to be excluded from the response.\n        * For example, the result set after this check would be sys_amb_message0001, sys_amb_message0002, etc\n        */\n        while (rotatedExtension.next()) {\n            if (!isBaseTableMap[rotatedExtension.getValue('table_name')])\n                isRotatedTableMap[rotatedExtension.getValue('table_name')] = true;\n        }\n\n        return isRotatedTableMap;\n    }\n\n    function shouldExcludeTable(tableName) {\n        if (rotatedTables[tableName])\n            return true;\n\n        if (\n            tableName.startsWith('sysx_') ||\n            tableName.startsWith('var__') ||\n            tableName.startsWith('ts_')\n        )\n            return true;\n\n        return false;\n    }\n\n    function getLabelForView(sysId) {\n        var viewGR = new GlideRecord('sys_db_object');\n        viewGR.get(sysId);\n\n        return viewGR.getDisplayValue('label');\n    }\n\n    var session = gs.getSession();\n    var language = session.getLanguage();\n\n    var tablesGR = new GlideRecord('sn_mobile_card_bui_db_object_sys_documentation');\n    tablesGR.addQuery('sd_element', null);\n    tablesGR.addQuery('sd_language', language);\n\n    tablesGR.orderBy('sdbo_label');\n    tablesGR.query();\n\n    while (tablesGR.next()) {\n        var tableName = tablesGR.getValue('sdbo_name');\n        if (shouldExcludeTable(tableName))\n            continue;\n\n        var label = tablesGR.getValue('sd_label') != null ?\n            tablesGR.getValue('sd_label') :\n            // still a mystery on how glide gets the label for a view with no sys_documentation, so we find it the long way\n            getLabelForView(tablesGR.getValue('sdbo_sys_id'));\n\n        var sysId = tablesGR.getValue('sdbo_sys_id');\n\n        var table = {\n            id: sysId,\n            name: tableName,\n            label: label,\n        };\n\n        tablesOutput.push(table);\n    }\n\n    return tablesOutput;\n})(request, response);","sys_updated_on":"2023-03-07 17:07:48","enforce_acl":"cf9d01d3e73003009d6247e603f6a990,d7088c08b751211095411226de11a9e9","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"5fffe3667720211095417f7c8c5a998c","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/mcb/table","sys_created_on":"2023-01-25 20:31:43","sys_name":"Table - Get","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/63d8b7c573c51010a59b4c5353f6a737","value":"63d8b7c573c51010a59b4c5353f6a737"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_update_name":"sys_ws_operation_5fffe3667720211095417f7c8c5a998c","consumes_customized":"false","name":"Table - Get","produces":"application/json,application/xml,text/xml","relative_path":"/table","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var state = request.pathParams.state || '';\n    if (!state)\n        return new sn_ws_err.BadRequestError('Record state not provided');\n\n\treturn { stateFormData: new SOWChangeUtils().getSectionsForState(state) };\n})(request, response);","sys_updated_on":"2023-11-24 13:13:57","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a912b23453a6111088d8ddeeff7b1240","value":"a912b23453a6111088d8ddeeff7b1240"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"600e71cd77221110a438aeb4bb5a997f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sow_chg/v1/sow_change_utils/get_sections/{state}","sys_created_on":"2022-10-13 10:17:42","sys_name":"getStateSections","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3d876fa953615110532cddeeff7b12bb","value":"3d876fa953615110532cddeeff7b12bb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_update_name":"sys_ws_operation_600e71cd77221110a438aeb4bb5a997f","consumes_customized":"false","name":"getStateSections","produces":"application/json,application/xml,text/xml","relative_path":"/get_sections/{state}","produces_customized":"false","default_operation_uri":"/api/sn_sow_chg/sow_change_utils/get_sections/{state}","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var queryParams = request.queryParams;\n    //process validation request\n    if (queryParams.validationToken != null) {\n        gs.info('Collab Proxy: Webhook validation request received');\n        sendValidationToken();\n        gs.info('Collab Proxy: Webhook token validation response sent');\n    } else {\n        gs.info('Webhook notification received');\n\t\tvar requestBody = request.body.dataString;\n\t\tgs.debug(\"C-CHAT: Webhook payload: \" + requestBody);\n\t\t//acknowledge the change notification\n\t\tsendSuccessResponse();\n\t\tsn_collab.CollabChatScriptObject.processInboundMessage(requestBody, \"Teams\");\n    }\n\n    function sendValidationToken() {\n        response.setContentType('text/plain');\n        response.setStatus(200);\n        var writer = response.getStreamWriter();\n        writer.writeString(request.queryParams['validationToken']);\n    }\n\n    function sendSuccessResponse() {\n        response.setStatus(202);\n    }\n})(request, response);","sys_updated_on":"2022-12-01 23:44:13","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"606606b7775d0110e6330ea24b5a99e2","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/collaboration_chat_event_processor/chats","sys_created_on":"2022-02-03 00:35:46","sys_name":"TeamsChatEvent","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/53b1b0e79761011018b2fa98c253afcc","value":"53b1b0e79761011018b2fa98c253afcc"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/45d58e77775d0110e6330ea24b5a9904","value":"45d58e77775d0110e6330ea24b5a9904"},"consumes":"application/json,application/xml,text/xml,text/plain","requires_snc_internal_role":"false","requires_authentication":"false","sys_mod_count":"28","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/53b1b0e79761011018b2fa98c253afcc","value":"53b1b0e79761011018b2fa98c253afcc"},"sys_update_name":"sys_ws_operation_606606b7775d0110e6330ea24b5a99e2","consumes_customized":"true","name":"TeamsChatEvent","produces":"application/json,application/xml,text/xml,text/plain","relative_path":"/chats","produces_customized":"true","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n    var appId = request.pathParams.appId;\n\n    ScopeCheck.verifyNotGlobal(appId);\n\n    var allowed = VCSAppAccessCheck.verifyReadAccess(appId) && (VCSAppAccessCheck.isGACOrSourceControlUser() || VCSAppAccessCheck.verifyVersionControlAccess(appId));\n\n    if (!allowed) \n\t\tVCSAppAccessCheck.throwAccessDenied(appId);\n\n    var stashes = sn_vcs.AppSourceControl.getRepository(appId)\n        .getStashes();\n\n    var result = [];\n    while (stashes && stashes.next()) {\n        if (stashes.getDestinationCommit()) // skip previews\n            continue;\n        result.push({\n            sysId: stashes.getSysId(),\n            repoId: stashes.getSysRepoConfigSysId(),\n            name: stashes.getName(),\n            description: stashes.getDescription(),\n            sourceCommit: stashes.getSourceCommit(),\n            createdOn: stashes.getSysCreatedOn()\n        });\n    }\n\n    response.setBody({\n        count: result.length,\n        stashes: result\n    });\n    response.setStatus(200);\n    response.setContentType('application/json');\n})(request, response);","sys_updated_on":"2021-04-06 20:20:59","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"60e1446337301200612747efbe41f140","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/apps/{appId}/repos/{repoId}/stashes","sys_created_on":"2016-01-12 17:36:18","sys_name":"List Stashes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"13","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_60e1446337301200612747efbe41f140","consumes_customized":"false","name":"List Stashes","produces":"application/json,application/xml,text/xml","relative_path":"/apps/{appId}/repos/{repoId}/stashes","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/apps/{appId}/repos/{repoId}/stashes","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // implement resource here\n\tvar executionId = new NowAssistDiagnosticExcecutor().execute(request.body.data.diagnostic);\n\n\treturn {\n\t\t\"diagnosticExecutionId\": executionId\n\t};\n\n})(request, response);","sys_updated_on":"2024-04-17 00:04:32","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"6139dbf343f802105947644c7ab8f2cc","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_nowassist_diagn/diagnose","sys_created_on":"2024-03-14 18:46:26","sys_name":"Run Diagnostic","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/7b67ecf7437042105947644c7ab8f21b","value":"7b67ecf7437042105947644c7ab8f21b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/53e717b343f802105947644c7ab8f221","value":"53e717b343f802105947644c7ab8f221"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7b67ecf7437042105947644c7ab8f21b","value":"7b67ecf7437042105947644c7ab8f21b"},"sys_update_name":"sys_ws_operation_6139dbf343f802105947644c7ab8f2cc","consumes_customized":"false","name":"Run Diagnostic","produces":"application/json,application/xml,text/xml","relative_path":"/","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var data = request.body.data;\n\n    try {\n        if (data.modelId) {\n            var isTrainAsync = GlideProperties.getBoolean('glide.mlpredictor.scheduled.nlu.model.training', false);\n\n            if (isTrainAsync) {\n                // flow designer action\n                var inputs = {};\n                inputs['modelsysid'] = data.modelId;\n                var res = sn_fd.FlowAPI.getRunner().subflow('sn_nlu_studio.nlu_train_subflow').inBackground().withInputs(inputs).run();\n                var contextId = res.getContextId();\n                var flowResults = {};\n                flowResults['contextId'] = contextId;\n                flowResults['trainStatus'] = 'scheduled';\n                response.setStatus(200);\n                response.setContentType('application/json');\n                return flowResults;\n            } else {\n                var result = NLUStudioTrainer.trainModel(data.modelId);\n                if (result.status === 'success') {\n                    response.setStatus(200);\n                } else {\n                    response.setStatus(400);\n                }\n                response.setContentType('application/json');\n                return result;\n            }\n\n        } else {\n            return new sn_ws_err.BadRequestError('No input data provided');\n        }\n\n    } catch (e) {\n        return e;\n    }\n\n})(request, response);","sys_updated_on":"2023-03-06 06:37:18","enforce_acl":"ccd8a1e7772000105d7b3882a910617c","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/e4cda81e7333230021a044764df6a777","value":"e4cda81e7333230021a044764df6a777"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"61a57e36773323005d7b3882a91061cc","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/v1/nlu/train","sys_created_on":"2019-02-27 06:48:56","sys_name":"train","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/55672c9a7333230021a044764df6a706","value":"55672c9a7333230021a044764df6a706"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"61","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_ws_operation_61a57e36773323005d7b3882a91061cc","consumes_customized":"false","name":"train","produces":"application/json,application/xml,text/xml","relative_path":"/train","produces_customized":"false","default_operation_uri":"/api/now/nlu/train","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var appId = request.queryParams.appId ? request.queryParams.appId[0] : '';\n\t\n    if (appId) {\n        ScopeCheck.verifyNotGlobal(appId);\n        var allowed = VCSAppAccessCheck.verifyVersionControlAccess(appId);\n\n        if (!allowed) \n\t\t\tVCSAppAccessCheck.throwAccessDenied(appId);\n    }\n\n    return sn_vcs.AppSourceControl.getRemoteDefaultBranchName();\n\n})(request, response);","sys_updated_on":"2022-06-13 21:55:44","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"61ca44ca074011105ccde28f69d30087","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/remote_default_branch_name","sys_created_on":"2022-06-13 21:55:44","sys_name":"Get Git Default Branch Name","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_61ca44ca074011105ccde28f69d30087","consumes_customized":"false","name":"Get Git Default Branch Name","produces":"application/json,application/xml,text/xml","relative_path":"/remote_default_branch_name","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/remote_default_branch_name","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n\tvar table = request.pathParams.table;\n\tvar sysId = request.pathParams.sysid;\n\n\tif (!table || !sysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Requires table and sys_id\");\n\n\tvar result= [];\n\tvar grs = new GlideRecordSecure(table);\n\tif (grs.get(sysId)) {\n\t\tvar params = request.body.nextEntry();\n\t\tvar cabsnc = new CAB(grs);\n\t\tfor (var k in params)\n\t\t\tcabsnc.setValue(k, params[k]);\n\t\tif (Object.keys(params).length > 0)\n\t\t\tcabsnc.update();\n\t\tresult = cabsnc.toJS(true);\n\t}\n\tresponse.setBody(result);\n})(request, response);","sys_updated_on":"2023-12-22 12:07:54","enforce_acl":"ee9fb61a232303001488dc1756bf658b","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"620a930f5780330035ae4786cc94f905","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/sn_change_cab/cab/{table}/{sysid}","sys_created_on":"2019-03-12 14:21:43","sys_name":"UPDATE i18n'd Record","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/cf65d305eb10220034d1eeea1206fe55","value":"cf65d305eb10220034d1eeea1206fe55"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_update_name":"sys_ws_operation_620a930f5780330035ae4786cc94f905","consumes_customized":"false","name":"UPDATE i18n'd Record","produces":"application/json,application/xml,text/xml","relative_path":"/{table}/{sysid}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    const utils = new UXAApplicationUtils();\n    return utils.getAllAppsForUser({ sortOrder: 'ASC' });\n\n})(request, response);","sys_updated_on":"2024-10-21 13:41:04","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/d93d4288ffe7c21024f4ffffffffff52","value":"d93d4288ffe7c21024f4ffffffffff52"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"6214db7d15501210f8779810915051e1","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uxa_req_manager/v1/uxa_data/get-apps","sys_created_on":"2024-08-29 12:51:01","sys_name":"Get Apps","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/e9f5c0d20b620210e8a937009777b2d7","value":"e9f5c0d20b620210e8a937009777b2d7"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_update_name":"sys_ws_operation_6214db7d15501210f8779810915051e1","consumes_customized":"false","name":"Get Apps","produces":"application/json,application/xml,text/xml","relative_path":"/get-apps","produces_customized":"false","default_operation_uri":"/api/sn_uxa_req_manager/uxa_data/get-apps","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // implement resource here\n\tvar payload = request.body.data.sysID;\n\tvar gr = new GlideRecord('asmt_metric_type');\n\tgr.get(payload);\n\t\n\tvar newMetricTypeSysID = new CloneSurvey().cloneMetricType(gr);\n\t\n\tvar metric_type = new GlideRecord('asmt_mnetric_type');\n\tgr.get(newMetricTypeSysID);\n\t\n\tvar results = {};\n\tresults.sysID = newMetricTypeSysID;\n\tresults.name = gr.getValue('name');\n\tresponse.setContentType(\"application/json\");\n\tresponse.setBody(results);\n\treturn response;\n\n})(request, response);","sys_updated_on":"2018-11-06 22:05:23","enforce_acl":"73bac0fe8721230064a666d107cb0b8b","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"62690234672203004286c3105685ef14","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/copy_assessments/copy","sys_created_on":"2017-11-18 03:00:01","sys_name":"copy","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/9ef80ef0672203004286c3105685efd8","value":"9ef80ef0672203004286c3105685efd8"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"40","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3da7677f04b12210559073c06a02f701","value":"3da7677f04b12210559073c06a02f701"},"sys_update_name":"sys_ws_operation_62690234672203004286c3105685ef14","consumes_customized":"false","name":"copy","produces":"application/json,application/xml,text/xml","relative_path":"/copy","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    try {\n        var executionId = request.pathParams.executionId;\n        var testExecution = new sn_nlu_workbench.NLUBatchTestExecution(executionId);\n        var result = testExecution.applyRecommendation();\n        if (result && result.status !== 'failure')\n            response.setStatus(200);\n        else\n            response.setStatus(400);\n        response.setContentType('application/json');\n        return result;\n    } catch (e) {\n        return e;\n    }\n\n})(request, response);","sys_updated_on":"2021-06-20 12:10:05","enforce_acl":"0f43facbeb8220105de665fcc8522895","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b51a6d700710201028ef0a701ad300ab","value":"b51a6d700710201028ef0a701ad300ab"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"629bdef6c38320100bf407720f40dd31","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_nlu_workbench/v1/nlu_advanced/applyRecommendation/{executionId}","sys_created_on":"2021-03-26 07:00:44","sys_name":"applyRecommendation","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea82488673402010e6b632e954f6a7ca","value":"ea82488673402010e6b632e954f6a7ca"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_update_name":"sys_ws_operation_629bdef6c38320100bf407720f40dd31","consumes_customized":"false","name":"applyRecommendation","produces":"application/json,application/xml,text/xml","relative_path":"/applyRecommendation/{executionId}","produces_customized":"false","default_operation_uri":"/api/sn_nlu_workbench/nlu_advanced/applyRecommendation/{executionId}","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar kbService = new KBPortalService();\n\tvar result = kbService.getAllFacets(\n\tgetParamAsString(\"keyword\"),\n\tgetParamAsString(\"language\"),\n\tgetParamAsString(\"variables\"),\n\tgetParamAsString(\"query\"),\n\tgetParamAsString(\"order\"),\n\tgetParamAsString(\"paginationMinCount\"),\n\tgetParamAsString(\"portal_suffix\"),\n\ttrue\t\n\t);\n\t\n\tvar status;\n\t\n\t//We want to keep the browser from caching these responses\n\tresponse.setHeader(\"Cache-Control\", \"no-cache,no-store,must-revalidate,max-age=-1\");\n\tresponse.setHeader(\"Pragma\", \"no-store,no-cache\");\n\tresponse.setHeader(\"Expires\",\"Thu, 01 Jan 1970 00:00:00\");\n\tresponse.setContentType('application/json');\n\tresponse.setStatus(status);\n\t\n\tif (result) {\n\t\tstatus = 200;\n\t\treturn result;\n\t} else {\n\t\tstatus = 404;\n\t}\n\t\n\t//make sure we always get strings from the parameter map\n\tfunction getParamAsString(paramName) {\n\t\tif (request.queryParams.hasOwnProperty(paramName))\n\t\t\treturn request.queryParams[paramName] + '';\n\t\t\n\t\treturn '';\n\t}\n\t\n})(request, response);","sys_updated_on":"2020-01-27 09:59:21","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/ff718228db70320099f93691f0b8f5ef","value":"ff718228db70320099f93691f0b8f5ef"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"62b4d8c8db03220099f93691f0b8f533","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/knowledge/search/facets","sys_created_on":"2016-11-07 14:34:03","sys_name":"getAllFacets","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bab6dea3db20320099f93691f0b8f590","value":"bab6dea3db20320099f93691f0b8f590"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/8ad394c8db03220099f93691f0b8f584","value":"8ad394c8db03220099f93691f0b8f584"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"false","sys_mod_count":"48","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bab6dea3db20320099f93691f0b8f590","value":"bab6dea3db20320099f93691f0b8f590"},"sys_update_name":"sys_ws_operation_62b4d8c8db03220099f93691f0b8f533","consumes_customized":"false","name":"getAllFacets","produces":"application/json,application/xml,text/xml","relative_path":"/search/facets","produces_customized":"false","default_operation_uri":"/api/now/knowledge/search/facets","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar chat_channel_id = 'ea0cb816732110104a905ee515f6a7b5';\n\tvar channel_id = request.body.data.channel_id;\n    var provider_id = request.body.data.provider_id;\n    var provider_number = request.body.data.provider_number;\n    var to_number = request.body.data.to_number;\n    var message = request.body.data.message;\n    var profile_table = request.body.data.profile_table;\n    var profile_sysid = request.body.data.profile_sysid;\n    var attachment_sysid = request.body.data.attachment_sysid;\n\tvar res = {};\n\n\tif (channel_id == chat_channel_id) {\n\t\tres = new global.AJAXMessagingUtils().sendAsyncChat(to_number, message, attachment_sysid);\n\t} else {\n\t\tres = new global.AJAXMessagingUtils().sendMessage(provider_id, provider_number, to_number, message, profile_table, profile_sysid, attachment_sysid);\n\t}\n\tresponse.setBody(JSON.parse(res));\n})(request, response);","sys_updated_on":"2022-10-18 09:53:43","enforce_acl":"70cffc8db7212010ffe5ef54ce11a9e2","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"62c2a77c5386101085ecddeeff7b1238","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/agent_initiated_message/send_message","sys_created_on":"2020-07-14 21:45:24","sys_name":"Send Message","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/f51bc3875375101085ecddeeff7b1204","value":"f51bc3875375101085ecddeeff7b1204"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"26","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9cc37b3704b52210559073c06a02f781","value":"9cc37b3704b52210559073c06a02f781"},"sys_update_name":"sys_ws_operation_62c2a77c5386101085ecddeeff7b1238","consumes_customized":"false","name":"Send Message","produces":"application/json,application/xml,text/xml","relative_path":"/send_message","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\n\tfunction getColumns(table) {\n\t\tvar td = new GlideTableDescriptor(table);\n\t\tvar sch = td.getSchema();\n\t\tvar columns = [];\n\t\tfor(var i = 0 ; i < sch.size(); i++){\n\t\t\tvar key = sch.keySet().toArray()[i];\n\t\t\tcolumns.push(getColumn(table, key));\n\t\t}\n\t\t\n\t\treturn columns;\n\t}\n\t\n\tfunction getColumn(table, column) {\n\t\tvar columns = [];\n\t\tvar td = new GlideTableDescriptor(table);\n\t\t\n\t\tvar ed =  td.getElementDescriptor(column);\n\t\treturn {\n\t\t\tname: ed.getName(),\n\t\t\tlabel: ed.getLabel(),\n\t\t\ttype: ed.getInternalType(),\n\t\t\treference: ed.getReference()\n\t\t};\n\t}\n\t\n\tfunction getFieldDotwalk(field, table){\n\t\tvar isDotWalkColumn = field && field.split('.').length > 1;\n\t\tif(!isDotWalkColumn) {\n\t\t\treturn null;\n\t\t}\n\t\tvar columnsNames = field.split('.');\n\t\tvar dotWalk = [];\n\t\t\n\t\tcolumn = getColumn(table, columnsNames[0]);\n\t\tdotWalk.push(column);\n\t\t\n\t\tfor (var i = 1; i < columnsNames.length; i++) {\n\t\t\ttable = column.reference;\n\t\t\tcolumn = getColumn(table, columnsNames[i]);\n\t\t\tif(column.reference && i < columnsNames.length-1){\n\t\t\t\tdotWalk.push(column);\n\t\t\t}\n\t\t\t\n\t\t}\n\t\treturn dotWalk;\n\t}\n\t\n\tvar column;\n\tvar dotWalks = {};\n\t\tvar table = request.queryParams.table.toString();\n\t\tvar fields = request.queryParams.fields.toString().split(',');\n\t\tvar fieldsReference = request.queryParams.fields_reference.toString();\n\t\tfor (var i = 0; i < fields.length; i++) {\n\t\t\tvar field = fields[i];\n\t\t\tdotWalk = getFieldDotwalk(field, table);\n\t\t\t\n\t\t\tif(dotWalk){\n\t\t\t\tdotWalks[field] = dotWalk;\n\t\t\t}\n\t\t}\n\t\t\n\t\tvar columns = [];\n\t\tif(dotWalks[fieldsReference]){\n\t\t\tvar length = dotWalks[fieldsReference].length-1;\n\t\t\tvar reference =  dotWalks[fieldsReference][length].reference;\n\t\t\tcolumns = getColumns(reference);\n\t\t\tif(columns){\n\t\t\t\tcolumns = columns.sort(function(col1, col2) {\n\t\t\t\t\treturn col1.label.localeCompare(col2.label);\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tcolumns = getColumns(table);\n\t\t}\n\t\treturn { dotWalks: dotWalks, fields:columns };\n\t\t\t\n\t\t})(request, response);","sys_updated_on":"2024-01-16 20:57:02","enforce_acl":"3d3fbc35532033004205ddeeff7b129f","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"62d32ba823ff2300a8ed7f4fc7bf65c4","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/mobile_studio/get_field_dotwalk","sys_created_on":"2019-02-20 10:24:32","sys_name":"Get Field Dotwalk","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/e36b1b75538223004205ddeeff7b123c","value":"e36b1b75538223004205ddeeff7b123c"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"208","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/75d42bbf04312210559073c06a02f78d","value":"75d42bbf04312210559073c06a02f78d"},"sys_update_name":"sys_ws_operation_62d32ba823ff2300a8ed7f4fc7bf65c4","consumes_customized":"false","name":"Get Field Dotwalk","produces":"application/json,application/xml,text/xml","relative_path":"/get_field_dotwalk","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    // implement resource here\n\tvar appSysId = request.pathParams.application_sys_id;\n\t\n\tif (!appSysId) {\n\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t.setStatus(400)\n\t\t\t.setMessage(gs.getMessageLang(\"No application sys id passed as a parameter.\", \"en\"))\n\t\t\t.setDetail(gs.getMessage(\"No application sys id passed as a parameter.\"));\n\t}\n\t\n\ttry {\n\t\tnew AppPromotionAISearchPublishing().publish(appSysId);\n\t} catch (err) {\n\t\tgs.error(\"App promotion publishing had an issue: \" + err.toString());\n\t}\n\n\tresponse.setStatus(200);\n})(request, response);","sys_updated_on":"2021-03-29 22:20:31","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/eff91f2c7700001001fb4311a8106131","value":"eff91f2c7700001001fb4311a8106131"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"6320bc087302201056dff358caf6a775","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_app_eng_studio/v1/applications/{application_sys_id}/publish_search_config","sys_created_on":"2021-01-26 17:04:54","sys_name":"POST Publish Search Configuration","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/4c41d3287700001001fb4311a81061ae","value":"4c41d3287700001001fb4311a81061ae"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_ws_operation_6320bc087302201056dff358caf6a775","consumes_customized":"false","name":"POST Publish Search Configuration","produces":"application/json,application/xml,text/xml","relative_path":"/{application_sys_id}/publish_search_config","produces_customized":"false","default_operation_uri":"/api/sn_app_eng_studio/applications/{application_sys_id}/publish_search_config","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var targetRecord = request.pathParams.record_id ? request.pathParams.record_id.toString() : undefined;\n\tvar wizardId = request.pathParams.wizard_id ? request.pathParams.wizard_id.toString() : 'undefined';\n    var mode = request.queryParams.mode ? request.queryParams.mode.toString() : 'normal';\n\tvar checkEdit = request.queryParams.check_edit ? request.queryParams.check_edit.toString() : 'undefined';\n    var canAccess = true;\n    try {\n        canAccess = sn_sc.CatalogWizardHandler.canAccessTarget({\n            wizardId: wizardId,\n            targetRecord: targetRecord,\n            mode: mode, \n\t\t\tcheckEdit: checkEdit,\n        });\n    } catch (e) {\n        throw new sn_ws_err.BadRequestError(e.getMessage() + '');\n    }\n\n    return canAccess;\n})(request, response);","sys_updated_on":"2020-11-16 08:51:06","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"633b44050fa02010e54d6b198b767ea8","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/record_id/{record_id}/wizard/{wizard_id}","sys_created_on":"2020-11-16 03:15:12","sys_name":"Check user can access record via wizard","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5a9d2bff04352210559073c06a02f771","value":"5a9d2bff04352210559073c06a02f771"},"sys_update_name":"sys_ws_operation_633b44050fa02010e54d6b198b767ea8","consumes_customized":"false","name":"Check user can access record via wizard","produces":"application/json,application/xml,text/xml","relative_path":"/record_id/{record_id}/wizard/{wizard_id}","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/record_id/{record_id}/wizard/{wizard_id}","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar sysCsTopicId = request.pathParams.topicId;\n\tresponse.setContentType('application/json');\n\tif (!sysCsTopicId) {\n\t\tresponse.setStatus(400);\n\t\tresponse.setBody({ errorMessage: 'No input topic id provided' });\n\t\treturn;\n\t}\n\n\ttry {\n\t\tvar result = [];\n\t\tvar artifactName = \"va_topic\";\n\t\tvar lfApi = new global.LocalizationFrameworkAPIV2();\n\t\tvar lfInsight = new global.LFGenerateLocalizationInsights();\n\t\tvar requestTranslationResult = lfApi.canRequestTranslations(artifactName);\n\t\tvar translationStatusResult = lfApi.getArtifactsTranslationStatus(artifactName, [sysCsTopicId]);\n\t\tvar requestedItemDetailsResult = lfApi.getRequestedItemDetails([sysCsTopicId]);\n\t\tvar insights_status = {\n\t\t  '1': 'completely translated',\n\t\t  '3': 'partially translated',\n\t\t  '4': 'not translated'\n\t\t};\n\n\t\tvar languages = Object.keys(requestTranslationResult);\n\t\tfor (index = 0; index < languages.length; index++) {\n\t\t\tvar language = languages[index];\n\t\t\tvar canRequest = requestTranslationResult[language] ? requestTranslationResult[language].isEnabled : false;\n\t\t\tvar statusKey = translationStatusResult[sysCsTopicId] && translationStatusResult[sysCsTopicId][language] ? lfInsight._calculateStatus(translationStatusResult[sysCsTopicId][language].translationPercentage)  : \"not translated\";\n\t\t\tvar status = insights_status[statusKey] || \"not translated\";\n\t\t\tvar taskExists = requestedItemDetailsResult[sysCsTopicId] && requestedItemDetailsResult[sysCsTopicId][language] ? requestedItemDetailsResult[sysCsTopicId][language].exists : false;\n\t\t\tvar taskId = \"\";\n\t\t\tvar taskLink = \"\";\n\t\t\tif (taskExists) {\n\t\t\t\tvar taskIsClosed = requestedItemDetailsResult[sysCsTopicId][language].details.isClosed || false;\n\t\t\t\ttaskLink = taskIsClosed ? \"\" : requestedItemDetailsResult[sysCsTopicId][language].details.link;\n\t\t\t\ttaskId = taskIsClosed ? \"\" : requestedItemDetailsResult[sysCsTopicId][language].details.sysId;\n\t\t\t}\n\n\t\t\tresult.push({\n\t\t\t\tlanguage: language,\n\t\t\t\tcanRequest: canRequest,\n\t\t\t\ttaskId: taskId,\n\t\t\t\ttaskLink: taskLink,\n\t\t\t\tstatus: taskId !== \"\" ? \"in progress\" : status\n\t\t\t});\n\t\t}\n\n\t\tresponse.setStatus(200);\n\t\tresponse.setBody(result);\n\n\t} catch (e) {\n\t\tresponse.setStatus(500);\n\t\tresponse.setBody({ errorMessage: e.message });\n\t}\n\n})(request, response);","sys_updated_on":"2022-11-03 21:07:10","enforce_acl":"95736dc3c7e220105a06145bf4c26096","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"63545e55c72620105a06145bf4c260fb","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/virtual_agent_design/translation_status/{topicId}","sys_created_on":"2021-02-24 18:01:24","sys_name":"Get Translation Status","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/86719a5dc7e220105a06145bf4c26006","value":"86719a5dc7e220105a06145bf4c26006"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"21","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_ws_operation_63545e55c72620105a06145bf4c260fb","consumes_customized":"false","name":"Get Translation Status","produces":"application/json,application/xml,text/xml","relative_path":"/translation_status/{topicId}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar restHandler, result, stepId, setupId, data;\n\t\n\ttry {\n\t\tsetupId = request.pathParams.setup_id;\n\t\tstepId = request.pathParams.step_id;\n\t\trestHandler = new SNHelpSetupRestHandler();\n\t\tdata = request.body.data;\n\t\tresult = restHandler.addInteractionLog(setupId, stepId, data);\n\t\t\n\t\tresponse.setStatus(result.status);\n\t\t\n\t\tif(result.data)\n\t\t\tresponse.setBody(result.data);\n\t\telse\n\t\t\tresponse.setBody({error: result.message || result.error});\n\t\t\n\t} catch (ex) {\n\t\tresponse.setStatus(500);\n\t\tresponse.setBody({error: \"Internal Server Error \" + ex});\n\t}\n\t\n})(request, response);","sys_updated_on":"2022-09-21 07:30:20","enforce_acl":"d684e2aa530e0110f54fddeeff7b1237","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"63a350fd53240110f54fddeeff7b12af","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_ads_setup/play/log/setup/{setup_id}/step/{step_id}","sys_created_on":"2021-12-21 04:10:55","sys_name":"add log","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/9fb44064773230106ee492b01e5a9991","value":"9fb44064773230106ee492b01e5a9991"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_update_name":"sys_ws_operation_63a350fd53240110f54fddeeff7b12af","consumes_customized":"false","name":"add log","produces":"application/json,application/xml,text/xml","relative_path":"/log/setup/{setup_id}/step/{step_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar payload = request.body.data;\n\tvar util = new sn_oe_sfs.SidebarParticipantSuggestionsUtils();\n\tswitch (payload.operation) {\n\t\tcase 'APPLY_GROUP_FILTER':\n\t\t\tresult = util.getUserGroups(payload.item);\n\n\t\t\tresponse.setContentType(\"application/json\");\n\t\t\tresponse.setStatus(result.status);\n\t\t\tresponse.setBody(result.body);\n\t\t\t\n\t\t\tbreak;\n\t\tcase 'SAVE_CONFIG':\n\t\t\tresult = util.saveConfig(payload.allGroupsFlag, payload.items);\n\n\t\t\tresponse.setContentType(\"application/json\");\n\t\t\tresponse.setStatus(result.status);\n\t\t\tresponse.setBody(result.body);\n\t\t\t\n\t\t\tbreak;\n\t}\n})(request, response);","sys_updated_on":"2023-10-22 22:40:06","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/c51cb7d7a3b9f1104dfdc213d51e6112","value":"c51cb7d7a3b9f1104dfdc213d51e6112"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"642c77d7a3b9f1104dfdc213d51e6146","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_oe_sfs/v1/sidebar_suggestions_permission_api/group","sys_created_on":"2023-10-16 04:48:27","sys_name":"group","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/53b1b0e79761011018b2fa98c253afcc","value":"53b1b0e79761011018b2fa98c253afcc"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/2f6afb17a3b9f1104dfdc213d51e6109","value":"2f6afb17a3b9f1104dfdc213d51e6109"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"36","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/53b1b0e79761011018b2fa98c253afcc","value":"53b1b0e79761011018b2fa98c253afcc"},"sys_update_name":"sys_ws_operation_642c77d7a3b9f1104dfdc213d51e6146","consumes_customized":"false","name":"group","produces":"application/json,application/xml,text/xml","relative_path":"/group","produces_customized":"false","default_operation_uri":"/api/sn_oe_sfs/sidebar_suggestions_permission_api/group","sys_policy":""},{"short_description":"","operation_script":"function getRecords(tableName, nameFilter, userType) {\n    var results = [];\n    var records = new GlideRecord(tableName);\n\n    records.addActiveQuery();\n    records.addQuery(\"name\", \"CONTAINS\", nameFilter);\n    records.query();\n\n    while (records.next()) {\n        var recordSysId = records.getValue('sys_id');\n        var recordName = records.getDisplayValue('name');\n        var recordEmail = records.getDisplayValue('email');\n        var recordAvatar = records.getDisplayValue('avatar');\n\n        results.push({\n            id: recordSysId,\n            name: recordName,\n            email: recordEmail,\n            avatar: recordAvatar,\n            type: userType\n        });\n\n    }\n    return results;\n}\n\nfunction getUsers(nameFilter) {\n    return getRecords('sys_user', nameFilter, 'user');\n}\n\nfunction getGroups(nameFilter) {\n    return getRecords('sys_user_group', nameFilter, 'group');\n}\n\nfunction process(request, response) {\n    try {\n        var nameFilter = request.queryParams.name_filter ? request.queryParams.name_filter[0] : '';\n        var users = getUsers(nameFilter);\n        var groups = getGroups(nameFilter);\n        var usersAndGroups = users.concat(groups);\n\n        response.setBody(usersAndGroups);\n        response.setStatus(200);\n\n    } catch (exception) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(500)\n            .setMessage(gs.getMessageLang(\"Unhandled exception {0}\", \"en\", [exception]))\n            .setDetail(gs.getMessage(\"Unhandled exception {0}\", [exception]));\n    }\n}\n\nprocess(request, response);","sys_updated_on":"2021-08-02 21:05:44","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/37bab4b5532320100f29ddeeff7b12a8","value":"37bab4b5532320100f29ddeeff7b12a8"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"64ca38b5532320100f29ddeeff7b12ae","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_collab_request/v1/users_groups/search","sys_created_on":"2021-04-16 17:50:09","sys_name":"Search Users and Groups","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3daab4b5532320100f29ddeeff7b128a","value":"3daab4b5532320100f29ddeeff7b128a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"15","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"sys_update_name":"sys_ws_operation_64ca38b5532320100f29ddeeff7b12ae","consumes_customized":"false","name":"Search Users and Groups","produces":"application/json,application/xml,text/xml","relative_path":"/search","produces_customized":"false","default_operation_uri":"/api/sn_collab_request/users_groups/search","sys_policy":"read"},{"short_description":"","sys_updated_on":"2022-05-30 19:53:42","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"64da34ab0f402010e54d6b198b767e19","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/question_designer/create_resource/{action}","sys_created_on":"2020-10-30 04:37:06","sys_name":"Create resource for question designer","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"14","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c69d2bff04352210559073c06a02f736","value":"c69d2bff04352210559073c06a02f736"},"sys_update_name":"sys_ws_operation_64da34ab0f402010e54d6b198b767e19","consumes_customized":"false","name":"Create resource for question designer","produces":"application/json,application/xml,text/xml","relative_path":"/question_designer/create_resource/{action}","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/question_designer/create_resource/{action}","sys_policy":"protected"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar params = request.body.nextEntry();\n\tvar meetingId = request.pathParams.meetingId;\n\tif (!meetingId)\n\t\treturn new sn_ws_err.BadRequestError(\"CAB Meeting id not provided\");\n\tvar notesEditor = params.notesEditor;\n\tif (!notesEditor)\n\t\treturn new sn_ws_err.BadRequestError(\"Notes editor id not provided\");\n\n\tvar result = {};\n\n\tvar instance = CABRuntimeStateSNC.get(meetingId);\n\t\n\tif (!instance.canWriteNotes(notesEditor))\n\t\treturn new sn_ws_err.BadRequestError(\"User cannot edit meeting notes\");\n\t\n\tif (instance) {\n\t\tinstance.setNotesEditor(notesEditor);\n\t\tresult.msg = 'changed successfully';\n\t} else\n\t\treturn new sn_ws_err.NotFoundError('Given meeting record not found');\n\n\treturn result;\n\n})(request, response);","sys_updated_on":"2023-12-22 12:04:56","enforce_acl":"ee9fb61a232303001488dc1756bf658b","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"651dc98ec3712010a282a539e540ddd2","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_change_cab/cab/runtime_state/notes_editor/{meetingId}","sys_created_on":"2021-01-20 13:55:17","sys_name":"Change notes editor","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/cf65d305eb10220034d1eeea1206fe55","value":"cf65d305eb10220034d1eeea1206fe55"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_update_name":"sys_ws_operation_651dc98ec3712010a282a539e540ddd2","consumes_customized":"false","name":"Change notes editor","produces":"application/json,application/xml,text/xml","relative_path":"/runtime_state/notes_editor/{meetingId}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var payloads = request.body.data;\n    var {\n        table,\n        sysId,\n        message,\n        context\n    } = payloads;\n    var logger = new sn_wwna.WWNALogger();\n\n    logger.info(\"WWNA: Invoke WWNA action API request body arguments: \" + JSON.stringify({\n        table,\n        sysId,\n        message,\n        context\n    }));\n\n    if (!table || !message || !context) {\n        let missingParams = ['table', 'message', 'context'].filter(param => !payloads[param]);\n        logger.error(\"WWNA: Invoke WWNA action API request body missing arguments: \" + JSON.stringify(missingParams));\n        response.setStatus(400);\n        return response.setBody({\n            status: 'failure',\n            message: 'Missing required parameters: ' + missingParams.join(', ')\n        });\n    }\n\n    try {\n        var wwna_table = \"wwna_quick_actions\";\n        var result = new sn_wwna.WWNAUtils().invokeNACMAction(table, sysId, message, context);\n\n        if (result) {\n            logger.info(\"WWNA: Skill Config API formatted skillConfiguration: \" + JSON.stringify(result));\n            response.setStatus(200);\n            return response.setBody({\n                status: 'success',\n                data: result\n            });\n        } else {\n            throw new Error(\"WWNA: Skill Config API error: Action result is empty\");\n        }\n\n    } catch (error) {\n        logger.error(\"WWNA: Invoke WWNA action API error: \" + error.message);\n        response.setStatus(500);\n        return response.setBody({\n            status: 'failure',\n            message: \"Something went wrong, please contact your system Admin!\"\n        });\n    }\n})(request, response);","sys_updated_on":"2024-08-22 10:47:48","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"6562e993930c1210de37529a8489183e","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_wwna/wwna/invoke_wwna_action","sys_created_on":"2024-08-21 10:10:14","sys_name":"Invoke WWNA Action","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/757c34719bf7f10c4a1f9fe81ba8bba3","value":"757c34719bf7f10c4a1f9fe81ba8bba3"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/4ab4da0643520210fbb28b11afb8f20d","value":"4ab4da0643520210fbb28b11afb8f20d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/757c34719bf7f10c4a1f9fe81ba8bba3","value":"757c34719bf7f10c4a1f9fe81ba8bba3"},"sys_update_name":"sys_ws_operation_6562e993930c1210de37529a8489183e","consumes_customized":"false","name":"Invoke WWNA Action","produces":"application/json,application/xml,text/xml","relative_path":"/invoke_wwna_action","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var rotaSysId = request.pathParams.rota_sys_id;\n\tvar forceCreate = request.queryParams.sysparm_force_create == 'true';\n\ttry {\n\t\treturn new OCEscalationDesigner().getDefaultEscalation(rotaSysId, forceCreate);\n\t} catch (e) {\n\t\tif (e.securityError) {\n\t\t\tvar body = {\n\t\t\t\terror: {\n\t\t\t\t\tmessage: e.message\n\t\t\t\t}\n\t\t\t};\n\t\t\tresponse.setBody(body);\n\t\t\tresponse.setStatus(403);\n\t\t}\n\t\telse {\n\t\t\treturn new sn_ws_err.BadRequestError(e.message);\n\t\t}\n\t}\n})(request, response);","sys_updated_on":"2019-03-20 08:31:21","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"656b00775f40230084a5a184ff46663f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/escalations/default/{rota_sys_id}","sys_created_on":"2018-08-27 11:03:33","sys_name":"getDefaultEscalation","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"15","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_656b00775f40230084a5a184ff46663f","consumes_customized":"false","name":"getDefaultEscalation","produces":"application/json,application/xml,text/xml","relative_path":"/escalations/default/{rota_sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var dashboard = new NotificationDashboard();\n\tvar result = dashboard.getTopOptedOutNotifications(request.body.data);\n\tresponse.setBody(result);\n\n})(request, response);","sys_updated_on":"2024-09-25 00:44:42","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"6590b796fff4d250ac42fbd38c4fd90a","http_method":"POST","sys_updated_by":"rajesh.tatikonda@snc","operation_uri":"/api/snc/notification_dashboard/notification/email/top_optedout","sys_created_on":"2024-09-25 00:44:42","sys_name":"Top Optout Notifications","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"rajesh.tatikonda@snc","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/a5ea2ec8ffec5a10ac42fbd38c4fd9fb","value":"a5ea2ec8ffec5a10ac42fbd38c4fd9fb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fa85f980ff6c5a10ac42fbd38c4fd9bd","value":"fa85f980ff6c5a10ac42fbd38c4fd9bd"},"sys_update_name":"sys_ws_operation_6590b796fff4d250ac42fbd38c4fd90a","consumes_customized":"false","name":"Top Optout Notifications","produces":"application/json,application/xml,text/xml","relative_path":"/notification/email/top_optedout","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar nameValuePairs = global.ChangeCommon.assign({}, request.queryParams, request.body.data);\n\tvar state;\n\tif (nameValuePairs.state) {\n\t\tstate = nameValuePairs.state;\n\t\tdelete nameValuePairs.state;\n\t}\n\n\tvar changeProcess = global.EmergencyChangeProcess.newChangeProcess(nameValuePairs);\n\n\tif (state && !changeProcess.canMoveTo(state)) {\n\t\tvar error = new sn_ws_err.ServiceError();\n\t\terror.setStatus(400);\n\t\terror.setMessage(\"Emergency Change Request cannot move to state: \" + state);\n\t\terror.setDetail(JSON.stringify(changeProcess.evaluateMoveTo(state)));\n\t\treturn error;\n\t}\n\n\tif ((!state && changeProcess.insert()) || (state && changeProcess.moveTo(state) && changeProcess.insert())) {\n\t\tvar result = changeProcess.toJS();\n\t\tresult.__meta = { ignoredFields: changeProcess.__ignoredfields || [] };\n\t\treturn result;\n\t}\n\n\tvar errorMessage = \"Could not create Emergency Change Request.\";\n\tvar lastErrorMessage = changeProcess.getGlideRecord().getLastErrorMessage();\n\tif (lastErrorMessage)\n\t\terrorMessage += \" \" + lastErrorMessage;\n\n\treturn new sn_ws_err.BadRequestError(errorMessage);\n})(request, response);","sys_updated_on":"2018-07-07 19:47:03","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"663a139f5303130096c3ddeeff7b1220","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/emergency","sys_created_on":"2018-07-07 19:47:03","sys_name":"Emergency","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_663a139f5303130096c3ddeeff7b1220","consumes_customized":"false","name":"Emergency","produces":"application/json,application/xml,text/xml","relative_path":"/emergency","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/emergency","sys_policy":""},{"short_description":"File system changes to apply","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var syncUtil = new sn_glider.SyncUtil();\n\n    function readDataFromRequestBody() {\n        var requestBody = request.body.data;\n        if (requestBody === null || requestBody === undefined)\n            return null;\n        return requestBody;\n    }\n    var requestBodyData = readDataFromRequestBody();\n\n    // remove flow\n    if (requestBodyData.remove.length > 0) {\n        for (var i = 0; i < requestBodyData.remove.length; i++) {\n            try {\n                var resp = syncUtil.purgeData(requestBodyData.remove[i]);\n                setResponse(resp.statusCode, resp.body);\n            } catch (err) {\n                setResponse(500, {\n                    status: err.message\n                });\n            }\n        }\n    } else {\n        // Default content type (if we have an empty response)\n        response.setContentType('text/plain');\n    }\n\n    var writeChanges = requestBodyData.create.concat(requestBodyData.update);\n    for (var i = 0; i < writeChanges.length; i++) {\n        var fileContent = requestBodyData.content.find(content => content.checksum === writeChanges[i].checksum);\n        syncUtil.writeFile(writeChanges[i], fileContent);\n    }\n\n    function setResponse(statusCode, body) {\n        response.setStatus(statusCode);\n        if (body) {\n            response.setContentType('application/json');\n            response.setBody(body);\n        } else {\n            response.setContentType('text/plain');\n        }\n    }\n})(request, response);","sys_updated_on":"2024-11-01 20:20:49","enforce_acl":"4bf8f016a3060210acce0373341e61fe","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"{\n\t\"create\": {},\n\t\"update\": {},\n\t\"remove\": {},\n\t\"content\": []\n}","sys_id":"664249bb434146104733a7ec6bb8f297","http_method":"POST","sys_updated_by":"maint","operation_uri":"/api/sn_glider/sync/changes/apply","sys_created_on":"2024-03-26 18:31:41","sys_name":"Apply Changes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/fd254d9443a161100967247e6bb8f200","value":"fd254d9443a161100967247e6bb8f200"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3510f477430146104733a7ec6bb8f2cf","value":"3510f477430146104733a7ec6bb8f2cf"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"49","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fd254d9443a161100967247e6bb8f200","value":"fd254d9443a161100967247e6bb8f200"},"sys_update_name":"sys_ws_operation_664249bb434146104733a7ec6bb8f297","consumes_customized":"false","name":"Apply Changes","produces":"application/json,application/xml,text/xml","relative_path":"/changes/apply","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        var pathparams = request.pathParams;\n        var exportSysId = pathparams.export_id;\n        var body = request.body.data;\n        var grSysAutoPar = new GlideRecordSecure('sysauto_par');\n        var vizSysIds = [];\n        var dashboardSysIds = [];\n        var toExportIds = [];\n        if (grSysAutoPar.get(exportSysId) && grSysAutoPar.canWrite()) {\n            if (body.scheduling) {\n                updateNotification(grSysAutoPar.notification.toString(), body.notification);\n                var exoprtIds = grSysAutoPar.to_export;\n\n                var parExportGr = new GlideRecordSecure(\"par_export\");\n                parExportGr.addQuery(\"sys_id\", \"IN\", exoprtIds);\n                parExportGr.query();\n                while (parExportGr.next()) {\n                    switch (parExportGr.sys_class_name.toString()) {\n                        case \"par_export_visualization\":\n                            vizSysIds.push(parExportGr.getUniqueValue());\n                            break;\n                        case \"par_export_dashboard\":\n                            dashboardSysIds.push(parExportGr.getUniqueValue());\n                            break;\n                        default:\n                            continue;\n                    }\n                }\n\n                toExportIds = toExportIds.concat(updateVizExport(vizSysIds, body.visualizations));\n                toExportIds = toExportIds.concat(updateDashboardExport(dashboardSysIds, body.dashboards));\n\n                updateScheduling(grSysAutoPar, body.scheduling, toExportIds);\n                return {\n                    status: 'Successfully update the scheduled job',\n                    jobId: exportSysId\n                };\n            }\n        } else {\n            var permError = new sn_ws_err.ServiceError();\n            permError.setStatus(403);\n            permError.setMessage('You do not have access to edit this job.');\n            permError.setDetail('You do not have permission to edit this scheduled export job');\n            response.setError(permError);\n        }\n    } catch (e) {\n        var serverError = new sn_ws_err.ServiceError();\n        serverError.setStatus(500);\n        serverError.setMessage(\"An error occurred. Scheduled job is not been updated.\");\n        serverError.setDetail(e.message);\n        response.setError(serverError);\n    }\n})(request, response);\n\nfunction updateScheduling(grSysAutoPar, scheduling, toExportIds) {\n    if (toExportIds)\n        grSysAutoPar.to_export = toExportIds.join(',');\n\n    if (scheduling.zip !== undefined)\n        grSysAutoPar.zip_output = scheduling.zip;\n\n    if (scheduling.active !== undefined)\n        grSysAutoPar.active = scheduling.active;\n\n    if (scheduling.schedule !== undefined) {\n        if (scheduling.schedule.businessCalendar !== undefined)\n            grSysAutoPar.business_calendar = scheduling.schedule.businessCalendar;\n\n        if (scheduling.schedule.time !== undefined)\n            grSysAutoPar.run_time = scheduling.schedule.time;\n\n        if (scheduling.schedule.dayOfTheMonth !== undefined)\n            grSysAutoPar.run_dayofmonth = scheduling.schedule.dayOfTheMonth;\n\n        if (scheduling.schedule.dayOfTheWeek !== undefined)\n            grSysAutoPar.run_dayofweek = scheduling.schedule.dayOfTheWeek;\n\n        if (scheduling.schedule.periodDuration !== undefined)\n            grSysAutoPar.run_period = new GlideDuration(scheduling.schedule.periodDuration);\n\n        if (scheduling.schedule.startOn !== undefined)\n            grSysAutoPar.run_start = scheduling.schedule.startOn;\n\n        if (scheduling.schedule.businessCalendarOffset !== undefined)\n            grSysAutoPar.offset_type = scheduling.schedule.businessCalendarOffset;\n    }\n\n    if (scheduling.conditionCode !== undefined)\n        grSysAutoPar.condition = scheduling.conditionCode;\n\n    if (scheduling.condition !== undefined)\n        grSysAutoPar.conditional = scheduling.condition;\n\n    if (scheduling.run !== undefined)\n        grSysAutoPar.run_type = scheduling.run;\n\n    if (scheduling.name !== undefined)\n        grSysAutoPar.name = scheduling.name;\n\n    if (!grSysAutoPar.update()) {\n        throw new Error('Failed to update scheduled job information. ' + grSysAutoPar.sys_id);\n    }\n}\n\nfunction updateNotification(notificationSysId, notification) {\n    var grNotification = new GlideRecordSecure('par_notification_email');\n\tvar grEmailRecipients = new GlideRecordSecure('par_notification_email_recipients');\n \n    if (grNotification.get(notificationSysId)) {\n        if (notification.recipients !== undefined)\n            grNotification.recipients = notification.recipients;\n\n        if (notification.subject !== undefined)\n            grNotification.subject = notification.subject;\n\n        if (notification.message !== undefined)\n            grNotification.message = notification.message;\n\n        if (!grNotification.update()) {\n            throw new Error('Failed to update scheduled job information for notification ');\n        }\n\t\telse {\n\t\t\tif (!grEmailRecipients.get(\"par_notification_email\", grNotification.sys_id)) {\n\t\t\t\tgrEmailRecipients.initialize();\n\t\t\t\tgrEmailRecipients.par_notification_email = grNotification.sys_id;\n\t\t\t\tif (notification.users !== undefined)\n\t\t\t\t\tgrEmailRecipients.users = unmapReferences(notification.users);\n\t\t\t\tif (notification.groups !== undefined)\n\t\t\t\t\tgrEmailRecipients.groups = unmapReferences(notification.groups);\n\t\t\t\t\n\t\t\t\tif (!grEmailRecipients.insert()) \n\t\t\t\t\tthrow new Error('Failed to update scheduled job information for notification ');\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (notification.users !== undefined)\n\t\t\t\t\tgrEmailRecipients.users = unmapReferences(notification.users);\n\t\t\t\tif (notification.groups !== undefined)\n\t\t\t\t\tgrEmailRecipients.groups = unmapReferences(notification.groups);\n\t\t\t\t\n\t\t\t\tif (!grEmailRecipients.update()) \n\t\t\t\t\tthrow new Error('Failed to update scheduled job information for notification ');\n\t\t\t}\n\t\t\t\n\t\t}\n    }\n}\n\nfunction updateVizExport(exportIds, visualizations) {\n    var grVisualization = new GlideRecordSecure('par_export_visualization');\n    var par_export_ids = [];\n    for (var i = 0; i < visualizations.length; i++) {\n        var viz = visualizations[i];\n        if (viz.sysId !== undefined && exportIds.indexOf(viz.sysId) !== -1) { //then we have an existing record\n            if (grVisualization.get(viz.sysId)) {\n                if (viz.orientation !== undefined)\n                    grVisualization.orientation = viz.orientation;\n\n                if (viz.fileType !== undefined)\n                    grVisualization.file_type = viz.fileType;\n\n                if (viz.size !== undefined)\n                    grVisualization.page_size = viz.size;\n\n                if (viz.visualization !== undefined) {\n                    if (typeof viz.visualization === 'string') {\n                        grVisualization.visualizations = viz.visualization;\n                    } else {\n                        grVisualization.visualizations = viz.visualization.id;\n                    }\n                }\n\n\n                if (viz.smartSize !== undefined)\n                    grVisualization.smart_size = viz.smartSize;\n\n                if (viz.omitIfEmpty !== undefined)\n                    grVisualization.omit_if_empty = viz.omitIfEmpty;\n                if (!grVisualization.update()) {\n                    throw new Error('Failed to update scheduled job information for visualization ' + JSON.stringify(viz));\n                } else {\n                    par_export_ids.push(grVisualization.sys_id.toString());\n                }\n            }\n            continue;\n        }\n        //we didnt get an exsisting one, lets make a new one\n        grVisualization.initialize();\n        grVisualization.orientation = viz.orientation;\n        grVisualization.file_type = viz.fileType;\n        grVisualization.page_size = viz.size;\n        grVisualization.visualizations = viz.visualization;\n        grVisualization.smart_size = viz.smartSize;\n        grVisualization.omit_if_empty = viz.omitIfEmpty;\n        if (viz.visualization !== undefined) {\n            if (typeof viz.visualization === 'string') {\n                grVisualization.visualizations = viz.visualization;\n            } else {\n                grVisualization.visualizations = viz.visualization.id;\n            }\n        }\n        if (!grVisualization.insert()) {\n            throw new Error('Failed to update scheduled job information for visualization ' + JSON.stringify(viz));\n        }\n        par_export_ids.push(grVisualization.sys_id.toString());\n    }\n    var toDelete = exportIds.filter(function(x) {\n        return par_export_ids.indexOf(x) === -1;\n    });\n    if (toDelete.length > 0) {\n        var vizDelete = new GlideRecordSecure('par_export_visualization');\n        vizDelete.addQuery('sys_id', 'IN', toDelete.join(','));\n        vizDelete.query();\n        while (vizDelete.next())\n            vizDelete.deleteRecord();\n    }\n    return par_export_ids;\n}\n\nfunction updateDashboardExport(exportIds, dashboards) {\n    var grDashboard = new GlideRecordSecure('par_export_dashboard');\n    var par_export_ids = [];\n    for (var i = 0; i < dashboards.length; i++) {\n        var dashboard = dashboards[i];\n        if (dashboard.sysId != undefined && exportIds.indexOf(dashboard.sysId) != -1) {\n            if (grDashboard.get(dashboard.sysId)) {\n                if (typeof dashboard.dashboard === 'string')\n                    grDashboard.dashboard = dashboard.dashboard;\n                else\n                    grDashboard.dashboard = dashboard.dashboard.id;\n                if (dashboard.fileType != undefined)\n                    grDashboard.file_type = dashboard.fileType;\n                if (dashboard.canvasList != undefined)\n                    grDashboard.dashboard_canvas = dashboard.canvasList.join(',');\n                if (dashboard.omitIfEmpty !== undefined)\n                    grDashboard.omit_if_empty = dashboard.omitIfEmpty;\n                if (dashboard.fileType != 'ppt') {\n                    grDashboard.orientation = dashboard.orientation;\n                    grDashboard.page_size = dashboard.size;\n                }\n                if (!grDashboard.update()) {\n                    throw new Error('Failed to update scheduled job information for dashboard' + JSON.stringify(dashboard));\n                } else {\n                    par_export_ids.push(grDashboard.sys_id.toString());\n                }\n\n            }\n            continue;\n        }\n        //we didnt get any existing dashboard export record, make new one\n        grDashboard.initialize();\n        grDashboard.file_type = dashboard.fileType;\n        grDashboard.dashboard = dashboard.dashboard.id;\n        grDashboard.dashboard_canvas = dashboard?.canvasList?.join(',');\n        grDashboard.omit_if_empty = dashboard.omitIfEmpty;\n        if (dashboard.dashboard != undefined) {\n            if (typeof dashboard.dashboard === 'string')\n                grDashboard.dashboard = dashboard.dashboard;\n            else\n                grDashboard.dashboard = dashboard.dashboard.id;\n        }\n        if (!grDashboard.insert()) {\n            throw new Error('Failed to update scheduled job information for dashboard ' + JSON.stringify(dashboard));\n        } else\n            par_export_ids.push(grDashboard.sys_id.toString());\n    }\n    var toDelete = exportIds.filter(function(x) {\n        return par_export_ids.indexOf(x) === -1;\n    });\n    if (toDelete.length > 0) {\n        var dashboardDelete = new GlideRecordSecure('par_export_dashboard');\n        dashboardDelete.addQuery('sys_id', 'IN', toDelete.join(','));\n        dashboardDelete.query();\n        while (dashboardDelete.next())\n            dashboardDelete.deleteRecord();\n    }\n    return par_export_ids;\n}\n\nfunction unmapReferences(references) {\n    var res = [];\n    for (var i = 0; i < references.length; i++) {\n        res.push(references[i].id);\n    }\n    return res.join(',');\n}","sys_updated_on":"2024-10-08 10:28:56","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"668f9e3ec3321110c9f0985cb140dd7f","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/now/par_scheduled_export/update/{export_id}","sys_created_on":"2022-10-31 09:27:51","sys_name":"Update a scheduled job","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/9509c0e54e289e08608566160eb606cb","value":"9509c0e54e289e08608566160eb606cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/c3faf7c8536a11107c19ddeeff7b124d","value":"c3faf7c8536a11107c19ddeeff7b124d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"42","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9509c0e54e289e08608566160eb606cb","value":"9509c0e54e289e08608566160eb606cb"},"sys_update_name":"sys_ws_operation_668f9e3ec3321110c9f0985cb140dd7f","consumes_customized":"false","name":"Update a scheduled job","produces":"application/json,application/xml,text/xml","relative_path":"/update/{export_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var appManagerApiUtil = new AppManagerApiUtil(request, response);\n    try {\n        var args = appManagerApiUtil.getRequestParams();\n        var pluginPreInstallService = new PluginPreInstallService();\n        var responseData = pluginPreInstallService.getPreInstallPluginInfo({\n            \"id\": args.queryParams.id,\n            \"scope\":  args.queryParams.scope\n        });\n        appManagerApiUtil.setResponseBody(responseData);\n    } catch (err) {\n        appManagerApiUtil.setError(err);\n    }\n\n})(request, response);","sys_updated_on":"2023-10-04 09:25:33","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/be08b89397b0d1104b593f0e6253afe1","value":"be08b89397b0d1104b593f0e6253afe1"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"668fb458972c61104b593f0e6253afa7","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_appclient/v1/appmanager/pluginpreinstallinfo","sys_created_on":"2023-01-18 07:55:54","sys_name":"GetPluginPreInstallInfo","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7ea1fc5f9770d1104b593f0e6253af99","value":"7ea1fc5f9770d1104b593f0e6253af99"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_update_name":"sys_ws_operation_668fb458972c61104b593f0e6253afa7","consumes_customized":"false","name":"GetPluginPreInstallInfo","produces":"application/json,application/xml,text/xml","relative_path":"/pluginpreinstallinfo","produces_customized":"false","default_operation_uri":"/api/sn_appclient/appmanager/pluginpreinstallinfo","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var TABLES = {\n        INCIDENT: \"incident\",\n        PROBLEM: \"problem\"\n    };\n\t\n    var LINK_FIELD = 'problem_id';\n\n    if (!gs.hasRole('itil,sn_incident_write'))\n        return response.setBody({\n            succeed: false,\n            message: gs.getMessage(\"Roles are insufficient to perform the action\")\n        });\n\n    /**\n     * isAgentAssist: to indicate whether this is REST call is from Agent Assist\n     * actionId: search UI Action's unique ID\n     * incidentId: sys_id of Incident record which has search term\n     * problemId: sys_id of Problem record which is the search result\n     */\n\n    var isAgentAssist = request.body.data.isAgentAssist;\n    var actionId = request.body.data.actionId;\n    var incidentId = request.body.data.currentId;\n    var problemId = request.body.data.resourceId;\n    var body = {};\n    \n    var problemGr = new GlideRecord(TABLES.PROBLEM);\n    if (!problemGr.get(problemId))\n        return response.setBody({\n            succeed: false,\n            message: gs.getMessage(\"Invalid Problem record\")\n        });\n    \n    if (isAgentAssist) {\n        body.succeed = true;\n        body.actionId = request.body.data.actionId;\n        body.resourceRecord = {};\n        body.resourceRecord.sys_id = problemId;\n        body.resourceRecord.number = problemGr.number;\n        body.linkField = LINK_FIELD;\n        body.modalTitle = gs.getMessage('Link to incident');\n\tbody.confirmationMessage = gs.getMessage('You are linking the current {0} as a Parent to {1}');\n\tbody.successMessage = gs.getMessage('{0} has been linked as a Parent to {1}');\n        response.setBody(body);\n        return;\n    }\n\n    var incidentGr = new GlideRecord(TABLES.INCIDENT);\n    if (!incidentGr.get(incidentId))\n        return response.setBody({\n            succeed: false,\n            message: gs.getMessage(\"Invalid Incident record\")\n        });\n\n    incidentGr.setValue(LINK_FIELD, problemGr.getUniqueValue());\n    var result = incidentGr.update();\n\n    /**\n     * action_id (mandatory): search UI Action's unique ID, AS/AI will use it to determine how to handle result\n     * item_id (optional): \"table_name:record_id\", having this tells AS/AI to refresh child record's UI Action list due to link action's change on child record\n     * succeed (mandatory): indicates link action is successfully done or not\n     * message (optional): shows on top of the form after action is performed\n     */\n\n    body.action_id = actionId;\n    body.item_id = TABLES.INCIDENT + \":\" + incidentGr.getUniqueValue();\n    if (!result) {\n        body.succeed = false;\n        body.message = gs.getMessage('Updating \"Problem\" field on {0} has failed', incidentGr.getDisplayValue());\n    } else {\n        body.succeed = true;\n        body.message = gs.getMessage('{0} has been linked as a Parent to {1}', [problemGr.getDisplayValue(), incidentGr.getDisplayValue()]);\n    }\n    response.setBody(body);\n\n})(request, response);","sys_updated_on":"2020-03-17 20:31:00","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"66b850d987012300fb3ad61e36cb0b15","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/cxs_actions/link_inc_to_prb","sys_created_on":"2018-10-08 10:40:36","sys_name":"link_inc_to_prb","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5f387aa0b32023002bf182c136a8dc1c","value":"5f387aa0b32023002bf182c136a8dc1c"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"19","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8ddc67fb04352210559073c06a02f70d","value":"8ddc67fb04352210559073c06a02f70d"},"sys_update_name":"sys_ws_operation_66b850d987012300fb3ad61e36cb0b15","consumes_customized":"false","name":"link_inc_to_prb","produces":"application/json,application/xml,text/xml","relative_path":"/link_inc_to_prb","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var saOpsWrapper = new SaOperationsWrapper(SNC.SaActionsHandler);\n\tsaOpsWrapper.process(request,response, \"getServiceTimelineCheckpoints\");\n\n})(request, response);","sys_updated_on":"2018-03-11 12:46:52","enforce_acl":"ea4f3ae287132200b5bea18dd0e3eceb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"67dcee137f520300995cbaf8befa918f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/it_service/getServiceTimelineCheckpoints","sys_created_on":"2017-11-13 13:31:42","sys_name":"GetServiceTimelineCheckpoints(Int. API)","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3418e25f7f120300995cbaf8befa912e","value":"3418e25f7f120300995cbaf8befa912e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_67dcee137f520300995cbaf8befa918f","consumes_customized":"false","name":"GetServiceTimelineCheckpoints(Int. API)","produces":"application/json,application/xml,text/xml","relative_path":"/getServiceTimelineCheckpoints","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tresponse.setContentType('application/json');\n\t\n\tvar result = [];\n\tvar gr = new GlideRecord('sys_dictionary');\n\tgr.addQuery('name', 'cmdb_ci');\n\tgr.addQuery('reference.name', 'sys_user_group');\n\tgr.query();\n\twhile (gr.next()) {\n\t\tvar field = {};\n\t\tfield.label = gr.getValue('column_label');\n\t\tfield.name = gr.getValue('element');\n\t\tfield.sys_id = gr.getValue('sys_id');\n\t\tresult.push(field);\n\t}\n\t\n\tresponse.setStatus(200);\n\tresponse.setBody(result);\n\n})(request, response);","sys_updated_on":"2021-09-08 03:35:33","enforce_acl":"885bc51053832010af64ddeeff7b12cb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"67f22cd453a23010ee0dddeeff7b128a","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/ci_lifecycle_manager/task_group_fields","sys_created_on":"2021-09-08 03:30:42","sys_name":"Get Task Group Fields","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ad9ebe127322101045cadfcd3bf6a735","value":"ad9ebe127322101045cadfcd3bf6a735"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"sys_update_name":"sys_ws_operation_67f22cd453a23010ee0dddeeff7b128a","consumes_customized":"false","name":"Get Task Group Fields","produces":"application/json,application/xml,text/xml","relative_path":"/task_group_fields","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var applicationSysId = request.pathParams.application_sys_id;\n\n    if (!applicationSysId) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(400)\n            .setMessage(gs.getMessage(\"Missing App Id\"));\n    }\n\n    if (!RoleBuilderPermissions.canReadApp(applicationSysId)) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(403)\n            .setMessage(gs.getMessage('403 Forbidden: User does not have access to app with id {0}.', applicationSysId));\n    }\n\n    try {\n        var result = {\n            canWriteRoles: RoleBuilderPermissions.canWriteRoles()\n        };\n\n        response.setBody(result);\n        response.setStatus(200);\n\n    } catch (exception) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(500)\n            .setMessage(gs.getMessageLang('Unhandled exception {0}', \"en\", [exception]))\n            .setDetail(gs.getMessage('Unhandled exception {0}', [exception]));\n\n    }\n\n})(request, response);","sys_updated_on":"2023-08-03 09:41:36","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/4d8d15aa53923010fe92ddeeff7b1263","value":"4d8d15aa53923010fe92ddeeff7b1263"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"682c699a77933010f082d599cf5a99ed","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_role_builder/v1/application/{application_sys_id}/permissions","sys_created_on":"2021-10-21 20:40:29","sys_name":"GET Permissions","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/8df4249253123010fe92ddeeff7b120e","value":"8df4249253123010fe92ddeeff7b120e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/126d91aa53923010fe92ddeeff7b126f","value":"126d91aa53923010fe92ddeeff7b126f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8df4249253123010fe92ddeeff7b120e","value":"8df4249253123010fe92ddeeff7b120e"},"sys_update_name":"sys_ws_operation_682c699a77933010f082d599cf5a99ed","consumes_customized":"false","name":"GET Permissions","produces":"application/json,application/xml,text/xml","relative_path":"/{application_sys_id}/permissions","produces_customized":"false","default_operation_uri":"/api/sn_role_builder/application/{application_sys_id}/permissions","sys_policy":"read"},{"short_description":"Returns  object template categories using template manifest table ","operation_script":"// Returns an array of template manifest records\n// format -> [{tableName, tableNameId, templateId}]\nfunction getTemplateManifests() {\n    var templateManifests = [];\n\n    var templateManifestRecords = new GlideRecord(\"sys_app_template_manifest\");\n    templateManifestRecords.addJoinQuery(\"sys_app_template\");\n    templateManifestRecords.addQuery(\"template.active\", true);\n    templateManifestRecords.query();\n\n    while (templateManifestRecords.next()) {\n        templateManifests.push({\n            tableName: templateManifestRecords.table_name\n                .getRefRecord()\n                .getValue(\"name\"),\n            tableNameId: templateManifestRecords.getValue('table_name'),\n            templateId: templateManifestRecords.getValue('template')\n        });\n    }\n\n    return templateManifests;\n}\n\n// Returns taxonomy lookup from sn_app_eng_studio_taxonomy table.\n// format -> { taxonomyName: {taxonomyId, taxonomyName, taxonomyCategorySysId, taxonomyCategoryDisplayValue} }\nfunction getTaxonomyLookup(templateManifests) {\n    if (!templateManifests || !templateManifests.length) {\n        // Return empty lookup if there are no manifests\n        return {};\n    }\n\n    var taxonomyDefinitionsDataModel = new TaxonomyDefinitionsDataModel();\n    var getImageUrl = taxonomyDefinitionsDataModel._getImageUrl;\n    var getTableType = taxonomyDefinitionsDataModel._getTableType;\n    var taxonomyLookup = {};\n    var taxonomyRecords = new GlideRecord(\"sn_app_eng_studio_taxonomy\");\n    var taxonomyQuery = null;\n    templateManifests.forEach(function(templateManifest, index) {\n        if (index === 0) {\n            taxonomyQuery = taxonomyRecords.addQuery('table', templateManifest.tableName);\n        } else {\n            taxonomyQuery = taxonomyQuery.addOrCondition('table', templateManifest.tableName);\n        }\n    });\n\n    taxonomyRecords.query();\n\n    while (taxonomyRecords.next()) {\n        var tableName = taxonomyRecords.getValue('table');\n        var tableNameOverride = taxonomyRecords.getDisplayValue(\"table_name_override\") || \"\";\n\n        taxonomyLookup[tableName] = {\n            taxonomyId: taxonomyRecords.getValue('sys_id'),\n            taxonomyName: tableName,\n            taxonomyCategorySysId: taxonomyRecords.getValue('category'),\n            taxonomyCategoryDisplayValue: taxonomyRecords.getDisplayValue('category'),\n            taxonomyIcon: getImageUrl(taxonomyRecords, 'icon'),\n            taxonomyType: getTableType(tableName, tableNameOverride)\n        };\n    }\n\n    return taxonomyLookup;\n}\n\n// Returns a lookup which has templateId as the key and\n// format -> {templateId: {categoryList: [{taxonomyId, taxonomyName, taxonomyCategorySysId, taxonomyCategoryDisplayValue}] }}\nfunction combineData(templateManifests, taxonomyLookup) {\n    var templateCategoryLookup = {};\n\n    templateManifests.forEach(function(templateManifest) {\n        var templateId = templateManifest.templateId;\n\n        if (!templateCategoryLookup[templateId]) {\n            // First occurrence of a template\n            // Initialize the value in the lookup\n            templateCategoryLookup[templateId] = {\n                templateId: templateId,\n                categoryLookup: {}\n            };\n        }\n\n        var categoryObject = taxonomyLookup[templateManifest.tableName];\n\n        // Only add category if the categoryObject was found in the creator studio taxonomy table\n        if (categoryObject) {\n            categoryObject.tableSysId = templateManifest.tableNameId;\n            templateCategoryLookup[templateId].categoryLookup[templateManifest.tableNameId] = categoryObject;\n        }\n    });\n\n    return templateCategoryLookup;\n}\n\n// Formats templateCategoryLookup for api response\nfunction formatApiResponse(templateCategoryLookup) {\n    var response = [];\n\n    // Convert templateCategoryLookup lookup to an array \n    Object.keys(templateCategoryLookup).forEach(function(key) {\n        var categories = [];\n        Object.keys(templateCategoryLookup[key].categoryLookup)\n            .forEach(function(categoryKey) {\n                categories.push(templateCategoryLookup[key].categoryLookup[categoryKey]);\n            });\n\n        response.push({\n            templateId: templateCategoryLookup[key].templateId,\n            categories: categories\n        });\n    });\n\n    return response;\n}\n\nfunction process(request, response) {\n    var templateManifests = getTemplateManifests();\n    var taxonomyLookup = getTaxonomyLookup(templateManifests);\n    var templateCategoryLookup = combineData(templateManifests, taxonomyLookup);\n\n    response.setStatus(200);\n    response.setBody(formatApiResponse(templateCategoryLookup));\n}\n\nprocess(request, response);","sys_updated_on":"2021-04-09 22:16:56","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a1744edd53d150100f29ddeeff7b12e3","value":"a1744edd53d150100f29ddeeff7b12e3"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"68377e47530150100f29ddeeff7b1200","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_app_eng_studio/v1/object_template_category","sys_created_on":"2020-06-01 21:15:51","sys_name":"Get Object Template Category","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/46b47a07530150100f29ddeeff7b12e8","value":"46b47a07530150100f29ddeeff7b12e8"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"133","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_ws_operation_68377e47530150100f29ddeeff7b1200","consumes_customized":"false","name":"Get Object Template Category","produces":"application/json,application/xml,text/xml","relative_path":"/","produces_customized":"false","default_operation_uri":"/api/sn_app_eng_studio/object_template_category","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar pageId = request.pathParams.pageId;\n\tvar acePageId = request.pathParams.acePageId;\n\tvar result = [];\n\tvar acePageGr = new GlideRecord(\"sn_ace_page\");\n\tacePageGr.get(acePageId);\n\tvar watchedClientScripts = [];\n\tif(acePageGr.isValid()) {\n\t\tvar clientScriptIds = acePageGr.getValue(\"client_scripts\");\n\t\tif(clientScriptIds) {\n\t\t\twatchedClientScripts = clientScriptIds.split(\",\");\n\t\t}\n\t}\n\tvar gr = new GlideRecord(\"sys_ux_client_script\");\n\tgr.addQuery(\"macroponent\", pageId);\n\tgr.query();\n\twhile(gr.next()) {\n\t\tif(watchedClientScripts.indexOf(gr.getUniqueValue()) > -1 || gr.getValue(\"name\") == \"beforePageLoad\" || gr.getValue(\"name\") == \"beforePageLoadV3\") {\n\t\t\tresult.push({sysId: gr.getUniqueValue(), name: gr.getValue(\"name\"), script: gr.getValue(\"script\"), \n\t\t\t\tincludes: gr.getValue(\"includes\"), watcher: watchedClientScripts.indexOf(gr.getUniqueValue()) > -1});\t\t\n\t\t}\n\t}\n\tresponse.setBody(result);\n})(request, response);","sys_updated_on":"2023-04-10 15:41:14","enforce_acl":"4b2b70b277862110bc5db5b27a5a99d1","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"687550a453b71110c733ddeeff7b1219","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/ace/fetchClientScripts/{acePageId}/{pageId}","sys_created_on":"2022-12-12 16:46:31","sys_name":"fetchClientScripts","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/090c5ee353721110c733ddeeff7b1299","value":"090c5ee353721110c733ddeeff7b1299"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_update_name":"sys_ws_operation_687550a453b71110c733ddeeff7b1219","consumes_customized":"false","name":"fetchClientScripts","produces":"application/json,application/xml,text/xml","relative_path":"/fetchClientScripts/{acePageId}/{pageId}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"API to fetch all the products ","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var appManagerApiUtil = new AppManagerApiUtil(request, response);\n    try {\n        var productInfoHelper  = new ProductInfoHelper();\n        var products = productInfoHelper.getProducts(appManagerApiUtil);\n        appManagerApiUtil.setResponseBody(products);\n    } catch (err) {\n        appManagerApiUtil.setError(err);\n    }\n    })(request, response);","sys_updated_on":"2023-10-04 09:25:33","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/be08b89397b0d1104b593f0e6253afe1","value":"be08b89397b0d1104b593f0e6253afe1"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"6881900677ca1910c918256a5b5a99fd","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_appclient/v1/appmanager/products","sys_created_on":"2022-09-21 08:26:34","sys_name":"GetProducts","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7ea1fc5f9770d1104b593f0e6253af99","value":"7ea1fc5f9770d1104b593f0e6253af99"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"14","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_update_name":"sys_ws_operation_6881900677ca1910c918256a5b5a99fd","consumes_customized":"false","name":"GetProducts","produces":"application/json,application/xml,text/xml","relative_path":"/products","produces_customized":"false","default_operation_uri":"/api/sn_appclient/appmanager/products","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n    var appId = request.pathParams.appId;\n\n    ScopeCheck.verifyNotGlobal(appId);\n\n    var allowed = VCSAppAccessCheck.verifyWriteAccess(appId) && (VCSAppAccessCheck.isGACOrSourceControlUser() || VCSAppAccessCheck.verifyVersionControlAccess(appId));\n    if (!allowed) \n\t\tVCSAppAccessCheck.throwAccessDenied(appId);\n\n    var progressId = sn_vcs.AppSourceControl.getRepository(appId)\n        .workers()\n        .generateStashPreview()\n        .setStash(request.body.data.stashId)\n        .start();\n\n    response.setBody({\n        progressId: progressId\n    });\n\n    response.setStatus(202);\n    response.setContentType('application/json');\n\n})(request, response);","sys_updated_on":"2021-04-06 20:11:14","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"692efb7337301200612747efbe41f18d","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/apps/{appId}/repos/{repoId}/stash_previews","sys_created_on":"2016-01-14 06:36:54","sys_name":"Generate Stash Preview","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"17","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_692efb7337301200612747efbe41f18d","consumes_customized":"false","name":"Generate Stash Preview","produces":"application/json,application/xml,text/xml","relative_path":"/apps/{appId}/repos/{repoId}/stash_previews","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/apps/{appId}/repos/{repoId}/stash_previews","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    const apiHelper = new APIHelper(request, response);\n    apiHelper.execute(function() {\n        const {\n            name,\n            description,\n            sysId,\n            controllerConfigGuidance\n        } = request.body.data;\n        if (!sysId) {\n            return apiHelper.respondUnsuccessfully(BuilderToolkitConstants.ERRORS.NO_CONTROLLER_FOUND);\n        }\n        apiHelper.getResponseGlideOperation(new Controller().updateRecord({\n            controllerConfigGuidance,\n            name,\n            description,\n            sysId\n        }), BuilderToolkitConstants.ERRORS.FAILED_TO_UPDATE);\n    });\n\n})(request, response);","sys_updated_on":"2023-11-29 17:36:36","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"693009b9433a3110e70583020cb8f29e","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/controller","sys_created_on":"2023-11-29 16:21:41","sys_name":"Controller","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_693009b9433a3110e70583020cb8f29e","consumes_customized":"false","name":"Controller","produces":"application/json,application/xml,text/xml","relative_path":"/controller","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n      var viewConfigSysId = request.pathParams.viewConfigSysId;\n    \tvar viewTemplateSysId = Array.isArray(request.queryParams.viewTemplateSysId) \n                            ? request.queryParams.viewTemplateSysId[0] \n                            : request.queryParams.viewTemplateSysId;\n      var viewConfigTable = Array.isArray(request.queryParams.viewConfigTable) \n                          ? request.queryParams.viewConfigTable[0] \n                          : request.queryParams.viewConfigTable;\n    \tvar viewConfigMetadata = new sn_mab_api.ViewConfigMetadata(viewConfigSysId);\n    \treturn viewConfigMetadata.getElementAttributeFieldMetadata(viewTemplateSysId, viewConfigTable);\n  \n    })(request, response);","sys_updated_on":"2024-07-02 11:37:11","enforce_acl":"4bbe81b4c703201066492f3bf4c260e6","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"6942f6d667823110f6c7f0270af92250","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_mab_api/mab_api/cardFieldsMetadata/{viewConfigSysId}","sys_created_on":"2023-10-25 07:10:04","sys_name":"Get Card Fields Metadata","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3512bd93c7c12010100f2f3bf4c26049","value":"3512bd93c7c12010100f2f3bf4c26049"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_update_name":"sys_ws_operation_6942f6d667823110f6c7f0270af92250","consumes_customized":"false","name":"Get Card Fields Metadata","produces":"application/json,application/xml,text/xml","relative_path":"/cardFieldsMetadata/{viewConfigSysId}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar profileId = request.pathParams.profileId;\n\tvar subObject = request.queryParams.subObject;\n\n\tvar actSubCtx = ActivitySubscriptionContext.getContext();\n\tif(!actSubCtx.isPluginEnabled()){\n\t\tresponse.setStatus(400);\n\t\treturn {\"status\":400,\n\t\t\t\t\"message\":\"Plugin is disabled please contact system administrator\"};\n\t}\n\tvar subscriptionService = actSubCtx.getSubscriptionService();\n\n\tvar preferences = subscriptionService.getPreferences(profileId, subObject);\n\tresponse.setContentType('application/json');\n\tresponse.setStatus(preferences.status);\n\tresponse.setBody(preferences);\n})(request, response);","sys_updated_on":"2018-01-31 18:04:09","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/882dfe6853003200fa9bd7b08cc587d5","value":"882dfe6853003200fa9bd7b08cc587d5"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"694a6c3bdb013200624273c8f0b8f5e2","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/actsub/preferences/{profileId}","sys_created_on":"2017-02-26 17:55:03","sys_name":"Preferences","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/aabc7e6853003200fa9bd7b08cc5870f","value":"aabc7e6853003200fa9bd7b08cc5870f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/27dc6bfb04352210559073c06a02f739","value":"27dc6bfb04352210559073c06a02f739"},"sys_update_name":"sys_ws_operation_694a6c3bdb013200624273c8f0b8f5e2","consumes_customized":"false","name":"Preferences","produces":"application/json,application/xml,text/xml","relative_path":"/preferences/{profileId}","produces_customized":"false","default_operation_uri":"/api/now/actsub/preferences/{profileId}","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var appManagerApiUtil = new AppManagerApiUtil(request, response);\n    var tracker = new ProgressTracker();\n    try {\n        var result = tracker.getPendingBatchInstallations();\n        appManagerApiUtil.setResponseBody(result);\n    } catch (err) {\n        appManagerApiUtil.setError(err);\n    }\n})(request, response);","sys_updated_on":"2023-10-04 09:25:33","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/be08b89397b0d1104b593f0e6253afe1","value":"be08b89397b0d1104b593f0e6253afe1"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"694f2fa84c4aa110f8774058d68022fc","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_appclient/v1/appmanager/pendingbatchinstallations","sys_created_on":"2023-04-04 04:53:19","sys_name":"Pending Batch Install Status","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7ea1fc5f9770d1104b593f0e6253af99","value":"7ea1fc5f9770d1104b593f0e6253af99"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_update_name":"sys_ws_operation_694f2fa84c4aa110f8774058d68022fc","consumes_customized":"false","name":"Pending Batch Install Status","produces":"application/json,application/xml,text/xml","relative_path":"/pendingbatchinstallations","produces_customized":"false","default_operation_uri":"/api/sn_appclient/appmanager/pendingbatchinstallations","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var options = TBUtil.assign({},\n        request.pathParams,\n        TBUtil.normalizeQueryParams(request.queryParams)\n    );\n    var apiResponse = new APIRequestProcessor(APIRequestProcessor.REQUEST_TABLE_EXTENSIONS, options).build();\n\n    response.setBody(apiResponse);\n\n})(request, response);","sys_updated_on":"2021-01-13 02:51:55","enforce_acl":"f70e338e73f110107419c907fbf6a733","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"6a501c03c721201031a006d427c26053","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_table_builder/app/getTableExtensions/{table}","sys_created_on":"2021-01-11 01:50:22","sys_name":"Table Extensions API","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f53f19bac362fa22ca2e93692d32f18f","value":"f53f19bac362fa22ca2e93692d32f18f"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/72cd338e73f110107419c907fbf6a730","value":"72cd338e73f110107419c907fbf6a730"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f53f19bac362fa22ca2e93692d32f18f","value":"f53f19bac362fa22ca2e93692d32f18f"},"sys_update_name":"sys_ws_operation_6a501c03c721201031a006d427c26053","consumes_customized":"false","name":"Table Extensions API","produces":"application/json,application/xml,text/xml","relative_path":"/getTableExtensions/{table}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // implement resource here\n    var result = CollabTaskServiceV2.getControllerInfo();\n    response.setBody(result.body);\n    response.setStatus(result.status);\n\t\n})(request, response);","sys_updated_on":"2024-02-19 07:37:24","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/d47b4a5dc7f33010408bc8d6f2c260cc","value":"d47b4a5dc7f33010408bc8d6f2c260cc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"6a77354347148610c7599402516d43a2","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_collab_request/v2/collaboration_tasks_api/controller_collab_plugin_info","sys_created_on":"2024-02-16 07:09:45","sys_name":"Get Controller Collab Req Plugin details","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/6adeae39c3013010a9f5e548fa40dd4e","value":"6adeae39c3013010a9f5e548fa40dd4e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"sys_update_name":"sys_ws_operation_6a77354347148610c7599402516d43a2","consumes_customized":"false","name":"Get Controller Collab Req Plugin details","produces":"application/json,application/xml,text/xml","relative_path":"/controller_collab_plugin_info","produces_customized":"false","default_operation_uri":"/api/sn_collab_request/collaboration_tasks_api/controller_collab_plugin_info","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var tinyID = request.pathParams.tiny_id;\n    var tinyGR = new GlideRecord(\"sys_tiny_url\");\n\n    if (tinyGR.get(\"tiny_url\", tinyID)) {\n        var requestParams = tinyGR.getValue(\"data\");\n        var params = requestParams.split(\"&\");\n        var paramsMap = {};\n        for (var i = 0; i < params.length; i++) {\n            var param = params[i].split(\"=\");\n            paramsMap[param[0]] = param[1];\n        }\n\n        /**\n         * Below check is implemented as a workaround to DEF0457404.\n         * \n         * 1. The issue is due to the user session not updated after authentication and it is always stays with previous user session\n         * 2. ni.nolog.token query parameter cannot be accessed directly and it results in an array of values. we use queryString to manually get the value and check the access.\n         * \n         * Remidation here is to check the token of the tinyurl user and match it with the incoming token to see the request is valid.\n         * \n         * This code should be removed / updated after the above PRB is fixed.\n         */\n        var queryString = request.queryString;\n        if (queryString.includes(\"ni.nolog.token\")) {\n            queryString = queryString.split(\"ni.nolog.token=\")[1];\n        } else {\n            response.setStatus(401);\n            return;\n        }\n        if (gs.nil(paramsMap[\"sysparm_id\"]) || !(new OnCallCommonSNC().isValidUserAPIKey(paramsMap[\"sysparm_id\"], queryString))) {\n            response.setStatus(401);\n            return;\n        }\n\n        var useCache = true;\n        var useCacheParam = request.queryParams.use_cache;\n        if (typeof useCacheParam !== \"undefined\")\n            useCache = useCacheParam == \"true\";\n        try {\n            var writer = response.getStreamWriter();\n            response.setStatus(200);\n            response.setHeader(\"Content-Type\", \"text/calendar\");\n            var groupId = paramsMap[\"sysparm_group_id\"] + \"\";\n            var rotaId = paramsMap[\"sysparm_rota_id\"] + \"\";\n            var userId = paramsMap[\"sysparm_id\"] + \"\";\n            var groupName, shiftName;\n            var groupGr = new GlideRecord(\"sys_user_group\");\n            if (groupGr.get(groupId)) groupName = groupGr.getValue(\"name\");\n            if (rotaId == \"all\") {\n                writer.writeString(new OCRotaICalendar().getGroupCalendarEvents(\n                    groupId,\n                    null,\n                    useCache\n                ));\n            } else {\n                var rotaGr = new GlideRecord(\"cmn_rota\");\n                if (rotaGr.get(rotaId)) shiftName = rotaGr.getValue(\"name\");\n                writer.writeString(\n                    new OCRotaICalendar().getCalendarEvents(\n                        groupId,\n                        rotaId,\n                        userId,\n                        null,\n                        useCache\n                    )\n                );\n            }\n            var fileName = \"calendar.ics\";\n            if (groupName && shiftName) fileName = groupName + \"_\" + shiftName + \"_\" + \"calendar.ics\";\n            else if (groupName) fileName = groupName + \"_\" + \"calendar.ics\";\n            response.setHeader(\"Content-Disposition\", \"inline; filename=\" + fileName);\n        } catch (e) {\n            response.setStatus(404);\n        }\n    } else\n        response.setStatus(400);\n})(request, response);","sys_updated_on":"2024-04-16 09:05:19","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"6ab21bcd88a93110f877f4ed1d42420a","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/subscribeCalendar/{tiny_id}","sys_created_on":"2023-09-26 15:45:19","sys_name":"subscribeCalendar","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"15","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_6ab21bcd88a93110f877f4ed1d42420a","consumes_customized":"false","name":"subscribeCalendar","produces":"text/calendar","relative_path":"/subscribeCalendar/{tiny_id}","produces_customized":"true","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n  var sysId = request.pathParams.sysId;\n\n  var formatName = request.queryParams.format\n    ? request.queryParams.format[0]\n    : \"viewConfigFormat\";\n  var formatList = new sn_mobile_card_bui.McbResultFormats();\n  var format = formatList.getFormat(formatName);\n\n  var util = new sn_mobile_card_bui.McbGlideRecordUtil(format);\n  if (util.verifyAuth('sys_sg_view_config', sysId)) {\n    var viewConfigHM = util.getCard(sysId);\n    var viewTemplateHM = util.getTemplate(viewConfigHM[\"template\"], false);\n    var uIRuleHMs = util.getUiRules(sysId);\n\n    viewConfigHM[\"template\"] = viewTemplateHM;\n    viewConfigHM[\"mobileUiRules\"] = uIRuleHMs;\n\n    return viewConfigHM;\n  } else {\n    response.setStatus(401);\n  }\n})(request, response);\n","sys_updated_on":"2023-07-31 08:17:54","enforce_acl":"cf9d01d3e73003009d6247e603f6a990,d7088c08b751211095411226de11a9e9","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"6ac64ea47730211095417f7c8c5a99f0","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/mcb/view_config/{sysId}","sys_created_on":"2023-01-31 18:02:33","sys_name":"View Config - Get","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/63d8b7c573c51010a59b4c5353f6a737","value":"63d8b7c573c51010a59b4c5353f6a737"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"141","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_update_name":"sys_ws_operation_6ac64ea47730211095417f7c8c5a99f0","consumes_customized":"false","name":"View Config - Get","produces":"application/json,application/xml,text/xml","relative_path":"/view_config/{sysId}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        var requestBody = request.body.data;\n        var appSysId = requestBody.app_sys_id;\n        var searchTerm = requestBody.search_term;\n        var operatingSystem = requestBody.operating_system || 'web';  // Optional, default to 'web'\n\n        // Validate mandatory fields\n        if (!appSysId || !searchTerm) {\n            return response.setStatus(400).setBody({ status: 'error', message: gs.getMessage('AppSysId and Search Term are required') });\n        }\n\n        // Call the Script Include to search for page display names\n        var result = new UXAPageUtils().searchPageDisplayName(appSysId, searchTerm, operatingSystem);\n\n        return response.setBody(result);\n    } catch (error) {\n        return response.setStatus(500).setBody({ status: 'error', message: gs.getMessage('An unexpected error occurred') });\n    }\n})(request, response);\n\n","sys_updated_on":"2024-09-17 16:43:16","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/d93d4288ffe7c21024f4ffffffffff52","value":"d93d4288ffe7c21024f4ffffffffff52"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"6bab96199f2452103bf5cb348a0a1cba","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_uxa_req_manager/v1/uxa_data/search-page-display-name","sys_created_on":"2024-09-09 05:43:28","sys_name":"Search Page Display Name","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/e9f5c0d20b620210e8a937009777b2d7","value":"e9f5c0d20b620210e8a937009777b2d7"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_update_name":"sys_ws_operation_6bab96199f2452103bf5cb348a0a1cba","consumes_customized":"false","name":"Search Page Display Name","produces":"application/json,application/xml,text/xml","relative_path":"/search-page-display-name","produces_customized":"false","default_operation_uri":"/api/sn_uxa_req_manager/uxa_data/search-page-display-name","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var options = TBUtil.assign({},\n        request.pathParams,\n        TBUtil.normalizeQueryParams(request.queryParams), {\n            payload: request.body.data\n        });\n\n\tvar apiResponse = new APIRequestProcessor(APIRequestProcessor.DELETE_TABLE_RECORDS, options).build();\n\n    response.setBody(apiResponse);\n})(request, response);","sys_updated_on":"2020-12-03 10:52:48","enforce_acl":"f70e338e73f110107419c907fbf6a733","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"6bdf95dac730201031a006d427c260b0","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_table_builder/app/delete_records/{table}","sys_created_on":"2020-12-02 16:54:55","sys_name":"Table Records Delete","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f53f19bac362fa22ca2e93692d32f18f","value":"f53f19bac362fa22ca2e93692d32f18f"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/72cd338e73f110107419c907fbf6a730","value":"72cd338e73f110107419c907fbf6a730"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f53f19bac362fa22ca2e93692d32f18f","value":"f53f19bac362fa22ca2e93692d32f18f"},"sys_update_name":"sys_ws_operation_6bdf95dac730201031a006d427c260b0","consumes_customized":"false","name":"Table Records Delete","produces":"application/json,application/xml,text/xml","relative_path":"/delete_records/{table}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    const apiHelper = new APIHelper(request, response);\n    apiHelper.execute(function() {\n        const data = request.body.data;\n        const table = data.table;\n        const searchValue = data.value;\n        const limit = data.limit;\n        const field = data.field;\n        const referenceFilter = data.referenceFilter;\n        const options = {\n            limit: limit,\n            field: field,\n            referenceFilter: referenceFilter\n        };\n\n        const records = new BuilderToolkitAPIBase().searchTableForResults(\n            table,\n            searchValue,\n            options\n        );\n\n\t\tapiHelper.getResponse({\n            table: table,\n            records: records\n        });\n    });\n})(request, response);","sys_updated_on":"2023-05-31 15:20:26","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"6bee12ad438721100ef26b3235b8f201","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/reference_search","sys_created_on":"2023-05-26 18:39:58","sys_name":"UIB Search For Table By Field","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_6bee12ad438721100ef26b3235b8f201","consumes_customized":"false","name":"UIB Search For Table By Field","produces":"application/json,application/xml,text/xml","relative_path":"/reference_search","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    /**\n     * Intended to be used by AES users when creating mobile apps\n     * Non-admins will need read access to the sys_sg_native_client table\n     **/\n\n    var grNativeClient = new GlideRecord('sys_sg_native_client');\n\n    if (!grNativeClient.canRead()) {\n        return;\n    }\n\n    if (!request.queryParams.sysparm_transaction_scope) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(500)\n            .setMessage(\"sysparm_transaction_scope query parameter is required.\");\n    }\n\n    var encodedQuery = request.queryParams.sysparm_query[0] || \"\";\n\n    grNativeClient.addEncodedQuery(encodedQuery);\n    grNativeClient.query();\n\t\n    var output = [];\n\n    while (grNativeClient.next()) {\n        output.push({\n            sys_id: grNativeClient.getUniqueValue(),\n            name: grNativeClient.getValue('name'),\n            display_value: grNativeClient.getDisplayValue(),\n            client_theme: grNativeClient.getValue('client_theme'),\n            empty_state: grNativeClient.getValue('empty_state'),\n            force_local_login: grNativeClient.getValue('force_local_login'),\n            geolocation_enabled: grNativeClient.getValue('geolocation_enabled'),\n            navigation: grNativeClient.getValue('navigation'),\n            offline_enabled: grNativeClient.getValue('offline_enabled'),\n            order: grNativeClient.getValue('order'),\n            required_roles: grNativeClient.getValue('required_roles'),\n            type: grNativeClient.getValue('type')\n        });\n    }\n\n    return output;\n\n})(request, response);","sys_updated_on":"2021-08-01 22:00:01","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/f7ec1279c3202010a9f5e548fa40dd4d","value":"f7ec1279c3202010a9f5e548fa40dd4d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"6c0e155f777830106c947206d8106181","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_app_eng_studio/v1/generic/mobile_native_clients","sys_created_on":"2021-06-22 15:30:34","sys_name":"GET Mobile Native Clients","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/7ebe6d1d7c01301042ca6b61aa27d65a","value":"7ebe6d1d7c01301042ca6b61aa27d65a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/37cc9e39c3202010a9f5e548fa40ddef","value":"37cc9e39c3202010a9f5e548fa40ddef"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"8","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7ebe6d1d7c01301042ca6b61aa27d65a","value":"7ebe6d1d7c01301042ca6b61aa27d65a"},"sys_update_name":"sys_ws_operation_6c0e155f777830106c947206d8106181","consumes_customized":"false","name":"GET Mobile Native Clients","produces":"application/json,application/xml,text/xml","relative_path":"/mobile_native_clients","produces_customized":"false","default_operation_uri":"/api/sn_app_eng_studio/generic/mobile_native_clients","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar groupSysId = request.pathParams.group_sys_id + \"\";\n\tvar result = {};\n\tif (!groupSysId)\n\t\treturn new sn_ws_err.BadRequestError(gs.getMessage(\"Group id not provided\"));\n\t\n\tvar ocsNG = new OnCallSecurityNG();\n\tif (!ocsNG.canCreateSchedule())\n\t\treturn getSecurityConstraintError();\n\t\n\tif (ocsNG.rotaMgrAccess(groupSysId)) {\n\t\tvar ocCreationWizUtils =  new OnCallCreationWizardUtils();\n\t\tresult['shifts'] = ocCreationWizUtils.getShiftsByGroup(groupSysId);\n\t\tresult['groupPreferences'] = ocCreationWizUtils.getPreferencesByGroup(groupSysId);\n\t\treturn result;\n\t} else\n\t\treturn getSecurityConstraintError();\n\t\t\n\t\n\tfunction getSecurityConstraintError() {\n\t\tvar respError = new sn_ws_err.ServiceError();\n\t\trespError.setStatus(403);\n\t\trespError.setMessage(gs.getMessage(\"Security constraints prevent access to requested resource\"));\n\t\treturn respError;\n\t}\n\n})(request, response);","sys_updated_on":"2019-03-20 08:31:53","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"6c15880773032300cbb654eb7df6a742","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/creation_wizard/getShifts/{group_sys_id}","sys_created_on":"2019-01-21 05:48:59","sys_name":"getShifts","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_6c15880773032300cbb654eb7df6a742","consumes_customized":"false","name":"getShifts","produces":"application/json,application/xml,text/xml","relative_path":"/creation_wizard/getShifts/{group_sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    const METRIC_TYPE = {\n        RELEASE_INFO: 'release_info',\n        SUBSCRIPTION_STATUS: 'subscription_status',\n        PERFORMANCE_DATA: 'performance_data'\n    };\n\n    const metricType = request.queryParams?.type[0] ? request.queryParams.type[0] : null;\n    const packageIds = request.queryParams?.packageIds[0] ? request.queryParams.packageIds[0] : null;\n    const result = getMetric(metricType, packageIds);\n\n    response.setContentType('application/json');\n    response.setStatus(200);\n    response.setBody(result);\n\n    function getMetric(metricType, packageIds) {\n        if (!metricType || !packageIds)\n            return {};\n\n        let configurationHubUtil = new ConfigurationHubUtil();\n        let metricData;\n\n        switch (metricType) {\n            case METRIC_TYPE.RELEASE_INFO:\n                metricData = configurationHubUtil.getCustomizedMetric(packageIds);\n                break\n            case METRIC_TYPE.SUBSCRIPTION_STATUS:\n                metricData = configurationHubUtil.getSubscriptionData(packageIds);\n                break;\n            case METRIC_TYPE.PERFORMANCE_DATA:\n                metricData = configurationHubUtil.getPerformanceData(packageIds);\n                break;\n        }\n\n        return {\n            type: metricType,\n            data: metricData\n        };\n    }\n})(request, response);","sys_updated_on":"2023-06-26 22:30:14","enforce_acl":"749bbaa34fa3611038e26c01b1ce0b95","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"6cbc92cc43562110ebc220aabcb8f229","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_config_hub/configuration_hub_api/metrics","sys_created_on":"2023-04-14 20:04:21","sys_name":"Get Metrics","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/2028fe718b11c8f32122c6da3b496a83","value":"2028fe718b11c8f32122c6da3b496a83"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/d68a7cb5eb9221109cfedf3c03522847","value":"d68a7cb5eb9221109cfedf3c03522847"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2028fe718b11c8f32122c6da3b496a83","value":"2028fe718b11c8f32122c6da3b496a83"},"sys_update_name":"sys_ws_operation_6cbc92cc43562110ebc220aabcb8f229","consumes_customized":"false","name":"Get Metrics","produces":"application/json,application/xml,text/xml","relative_path":"/metrics","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n/**\nParams:\n\tbaselineId (sys_id)\n\tbaselineName\n\tbaselineComment\n*/\n    var saOpsWrapper = new SaOperationsWrapper(SNC.SaActionsHandler);\n\tsaOpsWrapper.process(request,response, \"updateBaseline\");\n\n})(request, response);","sys_updated_on":"2018-03-05 06:57:21","enforce_acl":"a0ae0157c30303008ebd1962c1d3aeb1","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"6cbd26537f520300995cbaf8befa9158","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/it_service/updateBaseline","sys_created_on":"2017-11-13 13:34:55","sys_name":"UpdateBaseline - Internal API","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3418e25f7f120300995cbaf8befa912e","value":"3418e25f7f120300995cbaf8befa912e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_6cbd26537f520300995cbaf8befa9158","consumes_customized":"false","name":"UpdateBaseline - Internal API","produces":"application/json,application/xml,text/xml","relative_path":"/updateBaseline","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","sys_updated_on":"2017-03-09 23:00:22","enforce_acl":"b5ca561bb3113200715ca943c6a8dca8","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"6cd78307b3203200715ca943c6a8dc95","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_bm_client/benchmark_client_api/categories","sys_created_on":"2017-01-31 00:49:39","sys_name":"categories","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/986214c16710320097eeff5557415a89","value":"986214c16710320097eeff5557415a89"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_update_name":"sys_ws_operation_6cd78307b3203200715ca943c6a8dc95","consumes_customized":"false","name":"categories","produces":"application/json,application/xml,text/xml","relative_path":"/categories","produces_customized":"false","default_operation_uri":"","sys_policy":"protected"},{"short_description":"Create a new UIB experience with pages. Part of Text to Experience.","sys_updated_on":"2024-09-17 18:33:19","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"{\r\n  \"experience_name\": \"T2E testing\",\r\n  \"app_shell\": \"workspace\",\r\n  \"table\": \"incident\",\r\n  \"table_label\": \"Incident\",\r\n  \"pages\": {\r\n    \"landing_page\": {\r\n      \"chart_type\": \"pie\",\r\n      \"chart_title\": \"Cool graph\",\r\n      \"trend_by\": null,\r\n      \"group_by\": null\r\n    }\r\n  }\r\n}","sys_id":"6cd805150cdf8e10f877bdaa231f470b","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/ai/experience","sys_created_on":"2024-07-08 20:22:53","sys_name":"AI Experience","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"19","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_6cd805150cdf8e10f877bdaa231f470b","consumes_customized":"false","name":"AI Experience","produces":"application/json,application/xml,text/xml","relative_path":"/ai/experience","produces_customized":"false","default_operation_uri":"","sys_policy":"protected"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar queryParams = request.queryParams;\n\n\tvar orderBy = \"\";\n\tif (typeof queryParams.orderBy !== \"undefined\")\n\t\torderBy = queryParams.orderBy + \"\";\n\n\tvar textSearch = \"\";\n\tif (typeof queryParams.textSearch !== \"undefined\")\n\t\ttextSearch = queryParams.textSearch + \"\";\n\n\tvar encodedQueryObj = global.ChangeCommon.buildEncodedQuery(global.ChangeCommon.assign({}, request.queryParams), \"std_change_record_producer\");\n\tvar result = global.ChangeCommon.getWindow(global.StandardChangeTemplate.findAll(orderBy, textSearch, encodedQueryObj.encodedQuery), queryParams.sysparm_limit || null, queryParams.sysparm_offset || null);\n\tresult.push({__meta: encodedQueryObj});\n\treturn result;\n})(request, response);","sys_updated_on":"2018-08-17 14:08:06","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"6da9d6dcb713130096c3e4f6ee11a9cc","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/standard/template","sys_created_on":"2018-07-10 17:38:51","sys_name":"Template - search","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_6da9d6dcb713130096c3e4f6ee11a9cc","consumes_customized":"false","name":"Template - search","produces":"application/json,application/xml,text/xml","relative_path":"/standard/template","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/standard/template","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tresponse.setBody({notificationGuid: gs.generateGUID()});\n\n})(request, response);","sys_updated_on":"2022-01-25 21:14:38","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/3e04abf0b79949100290b5208e11a977","value":"3e04abf0b79949100290b5208e11a977"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"6dc04ae8b71909100290b5208e11a91a","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_aes_notificatio/v1/notifications/guid","sys_created_on":"2022-01-23 21:42:22","sys_name":"Get GUID","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/284c35195bf9198f084ee79a76e157b9","value":"284c35195bf9198f084ee79a76e157b9"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/c87046e8b71909100290b5208e11a95f","value":"c87046e8b71909100290b5208e11a95f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/284c35195bf9198f084ee79a76e157b9","value":"284c35195bf9198f084ee79a76e157b9"},"sys_update_name":"sys_ws_operation_6dc04ae8b71909100290b5208e11a91a","consumes_customized":"false","name":"Get GUID","produces":"application/json,application/xml,text/xml","relative_path":"/guid","produces_customized":"false","default_operation_uri":"/api/sn_aes_notificatio/notifications/guid","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    const {\n        ComponentBuilder\n    } = require('@servicenow/sn-cb-api');\n    const componentBuilder = new ComponentBuilder(response);\n    try {\n        const {\n            body: {\n                data\n            }\n        } = request;\n        const {\n            fields,\n            sysId\n        } = data;\n\n        if (!sysId) throw new Error('Invalid request: sysId is required.');\n\n        const ret = componentBuilder.duplicateComponent(sysId, fields);\n\n        return componentBuilder.getSuccessResponse(ret, 201);\n    } catch (e) {\n        return componentBuilder.getErrorResponse(e.message);\n    }\n})(request, response);","sys_updated_on":"2024-03-12 22:26:04","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"6e494fdf77e4ca107d514a833f5a9906","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_cb_api/componentbuilder/component/duplicate","sys_created_on":"2024-02-29 18:26:37","sys_name":"Duplicate Component","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/58d65e5a729340ac35dc8fd71d665545","value":"58d65e5a729340ac35dc8fd71d665545"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/79353aa3a37731100aa159e6d31e6154","value":"79353aa3a37731100aa159e6d31e6154"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"35","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/58d65e5a729340ac35dc8fd71d665545","value":"58d65e5a729340ac35dc8fd71d665545"},"sys_update_name":"sys_ws_operation_6e494fdf77e4ca107d514a833f5a9906","consumes_customized":"false","name":"Duplicate Component","produces":"application/json,application/xml,text/xml","relative_path":"/component/duplicate","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n/**\nParams:\n\tedgesIds\n\tstableIds\n\thistoryTimestamp (number ms) - optional when getting historical view.\n\tbsId (sys_id)\n*/\n    var saOpsWrapper = new SaOperationsWrapper(SNC.SaActionsHandler);\n\tsaOpsWrapper.process(request,response, \"edgesData\", true);\n\n})(request, response);","sys_updated_on":"2018-03-11 12:45:02","enforce_acl":"ea4f3ae287132200b5bea18dd0e3eceb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"6f0c6a137f520300995cbaf8befa91e7","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/it_service/edgesData","sys_created_on":"2017-11-13 13:27:48","sys_name":"EdgesData - Internal API","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3418e25f7f120300995cbaf8befa912e","value":"3418e25f7f120300995cbaf8befa912e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_6f0c6a137f520300995cbaf8befa91e7","consumes_customized":"false","name":"EdgesData - Internal API","produces":"application/json,application/xml,text/xml","relative_path":"/edgesData","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n    var appId = request.pathParams.appId;\n\n    ScopeCheck.verifyNotGlobal(appId);\n\n    var allowed = VCSAppAccessCheck.verifyWriteAccess(appId) && (VCSAppAccessCheck.isGACOrSourceControlUser() || VCSAppAccessCheck.verifyVersionControlAccess(appId));\n\n    if (!allowed) \n\t\tVCSAppAccessCheck.throwAccessDenied(appId);\n\n    var repo = sn_vcs.AppSourceControl.getRepository(appId),\n        result = repo.removeLinkToApplication();\n\n    response.setBody({\n        success: !!result\n    });\n    response.setContentType('application/json');\n    response.setStatus(200);\n\n})(request, response);","sys_updated_on":"2021-04-06 20:21:24","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"6f4c082337230200612747efbe41f17d","http_method":"DELETE","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/apps/{appId}/repos/{repoId}","sys_created_on":"2015-11-11 15:05:18","sys_name":"Unlink from Repository","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"18","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_6f4c082337230200612747efbe41f17d","consumes_customized":"false","name":"Unlink from Repository","produces":"application/json,application/xml,text/xml","relative_path":"/apps/{appId}/repos/{repoId}","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/apps/{appId}/repos/{repoId}","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t// AI Search Assist does not currently support custom actions. This is for internal use only.\n\t\n\tvar data = request.body.data;\n\tvar className = data.className;\n\tvar table = data.table;\n\tvar sysId = data.sysId;\n\tvar feedbackData = data.feedbackData;\n\n\tvar result = {};\n\tvar isModalSubmit = data.isModalSubmit;\n\t\n\tif (!isModalSubmit) {\n\t\tresult = {\n\t\t\tactionType: 'OPEN_MODAL',\n\t\t\tmodalBodyTemplate: 'aisa-am-resolves-' + table,\n\t\t\tmodalTitle: gs.getMessage('Solves my issue?'),\n\t\t\tmodalSubmitText: gs.getMessage('Confirm'),\n\t\t\t// modalData is for custom usage of modal\n\t\t\tmodalData: {}\n\t\t};\n\t} else {\n\t\tresult = {\n\t\t\tactionType: 'SEARCH_RESULT_EVENT_SIGNAL',\n\t\t\tsignalType: 'SOLVES_ISSUE',\n\t\t\tsignalValue: 1\n\t\t};\n\t}\n\tresponse.setBody(result);\n\t\n})(request, response);","sys_updated_on":"2024-01-02 16:02:54","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"6f82a67967f21010b3d782f45685ef13","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/aisa_action/resolves","sys_created_on":"2020-08-23 22:22:04","sys_name":"Resolves my issue","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/efdf7c4567b21010b3d782f45685ef1a","value":"efdf7c4567b21010b3d782f45685ef1a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"27","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e4dd6b3304752210559073c06a02f70c","value":"e4dd6b3304752210559073c06a02f70c"},"sys_update_name":"sys_ws_operation_6f82a67967f21010b3d782f45685ef13","consumes_customized":"false","name":"Resolves my issue","produces":"application/json,application/xml,text/xml","relative_path":"/resolves","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","sys_updated_on":"2017-03-09 23:00:36","enforce_acl":"b5ca561bb3113200715ca943c6a8dca8","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"6ff7d8056710320097eeff5557415afa","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_bm_client/benchmark_client_api/conditions","sys_created_on":"2017-01-11 20:38:12","sys_name":"Update Indicator Conditions","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/986214c16710320097eeff5557415a89","value":"986214c16710320097eeff5557415a89"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_update_name":"sys_ws_operation_6ff7d8056710320097eeff5557415afa","consumes_customized":"false","name":"Update Indicator Conditions","produces":"application/json,application/xml,text/xml","relative_path":"/conditions","produces_customized":"false","default_operation_uri":"","sys_policy":"protected"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\nvar dashboardUtils = new NotificationDashboardUtils();\nvar result = dashboardUtils.fetchNewNotifications(request.body.data);\nresponse.setBody(result);\n\n})(request, response);","sys_updated_on":"2024-09-24 20:29:56","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"7056f2dafff0d250ac42fbd38c4fd963","http_method":"POST","sys_updated_by":"rishika.karri@snc","operation_uri":"/api/snc/notification_dashboard/notifications/email/newnotifications","sys_created_on":"2024-09-24 20:29:56","sys_name":"Get newly created notifications","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"rishika.karri@snc","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/a5ea2ec8ffec5a10ac42fbd38c4fd9fb","value":"a5ea2ec8ffec5a10ac42fbd38c4fd9fb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fa85f980ff6c5a10ac42fbd38c4fd9bd","value":"fa85f980ff6c5a10ac42fbd38c4fd9bd"},"sys_update_name":"sys_ws_operation_7056f2dafff0d250ac42fbd38c4fd963","consumes_customized":"false","name":"Get newly created notifications","produces":"application/json,application/xml,text/xml","relative_path":"/notifications/email/newnotifications","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\treturn new OCGroup(request.pathParams.group_id)\n\t\t.setCheckAccess(true)\n\t\t.getMembers(true);\n})(request, response);","sys_updated_on":"2022-04-19 05:42:27","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"707b3f459f7012000391b89a442e70cf","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/group/members/{group_id}","sys_created_on":"2016-01-05 17:20:01","sys_name":"group/members","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_707b3f459f7012000391b89a442e70cf","consumes_customized":"false","name":"group/members","produces":"application/json,application/xml,text/xml","relative_path":"/group/members/{group_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar result = {};\n\tresponse.setContentType('application/json');\n\n\ttry {\n\t\tvar service_sys_id = request.pathParams.service_sys_id;\n\t\tvar error = {'message':'Unknown error'};\n\t\tvar payload = request.body.data;\n\t\tresponse.setStatus(200);\n\t\tresponse.setBody(result);\n\t\t\n\t\tvar helper = new CSDMAppServiceHelper();\n\t\t\n\t\tif(payload.hasOwnProperty('basic_details')) {\n\t\t\tvar updated = helper.updateService('', service_sys_id, payload.basic_details);\n\t\t\tif(JSUtil.nil(updated) || updated !== service_sys_id) {\n\t\t\t\terror.message = 'Unable to update service';\n\t\t\t\tresponse.setError(throwError(400, error));\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(payload.hasOwnProperty('relationships') ) {\n\t\t\thelper.updateCSDMRel(service_sys_id, payload.relationships);\n\t\t}\n\t\t\n\t} catch(err) {\n\t\tresponse.setError(throwError(500, error));\n\t\treturn;\n\t}\n\t\n\tfunction throwError(status, errMsg) {\n\t\tvar genericError = new sn_ws_err.ServiceError();\n\t\tgenericError.setStatus(status);\n\t\tgenericError.setMessage(\"Problem processing request\");\n\t\tgenericError.setDetail(errMsg.message);\n\t\treturn genericError;\n\t}\n\t\n})(request, response);","sys_updated_on":"2020-04-03 18:41:42","enforce_acl":"44eb6c5573f7001061b79c0c6df6a71c","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"70b012177323001061b79c0c6df6a7cb","http_method":"PUT","sys_updated_by":"admin","operation_uri":"/api/now/cmdb/csdm/app_service/{service_sys_id}/service_details","sys_created_on":"2020-03-19 23:39:51","sys_name":"Update Service Details","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/565abf20c39413003e76741e81d3ae48","value":"565abf20c39413003e76741e81d3ae48"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2f8d67ff04352210559073c06a02f74f","value":"2f8d67ff04352210559073c06a02f74f"},"sys_update_name":"sys_ws_operation_70b012177323001061b79c0c6df6a7cb","consumes_customized":"false","name":"Update Service Details","produces":"application/json,application/xml,text/xml","relative_path":"/csdm/app_service/{service_sys_id}/service_details","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\n\tif (!request.pathParams.step_id){\n\t\tresponse.setBody({msg: \"Step ID is required\"});\n\t\tresponse.setStatus(400);\n\t\treturn;\n\t} \n\t\n\tvar controller = new GTStepsController();\n\tvar tourId = request.pathParams.tour_id;\n\tvar stepId = request.pathParams.step_id;\n\t\n\tcontroller.deleteStep(tourId, stepId, function(err, data) {\n\t\tif (err) {\t\t\t\n\t\t\tresponse.setBody({msg: data.msg});\t\t\t\n\t\t\tif(data.status === \"BAD_REQUEST\")\n\t\t\t\tresponse.setStatus(400);\n\t\t\telse if (data.status === \"NOT FOUND\")\n\t\t\t\tresponse.setStatus(404);\n\t\t\telse if(data.status === \"INTERNAL_ERROR\")\n\t\t\t\tresponse.setStatus(500);\n\t\t} else {\n\t\t\tresponse.setBody(data);\n\t\t\tresponse.setStatus(200);\n\t\t}\n\t});\n\n    \n\n})(request, response);","sys_updated_on":"2018-08-09 15:15:54","enforce_acl":"cad7104a877b1300b38c0f4c59cb0bdb","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/3268f36173eb13007077edcc5ef6a738","value":"3268f36173eb13007077edcc5ef6a738"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"70f02c88737313007077edcc5ef6a787","http_method":"DELETE","sys_updated_by":"admin","operation_uri":"/api/now/v1/guided_tours/tours/{tour_id}/steps/{step_id}","sys_created_on":"2018-08-03 10:59:34","sys_name":"Delete Step","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/2405194d87e73200b38c0f4c59cb0b6f","value":"2405194d87e73200b38c0f4c59cb0b6f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_update_name":"sys_ws_operation_70f02c88737313007077edcc5ef6a787","consumes_customized":"false","name":"Delete Step","produces":"application/json,application/xml,text/xml","relative_path":"/tours/{tour_id}/steps/{step_id}","produces_customized":"false","default_operation_uri":"/api/now/guided_tours/tours/{tour_id}/steps/{step_id}","sys_policy":""},{"short_description":"Get list of flow.","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var options = TBUtil.assign({},\n        request.pathParams,\n        TBUtil.normalizeQueryParams(request.queryParams)\n    );\n    var apiResponse = new APIRequestProcessor(APIRequestProcessor.REQUEST_FLOW_LIST, options).build();\n    response.setBody(apiResponse);\n\n})(request, response);","sys_updated_on":"2022-04-01 08:12:52","enforce_acl":"7744432d7726c11031e3b3c64b5a9979","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"71210d4077e6811031e3b3c64b5a991b","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_table_builder/flows/list","sys_created_on":"2022-03-25 07:13:14","sys_name":"Flow List API","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f53f19bac362fa22ca2e93692d32f18f","value":"f53f19bac362fa22ca2e93692d32f18f"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/32b0494077e6811031e3b3c64b5a9989","value":"32b0494077e6811031e3b3c64b5a9989"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f53f19bac362fa22ca2e93692d32f18f","value":"f53f19bac362fa22ca2e93692d32f18f"},"sys_update_name":"sys_ws_operation_71210d4077e6811031e3b3c64b5a991b","consumes_customized":"false","name":"Flow List API","produces":"application/json,application/xml,text/xml","relative_path":"/list","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var requestBody = request.body;\n    var requestData = requestBody.data;\n    var dict = requestData.dictionary_entries;\n    var dataClass = requestData.data_classes;\n\n    return new SNC.DCManager().addClassification(dict, dataClass);\n    })(request, response);","sys_updated_on":"2022-09-14 07:44:35","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"7124487f777111101d5d78a898106178","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/data_classification/addClassification","sys_created_on":"2022-09-14 07:44:35","sys_name":"AddClassificationForDictionaryEntries","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/90b9010773761010ae8dd21efaf6a745","value":"90b9010773761010ae8dd21efaf6a745"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e6cde73304752210559073c06a02f70a","value":"e6cde73304752210559073c06a02f70a"},"sys_update_name":"sys_ws_operation_7124487f777111101d5d78a898106178","consumes_customized":"false","name":"AddClassificationForDictionaryEntries","produces":"application/json,application/xml,text/xml","relative_path":"/addClassification","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\treturn new OCRotationV2()\n\t\t.setStartDate(request.queryParams.start_date)\n\t\t.setEndDate(request.queryParams.end_date)\n\t\t.setGroupIds(request.queryParams.group_ids)\n\t\t.setRotaIds(request.queryParams.rota_ids)\n\t\t.setRosterIds(request.queryParams.roster_ids)\n\t\t.setUserIds(request.queryParams.user_ids)\n\t\t.getSections();\n})(request, response);","sys_updated_on":"2019-03-20 10:29:03","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"71542b609f2012000391b89a442e70e0","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/sections","sys_created_on":"2015-12-22 16:06:23","sys_name":"sections","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_71542b609f2012000391b89a442e70e0","consumes_customized":"false","name":"sections","produces":"application/json,application/xml,text/xml","relative_path":"/sections","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var appManagerApiUtil = new AppManagerApiUtil(request, response);\n    var handler = new AppManagerHandler();\n    try {\n        appManagerApiUtil.verifyTablesReadAccess([\"v_plugin\"]);\n        var requestParams = appManagerApiUtil.getRequestParams();\n        var result = handler.activatePlugin(requestParams);\n        appManagerApiUtil.setResponseBody(result);\n    } catch (err) {\n        appManagerApiUtil.setError(err);\n    }\n})(request, response);","sys_updated_on":"2025-03-14 01:11:09","enforce_acl":"3966a96cf53bc610f87752fa9ffbe0da","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/be08b89397b0d1104b593f0e6253afe1","value":"be08b89397b0d1104b593f0e6253afe1"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"718518b077902110c918256a5b5a990a","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_appclient/v1/appmanager/plugin/activate","sys_created_on":"2023-01-07 07:50:35","sys_name":"Activate Plugin","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7ea1fc5f9770d1104b593f0e6253af99","value":"7ea1fc5f9770d1104b593f0e6253af99"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"11","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_update_name":"sys_ws_operation_718518b077902110c918256a5b5a990a","consumes_customized":"false","name":"Activate Plugin","produces":"application/json,application/xml,text/xml","relative_path":"/plugin/activate","produces_customized":"false","default_operation_uri":"/api/sn_appclient/appmanager/plugin/activate","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // implement resource here\n\tvar actSubCtx = ActivitySubscriptionContext.getContext();\n\tif(!actSubCtx.isPluginEnabled()){\n\t\tresponse.setStatus(400);\n\t\treturn {\"status\":400,\n\t\t\t\t\"message\":\"Plugin is disabled please contact system administrator\"};\n\t}\n\n\tvar subscriptionService = actSubCtx.getSubscriptionService();\n\tvar subscriber_id = request.pathParams.subscriber_id;\n\tvar subObjType = request.queryParams.objType;\n\tvar getList = request.queryParams.getList;\n\tvar orderBy = request.queryParams.orderBy;\n\tvar firstRow = request.queryParams.firstRow;\n\tvar lastRow = request.queryParams.lastRow;\t\n\tvar searchString = request.queryParams.searchString;\n\tvar subObjIds = request.queryParams.subObjIds;\n\tvar result;\n\tif(!gs.nil(subObjIds)){\n\t\tresult = subscriptionService.getSubscriptionStatusForSubObjects(subObjIds[0], subObjType);\n\t}\n\telse{\n\t\tresult = subscriptionService.getSubscriptionsBySubscriber(subscriber_id, subObjType, getList, orderBy, firstRow, lastRow, searchString);\n\t}\n\n\tresponse.setStatus(result.status);\n\tresponse.setContentType('application/json');\n\tresponse.setBody(result);\n\n})(request, response);","sys_updated_on":"2021-07-29 16:08:24","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/882dfe6853003200fa9bd7b08cc587d5","value":"882dfe6853003200fa9bd7b08cc587d5"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"71975a23536032006242d7b08cc5870d","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/actsub/subscriptions/{subscriber_id}","sys_created_on":"2017-02-01 10:36:57","sys_name":"Subscriptions","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/aabc7e6853003200fa9bd7b08cc5870f","value":"aabc7e6853003200fa9bd7b08cc5870f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/27dc6bfb04352210559073c06a02f739","value":"27dc6bfb04352210559073c06a02f739"},"sys_update_name":"sys_ws_operation_71975a23536032006242d7b08cc5870d","consumes_customized":"false","name":"Subscriptions","produces":"application/json,application/xml,text/xml","relative_path":"/subscriptions/{subscriber_id}","produces_customized":"false","default_operation_uri":"/api/now/actsub/subscriptions/{subscriber_id}","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    /*\n    Request: Query params - table, field, mapSysId\n    Response: Returns MapData with map Source field name, map JSON data and location mappings \n    */\n    try {\n        const queryParams = request.queryParams;\n        const table = queryParams['table'] + \"\";\n        const field = queryParams['field'] + \"\";\n        const mapSysId = queryParams['mapSysId'];\n        const mapkey = queryParams['mapKey'] + \"\";\n        const useLatLon = (queryParams['useLatLon'] + \"\") == \"true\" ? true : false;\n        const isManual = (queryParams['isManual'] + \"\") == \"true\" ? true : false;\n\n        response.setStatus(200);\n        const util = new GeomapUtil();\n\n        if (isManual) {\n            var mapParams = util.getManualDataMapParams(table, field, mapSysId + \"\");\n            if (mapParams != null) {\n                return util.getGeoMapData(table, mapParams.field, mapSysId + \"\", mapParams.mapKey, mapParams.useLatLon);\n            }\n        }\n\n        return util.getGeoMapData(table, field, mapSysId, mapkey, useLatLon);\n    } catch (err) {\n        response.setStatus(200);\n        gs.error(err);\n        var message = err.msg != null ? err.msg : gs.getMessage('Error encountered while fetching geomap data.');\n        return {\n            status: 'failure',\n            message: message,\n            detail: err.detail,\n            errorCode: err.errorCode\n        };\n    }\n})(request, response);","sys_updated_on":"2024-09-05 04:42:39","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"7208aa60c3a02110cf33ad413b40dd11","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/geomap","sys_created_on":"2023-01-19 10:10:05","sys_name":"getMapData","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cd623f2ce6fc02f23595a409216e13b1","value":"cd623f2ce6fc02f23595a409216e13b1"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/98e7e660c3a02110cf33ad413b40dda8","value":"98e7e660c3a02110cf33ad413b40dda8"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"122","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd623f2ce6fc02f23595a409216e13b1","value":"cd623f2ce6fc02f23595a409216e13b1"},"sys_update_name":"sys_ws_operation_7208aa60c3a02110cf33ad413b40dd11","consumes_customized":"false","name":"getMapData","produces":"application/json,application/xml,text/xml","relative_path":"/","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar controller = new sn_tourbuilder.GTAutoLaunchController();\n\tvar page = request.queryParams.page;\n\tvar portal = request.queryParams.portal;\n\tvar context = request.queryParams.context;\n\tvar tour = controller.getAutoLaunchTour(page, portal, context);\n\n\tresponse.setBody(tour);\n\tresponse.setStatus(200);\n\n})(request, response);","sys_updated_on":"2019-06-10 17:47:36","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/3268f36173eb13007077edcc5ef6a738","value":"3268f36173eb13007077edcc5ef6a738"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"72b460bb93f332007152d5dbb67ffb91","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/guided_tours/autolaunch/get","sys_created_on":"2017-07-13 10:22:43","sys_name":"Autolaunch- Get tours for a page","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/2405194d87e73200b38c0f4c59cb0b6f","value":"2405194d87e73200b38c0f4c59cb0b6f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"8","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_update_name":"sys_ws_operation_72b460bb93f332007152d5dbb67ffb91","consumes_customized":"false","name":"Autolaunch- Get tours for a page","produces":"application/json,application/xml,text/xml","relative_path":"/autolaunch/get","produces_customized":"false","default_operation_uri":"/api/now/guided_tours/autolaunch/get","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var appSysId = request.pathParams.app_sys_id;\n    var version = request.pathParams.version;\n    var publishToStore = false;\n\n    var appGr = new GlideRecord('sys_app');\n\n    appGr.get(appSysId);\n\n    if (!appGr.isValid()) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(404)\n            .setMessage(gs.getMessage(\"Invalid app id {0}\", appSysId));\n    }\n\n    if (!appGr.canRead()) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(403)\n            .setMessage(gs.getMessage(\"User does not have permission to read app with id {0}\", appSysId));\n    }\n\n    var scopedAppVendorInfoObtainer = new sn_appauthor\n        .ScopedAppVendorInfoObtainer();\n    var validationInfo = scopedAppVendorInfoObtainer\n        .obtainDisplayVersionFromAppRepo(appSysId, version, publishToStore);\n\n    var result = {\n        isValid: false\n    };\n\n    // when there is an on the side of ScopedAppVendorInfoObtainer the validation info is not available. The reason for error can be retrieved using getErrorMessage function\n    if (!validationInfo) {\n        result.details = gs.getMessage(\"Error retrieving version validation information. {0}\", scopedAppVendorInfoObtainer.getErrorMessage() || \"\");\n    } else if (validationInfo.allowed) {\n        result.isValid = true;\n    } else {\n        var versionExistsMessage = version + \" already exists. Please update the version.\";\n\n        result.details = validationInfo.errorMessage;\n\n        if (validationInfo.errorMessage === versionExistsMessage) {\n            result.isPublishedAppVersionAvailable = true;\n        }\n    }\n\n    response.setBody(result);\n    response.setStatus(200);\n})(request, response);","sys_updated_on":"2021-10-01 19:48:37","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/44112378533a3010b846ddeeff7b1228","value":"44112378533a3010b846ddeeff7b1228"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"73612e37c3323010a9f5e548fa40dd5c","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_deploy_pipeline/v1/deployment_pipeline_api/validate_app_publish_version/{app_sys_id}/{version}","sys_created_on":"2021-10-01 19:48:04","sys_name":"Validate App Publish Version","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bb67ed7253e83010b846ddeeff7b1204","value":"bb67ed7253e83010b846ddeeff7b1204"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/9d52207653223010b846ddeeff7b12f3","value":"9d52207653223010b846ddeeff7b12f3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bb67ed7253e83010b846ddeeff7b1204","value":"bb67ed7253e83010b846ddeeff7b1204"},"sys_update_name":"sys_ws_operation_73612e37c3323010a9f5e548fa40dd5c","consumes_customized":"false","name":"Validate App Publish Version","produces":"application/json,application/xml,text/xml","relative_path":"/validate_app_publish_version/{app_sys_id}/{version}","produces_customized":"false","default_operation_uri":"/api/sn_deploy_pipeline/deployment_pipeline_api/validate_app_publish_version/{app_sys_id}/{version}","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tconst tableName = request.pathParams[\"tableName\"];\n\n\tif (!tableName) {\n\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t.setStatus(404)\n\t\t\t.setMessage(gs.getMessageLang(\"Table name must be provided\", \"en\"))\n\t\t\t.setDetail(gs.getMessage(\"Path parameter tableName must be provided\"));\n\t}\n\n\tconst aesNotificationBuilderUtils = new AESNotificationBuilderUtils();\n\tconst canReadTable = aesNotificationBuilderUtils.canReadTable(tableName);\n\n\tresponse.setStatus(200);\n\tresponse.setBody({canReadTable: canReadTable});\n\n})(request, response);","sys_updated_on":"2022-08-01 20:46:15","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/312c459a53b50110b846ddeeff7b121f","value":"312c459a53b50110b846ddeeff7b121f"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"737b0d5a53b50110b846ddeeff7b12cd","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_aes_notificatio/v1/tables/check_table_access/{tableName}","sys_created_on":"2022-02-23 00:50:13","sys_name":"GET Check Table Access","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/284c35195bf9198f084ee79a76e157b9","value":"284c35195bf9198f084ee79a76e157b9"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/a8a3845253f10110b846ddeeff7b1216","value":"a8a3845253f10110b846ddeeff7b1216"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/284c35195bf9198f084ee79a76e157b9","value":"284c35195bf9198f084ee79a76e157b9"},"sys_update_name":"sys_ws_operation_737b0d5a53b50110b846ddeeff7b12cd","consumes_customized":"false","name":"GET Check Table Access","produces":"application/json,application/xml,text/xml","relative_path":"/check_table_access/{tableName}","produces_customized":"false","default_operation_uri":"/api/sn_aes_notificatio/tables/check_table_access/{tableName}","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var tableName = String(request.queryParams.tableName);\n\n    var grTable = new GlideRecord(\"sys_db_object\");\n    grTable.addQuery(\"name\", tableName);\n\tgrTable.query();\n\tif(grTable.next()){\n\t\tvar helper = new PDFtoTableOperationHelper();\n\t\treturn helper.getPDFTablesInfo(grTable.getValue(\"sys_id\"));\n\t}\n\telse return [];\n   \n\n})(request, response);","sys_updated_on":"2022-08-15 04:47:57","enforce_acl":"f7e62b5f97e415108843f73ef053af30","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"73907c8697991510fdb77a200153af72","http_method":"GET","sys_updated_by":"rahul.verma@snc","operation_uri":"/api/sn_pdf_table_bldr/app/fetchTableDetails","sys_created_on":"2022-08-15 04:07:05","sys_name":"Fetch table details","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/8e417ee064982b70a7bd187e6edb95f1","value":"8e417ee064982b70a7bd187e6edb95f1"},"sys_created_by":"rahul.verma@snc","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/16652f5b97e415108843f73ef053af22","value":"16652f5b97e415108843f73ef053af22"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8e417ee064982b70a7bd187e6edb95f1","value":"8e417ee064982b70a7bd187e6edb95f1"},"sys_update_name":"sys_ws_operation_73907c8697991510fdb77a200153af72","consumes_customized":"false","name":"Fetch table details","produces":"application/json,application/xml,text/xml","relative_path":"/fetchTableDetails","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var queryParams = request.queryParams;\n    var table = queryParams.table.toString();\n    var recordId = queryParams.recordId.toString();\n    var favoriteApi = new sn_ex_sp.FavoriteAPI();\n    if (favoriteApi.updateLastViewedForFavorite(table, recordId)) {\n        response.setStatus(200);\n    } else {\n        response.setStatus(400);\n    }\n})(request, response);","sys_updated_on":"2023-06-29 13:41:12","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"7390eca0777f2110fedf8bb7cb5a99a9","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_ex_sp/recent_favorites_api","sys_created_on":"2023-06-29 13:41:12","sys_name":"Update Last Viewed For Favorite","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/4249e63a28d54d61bb6fbf61fd86cccb","value":"4249e63a28d54d61bb6fbf61fd86cccb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/c540a8a0777f2110fedf8bb7cb5a9990","value":"c540a8a0777f2110fedf8bb7cb5a9990"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4249e63a28d54d61bb6fbf61fd86cccb","value":"4249e63a28d54d61bb6fbf61fd86cccb"},"sys_update_name":"sys_ws_operation_7390eca0777f2110fedf8bb7cb5a99a9","consumes_customized":"false","name":"Update Last Viewed For Favorite","produces":"application/json,application/xml,text/xml","relative_path":"/","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tconst cbExperiencesScope = 'e9b68250cdffe4e1c64e494026ec6e9a';\n\tconst sysPropertyGr = new GlideRecord('sys_properties');\n\t// matches name\n\tsysPropertyGr.addQuery('name', 'sn_cb_experiences.uib.enable.cb');\n\t// matches scope\n\tsysPropertyGr.addQuery('sys_scope', cbExperiencesScope);\n\t// is actually enabled\n\tsysPropertyGr.addQuery('value', 'true');\n\tsysPropertyGr.query();\n\n\t// if it exists, Component Builder is enabled\n\treturn !!(sysPropertyGr.next());\n})(request, response);","sys_updated_on":"2024-08-21 19:20:54","enforce_acl":"c67e91dd43a11210eeba83020cb8f24c","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"73940fd7ff805210c3454eff793bf1f4","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/cb-enable-status","sys_created_on":"2024-08-21 17:18:34","sys_name":"Component Builder enable status","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_73940fd7ff805210c3454eff793bf1f4","consumes_customized":"false","name":"Component Builder enable status","produces":"application/json,application/xml,text/xml","relative_path":"/cb-enable-status","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar table = request.body.data.table;\n\tvar dashboard = new NotificationDashboard();\n\tresponse.setBody(dashboard.getTopNotificationsOfATable(table, request.body.data));\n\n})(request, response);","sys_updated_on":"2024-09-19 16:57:25","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"73a5d07cfffc1e10ac42fbd38c4fd93e","http_method":"POST","sys_updated_by":"rajesh.tatikonda@snc","operation_uri":"/api/snc/notification_dashboard/notifications/email/top/notifications_for_a_table","sys_created_on":"2024-09-19 16:57:25","sys_name":"TopNotificationsForATable","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"rajesh.tatikonda@snc","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/a5ea2ec8ffec5a10ac42fbd38c4fd9fb","value":"a5ea2ec8ffec5a10ac42fbd38c4fd9fb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fa85f980ff6c5a10ac42fbd38c4fd9bd","value":"fa85f980ff6c5a10ac42fbd38c4fd9bd"},"sys_update_name":"sys_ws_operation_73a5d07cfffc1e10ac42fbd38c4fd93e","consumes_customized":"false","name":"TopNotificationsForATable","produces":"application/json,application/xml,text/xml","relative_path":"/notifications/email/top/notifications_for_a_table","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar errorHandler = new ErrorHandler();\n\tvar tableName = request.pathParams.tableName;\n\tvar sysId = request.pathParams.sysId;\n\tvar configResponse;\n\t\n\ttry {\n\n\t\tconfigResponse = new ConfigRetrievalService(false).retrieveConfig(tableName, sysId);\n\n\t\tif (!configResponse || configResponse.isEmpty()) {\n\t\t\terrorHandler.throwNotFoundError('Configuration for ' + tableName + ', with ID: ' + sysId + ', not found');\n\t\t}\n\t\t\n\t} catch (error) {\n\t\terrorHandler.throwSnWsError(error);\n\t}\n\t\n\treturn configResponse;\n})(request, response);","sys_updated_on":"2021-04-20 15:23:56","enforce_acl":"4bbe81b4c703201066492f3bf4c260e6","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"73cdaeae53922010c722ddeeff7b12e5","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_mab_api/mab_api/retrieveConfiguration/{tableName}/{sysId}","sys_created_on":"2021-02-16 06:47:48","sys_name":"Get Configuration","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3512bd93c7c12010100f2f3bf4c26049","value":"3512bd93c7c12010100f2f3bf4c26049"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"23","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_update_name":"sys_ws_operation_73cdaeae53922010c722ddeeff7b12e5","consumes_customized":"false","name":"Get Configuration","produces":"application/json,application/xml,text/xml","relative_path":"/retrieveConfiguration/{tableName}/{sysId}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar requestBody = request.body;\n\tvar requestData = requestBody.data;\n    var dict = requestData.dictionary_entries;\n    var dataClass = requestData.data_classes;\n\t\n    return new SNC.DCManager().classify(dict, dataClass);\n})(request, response);","sys_updated_on":"2020-09-24 08:27:25","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"741ac10773761010ae8dd21efaf6a761","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/data_classification/classify","sys_created_on":"2020-08-27 13:09:05","sys_name":"ClassifyDictionaryEntries","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/90b9010773761010ae8dd21efaf6a745","value":"90b9010773761010ae8dd21efaf6a745"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"28","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e6cde73304752210559073c06a02f70a","value":"e6cde73304752210559073c06a02f70a"},"sys_update_name":"sys_ws_operation_741ac10773761010ae8dd21efaf6a761","consumes_customized":"false","name":"ClassifyDictionaryEntries","produces":"application/json,application/xml,text/xml","relative_path":"/classify","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Retrievs all the items that belongs to a category","sys_updated_on":"2017-06-20 11:13:33","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"748f3b7167330200d22b794717415aea","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/categories/{sys_id}/items","sys_created_on":"2015-11-19 08:31:24","sys_name":"List of Items for a Category","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"9","active":"false","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_748f3b7167330200d22b794717415aea","consumes_customized":"false","name":"List of Items for a Category","produces":"application/json,application/xml,text/xml","relative_path":"/categories/{sys_id}/items","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/categories/{sys_id}/items","sys_policy":"protected"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var appManagerApiUtil = new AppManagerApiUtil(request, response);\n    try {\n        var requestData = appManagerApiUtil.getRequestBody().dependencies;\n        var dependencyInfo = new DependencyProcessor(null, true).processBatchDependencies(requestData);\n        appManagerApiUtil.setResponseBody(dependencyInfo);\n    } catch (err) {\n        appManagerApiUtil.setError(err);\n    }\n})(request, response);","sys_updated_on":"2023-12-11 10:46:48","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/be08b89397b0d1104b593f0e6253afe1","value":"be08b89397b0d1104b593f0e6253afe1"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"74e286de772161103166a86eaf5a99cf","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_appclient/v1/appmanager/batch/dependencies","sys_created_on":"2023-03-15 10:58:25","sys_name":"GetBatchDependencyInfo","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7ea1fc5f9770d1104b593f0e6253af99","value":"7ea1fc5f9770d1104b593f0e6253af99"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_update_name":"sys_ws_operation_74e286de772161103166a86eaf5a99cf","consumes_customized":"false","name":"GetBatchDependencyInfo","produces":"application/json,application/xml,text/xml","relative_path":"/batch/dependencies","produces_customized":"false","default_operation_uri":"/api/sn_appclient/appmanager/batch/dependencies","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n    var appId = request.pathParams.appId;\n\n    ScopeCheck.verifyNotGlobal(appId);\n\n    var allowed = VCSAppAccessCheck.verifyReadAccess(appId) && (VCSAppAccessCheck.isGACOrSourceControlUser() || VCSAppAccessCheck.verifyVersionControlAccess(appId));\n\n    if (!allowed)\n        VCSAppAccessCheck.throwAccessDenied(appId);\n\n    var repo = sn_vcs.AppSourceControl.getRepository(appId);\n    var changes = repo.getOutgoingChanges();\n\n    response.setBody(changes);\n    response.setStatus(200);\n    response.setContentType('application/json');\n})(request, response);","sys_updated_on":"2021-04-06 20:20:26","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"74eaf09037011200612747efbe41f181","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/apps/{appId}/changes","sys_created_on":"2016-01-15 05:59:35","sys_name":"List Local Changes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"55","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_74eaf09037011200612747efbe41f181","consumes_customized":"false","name":"List Local Changes","produces":"application/json,application/xml,text/xml","relative_path":"/apps/{appId}/changes","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/apps/{appId}/changes","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    const {appId} = request.queryParams;\n\tif(!appId) return response.setError(new sn_ws_err.BadRequestError('Missing required appId parameter.'));\n\tconst app = appId[0];\n\tif(!app) return response.setError(new sn_ws_err.BadRequestError('Missing required appId parameter.'));\n\t\n\tconst utils = new UXAApplicationUtils();\n\treturn utils.getMenuForApp(app);\n\n})(request, response);","sys_updated_on":"2024-09-23 08:32:43","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/d93d4288ffe7c21024f4ffffffffff52","value":"d93d4288ffe7c21024f4ffffffffff52"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"750883b97f781210febd6e377d8665a2","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uxa_req_manager/v1/uxa_data/get-app-menu","sys_created_on":"2024-09-23 08:30:01","sys_name":"Get app menu","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/e9f5c0d20b620210e8a937009777b2d7","value":"e9f5c0d20b620210e8a937009777b2d7"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_update_name":"sys_ws_operation_750883b97f781210febd6e377d8665a2","consumes_customized":"false","name":"Get app menu","produces":"application/json,application/xml,text/xml","relative_path":"/get-app-menu","produces_customized":"false","default_operation_uri":"/api/sn_uxa_req_manager/uxa_data/get-app-menu","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tif (!gs.hasRole(\"security_admin\")) {\n\t\tvar accessRestrictedError = new sn_ws_err.ServiceError();\n\t\taccessRestrictedError.setStatus(403);\n\t\taccessRestrictedError.setMessage(gs.getMessage(\"Insufficent privileges to modify exclusion list\"));\n\t\tresponse.setError(accessRestrictedError);\n\t\t\n\t\treturn;\n\t}\n\n\tvar workerId = SNC.PasswordPolicyUtil.reinstallPasswordLists();\n\tif (workerId == null || workerId == 'undefined')\n\t\treturn new sn_ws_err.BadRequestError(gs.getMessage('password exclusion list progress worker not available'));\n\t\n\treturn { \"workerID\": workerId };\n\t\n})(request, response);","sys_updated_on":"2022-05-03 21:10:38","enforce_acl":"b33c17cc77a230106407f0ec8e5a99f1","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"751d9fcc77a230106407f0ec8e5a995e","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/passwordexclusionlist/reinstall","sys_created_on":"2021-09-07 22:17:03","sys_name":"reinstallExclusionLists","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/87045d89770230106407f0ec8e5a9974","value":"87045d89770230106407f0ec8e5a9974"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"14","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f915e73304712210559073c06a02f7e1","value":"f915e73304712210559073c06a02f7e1"},"sys_update_name":"sys_ws_operation_751d9fcc77a230106407f0ec8e5a995e","consumes_customized":"false","name":"reinstallExclusionLists","produces":"application/json,application/xml,text/xml","relative_path":"/reinstall","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        const playerController = new global.SNHelpSetupPlaybookActivityController();\n        const data = request.body.data;\n        const result = playerController.createRecord(data);\n        response.setStatus(result.status);\n        if (result.data) {\n            response.setBody(result.data);\n        } else {\n            response.setBody({\n                error: result.message || result.error\n            });\n        }\n    } catch (ex) {\n        response.setStatus(500);\n        response.setBody({\n            error: \"Internal Server Error \" + ex\n        });\n    }\n})(request, response);","sys_updated_on":"2024-09-10 04:02:44","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"75354a594368d21050286548b9b8f21d","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_ads_setup/play/playbook_activity/create_record","sys_created_on":"2024-09-09 04:28:09","sys_name":"Playbook Activity Create Record","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/9fb44064773230106ee492b01e5a9991","value":"9fb44064773230106ee492b01e5a9991"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_update_name":"sys_ws_operation_75354a594368d21050286548b9b8f21d","consumes_customized":"false","name":"Playbook Activity Create Record","produces":"application/json,application/xml,text/xml","relative_path":"/playbook_activity/create_record","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"var { RuleFetcher } = require('@devsnc/uibtk-api');\n\n(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar ids = request.queryParams.ids; // array\n\tvar rf = new RuleFetcher();\n\tvar rules = rf.getAsKeyedObject(ids);\n\tresponse.setBody({ rules });\n\n})(request, response);","sys_updated_on":"2024-04-17 20:56:17","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"7569dce09f110210ff78c1ce0a0a1c65","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/rules","sys_created_on":"2024-03-28 22:55:47","sys_name":"Rules","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"8","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_7569dce09f110210ff78c1ce0a0a1c65","consumes_customized":"false","name":"Rules","produces":"application/json,application/xml,text/xml","relative_path":"/rules","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Creates a new page registry and app config record","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    const apiHelper = new APIHelper(request, response);\n    apiHelper.execute(function() {\n        const {\n            name,\n            appShellUI,\n            path,\n            homepage,\n            roles\n        } = request.body.data;\n        const result = new Experience().create(name, appShellUI, path, homepage, roles);\n        result === false ?\n            apiHelper.respondUnsuccessfully(BuilderToolkitConstants.ERRORS.FAILED_TO_CREATE_EXPERIENCE) :\n            apiHelper.respondSuccesfully({experienceID: result});\n    });\n})(request, response);","sys_updated_on":"2023-05-26 18:21:15","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"{\n            name: '',\n            appShellUI: '',\n            path: '',\n            homepage: '',\n            roles: []\n}","sys_id":"757f0bb6496f1110f8771a44d1920900","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/experience","sys_created_on":"2022-12-07 19:43:42","sys_name":"Experience","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_757f0bb6496f1110f8771a44d1920900","consumes_customized":"false","name":"Experience","produces":"application/json,application/xml,text/xml","relative_path":"/experience","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\ttry {\n        var result = new sn_nlu_workbench.NLUImprovementAnalysis().getStatus();\n\t\tif (result.status === 'success') {\n\t\t\tresponse.setStatus(200);\n\t\t} else {\n\t\t\tresponse.setStatus(400);\n\t\t}\n\n\t\tresponse.setContentType('application/json');\n\t\treturn result;\n\t}\n\tcatch (e) {\n        return new sn_ws_err.BadRequestError(e.message);\n    }\n\n})(request, response);","sys_updated_on":"2021-02-05 10:17:59","enforce_acl":"0f43facbeb8220105de665fcc8522895","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b51a6d700710201028ef0a701ad300ab","value":"b51a6d700710201028ef0a701ad300ab"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"75bcdbe673042010e6b632e954f6a7a6","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_nlu_workbench/v1/nlu_advanced/getImprovementAnalysisStatus","sys_created_on":"2020-10-27 13:51:32","sys_name":"getImprovementAnalysisStatus","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea82488673402010e6b632e954f6a7ca","value":"ea82488673402010e6b632e954f6a7ca"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_update_name":"sys_ws_operation_75bcdbe673042010e6b632e954f6a7a6","consumes_customized":"false","name":"getImprovementAnalysisStatus","produces":"application/json,application/xml,text/xml","relative_path":"/getImprovementAnalysisStatus","produces_customized":"false","default_operation_uri":"/api/sn_nlu_workbench/nlu_advanced/getImprovementAnalysisStatus","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    response.setContentType('application/json');\n\tvar helper = new CSDMAppServiceHelper();\n\tvar id = helper.getParamAsString('sys_id');\n\t\n\tif (JSUtil.nil(id)) {\n\t\treturn new sn_ws_err.BadRequestError('Missing sys_id');\n\t}\n\t\n\tvar result = helper.deleteApplicationService(id);\n\tif (JSUtil.nil(result)) {\n\t\tvar error = new sn_ws_err.ServiceError();\n\t\terror.setStatus(500);\n\t\terror.setMessage(\"Cannot delete service\");\n\t\treturn error;\n\t}\n\tresponse.setStatus(200);\n\n})(request, response);","sys_updated_on":"2020-03-24 21:40:19","enforce_acl":"2006673c53770010ee0dddeeff7b127d","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"75d7a9c453e70010ee0dddeeff7b12a8","http_method":"DELETE","sys_updated_by":"admin","operation_uri":"/api/now/csdm_app_service/delete_app_service","sys_created_on":"2020-03-09 18:14:11","sys_name":"Delete Application Service","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/60c171d973c30010ee4dd3c72bf6a716","value":"60c171d973c30010ee4dd3c72bf6a716"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2f8d67ff04352210559073c06a02f74f","value":"2f8d67ff04352210559073c06a02f74f"},"sys_update_name":"sys_ws_operation_75d7a9c453e70010ee0dddeeff7b12a8","consumes_customized":"false","name":"Delete Application Service","produces":"application/json,application/xml,text/xml","relative_path":"/delete_app_service","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var applicationId = request.pathParams.applicationId;\n    var adminCenterApplicationsUtil = new AdminCenterApplicationsUtil();\n    var applicationGr = adminCenterApplicationsUtil.getApplicationGlideRecord(applicationId);\n    if (!applicationGr)\n        return {};\n\n    var appStatusData = adminCenterApplicationsUtil.fetchAppStatusData([adminCenterApplicationsUtil.getApplicationId(applicationGr)]);\n    var appStatus = adminCenterApplicationsUtil.getAppStatus(applicationGr, appStatusData);\n    if (!appStatus)\n        return {};\n\n    var installationStatus = adminCenterApplicationsUtil.getInstallationStatus(appStatus);\n    var dateText = adminCenterApplicationsUtil.getDateText(appStatus, installationStatus);\n\n    var result = {\n        businessImpact: applicationGr.getDisplayValue('business_impact') ? applicationGr.getDisplayValue('business_impact') : null,\n        estimatedCompletionTime: applicationGr.getDisplayValue('estimated_implementation_time') ? applicationGr.getDisplayValue('estimated_implementation_time') : null,\n        isPlugin: appStatus.isPlugin,\n        applicationId: applicationGr.getValue('application_id'),\n        pluginId: applicationGr.getValue('plugin_id'),\n        appName: applicationGr.getValue('name'),\n        licensing: appStatus.isApplication ? 'yes' : appStatus.entitled,\n        status: installationStatus,\n        dateText: dateText,\n        appDetailsLink: adminCenterApplicationsUtil.getAppDetailsLink(appStatus)\n    };\n\n    response.setContentType('application/json');\n    response.setStatus(200);\n    response.setBody(result);\n\n})(request, response);","sys_updated_on":"2023-09-21 20:57:08","enforce_acl":"87156c3db79701109cfe23508e11a95b","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"7619b3e5b71701109cfe23508e11a918","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_admin_center/adminx/app_info/{applicationId}","sys_created_on":"2022-05-06 19:07:29","sys_name":"Application Info","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1163fa730f102010e8c940c1df767e8c","value":"1163fa730f102010e8c940c1df767e8c"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/93683ba5b71701109cfe23508e11a91f","value":"93683ba5b71701109cfe23508e11a91f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1163fa730f102010e8c940c1df767e8c","value":"1163fa730f102010e8c940c1df767e8c"},"sys_update_name":"sys_ws_operation_7619b3e5b71701109cfe23508e11a918","consumes_customized":"false","name":"Application Info","produces":"application/json,application/xml,text/xml","relative_path":"/app_info/{applicationId}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"Updates an app route record","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tconst apiHelper = new APIHelper(request, response);\n\tapiHelper.execute(function(){\n\t\tconst appRoute = apiHelper.getBodyParam(BuilderToolkitConstants.BODY_PARAM.APP_ROUTE, false);\n\t\tif(!appRoute){\n\t\t\treturn apiHelper.respondUnsuccessfully(BuilderToolkitConstants.ERRORS.NO_APP_ROUTE);\n\t\t}\n\t\tapiHelper.getResponseGlideOperation(new AppRoute().updateRecord(appRoute),BuilderToolkitConstants.ERRORS.FAILED_TO_UPDATE);\n\t});\n\n})(request, response);","sys_updated_on":"2023-05-26 18:16:49","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"{\n     name: '',\n     optionalParameters: '',\n     fields: '',\n     sysId: '',\n}","sys_id":"7662904c18671510f8774a42adb3272c","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/app_route","sys_created_on":"2022-11-28 17:06:17","sys_name":"App Route","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"9","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_7662904c18671510f8774a42adb3272c","consumes_customized":"false","name":"App Route","produces":"application/json,application/xml,text/xml","relative_path":"/app_route","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n\tvar manager = new SNC.EntryPointSelectorManager();\n\treturn manager.getEntryPointTypeFields(request.queryParams.typeName);\n})(request, response);","sys_updated_on":"2023-05-17 10:39:00","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"766515c29f523200db315ecec32e7063","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/snc_entry_point_selector/getEntryPointTypeFields","sys_created_on":"2017-04-24 13:45:25","sys_name":"getEntryPointTypeFields","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/2ef399829f523200db315ecec32e7009","value":"2ef399829f523200db315ecec32e7009"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_766515c29f523200db315ecec32e7063","consumes_customized":"false","name":"getEntryPointTypeFields","produces":"application/json,application/xml,text/xml","relative_path":"/getEntryPointTypeFields","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar controller = new sn_tourbuilder.GTAutoLaunchController();\n\tvar payload = request.body.data;\n\tvar res = null;\n\tif (payload.page) {\n\t\tres = controller.overrideAllToursForUserInPage(payload.page, payload.portal);\n\t\tif (res) {\n\t\t\tresponse.setBody(res);\n\t\t\tresponse.setStatus(200);\n\t\t} else {\n\t\t\tresponse.setStatus(400);\n\t\t}\n\t} else if (payload.tour) {\n\t\tres = controller.overrideTourForUser(payload.tour);\n\t\tif(res) {\n\t\t\tresponse.setBody();\n\t\t\tresponse.setStatus(200);\n\t\t} else {\n\t\t\tresponse.setStatus(400);\n\t    }\n\t} else {\n\t\tresponse.setStatus(400);\n\t}\n\n})(request, response);","sys_updated_on":"2018-07-27 08:01:01","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/3268f36173eb13007077edcc5ef6a738","value":"3268f36173eb13007077edcc5ef6a738"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"76bdf24a87f73200b38c0f4c59cb0b20","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/v1/guided_tours/autolaunch/override","sys_created_on":"2017-07-08 10:55:28","sys_name":"Autolaunch- Override user","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/2405194d87e73200b38c0f4c59cb0b6f","value":"2405194d87e73200b38c0f4c59cb0b6f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_update_name":"sys_ws_operation_76bdf24a87f73200b38c0f4c59cb0b20","consumes_customized":"false","name":"Autolaunch- Override user","produces":"application/json,application/xml,text/xml","relative_path":"/autolaunch/override","produces_customized":"false","default_operation_uri":"/api/now/guided_tours/autolaunch/override","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n    var workspaceId = request.pathParams.workspace_id;\n    var fullUrl;\n\n    if (!workspaceId)\n        return new sn_ws_err.BadRequestError('No workspace_id provided');\n\n    var service = new WorkspaceAdminHelper();\n    fullUrl = service.generateFullUrl(workspaceId);\n\n    if (!fullUrl)\n        return new sn_ws_err.BadRequestError('Error retrieving workspace url');\n\n    response.setLocation(fullUrl);\n    response.setStatus(301);\n})(request, response);","sys_updated_on":"2019-07-30 20:13:54","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"777cb85c7703330065117206d81061f2","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/workspace_administration/workspace_url/{workspace_id}","sys_created_on":"2019-07-30 16:59:02","sys_name":"Workspace Url","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/676c785c7703330065117206d81061cc","value":"676c785c7703330065117206d81061cc"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"23","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/990a233f04f12210559073c06a02f754","value":"990a233f04f12210559073c06a02f754"},"sys_update_name":"sys_ws_operation_777cb85c7703330065117206d81061f2","consumes_customized":"false","name":"Workspace Url","produces":"application/json,application/xml,text/xml","relative_path":"/workspace_url/{workspace_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\t\t\tvar queryParams = request.queryParams;\n\t\t\tif(queryParams.userPreferenceKeys){\n\t\t\t\tvar gr = new GlideRecord('sys_user_preference');\n\t\t\t\tvar body = {};\n\t\t\t\tvar keys = queryParams.userPreferenceKeys[0].split(\",\");\n\t\t\t\tvar encodedQuery = \"\";\n\t\t\t\tvar keyLength = keys.length;\n\t\t\t\tif(keyLength>0){\n\t\t\t\t\tfor (var i = 0; i<keyLength-1; i++) {\n\t\t\t\t\t\tencodedQuery = encodedQuery.concat(\"name=\").concat(keys[i]).concat(\"^OR\");\n\t\t\t\t\t}\n\t\t\t\t\tencodedQuery = encodedQuery.concat(\"name=\").concat(keys[keyLength-1]);\n\t\t\t\t\tgr.addEncodedQuery(encodedQuery);\n\t\t\t\t\tgr.query();\n\t\t\t\t\twhile (gr.next()) {\n\t\t\t\t\t\tif (gr.canRead()) {\n\t\t\t\t\t\t\tbody[gr.getValue('name')] = gr.getValue('value');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tresponse.setContentType('application/json');\n\t\t\t\t\tresponse.setStatus(200);\n\t\t\t\t\tresponse.setBody(body);\n\t\t\t\t}\n\n\t\t\t}\n\t\t})(request, response);","sys_updated_on":"2023-05-25 12:19:02","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"7865e249eb0b21104307fd00525228fa","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/mcb/userPreferences","sys_created_on":"2023-05-25 05:50:51","sys_name":"User Preferences - Get","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/63d8b7c573c51010a59b4c5353f6a737","value":"63d8b7c573c51010a59b4c5353f6a737"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_update_name":"sys_ws_operation_7865e249eb0b21104307fd00525228fa","consumes_customized":"false","name":"User Preferences - Get","produces":"application/json,application/xml,text/xml","relative_path":"/userPreferences","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n    var appId = request.pathParams.appId;\n\n    ScopeCheck.verifyNotGlobal(appId);\n    var allowed = VCSAppAccessCheck.verifyReadAccess(appId) && (VCSAppAccessCheck.isGACOrSourceControlUser() || VCSAppAccessCheck.verifyVersionControlAccess(appId));\n\n    if (!allowed) \n\t\tVCSAppAccessCheck.throwAccessDenied(appId);\n\n    var repo = sn_vcs.AppSourceControl.getRepository(appId),\n        tags = repo.getTags(),\n        result = [];\n\n    while (tags && tags.next()) {\n        result.push({\n            name: tags.getName()\n        });\n    }\n\n    response.setBody({\n        count: result.length,\n        tags: result\n    });\n\n    response.setStatus(200);\n    response.setContentType('application/json');\n\n})(request, response);","sys_updated_on":"2021-04-06 20:21:03","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"7892fc1137301200612747efbe41f10b","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/apps/{appId}/repos/{repoId}/tags","sys_created_on":"2016-01-05 21:21:30","sys_name":"List Tags","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"12","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_7892fc1137301200612747efbe41f10b","consumes_customized":"false","name":"List Tags","produces":"application/json,application/xml,text/xml","relative_path":"/apps/{appId}/repos/{repoId}/tags","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/apps/{appId}/repos/{repoId}/tags","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var sampleSize = request.body.data.sampleSize;\n    var table = request.body.data.table;\n    var fields = request.body.data.fields;\n\tvar condition = request.body.data.condition;\n\n    var gr = new GlideRecordSecure(table);\n\n    if (!gr.isValid()) {\n        response.setError(new ErrorHandler().throwBadRequestError('Table: ' + table + ' is invalid'));\n        return;\n    }\n\n    if (!fields || fields.length == 0) {\n        return {\n            previewData: []\n        };\n    }\n\n\tgr.addEncodedQuery(condition);\n\tgr.setLimit(sampleSize);\n    gr.query();\n\n    var previewData = [];\n    while (gr.next()) {\n        var previewRecord = {};\n        fields.forEach(function(field) {\n\t\t\tvar element = gr.getElement(field.columnValue);\n            if (field.fieldType == \"FieldValue\") {\n                try {\n                    previewRecord[field.cellId] = {\n                        value: element.getDisplayValue() + \"\",\n                        type: element.getED().getInternalType() + \"\"\n                    };\n                } catch (e) {\n                    previewRecord[field.cellId] = {};\n                }\n            } else if (field.fieldType == \"FieldLabel\") {\n                try {\n                    previewRecord[field.cellId] = {\n                        value: element.getLabel() + \"\",\n                        type: element.getED().getInternalType() + \"\"\n                    };\n                } catch (e) {\n                    previewRecord[field.cellId] = {};\n                }\n            }\n        }.bind(this));\n\n        previewData.push(previewRecord);\n    }\n\n    return {\n        \"previewData\": previewData\n    };\n\n})(request, response);","sys_updated_on":"2024-10-14 19:09:14","enforce_acl":"4bbe81b4c703201066492f3bf4c260e6","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"7982d38453011210fd42ddeeff7b120a","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_mab_api/mab_api/previewData","sys_created_on":"2024-09-30 09:03:24","sys_name":"GET Preview Data","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3512bd93c7c12010100f2f3bf4c26049","value":"3512bd93c7c12010100f2f3bf4c26049"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_update_name":"sys_ws_operation_7982d38453011210fd42ddeeff7b120a","consumes_customized":"false","name":"GET Preview Data","produces":"application/json,application/xml,text/xml","relative_path":"/previewData","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar restHandler, result, url, routeObj, snhelpUtil;\n\ttry {\n\t\tsnhelpUtil = new SNHelpUtil();\n\t\tif(!snhelpUtil.isSnHelpEnabled())\n\t\t\treturn snhelpUtil.snHelpDisabledError(response);\n\n\t\turl = request.body.data.url;\n\t\trouteObj = request.body.data.route;\n\n\t\trestHandler = new SNHelpGuidanceRestHandler();\n\t\tresult = restHandler.searchDocumentsAndTours(url, routeObj);\n\t\tresponse.setStatus(result.status);\n\t\tif (result.error) {\n\t\t\tresponse.setBody({error: result.error});\n\t\t} else {\n\t\t\tresponse.setBody(result.data);\n\t\t}\n\n\t} catch (e) {\n\t\tresponse.setStatus(500);\n\t\tgs.error(\"SNHelpGuidanceRestHandler: \" + e.message);\n\t\tresponse.setBody({error: \"Internal server error\"});\n\t}\n\n})(request, response);","sys_updated_on":"2023-02-06 04:32:28","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"79c635465372101089abddeeff7b12cf","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/help/documents","sys_created_on":"2020-08-24 13:49:33","sys_name":"Search Documents and Tours","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/bd93a9195300501065f2ddeeff7b1297","value":"bd93a9195300501065f2ddeeff7b1297"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"30","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/562ba37304352210559073c06a02f751","value":"562ba37304352210559073c06a02f751"},"sys_update_name":"sys_ws_operation_79c635465372101089abddeeff7b12cf","consumes_customized":"false","name":"Search Documents and Tours","produces":"application/json,application/xml,text/xml","relative_path":"/documents","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"/*********************************************************************************************\nUse this method to add a CI to the map.\nThe input format is json and it contains the following parameters:\n•\ttargetid – The sys id of the CI needed to be added\n•\tbsid – The sys id of the business service the CI need to be added to \n•\tsourceid – The sys id of the CI to connect the added CI to\nThe input must have the following format:\n\n{ \n\tADD_MANUAL_CI : {\n\t\tbsid : \"BS_SYS_ID\", \n\t\tsourceid: \"SOURCE_CI_SYS_ID\", \n\t\ttargetid: \"TARGET_CI_SYS_ID\"\n\t}\n}\n \nMake sure the input CIs fallows the following restrictions:\n\t•\tSource CI must by a real CI. Do not use a cluster, an endpoint or a NAT as the source CI.\n\t•\t The CI type of the target CI must be allowed by the \"getCiTypes\" API. By default, the \"getCiTypes\" API allows all CI types that extend the cmdb_ci table, except:\n\t\to\tEndpoint (cmdb_ci_endpoint)\n\t\to\tNAT (cmdb_ci_translation_rule)\n\t\to\tNAT Gateway (cmdb_ci_nat_gateway)\n\t\to\tConfiguration file (cmdb_ci_config_file)\n\t\to\tQualifier (cmdb_ci_qualifier)\n\t\to\tApplication Cluster (cmdb_ci_application_cluster)\n\t•\tVerify that the target CI follows these guidelines:\n\t\to\tIt is not the source CI.\n\t\to\t It is not already connected to the source CI.\n\t\to\tOn clusters and inclusions, make sure this CI cannot create a connection within a group.\n\t\t\t♣\tAdding a CI to its peers in the cluster.\n\t\t\t♣\tAdding an included CI after the inclusion\n\t\t\t♣\tAdding an inclusion CI after the included CI\n\t\t\t♣\tAdding a CI between all levels within clusters or inclusions, for example, a cluster within a cluster, inclusion within a cluster and so on.\n \n*********************************************************************************************/\n\n\n(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar msg =\"\";\n\tvar json = {};\n\t\n\ttry{\n\t\t\n\t\tvar body = GlideStringUtil.getStringFromStream(request.body.dataStream);\n\t\t\n\t\tif (GlideStringUtil.nil(body)) {\n\t\t\tmsg = gs.getMessage(\"Wrong input for add manual CI, input must not be empty\");\n\t\t} else {\n\t\t\ttry {\n\t\t\t\tjson = JSON.parse(body);\n\t\t\t}\n\t\t\tcatch (eJson) {\n\t\t\t\tmsg = gs.getMessage(\"Wrong input for add manual CI, input must be JSON. {0}\", [eJson]);\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\tif (msg === \"\") {\n\t\t\t\tvar bsid = json.ADD_MANUAL_CI.bsid;\n\t\t\t\tvar sourceid = json.ADD_MANUAL_CI.sourceId;\n\t\t\t\tvar targetid = json.ADD_MANUAL_CI.targetId;\n\n\t\t\t\tvar bsManager = new SNC.BusinessServiceManager();\n\t\t\t\tmsg = bsManager.addCISync(bsid,sourceid,targetid);\n\t\t\t}\n\t\t}\n\t}\n\tcatch(e){\n\t\tmsg = gs.getMessage(\"Add CI Manualy failed: {0}\", [e]);\n\t}\n\t\n\tif (msg !== \"\") {\n\t\tresponse.setStatus(400);\n\t\tthrow new sn_ws_err.BadRequestError(msg);\n\t}\n\t\n})(request, response);","sys_updated_on":"2018-03-05 07:43:12","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"79cb275293133200e05476df067ffb4f","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/manual_ci/addManualCI","sys_created_on":"2017-06-14 12:23:13","sys_name":"addManualCI","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/be2cb28393a23200443674aff67ffba6","value":"be2cb28393a23200443674aff67ffba6"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"17","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_79cb275293133200e05476df067ffb4f","consumes_customized":"false","name":"addManualCI","produces":"application/json,application/xml,text/xml","relative_path":"/addManualCI","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar queryParams = request.queryParams;\n\tif(queryParams.keys){\n\t\tvar gr = new GlideRecord('sys_properties');\n\t\tvar body = {};\n\t\tvar keys = queryParams.keys[0].split(',');\n\t\tvar encodedQuery = \"\";\n\t\tvar keyLength = keys.length;\n\t\tif(keyLength>0){\n\t\t\tfor (var i = 0; i<keyLength-1; i++) {\n\t\t\t\tencodedQuery = encodedQuery.concat(\"name=\").concat(keys[i]).concat(\"^OR\");\n\t\t\t}\n\t\t\tencodedQuery = encodedQuery.concat(\"name=\").concat(keys[keyLength-1]);\n\t\t\tgr.addEncodedQuery(encodedQuery);\n\t\t\tgr.query();\n\t\t\twhile (gr.next()) {\n\t\t\t\t// \"glide.ui.polaris.experience\" is not owned by MCB and we can not manualy change the permission role\n\t\t\t\t// So we include the boolean check in this result set only for MCB users with roll access of Mobile Card Builder API\n\t\t\t\tif (gr.canRead() || gr.getValue('name') === \"glide.ui.polaris.experience\") {\n\t\t\t\t\tbody[gr.getValue('name')] = gr.getValue('value');\n\t\t\t\t}\n\t\t\t}\n\t\t\tresponse.setContentType('application/json');\n\t\t\tresponse.setStatus(200);\n\t\t\tresponse.setBody(body);\n\t\t}\n\n\t}\n})(request, response);","sys_updated_on":"2023-03-20 18:56:35","enforce_acl":"d7088c08b751211095411226de11a9e9","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"79d29cf687b50110ee14620d0ebb35a0","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/mcb/system_property","sys_created_on":"2022-02-24 10:19:57","sys_name":"System Property - Get","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_created_by":"aditya.narayan@snc","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/63d8b7c573c51010a59b4c5353f6a737","value":"63d8b7c573c51010a59b4c5353f6a737"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"18","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_update_name":"sys_ws_operation_79d29cf687b50110ee14620d0ebb35a0","consumes_customized":"false","name":"System Property - Get","produces":"application/json,application/xml,text/xml","relative_path":"/system_property","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Edges properties for comparison map.","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n/**\nParameters:\n\tbsId (sys_id)\n\tedgesIds (sys_ids of all edges to process)\n\tstableIds (stable ids of edges, sorted exactly as in edgesIds)\n\tfrom (number, ms)\n\tto (number, ms)\n*/\n    var saOpsWrapper = new SaOperationsWrapper(SNC.SaActionsHandler);\n\tsaOpsWrapper.process(request,response, \"compareEdgesData\", true);\n\n})(request, response);","sys_updated_on":"2018-03-11 12:44:25","enforce_acl":"ea4f3ae287132200b5bea18dd0e3eceb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"7a3cea137f520300995cbaf8befa91e6","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/it_service/compareEdgesData","sys_created_on":"2017-11-13 13:29:18","sys_name":"CompareEdgesData - Internal API","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3418e25f7f120300995cbaf8befa912e","value":"3418e25f7f120300995cbaf8befa912e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_7a3cea137f520300995cbaf8befa91e6","consumes_customized":"false","name":"CompareEdgesData - Internal API","produces":"application/json,application/xml,text/xml","relative_path":"/compareEdgesData","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        var receivedParams = request.pathParams;\n        var currentRecordTable = receivedParams.table_name;\n        var recordSysId = receivedParams.sysId;\n        var queryParams = request.queryParams;\n        var ruleContextId;\n        if (queryParams.hasOwnProperty(\"contextSysId\"))\n            ruleContextId = queryParams.contextSysId[0];\n        var defaultSearchTerm = '';\n        var result = {};\n\n        var nbasrvc = new sn_nb_action.NextBestActionService();\n        var nbaDao = sn_nb_action.NextBestActionUtil.getNextBestActionDAO();\n        var currentRecord = nbaDao.getTableRecordBySysId(currentRecordTable, recordSysId);\n        var ruleContextGr = nbaDao.getRuleContext(currentRecord, ruleContextId);\n        defaultSearchTerm = nbasrvc.getDefaultSearchTermFromContext(currentRecordTable, recordSysId, ruleContextGr);\n        result.defaultSearchTerm = defaultSearchTerm ? defaultSearchTerm : '';\n        if (result) {\n            response.setBody(result);\n            response.setStatus(200);\n        }\n    } catch (err) {\n        gs.error(\"Get default search term failed : \" + JSON.stringify(err));\n        response.setBody([]);\n        response.setStatus(200);\n    }\n\n})(request, response);","sys_updated_on":"2024-06-12 20:03:35","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/5024b34a53c31010763eddeeff7b1289","value":"5024b34a53c31010763eddeeff7b1289"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"7b11961687ac0a1079a433383cbb3594","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_nb_action/v1/next_best_action/search/get_default_search_term/{table_name}/{sysId}","sys_created_on":"2024-02-26 11:20:45","sys_name":"Get Default Search Term","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/427fe83177221010d7159b71a91061e1","value":"427fe83177221010d7159b71a91061e1"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/95beed2cc7c71010763e343703c2608d","value":"95beed2cc7c71010763e343703c2608d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"29","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/427fe83177221010d7159b71a91061e1","value":"427fe83177221010d7159b71a91061e1"},"sys_update_name":"sys_ws_operation_7b11961687ac0a1079a433383cbb3594","consumes_customized":"false","name":"Get Default Search Term","produces":"application/json,application/xml,text/xml","relative_path":"/search/get_default_search_term/{table_name}/{sysId}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","sys_updated_on":"2017-08-05 01:09:33","enforce_acl":"b5ca561bb3113200715ca943c6a8dca8","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"7b12f8829f100300d23a7898f57fcf1e","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_bm_client/benchmark_client_api/group_tabs_by_category","sys_created_on":"2017-08-01 21:17:27","sys_name":"Get Groups By Category","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/986214c16710320097eeff5557415a89","value":"986214c16710320097eeff5557415a89"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_update_name":"sys_ws_operation_7b12f8829f100300d23a7898f57fcf1e","consumes_customized":"false","name":"Get Groups By Category","produces":"application/json,application/xml,text/xml","relative_path":"/group_tabs_by_category","produces_customized":"false","default_operation_uri":"","sys_policy":"protected"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar rotaIds = request.queryParams.rota_id || request.body.data.rotaid;\n\tvar ocrRotaV2 = new OCRotationV2();\n\tvar result = ocrRotaV2.getRostersByRotas(rotaIds);\n\tif (ocrRotaV2.log.atLevel(GSLog.DEBUG)) {\n\t\tocrRotaV2.timer.timerName += \" REST-POST getrostersbyrotas\";\n\t\tocrRotaV2.log.debug(ocrRotaV2.timer.result());\n\t}\n\treturn result;\n})(request, response);","sys_updated_on":"2019-03-20 10:28:34","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"7b144d6b671132004792adab9485ef72","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/getrostersbyrotas","sys_created_on":"2017-03-10 11:17:33","sys_name":"getRostersByRotas","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_7b144d6b671132004792adab9485ef72","consumes_customized":"false","name":"getRostersByRotas","produces":"application/json,application/xml,text/xml","relative_path":"/getrostersbyrotas","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","sys_updated_on":"2024-10-08 18:33:15","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"7bcf6225a3101210e59867b0c51e610a","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/t2e/skill_enabled","sys_created_on":"2024-08-28 15:35:54","sys_name":"Check T2E skill enabled","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_7bcf6225a3101210e59867b0c51e610a","consumes_customized":"false","name":"Check T2E skill enabled","produces":"application/json,application/xml,text/xml","relative_path":"/t2e/skill_enabled","produces_customized":"false","default_operation_uri":"","sys_policy":"protected"},{"short_description":"","operation_script":"(function process(request, response) {\n\n    response.setContentType('application/json');\n    var helper = new CMDBDataManagerHelper();\n    var offsetVal = helper.getParamAsString('offset');\n    var numRowsPerPage = helper.getParamAsString('numRows');\n\tvar offset = parseInt(offsetVal);\n    var numRows = parseInt(numRowsPerPage);\n\n    if (isNaN(offset) || isNaN(numRows)) {\n        return new sn_ws_err.BadRequestError('offset, numRows are mandatory and should be valid integers'); // TODO update error message\n    }\n\t\n    var result = {};\n    result.policies = helper.getAllPolicies(offset, numRows);\n\tresponse.setStatus(200);\n    response.setBody(result);\n\n})(request, response);","sys_updated_on":"2021-03-23 23:29:07","enforce_acl":"885bc51053832010af64ddeeff7b12cb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"7bd52f2c77d620108043270bba10617c","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/ci_lifecycle_manager/policies","sys_created_on":"2021-02-10 05:45:56","sys_name":"Get All Policies","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ad9ebe127322101045cadfcd3bf6a735","value":"ad9ebe127322101045cadfcd3bf6a735"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"24","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"sys_update_name":"sys_ws_operation_7bd52f2c77d620108043270bba10617c","consumes_customized":"false","name":"Get All Policies","produces":"application/json,application/xml,text/xml","relative_path":"/policies","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var payload = request.body.data;\n\tif (!payload.encodedQry || !payload.taskCiSysId)\n\t\treturn;\n\n\tvar taskCiGrSecure = new GlideRecordSecure('task_ci');\n\tif (taskCiGrSecure.get(payload.taskCiSysId)) {\n\t\tvar ciGr = taskCiGrSecure.ci_item.getRefRecord();\n\t\tciGr.applyEncodedQuery(payload.encodedQry);\n\t\tnew global.ProposeChangeUtil().genDiffProposedChanges(ciGr, payload.taskCiSysId);\n\n\t\tvar taskCiGr = new GlideRecord('task_ci');\n\t\tif (taskCiGr.get(payload.taskCiSysId)) {\n\t\t\ttaskCiGr.setValue('manual_proposed_change', true);\n\t\t\ttaskCiGr.update();\n\t\t}\n\t}\n})(request, response);","sys_updated_on":"2024-10-15 14:34:27","enforce_acl":"e44ee1090b1192101cde8a8db777b29e","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a912b23453a6111088d8ddeeff7b1240","value":"a912b23453a6111088d8ddeeff7b1240"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"7bebe0e2772812108433aeb4bb5a99f3","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_sow_chg/v1/sow_change_utils/save_single_propose_record","sys_created_on":"2024-09-12 18:48:54","sys_name":"saveSingleProposeChange","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3d876fa953615110532cddeeff7b12bb","value":"3d876fa953615110532cddeeff7b12bb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"16","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_update_name":"sys_ws_operation_7bebe0e2772812108433aeb4bb5a99f3","consumes_customized":"false","name":"saveSingleProposeChange","produces":"application/json,application/xml,text/xml","relative_path":"/save_single_propose_record","produces_customized":"false","default_operation_uri":"/api/sn_sow_chg/sow_change_utils/save_single_propose_record","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar pathParams = request.pathParams;\n\n\tif (!pathParams.standard_change_template_id)\n\t\treturn new sn_ws_err.BadRequestError(\"Standard Change Template id not provided\");\n\n\tvar standardChangeTemplate = \"\";\n\tif (GlidePluginManager.isActive(\"com.snc.change_management.standard_change_catalog\")) {\n\t\tvar templateSysId = pathParams.standard_change_template_id + \"\";\n\t\tstandardChangeTemplate = global.StandardChangeTemplate.findById(templateSysId);\n\n\t\tif (!standardChangeTemplate)\n\t\t\treturn new sn_ws_err.NotFoundError(\"Standard Change Template not found\");\n\t}\n\n\tvar nameValuePairs = global.ChangeCommon.assign({}, request.queryParams, request.body.data);\n\tvar state;\n\tif (nameValuePairs.state) {\n\t\tstate = nameValuePairs.state;\n\t\tdelete nameValuePairs.state;\n\t}\n\n\tvar changeProcess = global.StandardChangeProcess.newChangeProcess(standardChangeTemplate, nameValuePairs);\n\n\tif (state && !changeProcess.canMoveTo(state)) {\n\t\tvar error = new sn_ws_err.ServiceError();\n\t\terror.setStatus(400);\n\t\terror.setMessage(\"Standard Change Request cannot move to state: \" + state);\n\t\terror.setDetail(JSON.stringify(changeProcess.evaluateMoveTo(state)));\n\t\treturn error;\n\t}\n\n\tif ((!state && changeProcess.insert()) || (state && changeProcess.moveTo(state) && changeProcess.insert())) {\n\t\tvar result = changeProcess.toJS();\n\t\tresult.__meta = { ignoredFields: changeProcess.__ignoredfields || [] };\n\t\treturn result;\n\t}\n\n\tvar errorMessage = \"Could not create Standard Change Request.\";\n\tvar lastErrorMessage = changeProcess.getGlideRecord().getLastErrorMessage();\n\tif (lastErrorMessage)\n\t\terrorMessage += \" \" + lastErrorMessage;\n\n\treturn new sn_ws_err.BadRequestError(errorMessage);\n})(request, response);","sys_updated_on":"2018-08-23 18:48:28","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"7c0e431b5303130096c3ddeeff7b124f","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/standard/{standard_change_template_id}","sys_created_on":"2018-07-07 18:54:35","sys_name":"Standard","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_7c0e431b5303130096c3ddeeff7b124f","consumes_customized":"false","name":"Standard","produces":"application/json,application/xml,text/xml","relative_path":"/standard/{standard_change_template_id}","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/standard/{standard_change_template_id}","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar request_data = request.body.data;\t\n\tvar insertedRecords = BulkRecordInsertProcessor.insertRecords(request_data.tableName, request_data.records);\n\t\n\tvar results = {};\n\tresults['Mass Rest Insert'] =  insertedRecords + \" record were inserted\";\n\treturn results;\n\t\n})(request, response);","sys_updated_on":"2020-08-19 22:22:38","enforce_acl":"cef569a4c77210105b31824d5ec260fb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"7c533eb7c78610105b31824d5ec260ad","http_method":"POST","sys_updated_by":"tyler.woodard","operation_uri":"/api/global/mid/insert","sys_created_on":"2020-07-23 22:35:13","sys_name":"Mass Record Insert","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"tyler.woodard","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/f532f2b7c78610105b31824d5ec2600a","value":"f532f2b7c78610105b31824d5ec2600a"},"consumes":"application/json","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/42b8273704f12210559073c06a02f78d","value":"42b8273704f12210559073c06a02f78d"},"sys_update_name":"sys_ws_operation_7c533eb7c78610105b31824d5ec260ad","consumes_customized":"false","name":"Mass Record Insert","produces":"application/json,application/xml,text/xml","relative_path":"/insert","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    const data = request.body.data;\n    const deltaSysId = data.deltaSysId;\n    const sysId = data.sysId;\n    const rank = data.rank;\n    const reorderedDecisionOrders = data.reorderedDecisionOrders;\n    const isIncrementOnly = data.isIncrementOnly;\n    const result = new sn_decision_table.DecisionQuestionRepository().accommodateReorderedDecision(sysId, deltaSysId, rank, reorderedDecisionOrders, isIncrementOnly);\n    response.setBody(result);\n    response.setStatus(200);\n\t\n})(request, response);","sys_updated_on":"2024-02-28 10:08:27","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"7cf6c44753e802102645ddeeff7b12f6","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_decision_table/generic/accommodate_reordered_decision_order","sys_created_on":"2024-02-28 09:11:46","sys_name":"Accommodate reordered decision order","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/13aa96a16bcefa78b16cc99ed9e4f1f4","value":"13aa96a16bcefa78b16cc99ed9e4f1f4"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/d5498f77c3633010d4437f9ec840dd67","value":"d5498f77c3633010d4437f9ec840dd67"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/13aa96a16bcefa78b16cc99ed9e4f1f4","value":"13aa96a16bcefa78b16cc99ed9e4f1f4"},"sys_update_name":"sys_ws_operation_7cf6c44753e802102645ddeeff7b12f6","consumes_customized":"false","name":"Accommodate reordered decision order","produces":"application/json,application/xml,text/xml","relative_path":"/accommodate_reordered_decision_order","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var tableName = request.pathParams.tableName;\n    const VIEW_CONFIG_TABLE = \"sys_sg_view_config\";\n    var openModalUtil = new McbOpenModalUtil();\n    var totalRecordCount = openModalUtil._getTableRecordCount(tableName);\n    var totalApplications = openModalUtil._getApplications(tableName);\n    var result = {\n        records: totalRecordCount,\n        applications: totalApplications,\n    };\n    if (tableName == VIEW_CONFIG_TABLE)\n        result.applets = openModalUtil._getApplets();\n\n    return result;\n})(request, response);","sys_updated_on":"2023-08-09 05:55:09","enforce_acl":"cf9d01d3e73003009d6247e603f6a990,d7088c08b751211095411226de11a9e9","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"7db65fcf77511110112b7f7c8c5a99a7","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/mcb/open_modal/{tableName}","sys_created_on":"2022-08-18 18:34:40","sys_name":"Open Modal - Get","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/63d8b7c573c51010a59b4c5353f6a737","value":"63d8b7c573c51010a59b4c5353f6a737"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"146","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_update_name":"sys_ws_operation_7db65fcf77511110112b7f7c8c5a99a7","consumes_customized":"false","name":"Open Modal - Get","produces":"application/json,application/xml,text/xml","relative_path":"/open_modal/{tableName}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var controller = new SNHelpAnalyticsController();\n    controller.logData(controller.CATEGORY, controller.POINT, controller.EVENTS.panel.feedback, request.body.data);\n\n})(request, response);","sys_updated_on":"2021-04-06 07:21:31","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"7dcfff135b0310109779b9a23381c7c4","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/help/feedback","sys_created_on":"2020-09-10 07:20:23","sys_name":"Feedback Proxy","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/bd93a9195300501065f2ddeeff7b1297","value":"bd93a9195300501065f2ddeeff7b1297"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"24","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/562ba37304352210559073c06a02f751","value":"562ba37304352210559073c06a02f751"},"sys_update_name":"sys_ws_operation_7dcfff135b0310109779b9a23381c7c4","consumes_customized":"false","name":"Feedback Proxy","produces":"application/json,application/xml,text/xml","relative_path":"/feedback","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n\n    response.setContentType('application/json');\n    var result = {};\n\n    result.excluded_cis = new CMDBDataManagerHelper().getExcludedCisPerPolicyType();\n\n    response.setStatus(200);\n    response.setBody(result);\n\t\n})(request, response);","sys_updated_on":"2021-03-23 23:31:12","enforce_acl":"885bc51053832010af64ddeeff7b12cb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"7ded5c1c771220108043270bba106179","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/ci_lifecycle_manager/excluded_cis_per_policy_type","sys_created_on":"2021-02-08 20:35:07","sys_name":"Get Excluded Cis Per Policy Type","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ad9ebe127322101045cadfcd3bf6a735","value":"ad9ebe127322101045cadfcd3bf6a735"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"17","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"sys_update_name":"sys_ws_operation_7ded5c1c771220108043270bba106179","consumes_customized":"false","name":"Get Excluded Cis Per Policy Type","produces":"application/json,application/xml,text/xml","relative_path":"/excluded_cis_per_policy_type","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var payload = request.body.data;\t\n\t\n\t// If there's no payload and no query parameter we can return an error.\n\tif (global.JSUtil.isEmpty(payload))\n\t\treturn new sn_ws_err.BadRequestError(\"No Query String provided\");\n\n\tif (payload.blockcontext && payload.pageid) {\t\t\n\n\t\tvar acePageGr = new GlideRecord(\"sn_ace_page\");\n\t\tif(acePageGr.get(payload.pageid)) {\n\t\t\tacePageGr.client_context = JSON.stringify(payload.blockcontext);\n\t\t\tacePageGr.update();\n\t\t}\n\t}\n\tresponse.setBody({status: \"success\"});\n})(request, response);","sys_updated_on":"2023-04-11 14:51:22","enforce_acl":"0bba350f774e2110bc5db5b27a5a99cd","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"7df00e3b53e0e110c733ddeeff7b12c2","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/ace/updateClientContext","sys_created_on":"2023-01-29 09:37:26","sys_name":"updateClientContext","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/090c5ee353721110c733ddeeff7b1299","value":"090c5ee353721110c733ddeeff7b1299"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_update_name":"sys_ws_operation_7df00e3b53e0e110c733ddeeff7b12c2","consumes_customized":"false","name":"updateClientContext","produces":"application/json,application/xml,text/xml","relative_path":"/updateClientContext","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar language = request.queryParams.lang.toString();\n\tvar sessionModelId = request.queryParams.modelId.toString();\n\tresponse.setContentType('application/json');\n\t\n\t// map: primaryModel -> secondaryLanguages\n\tvar associatedLanguages = {};\n\t// map: primaryModel: language\n\tvar primaryLanguages = {};\n\t\n\tfunction addLanguage(source, target) {\n\t\tif (source.type === 'secondary' && source.language) {\n\t\t\ttarget.primaryId = source.primaryName;\n\t\t\tvar group = associatedLanguages[target.primaryId] || [];\n\t\t\tgroup.push(target.language);\n\t\t\tassociatedLanguages[target.primaryId] = group;\n\t\t} else if (source.type === 'primary') {\n\t\t\ttarget.primaryId = source.name;\n\t\t\tprimaryLanguages[target.primaryId] = target.language;\n\t\t}\n\t}\n\t\n\ttry {\n\t\tvar models = NLUStudioService.getAllModels('virtual_agent');\n\t\tif (sessionModelId) {\n\t\t\tvar sessionModelStatus = NLUStudioService.getModelStatusByName(sessionModelId);\n\t\t}\n\t\tvar modelsResponse = [];\n\t\tvar i;\n\t\tfor (i = 0; i < models.length; i++) {\n\t\t\tvar model = models[i];\n\t\t\tvar modelObject = {\n\t\t\t\t'name': model.displayName || model.name,\n\t\t\t\t'id': model.name,\n\t\t\t\t'language': model.language || '',\n\t\t\t\t'scope': model.scope || '',\n\t\t\t\t'lastPublishedOn': model.lastPublishedOn || '',\n\t\t\t\t'readOnly': model.readOnly || false\n\t\t\t};\n\t\t\taddLanguage(model, modelObject);\n\t\t\tif (sessionModelId === modelObject.id) {\n\t\t\t\tmodelObject.lastUpdatedOn = sessionModelStatus.lastUpdatedOn;\n\t\t\t}\n\t\t\tmodelsResponse.push(modelObject);\n\t\t}\n\t\tvar result = [];\n\t\tif (language) {\n\t\t\tfor (var j = 0; j < modelsResponse.length; j++) {\n\t\t\t\tvar modelObj = modelsResponse[j];\n\t\t\t\tif (modelObj.language === language) {\n\t\t\t\t\tresult.push(modelObj);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tresult = modelsResponse;\n\t\t}\n\t\tfor (i = 0; i < result.length; i++) {\n\t\t\tresult[i].secondaryLanguages = associatedLanguages[result[i].primaryId];\n\t\t\tresult[i].primaryLanguage = primaryLanguages[result[i].primaryId];\n\t\t}\n\n\t\tresponse.setStatus(200);\n\t\tresponse.setBody({ models: result });\n\n\t} catch (e) {\n\t\tresponse.setStatus(500);\n\t\tresponse.setBody({ errorMessage: e.message });\n\t}\n\n})(request, response);","sys_updated_on":"2021-09-22 20:22:12","enforce_acl":"95736dc3c7e220105a06145bf4c26096","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"7e0374e2c70320105a06145bf4c260e3","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/virtual_agent_design/models","sys_created_on":"2021-03-25 04:37:39","sys_name":"Get Models","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/86719a5dc7e220105a06145bf4c26006","value":"86719a5dc7e220105a06145bf4c26006"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"16","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_ws_operation_7e0374e2c70320105a06145bf4c260e3","consumes_customized":"false","name":"Get Models","produces":"application/json,application/xml,text/xml","relative_path":"/models","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar onCallGroupTemplateId = request.queryParams.on_call_group_template_id;\n\n\tvar ocCreationWizard = new OnCallCreationWizardUtils();\n\treturn ocCreationWizard.getShiftTemplates(onCallGroupTemplateId);\n\n})(request, response);","sys_updated_on":"2019-03-20 08:27:24","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"7e220147874323003eebaf1e36cb0bd8","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/getOnCallShiftTemplates","sys_created_on":"2019-01-21 10:15:55","sys_name":"getOnCallShiftTemplates","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"28","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_7e220147874323003eebaf1e36cb0bd8","consumes_customized":"false","name":"getOnCallShiftTemplates","produces":"application/json,application/xml,text/xml","relative_path":"/getOnCallShiftTemplates","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var rotaId = request.queryParams.rota_id ? request.queryParams.rota_id + \"\" : \"\";\n\tif (!rotaId) {\n\t\treturn new sn_ws_err.BadRequestError(\"Rota id not provided\");\n\t}\n\t\n\tvar rotaGr = new GlideRecord(\"cmn_rota\");\n\tif (rotaGr.get(rotaId)) {\n\t\t// only group managers and rota admin can delete the rota.\n\t\tif (new OnCallSecurityNG().rotaMgrAccess(rotaGr.group + \"\"))\n\t\t\toverrideEscalation();\n\t\telse\n\t\t\treturn getSecurityConstraintError();\n\t}\n\n\tfunction getSecurityConstraintError() {\n\t\tvar respError = new sn_ws_err.ServiceError();\n\t\trespError.setStatus(403);\n\t\trespError.setMessage(\"Security constraints prevent this operation\");\n\t\treturn respError;\n\t}\n\t\n\tfunction overrideEscalation() {\n\t\tvar ocWorkbenchUtils = new OnCallWorkbenchUtils();\n\t\tocWorkbenchUtils.overrideEscalation(rotaId);\n\t\treturn;\n\t}\n})(request, response);","sys_updated_on":"2019-03-20 08:32:03","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"7e2b73e253ab6300bf68ddeeff7b12d7","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/overrideEscalation","sys_created_on":"2019-02-14 06:58:39","sys_name":"Override escalation","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_7e2b73e253ab6300bf68ddeeff7b12d7","consumes_customized":"false","name":"Override escalation","produces":"application/json,application/xml,text/xml","relative_path":"/overrideEscalation","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var groupSysId = request.pathParams.groupSysId;\n\tif (!groupSysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Group id not provided\");\n\t\n\tvar userSysId = gs.getUserID();\n\tvar ocup = new OnCallUserPreferences();\n\treturn ocup.getContactOverridesForGroup(userSysId, groupSysId + \"\");\n\n})(request, response);","sys_updated_on":"2019-04-08 08:23:09","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"7e49e93273603300cbb654eb7df6a720","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/getUserContactOverrides/{groupSysId}","sys_created_on":"2019-04-05 08:02:42","sys_name":"getUserContactOverrides","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_7e49e93273603300cbb654eb7df6a720","consumes_customized":"false","name":"getUserContactOverrides","produces":"application/json,application/xml,text/xml","relative_path":"/getUserContactOverrides/{groupSysId}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar changeSysId = request.pathParams.change_sys_id || \"\";\n\tif (!changeSysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Change Request id not provided\");\n\n\tvar changeRequestGr = new GlideRecordSecure(global.ChangeRequest.CHANGE_REQUEST);\n\tchangeRequestGr.addQuery(\"sys_id\", changeSysId);\n\tchangeRequestGr.query();\n\tif (!changeRequestGr.next())\n\t\treturn new sn_ws_err.NotFoundError(\"Change Request not found\");\n\n\tvar nameValuePairs = global.ChangeCommon.assign({}, request.queryParams);\n\tif (!nameValuePairs.association_type || (nameValuePairs.association_type + \"\" !== global.ChangeCIAssociation.AFFECTED && nameValuePairs.association_type + \"\" !== global.ChangeCIAssociation.IMPACTED && nameValuePairs.association_type + \"\" !== global.ChangeCIAssociation.OFFERING))\n\t\treturn new sn_ws_err.BadRequestError(\n\t\t\tgs.getMessage(\"No association_type provided. Please provide association_type: {0}|{1}|{2}\", [\n\t\t\t\tglobal.ChangeCIAssociation.AFFECTED,\n\t\t\t\tglobal.ChangeCIAssociation.IMPACTED,\n\t\t\t\tglobal.ChangeCIAssociation.OFFERING\n\t\t]));\n\n\treturn global.ChangeCommon.getWindow(new global.ChangeProcess(changeRequestGr).getCIs(nameValuePairs.association_type + \"\"), nameValuePairs.sysparm_limit || null, nameValuePairs.sysparm_offset || null);\n})(request, response);","sys_updated_on":"2019-02-15 11:08:55","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"7f5dad48b75323000999e4f6ee11a984","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/{change_sys_id}/ci","sys_created_on":"2019-01-24 15:58:04","sys_name":"Configuration Items","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_7f5dad48b75323000999e4f6ee11a984","consumes_customized":"false","name":"Configuration Items","produces":"application/json,application/xml,text/xml","relative_path":"/{change_sys_id}/ci","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/{change_sys_id}/ci","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar restHandler, result, setupId, pluginCategory;\n\t\n\ttry {\n\t\tsetupId = request.pathParams.setup_id;\n\t\tpluginCategory = request.pathParams.plugin_category;\n\t\trestHandler = new SNHelpSetupRestHandler();\n\t\tresult = restHandler.getPluginsBySetupType(setupId, pluginCategory);\n\t\tresponse.setStatus(result.status);\n\t\t\n\t\tif(result.data)\n\t\t\tresponse.setBody(result.data);\n\t\telse\n\t\t\tresponse.setBody({error: result.message || result.error});\n\t\t\n\t} catch (ex) {\n\t\tresponse.setStatus(500);\n\t\tresponse.setBody({error: \"Internal Server Error \" + ex});\n\t}\n\t\n})(request, response);","sys_updated_on":"2022-09-21 07:32:38","enforce_acl":"d0fc8522534a0110f54fddeeff7b123d","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"7fbd271f53210110f54fddeeff7b1271","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_ads_setup/build/setup/{setup_id}/plugins/{plugin_category}","sys_created_on":"2022-02-14 04:56:40","sys_name":"Get plugins by setup type","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/6db6b2ab53444110f54fddeeff7b1232","value":"6db6b2ab53444110f54fddeeff7b1232"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_update_name":"sys_ws_operation_7fbd271f53210110f54fddeeff7b1271","consumes_customized":"false","name":"Get plugins by setup type","produces":"application/json,application/xml,text/xml","relative_path":"/setup/{setup_id}/plugins/{plugin_category}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var options = TBUtil.assign({},\n        request.pathParams,\n        TBUtil.normalizeQueryParams(request.queryParams)\n    );\n    var apiResponse = new APIRequestProcessor(APIRequestProcessor.REQUEST_TABLE_PROPERTIES, options).build();\n\n    response.setBody(apiResponse);\n})(request, response);","sys_updated_on":"2022-02-11 05:27:03","enforce_acl":"f70e338e73f110107419c907fbf6a733","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"7ff538b4c712101031a006d427c260b5","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_table_builder/app/table_properties/{sysId}","sys_created_on":"2020-07-26 15:23:18","sys_name":"Table Properties API","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f53f19bac362fa22ca2e93692d32f18f","value":"f53f19bac362fa22ca2e93692d32f18f"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/72cd338e73f110107419c907fbf6a730","value":"72cd338e73f110107419c907fbf6a730"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f53f19bac362fa22ca2e93692d32f18f","value":"f53f19bac362fa22ca2e93692d32f18f"},"sys_update_name":"sys_ws_operation_7ff538b4c712101031a006d427c260b5","consumes_customized":"false","name":"Table Properties API","produces":"application/json,application/xml,text/xml","relative_path":"/table_properties/{sysId}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // implement resource here\n    var payload = request.body.data;\n    var result = [];\n    if (payload.controlCards && payload.controlCards.length) {\n        result = new ACEAppBuilderUtilV2().getControl(payload.controlCards);\n    }\n\n    response.setBody(result);\n\n})(request, response);","sys_updated_on":"2023-06-14 17:43:35","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"810dabaf53df21104410ddeeff7b12cd","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/ace/fetchControlProps","sys_created_on":"2023-06-14 15:45:51","sys_name":"Fetch Control Props","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/090c5ee353721110c733ddeeff7b1299","value":"090c5ee353721110c733ddeeff7b1299"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_update_name":"sys_ws_operation_810dabaf53df21104410ddeeff7b12cd","consumes_customized":"false","name":"Fetch Control Props","produces":"application/json,application/xml,text/xml","relative_path":"/fetchControlProps","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // implement resource here\n\tvar solution_id = decodeURI(request.pathParams.solution_id);\n\tif (solution_id) {\n\t\treturn new ClassificationBubbleChartHelper().getData(solution_id);\t\n\t} else {\n\t\treturn sn_ws_err.BadRequestError(\"Solution id not present\");\n\t}\n\n})(request, response);","sys_updated_on":"2022-02-10 08:09:47","enforce_acl":"aa527b0a53210110b6acddeeff7b12f2","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/456b8f4553103300d1dcddeeff7b12ac","value":"456b8f4553103300d1dcddeeff7b12ac"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"8114cd8573603300e3cca4fa54f6a76b","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_ml_ui/v1/ml_ui/getclassificationdata/{solution_id}","sys_created_on":"2019-03-30 19:00:25","sys_name":"getClassificationData","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/21f30bcdb7d03300d1dcf8b8ee11a9eb","value":"21f30bcdb7d03300d1dcf8b8ee11a9eb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/c6facb4553103300d1dcddeeff7b1287","value":"c6facb4553103300d1dcddeeff7b1287"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"14","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/21f30bcdb7d03300d1dcf8b8ee11a9eb","value":"21f30bcdb7d03300d1dcf8b8ee11a9eb"},"sys_update_name":"sys_ws_operation_8114cd8573603300e3cca4fa54f6a76b","consumes_customized":"false","name":"getClassificationData","produces":"application/json,application/xml,text/xml","relative_path":"/getclassificationdata/{solution_id}","produces_customized":"false","default_operation_uri":"/api/sn_ml_ui/ml_ui/getclassificationdata/{solution_id}","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n\tvar agendaItemId = request.pathParams.agendaItemId;\n\tif (!agendaItemId)\n\t\treturn new sn_ws_err.BadRequestError(\"Agenda Item id not provided\");\n\n\tvar agendaItemGr = new GlideRecord(CAB.AGENDA_ITEM);\n\tif (!agendaItemGr.get(agendaItemId))\n\t\treturn new sn_ws_err.NotFoundError(\"Requested Agenda Item not found\");\n\n\tvar decision = agendaItemGr.getValue('state');\n\tif (decision !== 'no_decision')\n\t\treturn new sn_ws_err.BadRequestError(\"Cannot modify Agenda Item state to 'pending' from '\" + decision + \"'\");\n\n\tvar agendaItem = new CABAgendaItem(agendaItemGr);\n\tvar meetingSysId = agendaItem.getValue(CAB.MEETING);\n\tvar meetingGr = new GlideRecord(CAB.MEETING);\n\tif (!meetingGr.get(meetingSysId))\n\t\treturn new sn_ws_err.NotFoundError(\"CAB Meeting not found\");\n\n\tvar order = new CABMeeting(meetingGr).getLastPendingAgendaItemOrder() + 100;\n\tagendaItem.setValue('state', CAB.MEETING_STATE.PENDING);\n\tagendaItem.setValue('order', order);\n\tagendaItem.update();\n\n\tresponse.setContentType('application/json');\n\tresponse.setBody({pendingState: 'true'});\n\tresponse.setStatus(202);\n\n\treturn response;\n})(request, response);","sys_updated_on":"2023-12-22 12:03:46","enforce_acl":"ee9fb61a232303001488dc1756bf658b","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"818cd10a57230300277e2a8c7d94f968","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_change_cab/cab/agenda/item/{agendaItemId}/pending","sys_created_on":"2018-01-10 14:02:39","sys_name":"UPDATE Agenda Item Pending","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/cf65d305eb10220034d1eeea1206fe55","value":"cf65d305eb10220034d1eeea1206fe55"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"19","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_update_name":"sys_ws_operation_818cd10a57230300277e2a8c7d94f968","consumes_customized":"false","name":"UPDATE Agenda Item Pending","produces":"application/json,application/xml,text/xml","relative_path":"/agenda/item/{agendaItemId}/pending","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Service properties for comparison map.","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n/**\nParameters:\n\tbsId (sys_id)\n\tfrom (number, ms)\n\tto (number, ms)\n*/\n    var saOpsWrapper = new SaOperationsWrapper(SNC.SaActionsHandler);\n\tsaOpsWrapper.process(request,response, \"compareBsData\");\n\n})(request, response);","sys_updated_on":"2018-03-11 12:43:39","enforce_acl":"ea4f3ae287132200b5bea18dd0e3eceb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"81bbe6137f520300995cbaf8befa9144","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/it_service/compareBsData","sys_created_on":"2017-11-13 13:26:36","sys_name":"CompareBsData - Internal API","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3418e25f7f120300995cbaf8befa912e","value":"3418e25f7f120300995cbaf8befa912e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_81bbe6137f520300995cbaf8befa9144","consumes_customized":"false","name":"CompareBsData - Internal API","produces":"application/json,application/xml,text/xml","relative_path":"/compareBsData","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar clientType = request.pathParams.clientType;\n    var app = request.pathParams.app;\n\tvar externalId = request.pathParams.externalId;\n\n\tvar returnUrl = decodeURIComponent(new global.ChannelProxyInstallURLGetter(clientType, app).getConfirmationURL(externalId));\n\n    var sysProp = gs.getProperty('sn_va_slack.enable_slack_branding', 'false');\n    var updateUrl = sysProp == 'false';\n\t\n    if (updateUrl && returnUrl.indexOf(',chat:write.customize') >= 0) {\n        var replaceText = ',chat:write.customize';\n        returnUrl = returnUrl.replaceAll(replaceText, '');\n    }\n\n    return returnUrl;\n\n})(request, response);","sys_updated_on":"2022-11-02 13:27:34","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"81d7652f537211104c19ddeeff7b129f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_oe_sfs/bot_override/{clientType}/{app}/{externalId}","sys_created_on":"2022-11-02 13:20:29","sys_name":"override_url","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/53b1b0e79761011018b2fa98c253afcc","value":"53b1b0e79761011018b2fa98c253afcc"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/d8b7652f537211104c19ddeeff7b1221","value":"d8b7652f537211104c19ddeeff7b1221"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/53b1b0e79761011018b2fa98c253afcc","value":"53b1b0e79761011018b2fa98c253afcc"},"sys_update_name":"sys_ws_operation_81d7652f537211104c19ddeeff7b129f","consumes_customized":"false","name":"override_url","produces":"application/json,application/xml,text/xml","relative_path":"/{clientType}/{app}/{externalId}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    response.setContentType('application/json');\n\tvar result = [];\n\tvar queryParams = request.queryParams;\n\tvar term = queryParams.term[0];\n\tvar grs = new GlideRecordSecure(\"cmdb_model\");\n\tgrs.addEncodedQuery(\"nameSTARTSWITH\" + term);\n\tgrs.query();\n\t\n\twhile(grs.next()){\n\t\t\n\t\tresult.push({sys_id: grs.getValue(\"sys_id\"), name: grs.getValue(\"name\")});\n\t}\n\n\tresponse.setStatus(200);\n\tresponse.setBody(result);\n\n})(request, response);","sys_updated_on":"2021-09-17 19:56:37","enforce_acl":"2006673c53770010ee0dddeeff7b127d","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"81dad693b72230102455c3fdde11a964","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/csdm_app_service/search_product_models","sys_created_on":"2021-09-17 19:48:47","sys_name":"Get Product Models","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/60c171d973c30010ee4dd3c72bf6a716","value":"60c171d973c30010ee4dd3c72bf6a716"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_ws_operation_81dad693b72230102455c3fdde11a964","consumes_customized":"false","name":"Get Product Models","produces":"application/json,application/xml,text/xml","relative_path":"/search_product_models","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var adminEmailUtil = new PipelineAdminEmailUtil();\n    var adminEmail = adminEmailUtil.getAdminEmail();\n\n    response.setBody({\n        adminEmail: adminEmail,\n    });\n    response.setStatus(200);\n\n})(request, response);","sys_updated_on":"2021-10-14 21:59:28","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/3eeef5f2b72030100290b9708e11a939","value":"3eeef5f2b72030100290b9708e11a939"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"823eb25b9b0f70100290af417ef04bfe","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_pipeline/v1/pipeline/admin_contact","sys_created_on":"2021-10-12 18:56:34","sys_name":"Get Admin Contact","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e78853e9c3222010b83971e54440dd26","value":"e78853e9c3222010b83971e54440dd26"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/0a6e31f2b72030100290b9708e11a980","value":"0a6e31f2b72030100290b9708e11a980"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"38","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e78853e9c3222010b83971e54440dd26","value":"e78853e9c3222010b83971e54440dd26"},"sys_update_name":"sys_ws_operation_823eb25b9b0f70100290af417ef04bfe","consumes_customized":"false","name":"Get Admin Contact","produces":"application/json,application/xml,text/xml","relative_path":"/admin_contact","produces_customized":"false","default_operation_uri":"/api/sn_pipeline/pipeline/admin_contact","sys_policy":"read"},{"short_description":"","operation_script":"(function process(request, response) {\n\n    var appId = request.pathParams.appId;\n\n    ScopeCheck.verifyNotGlobal(appId);\n\n    var allowed = VCSAppAccessCheck.verifyWriteAccess(appId) && (VCSAppAccessCheck.isGACOrSourceControlUser() || VCSAppAccessCheck.verifyVersionControlAccess(appId));\n\n    if (!allowed)\n        VCSAppAccessCheck.throwAccessDenied(appId);\n\n    var requestParams = request.body.data;\n\tvar credential = SourceControlHelper.getAppropriateCredential(requestParams.url, requestParams.credential);\n    var progressId, repo;\n    repo = sn_vcs.AppSourceControl.updateRepoConfig()\n        .setSysRepoConfig(request.pathParams.repoId)\n        .setCredential(credential)\n        .setURL(requestParams.url)\n        .setMidServerId(requestParams.mid_server)\n        .setDefaultCommitEmail(requestParams.email)\n        .setUseDefaultEmailForAllCommits(requestParams.use_default_email_for_all);\n\n    progressId = repo.start();\n\n    response.setContentType('application/json');\n    response.setBody({\n        progressId: progressId\n    });\n    response.setStatus(202);\n\n})(request, response);","sys_updated_on":"2021-04-09 18:20:39","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"8248548337001200612747efbe41f1b7","http_method":"PUT","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/apps/{appId}/repos/{repoId}","sys_created_on":"2015-12-04 23:09:17","sys_name":"Configure Repo","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"32","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_8248548337001200612747efbe41f1b7","consumes_customized":"false","name":"Configure Repo","produces":"application/json,application/xml,text/xml","relative_path":"/apps/{appId}/repos/{repoId}","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/apps/{appId}/repos/{repoId}","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar groupSysId = request.pathParams.groupSysId;\n\tif (!groupSysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Group id not provided\");\n\n\tvar ocwUtils = new global.OnCallWorkbenchUtils();\n\tvar groupDetails = ocwUtils.getGroupDetails(groupSysId);\n\tif (groupDetails) {\n\t\tif (!groupDetails.canRead)\n\t\t\treturn getSecurityConstraintError();\n\n\t\tvar access = ocwUtils.getAccessDetails(groupSysId);\n\t\tif (!access.isManager && !access.isMember)\n\t\t\treturn getSecurityConstraintError();\n\n\t\tvar resp = {};\n\t\tresp.group = groupDetails.groupJs;\n\t\tresp.filterGroups = ocwUtils.getGroups();\n\t\tresp.access = access;\n\t\tresp.rotas = ocwUtils.getActiveRotas(groupSysId);\n\t\tresp.memberCount = ocwUtils.getGroupMemberCount(groupSysId);\n\t\tresp.groupPreferencesId = ocwUtils.getGroupPreferenceIdByGroup(groupSysId);\n\t\treturn resp;\n\t}\n\n\tfunction getSecurityConstraintError() {\n\t\tvar respError = new sn_ws_err.ServiceError();\n\t\trespError.setStatus(403);\n\t\trespError.setMessage(\"Security constraints prevent access to requested resource\");\n\t\treturn respError;\n\t}\n\n\treturn new sn_ws_err.NotFoundError(\"Requested Group not found\");\n\n})(request, response);","sys_updated_on":"2019-03-20 08:28:43","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"8265deb173d42300cbb654eb7df6a7b7","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/workbench/group/{groupSysId}","sys_created_on":"2018-09-03 02:14:41","sys_name":"Workbench Group Details","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"9","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_8265deb173d42300cbb654eb7df6a7b7","consumes_customized":"false","name":"Workbench Group Details","produces":"application/json,application/xml,text/xml","relative_path":"/workbench/group/{groupSysId}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","sys_updated_on":"2021-02-25 01:29:31","enforce_acl":"c181cf8187602010c84e4561d5cb0b5e","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"82978f63c7122010ca6da1e603c26000","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/service_fulfillment/generateStagePoolIds/{quantity}","sys_created_on":"2021-02-19 11:23:40","sys_name":"Generate Stage Pool IDs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/97adafff04352210559073c06a02f7da","value":"97adafff04352210559073c06a02f7da"},"sys_update_name":"sys_ws_operation_82978f63c7122010ca6da1e603c26000","consumes_customized":"false","name":"Generate Stage Pool IDs","produces":"application/json,application/xml,text/xml","relative_path":"/service_fulfillment/generateStagePoolIds/{quantity}","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/service_fulfillment/generateStagePoolIds/{quantity}","sys_policy":"protected"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    const customErrorHandler = new CustomErrorHandler(`REST API: ${request.uri}`);\n\n    try {\n\t\tlet fullMobileMetadata = request.body.data.fullMobileMetadata;  \n\t\tif (typeof fullMobileMetadata === 'string') {  \n\t\t\tfullMobileMetadata = JSON.parse(fullMobileMetadata);  \n\t\t}\n\t\treturn new CreateMobileComponentService().createComponent(fullMobileMetadata);\n    } catch (error) {\n        customErrorHandler.throwSnWsError(error);\n    }\n})(request, response);\n","sys_updated_on":"2024-11-05 17:07:05","enforce_acl":"4bbe81b4c703201066492f3bf4c260e6","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"82c61f5f7f1512100911658f6d8665e6","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_mab_api/mab_api/createMobileComponent","sys_created_on":"2024-10-22 21:56:41","sys_name":"Create Mobile Component","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3512bd93c7c12010100f2f3bf4c26049","value":"3512bd93c7c12010100f2f3bf4c26049"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_update_name":"sys_ws_operation_82c61f5f7f1512100911658f6d8665e6","consumes_customized":"false","name":"Create Mobile Component","produces":"application/json,application/xml,text/xml","relative_path":"/createMobileComponent","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar nameValuePairs = global.ChangeCommon.assign({}, request.queryParams, request.body.data);\n\tvar state;\n\tif (nameValuePairs.state) {\n\t\tstate = nameValuePairs.state;\n\t\tdelete nameValuePairs.state;\n\t}\n\n\tvar changeProcess = global.NormalChangeProcess.newChangeProcess(nameValuePairs);\n\n\tif (state && !changeProcess.canMoveTo(state)) {\n\t\tvar error = new sn_ws_err.ServiceError();\n\t\terror.setStatus(400);\n\t\terror.setMessage(\"Normal Change Request cannot move to state: \" + state);\n\t\terror.setDetail(JSON.stringify(changeProcess.evaluateMoveTo(state)));\n\t\treturn error;\n\t}\n\n\tif ((!state && changeProcess.insert()) || (state && changeProcess.moveTo(state) && changeProcess.insert())) {\n\t\tvar result = changeProcess.toJS();\n\t\tresult.__meta = { ignoredFields: changeProcess.__ignoredfields || [] };\n\t\treturn result;\n\t}\n\n\tvar errorMessage = \"Could not create Normal Change Request.\";\n\tvar lastErrorMessage = changeProcess.getGlideRecord().getLastErrorMessage();\n\tif (lastErrorMessage)\n\t\terrorMessage += \" \" + lastErrorMessage;\n\n\treturn new sn_ws_err.BadRequestError(errorMessage);\n})(request, response);","sys_updated_on":"2018-07-07 19:46:49","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"832a9f5f5303130096c3ddeeff7b127d","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/normal","sys_created_on":"2018-07-07 19:46:49","sys_name":"Normal","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_832a9f5f5303130096c3ddeeff7b127d","consumes_customized":"false","name":"Normal","produces":"application/json,application/xml,text/xml","relative_path":"/normal","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/normal","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    let packageIds = request.queryParams?.packageIds[0] ? request.queryParams.packageIds[0] : null;\n\n    let configurationHubUtil = new ConfigurationHubUtil();\n    let sources = configurationHubUtil.getPackageSources(packageIds);\n\n    result = {\n        sources\n    };\n\n    response.setContentType('application/json');\n    response.setStatus(200);\n    response.setBody(result);\n\n})(request, response);","sys_updated_on":"2023-06-26 22:48:25","enforce_acl":"8231872b4fa3611038e26c01b1ce0b86","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"836c9007439a6110ebc220aabcb8f23d","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_config_hub/configuration_hub_api/package_sources","sys_created_on":"2023-04-23 18:13:32","sys_name":"Get Source","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/2028fe718b11c8f32122c6da3b496a83","value":"2028fe718b11c8f32122c6da3b496a83"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/d68a7cb5eb9221109cfedf3c03522847","value":"d68a7cb5eb9221109cfedf3c03522847"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2028fe718b11c8f32122c6da3b496a83","value":"2028fe718b11c8f32122c6da3b496a83"},"sys_update_name":"sys_ws_operation_836c9007439a6110ebc220aabcb8f23d","consumes_customized":"false","name":"Get Source","produces":"application/json,application/xml,text/xml","relative_path":"/package_sources","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        var data = [];\n        var createFromScratchSourceAppRecords = new GlideRecord('sys_app_info');\n\n        createFromScratchSourceAppRecords.query();\n\n        while (createFromScratchSourceAppRecords.next()) {\n            var properties = createFromScratchSourceAppRecords.getValue('properties');\n            var propertiesObj = JSON.parse(properties);\n            var isSourceApp = propertiesObj && propertiesObj.hasOwnProperty(\"origin\") && propertiesObj[\"origin\"] === \"create_from_scratch\";\n\n            if (isSourceApp) {\n                data.push(createFromScratchSourceAppRecords.getValue('sys_scope'));\n            }\n        }\n\n        response.setBody(data);\n        response.setStatus(200);\n    } catch (exception) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(500)\n            .setMessage(gs.getMessageLang(\"Unhandled exception {0}\", \"en\", [exception]))\n            .setDetail(gs.getMessage(\"Unhandled exception {0}\", [exception]));\n    }\n})(request, response);","sys_updated_on":"2022-05-17 16:37:54","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/eff91f2c7700001001fb4311a8106131","value":"eff91f2c7700001001fb4311a8106131"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"83700c1dc3a30110a9f5e548fa40dd54","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_app_eng_studio/v1/applications/apps/template_source_apps","sys_created_on":"2022-05-17 16:37:54","sys_name":"GET Template Source Apps","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/4c41d3287700001001fb4311a81061ae","value":"4c41d3287700001001fb4311a81061ae"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_ws_operation_83700c1dc3a30110a9f5e548fa40dd54","consumes_customized":"false","name":"GET Template Source Apps","produces":"application/json,application/xml,text/xml","relative_path":"/apps/template_source_apps","produces_customized":"false","default_operation_uri":"/api/sn_app_eng_studio/applications/apps/template_source_apps","sys_policy":"read"},{"short_description":"","operation_script":"(function process(request, response) {\n\tvar taskId = request.pathParams.taskId;\n\tvar params = request.body.nextEntry();\n\n\tif (!taskId)\n\t\treturn new sn_ws_err.BadRequestError(\"Task Item id not provided\");\n\n\tvar taskGr = new GlideRecord(\"task\");\n\tif (!taskGr.get(taskId))\n\t\treturn new sn_ws_err.NotFoundError(\"Requested Task not found\");\n\n\tvar cabApproval = new CABApproval(taskGr);\n\tif (!cabApproval.requiresUserApproval())\n\t\treturn sn_ws_err.NotAcceptableError(\"Reject action not allowed for this user\");\n\n\tif (!cabApproval.reject(params.comment, params.approvalGroupSysID))\n\t\treturn sn_ws_err.NotAcceptableError(\"Reject action not accepted\");\n\n\treturn {\n\t\t\"taskId\": taskGr.getUniqueValue(),\n\t\t\"approved\": false\n\t};\n})(request, response);","sys_updated_on":"2021-03-03 15:50:44","enforce_acl":"ee9fb61a232303001488dc1756bf658b","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"83c797a0eb20220034d1eeea1206fe36","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_change_cab/cab/approval/reject/{taskId}","sys_created_on":"2016-07-08 11:23:01","sys_name":"Approval Reject","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/cf65d305eb10220034d1eeea1206fe55","value":"cf65d305eb10220034d1eeea1206fe55"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"19","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_update_name":"sys_ws_operation_83c797a0eb20220034d1eeea1206fe36","consumes_customized":"false","name":"Approval Reject","produces":"application/json,application/xml,text/xml","relative_path":"/approval/reject/{taskId}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var data = request.body.data;\n    try {\n        var modelId = data.modelId;\n        var entities = data.entities;\n        var hasEntity = entities && entities.length > 0;\n        if (modelId && hasEntity && NLUSystemUtil.canPerformEditOperations(modelId)) {\n            response.setContentType('application/json');\n            return new NLUImportUtil(modelId).importEntities(entities);\n        } else {\n            return new sn_ws_err.BadRequestError(\"No input data provided\");\n        }\n    } catch (e) {\n        return e;\n    }\n})(request, response);","sys_updated_on":"2025-05-09 06:31:19","enforce_acl":"ccd8a1e7772000105d7b3882a910617c","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/e4cda81e7333230021a044764df6a777","value":"e4cda81e7333230021a044764df6a777"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"83d551405f73330064f1e1cf2f7313ba","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/v1/nlu/importentity","sys_created_on":"2019-09-05 07:01:38","sys_name":"importentity","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/55672c9a7333230021a044764df6a706","value":"55672c9a7333230021a044764df6a706"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_ws_operation_83d551405f73330064f1e1cf2f7313ba","consumes_customized":"false","name":"importentity","produces":"application/json,application/xml,text/xml","relative_path":"/importentity","produces_customized":"false","default_operation_uri":"/api/now/nlu/importentity","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tfunction getParamVal (p, params, defaultValue) {\n\t\tif (typeof defaultValue == 'undefined')\n\t\t\tdefaultValue = null;\n\t\tif (!params)\n\t\t\treturn defaultValue;\n\t\tvar val = params[p];\n\t\tif (!val || val.length === 0)\n\t\t\treturn defaultValue;\n\t\treturn val[0];\n\t}\n\n\tvar params = request.queryParams;\n\tvar getTaskSlaGroupedBySla = getParamVal('get_task_slas_grouped_by_sla', params, 'false') == 'true';\n\tvar getDBTaskSlasAsStored = getParamVal('get_db_task_slas_as_stored', params, 'false') == 'true';\n\tvar getTaskFullDetails = getParamVal('get_task_full_details', params, 'false') == 'true';\n\tvar getAllStages = getParamVal('get_all_stages', params, 'false') == 'true';\n\tvar configParams = {\n\t\tgetTaskSlaGroupedBySla: getTaskSlaGroupedBySla,\n\t\tgetDBTaskSlasAsStored: getDBTaskSlasAsStored,\n\t\tgetTaskFullDetails: getTaskFullDetails,\n\t\tgetAllStages: getAllStages\n\t};\n\n\tvar contractSLAIds = getParamVal('contract_sla_ids', params, '').split(',');\n\n    var resp = new SLATimeLineV2(configParams).getTimeLineDetails(request.pathParams.taskId, contractSLAIds);\n\tif (resp.apiError)\n\t\treturn new sn_ws_err.BadRequestError(resp.apiError);\n\telse if (resp.apiSecurityError) {\n\t\tvar respError = new sn_ws_err.ServiceError();\n\t\trespError.setStatus(403);\n\t\trespError.setMessage(resp.apiSecurityError);\n\t\treturn respError;\n\t}\n\telse\n\t\treturn resp;\n\n})(request, response);","sys_updated_on":"2017-02-07 02:13:47","enforce_acl":"fa4542689fc322002920bde8132e70da","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"83da01729fb222002920bde8132e703f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/sla/timeline/{taskId}","sys_created_on":"2016-11-03 21:15:49","sys_name":"Task SLA Timeline","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/184a0d329fb222002920bde8132e7062","value":"184a0d329fb222002920bde8132e7062"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"41","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f939e3f704f12210559073c06a02f7d6","value":"f939e3f704f12210559073c06a02f7d6"},"sys_update_name":"sys_ws_operation_83da01729fb222002920bde8132e703f","consumes_customized":"false","name":"Task SLA Timeline","produces":"application/json,application/xml,text/xml","relative_path":"/timeline/{taskId}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar requestBody = request.body;\n\tvar requestData = requestBody.data;\n    var dict = requestData.dictionary_entries;\n\tvar result = new SNC.DCManager().getClassification(dict);\n\tvar json = new JSON();\n\tvar responseBody = json.decode(result);\n\tif(JSUtil.type_of(responseBody) == 'string')\n\t\treturn result;\n\t\n\tresponse.setBody(responseBody);\n})(request, response);","sys_updated_on":"2020-09-24 08:58:08","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"844898c8c3231010c15254d41340dd39","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/data_classification/getClassification","sys_created_on":"2020-09-24 08:37:57","sys_name":"GetClassificationForEntries","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/90b9010773761010ae8dd21efaf6a745","value":"90b9010773761010ae8dd21efaf6a745"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"8","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e6cde73304752210559073c06a02f70a","value":"e6cde73304752210559073c06a02f70a"},"sys_update_name":"sys_ws_operation_844898c8c3231010c15254d41340dd39","consumes_customized":"false","name":"GetClassificationForEntries","produces":"application/json,application/xml,text/xml","relative_path":"/getClassification","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t/**\n\t * Scaffold an application source files and application metadata\n\t */\n\ttry {\n\t\tvar body = request.body.data;\n\t\tvar scopeName = body.scopeName;\n\t\tvar appName = body.appName;\n\t\tvar appDescription = body.appDescription;\n\t\tvar packageName = body.packageName;\n\t\tvar transactionId = new global.IDEGlobalUtils().getTransactionId();\n\t\tvar stopWatch = new sn_glider.StopWatch();\n\t\tvar ideService = new sn_glider.IDERequestBuilder();\n\t\tif (!scopeName) {\n\t\t\treturn response.setError(\n\t\t\t\tnew sn_ws_err.BadRequestError('[transactionId: ' + transactionId + '] scopeName was not defined! Cannot handle scaffold request.')\n\t\t\t);\n\t\t}\n\t\tif (!appName) {\n\t\t\treturn response.setError(\n\t\t\t\tnew sn_ws_err.BadRequestError('[transactionId: ' + transactionId + '] appName was not defined! Cannot handle scaffold request.')\n\t\t\t);\n\t\t}\n\t\tvar scaffoldRequest = ideService.createScaffoldRequest(scopeName, appName, appDescription, packageName, transactionId);\n\t\tstopWatch.time('scaffold:execute');\n\t\tvar scaffoldResponse = scaffoldRequest.execute();\n\t\tstopWatch.timeEnd('scaffold:execute', '[scaffold:execute][scope:' + scopeName + '][transactionId: ' + transactionId + '] ');\n\t\tvar result = ideService.handleScaffoldResponse(scopeName, scaffoldResponse, transactionId);\n\t\tif (result.scopeId) {\n\t\t\tvar successBody = ideService.successResponse('[transactionId: ' + transactionId + '] Successfully scaffolded and installed, ' + scopeName, result.logs, result.status);\n\t\t\tsuccessBody.scopeId = result.scopeId; \n\t\t\tresponse.setBody(successBody);\n\t\t\treturn response.setStatus(200);\n\t\t} else {\n\t\t\tvar err = new sn_ws_err.ServiceError();\n\t\t\terr.setMessage('[transactionId: ' + transactionId + '] Unable to scaffold and install ' + scopeName);\n\t\t\terr.setDetail('Check the error logs for more info');\n\t\t\terr.setStatus(500);\n\t\t\treturn response.setError(err);\n\t\t}\n\t} catch (e) {\n\t\tgs.error('scaffold request failed', e);\n\t\tvar svcErr = new sn_ws_err.ServiceError();\n\t\tsvcErr.setMessage(e.message || e.toString());\n\t\tif (e.detailedLog) {\n\t\t\tsvcErr.setDetail(e.detailedLog);\n\t\t}\n\t\tresponse.setError(svcErr);\n\t\tsvcErr.setStatus(500);\n\t\treturn response.setError(svcErr);\n\t}\n})(request, response);","sys_updated_on":"2024-07-15 17:46:37","enforce_acl":"b546fc12a3060210acce0373341e615f","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"846d746aff110210771bffffffffffca","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/ide/build/scaffold-application","sys_created_on":"2024-04-04 06:39:08","sys_name":"Scaffold Application","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/fd254d9443a161100967247e6bb8f200","value":"fd254d9443a161100967247e6bb8f200"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/52287426ff110210771bffffffffff8f","value":"52287426ff110210771bffffffffff8f"},"consumes":"application/json","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"24","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fd254d9443a161100967247e6bb8f200","value":"fd254d9443a161100967247e6bb8f200"},"sys_update_name":"sys_ws_operation_846d746aff110210771bffffffffffca","consumes_customized":"true","name":"Scaffold Application","produces":"application/json","relative_path":"/scaffold-application","produces_customized":"true","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar notificationDashboard = new NotificationDashboard();\n        response.setBody(notificationDashboard.getTopCategory(request.body.data));\n\n})(request, response);","sys_updated_on":"2024-09-24 22:30:19","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"849e8f56ff74d250ac42fbd38c4fd9e9","http_method":"POST","sys_updated_by":"rajesh.tatikonda@snc","operation_uri":"/api/snc/notification_dashboard/notifications/email/category","sys_created_on":"2024-09-24 22:30:19","sys_name":"TopCategoryAndNotifications","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"rishika.karri@snc","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/a5ea2ec8ffec5a10ac42fbd38c4fd9fb","value":"a5ea2ec8ffec5a10ac42fbd38c4fd9fb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fa85f980ff6c5a10ac42fbd38c4fd9bd","value":"fa85f980ff6c5a10ac42fbd38c4fd9bd"},"sys_update_name":"sys_ws_operation_849e8f56ff74d250ac42fbd38c4fd9e9","consumes_customized":"false","name":"TopCategoryAndNotifications","produces":"application/json,application/xml,text/xml","relative_path":"/notifications/email/category","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    const {\n        ComponentBuilder\n    } = require('@servicenow/sn-cb-api');\n    const componentBuilder = new ComponentBuilder(response);\n    try {\n        const {\n            body: {\n                data\n            }\n        } = request;\n        const ret = componentBuilder.createComponent(data);\n\t\t\n        return componentBuilder.getSuccessResponse(ret, 201);\n    } catch (e) {\n        return componentBuilder.getErrorResponse(e.message);\n    }\n})(request, response);","sys_updated_on":"2024-03-11 21:54:39","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"84e3514577bc021041384a833f5a99df","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_cb_api/componentbuilder/component","sys_created_on":"2024-03-05 19:57:42","sys_name":"Create Component","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/58d65e5a729340ac35dc8fd71d665545","value":"58d65e5a729340ac35dc8fd71d665545"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/79353aa3a37731100aa159e6d31e6154","value":"79353aa3a37731100aa159e6d31e6154"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"16","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/58d65e5a729340ac35dc8fd71d665545","value":"58d65e5a729340ac35dc8fd71d665545"},"sys_update_name":"sys_ws_operation_84e3514577bc021041384a833f5a99df","consumes_customized":"false","name":"Create Component","produces":"application/json,application/xml,text/xml","relative_path":"/component","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar payload = request.body.data;\n\tvar tourController = new sn_tourbuilder.GTAutoLaunchController();\n\ttry{\n\t\tvar res = tourController.createTour(payload);\n\t\tif (res.success) {\n\t\t\tresponse.setBody(res.payload);\n\t\t\tresponse.setStatus(200);\n\t\t} else {\n\t\t\tresponse.setStatus(400);\n\t\t\tresponse.setBody(res.payload ? res.payload : {msg: res.reason});\n\t\t}\n\t} catch(e) {\n\t\tresponse.setStatus(500);\n\t\tresponse.setBody({msg: e.message});\n\t}\n\n})(request, response);","sys_updated_on":"2018-08-09 15:32:08","enforce_acl":"cad7104a877b1300b38c0f4c59cb0bdb","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/3268f36173eb13007077edcc5ef6a738","value":"3268f36173eb13007077edcc5ef6a738"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"851cd48a877b1300b38c0f4c59cb0bb8","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/v1/guided_tours/tours","sys_created_on":"2018-08-09 15:32:08","sys_name":"Create tours","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/2405194d87e73200b38c0f4c59cb0b6f","value":"2405194d87e73200b38c0f4c59cb0b6f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_update_name":"sys_ws_operation_851cd48a877b1300b38c0f4c59cb0bb8","consumes_customized":"false","name":"Create tours","produces":"application/json,application/xml,text/xml","relative_path":"/tours","produces_customized":"false","default_operation_uri":"/api/now/guided_tours/tours","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var payload = request.body.data;\n    var result = {};\n    var cloneUtil = new sn_instance_clone.AdminCloneUtil();\n    var cloneRestService = new sn_instance_clone.CloneRestService();\n\n    switch (payload.operation) {\n        case 'DELETE':\n            result = cloneUtil.deleteRecord(payload.table, payload.sysId);\n            break;\n        case 'INSERT':\n            result = cloneUtil.createRecord(payload.table, payload.valuePairs);\n            break;\n        case 'UPDATE':\n            result = cloneUtil.updateRecord(payload.table, payload.sysId, payload.valuePairs);\n            break;\n        case 'GET_NEXT_AVAILABLE_SLOT':\n            result = cloneUtil.getNextAvailableSlot(payload.sourceInstanceId, payload.targetInstanceId);\n            break;\n        case 'GET_SYS_USERS':\n            result = cloneUtil.getSysUsersRecord(payload.query);\n            break;\n        case 'GET_CLONE_PROFILE_LIST':\n            result = cloneUtil.getRemoteInstanceCloneProfileList(payload.instanceUrl, payload.username, payload.password);\n            break;\n        case 'GET_DEFINITIONS_REMOTE_INSTANCE_DATA':\n            result = cloneUtil.getRemoteInstanceDefinitionsData(payload.instanceUrl, payload.username, payload.password, gs.nil(payload.profileName) ? '' : payload.profileName);\n            break;\n        case 'GET_CLONE_PROFILE':\n            result = cloneUtil.getCloneProfileData(payload.sysId);\n            break;\n        case 'GET_MAX_CLONE_OCCURRENCES':\n            result = cloneUtil.getMaximumCloneOccurrence(payload.maxRecurringCloneDuration, payload.frequency);\n            break;\n        case 'GET_ESTIMATED_CLONE_FREQUENCY_END_DATE':\n            result = cloneUtil.getEstimatedCloneSeriesEndDate(payload.requestedTime, payload.cloneFrequency, payload.numberOfOccurrences, payload.days);\n            break;\n\t\tcase \"ADD_INSTANCE\":\n        case \"INSTANCE_AUTH\":\n            result = cloneUtil.authenticateInstance(payload.instanceUrl, payload.userName, payload.password, payload.registerInstance);\n            break;\n\t\tcase \"GET_TARGET_INSTANCES\":\n\t\t\tresult = cloneUtil.getTargetInstances(true);\n\t\t\tbreak;\n        case \"DELETE_INSTANCE\":\n            result = cloneUtil.deleteInstance(payload.sysId);\n            break;\n        case \"CANCEL_ROLLBACK_CLONE_REQUESTED\":\n            result = cloneUtil.cancelRollbackCloneRequest(payload.cloneId, payload.reason, payload.options);\n            break;\n        case \"SYNC_CLONE_STATUS_DATA\":\n            cloneRestService.getCloneStatus(payload.sys_id);\n            result = cloneUtil.getCloneStatusRequestData(payload.sys_id);\n            break;\n        case \"GET_DEFINITIONS_TABLE_DATA\":\n            result = cloneUtil.getCloneDefinitionsReocrds(payload.table_name, payload.profile_sys_id, payload.row_name);\n            break;\n        case 'RUN_PREFLIGHT_CHECK':\n            result = cloneUtil.runPreflightChecks(payload.cloneProfileSysId, payload.validationRules, payload.largeTablesList);\n            break;\n        case 'CREATE_CLONE_REQUEST':\n            result = cloneUtil.createCloneRequest(payload.cloneRequestData);\n            break;\n        case \"GET_CLONE_REQUEST_SYS_ID\":\n            result = cloneUtil.getCloneRequestSysId(payload.request_id);\n            break;\n        case \"GET_CLONE_CANCEL_ROLLBACK_REASONS\":\n            result = cloneUtil.getCloneCancelRollbackReasons(payload.options);\n            break;\n        case \"GET_BREADCRUMBS_BY_PAGE\":\n            result = cloneUtil.getBreadCrumbsByPageParams(payload.table_name);\n            break;\n        case \"CONFLICT_CALENDAR_ENTRIES\":\n            result = cloneUtil.getCalendarEntries(payload.startDate, payload.endDate, payload.targetInstanceId);\n            break;\n        case \"CHECK_SLOT_AVAILABILITY\":\n            result = cloneUtil.checkSlotAvailability(payload.sourceInstanceId, payload.targetInstanceId, payload.requestedTime);\n            break;\n        case \"CREATE_DEFINITIONS\":\n            result = cloneUtil.createM2MRecordsForDefinitions(payload.table, payload.filter, payload.items);\n            break;\n        case \"CREATE_PROFILES\":\n            result = cloneUtil.createM2MRecordsWithProfilesForDefinition(payload.table, payload.sysId, payload.items);\n            break;\n        case \"GET_PROFILE_NAME\":\n            result = cloneUtil.getCloneProfileName(payload.sysId);\n            break;\n        case \"GET_CLONE_LOGS\":\n            result = cloneUtil.getCloneLogs(payload.sysId,payload.searchTerm || '',payload.pageNumber || 0);\n            break;\n\t\tcase \"SAVE_USER_PREFERENCE\":\n\t\t\tresult = cloneUtil.saveUserPrefs(payload.userPref,payload.value);\n\t\t\tbreak;\n        default:\n            response.setBody(result);\n            response.setStatus(400);\n            break;\n    }\n\n    response.setContentType(\"application/json\");\n    response.setStatus(result.status);\n    response.setBody(result.body);\n})(request, response);","sys_updated_on":"2024-03-18 12:15:31","enforce_acl":"9bf1077e9ff48210ec83c3e58a0a1c77","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"853bc3d7eb30a110da1861c59c522809","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_instance_clone/clone/util","sys_created_on":"2023-02-09 12:20:08","sys_name":"util","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/31774a2953839110a6f8ddeeff7b12cb","value":"31774a2953839110a6f8ddeeff7b12cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/e5587697ebfc6110da1861c59c522838","value":"e5587697ebfc6110da1861c59c522838"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"116","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/31774a2953839110a6f8ddeeff7b12cb","value":"31774a2953839110a6f8ddeeff7b12cb"},"sys_update_name":"sys_ws_operation_853bc3d7eb30a110da1861c59c522809","consumes_customized":"false","name":"util","produces":"application/json,application/xml,text/xml","relative_path":"/util","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar payload = request.body.data;\n\t\n\t// If there's no payload and no query parameter we can return an error.\n\tif (JSUtil.isEmpty(payload) || !payload.session_id || !payload.sys_id || !payload.table)\n\t\treturn new sn_ws_err.BadRequestError(\"Invalid payload\");\n\t\n\tvar gr = new GlideRecord(\"cxs_relevant_doc\");\n\tgr.addQuery(\"session_id\", payload.session_id);\n\tgr.query();\n\tif (gr.next()) {\n\t\tgr.setValue(\"source_doc_table\", payload.table);\n\t\tgr.setValue(\"source_doc\", payload.sys_id);\n\t\tgr.setValue(\"source_doc_url\", payload.table + \".do?sys_id=\" + payload.sys_id);\n\t\tgr.update();\n\t}\n})(request, response);","sys_updated_on":"2018-10-02 17:03:13","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"854799dd67d53200eb57afa00585ef52","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/cxs/feedback/link","sys_created_on":"2017-03-03 13:12:57","sys_name":"feedback/link","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7e534526d722220034d145bcce6103fa","value":"7e534526d722220034d145bcce6103fa"},"consumes":"application/json","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5209e3b704f12210559073c06a02f734","value":"5209e3b704f12210559073c06a02f734"},"sys_update_name":"sys_ws_operation_854799dd67d53200eb57afa00585ef52","consumes_customized":"false","name":"feedback/link","produces":"application/json","relative_path":"/feedback/link","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar viewConfigSysId = request.pathParams.viewConfigSysId;\n\tvar viewTemplateSysId = request.queryParams.viewTemplateSysId;\n\tvar viewConfigMetadata = new sn_mobile_card_bui.ViewConfigMetadata(viewConfigSysId);\n\treturn viewConfigMetadata.getElementAttributeFieldMetadata(viewTemplateSysId);\n})(request, response);\n","sys_updated_on":"2023-03-07 17:08:03","enforce_acl":"cf9d01d3e73003009d6247e603f6a990,d7088c08b751211095411226de11a9e9","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"85888e9e77411110112b7f7c8c5a99cb","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/mcb/view_config/field/{viewConfigSysId}","sys_created_on":"2022-08-03 18:40:31","sys_name":"View Config - Field - Get","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/63d8b7c573c51010a59b4c5353f6a737","value":"63d8b7c573c51010a59b4c5353f6a737"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"165","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_update_name":"sys_ws_operation_85888e9e77411110112b7f7c8c5a99cb","consumes_customized":"false","name":"View Config - Field - Get","produces":"application/json,application/xml,text/xml","relative_path":"/view_config/field/{viewConfigSysId}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    /**\n\t * Creates SYS_APP records that are compatible with building Fluent Apps\n\t */\n\ttry {\n\t\tvar name = request.body.data.name;\n\t\tvar scope = request.body.data.scope;\n\t\tvar id = request.body.data.id;\n\n\t\tgs.info('[IDE][Create Basic Application][scope:' + id + '] name: ' + name + ' scope: ' + scope);\n\n\t\tvar result = new global.IDEGlobalUtils().attemptCreation(name, scope, id);\n\n\t\tresponse.setBody(result);\n\t\treturn response.setStatus(result.success ? 200 : 400);\n\t} catch (e) {\n\t\tvar errorMessage = '[IDE] Failed to create basic application';\n\t\tgs.error(errorMessage, e);\n\t\tresponse.setStatus(500);\n\t\treturn response.setError(e);\n\t}\n\n})(request, response);","sys_updated_on":"2024-10-27 22:58:55","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"{\n   \"code\": \"some_code_here\",\n   \"name\": \"some_code_here\",\n   \"id\": \"000b2762a9c07000f8776daa48300500\"\n}","sys_id":"85c20ce94f16021028106c01b1ce0b5f","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_glider/ide_basic_applications","sys_created_on":"2024-07-17 14:45:21","sys_name":"Create Basic Application","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/fd254d9443a161100967247e6bb8f200","value":"fd254d9443a161100967247e6bb8f200"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/cb5244e94f16021028106c01b1ce0b79","value":"cb5244e94f16021028106c01b1ce0b79"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"9","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fd254d9443a161100967247e6bb8f200","value":"fd254d9443a161100967247e6bb8f200"},"sys_update_name":"sys_ws_operation_85c20ce94f16021028106c01b1ce0b5f","consumes_customized":"false","name":"Create Basic Application","produces":"application/json,application/xml,text/xml","relative_path":"/","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var payload = request.body.data;\n\tvar result = [];\n\tvar pageComposition = {};\n\tvar globalUtil = new global.ACEAppBuilderGlobalScopedUtil();\n\tvar ACE_UTIL_CLIENT_SCRIPT_INCLUDE_ID = '457b82c753b061104410ddeeff7b12e6';\n\tvar ACE_CONTENT_MANAGER_ID = 'db78b1b67e04495772a27dc5abc80a49';\n\tvar ACE_CONTET_MANAGER_PRESET_ID = '7ff90b977143a110f877d65dc8b01747';\n\n\tvar getGUID = function() {\n\t\treturn 'xxxx-xxxx-yyyyyy-xxxx-yyyyxxyy'.replace(/[xy]/g, function(c) {\n\t\t\tvar r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\n\t\t\treturn v.toString(16);\n\t\t});\n\t}\n    var updateMacroponentComposition = function(eventMappingId, clientScriptSysIds) {\n        var macroponentEventMapping = [];\n        if (clientScriptSysIds && clientScriptSysIds.length > 0) {\n\n            clientScriptSysIds.forEach(function(sysId) {\n                macroponentEventMapping.push({\n                    \"eventMappingId\": eventMappingId,\n                    \"sourceEventApiName\": \"sn_ace.ACE_ACTION_PERFORMED\",\n                    \"sourceEventDefinition\": {\n                        \"apiName\": \"sn_ace.ACE_ACTION_PERFORMED\",\n                        \"id\": null,\n                        \"type\": \"UXEVENT\"\n                    },\n                    \"targets\": [{\n                        \"broker\": null,\n                        \"clientScript\": {\n                            \"sysId\": sysId\n                        },\n                        \"targetId\": getGUID(),\n                        \"type\": \"CLIENT_SCRIPT\"\n                    }]\n                });\n\n            });\n            return macroponentEventMapping;\n\n        }\n\n    };\n\n\n\n\t// If there's no payload and no query parameter we can return an error.\n\tif (global.JSUtil.isEmpty(payload))\n\t\treturn new sn_ws_err.BadRequestError(\"No Query String provided\");\n\n\tif (payload.clientScripts && payload.pageId) {\n\t\tvar allClientScriptIds = [];\n\n\t\tvar allCSGr = new GlideRecord(\"sys_ux_client_script\");\n\t\tallCSGr.addQuery(\"macroponent\", payload.pageId);\n\t\tallCSGr.query();\n\t\twhile(allCSGr.next()) {\n\t\t\tallClientScriptIds.push({sysId: allCSGr.getUniqueValue(), name: allCSGr.getValue(\"name\"), script: allCSGr.getValue(\"script\"), includes: allCSGr.getValue(\"includes\")});\n\t\t}\n\t\tvar clientScriptIds = [];\n\t\tvar clientScriptData = {};\n\t\tvar aceWatchScripts = [];\n\t\tpayload.clientScripts.forEach(function(clientScriptItem) {\n\t\t\tclientScriptIds.push(clientScriptItem.sysId);\n\t\t\tclientScriptData[clientScriptItem.sysId] = { script: clientScriptItem.script, name: clientScriptItem.name, watcher: clientScriptItem.watcher };\n\t\t});\n\t\tvar visitedClientScriptIds = [];\n\t\tvar gr = new GlideRecord(\"sys_ux_client_script\");\n\t\tgr.addQuery(\"sys_id\", \"IN\", clientScriptIds);\n\t\tgr.query();\n\t\twhile(gr.next()) {\n\t\t\tvisitedClientScriptIds.push(gr.getUniqueValue());\n\t\t\tglobalUtil.updateRecord(\"sys_ux_client_script\", gr.getUniqueValue(), {\n\t\t\t\tname: clientScriptData[gr.getUniqueValue()].name,\n\t\t\t\tscript: clientScriptData[gr.getUniqueValue()].script\n\t\t\t});\n\t\t\tif(clientScriptData[gr.getUniqueValue()].watcher) {\n\t\t\t\taceWatchScripts.push(gr.getUniqueValue());\n\t\t\t}\n\t\t}\n\t\tvar remainingClientScriptIdsToAdd = clientScriptIds.filter( function(csItem) { return visitedClientScriptIds.indexOf(csItem) == -1; });\n\t\tremainingClientScriptIdsToAdd.forEach(function(clientScriptItemId) {\n\t\t\tclientScriptItem = clientScriptData[clientScriptItemId];\n\t\t\tif(clientScriptItem.name) {\n\t\t\t\tvar csId = globalUtil._grRecordCreator(\"sys_ux_client_script\", {\n\t\t\t\t\tname: clientScriptItem.name,\n\t\t\t\t\tscript: clientScriptItem.script,\n\t\t\t\t\tmacroponent: payload.pageId,\n\t\t\t\t\tincludes: ACE_UTIL_CLIENT_SCRIPT_INCLUDE_ID\n\t\t\t\t});\n\t\t\t\tif(clientScriptItem.watcher) {\n\t\t\t\t\taceWatchScripts.push(csId);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tvar remainingClientScriptIdsToRemove = allClientScriptIds.filter( function(csItem) { return clientScriptIds.indexOf(csItem) == -1; });\n\t\tvar csToRemoveGr = new GlideRecord(\"sys_ux_client_script\");\n\t\tcsToRemoveGr.addQuery(\"sys_id\", \"IN\", remainingClientScriptIdsToRemove);\n\t\tcsToRemoveGr.query();\n\t\twhile(csToRemoveGr.next()) {\n\t\t\tglobalUtil.deleteRecord(\"sys_ux_client_script\", csToRemoveGr.getUniqueValue());\n\t\t}\n\n\t\tvar acePageGr = new GlideRecord(\"sn_ace_page\");\n\t\tacePageGr.get(payload.acePageId);\n\t\tif(acePageGr.isValid()) {\n\t\t\tacePageGr.client_scripts = aceWatchScripts.join(\",\");\n\t\t\tacePageGr.update();\n\t\t}\n\t}\n\n\tvar pageGr = new GlideRecord(\"sys_ux_macroponent\");\n\tpageGr.get(payload.pageId);\n\tvar internalEventMappings = {};\n\tif(pageGr.isValid()) {\n\t\tpageComposition = JSON.parse(pageGr.getValue(\"composition\"));\n\t\tinternalEventMappings = pageGr.getValue(\"internal_event_mappings\");\n\t\tinternalEventMappings = JSON.parse(internalEventMappings);\n\t\tinternalEventMappings[\"sn_ace.ACE_ACTION_PERFORMED\"] = [];\n\t}\n\tvar aceEventMapValue = [];\n\tvar csGr = new GlideRecord(\"sys_ux_client_script\");\n\tcsGr.addQuery(\"macroponent\", payload.pageId);\n\tcsGr.query();\n\twhile(csGr.next()) {\n\t\tvar scriptWatcherValue = aceWatchScripts.indexOf(csGr.getUniqueValue()) > -1;\n\t\tif(scriptWatcherValue || csGr.getValue(\"name\") == \"beforePageLoad\" || csGr.getValue(\"name\") == \"beforePageLoadV3\") {\n\t\t\tresult.push({sysId: csGr.getUniqueValue(), name: csGr.getValue(\"name\"), script: csGr.getValue(\"script\"), includes: csGr.getValue(\"includes\"), watcher: scriptWatcherValue});\n\t\t}\n\t\tif(scriptWatcherValue) {\n\t\t\taceEventMapValue.push({\n\t\t\t\t\"broker\" : null,\n\t\t\t\t\"clientScript\": {\n\t\t\t\t\t\"sysId\" : csGr.getUniqueValue()\n\t\t\t\t},\n\t\t\t\t\"conditional\" : null,\n\t\t\t\t\"declarativeAction\" : null,\n\t\t\t\t\"event\" : null,\n\t\t\t\t\"operation\" : null,\n\t\t\t\t\"targetId\": getGUID(),\n\t\t\t\t\"type\" : \"CLIENT_SCRIPT\"\n\t\t\t});\n\t\t}\n\t}\n\tinternalEventMappings[\"sn_ace.ACE_ACTION_PERFORMED\"] = aceEventMapValue;\n\tglobalUtil.updateRecord(\"sys_ux_macroponent\", payload.pageId, {\n\t\tinternal_event_mappings: JSON.stringify(internalEventMappings, null, \"\\t\")\n\t});\n\n    // preset and controller changes\n    if (pageComposition.length > 0) {\n        pageComposition.forEach(function(composition, compositionIndex) {\n            if (composition && composition.definition.id == ACE_CONTENT_MANAGER_ID) {\n                if (composition.preset && composition.preset.id == ACE_CONTET_MANAGER_PRESET_ID) {\n\t\t\t\t\tcomposition['eventMappings'] = updateMacroponentComposition(gs.generateGUID(), aceWatchScripts);\n\t\t\t\t\tpageComposition[compositionIndex] = composition;\n                    globalUtil.updateRecord(\"sys_ux_macroponent\", payload.pageId, {\n                        composition: JSON.stringify(pageComposition, null, \"\\t\")\n                    });\n                }\n\n            }\n        });\n\n\n\n\n    }\n\n\n    response.setBody(result);\n})(request, response);","sys_updated_on":"2023-04-11 14:51:36","enforce_acl":"0bba350f774e2110bc5db5b27a5a99cd","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"860832e0533b1110c733ddeeff7b1275","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/ace/updateClientScripts","sys_created_on":"2022-12-13 04:31:02","sys_name":"updateClientScripts","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/090c5ee353721110c733ddeeff7b1299","value":"090c5ee353721110c733ddeeff7b1299"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"24","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_update_name":"sys_ws_operation_860832e0533b1110c733ddeeff7b1275","consumes_customized":"false","name":"updateClientScripts","produces":"application/json,application/xml,text/xml","relative_path":"/updateClientScripts","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // implement resource here\n\tvar requestBody = request.body.data;\n\tvar currentRecordTable = requestBody.table;\n    var currentRecordSysId = requestBody.sysId;\n    var recommendationType = requestBody.recommendationType;\n\tvar forceRefresh = requestBody.forceRefresh;\n\tvar fields = requestBody.fields;\n\tvar ruleContextId = requestBody.contextSysId;\n\tvar shouldGroup = true === requestBody.grouping;\n\tresponse.setContentType('application/json');\n    if (!sn_nb_action.NextBestActionUtil.isValidString(currentRecordSysId) || !sn_nb_action.NextBestActionUtil.isValidString(currentRecordTable) || !sn_nb_action.NextBestActionUtil.isValidString(recommendationType))\n        response.setError(new sn_ws_err.BadRequestError(gs.getMessage('Missing required parameters')));\n    else {\n        try {\n            var nbaService = new sn_nb_action.NextBestActionService();\n            var result = nbaService.getRecommendations(currentRecordTable, currentRecordSysId, recommendationType, forceRefresh == 'true', fields, shouldGroup, ruleContextId);\n            if (result) {\n\t\t\t\tresponse.setBody(result);\n                response.setStatus(200);\n            } else {\n                response.setBody([]);\n                response.setStatus(200);\n            }\n\n        } catch (err) {\n            gs.error(\"Get Recommendations for unsaved changes : \" + JSON.stringify(err));\n            response.setBody([]);\n            response.setStatus(200);\n        }\n    }\n\n})(request, response);","sys_updated_on":"2024-06-12 04:53:07","enforce_acl":"b9f4a5ae53431010763eddeeff7b1268","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/5024b34a53c31010763eddeeff7b1289","value":"5024b34a53c31010763eddeeff7b1289"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"868ae82a6d8f0110f87779bec765cb5f","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_nb_action/v1/next_best_action/actions/get_recommendations","sys_created_on":"2022-04-26 20:24:57","sys_name":"Get Recommendations","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/427fe83177221010d7159b71a91061e1","value":"427fe83177221010d7159b71a91061e1"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/95beed2cc7c71010763e343703c2608d","value":"95beed2cc7c71010763e343703c2608d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/427fe83177221010d7159b71a91061e1","value":"427fe83177221010d7159b71a91061e1"},"sys_update_name":"sys_ws_operation_868ae82a6d8f0110f87779bec765cb5f","consumes_customized":"false","name":"Get Recommendations","produces":"application/json,application/xml,text/xml","relative_path":"/actions/get_recommendations","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var lookupId = request.pathParams.lookupId;\n    try {\n        if (lookupId) {\n            var result = new NLULookupTrainer(lookupId).cancelLookupTraining();\n\n            if (result.status === 'success') {\n                response.setStatus(200);\n            } else {\n                response.setStatus(400);\n            }\n            response.setContentType('application/json');\n            return result;\n        } else {\n            return new sn_ws_err.BadRequestError('No input data provided');\n        }\n    } catch (e) {\n        return e;\n    }\n\n\n})(request, response);","sys_updated_on":"2021-04-20 05:47:29","enforce_acl":"ccd8a1e7772000105d7b3882a910617c","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/e4cda81e7333230021a044764df6a777","value":"e4cda81e7333230021a044764df6a777"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"86b050c3735310103bb6a4fa54f6a7e7","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/v1/nlu/cancelLookupTraining/{lookupId}","sys_created_on":"2020-09-21 05:44:54","sys_name":"cancelLookupTraining","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/55672c9a7333230021a044764df6a706","value":"55672c9a7333230021a044764df6a706"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_ws_operation_86b050c3735310103bb6a4fa54f6a7e7","consumes_customized":"false","name":"cancelLookupTraining","produces":"application/json,application/xml,text/xml","relative_path":"/cancelLookupTraining/{lookupId}","produces_customized":"false","default_operation_uri":"/api/now/nlu/cancelLookupTraining/{lookupId}","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar sysId = request.pathParams.sys_id || \"\";\n\tif (!sysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Change Request id not provided\");\n\n\tvar changeGR = new GlideRecordSecure(global.ChangeRequest.CHANGE_REQUEST);\n\tif (!changeGR.get(sysId))\n\t\treturn new sn_ws_err.NotFoundError(\"Change Request not found\");\n\n\t//Validate that conflict detection can be run\n\tif (!global.ChangeCheckConflicts.allowConflictDetection(changeGR))\n\t\treturn new sn_ws_err.BadRequestError(\"Unable to start conflict detection as Configuration item/Affected CIs, Planned start date and Planned end date are required\");\n\n\tvar changeConflict = new global.ChangeConflictAPI(changeGR);\n\n\t// Allows server to accept request for asynchronous process\n\tresponse.setStatus(202);\n\n\treturn changeConflict.startConflictDetection();\n})(request, response);","sys_updated_on":"2018-08-21 07:16:28","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"86c8e7f223b313001488dc1756bf652b","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/{sys_id}/conflict","sys_created_on":"2018-08-12 14:22:07","sys_name":"Conflict - Start","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"26","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_86c8e7f223b313001488dc1756bf652b","consumes_customized":"false","name":"Conflict - Start","produces":"application/json,application/xml,text/xml","relative_path":"/{sys_id}/conflict","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/{sys_id}/conflict","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var data = request.body.data;\n    try {\n\n        if (data.modelId && data.utterance) {\n            var result = NLUStudioPredictor.testUtterance(data.modelId, data.utterance);\n\n            if (result.status === 'success') {\n                response.setStatus(200);\n            } else {\n                response.setStatus(400);\n            }\n\n            response.setContentType('application/json');\n            return result;\n\n        } else {\n            return new sn_ws_err.BadRequestError(\"Invalid input data provided\");\n        }\n\n    } catch (e) {\n        return e;\n    }\n\n})(request, response);","sys_updated_on":"2021-04-20 05:47:30","enforce_acl":"ccd8a1e7772000105d7b3882a910617c","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/e4cda81e7333230021a044764df6a777","value":"e4cda81e7333230021a044764df6a777"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"87457a36773323005d7b3882a9106174","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/v1/nlu/test","sys_created_on":"2019-02-27 06:48:04","sys_name":"test","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/55672c9a7333230021a044764df6a706","value":"55672c9a7333230021a044764df6a706"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_ws_operation_87457a36773323005d7b3882a9106174","consumes_customized":"false","name":"test","produces":"application/json,application/xml,text/xml","relative_path":"/test","produces_customized":"false","default_operation_uri":"/api/now/nlu/test","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar sysId = request.pathParams.sys_id || null;\n\tif (!sysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Change Request id not provided\");\n\n\tvar changeProcess = global.ChangeProcess.findById(sysId);\n\tif (!changeProcess)\n\t\treturn new sn_ws_err.NotFoundError(\"Change Request not found\");\n\n\tif (!changeProcess.deleteRecord())\n\t\treturn new sn_ws_err.BadRequestError(\"Change Request not deleted\");\n\n\treturn changeProcess.toJS();\n})(request, response);","sys_updated_on":"2020-09-28 10:49:59","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"875d11d553231010930cddeeff7b12f8","http_method":"DELETE","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/{sys_id}","sys_created_on":"2020-09-28 10:49:41","sys_name":"Change","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_875d11d553231010930cddeeff7b12f8","consumes_customized":"false","name":"Change","produces":"application/json,application/xml,text/xml","relative_path":"/{sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/{sys_id}","sys_policy":""},{"short_description":"Get list of catalog items","sys_updated_on":"2018-08-25 00:16:58","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"87a8c391c33302006f333b0ac3d3ae6b","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/items","sys_created_on":"2015-11-17 19:34:03","sys_name":"List of Catalog Items","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"32","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_87a8c391c33302006f333b0ac3d3ae6b","consumes_customized":"false","name":"List of Catalog Items","produces":"application/json,application/xml,text/xml","relative_path":"/items","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/items","sys_policy":"protected"},{"short_description":"Get comparison map for service (map json).","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n/**\nParameters:\n\tserviceId (sys_id)\n\tfrom (number, ms)\n\tto (number, ms)\n*/\n    var saOpsWrapper = new SaOperationsWrapper(SNC.SaActionsHandler);\n\tsaOpsWrapper.process(request,response, \"compareService\");\n\n})(request, response);","sys_updated_on":"2018-03-11 12:44:42","enforce_acl":"ea4f3ae287132200b5bea18dd0e3eceb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"882dee137f520300995cbaf8befa9182","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/it_service/compareService","sys_created_on":"2017-11-13 13:32:50","sys_name":"CompareService - Internal API","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3418e25f7f120300995cbaf8befa912e","value":"3418e25f7f120300995cbaf8befa912e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_882dee137f520300995cbaf8befa9182","consumes_customized":"false","name":"CompareService - Internal API","produces":"application/json,application/xml,text/xml","relative_path":"/compareService","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var redactionData = request.body.data;\n    if (!redactionData)\n        return new sn_ws_err.BadRequestError(\"Redaction Request is not provided\");\n    var redactionJson = JSON.stringify(redactionData);\n    var redactionAPI = new sn_pdfgeneratorutils.PDFGenerationAPI;\n    var result = redactionAPI.redact(redactionJson);\n    if (result.status == 'success') {\n        response.setBody(result);\n        response.setStatus(200);\n    } else {\n        response.setStatus(404);\n        return new sn_ws_err.NotFoundError(result.message);\n    }\n\n})(request, response);","sys_updated_on":"2024-03-28 07:14:41","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"88a972a7eb0102102b5091b059522818","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/documents_generation_api/redact","sys_created_on":"2024-03-26 08:04:51","sys_name":"redact","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/30d8fea3eb0102102b5091b05952288f","value":"30d8fea3eb0102102b5091b05952288f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/790c27b704352210559073c06a02f758","value":"790c27b704352210559073c06a02f758"},"sys_update_name":"sys_ws_operation_88a972a7eb0102102b5091b059522818","consumes_customized":"false","name":"redact","produces":"application/json,application/xml,text/xml","relative_path":"/redact","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var result = {};\n    var businessObjectiveGr = {};\n    var solutionsGr = {};\n    var totalApps = 0;\n    var totalRecommendedApps = 0;\n    var installedApps = 0;\n    var application = {};\n    var applicationGr = {};\n    var constants = new AdminCenterConstants();\n    var adminCenterApplicationsUtil = new AdminCenterApplicationsUtil();\n    var appStatusData = adminCenterApplicationsUtil.fetchAppStatusData(adminCenterApplicationsUtil.getAppIds());\n    var appStatus, businessObjectiveTitle;\n    var adminCenterUtil = new AdminCenterUtil();\n\n    businessObjectiveGr = new GlideRecord('sn_admin_center_business_objective');\n    businessObjectiveGr.orderBy('name');\n    businessObjectiveGr.query();\n\n    while (businessObjectiveGr.next()) {\n        solutionsGr = new GlideRecord('sn_admin_center_solution');\n        solutionsGr.addQuery('objective', businessObjectiveGr.getUniqueValue());\n        solutionsGr.query();\n        totalApps = 0;\n        totalRecommendedApps = 0;\n        installedApps = 0;\n\n        while (solutionsGr.next()) {\n            application = solutionsGr.application;\n\n            applicationGr = adminCenterApplicationsUtil.getApplicationGlideRecord(application);\n            if (!applicationGr)\n                continue;\n\n            appStatus = adminCenterApplicationsUtil.getAppStatus(applicationGr, appStatusData);\n            if (!appStatus)\n                continue;\n\n            // only include in final counts if recommended\n            if (solutionsGr.weight.toString() === '1') {\n                totalRecommendedApps++;\n                installedApps = appStatus.isInstalled ? installedApps + 1 : installedApps;\n            }\n            totalApps++;\n        }\n\n        if (totalApps == 0)\n            continue;\n\n        businessObjectiveTitle = adminCenterUtil.getBusinessObjectiveTitle(businessObjectiveGr.getUniqueValue());\n\n        result[businessObjectiveGr.getUniqueValue()] = {\n            'id': businessObjectiveGr.getUniqueValue(),\n            'title': businessObjectiveTitle,\n            'totalApplications': totalRecommendedApps,\n            'installedApplications': installedApps\n        };\n    }\n\n    response.setContentType('application/json');\n    response.setStatus(200);\n    response.setBody(result);\n\n})(request, response);","sys_updated_on":"2023-09-21 20:56:49","enforce_acl":"87156c3db79701109cfe23508e11a95b","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"88b83fa5b71701109cfe23508e11a968","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_admin_center/adminx/business_objectives","sys_created_on":"2022-05-06 19:06:12","sys_name":"Business Objectives","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1163fa730f102010e8c940c1df767e8c","value":"1163fa730f102010e8c940c1df767e8c"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/93683ba5b71701109cfe23508e11a91f","value":"93683ba5b71701109cfe23508e11a91f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1163fa730f102010e8c940c1df767e8c","value":"1163fa730f102010e8c940c1df767e8c"},"sys_update_name":"sys_ws_operation_88b83fa5b71701109cfe23508e11a968","consumes_customized":"false","name":"Business Objectives","produces":"application/json,application/xml,text/xml","relative_path":"/business_objectives","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","sys_updated_on":"2022-05-30 21:01:49","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"88da94500f102010e54d6b198b767ec1","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/question_designer/delete_resource/{action}","sys_created_on":"2020-11-01 10:12:05","sys_name":"Delete resource for question designer","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c69d2bff04352210559073c06a02f736","value":"c69d2bff04352210559073c06a02f736"},"sys_update_name":"sys_ws_operation_88da94500f102010e54d6b198b767ec1","consumes_customized":"false","name":"Delete resource for question designer","produces":"application/json,application/xml,text/xml","relative_path":"/question_designer/delete_resource/{action}","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/question_designer/delete_resource/{action}","sys_policy":"protected"},{"short_description":"Returns a friendly display name of an encoded query.","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar result = {\n\t\t\ttable: '',\n\t\t\tencodedQuery: '',\n\t\t\tencodedQueryDisplayValue: '',\n\t\t\terrors: []\n\t\t};\n\n\ttry {\n\t\tvar table = request.queryParams.table;\n\t\tvar query = request.queryParams.query;\n\n\t\tif (!table || !table.length || !table[0]) {\n\t\t\tresult.errors.push('Table is missing.');\n\t\t} else {\n\t\t\ttable = table[0];\n\t\t\tresult.table = table;\n\t\t}\n\t\t\n\t\tquery = !query || !query.length || !query[0] ? '' : query[0];\n\t\tresult.encodedQuery = query;\n\t\t\n\t\tif (!result.errors.length) {\n\t\t\tvar gr = new GlideRecord(table);\n\t\t\tgr.addEncodedQuery(query);\n\t\t\tresult.encodedQueryDisplayValue = new GlideQueryFormatter().format(gr);\n\t\t}\n\t} catch (error) {\n\t\tresult.errors.push(error.toString());\n\t}\n\t\n\tresponse.setBody(result);\n\n})(request, response);","sys_updated_on":"2021-06-09 15:52:21","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"88fc623e8f2cb410960c53ac37bdeed1","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/cmdb_workspace_api/encodedquery","sys_created_on":"2021-06-08 21:43:49","sys_name":"Get Display Name of EncodedQuery","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/4c4caafa8f2cb410960c53ac37bdee8e","value":"4c4caafa8f2cb410960c53ac37bdee8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_ws_operation_88fc623e8f2cb410960c53ac37bdeed1","consumes_customized":"false","name":"Get Display Name of EncodedQuery","produces":"application/json,application/xml,text/xml","relative_path":"/encodedquery","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var scope = request.queryParams.scope[0];\n    var isScoped = scope !== \"global\" && scope != \"undefined\";\n    var result = new SNC.GlideScriptEditorAutoCompletionUtil().getAutoCompletions(isScoped);\n\tresponse.setBody({\"result\": result});\n\tresponse.setStatus(200);\n})(request, response);","sys_updated_on":"2023-05-16 19:14:56","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a25b4ce37303230010d533083cf6a72d","value":"a25b4ce37303230010d533083cf6a72d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"8907679243221110be16ac62cab8f291","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/syntax_editor/completions","sys_created_on":"2022-10-17 15:07:43","sys_name":"Syntax Editor Auto-completions","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/dc4bc0e37303230010d533083cf6a7ed","value":"dc4bc0e37303230010d533083cf6a7ed"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/450423f704312210559073c06a02f741","value":"450423f704312210559073c06a02f741"},"sys_update_name":"sys_ws_operation_8907679243221110be16ac62cab8f291","consumes_customized":"false","name":"Syntax Editor Auto-completions","produces":"application/json,application/xml,text/xml","relative_path":"/completions","produces_customized":"false","default_operation_uri":"/api/now/syntax_editor/completions","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var dashboard = new NotificationDashboard();\n    var result = dashboard.fetchUnusedNotificationsCount(request.body.data);\n    response.setBody({\n        count: result\n    });\n\n})(request, response);","sys_updated_on":"2024-09-24 10:46:21","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"8920f45afff89250ac42fbd38c4fd9d1","http_method":"POST","sys_updated_by":"rajesh.tatikonda@snc","operation_uri":"/api/snc/notification_dashboard/notifications/email/unusedcount","sys_created_on":"2024-09-24 10:46:21","sys_name":"Get Unused Notifications Count","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"rishika.karri@snc","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/a5ea2ec8ffec5a10ac42fbd38c4fd9fb","value":"a5ea2ec8ffec5a10ac42fbd38c4fd9fb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fa85f980ff6c5a10ac42fbd38c4fd9bd","value":"fa85f980ff6c5a10ac42fbd38c4fd9bd"},"sys_update_name":"sys_ws_operation_8920f45afff89250ac42fbd38c4fd9d1","consumes_customized":"false","name":"Get Unused Notifications Count","produces":"application/json,application/xml,text/xml","relative_path":"/notifications/email/unusedcount","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","sys_updated_on":"2021-04-07 10:02:51","enforce_acl":"c181cf8187602010c84e4561d5cb0b5e","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"89769a2b531220105408ddeeff7b1295","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/service_fulfillment/step","sys_created_on":"2021-02-19 07:39:20","sys_name":"Create a Service Fulfillment Step","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/97adafff04352210559073c06a02f7da","value":"97adafff04352210559073c06a02f7da"},"sys_update_name":"sys_ws_operation_89769a2b531220105408ddeeff7b1295","consumes_customized":"false","name":"Create a Service Fulfillment Step","produces":"application/json,application/xml,text/xml","relative_path":"/service_fulfillment/step","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/service_fulfillment/step","sys_policy":"protected"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // Get buildername from path param\n    var pathParams = request.pathParams;\n    var builderName = pathParams.builderName;\n\n    // Get all queryParams \n    var queryParams = request.queryParams;\n    var queryMap = {};\n    if (queryParams !== null) {\n        var params = JSON.parse(JSON.stringify(queryParams));\n        for (var key in params) {\n            queryMap[key] = params[key][0];\n        }\n    }\n\n    var responseBody = sn_one_extend.OneExtendUtil.getAllCapabilities(builderName, queryMap);\n    response.setBody(responseBody);\n\n})(request, response);","sys_updated_on":"2023-01-23 17:34:33","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/08a4748a53a02110c271ddeeff7b127b","value":"08a4748a53a02110c271ddeeff7b127b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"89b36e3d53202110c271ddeeff7b1230","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/oneextend/scripted/capabilities/{builderName}","sys_created_on":"2023-01-23 07:19:49","sys_name":"GetCapabilities","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/adf99ef153202110c271ddeeff7b12ff","value":"adf99ef153202110c271ddeeff7b12ff"},"consumes":"application/json","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7c84affb04312210559073c06a02f73d","value":"7c84affb04312210559073c06a02f73d"},"sys_update_name":"sys_ws_operation_89b36e3d53202110c271ddeeff7b1230","consumes_customized":"false","name":"GetCapabilities","produces":"application/json","relative_path":"/scripted/capabilities/{builderName}","produces_customized":"false","default_operation_uri":"/api/now/oneextend/scripted/capabilities/{builderName}","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n\tvar agendaItemId = request.pathParams.agendaItemId;\n\tvar request_body = request.body.nextEntry();\n\tvar actionName = request_body.action;\n\tvar userId = request_body.userId;\n\t\n\tif (!agendaItemId) \n\t\treturn new sn_ws_err.BadRequestError(\"Agenda Item id not provided\");\n\n\tif (!actionName || (actionName != \"add\" && actionName !=\"remove\")) \n\t\treturn new sn_ws_err.BadRequestError(\"Invalid action provided - must be either 'add' or 'remove'\");\n\n\tif (!userId)\n\t\treturn new sn_ws_err.BadRequestError(\"User id not provided\");\n\t\n\tvar agendaItemGr = new GlideRecord('cab_agenda_item');\n\tif (!agendaItemGr.get(agendaItemId))\n\t\treturn new sn_ws_err.NotFoundError(\"Requested Agenda Item not found\");\n\n\tvar userGr = new GlideRecord(\"sys_user\");\n\tif (!userGr.get(userId))\n\t\treturn new sn_ws_err.NotFoundError(\"User not found\");\n\n\tvar notificationRecipients = [];\n\tif (!agendaItemGr.notification_recipients.nil())\n\t\tnotificationRecipients = agendaItemGr.getValue(\"notification_recipients\").split(\",\");\n\t\n\tif (actionName == \"add\")\n\t\tif (notificationRecipients.indexOf(userId) < 0)\n\t\t\tnotificationRecipients.push(userId);\n\n\tif (actionName == \"remove\") {\n\t\tvar i = notificationRecipients.indexOf(userId);\n\t\tif (i >= 0)\n\t\t\tnotificationRecipients.splice(i, 1);\n\t}\n\t\n\tagendaItemGr.notification_recipients = notificationRecipients.toString();\n\n\tif (agendaItemGr.update())\n\t\tresponse.setBody({\"notification_recipients\": agendaItemGr.getValue(\"notification_recipients\")});\n\telse\n\t\treturn new sn_ws_err.ServiceError().setMessage(\"Failed to update agenda item record\");\n})(request, response);","sys_updated_on":"2018-01-11 15:41:36","enforce_acl":"ee9fb61a232303001488dc1756bf658b","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"89d56e58eb2022002a7a666cd206fea2","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_change_cab/cab/agenda/item/{agendaItemId}/notification_recipients","sys_created_on":"2016-07-07 13:05:56","sys_name":"UPDATE Agenda Item Recipients","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/cf65d305eb10220034d1eeea1206fe55","value":"cf65d305eb10220034d1eeea1206fe55"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"18","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_update_name":"sys_ws_operation_89d56e58eb2022002a7a666cd206fea2","consumes_customized":"false","name":"UPDATE Agenda Item Recipients","produces":"application/json,application/xml,text/xml","relative_path":"/agenda/item/{agendaItemId}/notification_recipients","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Gets page and layout templates for 2.0 layouts","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\n\tconst apiHelper = new APIHelper(request, response);\n\tapiHelper.execute(function(){\n\t\tconst scopeIds = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.SCOPE_IDS, false);\n        const templateIds = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.TEMPLATE_IDS, false);\n\t\tconst scopeQuery = scopeIds ? `^sys_scope.${BuilderToolkitConstants.SYS_ID_IN}${scopeIds}` : '';\n\t\tconst templateQuery = templateIds ? `^NQ${BuilderToolkitConstants.SYS_ID_IN}${templateIds}` : '';\n\t\tconst encodedQuery = `${BuilderToolkitConstants.ASSOCIATED_TYPE_QUERY}${scopeQuery}${templateQuery}`;\n\t\tconst queryResult = new UIBTemplate().getRecordsByQuery(encodedQuery);\n        apiHelper.respondSuccesfully(queryResult);\n\t});\n\n})(request, response);","sys_updated_on":"2023-05-26 18:24:09","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"8a276f0421531110da6a9589bbcb02b3","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/templates/layout","sys_created_on":"2022-11-16 22:10:26","sys_name":"Layout Templates","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"13","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_8a276f0421531110da6a9589bbcb02b3","consumes_customized":"false","name":"Layout Templates","produces":"application/json,application/xml,text/xml","relative_path":"/templates/layout","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var receivedParams = request.pathParams;\n    var currentRecordTable = receivedParams.table_name;\n    var queryParams = request.queryParams;\n    var ruleContextId;\n    if (queryParams.hasOwnProperty(\"contextSysId\"))\n        ruleContextId = queryParams.contextSysId[0];\n\n    response.setContentType('application/json');\n\n    if (!sn_nb_action.NextBestActionUtil.isValidString(currentRecordTable))\n        response.setError(new sn_ws_err.BadRequestError(gs.getMessage('Missing required parameters')));\n    else {\n        try {\n            var aisHandler = new sn_nb_action.AISearchGeneratorTypeHandler();\n            var nbaDao = new sn_nb_action.NextBestActionDAO();\n            var ruleContext = nbaDao.getRuleContext(currentRecordTable, ruleContextId);\n            var searchConfigId = ruleContext.search_application_configuration;\n            var searchSources = aisHandler._fetchSearchSources(ruleContext);\n            var filters = aisHandler._getSearchFilters(searchConfigId, searchSources);\n            var applicableSortOptions = aisHandler._getSortOptions(searchConfigId);\n            var result = {\n                filters: filters,\n                applicableSortOptions: applicableSortOptions,\n                searchConfigId: searchConfigId\n            };\n            if (result) {\n                response.setBody(result);\n                response.setStatus(200);\n            } else {\n                response.setBody([]);\n                response.setStatus(200);\n            }\n\n        } catch (err) {\n            gs.error(\"Get search parameters failed : \" + JSON.stringify(err));\n            response.setBody([]);\n            response.setStatus(200);\n        }\n    }\n})(request, response);","sys_updated_on":"2024-06-12 20:03:55","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/5024b34a53c31010763eddeeff7b1289","value":"5024b34a53c31010763eddeeff7b1289"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"8a5b0334c5ac3910f8770f73b8f7933f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_nb_action/v1/next_best_action/search/{table_name}/get_search_params","sys_created_on":"2023-08-07 03:38:42","sys_name":"GetSearchParams","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/427fe83177221010d7159b71a91061e1","value":"427fe83177221010d7159b71a91061e1"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/95beed2cc7c71010763e343703c2608d","value":"95beed2cc7c71010763e343703c2608d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/427fe83177221010d7159b71a91061e1","value":"427fe83177221010d7159b71a91061e1"},"sys_update_name":"sys_ws_operation_8a5b0334c5ac3910f8770f73b8f7933f","consumes_customized":"false","name":"GetSearchParams","produces":"application/json,application/xml,text/xml","relative_path":"/search/{table_name}/get_search_params","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Retrives details of a category","sys_updated_on":"2016-10-25 07:02:14","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"8a6690a147330200e0ef563dbb9a7191","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/categories/{sys_id}","sys_created_on":"2015-11-17 20:56:54","sys_name":"Specific Category","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"13","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_8a6690a147330200e0ef563dbb9a7191","consumes_customized":"false","name":"Specific Category","produces":"application/json,application/xml,text/xml","relative_path":"/categories/{sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/categories/{sys_id}","sys_policy":"protected"},{"short_description":"","operation_script":"(function process(request, response) {\n\tvar agendaItemId = request.pathParams.agendaItemId;\n\t\n\tif (!agendaItemId) \n\t\treturn new sn_ws_err.BadRequestError(\"Agenda Item id not provided\");\n\t\n\tvar cabMeeting = new CABMeeting();\n\tvar agendaItems = cabMeeting.getAgendaItems(agendaItemId);\n\t\n\tif (!agendaItems)\n\t\treturn new sn_ws_err.NotFoundError(\"Requested Agenda Item(s) not found\");\n\t\n\tresponse.setBody(agendaItems);\n})(request, response);","sys_updated_on":"2019-06-19 17:13:03","enforce_acl":"ee9fb61a232303001488dc1756bf658b","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"8a730ca3eb10220034d1eeea1206fe7e","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_change_cab/cab/agenda/item/{agendaItemId}","sys_created_on":"2016-07-04 17:21:53","sys_name":"GET Agenda Item","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/cf65d305eb10220034d1eeea1206fe55","value":"cf65d305eb10220034d1eeea1206fe55"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"8","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_update_name":"sys_ws_operation_8a730ca3eb10220034d1eeea1206fe7e","consumes_customized":"false","name":"GET Agenda Item","produces":"application/json,application/xml,text/xml","relative_path":"/agenda/item/{agendaItemId}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"Return guidance object recomended by \"recomendded_by\". ","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var receivedParams = request.pathParams;\n    var recommender = receivedParams.recommender;\n    var recommendedBy = receivedParams.recommended_by;\n\n    response.setContentType('application/json');\n\n    if (gs.nil(recommender) || gs.nil(recommendedBy)) {\n        response.setError(new sn_ws_err.BadRequestError(gs.getMessage('Missing required parameters')));\n    } else if (recommender == 'recommender' || recommendedBy == 'recommendedBy') {\n        response.setBody({\n            status: \"Guidance currently unavailable\"\n        });\n        response.setStatus(200);\n    } else {\n        try {\n            var interactionResponse = {};\n            var responseBody = {};\n            var guidanceModel = new sn_gd_guidance.GuidedDecisionsGuidanceModel();\n            var isUserValid = guidanceModel.isUserValid(recommender, recommendedBy);\n            if (!isUserValid) {\n                var accessDeniedResponseBody = {\n                    status: \"400\",\n                    errorType: \"accessDenied\",\n                    errorMessage: gs.getMessage(\"Access Denied: Check permissions to view the guidance\")\n                };\n                response.setBody(accessDeniedResponseBody);\n                return;\n            }\n            var current = new GlideRecordSecure(recommender);\n            if (!current.get(recommendedBy)) {\n                responseBody = {\n                    status: \"405\",\n                    errorMessage: \"invalid record\"\n                };\n                response.setBody(responseBody);\n                return;\n            }\n\n            var guidanceDetails = guidanceModel.getGuidanceObject(recommendedBy, recommender);\n            if (guidanceDetails) {\n                interactionResponse.guidanceDetails = guidanceDetails;\n                response.setBody(interactionResponse);\n                response.setStatus(200);\n            } else {\n                var guidanceErrorResponseBody = {\n                    status: \"400\",\n                    errorType: \"guidanceError\",\n                    errorMessage: gs.getMessage(\"Error fetching guidance details\")\n                };\n                response.setBody(guidanceErrorResponseBody);\n            }\n        } catch (err) {\n            var customErrObj = new sn_ws_err.ServiceError();\n            customErrObj.setStatus(500);\n            customErrObj.setMessage(gs.getMessage('Error fetching guidance detail'));\n            response.setError(customErrObj);\n            gs.error(JSON.stringify(err));\n        }\n    }\n\n\n})(request, response);","sys_updated_on":"2024-03-07 10:49:39","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"8ac1af3eb70620107d472397ee11a996","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_gd_guidance/guided_decisions_guidance_api/guidance_object/{recommender}/{recommended_by}","sys_created_on":"2021-02-04 19:01:11","sys_name":"Guidance Object","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/fd76ed5a3b570010119c870044efc470","value":"fd76ed5a3b570010119c870044efc470"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3bcffc6677c81010d7159b71a91061df","value":"3bcffc6677c81010d7159b71a91061df"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"28","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fd76ed5a3b570010119c870044efc470","value":"fd76ed5a3b570010119c870044efc470"},"sys_update_name":"sys_ws_operation_8ac1af3eb70620107d472397ee11a996","consumes_customized":"false","name":"Guidance Object","produces":"application/json,application/xml,text/xml","relative_path":"/guidance_object/{recommender}/{recommended_by}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar record = request.body.data.contactPreference;\n\tif(!record)\n\t\treturn new sn_ws_err.BadRequestError(\"Record not provided\");\n\t\n\treturn new OnCallContactPreferenceUtil().saveContactPreference(record);\n\n})(request, response);","sys_updated_on":"2019-04-10 10:41:07","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"8b304494b7f03300e11bc556ee11a962","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/contact_preferences/save","sys_created_on":"2019-04-09 16:32:25","sys_name":"saveContactPreference","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_8b304494b7f03300e11bc556ee11a962","consumes_customized":"false","name":"saveContactPreference","produces":"application/json,application/xml,text/xml","relative_path":"/contact_preferences/save","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tresponse.setContentType('application/json');\n\tvar result = {};\n\tvar helper = new CSDMAppServiceHelper();\n\tvar requestBody = request.body;\n\tvar requestData = requestBody.data; \n\tvar serviceUpdateError;\n\t\n    // validate request payload\n\tif(JSUtil.nil(requestData.service_details.basic_details.service_id)) {\n\t\tvar missingDetailsError = new sn_ws_err.ServiceError();\n\t\tmissingDetailsError.setStatus(500);\n\t\tmissingDetailsError.setMessage(\"Failed to update service\");\n\t\tmissingDetailsError.setDetail(\"Missing serviceId\");\n\t\tresponse.setError(missingDetailsError);\n\t\treturn;\n\t}\n\t\n\tvar validationResult = '';\n\tvalidationResult = helper.alreadyExists(requestData.service_details.basic_details);\n\n\tif(JSUtil.notNil(validationResult)) {\t\n\t\tvar validationError = new sn_ws_err.ServiceError();\n\t\tvalidationError.already_exists = true;\n\t\tvalidationError.setStatus(400);\n\t\tvalidationError.setMessage(validationResult.error);\n\t\tvalidationError.setDetail(\"Validation failed\");\n\t\tresponse.setError(validationError);\n\t\treturn;\n\t}\n\t\n\tvar serviceId = requestData.service_details.basic_details.service_id;\n\t\n\t// validate that build method for given Application Service\n\tif(JSUtil.notNil(requestData.service_details.build_methods)) {\n\t\tvar isBMValid = helper.validateBuildMethods(serviceId, requestData.service_details.build_methods);\n\t\tif(!isBMValid) {\n\t\t\tvar invalidBMError = new sn_ws_err.ServiceError();\n\t\t\tinvalidBMError.setStatus(500);\n\t\t\tinvalidBMError.setMessage(\"Failed to update service\");\n\t\t\tinvalidBMError.setDetail(\"Supplied build method(s) is no valid for given service\");\n\t\t\tresponse.setError(invalidBMError);\n\t\t\treturn;\n\t\t}\n\t}\n\t\n\tif (requestData.service_details.removed_entry_points.length > 0 || (requestData.service_details.build_methods && (requestData.service_details.build_methods.length > 1 || requestData.service_details.build_methods[0].type == 'discovery' || requestData.service_details.build_methods[0].type == 'manual'))) {\n\t\t\n\t\tvar id = helper.createApplicationService(requestData.service_details);\n\t\tif (!id) {\n\t\t\tvar error = new sn_ws_err.ServiceError();\n\t\t\terror.setStatus(500);\n\t\t\terror.setMessage(gs.getMessage(\"Failed to update service\"));\n\t\t\tresponse.setError(error);\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif(JSUtil.notNil(requestData.service_details.relationships)) {\n\t\t\thelper.updateCSDMRel(serviceId, requestData.service_details.relationships);\n\t\t}\n\t\t\n\t\tif (!JSUtil.nil(requestData.service_details.info_request_data)) {\n\t\t    result.info_request_id = helper.createAppServiceInfoRequest(requestData.service_details.info_request_data.assigned_to, serviceId, requestData.service_details.info_request_data.details);\n\t\t}\n\n\t\tresult.success = true;\n\t\tresponse.setStatus(200);\n\t\tresponse.setBody(result);\n\t\treturn;\n\t}\n\t\n\t// update Application Service details\n\tvar updated = helper.updateService('', serviceId, requestData.service_details.basic_details);\n\tif(updated !== serviceId) {\n\t\tserviceUpdateError = new sn_ws_err.ServiceError();\n\t\tserviceUpdateError.setStatus(500);\n\t\tserviceUpdateError.setMessage(\"Failed to update service\");\n\t\tserviceUpdateError.setDetail(\"Basic_details in payload might have some problem\");\n\t\tresponse.setError(serviceUpdateError);\n\t\treturn;\n\t}\n\t\n\t// create relations as specified in payload and purge relations which are not specified in payload to enforce to CSDM relation structure\n\t\n\tif(JSUtil.notNil(requestData.service_details.relationships)) {\n\t\thelper.updateCSDMRel(serviceId, requestData.service_details.relationships);\n\t}\n\t\n\tif (!JSUtil.nil(requestData.service_details.info_request_data)) {\n\t\tresult.info_request_id = helper.createAppServiceInfoRequest(requestData.service_details.info_request_data.assigned_to, serviceId, requestData.service_details.info_request_data.details);\n\t}\n\n\t// handle updates on build out methods\n\tif(JSUtil.notNil(requestData.service_details.build_methods)) {\n\t\tvar status = helper.updateBuildMethod(serviceId, requestData.service_details.build_methods);\n\t\tif (status && status.error && status.statusCode) {\n\t\t\tserviceUpdateError = new sn_ws_err.ServiceError();\n\t\t\tserviceUpdateError.setStatus(status.statusCode);\n\t\t\tserviceUpdateError.setMessage(gs.getMessage(\"Failed to update service\"));\n\t\t\tserviceUpdateError.setDetail(status.error);\n\t\t\tresponse.setError(serviceUpdateError);\n\t\t\treturn;\n\t\t}\n\t}\n\t\n\tresponse.setStatus(200);\n\tresponse.setBody(result);\n\t\n})(request, response);","sys_updated_on":"2022-05-05 17:36:43","enforce_acl":"2006673c53770010ee0dddeeff7b127d","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"8b71d1ec7393001061b79c0c6df6a731","http_method":"PUT","sys_updated_by":"admin","operation_uri":"/api/now/csdm_app_service/update_app_service","sys_created_on":"2020-02-27 19:55:05","sys_name":"Update Application Service","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/60c171d973c30010ee4dd3c72bf6a716","value":"60c171d973c30010ee4dd3c72bf6a716"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"35","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2f8d67ff04352210559073c06a02f74f","value":"2f8d67ff04352210559073c06a02f74f"},"sys_update_name":"sys_ws_operation_8b71d1ec7393001061b79c0c6df6a731","consumes_customized":"false","name":"Update Application Service","produces":"application/json,application/xml,text/xml","relative_path":"/update_app_service","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var saOpsWrapper = new SaOperationsWrapper(SNC.SaActionsHandler);\n\tsaOpsWrapper.process(request,response, \"relatedItemsFullData\");\n\n})(request, response);","sys_updated_on":"2018-03-11 12:48:15","enforce_acl":"ea4f3ae287132200b5bea18dd0e3eceb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"8baa62137f520300995cbaf8befa91db","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/it_service/relatedItemsFullData","sys_created_on":"2017-11-13 13:22:20","sys_name":"RelatedItemsFullData - Internal API","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3418e25f7f120300995cbaf8befa912e","value":"3418e25f7f120300995cbaf8befa912e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_8baa62137f520300995cbaf8befa91db","consumes_customized":"false","name":"RelatedItemsFullData - Internal API","produces":"application/json,application/xml,text/xml","relative_path":"/relatedItemsFullData","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar groupSysId = request.queryParams.group_id;\n\tvar ocwUtils = new global.OnCallWorkbenchUtils();\n\ttry {\n\t\treturn {\n\t\t\trotas: ocwUtils.getGroupRotas(groupSysId)\n\t\t};\n\t} catch (e) {\n\t\tif (e.securityError) {\n\t\t\tvar body = {\n\t\t\t\terror: {\n\t\t\t\t\tmessage: e.message\n\t\t\t\t}\n\t\t\t};\n\t\t\tresponse.setBody(body);\n\t\t\tresponse.setStatus(403);\n\t\t}\n\t\telse {\n\t\t\treturn new sn_ws_err.BadRequestError(e.message);\n\t\t}\n\t}\n})(request, response);","sys_updated_on":"2019-03-20 08:31:47","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"8bb8c8395f74230084a5a184ff4666b8","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/rotas","sys_created_on":"2018-09-27 12:31:52","sys_name":"getRotas","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"8","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_8bb8c8395f74230084a5a184ff4666b8","consumes_customized":"false","name":"getRotas","produces":"application/json,application/xml,text/xml","relative_path":"/rotas","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tconst {UXTheme} = require('@servicenow/sn-cb-api');\n\t\n\tconst themeInstance = new UXTheme();\n\tconst themes = themeInstance.getAllThemes();\n\n\treturn themes;\n\n})(request, response);","sys_updated_on":"2024-08-06 21:15:21","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"8bbe86554f770210eb5c01cc32ce0b2d","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_cb_api/componentbuilder/component/fetch-themes","sys_created_on":"2024-08-02 21:59:44","sys_name":"Fetch UX Themes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/58d65e5a729340ac35dc8fd71d665545","value":"58d65e5a729340ac35dc8fd71d665545"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/79353aa3a37731100aa159e6d31e6154","value":"79353aa3a37731100aa159e6d31e6154"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/58d65e5a729340ac35dc8fd71d665545","value":"58d65e5a729340ac35dc8fd71d665545"},"sys_update_name":"sys_ws_operation_8bbe86554f770210eb5c01cc32ce0b2d","consumes_customized":"false","name":"Fetch UX Themes","produces":"application/json,application/xml,text/xml","relative_path":"/component/fetch-themes","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var exportSysId = request.pathParams.export_id;\n    var current = new GlideRecord('sysauto_par');\n\tif (!current.get(exportSysId)) {\n\t\tresponse.setStatus(404);\n\t\treturn;\n\t}\n\tif (!current.canRead() || current.getBooleanAttribute('disable_execute_now')) {\n\t\tresponse.setStatus(403);\n\t\treturn;\n\t}\n    gs.executeNow(current);\n})(request, response);","sys_updated_on":"2024-08-26 06:10:59","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"8bce220d078311109fda92c307672bbe","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/par_scheduled_export/execute/{export_id}","sys_created_on":"2022-11-07 10:21:47","sys_name":"Execute Scheduled Export Now","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/9509c0e54e289e08608566160eb606cb","value":"9509c0e54e289e08608566160eb606cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/c3faf7c8536a11107c19ddeeff7b124d","value":"c3faf7c8536a11107c19ddeeff7b124d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"14","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9509c0e54e289e08608566160eb606cb","value":"9509c0e54e289e08608566160eb606cb"},"sys_update_name":"sys_ws_operation_8bce220d078311109fda92c307672bbe","consumes_customized":"false","name":"Execute Scheduled Export Now","produces":"application/json,application/xml,text/xml","relative_path":"/execute/{export_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var pathparams = request.pathParams;\n    var exportSysId = pathparams.export_id;\n\n    var grSysAutoPar = new GlideRecordSecure('sysauto_par');\n    var grParExport = new GlideRecordSecure('par_export');\n    var grNotification = new GlideRecordSecure('par_notification_email');\n\n\n    if (!grSysAutoPar.get(exportSysId)) {\n        var notFoundErr = new sn_ws_err.ServiceError();\n        notFoundErr.setStatus(404);\n        notFoundErr.setMessage('Invalid sys_id : No scheduled job found');\n        response.setError(notFoundErr);\n        return;\n    } else {\n        if (!grSysAutoPar.canDelete()) {\n            var permError = new sn_ws_err.ServiceError();\n            permError.setStatus(403);\n            permError.setMessage('You do not have access to delete the scheduled job');\n            permError.setDetail('You do not have permission to scheduled par export jobs');\n            response.setError(permError);\n            return;\n        }\n        var sysIds = grSysAutoPar.getValue('to_export');\n        var notSysIds = grSysAutoPar.getValue('notification');\n\n        //delete par_export records (both viz and dashboards)\n        grParExport.addQuery('sys_id', 'IN', sysIds);\n        grParExport.query();\n        while (grParExport.next())\n            grParExport.deleteRecord();\n\n        //delete from notification\n        grNotification.addQuery('sys_id', 'IN', notSysIds);\n        grNotification.query();\n        while (grNotification.next())\n            grNotification.deleteRecord();\n\n        //delete from sysAutoPar\n        grSysAutoPar.deleteRecord();\n\n        return {\n            status: 'Successfully deleted the scheduled job'\n        };\n    }\n\n})(request, response);","sys_updated_on":"2024-08-21 05:40:53","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"8beab953a32211107c19be3c16fcdae4","http_method":"DELETE","sys_updated_by":"admin","operation_uri":"/api/now/par_scheduled_export/delete/{export_id}","sys_created_on":"2022-10-20 09:51:19","sys_name":"Delete","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/9509c0e54e289e08608566160eb606cb","value":"9509c0e54e289e08608566160eb606cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/c3faf7c8536a11107c19ddeeff7b124d","value":"c3faf7c8536a11107c19ddeeff7b124d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"9","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9509c0e54e289e08608566160eb606cb","value":"9509c0e54e289e08608566160eb606cb"},"sys_update_name":"sys_ws_operation_8beab953a32211107c19be3c16fcdae4","consumes_customized":"false","name":"Delete","produces":"application/json,application/xml,text/xml","relative_path":"/delete/{export_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Allows everything related to a screen collection to be duplicated","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    const apiHelper = new APIHelper(request, response);\n    const noDomain = apiHelper.getQueryParam('noDomain');\n    const experienceId = apiHelper.getQueryParam('experienceId');\n    const mode = apiHelper.getQueryParam('mode');\n    apiHelper.execute(function() {\n        const {\n\t\t\tscreenCollectionId,\n            screen,\n\t\t\troute\n        } = request.body.data;\n        const result = new Page(noDomain).duplicate(\n\t\t\tscreenCollectionId,\n            screen,\n\t\t\troute\n        );\n        typeof result === 'string' ? apiHelper.respondUnsuccessfully(result) : apiHelper.respondSuccesfully(result);\n    });\n})(request, response);","sys_updated_on":"2024-06-11 14:57:23","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"{\r\n    \"screenCollectionId\": \"SCREEN_COLLECTION_SYSID_YOU_ARE_DUPLCATING\",\r\n    \"screen\": {\r\n        // camelCase name value pairs for fields to be overridden\r\n        \"name\": \"NEW_SCREEN_NAME\"\r\n    },\r\n    \"route\": {\r\n        // camelCase name value pairs for fields to be overridden\r\n        // name and routeType are mandatory or it will go boom\r\n        \"name\": \"NEW_PAGE_NAME\",\r\n        \"routeType\": \"NEW_ROUTE_TYPE\"\r\n    }\r\n}","sys_id":"8c0af41843be0210eeba83020cb8f2fa","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/page/duplicate","sys_created_on":"2024-06-10 20:14:27","sys_name":"Duplicate Page","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_8c0af41843be0210eeba83020cb8f2fa","consumes_customized":"false","name":"Duplicate Page","produces":"application/json,application/xml,text/xml","relative_path":"/page/duplicate","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        const params = request.body.data;\n        const uxaHandler = new UXAHandler();\n        const result = uxaHandler.handleNavigationPathsRequest(params);\n        response.setBody(result);\n        response.setContentType('application/json');\n        response.setStatus(200);\n        return response;\n\n    } catch (error) {\n        response.setStatus(500);\n        response.setError(UXAError.getGenericError(error));\n        return response;\n    }\n})(request, response);","sys_updated_on":"2024-09-29 11:19:35","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/d93d4288ffe7c21024f4ffffffffff52","value":"d93d4288ffe7c21024f4ffffffffff52"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"8c28ee33fd38da50f8776fbdf3476319","http_method":"POST","sys_updated_by":"maint","operation_uri":"/api/sn_uxa_req_manager/v1/uxa_data/navigation-paths","sys_created_on":"2024-09-29 11:19:35","sys_name":"Fetch Navigation Paths","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/e9f5c0d20b620210e8a937009777b2d7","value":"e9f5c0d20b620210e8a937009777b2d7"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_update_name":"sys_ws_operation_8c28ee33fd38da50f8776fbdf3476319","consumes_customized":"false","name":"Fetch Navigation Paths","produces":"application/json,application/xml,text/xml","relative_path":"/navigation-paths","produces_customized":"false","default_operation_uri":"/api/sn_uxa_req_manager/uxa_data/navigation-paths","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar result = {};\n\tvar pathParamsVar = request.pathParams;\n\tvar mapId = pathParamsVar.id;\n\t\n\tvar requestbodyDataObj = request.body.data;\n\tvar filterItemVals = {};\n\tif (JSUtil.notNil(requestbodyDataObj) && JSUtil.notNil(requestbodyDataObj.f_item_val)) {\n\t\tfilterItemVals = requestbodyDataObj.f_item_val;\n\t}\n\t\n\tvar mapInputData = {};\n\tif (JSUtil.notNil(requestbodyDataObj) && JSUtil.notNil(requestbodyDataObj.mapInputData)) {\n\t\tmapInputData = requestbodyDataObj.mapInputData;\n\t}\n\t\n\tresult = global.SNMapHelper.getMapData(mapId, filterItemVals, mapInputData);\n\tif (result) {\n\t\tresponse.setContentType('application/json');\n\t\tresponse.setBody(result);\n\t}\n})(request, response);","sys_updated_on":"2020-03-17 15:22:49","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/3f13ccc1e7e3330078d86188d2f6a9c4","value":"3f13ccc1e7e3330078d86188d2f6a9c4"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"8c334005e7e3330078d86188d2f6a914","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/v1/sn_map/data/{id}","sys_created_on":"2019-08-26 17:15:39","sys_name":"Get Map","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/37e28cc1e7e3330078d86188d2f6a976","value":"37e28cc1e7e3330078d86188d2f6a976"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"33","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7b186b3304f12210559073c06a02f733","value":"7b186b3304f12210559073c06a02f733"},"sys_update_name":"sys_ws_operation_8c334005e7e3330078d86188d2f6a914","consumes_customized":"false","name":"Get Map","produces":"application/json,application/xml,text/xml","relative_path":"/data/{id}","produces_customized":"false","default_operation_uri":"/api/now/sn_map/data/{id}","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar restHandler, result, setupId, pluginCategory, data;\n\t\n\ttry {\n\t\tsetupId = request.pathParams.setup_id;\n\t\tpluginCategory = request.pathParams.plugin_category;\n\t\trestHandler = new SNHelpSetupRestHandler();\n\t\tdata = request.body.data;\n\t\tresult = restHandler.configurePluginsForSetupType(setupId, pluginCategory, data);\n\t\tresponse.setStatus(result.status);\n\t\t\n\t\tif(result.data)\n\t\t\tresponse.setBody(result.data);\n\t\telse\n\t\t\tresponse.setBody({error: result.message || result.error});\n\t\t\n\t} catch (ex) {\n\t\tresponse.setStatus(500);\n\t\tresponse.setBody({error: \"Internal Server Error \" + ex});\n\t}\n\t\n})(request, response);","sys_updated_on":"2022-09-21 07:31:48","enforce_acl":"d0fc8522534a0110f54fddeeff7b123d","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"8c5e2f1f53210110f54fddeeff7b127b","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_ads_setup/build/setup/{setup_id}/plugins/{plugin_category}","sys_created_on":"2022-02-14 04:58:42","sys_name":"Configure plugins for setup type","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/6db6b2ab53444110f54fddeeff7b1232","value":"6db6b2ab53444110f54fddeeff7b1232"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_update_name":"sys_ws_operation_8c5e2f1f53210110f54fddeeff7b127b","consumes_customized":"false","name":"Configure plugins for setup type","produces":"application/json,application/xml,text/xml","relative_path":"/setup/{setup_id}/plugins/{plugin_category}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Converts help resourceid to a help url with version. Redirects to SNC doc site.","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    //\n    // Usage:  api/now/v1/context_doc_url/CSHelp:Variable-Attributes\n    //\n\n    // Redirect response\n    //   303 See Other\n    //   Location: https://docs.servicenow.com/?context=CSHelp:Variable-Attributes&version=kingston\n    // NOTE:\n    //   1) An explicit version in the Resource path is mandatory (best practice).\n    //   2) The Location response-header field is used to redirect the recipient to a location other than the Request-URI\n    //   for completion of the request or identification of a new resource.\n    //   For 3xx responses, the location SHOULD indicate the server's preferred URI for automatic redirection to the resource.\n    //   The field value consists of a single absolute URI.\n    //   https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.30\n\n    //\n    // Obtain the resource parameters\n    //\n    var pathParams = request.pathParams;\n\n    // Sanitize the resource id\n    var tempResourceid = decodeURIComponent(pathParams.resourceid);\n    var tempResourceidSimplePath = \"\" + tempResourceid.split(\"/\")[0];\n    // Sanitize simple path by removing any request parameters\n    var sanitizedResourceId = \"\" + tempResourceidSimplePath.split(\"?\")[0];\n\n    var helpResourceName = \"\" + sanitizedResourceId.split(\"&\")[0];\n\n    // help resourceid path parameter defined?\n    if (helpResourceName) {\n\n        // obtain document site url with release version\n        var url = new SNC.ContextDocAPI().getURLFromName(helpResourceName);\n\n        // Redirect url defined?\n        if (url) {\n            response.setStatus(303);\n            var headers = {};\n            headers.Location = url;\n            response.setHeaders(headers);\n            return;\n        } else\n            return new sn_ws_err.BadRequestError(gs.getMessage(\"Error obtaining url for resource: %s\").replace('%s', helpResourceName));\n\n    }\n\n    // Invalid request - query parameter not defined\n    return new sn_ws_err.BadRequestError(gs.getMessage(\"Relative path resourceid parameter is undefined\"));\n\n})(request, response);","sys_updated_on":"2024-09-16 22:33:40","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/ca2f79187d5bd300964f9e5f1b7cbba1","value":"ca2f79187d5bd300964f9e5f1b7cbba1"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"8d6ff9187d5bd300964f9e5f1b7cbb0f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/context_doc_url/{resourceid}","sys_created_on":"2018-07-10 15:47:05","sys_name":"ContextDocURLService","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"ardis.maison","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/49ee39187d5bd300964f9e5f1b7cbbad","value":"49ee39187d5bd300964f9e5f1b7cbbad"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"false","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d908efff04b12210559073c06a02f767","value":"d908efff04b12210559073c06a02f767"},"sys_update_name":"sys_ws_operation_8d6ff9187d5bd300964f9e5f1b7cbb0f","consumes_customized":"false","name":"ContextDocURLService","produces":"application/json,application/xml,text/xml","relative_path":"/{resourceid}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var appManagerApiUtil = new AppManagerApiUtil(request, response);\n    try {\n        var args = appManagerApiUtil.getRequestParams();\n        var requestBody = appManagerApiUtil.getRequestBody();\n        if (!requestBody)\n            return;\n        var dependencies = requestBody.dependencies;\n        var scope = args.queryParams['scope'];\n        var jumboConfig = requestBody.jumbo_config;\n        var firstLevelOnly = args.queryParams['first_level_only'] ? args.queryParams['first_level_only'] == 'true' : true;\n        var dependencyInfo;\n        if (!jumboConfig)\n            dependencyInfo = new DependencyProcessor(scope, false, firstLevelOnly).processDependency(dependencies.split(\",\"));\n        else {\n            var listingDependencies = dependencies ? dependencies : \"\";\n            var primarDependencyString = jumboConfig[0].hard_dependencies ? jumboConfig[0].hard_dependencies : \"\",\n                softDependencyString = jumboConfig[0].soft_dependencies ? jumboConfig[0].soft_dependencies : \"\",\n                optionalDependencyString = jumboConfig[0].optional_dependencies ? jumboConfig[0].optional_dependencies : \"\",\n                conditionalDependenciesString = jumboConfig[0].conditional_dependencies ? jumboConfig[0].conditional_dependencies : \"\",\n                primaryDepdendencies = [],\n\t\t\t\tsoftDependencies = [],\n                optionalDepdendencies = [],\n                conditionalDependencies = [],\n                finalDependencies = [];\n\t\t\tvar listingDependencyProcessor = new DependencyProcessor(scope, false, false);\n\t\t\tvar firstLevelDependencyProcessor = new DependencyProcessor(scope, false, true);\n\t\t\tfirstLevelDependencyProcessor.setEnforceInstalledAppNullVersionCheck(true);\n\t\t\tlistingDependencyProcessor.setAppV2SourceAppId(jumboConfig[0].source_app_id);\n\t\t\tif (primarDependencyString) {\n                primaryDepdendencies =  firstLevelDependencyProcessor.processDependency(primarDependencyString.split(\",\"));\n                for (var i = 0; i < primaryDepdendencies.length; i++)\n                    primaryDepdendencies[i].dependency_type = \"hard\";\n            }\n            if (softDependencyString)  {\n\t\t\t\tlistingDependencyProcessor.addToSoftDependency(softDependencyString);\n\t\t\t}\n\t\t\tif (optionalDependencyString) {\n                optionalDepdendencies =  firstLevelDependencyProcessor.processDependency(optionalDependencyString.split(\",\"));\n                for (var i = 0; i < optionalDepdendencies.length; i++)\n                    optionalDepdendencies[i].dependency_type = \"optional\";\n            }\n\t\t\tif (conditionalDependenciesString)\n\t\t\t\tlistingDependencyProcessor.addToConditionalDependencies(conditionalDependencies);\n            listingDependencies = listingDependencies ? listingDependencies.concat(\",\" + primarDependencyString) : primarDependencyString;\n            var selectedOptionals = jumboConfig[0].selected_options;\n            if (selectedOptionals.length > 0)\n                listingDependencies = listingDependencies.concat(\",\" + selectedOptionals.toString());\n\n            if (listingDependencies) {\n                finalDependencies = listingDependencyProcessor.processDependency(listingDependencies.split(\",\"));\n                for (var i = 0; i < finalDependencies.length; i++)\n                    finalDependencies[i].dependency_type = \"listing_dependencies\";\n            }\n            dependencyInfo = primaryDepdendencies.concat(softDependencies).concat(optionalDepdendencies).concat(finalDependencies).concat(conditionalDependencies);\n        }\n        appManagerApiUtil.setResponseBody(dependencyInfo);\n    } catch (err) {\n        appManagerApiUtil.setError(err);\n    }\n})(request, response);","sys_updated_on":"2023-10-04 09:25:33","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/be08b89397b0d1104b593f0e6253afe1","value":"be08b89397b0d1104b593f0e6253afe1"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"8e3e947644c31510f877ab6a7f91c2d4","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_appclient/v1/appmanager/dependencies","sys_created_on":"2022-11-12 10:20:56","sys_name":"GetDependencyInfo","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7ea1fc5f9770d1104b593f0e6253af99","value":"7ea1fc5f9770d1104b593f0e6253af99"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"31","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_update_name":"sys_ws_operation_8e3e947644c31510f877ab6a7f91c2d4","consumes_customized":"false","name":"GetDependencyInfo","produces":"application/json,application/xml,text/xml","relative_path":"/dependencies","produces_customized":"false","default_operation_uri":"/api/sn_appclient/appmanager/dependencies","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\n  var controller = new GTAnalyticsController();\n  controller.handlePost(request.body.data, function(err, data) {\n    if (err) {\n      response.setBody({msg: data.msg || ''}).setStatus(500);\n    } else {\n      response\n        .setBody(data)\n        .setStatus(200);\n    }\n  });\n\n})(request, response);","sys_updated_on":"2018-07-27 08:01:01","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/3268f36173eb13007077edcc5ef6a738","value":"3268f36173eb13007077edcc5ef6a738"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"8e55594d87e73200b38c0f4c59cb0b94","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/v1/guided_tours/analytics","sys_created_on":"2017-06-22 14:31:27","sys_name":"Analytics - Save events","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/2405194d87e73200b38c0f4c59cb0b6f","value":"2405194d87e73200b38c0f4c59cb0b6f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/183b677304352210559073c06a02f7e1","value":"183b677304352210559073c06a02f7e1"},"sys_update_name":"sys_ws_operation_8e55594d87e73200b38c0f4c59cb0b94","consumes_customized":"false","name":"Analytics - Save events","produces":"application/json,application/xml,text/xml","relative_path":"/analytics","produces_customized":"false","default_operation_uri":"/api/now/guided_tours/analytics","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var wizId = new GlideappWizardIntercept(request.queryParams.path).get();\n    response.setBody({'wizId' : wizId});\n\t\n    return;\n\n})(request, response);","sys_updated_on":"2019-11-27 08:39:44","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"8ea8cdb6535100101dccddeeff7b1225","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/wizard_intercept/wizId","sys_created_on":"2019-11-27 08:37:59","sys_name":"GetWizId","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/6518cdb6535100101dccddeeff7b1214","value":"6518cdb6535100101dccddeeff7b1214"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_8ea8cdb6535100101dccddeeff7b1225","consumes_customized":"false","name":"GetWizId","produces":"application/json,application/xml,text/xml","relative_path":"/wizId","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar rosterSysId = request.body.data.roster_sys_id + \"\";\n\tif (!rosterSysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Roster id not provided\");\n\n\tvar rosterGr = new GlideRecord(\"cmn_rota_roster\");\n\tif (rosterGr.get(rosterSysId)) {\n\t\t// only group managers and rota admin can delete the roster.\n\t\tif (new OnCallSecurityNG().rotaMgrAccess(rosterGr.rota.group + \"\"))\n\t\t\trosterGr.deleteRecord();\n\t\telse\n\t\t\treturn getSecurityConstraintError();\n\t}\n\n\tfunction getSecurityConstraintError() {\n\t\tvar respError = new sn_ws_err.ServiceError();\n\t\trespError.setStatus(403);\n\t\trespError.setMessage(\"Security constraints prevent this operation\");\n\t\treturn respError;\n\t}\n\n\treturn;\n\n})(request, response);","sys_updated_on":"2019-05-15 11:58:01","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"8eaf0df973e72300cbb654eb7df6a73a","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/creation_wizard/deleteRoster","sys_created_on":"2019-02-11 10:38:15","sys_name":"deleteRoster","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_8eaf0df973e72300cbb654eb7df6a73a","consumes_customized":"false","name":"deleteRoster","produces":"application/json,application/xml,text/xml","relative_path":"/creation_wizard/deleteRoster","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    if (!gs.hasRole(\"security_admin\")) {\n                var accessRestrictedError = new sn_ws_err.ServiceError();\n                accessRestrictedError.setStatus(403);\n                accessRestrictedError.setMessage(gs.getMessage(\"Insufficent privileges to get progress state\"));\n                response.setError(accessRestrictedError);\n\n                return;\n        }\n\n        if (!request.pathParams.workerId) {\n                response.setError(new sn_ws_err.BadRequestError(gs.getMessage('request is missing progress id')));\n\n                return;\n        }\n\n        var progressWorkerGR = new GlideRecord('sys_progress_worker');\n        progressWorkerGR.get(request.pathParams.workerId);\n        if (!progressWorkerGR.isValidRecord()) {\n                return new sn_ws_err.BadRequestError(gs.getMessage('progress information not available'));\n        }\n\n        var progressState = progressWorkerGR.getValue('state');\n        if (progressState == 'cancelled')\n                return new sn_ws_err.BadRequestError(gs.getMessage('progress worker cancelled'));\n\n        return { \"progressState\": progressState };\n\n})(request, response);","sys_updated_on":"2022-05-12 17:44:32","enforce_acl":"8823b1de778230106407f0ec8e5a99d6","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"8eb9f438771301100b9df0ec8e5a99e4","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/passwordexclusionlist/progress_worker_state/{workerId}","sys_created_on":"2022-05-03 21:19:14","sys_name":"progressWorkerState","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/87045d89770230106407f0ec8e5a9974","value":"87045d89770230106407f0ec8e5a9974"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f915e73304712210559073c06a02f7e1","value":"f915e73304712210559073c06a02f7e1"},"sys_update_name":"sys_ws_operation_8eb9f438771301100b9df0ec8e5a99e4","consumes_customized":"false","name":"progressWorkerState","produces":"application/json,application/xml,text/xml","relative_path":"/progress_worker_state/{workerId}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar apn = new AJAXManualPageInspector();\n\tvar name = request.queryParams.sysparm_name || '';\n\tvar limit = Number(request.queryParams.sysparm_limit) || 20;\n\tvar offset = Number(request.queryParams.sysparm_offset) || 0;\n\t\n\tvar res = apn.getUIPagesName({name:name, limit:limit, offset:offset});\n\tif(res.data && res.data.length){\n\t\tresponse.setBody(res);\n\t\tresponse.setStatus(200);\n\t}else{\n\t\tresponse.setBody({data:[],totalRecords:0});\n\t\tresponse.setStatus(200);\n\t}\n\n})(request, response);","sys_updated_on":"2019-04-18 23:31:50","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"8ecabda6cb602300edc0fcd5634c9cd9","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/page_inspector/manual_page_inspector/ui_page_names","sys_created_on":"2018-09-17 18:30:26","sys_name":"Custom UI Pages ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/94bafda6cb602300edc0fcd5634c9c2e","value":"94bafda6cb602300edc0fcd5634c9c2e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18792f3b04f12210559073c06a02f71d","value":"18792f3b04f12210559073c06a02f71d"},"sys_update_name":"sys_ws_operation_8ecabda6cb602300edc0fcd5634c9cd9","consumes_customized":"false","name":"Custom UI Pages ","produces":"application/json,application/xml,text/xml","relative_path":"/manual_page_inspector/ui_page_names","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    response.setContentType('application/json');\n\tvar result = [];\n\tvar queryParams = request.queryParams;\n\t\n\tvar grs = new GlideRecordSecure(\"cmdb_model\");\n\tgrs.addEncodedQuery(\"nameSTARTSWITH\" + queryParams.term + \"^ORdisplay_nameSTARTSWITH\" + queryParams.term);\n\tif(queryParams.encoded_query){\n\t\tgrs.addEncodedQuery(queryParams.encoded_query);\n\t}\n\tgrs.query();\n\t\n\twhile(grs.hasNext()){\n\t\tgrs.next();\n\t\tvar name = !grs.display_name.nil() ? grs.getValue(\"display_name\") : grs.getValue(\"name\");\n\t\tresult.push({sys_id: grs.getValue(\"sys_id\"), name: name});\n\t}\n\n\tresponse.setStatus(200);\n\tresponse.setBody(result);\n\t\n})(request, response);","sys_updated_on":"2020-06-09 22:03:25","enforce_acl":"edc5e02473230010ee4dd3c72bf6a7ea","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"8ee3d75473230010ee4dd3c72bf6a747","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/csdm_app_service/search_model_id","sys_created_on":"2020-03-10 20:42:32","sys_name":"Get Model Ids","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/60c171d973c30010ee4dd3c72bf6a716","value":"60c171d973c30010ee4dd3c72bf6a716"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2f8d67ff04352210559073c06a02f74f","value":"2f8d67ff04352210559073c06a02f74f"},"sys_update_name":"sys_ws_operation_8ee3d75473230010ee4dd3c72bf6a747","consumes_customized":"false","name":"Get Model Ids","produces":"application/json,application/xml,text/xml","relative_path":"/search_model_id","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Retrieves details of a specific catalog item","sys_updated_on":"2018-08-25 00:21:26","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"8f017f03c3330200d68d3b0ac3d3ae18","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/items/{sys_id}","sys_created_on":"2015-11-23 04:39:54","sys_name":"Specific Catalog Item","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"18","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_8f017f03c3330200d68d3b0ac3d3ae18","consumes_customized":"false","name":"Specific Catalog Item","produces":"application/json,application/xml,text/xml","relative_path":"/items/{sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/items/{sys_id}","sys_policy":"protected"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t// AI Search Assist does not currently support custom actions. This is for internal use only.\n\t\n\tvar SC_CAT_ITEM_GUIDE = 'sc_cat_item_guide';\n\n\tvar data = request.body.data;\n\tvar className = data.className;\n\tvar sysId = data.sysId;\n\tvar spOrderLink = '';\n\tvar referrerParam = '&referrer=ai_search_assist';\n\tif (SC_CAT_ITEM_GUIDE.equals(className))\n\t\tspOrderLink = 'id=' + SC_CAT_ITEM_GUIDE;\n\telse\n\t\tspOrderLink = 'id=sc_cat_item';\n\tspOrderLink = spOrderLink + '&sys_id=' + sysId + referrerParam;\n\tvar result = {\n\t\tactionType: 'OPEN_LINK_CURRENT_TAB',\n\t\tforceRedirect: false,\n\t\tlinkValue: spOrderLink\n\t};\n\tresponse.setBody(result);\n\n})(request, response);","sys_updated_on":"2024-01-02 16:02:47","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"8f20018567b21010b3d782f45685ef32","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/aisa_action/sc_cat_item_order","sys_created_on":"2020-08-21 07:18:53","sys_name":"Order [sc_cat_item]","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/efdf7c4567b21010b3d782f45685ef1a","value":"efdf7c4567b21010b3d782f45685ef1a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"14","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e4dd6b3304752210559073c06a02f70c","value":"e4dd6b3304752210559073c06a02f70c"},"sys_update_name":"sys_ws_operation_8f20018567b21010b3d782f45685ef32","consumes_customized":"false","name":"Order [sc_cat_item]","produces":"application/json,application/xml,text/xml","relative_path":"/sc_cat_item_order","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"var EMBED_KB_LINK = 'embed_link';\nvar EMBED_KB_ARTICLE = 'embed_article';\n\n(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar payload = request.body.data;\n\n\t// If there's no payload and no query parameter we can return an error.\n\tif (JSUtil.isEmpty(payload))\n\t\treturn new sn_ws_err.BadRequestError(\"No Query String provided\");\n\n\tif (payload.displayed_on.startsWith('workspace')) {\n\t\tvar sourceDoc = payload.source_doc.split(':');\n\t\tvar relevantDoc = payload.relevant_doc.split(':');\n\t\tvar action = payload.relevance;\n\t\tvar relevant = payload.relevant;\n\t\tvar relevantDocTable = relevantDoc[0];\n\t\t//PRB1366409: Treat answer as a question to fetch the link of the entire discussion.\n\t\tif(relevantDocTable && relevantDocTable === 'kb_social_qa_answer')\n\t\t\trelevantDocTable = 'kb_social_qa_question';\n\t\t\n\t\twriteToActivityStream(sourceDoc[0], sourceDoc[1], relevantDocTable, relevantDoc[1], action, relevant);\n\t}\n\n\tvar json = new JSON();\n\tvar JSONObject = json.encode(payload);\n\tvar feedbackRequest = new SNC.FeedbackRequest().fromJSON(JSONObject);\n\tvar feedbackResponse = feedbackRequest.submit();\n\tvar feedbackResponseObj = json.decode(feedbackResponse.toJSON());\n\tresponse.setBody(feedbackResponseObj);\n\n})(request, response);\n\nfunction writeToActivityStream(sourceDocTable, sourceDocId, relevantDocTable, relevantDocId, action, relevant) {\n\tvar content = null;\n\tvar field = null;\n\tvar attachment = null;\n\tvar currentUser = gs.getUser();\n\tif (relevantDocTable === 'kb_knowledge' && action === 'attach') {\n\t\t//attach action is handled by feedback on modal submit. \n\t\tif (!relevant) {\n\t\t\tattachment = new cxs_Knowledge().getArticleInfoInternal(relevantDocId, EMBED_KB_LINK);\n\t\t\tcontent = gs.getMessage(\"{0} unattached the following article:\\n{1}\", [currentUser.getDisplayName(), attachment.article.content]);\n\t\t\tfield = 'work_notes';\n\t\t}\n\t} else if (action === 'This helped') {\n\t\tvar itemType = \"\";\n\t\tif (relevantDocTable === 'kb_knowledge') {\n\t\t\tattachment = new cxs_Knowledge().getArticleInfoInternal(relevantDocId, EMBED_KB_LINK);\n\t\t\titemType = gs.getMessage(\"article\");\n\t\t} else if (relevantDocTable === 'kb_social_qa_question' || relevantDocTable === 'kb_social_qa_answer') {\n\t\t\tattachment = new cxs_Knowledge().getSocialQAInternal(relevantDocTable,relevantDocId, EMBED_KB_LINK);\n\t\t\titemType = gs.getMessage('{0}', attachment.contentType);\n\t\t} else if (relevantDocTable === 'sn_communities_blog') {\n\t\t\tattachment = new cxs_Knowledge().getCommunityBlogInternal(relevantDocId, EMBED_KB_LINK);\n\t\t\titemType = gs.getMessage(\"blog\");\n\t\t} else\n\t\t\treturn null;\n\n\t\tif (relevant)\n\t\t\tcontent = gs.getMessage(\"{0} marked the following {1} as helpful:\\n{2}\", [currentUser.getDisplayName(), itemType, attachment.article.content]);\n\t\telse\n\t\t\tcontent = gs.getMessage(\"{0} no longer finds the {1} helpful:\\n{2}\", [currentUser.getDisplayName(), itemType, attachment.article.content]);\n\t\tfield = 'work_notes'; //This help always go into work_note\n\t}\n\tif (!content)\n\t\treturn null;\n\n\t/*\n\t * Decide where to send the attachment content:\n\t * * if, attaching an article, return to client, for further actions\n\t * * otherwise, directly into activity stream\n\t * * return null means do nothing on client side\n\t */\n\tif (!(relevantDocTable === 'kb_knowledge' && action === 'attach' && relevant))\n\t\tnew cxs_ActivityStream().insertActivity(sourceDocTable, sourceDocId, content, field);\n\treturn null;\n}","sys_updated_on":"2024-01-02 14:07:41","enforce_acl":"8ac76f2c53233110610bddeeff7b123b","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"8f7dcc87b33203002bf182c136a8dc90","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/cxs/action_handler","sys_created_on":"2017-12-07 04:26:03","sys_name":"action_handler","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7e534526d722220034d145bcce6103fa","value":"7e534526d722220034d145bcce6103fa"},"consumes":"application/json","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"12","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5209e3b704f12210559073c06a02f734","value":"5209e3b704f12210559073c06a02f734"},"sys_update_name":"sys_ws_operation_8f7dcc87b33203002bf182c136a8dc90","consumes_customized":"false","name":"action_handler","produces":"application/json","relative_path":"/action_handler","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar params =   request.queryParams;\n\tvar bsId = String(params[\"bs_id\"][0]);\n\t\n\tvar domainProvider = new CiDomainIdProvider();\n\tvar domain = domainProvider.getDomainId(bsId);\n\treturn String(domain);\n\n})(request, response);","sys_updated_on":"2018-03-05 12:48:31","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"8fed239c93573200443674aff67ffb10","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/manual_ci/getBSDomainId","sys_created_on":"2017-06-08 07:25:06","sys_name":"getBSDomainId","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/be2cb28393a23200443674aff67ffba6","value":"be2cb28393a23200443674aff67ffba6"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"28","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_8fed239c93573200443674aff67ffb10","consumes_customized":"false","name":"getBSDomainId","produces":"application/json,application/xml,text/xml","relative_path":"/getBSDomainId","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar entryPointParams = JSON.stringify(request.body.data.entryPointParams);\n\treturn (new SNC.BusinessServiceManager()).getEntryPointConnectivity(entryPointParams);\n})(request, response);","sys_updated_on":"2017-06-07 15:23:15","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"8ff7c68067933200dde22dbd2685efa0","http_method":"GET","sys_updated_by":"ola.shaked","operation_uri":"/api/now/sa_business_service/getEntryPointConnectivity","sys_created_on":"2017-06-07 05:28:00","sys_name":"Get Entry Point Connectivity","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/f8f0abda9f0232004db75ecec32e7027","value":"f8f0abda9f0232004db75ecec32e7027"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_8ff7c68067933200dde22dbd2685efa0","consumes_customized":"false","name":"Get Entry Point Connectivity","produces":"application/json,application/xml,text/xml","relative_path":"/getEntryPointConnectivity","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var options = TBUtil.assign({},\n        request.pathParams,\n        TBUtil.normalizeQueryParams(request.queryParams)\n    );\n    var apiResponse = new APIRequestProcessor(APIRequestProcessor.REQUEST_TABLE_STRUCTURE_DATA, options).build();\n\n    response.setBody(apiResponse);\n})(request, response);","sys_updated_on":"2020-08-11 09:45:16","enforce_acl":"f70e338e73f110107419c907fbf6a733","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"8ffe0d5273b510107419c907fbf6a709","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_table_builder/app/table_structure/{sysId}/{perspective}","sys_created_on":"2020-07-06 12:31:38","sys_name":"Table Structure API","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f53f19bac362fa22ca2e93692d32f18f","value":"f53f19bac362fa22ca2e93692d32f18f"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/72cd338e73f110107419c907fbf6a730","value":"72cd338e73f110107419c907fbf6a730"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f53f19bac362fa22ca2e93692d32f18f","value":"f53f19bac362fa22ca2e93692d32f18f"},"sys_update_name":"sys_ws_operation_8ffe0d5273b510107419c907fbf6a709","consumes_customized":"false","name":"Table Structure API","produces":"application/json,application/xml,text/xml","relative_path":"/table_structure/{sysId}/{perspective}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    const LOG = new Logger(`GET:/api/sn_udc/v1/applications`);\n    try {\n        const params = UDCUtil.assign({},\n            UDCUtil.normalizeQueryParams(request.queryParams)\n        );\n        const validatedQueryParams = ApplicationService.validateQueryParams(params);\n        return ApplicationService.getApplicationList(validatedQueryParams);\n    } catch (error) {\n        LOG.error(`Failed to send application list: ${error.toString()}`);\n        return response.setError(new sn_ws_err.BadRequestError(error.toString()));\n    }\n})(request, response);","sys_updated_on":"2024-04-04 18:36:39","enforce_acl":"c634a3a0a392311018d4189b66fcda72","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/bdb69aae38590610f877e7be24350541","value":"bdb69aae38590610f877e7be24350541"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"90074becbd590e10f877b7c0f70feaa1","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_udc/v1/applications","sys_created_on":"2024-03-29 11:34:04","sys_name":"Get All Apps ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/8ac50768bd590e10f877b7c0f70fea90","value":"8ac50768bd590e10f877b7c0f70fea90"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"19","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_update_name":"sys_ws_operation_90074becbd590e10f877b7c0f70feaa1","consumes_customized":"false","name":"Get All Apps ","produces":"application/json,application/xml,text/xml","relative_path":"/","produces_customized":"false","default_operation_uri":"/api/sn_udc/applications","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var reportId = request.pathParams.report_id;\n\n    try {\n        var fieldAliases = SNC.ReportAlias.getAllAliases(reportId);\n        var result = JSON.parse(fieldAliases);\n\n        response.setBody(result);\n\n        response.setContentType('application/json');\n        response.setStatus(200);\n        return response;\n    } catch (e) {\n        //convert the exception to response.\n        var ex = e + '';\n        var errorResponse = new sn_ws_err.ServiceError();\n        errorResponse.setMessage(ex);\n\n        if (ex.indexOf('IllegalArgumentException') > 0)\n            errorResponse.setStatus(400);\n        else if (ex.indexOf('ACLException') > 0)\n            errorResponse.setStatus(403);\n        else\n            errorResponse.setStatus(500);\n\n        return errorResponse;\n    }\n\n})(request, response);","sys_updated_on":"2020-02-10 14:32:07","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"904748c4b73100108e2aee90ee11a9a8","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/reporting_alias/{report_id}","sys_created_on":"2019-12-13 12:31:21","sys_name":"Get Report Field and Value Aliases","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/313640c4b73100108e2aee90ee11a9b5","value":"313640c4b73100108e2aee90ee11a9b5"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"false","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fb08e33304f12210559073c06a02f7a6","value":"fb08e33304f12210559073c06a02f7a6"},"sys_update_name":"sys_ws_operation_904748c4b73100108e2aee90ee11a9a8","consumes_customized":"false","name":"Get Report Field and Value Aliases","produces":"application/json,application/xml,text/xml","relative_path":"/{report_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        var res = new sn_wn.WhatsNewAPIHandler().handleMenuPageRequest(request.body.data);\n        response.setStatus(res.status);\n        response.setBody(res);\n    } catch (e) {\n        var exp = new sn_ws_err.BadRequestError(e + \"\");\n        response.setError(exp);\n    }\n})(request, response);","sys_updated_on":"2023-09-20 13:30:53","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"90910bcb0b1531109dae8a8db777b2ab","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_wn/whats_new/menu_page","sys_created_on":"2023-09-20 09:26:26","sys_name":"Menu page","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cb08e377eb9071106fb3951ff15228b8","value":"cb08e377eb9071106fb3951ff15228b8"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/8f25234477703110878cd30e5b5a994c","value":"8f25234477703110878cd30e5b5a994c"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cb08e377eb9071106fb3951ff15228b8","value":"cb08e377eb9071106fb3951ff15228b8"},"sys_update_name":"sys_ws_operation_90910bcb0b1531109dae8a8db777b2ab","consumes_customized":"false","name":"Menu page","produces":"application/json,application/xml,text/xml","relative_path":"/menu_page","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    const {\n        ComponentBuilder\n    } = require('@servicenow/sn-cb-api');\n    const componentBuilder = new ComponentBuilder(response);\n\n    try {\n        const {\n            queryParams: {\n                sysId: [id]\n            }\n        } = request;\n        const ret = componentBuilder.getComponent(id);\n\n        return componentBuilder.getSuccessResponse(ret);\n    } catch (e) {\n        return componentBuilder.getErrorResponse(e.message);\n    }\n})(request, response);","sys_updated_on":"2024-03-11 22:13:38","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"90b572e3a37731100aa159e6d31e6169","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_cb_api/componentbuilder/component","sys_created_on":"2024-01-24 04:25:07","sys_name":"Component","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/58d65e5a729340ac35dc8fd71d665545","value":"58d65e5a729340ac35dc8fd71d665545"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/79353aa3a37731100aa159e6d31e6154","value":"79353aa3a37731100aa159e6d31e6154"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"15","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/58d65e5a729340ac35dc8fd71d665545","value":"58d65e5a729340ac35dc8fd71d665545"},"sys_update_name":"sys_ws_operation_90b572e3a37731100aa159e6d31e6169","consumes_customized":"false","name":"Component","produces":"application/json,application/xml,text/xml","relative_path":"/component","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\ttry {\n\t\tvar suggestionsService = new SuggestionsService();\n\t\tvar table = request.queryParams.table[0];\n\t\tvar query = request.queryParams.query[0];\n\t\tvar fields = request.queryParams.fields || [];\n\t\t\n\t\tif (!table) {\n\t\t\tthrow new Error('Table parameter is required');\n\t\t}\n\t\t\n\t\tif (!query) {\n\t\t\tthrow new Error('Query parameter is required');\n\t\t}\n\n\t\treturn suggestionsService.getSuggestions(table, query);\n\t} catch (error) {\n\t\tnew ErrorHandler().throwSnWsError(error);\n\t}\n})(request, response);","sys_updated_on":"2025-01-13 16:56:44","enforce_acl":"4bbe81b4c703201066492f3bf4c260e6","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9166301253940210010eddeeff7b1212","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_mab_api/mab_api/suggestions","sys_created_on":"2024-02-13 18:27:36","sys_name":"Get Suggestions","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3512bd93c7c12010100f2f3bf4c26049","value":"3512bd93c7c12010100f2f3bf4c26049"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"15","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_update_name":"sys_ws_operation_9166301253940210010eddeeff7b1212","consumes_customized":"false","name":"Get Suggestions","produces":"application/json,application/xml,text/xml","relative_path":"/suggestions","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var tableName = request.pathParams.table_name;\n\n    try {\n        var result = {};\n        var tableDescription = SNC.TableAndFieldDescription.getTableDescription(tableName);\n        result.description = tableDescription;\n\n        response.setStatus(200);\n        response.setBody(result);\n        return response;\n    } catch (e) {\n        //convert the exception to response.\n        var ex = e + '';\n        var errorResponse = new sn_ws_err.ServiceError();\n        errorResponse.setMessage(ex);\n\n        if (ex.indexOf('IllegalArgumentException') > 0)\n            errorResponse.setStatus(400);\n        else if (ex.indexOf('ACLException') > 0)\n            errorResponse.setStatus(403);\n        else\n            errorResponse.setStatus(500);\n\n        return errorResponse;\n    }\n\n})(request, response);","sys_updated_on":"2020-01-22 17:28:44","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9187b450b7620010afd28c41de11a905","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/reporting_table_description/{table_name}","sys_created_on":"2020-01-20 16:18:45","sys_name":"Get Table Description","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5d37b050b7620010afd28c41de11a9e6","value":"5d37b050b7620010afd28c41de11a9e6"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"18","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fb08e33304f12210559073c06a02f7a6","value":"fb08e33304f12210559073c06a02f7a6"},"sys_update_name":"sys_ws_operation_9187b450b7620010afd28c41de11a905","consumes_customized":"false","name":"Get Table Description","produces":"application/json,application/xml,text/xml","relative_path":"/{table_name}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n\tvar meetingId = request.pathParams.meetingId;\n\tvar userId = request.pathParams.userId;\n\t\n\tif (!meetingId)\n\t\treturn new sn_ws_err.BadRequestError(\"Meeting id not provided\");\n\n\tif (!userId)\n\t\treturn new sn_ws_err.BadRequestError(\"Attendee id not provided\");\n\t\n\tvar cabMeetingGr = new GlideRecord(CAB.MEETING);\n\tif (!cabMeetingGr.get(meetingId))\n\t\treturn new sn_ws_err.NotFoundError(\"Meeting record not found\");\n\t\n\tvar userGr = new GlideRecord(\"sys_user\");\n\tif (!userGr.get(userId))\n\t\treturn new sn_ws_err.NotFoundError(\"User record not found\");\n\t\n\t// If our meeting isn't in progress then we don't need to update the attendees\n\tif (cabMeetingGr.getValue(\"state\") != \"in_progress\")\n\t\treturn;\n\t\n\tvar cabAttendeeGr = new GlideRecord(CAB.ATTENDEE);\n\tcabAttendeeGr.addQuery(\"cab_meeting\", meetingId);\n\tcabAttendeeGr.addQuery(\"attendee\", userId);\n\tcabAttendeeGr.query();\n\t\n\tvar cabAttendee;\n\tif (!cabAttendeeGr.next()) {\n\t\tcabAttendee = CABAttendee.newAttendee(userGr);\n\t\tcabAttendee.setValue(\"cab_meeting\", meetingId);\n\t\tcabAttendee.setValue(\"attendance\", \"attending\");\n\t} else\n\t\tcabAttendee = new CABAttendee(cabAttendeeGr);\n\t\t\n\tcabAttendee.joinedMeeting();\n\tif (!cabAttendee.update())\n\t\treturn new sn_ws_err.ServiceError().setMessage(\"Failed to update attendee record\");\n\n\tvar retVal = cabAttendee.toJS();\n\n\tresponse.setBody(retVal);\t\n})(request, response);","sys_updated_on":"2018-01-11 15:41:49","enforce_acl":"ee9fb61a232303001488dc1756bf658b","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"91d4bfc6eb2022002a7a666cd206feba","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_change_cab/cab/attendee/joinedmeeting/{meetingId}/{userId}","sys_created_on":"2016-07-13 05:20:28","sys_name":"User joined meeting","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/cf65d305eb10220034d1eeea1206fe55","value":"cf65d305eb10220034d1eeea1206fe55"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_update_name":"sys_ws_operation_91d4bfc6eb2022002a7a666cd206feba","consumes_customized":"false","name":"User joined meeting","produces":"application/json,application/xml,text/xml","relative_path":"/attendee/joinedmeeting/{meetingId}/{userId}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\n\tvar receivedParams = request.pathParams;\n    var sys_id = receivedParams.sys_id;\n\tif (gs.nil(sys_id)) {\n        response.setError(new sn_ws_err.BadRequestError(gs.getMessage('Missing required parameters')));\n    }\n\telse {\n        try {\n            var interactionResponse = {};\n            var guidanceConstants = new GuidanceConstants();\n            var current = new GlideRecordSecure(guidanceConstants.GUIDANCE_TABLE);\n            if (!current.get(sys_id)) {\n                response.setError(new sn_ws_err.NotFoundError(gs.getMessage('Could not fetch form fields details for Guidance')));\n                return;\n            }\n\n            var guidanceModel = new sn_gd_guidance.GuidedDecisionsGuidanceModel();\n            var inputFormFields = guidanceModel.getformDetails(sys_id,'INPUTS');\n            var outputFormFields = guidanceModel.getformDetails(sys_id,'OUTPUTS');\n            var formDetails = {\n\t\t\t\tinputs : inputFormFields,\n\t\t\t\toutputs : outputFormFields\n\t\t\t}\n\t\t\t\n            if (formDetails) {\n                interactionResponse.formDetails = formDetails;\n                response.setBody(interactionResponse);\n                response.setStatus(200);\n            } else {\n\t\t\t\tvar errObj = new sn_ws_err.ServiceError();\n                errObj.setStatus(500);\n                errObj.setMessage(gs.getMessage('Error fetching guidance form fields details'));\n                errObj.setDetail(gs.getMessage('Refer error logs for details'));\n                response.setError(errObj);\n\t\t\t}\n\n        } catch (err) {\n            var customErrObj = new sn_ws_err.ServiceError();\n            customErrObj.setStatus(500);\n            customErrObj.setMessage(gs.getMessage('Error fetching guidance form fields details'));\n            response.setError(customErrObj);\n            gs.error(JSON.stringify(err));\n        }\n    }\n\n})(request, response);","sys_updated_on":"2022-11-07 06:23:10","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"91ef61c9f1031510f8773f0c35d4b0a8","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_gd_guidance/guided_decisions_guidance_api/guidance_form_fields/{sys_id}","sys_created_on":"2022-11-07 05:49:50","sys_name":"Get Guidance Form Fields","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/fd76ed5a3b570010119c870044efc470","value":"fd76ed5a3b570010119c870044efc470"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3bcffc6677c81010d7159b71a91061df","value":"3bcffc6677c81010d7159b71a91061df"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fd76ed5a3b570010119c870044efc470","value":"fd76ed5a3b570010119c870044efc470"},"sys_update_name":"sys_ws_operation_91ef61c9f1031510f8773f0c35d4b0a8","consumes_customized":"false","name":"Get Guidance Form Fields","produces":"application/json,application/xml,text/xml","relative_path":"/guidance_form_fields/{sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar user = request.body.data.user;\n\tvar dashboard = new NotificationDashboard();\n\tresponse.setBody(dashboard.getTopNotificationsForARecipient(user, request.body.data));\n\n})(request, response);","sys_updated_on":"2024-09-19 16:43:22","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"92325478fffc1e10ac42fbd38c4fd9e6","http_method":"POST","sys_updated_by":"rajesh.tatikonda@snc","operation_uri":"/api/snc/notification_dashboard/notifications/email/top/notifications_for_a_recipient","sys_created_on":"2024-09-19 16:43:22","sys_name":"TopNotificationsForARecipient","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"rajesh.tatikonda@snc","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/a5ea2ec8ffec5a10ac42fbd38c4fd9fb","value":"a5ea2ec8ffec5a10ac42fbd38c4fd9fb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fa85f980ff6c5a10ac42fbd38c4fd9bd","value":"fa85f980ff6c5a10ac42fbd38c4fd9bd"},"sys_update_name":"sys_ws_operation_92325478fffc1e10ac42fbd38c4fd9e6","consumes_customized":"false","name":"TopNotificationsForARecipient","produces":"application/json,application/xml,text/xml","relative_path":"/notifications/email/top/notifications_for_a_recipient","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var contactPrefSysId = request.pathParams.contact_pref_sys_id;\n\ttry {\n\t\treturn new OnCallContactPreferenceUtil().deleteContactPreference(contactPrefSysId);\n\t} catch (e) {\n\t\tif (e.securityError) {\n\t\t\tvar body = {\n\t\t\t\terror: {\n\t\t\t\t\tmessage: e.message\n\t\t\t\t}\n\t\t\t};\n\t\t\tresponse.setBody(body);\n\t\t\tresponse.setStatus(403);\n\t\t}\n\t\telse {\n\t\t\treturn new sn_ws_err.BadRequestError(e.message);\n\t\t}\n\t}\n})(request, response);","sys_updated_on":"2019-04-10 10:38:42","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"927c3df2b7243300e11bc556ee11a9c7","http_method":"DELETE","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/contact_preferences/{contact_pref_sys_id}","sys_created_on":"2019-04-05 09:28:07","sys_name":"deleteContactPreference","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_927c3df2b7243300e11bc556ee11a9c7","consumes_customized":"false","name":"deleteContactPreference","produces":"application/json,application/xml,text/xml","relative_path":"/contact_preferences/{contact_pref_sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    response.setContentType('application/json');\n\tvar queryParams = request.queryParams;\n\tvar serviceId = queryParams.service_id[0];\n\tvar result = [];\n\tvar CI_COUNT_LIMIT = gs.getProperty('glide.cmdb.csdm.app_service.relationship_count_limit', 10000);\n\tvar SERVICE_CLASSIFICATION = \"service_classification\";\n\tvar SERVICE_OFFERING = \"service_offering\";\n\tvar BUSINESS_SERVICE = \"Business Service\";\n\tvar TECHNICAL_SERVICE = \"Technical Service\";\n\tvar APPLICATION_SERVICE = \"Application Service\";\n\tvar DYNAMIC_CI_GROUP_CLASS = \"cmdb_ci_query_based_service\";\n\tvar EMPTY_NAME = gs.getMessage(\"(empty)\");\n\tvar resultObj = {};\n\tvar limitError = gs.getMessage(\"Available relationships are limited to {0} CIs\", CI_COUNT_LIMIT);\n\tvar ciCount = 0;\n\n    var grs = new GlideRecordSecure(\"cmdb_ci_business_app\");\n\tgrs.setLimit(CI_COUNT_LIMIT);\n\tgrs.query();\n\t\n\twhile(grs.hasNext()){\n\t\tciCount++;\n\t\tgrs.next();\n\t\tvar businessAppName = grs.getValue(\"name\") != null ? grs.getValue(\"name\") : EMPTY_NAME;\n\t\tresult.push({sys_id: grs.getValue(\"sys_id\"), name: businessAppName, class_name: grs.getValue(\"sys_class_name\"), table: \"cmdb_ci_business_app\"});\n\t}\n\tif (CI_COUNT_LIMIT == ciCount) {\n\t\tresultObj.limitError = limitError;\n\t}\n\t\n\tciCount = 0;\n\tgrs = new GlideRecordSecure(SERVICE_OFFERING);\n\tgrs.addEncodedQuery(SERVICE_CLASSIFICATION + \"=\" + BUSINESS_SERVICE + \"^OR\" + SERVICE_CLASSIFICATION + \"=\" + TECHNICAL_SERVICE);\n\tgrs.setLimit(CI_COUNT_LIMIT);\n\tgrs.query();\n\t\n\twhile(grs.hasNext()){\n\t\tciCount++;\n\t\tgrs.next();\n\t\tvar offeringName = grs.getValue(\"name\") != null ? grs.getValue(\"name\") : EMPTY_NAME;\n\t\tresult.push({sys_id: grs.getValue(\"sys_id\"), name: offeringName, class_name: grs.getValue(\"sys_class_name\"), table: SERVICE_OFFERING, service_classification: grs.getValue(SERVICE_CLASSIFICATION)});\n\t}\n\tif (CI_COUNT_LIMIT == ciCount) {\n\t\tresultObj.limitError = limitError;\n\t}\n\n\tciCount = 0;\n\tgrs = new GlideRecordSecure(\"cmdb_ci_service_auto\");\n\tgrs.addEncodedQuery('sys_id' + '!=' + serviceId + '^' + SERVICE_CLASSIFICATION +\"=\" + APPLICATION_SERVICE + \"^\" + \"sys_class_name!=\" + DYNAMIC_CI_GROUP_CLASS);\n\tgrs.setLimit(CI_COUNT_LIMIT);\n\tgrs.query();\n\t\n\twhile(grs.hasNext()){\n\t\tciCount++;\n\t\tgrs.next();\n\t\tvar appServiceName = grs.getValue(\"name\") != null ? grs.getValue(\"name\") : EMPTY_NAME;\n\t\tresult.push({sys_id: grs.getValue(\"sys_id\"), name: appServiceName, class_name: grs.getValue(\"sys_class_name\"), table: \"cmdb_ci_service_auto\", service_classification: grs.getValue(SERVICE_CLASSIFICATION)});\n\t}\n\tif (CI_COUNT_LIMIT == ciCount) {\n\t\tresultObj.limitError = limitError;\n\t}\n\n\tresultObj.result = result;\n\n\tresponse.setStatus(200);\n\tresponse.setBody(resultObj);\n\t\n})(request, response);","sys_updated_on":"2023-05-16 20:25:18","enforce_acl":"edc5e02473230010ee4dd3c72bf6a7ea","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"92c99b1c73230010ee4dd3c72bf6a777","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/csdm_app_service/relation","sys_created_on":"2020-03-10 21:08:13","sys_name":"Get Relation Target CIs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/60c171d973c30010ee4dd3c72bf6a716","value":"60c171d973c30010ee4dd3c72bf6a716"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"31","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2f8d67ff04352210559073c06a02f74f","value":"2f8d67ff04352210559073c06a02f74f"},"sys_update_name":"sys_ws_operation_92c99b1c73230010ee4dd3c72bf6a777","consumes_customized":"false","name":"Get Relation Target CIs","produces":"application/json,application/xml,text/xml","relative_path":"/relation","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var result = {\n\t\texclusionCount: 0,\n\t\tpreserverCount: 0,\n\t\tcleanupScriptCount: 0\n\t};\n\n\tvar profileName = String(request.queryParams.profileName);\n\tresult = ProfileUtils.buildConfigCountFromLocalInstance(profileName);\n\n\tresponse.setBody(result);\n\n})(request, response);","sys_updated_on":"2023-04-15 02:49:44","enforce_acl":"487c878c07312110fda37a76fed3002d","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"92ecfe0807312110fda37a76fed300eb","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_instance_clone/profile_config_count_api/fetchcount","sys_created_on":"2023-03-21 02:32:17","sys_name":"Fetch Count","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/31774a2953839110a6f8ddeeff7b12cb","value":"31774a2953839110a6f8ddeeff7b12cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/e70cb20807312110fda37a76fed3002b","value":"e70cb20807312110fda37a76fed3002b"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/31774a2953839110a6f8ddeeff7b12cb","value":"31774a2953839110a6f8ddeeff7b12cb"},"sys_update_name":"sys_ws_operation_92ecfe0807312110fda37a76fed300eb","consumes_customized":"false","name":"Fetch Count","produces":"application/json,application/xml,text/xml","relative_path":"/fetchcount","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var bsGlideRecord = new GlideAggregate(\"cmdb_ci_service_discovered\");\n\tbsGlideRecord.addAggregate('COUNT');\n\tbsGlideRecord.addQuery(\"process_status\", \"0\");\n\tbsGlideRecord.query();\n\tif(bsGlideRecord.hasNext())\n\t\tbsGlideRecord.next();\n\treturn bsGlideRecord.getAggregate('COUNT');\n\n})(request, response);","sys_updated_on":"2017-06-18 13:25:12","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"92ffd4f367d3f2009ebb2dbd2685ef8c","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/sa_business_service/getNumberOfCandidates","sys_created_on":"2017-06-18 13:25:04","sys_name":"Get Number of Candidates","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/f8f0abda9f0232004db75ecec32e7027","value":"f8f0abda9f0232004db75ecec32e7027"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_92ffd4f367d3f2009ebb2dbd2685ef8c","consumes_customized":"false","name":"Get Number of Candidates","produces":"application/json,application/xml,text/xml","relative_path":"/getNumberOfCandidates","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var userAgent = request.getHeader(\"User-Agent\");\n    if (gs.nil(userAgent) || !userAgent.contains(\"SnMobile\")) {\n        response.setStatus(403);\n        gs.warn(\"Request Received from UserAgent:\" + userAgent);\n        return;\n    }\n    var requestBody = request.body;\n    var requestData = requestBody.data;\n    var category = requestData.category;\n    var instrumentationPoint = requestData.instrumentationPoint;\n    var instrumentationEvent = requestData.instrumentationEvent;\n    var gcfSampleMapString = requestData.gcfSampleMap;\n    if (gs.nil(category))\n        return new sn_ws_err.BadRequestError('Category cannot be empty');\n    if (gs.nil(instrumentationPoint))\n        return new sn_ws_err.BadRequestError('Instrumentation Point cannot be empty');\n    if (gs.nil(instrumentationEvent))\n        return new sn_ws_err.BadRequestError('Instrumentation Event cannot be empty');\n    if (gs.nil(gcfSampleMapString))\n        return new sn_ws_err.BadRequestError('Empty Sample Map');\n    var gcfSampleMap;\n    try {\n        gcfSampleMap = JSON.parse(gcfSampleMapString);\n    } catch (error) {\n        return new sn_ws_err.BadRequestError('gcfSampleMap is not a valid json string');\n    }\n    var sm = new GCFSampleMap();\n    for (var key in gcfSampleMap)\n        sm.put('' + key, '' + gcfSampleMap[key]);\n    GCFCollector.recordUsageEvent('' + category, '' + instrumentationPoint, '' + instrumentationEvent, sm);\n\n})(request, response);","sys_updated_on":"2021-04-08 14:52:33","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/356daee30f33001058e6ac5397767e7c","value":"356daee30f33001058e6ac5397767e7c"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"93254b070f1320108ee1be0a68767e2e","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/v1/ua_gcf/postAnalytic","sys_created_on":"2021-04-08 14:52:33","sys_name":"postAnalytic","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/49d1d428e73233005765eef6c2f6a9eb","value":"49d1d428e73233005765eef6c2f6a9eb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/d15daae30f33001058e6ac5397767efd","value":"d15daae30f33001058e6ac5397767efd"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/49d1d428e73233005765eef6c2f6a9eb","value":"49d1d428e73233005765eef6c2f6a9eb"},"sys_update_name":"sys_ws_operation_93254b070f1320108ee1be0a68767e2e","consumes_customized":"false","name":"postAnalytic","produces":"application/json,application/xml,text/xml","relative_path":"/postAnalytic","produces_customized":"false","default_operation_uri":"/api/now/ua_gcf/postAnalytic","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n   var returnObj = {\n\t\tuseAnimatedAvatar: gs.getProperty('sn_nowassist_va.nass_animated_avatar_enabled') === 'true', \n\t\tfocusOnInputTextBox: gs.getProperty('sn_nowassist_va.focus_on_input_text_box') === 'true'\n   };\n   return returnObj;\n\n})(request, response);","sys_updated_on":"2025-02-25 21:40:29","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9335e00e53f712106183ddeeff7b123b","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/va_web_client_settings/get_va_web_client_settings","sys_created_on":"2025-02-19 19:13:37","sys_name":"Get VA Web Client Settings","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/2858d88653b712106183ddeeff7b12f9","value":"2858d88653b712106183ddeeff7b12f9"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_ws_operation_9335e00e53f712106183ddeeff7b123b","consumes_customized":"false","name":"Get VA Web Client Settings","produces":"application/json,application/xml,text/xml","relative_path":"/get_va_web_client_settings","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var profiles = getOauthEntityProfiles();\n    response.setBody(profiles);\n    response.setStatus(200);\n\n    function getOauthEntityProfiles() {\n        var result = [];\n        var gr = new GlideRecord('oauth_entity_profile');\n        gr.addQuery('grant_type', 'authorization_code');\n        gr.query();\n        while (gr.next()) {\n            result.push({\n                name: gr.getValue('name'),\n                sys_id: gr.getValue('sys_id')\n            });\n        }\n        return result;\n    }\n\n    return response;\n\n})(request, response);","sys_updated_on":"2024-08-16 22:54:19","enforce_acl":"cf9d01d3e73003009d6247e603f6a990,53cb8ba593445210e7959b94818918f5","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"936f9afd934c5210e7959b9481891878","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_glider/ide_credential/oauth_entity_profile","sys_created_on":"2024-08-16 22:46:17","sys_name":"Oauth entity profile","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/fd254d9443a161100967247e6bb8f200","value":"fd254d9443a161100967247e6bb8f200"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/4d0b8b6593445210e7959b94818918a9","value":"4d0b8b6593445210e7959b94818918a9"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fd254d9443a161100967247e6bb8f200","value":"fd254d9443a161100967247e6bb8f200"},"sys_update_name":"sys_ws_operation_936f9afd934c5210e7959b9481891878","consumes_customized":"false","name":"Oauth entity profile","produces":"application/json,application/xml,text/xml","relative_path":"/oauth_entity_profile","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar aisaRequest = request.body.data;\n\tvar aisaSearchUtil = new AISASearchUtil();\n\tvar searchResponse = aisaSearchUtil.search(aisaRequest);\n\tresponse.setStatus(searchResponse.status); \n\n\tif (searchResponse.status != 200) {\n\t\tvar myError = new sn_ws_err.ServiceError();\n\t\tmyError.setStatus(searchResponse.status);\n\t\tmyError.setMessage(searchResponse.msg);\n\t\tresponse.setError(myError);\n\t} else {\n\t\tresponse.setBody(searchResponse.data);\n\t}\n})(request, response);","sys_updated_on":"2024-01-02 16:03:16","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"938801807733101044703036971061dd","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/aisa/search","sys_created_on":"2020-10-06 22:22:26","sys_name":"search","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ff484d407733101044703036971061d3","value":"ff484d407733101044703036971061d3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"26","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e4dd6b3304752210559073c06a02f70c","value":"e4dd6b3304752210559073c06a02f70c"},"sys_update_name":"sys_ws_operation_938801807733101044703036971061dd","consumes_customized":"false","name":"search","produces":"application/json,application/xml,text/xml","relative_path":"/search","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    function getUserData(userSysId, userName) {\n        var aesUtils = new AesUtils();\n\n        var userRecord = new GlideRecord('sys_user');\n\n        if (userRecord.get(userSysId) || userRecord.get('user_name', userName))\n            return aesUtils.getObjectFromGlideRecord(userRecord, ['sys_id', 'email', 'name']);\n    }\n    var aesControllerUtils = new AesControllerUtils();\n\n    if (!aesControllerUtils.isCurrentInstanceController()) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(400)\n            .setMessage(gs.getMessage(\"This instance is not a controller. This api should be accessed only on the controller instance.\"));\n    }\n\n    var data = request.body.data;\n    var templateSysId = data.template_sys_id;\n    var templateName = data.template_name;\n    var type = data.type;\n    var originInstanceUrl = data.origin_instance_url;\n    var users = data.users;\n\n    if (!templateSysId || !templateName || !type || !originInstanceUrl || !users || !users.length) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(400)\n            .setMessage(gs.getMessage(\"template_sys_id, template_name, type, originInstanceUrl and users are required\"));\n    }\n    var appTemplateConstants = new AppTemplateConstants();\n    var emailEvents = appTemplateConstants.getEmailEvents();\n    var allowedTypes = Object.keys(emailEvents);\n\n    type = type.toUpperCase();\n\n    if (allowedTypes.indexOf(type) < 0) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(400)\n            .setMessage(gs.getMessage(\"type should be one of {0}\", allowedTypes.join()));\n    }\n\n    var aesUtils = new AesUtils();\n    var cleanedOriginInstanceUrl = aesUtils.removeTrailingSlash(originInstanceUrl);\n\n\n    var emailEventFiredUserList = [];\n    var unavailableUserList = [];\n\n    users.forEach(function(user) {\n        var userData = getUserData(user.sys_id, user.user_name);\n\n        if (userData) {\n            emailEventFiredUserList.push(user);\n            //generate event\n            var eventName = emailEvents[type];\n            var eventParam1 = userData.email;\n            var eventParam2 = data;\n\n            eventParam2.user_full_name = userData.name;\n            eventParam2.origin_instance_url = cleanedOriginInstanceUrl;\n            eventParam2.currentUserPayloadData = user;\n\n            delete eventParam2.users;\n\n            gs.eventQueue(eventName, undefined, eventParam1, JSON.stringify(eventParam2));\n        } else {\n            unavailableUserList.push(user);\n        }\n    });\n\n    var output = {\n        emailEventFiredUserList: emailEventFiredUserList,\n        unavailableUserList: unavailableUserList\n    };\n\n    response.setBody(output);\n    response.setStatus(200);\n})(request, response);","sys_updated_on":"2022-06-02 14:22:05","enforce_acl":"a6a917b1c3e70110a9f5e548fa40dd08","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"93b90f35c3a70110a9f5e548fa40dd8b","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_app_eng_studio/templates/email_events","sys_created_on":"2022-05-19 20:35:46","sys_name":"POST App Template Email Events","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7b27f0e453da20100f29ddeeff7b12bc","value":"7b27f0e453da20100f29ddeeff7b12bc"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_ws_operation_93b90f35c3a70110a9f5e548fa40dd8b","consumes_customized":"false","name":"POST App Template Email Events","produces":"application/json,application/xml,text/xml","relative_path":"/email_events","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // implement resource here\n\tvar payloads = request.queryParams;\n\tvar progressChecker = new AJAXProgressStatusChecker();\n\ttry {\n\t\tvar execution_id = payloads[\"sysparm_execution_id\"][0];\n\t\treturn progressChecker.getStatus(execution_id);\n\t} catch(err) {\n\t\tvar exp = new sn_ws_err.BadRequestError(err);\n\t\tresponse.setError(exp);\n\t}\n\n})(request, response);","sys_updated_on":"2021-07-02 15:57:59","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9425679e73013010b4766a0c4cf6a7b2","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/importprogresschecker/getStatus","sys_created_on":"2021-07-02 09:08:47","sys_name":"getStatus","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/d4f4e39e73013010b4766a0c4cf6a774","value":"d4f4e39e73013010b4766a0c4cf6a774"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"14","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f6d3ab7704312210559073c06a02f766","value":"f6d3ab7704312210559073c06a02f766"},"sys_update_name":"sys_ws_operation_9425679e73013010b4766a0c4cf6a7b2","consumes_customized":"false","name":"getStatus","produces":"application/json,application/xml,text/xml","relative_path":"/getStatus","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    try {\n        const params = UDCUtil.assign({},\n            request.pathParams,\n            UDCUtil.normalizeQueryParams(request.queryParams)\n        );\n\n        const searchResults = new SearchResultBuilder(params).build();\n        return searchResults;\n    } catch (e) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(500)\n            .setMessage(gs.getMessageLang(\"Unhandled exception {0}\", \"en\", [e]))\n            .setDetail(gs.getMessage(\"Unhandled exception {0}\", [e]));\n    }\n\n})(request, response);","sys_updated_on":"2024-05-14 07:26:11","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/cf5e1253778682105e13b3c64b5a99b5","value":"cf5e1253778682105e13b3c64b5a99b5"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"942fee9b77373110398eb3c64b5a99f9","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_udc/v1/search/searchResults","sys_created_on":"2024-01-23 10:00:57","sys_name":"Get UDC Files Tables Apps & Tools","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/f58184d777333110398eb3c64b5a99b1","value":"f58184d777333110398eb3c64b5a99b1"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"12","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_update_name":"sys_ws_operation_942fee9b77373110398eb3c64b5a99f9","consumes_customized":"false","name":"Get UDC Files Tables Apps & Tools","produces":"application/json,application/xml,text/xml","relative_path":"/searchResults","produces_customized":"false","default_operation_uri":"/api/sn_udc/search/searchResults","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        var appSysId = request.pathParams.application_sys_id;\n        var appDetails = StudioApplicationService.getAppDetails(appSysId);\n\n        if (appDetails?.statusCode) {\n            response.setStatus(appDetails.statusCode);\n            response.setBody({\n                message: appDetails.error\n            });\n        } else {\n            response.setBody(appDetails);\n            response.setStatus(200);\n        }\n\n    } catch (exception) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(500)\n            .setMessage(gs.getMessageLang('Unhandled exception {0}', 'en', [exception]))\n            .setDetail(gs.getMessage('Unhandled exception {0}', [exception]));\n    }\n\n})(request, response);","sys_updated_on":"2024-03-05 06:07:04","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/c6ac70371b74bd10cb682f092a4bcb80","value":"c6ac70371b74bd10cb682f092a4bcb80"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"94630dac77463110a6754c611c5a9962","http_method":"GET","sys_updated_by":"maint","operation_uri":"/api/sn_sns/v1/applications/{application_sys_id}","sys_created_on":"2023-10-19 12:35:11","sys_name":"GET Application Details","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/38d42e26f06b4d72f1c7ceee505e96f5","value":"38d42e26f06b4d72f1c7ceee505e96f5"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/06033ca11bf07510cb682f092a4bcb70","value":"06033ca11bf07510cb682f092a4bcb70"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"16","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/38d42e26f06b4d72f1c7ceee505e96f5","value":"38d42e26f06b4d72f1c7ceee505e96f5"},"sys_update_name":"sys_ws_operation_94630dac77463110a6754c611c5a9962","consumes_customized":"false","name":"GET Application Details","produces":"application/json,application/xml,text/xml","relative_path":"/{application_sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_sns/applications/{application_sys_id}","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var changeSysId = request.pathParams.change_sys_id || \"\";\n\tif (!changeSysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Change Request id not provided\");\n\n\tvar changeRequestGr = new GlideRecordSecure(global.ChangeRequest.CHANGE_REQUEST);\n\tif (!changeRequestGr.get(changeSysId))\n\t\treturn new sn_ws_err.NotFoundError(\"Change Request not found\");\n\n\tif (!changeRequestGr.cmdb_ci || !changeRequestGr.start_date || !changeRequestGr.end_date)\n\t\treturn new sn_ws_err.BadRequestError(\"cmdb_ci/planned start time/planned end time not found\");\n\n\tvar nameValuePairs = global.ChangeCommon.assign({}, request.pathParams);\n\tnameValuePairs.timezone = gs.getSession().getTimeZoneName();\n\n\tvar changeManagementWorker = new global.ChangeManagementWorker();\n\tchangeManagementWorker.run(nameValuePairs, global.ChangeManagementWorker.GET, global.ChangeManagementWorker.SCHEDULE );\n\n\t// Provide Async link in header\n\tresponse.setHeader(\"Link\", changeManagementWorker.getResponseParam(\"worker\").link + \"\");\n\n\t// Allows server to accept request for asynchronous process\n\tresponse.setStatus(202);\n\n\treturn changeManagementWorker.toJS();\n\n})(request, response);","sys_updated_on":"2021-03-31 10:03:53","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"94ad5724c3222010a282a539e540dd52","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/{change_sys_id}/schedule","sys_created_on":"2021-02-22 15:25:22","sys_name":"Schedule Dates By Change","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"25","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/32b7af7f04b12210559073c06a02f7fb","value":"32b7af7f04b12210559073c06a02f7fb"},"sys_update_name":"sys_ws_operation_94ad5724c3222010a282a539e540dd52","consumes_customized":"false","name":"Schedule Dates By Change","produces":"application/json,application/xml,text/xml","relative_path":"/{change_sys_id}/schedule","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/{change_sys_id}/schedule","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // implement resource here\n\tvar groupId = request.queryParams.group_id + \"\";\n\tif (!groupId)\n\t\treturn sn_ws_err.BadRequestError(gs.getMessage(\"Group id is not provided\"));\n\t\n\tvar ocsNG = new OnCallSecurityNG();\n\tif (!ocsNG.rotaMgrAccess(groupId))\n\t\treturn getSecurityConstraintError();\n\t\n\tvar wizardUtil = new OnCallCreationWizardUtils();\n\treturn wizardUtil.getEscalationPanelDetails(groupId);\n\t\n\tfunction getSecurityConstraintError() {\n\t\tvar respError = new sn_ws_err.ServiceError();\n\t\trespError.setStatus(403);\n\t\trespError.setMessage(gs.getMessage(\"Security constraints prevent access to requested resource\"));\n\t\treturn respError;\n\t}\n\n})(request, response);","sys_updated_on":"2019-03-20 08:31:16","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9526e93b53d32300bf68ddeeff7b1225","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/creation_wizard/escalationpanel","sys_created_on":"2019-02-05 07:04:18","sys_name":"Get Wizard Escalation Panel","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"16","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_9526e93b53d32300bf68ddeeff7b1225","consumes_customized":"false","name":"Get Wizard Escalation Panel","produces":"application/json,application/xml,text/xml","relative_path":"/creation_wizard/escalationpanel","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    const scopeId = request.pathParams.scope_id;\n\n    if (!scopeId) {\n        response.setStatus(400);\n        return response.setError('Missing required query parameter: scope_id');\n    }\n\n    const DEFAULT_IGNORED_TABLES = ['sys_metadata_link', 'sys_module', 'sys_ux_lib_asset'].join(',');\n    const ignoredTables = gs.getProperty('sn_glider.sync.ignored_tables', DEFAULT_IGNORED_TABLES)?.split(',');\n\n    function fetchLatestMetadata(scopeId) {\n        var gr = new GlideRecord('sys_metadata');\n        gr.addQuery('sys_scope', scopeId);\n        gr.addQuery('sys_class_name', 'NOT IN', ignoredTables.join(','));\n        gr.orderByDesc('sys_updated_on');\n        gr.setLimit(1);\n        gr.query();\n\n        if (gr.next()) {\n            var metadata = {\n                sys_id: gr.getValue('sys_id'),\n                sys_updated_on: new GlideDateTime(gr.getValue('sys_updated_on')).getNumericValue(),\n                sys_updated_by: gr.getValue('sys_updated_by'),\n                sys_created_on: new GlideDateTime(gr.getValue('sys_created_on')).getNumericValue(),\n                sys_scope: gr.getValue('sys_scope'),\n                sys_class_name: gr.getValue('sys_class_name')\n            };\n\n            return metadata;\n        }\n        return null;\n    }\n\n    try {\n        var metadata = fetchLatestMetadata(scopeId);\n\n        if (metadata) {\n            response.setStatus(200);\n            response.setBody(metadata);\n            return;\n        }\n\n        // Return an empty response if no metadata found\n        response.setStatus(200);\n        response.setBody({});\n    } catch (e) {\n        response.setStatus(500);\n        response.setError(e.message);\n    }\n\n})(request, response);","sys_updated_on":"2024-11-18 14:37:15","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"955dac3b43f5121068e8a7ec6bb8f28a","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_glider/sync/metadata/{scope_id}","sys_created_on":"2024-11-17 19:32:13","sys_name":"Get App Data [sys_metadata]","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/fd254d9443a161100967247e6bb8f200","value":"fd254d9443a161100967247e6bb8f200"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3510f477430146104733a7ec6bb8f2cf","value":"3510f477430146104733a7ec6bb8f2cf"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fd254d9443a161100967247e6bb8f200","value":"fd254d9443a161100967247e6bb8f200"},"sys_update_name":"sys_ws_operation_955dac3b43f5121068e8a7ec6bb8f28a","consumes_customized":"false","name":"Get App Data [sys_metadata]","produces":"application/json,application/xml,text/xml","relative_path":"/metadata/{scope_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    try {\n        var executionId = request.pathParams.executionId;\n        var testExecution = new sn_nlu_workbench.NLUBatchTestExecution(executionId);\n        var result = testExecution.acceptAndPublishOptimizedModel();\n        if (result && result.status !== 'failure')\n            response.setStatus(200);\n        else\n            response.setStatus(400);\n        response.setContentType('application/json');\n        return result;\n    } catch (e) {\n        return e;\n    }\n\n})(request, response);","sys_updated_on":"2021-11-23 06:18:05","enforce_acl":"0f43facbeb8220105de665fcc8522895","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b51a6d700710201028ef0a701ad300ab","value":"b51a6d700710201028ef0a701ad300ab"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"958fd344709c7010f877a79688303ee0","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_nlu_workbench/v1/nlu_advanced/acceptModelOptimization/{executionId}","sys_created_on":"2021-05-19 02:43:34","sys_name":"acceptModelOptimization","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea82488673402010e6b632e954f6a7ca","value":"ea82488673402010e6b632e954f6a7ca"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_update_name":"sys_ws_operation_958fd344709c7010f877a79688303ee0","consumes_customized":"false","name":"acceptModelOptimization","produces":"application/json,application/xml,text/xml","relative_path":"/acceptModelOptimization/{executionId}","produces_customized":"false","default_operation_uri":"/api/sn_nlu_workbench/nlu_advanced/acceptModelOptimization/{executionId}","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var appManagerApiUtil = new AppManagerApiUtil(request, response);\n    var handler = new AppManagerHandler();\n    try {\n        appManagerApiUtil.verifyTablesReadAccess([\"sys_store_app\"]);\n        var requestParams = appManagerApiUtil.getRequestParams();\n        var result = handler.updateApp(requestParams);\n        appManagerApiUtil.setResponseBody(result);\n    } catch (err) {\n        appManagerApiUtil.setError(err);\n    }\n})(request, response);","sys_updated_on":"2025-03-14 01:18:18","enforce_acl":"3966a96cf53bc610f87752fa9ffbe0da","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/be08b89397b0d1104b593f0e6253afe1","value":"be08b89397b0d1104b593f0e6253afe1"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"95b5dcb077902110c918256a5b5a99af","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_appclient/v1/appmanager/app/update","sys_created_on":"2023-01-07 07:51:22","sys_name":"Update Application","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7ea1fc5f9770d1104b593f0e6253af99","value":"7ea1fc5f9770d1104b593f0e6253af99"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_update_name":"sys_ws_operation_95b5dcb077902110c918256a5b5a99af","consumes_customized":"false","name":"Update Application","produces":"application/json,application/xml,text/xml","relative_path":"/app/update","produces_customized":"false","default_operation_uri":"/api/sn_appclient/appmanager/app/update","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var grSysScope = new GlideRecord(\"sys_scope\");\n\n    if (grSysScope.get(CollabTaskConstants.COLLAB_REQUEST_APP_ID)) {\n        var activeVersion = grSysScope.getValue(\"version\");\n\n        response.setStatus(200);\n        response.setBody({\n            active_version: activeVersion\n        });\n\n        return;\n    }\n\n    throw new sn_ws_err.ServiceError()\n        .setStatus(404)\n        .setMessage(gs.getMessage(\"Application record not found\"))\n        .setDetail(gs.getMessage(\"Collaboration Request application record not found\"));\n\n})(request, response);","sys_updated_on":"2021-11-19 22:14:07","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/d47b4a5dc7f33010408bc8d6f2c260cc","value":"d47b4a5dc7f33010408bc8d6f2c260cc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9604ba11c7773010408bc8d6f2c26015","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_collab_request/v2/collaboration_tasks_api/active_plugin_version","sys_created_on":"2021-11-12 20:04:55","sys_name":"Active Plugin Version","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/6adeae39c3013010a9f5e548fa40dd4e","value":"6adeae39c3013010a9f5e548fa40dd4e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"sys_update_name":"sys_ws_operation_9604ba11c7773010408bc8d6f2c26015","consumes_customized":"false","name":"Active Plugin Version","produces":"application/json,application/xml,text/xml","relative_path":"/active_plugin_version","produces_customized":"false","default_operation_uri":"/api/sn_collab_request/collaboration_tasks_api/active_plugin_version","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var modelId = request.pathParams.modelId;\n    try {\n        if (modelId) {\n            var result = NLUStudioTrainer.cancelTraining(modelId);\n            if (result.status === 'success') {\n                response.setStatus(200);\n            } else {\n                response.setStatus(400);\n            }\n            response.setContentType('application/json');\n            return result;\n        } else {\n            return new sn_ws_err.BadRequestError('No input data provided');\n        }\n    } catch (e) {\n        return e;\n    }\n\n})(request, response);","sys_updated_on":"2021-04-20 05:47:29","enforce_acl":"ccd8a1e7772000105d7b3882a910617c","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/e4cda81e7333230021a044764df6a777","value":"e4cda81e7333230021a044764df6a777"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"96176d94732310103bb6a4fa54f6a7a9","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/nlu/cancelTraining/{modelId}","sys_created_on":"2020-09-25 09:00:16","sys_name":"cancelTraining","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/55672c9a7333230021a044764df6a706","value":"55672c9a7333230021a044764df6a706"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_ws_operation_96176d94732310103bb6a4fa54f6a7a9","consumes_customized":"false","name":"cancelTraining","produces":"application/json,application/xml,text/xml","relative_path":"/cancelTraining/{modelId}","produces_customized":"false","default_operation_uri":"/api/now/nlu/cancelTraining/{modelId}","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var error;\n    var sysId = request.pathParams.sys_id || '';\n    if (!sysId) {\n        error = new sn_ws_err.ServiceError();\n        error.setStatus(400);\n        error.setMessage(gs.getMessage('No sys_id provided'));\n        error.setDetail(gs.getMessage('Record does not exist or ACL restricts the record retrieval'));\n        return error;\n    }\n\n    var changeRiskDetails = new SOWChangeUtils().getChangeRiskDetails(sysId);\n    if (changeRiskDetails.error) {\n        error = new sn_ws_err.ServiceError();\n        error.setStatus(404);\n        error.setMessage(changeRiskDetails.error.message);\n        error.setDetail(changeRiskDetails.error.detail);\n        return error;\n    }\n\n    return changeRiskDetails;\n})(request, response);","sys_updated_on":"2024-05-22 14:59:41","enforce_acl":"44210def9f42021073fd946eda0a1c20","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e038d639f82021073fd946eda0a1cae","value":"1e038d639f82021073fd946eda0a1cae"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"964201639f82021073fd946eda0a1c83","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sow_chg/v1/change_risk_details/evaluation/{sys_id}","sys_created_on":"2024-05-14 16:25:05","sys_name":"risk_details","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3e614def9f42021073fd946eda0a1c70","value":"3e614def9f42021073fd946eda0a1c70"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"11","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_update_name":"sys_ws_operation_964201639f82021073fd946eda0a1c83","consumes_customized":"false","name":"risk_details","produces":"application/json,application/xml,text/xml","relative_path":"/evaluation/{sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_sow_chg/change_risk_details/evaluation/{sys_id}","sys_policy":""},{"short_description":"Adds a Component preset to the sys_ux_component_preset table","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tconst apiHelper = new APIHelper(request, response);\n\n\tfunction createComponentPreset() {\n\t\tconst {name, description, controller, component} = request.body.data;\n\t\tif(!name || (name.trim && name.trim() === '')) {\n\t\t\treturn apiHelper.respondUnsuccessfully(BuilderToolkitConstants.ERRORS.NO_PRESET_NAME);\n\t\t}\n\t\tif(!component || (component.trim && component.trim() === '')) {\n\t\t\treturn apiHelper.respondUnsuccessfully(BuilderToolkitConstants.ERRORS.NO_PRESET_COMPONENT);\n\t\t}\n\t\tconst result = new ComponentPreset().createRecord({name, description, controller, component});\n\t\tif(result === false) {\n\t\t\tapiHelper.respondUnsuccessfully(BuilderToolkitConstants.ERRORS.FAILED_TO_CREATE_COMPONENT_PRESET);\n\t\t} else {\n\t\t\tapiHelper.respondSuccesfully({componentPresetID: result});\n\t\t}\n\t}\n\t\n\tapiHelper.execute(createComponentPreset);\n})(request, response);","sys_updated_on":"2024-07-18 21:26:49","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"{\r\n   \"name\": \"A name\",\r\n   \"component\": \"A valid component ID\",\r\n   \"description\": \"A short description\",\r\n   \"controller\": \"An optional controller ID\"\r\n}","sys_id":"965d1006ff030210822cffffffffff74","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/component/presets","sys_created_on":"2024-06-28 14:55:15","sys_name":"Component Presets","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_965d1006ff030210822cffffffffff74","consumes_customized":"false","name":"Component Presets","produces":"application/json,application/xml,text/xml","relative_path":"/component/presets","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    const apiHelper = new APIHelper(request, response);\n    apiHelper.execute(function() {\n        const sysId = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.SYS_ID);\n        const noDomain = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.NO_DOMAIN);\n        const macroponentHandler = new Macroponent('sys_id,name,composition,sys_scope,sys_updated_by,sys_updated_on,sys_domain,'.split(','), noDomain, true);\n\n        apiHelper.getResponse(macroponentHandler.getMacroponentRoutes(sysId), BuilderToolkitConstants.ERRORS.NO_COMPONENT_DEFINITIONS);\n    });\n\n})(request, response);","sys_updated_on":"2024-03-18 20:15:42","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"96764d6a7777211003565d9c4f5a996d","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/component/routes","sys_created_on":"2023-07-05 21:33:57","sys_name":"Component Routes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_96764d6a7777211003565d9c4f5a996d","consumes_customized":"false","name":"Component Routes","produces":"application/json,application/xml,text/xml","relative_path":"/component/routes","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\ttry {\n\t\tvar itemID = request.pathParams.sys_id;\n\t\tvar checkoutItem = sn_sc.CatalogItemVersioningService.checkout(itemID);\n\t\treturn {\n\t\t\tresult: checkoutItem\n\t\t};\n\t} catch (e) {\n\t\tgs.debug(e.getMessage());\n\t\treturn {\n\t\t\terrMsg: gs.getMessage('Operation Failed')\n\t\t};\n\t}\n})(request, response);","sys_updated_on":"2020-09-22 08:12:22","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"97e4def00f131010e54d6b198b767ee7","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/items/{sys_id}/versioning/checkout","sys_created_on":"2020-09-14 15:19:47","sys_name":"Checkout a catalog Item","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"8","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_97e4def00f131010e54d6b198b767ee7","consumes_customized":"false","name":"Checkout a catalog Item","produces":"application/json,application/xml,text/xml","relative_path":"/items/{sys_id}/versioning/checkout","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/items/{sys_id}/versioning/checkout","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var appManagerApiUtil = new AppManagerApiUtil(request, response);\n    try {\n        appManagerApiUtil.verifyTablesWriteAccess([\"sys_installation_schedule\", \"sys_installation_schedule_item\"]);\n        var scheduleService = new ScheduledInstallService();\n        var args = appManagerApiUtil.getRequestParams();\n        var requestBody = appManagerApiUtil.getRequestBody();\n        var queryParams = args.queryParams;\n        var requestParams = {};\n        requestParams.action = queryParams.action;\n        requestParams.schedule = JSON.stringify(requestBody);\n        requestParams.schedule_id = queryParams.schedule_id;\n        requestParams.source_app_id = queryParams.source_app_id;\n        requestParams.scheduled_time = queryParams.scheduled_time;\n        requestParams.appCount = queryParams.appCount;\n\n        var responseContent = scheduleService.processRequest(requestParams);\n        if (responseContent.statusCode == 200) {\n            appManagerApiUtil.setResponseBody(responseContent.responseData);\n        } else {\n            appManagerApiUtil.setError({\n                errorCode: responseContent.statusCode,\n                errorDescription: responseContent.responseData.error\n            });\n        }\n    } catch (err) {\n        appManagerApiUtil.setError(err);\n    }\n\n})(request, response);","sys_updated_on":"2025-04-29 16:08:56","enforce_acl":"3966a96cf53bc610f87752fa9ffbe0da","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/be08b89397b0d1104b593f0e6253afe1","value":"be08b89397b0d1104b593f0e6253afe1"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9837cf2d77096110adafc1bfbd5a99ac","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_appclient/v1/appmanager/schedule","sys_created_on":"2023-02-16 11:53:52","sys_name":"Schedule","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7ea1fc5f9770d1104b593f0e6253af99","value":"7ea1fc5f9770d1104b593f0e6253af99"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"22","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_update_name":"sys_ws_operation_9837cf2d77096110adafc1bfbd5a99ac","consumes_customized":"false","name":"Schedule","produces":"application/json,application/xml,text/xml","relative_path":"/schedule","produces_customized":"false","default_operation_uri":"/api/sn_appclient/appmanager/schedule","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    response.setContentType('application/json');\n\tvar result = {};\n    var helper = new CMDBDataManagerHelper();\n    var policyTypeID = helper.getParamAsString('policy_type');\n    var encodedQuery = helper.getParamAsString('encoded_query');\n\n\tvar policyTypeGr = new GlideRecord('cmdb_policy_type');\n\tif(!policyTypeGr.get(policyTypeID)){\n\t\treturn new sn_ws_err.BadRequestError('Unable to find policy type record matching policy_type parameter');\n\t}\n\tvar policyType = policyTypeGr.getValue('name');\n\n\t//If the policy type is one that requires use of enforced conditions, \n\t//  include its sys_id in the conditionalPolicies array below\n\tvar ARCHIVE_ID = 'b82b20d00731201017b703767cd300e1';\n\tvar DELETE_ID = '562bec900731201017b703767cd300e7';\n\tvar RETIRE_ID = '66306fcb7352201026f6aa114df6a77c';\n\tvar conditionalPolicies = [ARCHIVE_ID, DELETE_ID, RETIRE_ID];\n\n\tvar enforcedCondition = \"\";\n\n\tif(conditionalPolicies.indexOf(policyTypeID) > -1){\n\t\tvar classesFromQuery = [];\n\t\tvar grCI = new GlideAggregate('cmdb_ci');\n\t\tgrCI.addEncodedQuery(encodedQuery);\n\t\t\tgrCI.groupBy('sys_class_name');\n\t\t\tgrCI.query();\n\t\t\twhile(grCI.next()) {\n\t\t\t\tclassesFromQuery.push(grCI.getValue('sys_class_name'));\n\t\t\t}\n\t\tvar tableString = classesFromQuery.join();\n\n\t\tenforcedCondition = sn_cmdb.CMDBRetirementScriptableApi.getFullEncodedQuery(tableString, policyType);\n\n\t\tif(gs.nil(enforcedCondition) || \"sys_class_nameISEMPTY^EQ\" == enforcedCondition)\n\t\t\treturn new sn_ws_err.BadRequestError('No retirement definitions for the impacted classes');\n\t}\n\tresult.enforcedCondition = enforcedCondition;\n\n\tresponse.setStatus(200);\n    response.setBody(result);\n\n})(request, response);","sys_updated_on":"2024-03-21 18:12:42","enforce_acl":"bf20624e53832010af64ddeeff7b1272","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9861117353e611102455ddeeff7b1291","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/ci_lifecycle_manager/enforced_condition","sys_created_on":"2022-10-21 20:04:26","sys_name":"Get Dynamic Enforced Condition","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ad9ebe127322101045cadfcd3bf6a735","value":"ad9ebe127322101045cadfcd3bf6a735"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"sys_update_name":"sys_ws_operation_9861117353e611102455ddeeff7b1291","consumes_customized":"false","name":"Get Dynamic Enforced Condition","produces":"application/json,application/xml,text/xml","relative_path":"/enforced_condition","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\ttry {\n\t\treturn new MobileTableInfoService().getMobileTableNamesAndLabels();\t\t\n\t} catch (error) {\n\t\tnew ErrorHandler().throwSnWsError(error);\n\t}\n\n})(request, response);","sys_updated_on":"2021-06-03 19:19:39","enforce_acl":"4bbe81b4c703201066492f3bf4c260e6","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"98bea9ac0f203010e70a4abec4767ec6","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_mab_api/mab_api/mobileTables","sys_created_on":"2021-06-01 17:30:10","sys_name":"Get Mobile Tables","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3512bd93c7c12010100f2f3bf4c26049","value":"3512bd93c7c12010100f2f3bf4c26049"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_update_name":"sys_ws_operation_98bea9ac0f203010e70a4abec4767ec6","consumes_customized":"false","name":"Get Mobile Tables","produces":"application/json,application/xml,text/xml","relative_path":"/mobileTables","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // implement resource here\n\tvar requestData = request.body.data;\n    var currentSysId = requestData.sys_id;\n    var level = requestData.level;\n    var numFeatures = requestData.top_n;\n    var className = requestData.class_name;\n\n\t// Function to retrieve important features from the 'ml_solution_explainability' table\n    function getImportantFeatures(currentSysId) {\n        var attachmentTable = new GlideRecord('ml_solution_explainability');\n        attachmentTable.addQuery('solution_sys_id', currentSysId);\n        attachmentTable.query();\n        // If record exists, parse and return the important features\n        if (attachmentTable.next()) {\n            return JSON.parse(attachmentTable.getValue('important_features'));\n        } else {\n            return;\n        }\n    }\n\t// Function to format stats to fixed decimal places (3 decimal points)\n\tfunction formatStats(stats) {\n        var gv = stats.global_values;  // Extract global values\n        var lv = stats.label_values;  // Extract label values (class-specific)\n\n\t\t// Format global values\n        for (var i in gv) {\n            gv[i] = parseFloat(gv[i].toFixed(3));\n        }\n\n\t\t// Format label values (class-specific)\n        for (var i in lv) {\n            for (var j in lv[i]) {\n                lv[i][j] = parseFloat(lv[i][j].toFixed(3));\n            }\n        }\n\n        return { gv: gv, lv: lv };\n    }\n\n\t// Function to filter and rank features based on their importance\n    function filterAndRankFeatures(features, numFeatures) {\n        var filtered = {};\n        var rank = 0;\n\t\t// Iterate through each feature and limit the number if numFeatures is provided\n        for (var key in features) {\n            if (numFeatures && rank >= numFeatures) break;\n            filtered[key] = parseFloat(features[key].toFixed(3));\n            rank++;\n        }\n        return filtered;\n    }\n\n\t// Function to generate response body based on stats, level, number of features, and className\n    function generateResponseBody(stats, level, numFeatures, className) {\n        var gv = stats.gv;\n        var lv = stats.lv;\n\n        var gvRank = [];\n        var lvRank = [];\n\n        if (level === 'global') {\n            var gvFiltered = filterAndRankFeatures(gv, numFeatures);\n            var rank = 0;\n            for (var gf in gvFiltered) {\n                gvRank.push({ featureName: gf, rank: ++rank, importance: gvFiltered[gf] });\n            }\n            return { globalImportantFeatures: gvRank };\n        } else if (level === 'local') {\n            if (numFeatures) {\n                if (className) {\n                    var lvFiltered = filterAndRankFeatures(lv[className], numFeatures);\n                    var rank = 0;\n                    for (var lf in lvFiltered) {\n                        lvRank.push({ featureName: lf, rank: ++rank, importance: lvFiltered[lf] });\n                    }\n                    return { classwiseImportantFeatures: lvRank };\n                } else {\n                    var jsonLvFiltered = {};\n                    for (var lf in lv) {\n                        var lvFiltered = filterAndRankFeatures(lv[lf], numFeatures);\n                        var rank = 0;\n                        lvRank = [];\n                        for (var pcf in lvFiltered) {\n                            lvRank.push({ featureName: pcf, rank: ++rank, importance: lvFiltered[pcf] });\n                        }\n                        jsonLvFiltered[lf] = lvRank;\n                    }\n                    return { classwiseImportantFeatures: jsonLvFiltered };\n                }\n            } else {\n                if (className) {\n                    var rank = 0;\n                    for (var lf in lv[className]) {\n                        lvRank.push({ featureName: lf, rank: ++rank, importance: lv[className][lf] });\n                    }\n                    return { classwiseImportantFeatures: lvRank };\n                } else {\n                    var jsonLv = {};\n                    for (var lf in lv) {\n                        var rank = 0;\n                        lvRank = [];\n                        var lastImportance = 0;\n                        for (var pcf in lv[lf]) {\n                            var importance = lv[lf][pcf];\n                            lvRank.push({ featureName: pcf, rank: (importance === lastImportance ? rank : ++rank), importance: importance });\n                            lastImportance = importance;\n                        }\n                        jsonLv[lf] = lvRank;\n                    }\n                    return { classwiseImportantFeatures: jsonLv };\n                }\n            }\n\t\t} else {\n\t\t\tvar gvFiltered = filterAndRankFeatures(gv, numFeatures); // Filter global features\n\t\t\tvar globalFeatures = [];\n\t\t\tvar rank = 0;\n\n\t\t\t// Rank the filtered global features\n\t\t\tfor (var gf in gvFiltered) {\n\t\t\t\tglobalFeatures.push({ featureName: gf, rank: ++rank, importance: gvFiltered[gf] });\n\t\t\t}\n\n\t\t\tvar classwiseFeatures = {};\n\n\t\t\t// Iterate through each class and filter class-specific features\n\t\t\tfor (var lf in lv) {\n\t\t\t\tvar lvFiltered = filterAndRankFeatures(lv[lf], numFeatures); // Filter local features\n\t\t\t\tlvRank = [];\n\t\t\t\trank = 0;\n\t\t\t\tvar lastImportance = 0;\n\n\t\t\t\t// Rank the filtered class-specific features\n\t\t\t\tfor (var pcf in lvFiltered) {\n\t\t\t\t\tvar importance = lvFiltered[pcf];\n\t\t\t\t\tlvRank.push({ featureName: pcf, rank: (importance === lastImportance ? rank : ++rank), importance: importance });\n\t\t\t\t\tlastImportance = importance;\n\t\t\t\t}\n\t\t\t\tclasswiseFeatures[lf] = lvRank;\n\t\t\t}\n\n\t\t\treturn { globalImportantFeatures: globalFeatures, classwiseImportantFeatures: classwiseFeatures };\n\t\t\t}\n\t\t}\n\n    try {\n        var stats = getImportantFeatures(currentSysId);\n        stats = formatStats(stats);\n        var responseBody = generateResponseBody(stats, level, numFeatures, className);\n        response.setBody(responseBody);\n        response.setStatus(200);\n        gs.info(\"Response Body is: \" + JSON.stringify(responseBody));\n    } catch (error) {\n        gs.error(\"Error processing request: \" + error.message);\n        response.setStatus(500);\n        response.setBody({ error: error.message });\n    }\n\n})(request, response);","sys_updated_on":"2024-09-25 06:15:34","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"992646f59320121018353b1c7489186f","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/model_explainability/getimportantfeatures","sys_created_on":"2024-09-10 17:34:32","sys_name":"getImportantFeatures","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/0a068ab59320121018353b1c7489183b","value":"0a068ab59320121018353b1c7489183b"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_ws_operation_992646f59320121018353b1c7489186f","consumes_customized":"false","name":"getImportantFeatures","produces":"application/json,application/xml,text/xml","relative_path":"/getimportantfeatures","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    response.setContentType('application/json');\n\tvar helper = new CSDMAppServiceHelper();\n\tvar id = helper.getParamAsString('sys_id');\n\t\n\tif (JSUtil.nil(id)) {\n\t\treturn new sn_ws_err.BadRequestError('Missing sys_id');\n\t}\n\t\n\tvar result = helper.getApplicationService(id);\n\tif (JSUtil.nil(result)) {\n\t\tvar error = new sn_ws_err.ServiceError();\n\t\terror.setStatus(500);\n\t\terror.setMessage(\"Service not found\");\n\t\treturn error;\n\t}\n\tresponse.setStatus(200);\n\tresponse.setBody(result);\n\n})(request, response);","sys_updated_on":"2020-03-24 21:40:52","enforce_acl":"edc5e02473230010ee4dd3c72bf6a7ea","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"992fdf73b7030010ee0d3177ee11a9ca","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/csdm_app_service/get_app_service","sys_created_on":"2020-02-25 22:13:59","sys_name":"Get Application Service","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/60c171d973c30010ee4dd3c72bf6a716","value":"60c171d973c30010ee4dd3c72bf6a716"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2f8d67ff04352210559073c06a02f74f","value":"2f8d67ff04352210559073c06a02f74f"},"sys_update_name":"sys_ws_operation_992fdf73b7030010ee0d3177ee11a9ca","consumes_customized":"false","name":"Get Application Service","produces":"application/json,application/xml,text/xml","relative_path":"/get_app_service","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    response.setContentType('application/json');\n\tvar helper = new CSDMAppServiceHelper();\n\tvar term = helper.getParamAsString('term');\n\tvar custom_query = helper.getParamAsString('custom_query');\n\tvar target_table = helper.getParamAsString('target_table');\n\tvar field = helper.getParamAsString('field');\n\t\n\tvar result = [];\n\t\n\tvar grs = new GlideRecordSecure(target_table);\n\tgrs.addEncodedQuery(field + \"STARTSWITH\" + term);\n\tif(custom_query){\n\t\tgrs.addEncodedQuery(custom_query);\n\t}\n\tgrs.query();\n\twhile(grs.next()){\n\t\tresult.push({sys_id: grs.getValue('sys_id'), name: grs.getValue(field)});\n\t}\n\n\tresponse.setStatus(200);\n\tresponse.setBody(result);\n\n})(request, response);","sys_updated_on":"2020-03-24 21:42:51","enforce_acl":"edc5e02473230010ee4dd3c72bf6a7ea","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"99350b5f53630010ee0dddeeff7b1228","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/csdm_app_service/search_manual_ci","sys_created_on":"2020-03-20 03:23:42","sys_name":"Get Manual CIs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/60c171d973c30010ee4dd3c72bf6a716","value":"60c171d973c30010ee4dd3c72bf6a716"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2f8d67ff04352210559073c06a02f74f","value":"2f8d67ff04352210559073c06a02f74f"},"sys_update_name":"sys_ws_operation_99350b5f53630010ee0dddeeff7b1228","consumes_customized":"false","name":"Get Manual CIs","produces":"application/json,application/xml,text/xml","relative_path":"/search_manual_ci","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar actSubCtx = global.ActivitySubscriptionContext.getContext();\n\tif(!actSubCtx.isPluginEnabled()){\n\t\tresponse.setStatus(400);\n\t\treturn {\"status\":400,\n\t\t\t\t\"message\":\"Plugin is disabled please contact system administrator\"};\n\t}\n\t//Fetch parameters\n\tvar subObject = request.pathParams.sub_object;\n\tvar subObjType = request.queryParams.objType;//orderBy, firstRow, lastRow\n\tvar orderBy = request.queryParams.orderBy;\n\tvar firstRow = request.queryParams.firstRow;\n\tvar lastRow = request.queryParams.lastRow;\t\n\tvar searchString = request.queryParams.searchString;\n\tvar fetchCount = request.queryParams.fetchCount;\n\n\tvar subscriptionService = actSubCtx.getSubscriptionService();\n\n\tvar result = subscriptionService.getSubscribersBySubscription(subObject, subObjType, orderBy, firstRow, lastRow, searchString, fetchCount);\n\n\tresponse.setStatus(result.status);\n\tresponse.setContentType('application/json');\n\tresponse.setBody(result);\n\n})(request, response);","sys_updated_on":"2017-06-20 05:20:23","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/882dfe6853003200fa9bd7b08cc587d5","value":"882dfe6853003200fa9bd7b08cc587d5"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"99612b5fdb433200624273c8f0b8f599","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/actsub/subscribers/{sub_object}","sys_created_on":"2017-06-05 04:00:14","sys_name":"Subscriptions","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/aabc7e6853003200fa9bd7b08cc5870f","value":"aabc7e6853003200fa9bd7b08cc5870f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"false","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/27dc6bfb04352210559073c06a02f739","value":"27dc6bfb04352210559073c06a02f739"},"sys_update_name":"sys_ws_operation_99612b5fdb433200624273c8f0b8f599","consumes_customized":"false","name":"Subscriptions","produces":"application/json,application/xml,text/xml","relative_path":"/subscribers/{sub_object}","produces_customized":"false","default_operation_uri":"/api/now/actsub/subscribers/{sub_object}","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var saOpsWrapper = new SaOperationsWrapper(SNC.SaActionsHandler);\n\tsaOpsWrapper.process(request,response, \"isChanged\");\n\n})(request, response);","sys_updated_on":"2018-03-11 12:47:24","enforce_acl":"ea4f3ae287132200b5bea18dd0e3eceb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"99cfee537f520300995cbaf8befa9109","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/it_service/isChanged","sys_created_on":"2017-11-13 13:44:00","sys_name":"IsChanged - Internal API","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3418e25f7f120300995cbaf8befa912e","value":"3418e25f7f120300995cbaf8befa912e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_99cfee537f520300995cbaf8befa9109","consumes_customized":"false","name":"IsChanged - Internal API","produces":"application/json,application/xml,text/xml","relative_path":"/isChanged","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n\tvar userId = request.pathParams.userId;\n\t\n\tUserCheck.verifyLoggedIn(userId);\n\n\tresponse.setBody({\n\t\tuser: userId,\n\t\tresult: UserPreferences.set(userId, request.body.data)\n\t});\n\tresponse.setStatus(200);\n\tresponse.setContentType('application/json');\n\n})(request, response);","sys_updated_on":"2016-06-09 20:19:32","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/3aee689137031200612747efbe41f143","value":"3aee689137031200612747efbe41f143"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"99e1d01237071200612747efbe41f1c6","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/users/{userId}/preferences","sys_created_on":"2016-04-29 17:54:22","sys_name":"Set User Preferences","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/842e289137031200612747efbe41f1ce","value":"842e289137031200612747efbe41f1ce"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"24","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_99e1d01237071200612747efbe41f1c6","consumes_customized":"false","name":"Set User Preferences","produces":"application/json,application/xml,text/xml","relative_path":"/{userId}/preferences","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/users/{userId}/preferences","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\n\tvar startSpanDate = request.queryParams.start_date_time;\n\tvar endSpanDate = request.queryParams.end_date_time ;\n\tvar userId = request.queryParams.user_id;\n\tvar rosterIds = request.queryParams.roster_id + \"\";\n\tvar groupId = request.queryParams.group_id + \"\";\n\tvar format = request.queryParams.format + \"\";\n\tvar onCallCommon = new OnCallCommon();\n\treturn onCallCommon.addOverride(startSpanDate, endSpanDate, userId, rosterIds, groupId, format);\n\t\n})(request, response);","sys_updated_on":"2019-09-18 11:45:09","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"99e798659fb012000391b89a442e70a5","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/addoverride","sys_created_on":"2016-01-06 14:11:24","sys_name":"addOverride","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"168","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_99e798659fb012000391b89a442e70a5","consumes_customized":"false","name":"addOverride","produces":"application/json,application/xml,text/xml","relative_path":"/addoverride","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar chat_channel_id = 'ea0cb816732110104a905ee515f6a7b5';\n    var userTable = gs.nil(request.queryParams.user_table) ? null : request.queryParams.user_table;\n\tvar userDocument = gs.nil(request.queryParams.user_document) ? null : request.queryParams.user_document;\n\tvar agentPhoneNumber = request.queryParams.agent_phone_number;\n\tvar clientPhoneNumber = request.queryParams.client_phone_number;\n\tvar channelSysId = gs.nil(request.queryParams.channel_sys_id) ? null : request.queryParams.channel_sys_id;\n\tvar result = {};\n\n\tif (channelSysId == chat_channel_id) {\n\t\tresult = sn_cs.AsyncChatSetupScriptObject.validateChannelProfile(userTable, userDocument, clientPhoneNumber);\n\t} else {\n\t\tresult = sn_cs.MessageSetupScriptObject.validateChannelProfile(userTable, userDocument, agentPhoneNumber, clientPhoneNumber, channelSysId);\n\t}\n\tvar interactionGr = result.interaction;\n\tvar profileMatching = result.profile_matching;\n\tvar otherProfileMatching = result.other_profile_matching;\n\tif (result) {\n\t\tif (result.successful) {\n\t\t\tresponse.setBody({\n\t\t\t\t'profile_matching': profileMatching,\n\t\t\t\t'interaction': interactionGr?constructInteractionData(interactionGr) : null,\n\t\t\t\t'other_profile_matching': otherProfileMatching,\n\t\t\t\t'other_profile_record': interactionGr ? constructOtherProfileRecord(interactionGr) : null\n\t\t\t});\n\t\t\tresponse.setStatus(200);\n\t\t} else {\n\t\t\tresponse.setBody({\n\t\t\t\t'profile_matching': profileMatching,\n\t\t\t\t'interaction': interactionGr ? constructInteractionData(interactionGr) : null,\n\t\t\t\t'other_profile_matching': otherProfileMatching,\n\t\t\t\t'other_profile_record': interactionGr ? constructOtherProfileRecord(interactionGr) : null\n\t\t\t});\n\t\t\tresponse.setStatus(200);\n\t\t}\n\t} else {\n\t\tresponse.setStatus(500);\n\t}\n\n})(request, response);\n\nfunction constructInteractionData (interactionGr) {\n\tvar res = null;\n\tif (!gs.nil(interactionGr.getValue('sys_id'))) {\n\t\tres = {\n\t\t\tnumber: interactionGr.getValue('number'),\n\t\t\tsys_id: interactionGr.getValue('sys_id'),\n\t\t\tsys_updated_on: interactionGr.getValue('sys_updated_on'),\n\t\t\topened_for: {\n\t\t\t\tname: interactionGr.opened_for ? interactionGr.opened_for.name : null,\n\t\t\t\tsys_id: interactionGr.opened_for ? interactionGr.opened_for.sys_id : null\n\t\t\t},\n\t\t\tassigned_to: {\n\t\t\t\tname: gs.nil(interactionGr.assigned_to.name) ? null : interactionGr.assigned_to.name,\n\t\t\t\tsys_id: gs.nil(interactionGr.assigned_to) ? null : interactionGr.assigned_to.sys_id\n\t\t\t},\n\t\t\tsubtype: interactionGr.getValue('subtype'),\n\t\t\tcontact: {\n\t\t\t\tname: gs.nil(interactionGr.contact.name) ? null : interactionGr.contact.name,\n\t\t\t\tsys_id: gs.nil(interactionGr.contact) ? null : interactionGr.contact.sys_id\n\t\t\t},\n\t\t\tconsumer: {\n\t\t\t\tname: gs.nil(interactionGr.consumer.name) ? null : interactionGr.consumer.name,\n\t\t\t\tsys_id: gs.nil(interactionGr.consumer) ? null : interactionGr.consumer.sys_id\n\t\t\t}\n\t\t};\n\t}\n\treturn res;\n}\n\nfunction constructOtherProfileRecord (interactionGr) {\n\tvar res = null;\n\tif (!gs.nil(interactionGr.channel_user_profile.display_name)) {\n\t\tres = {\n\t\t\tdisplay_name: interactionGr.channel_user_profile.display_name,\n\t\t\tid: interactionGr.channel_user_profile.channel_user_id\n\t\t};\n\t}\n\treturn res;\n}","sys_updated_on":"2021-06-28 21:25:47","enforce_acl":"70cffc8db7212010ffe5ef54ce11a9e2","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"99fcb947b760101042a9ef54ce11a910","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/initiate_message/validate_profile","sys_created_on":"2020-05-07 21:09:18","sys_name":"profile validation","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/47dc3947b760101042a9ef54ce11a989","value":"47dc3947b760101042a9ef54ce11a989"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"51","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9cc37b3704b52210559073c06a02f781","value":"9cc37b3704b52210559073c06a02f781"},"sys_update_name":"sys_ws_operation_99fcb947b760101042a9ef54ce11a910","consumes_customized":"false","name":"profile validation","produces":"application/json,application/xml,text/xml","relative_path":"/validate_profile","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var receivedParams = request.pathParams;\n    var historyId = receivedParams.history_id;\n    var recommender = receivedParams.recommender;\n    var recommendedBy = receivedParams.recommended_by;\n    response.setContentType('application/json');\n\n    if (gs.nil(historyId)) {\n        response.setError(new sn_ws_err.BadRequestError(gs.getMessage('Missing required parameters')));\n    } else if (recommender == 'recommender' || recommendedBy == 'recommendedBy') {\n        response.setBody({\n            status: \"Guidance currently unavailable\"\n        });\n        response.setStatus(200);\n    } else {\n        try {\n            var interactionResponse = {};\n\n            var guidanceModel = new sn_gd_guidance.GuidedDecisionsGuidanceModel();\n            var isUserValid = guidanceModel.isUserValid(recommender, recommendedBy);\n            if (!isUserValid) {\n                var accessDeniedResponseBody = {\n                    status: \"400\",\n                    errorType: \"accessDenied\",\n                    errorMessage: gs.getMessage(\"Access Denied: Check permissions to view the guidance\")\n                };\n                response.setBody(accessDeniedResponseBody);\n                return;\n            }\n            var guidanceDetails = guidanceModel.getGuidanceObjectBySysId(historyId);\n            if (guidanceDetails) {\n                interactionResponse.guidanceDetails = guidanceDetails;\n                response.setBody(interactionResponse);\n                response.setStatus(200);\n            } else {\n                var guidanceErrorResponseBody = {\n                    status: \"400\",\n                    errorType: \"guidanceError\",\n                    errorMessage: gs.getMessage(\"Error fetching guidance details\")\n                };\n                response.setBody(guidanceErrorResponseBody);\n            }\n\n        } catch (err) {\n            var customErrObj = new sn_ws_err.ServiceError();\n            customErrObj.setStatus(500);\n            customErrObj.setMessage(gs.getMessage('Error fetching guidance detail'));\n            response.setError(customErrObj);\n            gs.error(JSON.stringify(err));\n        }\n    }\n\n})(request, response);","sys_updated_on":"2024-03-07 10:49:36","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9a15707d714d3010f877be90015ae4d2","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_gd_guidance/guided_decisions_guidance_api/guidance_object_by_sys_id/{history_id}/{recommender}/{recommended_by}","sys_created_on":"2021-06-30 06:56:57","sys_name":"Get Guidance Object By SysId","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/fd76ed5a3b570010119c870044efc470","value":"fd76ed5a3b570010119c870044efc470"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3bcffc6677c81010d7159b71a91061df","value":"3bcffc6677c81010d7159b71a91061df"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"11","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fd76ed5a3b570010119c870044efc470","value":"fd76ed5a3b570010119c870044efc470"},"sys_update_name":"sys_ws_operation_9a15707d714d3010f877be90015ae4d2","consumes_customized":"false","name":"Get Guidance Object By SysId","produces":"application/json,application/xml,text/xml","relative_path":"/guidance_object_by_sys_id/{history_id}/{recommender}/{recommended_by}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var appManagerApiUtil = new AppManagerApiUtil(request, response);\n    var handler = new AppManagerHandler();\n    try {\n        appManagerApiUtil.verifyTablesReadAccess([\"sys_store_app\"]);\n        var requestParams = appManagerApiUtil.getRequestParams();\n        var result = handler.repairApp(requestParams);\n        appManagerApiUtil.setResponseBody(result);\n    } catch (err) {\n        appManagerApiUtil.setError(err);\n    }\n})(request, response);","sys_updated_on":"2025-03-14 01:14:56","enforce_acl":"3966a96cf53bc610f87752fa9ffbe0da","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/be08b89397b0d1104b593f0e6253afe1","value":"be08b89397b0d1104b593f0e6253afe1"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9a25547077902110c918256a5b5a9940","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_appclient/v1/appmanager/app/repair","sys_created_on":"2023-01-07 07:48:58","sys_name":"Repair Application","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7ea1fc5f9770d1104b593f0e6253af99","value":"7ea1fc5f9770d1104b593f0e6253af99"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_update_name":"sys_ws_operation_9a25547077902110c918256a5b5a9940","consumes_customized":"false","name":"Repair Application","produces":"application/json,application/xml,text/xml","relative_path":"/app/repair","produces_customized":"false","default_operation_uri":"/api/sn_appclient/appmanager/app/repair","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\n\tif (!request.pathParams.step_id){\n\t\tresponse.setBody({msg: \"Step ID is required\"});\n\t\tresponse.setStatus(400);\n\t\treturn;\n\t} \n\t\n\tvar controller = new GTStepsController();\n\tvar tourId = request.pathParams.tour_id;\n\tvar stepId = request.pathParams.step_id;\n\tvar payload = request.body.data;\n\t\n\tcontroller.updateStep(tourId, stepId, payload, function(err, data) {\n\t\tif (err) {\t\t\t\n\t\t\tresponse.setBody({msg: data.msg});\t\t\t\n\t\t\tif(data.status === \"BAD_REQUEST\")\n\t\t\t\tresponse.setStatus(400);\n\t\t\telse if (data.status === \"NOT FOUND\")\n\t\t\t\tresponse.setStatus(404);\n\t\t\telse if(data.status === \"INTERNAL_ERROR\")\n\t\t\t\tresponse.setStatus(500);\n\t\t} else {\n\t\t\tresponse.setBody({id: data.id});\n\t\t\tresponse.setStatus(200);\n\t\t}\n\t});\n\t\n\n})(request, response);","sys_updated_on":"2018-08-30 08:40:27","enforce_acl":"cad7104a877b1300b38c0f4c59cb0bdb","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/3268f36173eb13007077edcc5ef6a738","value":"3268f36173eb13007077edcc5ef6a738"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9a6ad7ef732313007077edcc5ef6a728","http_method":"PUT","sys_updated_by":"admin","operation_uri":"/api/now/v1/guided_tours/tours/{tour_id}/steps/{step_id}","sys_created_on":"2018-08-02 11:59:56","sys_name":"Update step","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/2405194d87e73200b38c0f4c59cb0b6f","value":"2405194d87e73200b38c0f4c59cb0b6f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_update_name":"sys_ws_operation_9a6ad7ef732313007077edcc5ef6a728","consumes_customized":"false","name":"Update step","produces":"application/json,application/xml,text/xml","relative_path":"/tours/{tour_id}/steps/{step_id}","produces_customized":"false","default_operation_uri":"/api/now/guided_tours/tours/{tour_id}/steps/{step_id}","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var reportId = request.pathParams.report_id;\n\n    try {\n        var body = request.body.dataString;\n\n        var responseString = JSON.parse(SNC.ReportAlias.saveAliases(reportId, body));\n\n        response.setContentType('application/json');\n        response.setStatus(200);\n        response.setBody(\n            responseString\n        );\n\n        return response;\n    } catch (e) {\n        //convert the exception to response.\n        var ex = e + '';\n        var errorResponse = new sn_ws_err.ServiceError();\n        errorResponse.setMessage(ex);\n\n        if (ex.indexOf('IllegalArgumentException') > 0)\n            errorResponse.setStatus(400);\n        else if (ex.indexOf('ACLException') > 0)\n            errorResponse.setStatus(403);\n        else\n            errorResponse.setStatus(500);\n\n        return errorResponse;\n    }\n\n})(request, response);","sys_updated_on":"2020-03-20 07:25:47","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9a6be062b703001032d189fbde11a945","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/reporting_alias/{report_id}","sys_created_on":"2020-02-21 11:41:18","sys_name":"Save Report Field Aliases","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/313640c4b73100108e2aee90ee11a9b5","value":"313640c4b73100108e2aee90ee11a9b5"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"16","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fb08e33304f12210559073c06a02f7a6","value":"fb08e33304f12210559073c06a02f7a6"},"sys_update_name":"sys_ws_operation_9a6be062b703001032d189fbde11a945","consumes_customized":"false","name":"Save Report Field Aliases","produces":"application/json,application/xml,text/xml","relative_path":"/{report_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    try {\n        const events = [];\n        const eventNameLookup = {};\n        let currentEventName = \"\";\n        const gr = new GlideRecord(\"sysevent_register\");\n\n        gr.orderBy(\"event_name\");\n        gr.query();\n\n        while (gr.next()) {\n            currentEventName = gr.getValue(\"event_name\");\n\n            if (!eventNameLookup[currentEventName]) {\n                eventNameLookup[currentEventName] = true;\n                events.push({\n                    \"event_name\": gr.getValue(\"event_name\")\n                });\n            }\n        }\n\n        response.setStatus(200);\n        response.setBody(events);\n\n    } catch (exception) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(500)\n            .setMessage(gs.getMessageLang(\"Unhandled exception {0}\", \"en\", [exception]))\n            .setDetail(gs.getMessage(\"Unhandled exception {0}\", [exception]));\n    }\n\n})(request, response);","sys_updated_on":"2022-08-01 20:44:39","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/312c459a53b50110b846ddeeff7b121f","value":"312c459a53b50110b846ddeeff7b121f"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9a8b5c7377301110f082d599cf5a99b5","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_aes_notificatio/v1/tables/sysevent_register","sys_created_on":"2022-07-26 16:20:39","sys_name":"GET System Event List","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/284c35195bf9198f084ee79a76e157b9","value":"284c35195bf9198f084ee79a76e157b9"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/a8a3845253f10110b846ddeeff7b1216","value":"a8a3845253f10110b846ddeeff7b1216"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/284c35195bf9198f084ee79a76e157b9","value":"284c35195bf9198f084ee79a76e157b9"},"sys_update_name":"sys_ws_operation_9a8b5c7377301110f082d599cf5a99b5","consumes_customized":"false","name":"GET System Event List","produces":"application/json,application/xml,text/xml","relative_path":"/sysevent_register","produces_customized":"false","default_operation_uri":"/api/sn_aes_notificatio/tables/sysevent_register","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\n\tvar payload = request.body.data;\n\n    // If there's no payload and no query parameter we can return an error.\n    if (global.JSUtil.isEmpty(payload))\n        return new sn_ws_err.BadRequestError(\"No Query String provided\");\n\t\n\tvar aceUtil = new ACEAppBuilderUtilV2();\n\tvar blockName = payload.blockname;\n\tvar blockParameters = payload.blockparams || [];\n\tvar appConfigId = payload.aceconfig;\n\tvar blockId = aceUtil.upsertReusableBlock(blockName, blockParameters, appConfigId);\n\n\tresponse.setBody({blockId: blockId});\n\t\n})(request, response);","sys_updated_on":"2023-04-13 13:32:55","enforce_acl":"0bba350f774e2110bc5db5b27a5a99cd","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9ac208ca53179110c733ddeeff7b123e","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/ace/reusableblock","sys_created_on":"2022-11-22 10:38:18","sys_name":"upsertReusableBlock","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/090c5ee353721110c733ddeeff7b1299","value":"090c5ee353721110c733ddeeff7b1299"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_update_name":"sys_ws_operation_9ac208ca53179110c733ddeeff7b123e","consumes_customized":"false","name":"upsertReusableBlock","produces":"application/json,application/xml,text/xml","relative_path":"/reusableblock","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar EMBED_KB_LINK = 'embed_link';\n    var payload = request.body.data;\n    if (JSUtil.isEmpty(payload))\n        return new sn_ws_err.BadRequestError(\"Payload is empty\");\n\n\tvar relevantDoc = payload.relevant_doc.split(':');\n\tvar attachmentType = payload.attachment_type || EMBED_KB_LINK;\n\n\tkbAttachment = new cxs_Knowledge().getArticleInfoInternal(relevantDoc[1], attachmentType);\n\n\tif (kbAttachment)\n\t\tresponse.setBody(kbAttachment);\n\n})(request, response);","sys_updated_on":"2024-01-02 14:19:07","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9ae81fadb30033002bf182c136a8dc73","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/cxs_actions/attach","sys_created_on":"2019-03-07 22:25:53","sys_name":"attach","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5f387aa0b32023002bf182c136a8dc1c","value":"5f387aa0b32023002bf182c136a8dc1c"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5209e3b704f12210559073c06a02f734","value":"5209e3b704f12210559073c06a02f734"},"sys_update_name":"sys_ws_operation_9ae81fadb30033002bf182c136a8dc73","consumes_customized":"false","name":"attach","produces":"application/json,application/xml,text/xml","relative_path":"/attach","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        var requestBody = request.body.data;\n        var appSysId = requestBody.app_sys_id;\n        var name = requestBody.name;\n        var displayName = requestBody.display_name;\n\n        // Validate mandatory fields\n        if (!appSysId || !name || !displayName) {\n            return response.setStatus(400).setBody({ status: 'error', message: gs.getMessage('AppSysId, Name, and Display Name are required') });\n        }\n\n        // Call the Script Include to update or create the page\n        var result = new UXAPageUtils().updatePageDisplayName(appSysId, name, displayName);\n\n        return response.setBody(result);\n    } catch (error) {\n        return response.setStatus(500).setBody({ status: 'error', message: gs.getMessage('An unexpected error occurred') });\n    }\n})(request, response);\n","sys_updated_on":"2024-09-17 16:43:16","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/d93d4288ffe7c21024f4ffffffffff52","value":"d93d4288ffe7c21024f4ffffffffff52"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9aeb6ab09f2052103bf5cb348a0a1cba","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_uxa_req_manager/v1/uxa_data/update-page-display-name","sys_created_on":"2024-09-07 17:40:01","sys_name":"Update Page Display Name","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/e9f5c0d20b620210e8a937009777b2d7","value":"e9f5c0d20b620210e8a937009777b2d7"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_update_name":"sys_ws_operation_9aeb6ab09f2052103bf5cb348a0a1cba","consumes_customized":"false","name":"Update Page Display Name","produces":"application/json,application/xml,text/xml","relative_path":"/update-page-display-name","produces_customized":"false","default_operation_uri":"/api/sn_uxa_req_manager/uxa_data/update-page-display-name","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // Get capabilityId from path param\n    var pathParams = request.pathParams;\n    var capabilityId = pathParams.capabilityId;\n\n    var capabilityAttributes = sn_one_extend.OneExtendUtil.getCapabilityAttributes(capabilityId);\n\tresponse.setBody(capabilityAttributes);\n\n})(request, response);","sys_updated_on":"2023-04-07 04:40:36","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/08a4748a53a02110c271ddeeff7b127b","value":"08a4748a53a02110c271ddeeff7b127b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9bbb60c253a02110c271ddeeff7b12b7","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/oneextend/scripted/capability/attributes/{capabilityId}","sys_created_on":"2023-01-23 16:57:17","sys_name":"GetAttributes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/adf99ef153202110c271ddeeff7b12ff","value":"adf99ef153202110c271ddeeff7b12ff"},"consumes":"application/json","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7c84affb04312210559073c06a02f73d","value":"7c84affb04312210559073c06a02f73d"},"sys_update_name":"sys_ws_operation_9bbb60c253a02110c271ddeeff7b12b7","consumes_customized":"false","name":"GetAttributes","produces":"application/json","relative_path":"/scripted/capability/attributes/{capabilityId}","produces_customized":"false","default_operation_uri":"/api/now/oneextend/scripted/capability/attributes/{capabilityId}","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n    var appId = request.pathParams.appId;\n\n    ScopeCheck.verifyNotGlobal(appId);\n    var allowed = VCSAppAccessCheck.verifyReadAccess(appId) && (VCSAppAccessCheck.isGACOrSourceControlUser() || VCSAppAccessCheck.verifyVersionControlAccess(appId));\n\n    if (!allowed) \n\t\tVCSAppAccessCheck.throwAccessDenied(appId);\n\n    var repo = sn_vcs.AppSourceControl.getRepository(appId),\n        stash = repo.getStash(request.pathParams.stashId);\n\n    if (stash) {\n        response.setBody({\n            sysId: stash.getSysId(),\n            repoId: stash.getSysRepoConfigSysId(),\n            name: stash.getName(),\n            description: stash.getDescription(),\n            sourceCommit: stash.getSourceCommit(),\n            destinationCommit: stash.getDestinationCommit()\n        });\n    }\n\n    response.setStatus(200);\n    response.setContentType('application/json');\n\n})(request, response);","sys_updated_on":"2021-04-06 20:16:13","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9be89d6337301200612747efbe41f185","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/apps/{appId}/repos/{repoId}/stashes/{stashId}","sys_created_on":"2016-01-13 00:17:32","sys_name":"Get Stash","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"9","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_9be89d6337301200612747efbe41f185","consumes_customized":"false","name":"Get Stash","produces":"application/json,application/xml,text/xml","relative_path":"/apps/{appId}/repos/{repoId}/stashes/{stashId}","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/apps/{appId}/repos/{repoId}/stashes/{stashId}","sys_policy":"read"},{"short_description":"","operation_script":"(function process(request, response) {\n    var requestParams, progressId, repo;\n\n    var allowed = VCSAppAccessCheck.verifyCreateAccess();\n    if (!allowed)\n        VCSAppAccessCheck.throwAccessDenied();\n\n    requestParams = request.body.data;\n\t\n\tvar credential = SourceControlHelper.getAppropriateCredential(requestParams.url, requestParams.credential);\n\n    repo = sn_vcs.AppSourceControl.registerRepository()\n        .setRepositoryURL(requestParams.url)\n        .setBranchName(requestParams.branch)\n        .setCredential(credential)\n        .setTestConnection(!!requestParams.setTestConnection)\n        .setDefaultCommitEmail(requestParams.email)\n        .setUseDefaultEmailForAllCommits(requestParams.use_default_email_for_all);\n\n    if (requestParams.hasOwnProperty(\"upgradeBaseApp\"))\n        repo.setUpgradeVendorApp(requestParams.upgradeBaseApp);\n\n    if (requestParams.mid_server)\n        repo.setMidServerId(requestParams.mid_server);\n\n    progressId = repo.start();\n\n    response.setContentType('application/json');\n    response.setBody({\n        progressId: progressId\n    });\n    response.setStatus(202);\n\n})(request, response);","sys_updated_on":"2021-04-15 20:15:35","enforce_acl":"a2bc421e37001200612747efbe41f1f0","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9bf2bd7237930200612747efbe41f1d5","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/apps","sys_created_on":"2015-10-28 04:20:56","sys_name":"Import Application","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"30","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_9bf2bd7237930200612747efbe41f1d5","consumes_customized":"false","name":"Import Application","produces":"application/json,application/xml,text/xml","relative_path":"/apps","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/apps","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t//System exclusion List\n\tvar manager = new global.CreateOrUpdateITService() ;\n\tvar systemExclusionList = manager.retrieveSystemExcludeList();\n\n\t//Returns true if typeName appears in the excludeList list\n\tvar checkIfInList = function(excludeList, typeName) {\n\t\tvar iterator = excludeList.iterator();\n\t\twhile (iterator.hasNext()) {\n\t\t\tvar parentInstanceName = iterator.next();\n\t\t\tvar test =  GlideDBObjectManager.get().isInstanceOf(typeName,parentInstanceName);\n\t\t\tif (test) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t};\n\n\t//sorts two types according to their label (ascending)\n\tvar comperator = function(typeA, typeB) {\n\t\tvar typeLC_a = typeA.label.toLowerCase();\n\t\tvar typeLC_b = typeB.label.toLowerCase();\n\t\tif (typeLC_a < typeLC_b){\n\t\t\treturn -1;\n\t\t} else if (typeLC_a > typeLC_b){\n\t\t\treturn  1;\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t};\n\n\n\t//used to allow only a specific type\n\tvar expectedTypeSource = request.queryParams[\"expectedType\"];\n\n\tvar expectedType = null;\n\tif (expectedTypeSource) {\n\t\texpectedType= expectedTypeSource;\n\t}\n\n\n    // implement resource here\n\tvar ciClasses = [];\n    var children = GlideDBObjectManager.get().getAllExtensions(\"cmdb_ci\");\n\n    for (var index = 0; index < children.size(); index++) {\n\t\tvar retJson = {};\n\t\tvar typeName = children.get(index);\n\n\t\tvar isInSystemExclusionList = checkIfInList(systemExclusionList, typeName);\n\t\tif (isInSystemExclusionList) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tvar isExpectedType = (!expectedType) || (typeName == expectedType);\n\t\tvar isDirectConfigurationItem = (typeName == \"cmdb_ci\");\n\t\tif (isExpectedType && !isDirectConfigurationItem){\n\t\t\tretJson.id = typeName;\n\t\t\tretJson.name = typeName;\n\t\t\tvar tableDesc = GlideTableDescriptor.get(typeName);\n\t\t\tretJson.label =  tableDesc.getLabel();\n\t\t\tretJson.sys_id = tableDesc.getUniqueID();\n\t\t\tciClasses.push(retJson);\n\t\t}\n\t}\n\treturn ciClasses.sort(comperator);\n})(request, response);","sys_updated_on":"2022-03-22 11:45:16","enforce_acl":"ea4f3ae287132200b5bea18dd0e3eceb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9c1ff6c393a23200443674aff67ffb8f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/manual_ci/getCITypes","sys_created_on":"2017-05-10 10:16:47","sys_name":"getCITypes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/be2cb28393a23200443674aff67ffba6","value":"be2cb28393a23200443674aff67ffba6"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"101","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_9c1ff6c393a23200443674aff67ffb8f","consumes_customized":"false","name":"getCITypes","produces":"application/json,application/xml,text/xml","relative_path":"/getCITypes","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\t\t\tconst mobileThemeIds =  new sn_mobile_theme.MobileThemeColorAPI().getMobileThemeIds();\n\t\t\tconst result = [];\n\t\t\tmobileThemeIds.forEach((currentThemeId) => {\n\t\t\t\tconst uxThemesGr = new GlideRecord(\"sys_ux_theme\");\n\t\t\t\tuxThemesGr.get(currentThemeId);\n\t\t\t\tif(uxThemesGr.isValid()) result.push({id: currentThemeId, label: uxThemesGr.getDisplayValue()});\n\t\t\t});\n\t\t\treturn result;\n\t\t})(request, response);","sys_updated_on":"2023-08-09 10:52:00","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9c9df336ebfa21104307fd00525228bf","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/mcb/mobile_ux_themes","sys_created_on":"2023-05-18 12:38:55","sys_name":"Mobile UX Themes - Get","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/63d8b7c573c51010a59b4c5353f6a737","value":"63d8b7c573c51010a59b4c5353f6a737"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_update_name":"sys_ws_operation_9c9df336ebfa21104307fd00525228bf","consumes_customized":"false","name":"Mobile UX Themes - Get","produces":"application/json,application/xml,text/xml","relative_path":"/mobile_ux_themes","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var options = UDCUtil.assign({},\n        request.pathParams,\n        UDCUtil.normalizeQueryParams(request.queryParams)\n    );\n    var apiResponse = DeveloperHistory.getHistoryEntries(options);\n\n    response.setBody(apiResponse);\n\n})(request, response);","sys_updated_on":"2023-11-01 10:43:37","enforce_acl":"c634a3a0a392311018d4189b66fcda72","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a09dceb7a3f5f11018d4189b66fcdaea","value":"a09dceb7a3f5f11018d4189b66fcdaea"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9cf9253fa3bdb11018d4189b66fcda2b","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_udc/v1/developer_history/entries","sys_created_on":"2023-10-17 07:27:03","sys_name":"GET History Entries","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/82c969fba3bdb11018d4189b66fcdaf4","value":"82c969fba3bdb11018d4189b66fcdaf4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"11","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_update_name":"sys_ws_operation_9cf9253fa3bdb11018d4189b66fcda2b","consumes_customized":"false","name":"GET History Entries","produces":"application/json,application/xml,text/xml","relative_path":"/entries","produces_customized":"false","default_operation_uri":"/api/sn_udc/developer_history/entries","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var restHandler, result, stepId, dependencyId, dependencies, requestBody;\n\ttry {\n\t\trestHandler = new sn_ads_setup.SNHelpSetupRestHandler();\n\t\trequestBody = request.body && request.body.data;\n\t\tstepId = request.pathParams.step_id;\n\t\tdependencyId = request.pathParams.dependency_id;\n\t\t\n\t\tresult = restHandler.createDependency(dependencyId, stepId, requestBody);\n\t\t\n\t\tresponse.setStatus(result.status);\n\n\t\tif (result.error) {\n\t\t\tresponse.setBody({error: result.error});\n\t\t} else {\n\t\t\tresponse.setBody(result.data);\n\t\t}\n\n\t} catch (e) {\n\t\tresponse.setStatus(500);\n\t\tgs.error(\"SNHelpSetupRestHandler: \" + e.message);\n\t\tresponse.setBody({error: \"Internal server error\"});\n\t}\n\t\n\n})(request, response);","sys_updated_on":"2022-09-21 07:31:57","enforce_acl":"d0fc8522534a0110f54fddeeff7b123d","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9cfb7371775041106ee492b01e5a99f4","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_ads_setup/build/dependency/{dependency_id}/step/{step_id}","sys_created_on":"2021-12-09 10:49:07","sys_name":"Create Dependency ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/6db6b2ab53444110f54fddeeff7b1232","value":"6db6b2ab53444110f54fddeeff7b1232"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"29","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_update_name":"sys_ws_operation_9cfb7371775041106ee492b01e5a99f4","consumes_customized":"false","name":"Create Dependency ","produces":"application/json,application/xml,text/xml","relative_path":"/dependency/{dependency_id}/step/{step_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var attachmemtSysId = request.pathParams.sys_id + '';\n\tvar response_body = {};\n\tvar attachmentRecord = new GlideRecord('sys_attachment');\n\tif (!attachmentRecord.get(attachmemtSysId)) {\n\t\tresponse.setStatus(404);\n\t\tresponse_body.errMsg = gs.getMessage(\"Resource not found\");\n\t\treturn response_body;\n\t}\n\n\tif (!attachmentRecord.canRead()) {\n\t\tresponse.setStatus(403);\n\t\tresponse_body.errMsg = gs.getMessage(\"User does not have access to this resource\");\n\t\treturn response_body;\n\t}\n\t\n\treturn sn_snap.AntiVirusOnDemandAdvisor.getAvailabilityForDownload(attachmemtSysId);\n\n})(request, response);","sys_updated_on":"2024-04-18 17:15:29","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9d0e17e40b73230033cdcdd425673a55","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/as_attachment/getAvailability/{sys_id}","sys_created_on":"2019-02-20 10:08:30","sys_name":"Get Availability For Download","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/95609ba00b73230033cdcdd425673a8b","value":"95609ba00b73230033cdcdd425673a8b"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4e442f7b04312210559073c06a02f7bb","value":"4e442f7b04312210559073c06a02f7bb"},"sys_update_name":"sys_ws_operation_9d0e17e40b73230033cdcdd425673a55","consumes_customized":"false","name":"Get Availability For Download","produces":"application/json,application/xml,text/xml","relative_path":"/getAvailability/{sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Gets the list of NLQ sample searches and their associated table and labels","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var util = new CMDBWorkspaceUtil();\n    var searchData = {};\n    var sampleSearchSysIds = [];\n    var grs = new GlideRecordSecure('sn_cmdb_ws_nlq_sample_search');\n    grs.setLimit(request.queryParams && request.queryParams.resultLimit ?\n        request.queryParams.resultLimit :\n        DEFAULT_RESULTS_LIMIT);\n    grs.orderBy('sys_updated_on');\n\tgrs.setCategory(util.CMDB_WORKSPACE_DB_CATEGORY);\n    grs.query();\n    while (grs.next()) {\n        searchData[grs.getDisplayValue('search_term')] = [];\n        sampleSearchSysIds.push(grs.getValue('sys_id'));\n    }\n    grs = new GlideRecordSecure('sn_cmdb_ws_nlq_sample_search_table');\n    grs.addQuery('sample_search', 'IN', sampleSearchSysIds);\n\tgrs.setCategory(util.CMDB_WORKSPACE_DB_CATEGORY);\n    grs.query();\n    while (grs.next()) {\n\t\tvar tableName = grs.getValue('table');\n\t\tvar tableGrs = new GlideRecordSecure(tableName);\n        var searchTerm = grs.getDisplayValue('sample_search');\n        searchData[searchTerm].push({\n            label: tableGrs.getClassDisplayValue(),\n            table: tableName\n        });\n    }\n\tresponse.setBody(searchData);\n\n})(request, response);","sys_updated_on":"2023-03-22 06:45:06","enforce_acl":"39a22ab60735011017b703767cd30036,a3036eb60735011017b703767cd300b7","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9d2ccc6f07f0511017b703767cd30072","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_cmdb_ws/cmdb_workspace_api_scoped/sample_search","sys_created_on":"2022-07-25 20:50:22","sys_name":"Get sample searches","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3ff417b78f3f2010960c53ac37bdeefb","value":"3ff417b78f3f2010960c53ac37bdeefb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"9","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_update_name":"sys_ws_operation_9d2ccc6f07f0511017b703767cd30072","consumes_customized":"false","name":"Get sample searches","produces":"application/json,application/xml,text/xml","relative_path":"/sample_search","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var options = TBWUtil.assign({},\n        request.pathParams,\n        TBWUtil.normalizeQueryParams(request.queryParams)\n    );\n    var apiResponse = new TBWSheetAPI(options.attachmentId).build();\n\t\n\t\n\t\t\n    response.setBody(apiResponse);\n\n})(request, response);","sys_updated_on":"2022-01-27 15:40:34","enforce_acl":"59b0f35b77cd011066cfa9ff9a5a990d","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9d32f79b77cd011066cfa9ff9a5a992f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_table_bldr_wzd/app/sheet_info/{attachmentId}","sys_created_on":"2022-01-20 08:50:02","sys_name":"Excel Sheet Info","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5fc95d0df025bde7fac20ba52d0ecc05","value":"5fc95d0df025bde7fac20ba52d0ecc05"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7a088303770d011066cfa9ff9a5a99b2","value":"7a088303770d011066cfa9ff9a5a99b2"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5fc95d0df025bde7fac20ba52d0ecc05","value":"5fc95d0df025bde7fac20ba52d0ecc05"},"sys_update_name":"sys_ws_operation_9d32f79b77cd011066cfa9ff9a5a992f","consumes_customized":"false","name":"Excel Sheet Info","produces":"application/json,application/xml,text/xml","relative_path":"/sheet_info/{attachmentId}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    const apiHelper = new APIHelper(request, response);\n    apiHelper.execute(function() {\n\t\tconst templateHandler = new UIBTemplate();\n\t\tconst newTemplates = templateHandler.getRecordsByQuery(BuilderToolkitConstants.PAGE_TEMPLATE_QUERY);\n\t\tconst legacyTemplates = templateHandler.getLegacyTemplateRecords();\n        apiHelper.respondSuccesfully({newTemplates, legacyTemplates});\n    });\n})(request, response);","sys_updated_on":"2023-06-16 17:01:22","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9da842c043232110e70583020cb8f2a9","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/templates/page","sys_created_on":"2023-06-15 21:43:05","sys_name":"Page Templates","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_9da842c043232110e70583020cb8f2a9","consumes_customized":"false","name":"Page Templates","produces":"application/json,application/xml,text/xml","relative_path":"/templates/page","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var taskId = request.pathParams.taskId;\n    if (!taskId)\n        return new sn_ws_err.BadRequestError(\"Task Item id not provided\");\n\n    response.setBody(new SOWChangeUtils().getApprovals(taskId));\n})(request, response);","sys_updated_on":"2023-11-24 13:12:42","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a912b23453a6111088d8ddeeff7b1240","value":"a912b23453a6111088d8ddeeff7b1240"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9de7336b43c21110101939aaaab8f2e6","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sow_chg/v1/sow_change_utils/approvals/{taskId}","sys_created_on":"2022-09-26 18:25:47","sys_name":"Approvals","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3d876fa953615110532cddeeff7b12bb","value":"3d876fa953615110532cddeeff7b12bb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"23","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_update_name":"sys_ws_operation_9de7336b43c21110101939aaaab8f2e6","consumes_customized":"false","name":"Approvals","produces":"application/json,application/xml,text/xml","relative_path":"/approvals/{taskId}","produces_customized":"false","default_operation_uri":"/api/sn_sow_chg/sow_change_utils/approvals/{taskId}","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    const options = UDCUtil.assign({},\n        request.pathParams,\n        UDCUtil.normalizeQueryParams(request.queryParams)\n    );\n    try {\n        const taxonomyTypes = FileTaxonomy.getTaxonomyTypesDetails(options);\n        return taxonomyTypes;\n    } catch (e) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(500)\n            .setMessage(gs.getMessageLang(\"Unhandled exception {0}\", \"en\", [e]))\n            .setDetail(gs.getMessage(\"Unhandled exception {0}\", [e]));\n    }\n\n})(request, response);","sys_updated_on":"2024-05-08 05:00:39","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/90711aa05bdc31109cf872c60a81c7fb","value":"90711aa05bdc31109cf872c60a81c7fb"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9eb8faf4434a42507faf70d0a9b8f2bf","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_udc/v1/file_taxonomy/types","sys_created_on":"2024-05-06 11:56:23","sys_name":"Get Taxonomy Types","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ebf096a05bdc31109cf872c60a81c769","value":"ebf096a05bdc31109cf872c60a81c769"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_update_name":"sys_ws_operation_9eb8faf4434a42507faf70d0a9b8f2bf","consumes_customized":"false","name":"Get Taxonomy Types","produces":"application/json,application/xml,text/xml","relative_path":"/types","produces_customized":"false","default_operation_uri":"/api/sn_udc/file_taxonomy/types","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    return NLUStudioService.getEntitiesByModelId(request.pathParams.modelId);\n\n})(request, response);","sys_updated_on":"2021-04-20 05:47:29","enforce_acl":"ccd8a1e7772000105d7b3882a910617c","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/e4cda81e7333230021a044764df6a777","value":"e4cda81e7333230021a044764df6a777"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9edcb49e7333230021a044764df6a7e4","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/nlu/getEntitiesByModel/{modelId}","sys_created_on":"2019-02-25 08:44:39","sys_name":"getEntitiesByModel","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/55672c9a7333230021a044764df6a706","value":"55672c9a7333230021a044764df6a706"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"8","active":"false","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_ws_operation_9edcb49e7333230021a044764df6a7e4","consumes_customized":"false","name":"getEntitiesByModel","produces":"application/json,application/xml,text/xml","relative_path":"/getEntitiesByModel/{modelId}","produces_customized":"false","default_operation_uri":"/api/now/nlu/getEntitiesByModel/{modelId}","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar requestBody = request.body.data;\n\tvar recommendedBy = requestBody.recommendedBy;\n\tvar recommender = requestBody.recommender? requestBody.recommender : 'ga_decision_tree_execution';\n\tvar responseStatus = 200;\n\t\n\tif(gs.nil(recommendedBy)){\n\t\tresponseStatus = 400;\n\t\tresponse.setError(new sn_ws_err.BadRequestError(gs.getMessage('Invalid request parameter')));\n\t}\n\telse {\n\t\tvar guidanceModel = new sn_gd_guidance.GuidedDecisionsGuidanceModel();\t\n\t\tvar isUserValid = guidanceModel.isUserValid(recommender, recommendedBy);\n\t\tif(!isUserValid){\n\t\t\tvar accessDeniedResponseBody = {status:\"400\", errorType:\"accessDenied\", errorMessage:gs.getMessage(\"Access Denied: Check permissions to view the guidance\")};\n\t\t\tresponse.setBody(accessDeniedResponseBody);\n\t\t}\n\t\telse {\n\t\t\ttry{\n\t\t\t\tvar guidedDecisionsExecution = new sn_gd_guidance.GuidedDecisionsGuidanceExecution();\n\t\t\t\tvar status = 'error';\n\t\t\t\tstatus = guidedDecisionsExecution.skipGuidanceExecution(recommendedBy, recommender);\n\t\t\t\tvar skipResult = {};\n\t\t\t\tvar guidanceConstant = new sn_gd_guidance.GuidanceConstantsSNC();\n\t\t\t\tif(status && status.actionStatus == guidanceConstant.ERROR){\n\t\t\t\t\tresponseStatus = 200;\n\t\t\t\t}\n\t\t\t\t\tskipResult.status = status;\n\t\t\t}\n\t\tcatch(err){\n\t\t\tresponseStatus = 500;\n\t\t\tresponse.setError(new sn_ws_err.NotFoundError(gs.getMessage('Could not skip the execution : {0}', [err + ''])));\n\t\t}\n\t\tfinally{\n\t\t\tresponse.setStatus(responseStatus);\n\t\t\tresponse.setContentType('application/json');\n\t\t\tresponse.setBody(skipResult);\n\t\t}\n\t\t}\n\t}\n})(request, response);","sys_updated_on":"2024-03-06 12:55:55","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9eff70a677c81010d7159b71a91061fb","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_gd_guidance/guided_decisions_guidance_api/skip_guidance_execution","sys_created_on":"2020-04-11 06:14:19","sys_name":"Skip Guidance Execution","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/fd76ed5a3b570010119c870044efc470","value":"fd76ed5a3b570010119c870044efc470"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3bcffc6677c81010d7159b71a91061df","value":"3bcffc6677c81010d7159b71a91061df"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"9","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fd76ed5a3b570010119c870044efc470","value":"fd76ed5a3b570010119c870044efc470"},"sys_update_name":"sys_ws_operation_9eff70a677c81010d7159b71a91061fb","consumes_customized":"false","name":"Skip Guidance Execution","produces":"application/json,application/xml,text/xml","relative_path":"/skip_guidance_execution","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tconst pollId = request.queryParams.poll_id;\n\tif(!pollId) {\n\t\treturn sn_ws_err.NotFoundError('poll_id is a required field.');\n\t}\n\n\tconst gr = new MobileWWNA().getGenAIResponse({pollId: pollId});\n\n\tif(gr.next()) {\n\t\tconst status = gr.getValue('status');\n\t\tswitch(status) {\n\t\t\tcase 'processing':\n\t\t\t\treturn {\n\t\t\t\t\tStatus: status,\n\t\t\t\t\tRetryAfter: 1\n\t\t\t\t};\n\t\t\tdefault:\n\t\t\t\tconst responsePayload = JSON.parse(gr.response_payload);\n\t\t\t\treturn {\n\t\t\t\t\tStatus: status,\n\t\t\t\t\tMessage: responsePayload.Message,\n\t\t\t\t\tLogId: responsePayload.LogId\n\t\t\t\t};\n\t\t}\n\t} else {\n\t\treturn sn_ws_err.NotFoundError('No aynch service request found for poll_id: ' + pollId + '.');\n\t}\n\n})(request, response);","sys_updated_on":"2024-09-18 18:20:00","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9f090146c590121004895bfd9c731e6f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/generative/wwna_action_poll","sys_created_on":"2024-08-29 21:30:44","sys_name":"WWNA Action Poll","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/f68f36d03d3302107fa47b9a1f00ad45","value":"f68f36d03d3302107fa47b9a1f00ad45"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"20","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/23a57f7b04b52210559073c06a02f7fc","value":"23a57f7b04b52210559073c06a02f7fc"},"sys_update_name":"sys_ws_operation_9f090146c590121004895bfd9c731e6f","consumes_customized":"false","name":"WWNA Action Poll","produces":"application/json,application/xml,text/xml","relative_path":"/wwna_action_poll","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar imageSrc = new MyCompany().getBannerSrc();\n\tvar src = imageSrc.toString();\n\tif (src == \"1d9db08653522300dda1ddeeff7b1215.iix\") // old servicenow logo src\n\t\tsrc = null;\n\t\n\tresult = {\"imgSrc\": src};\n\tresponse.setBody(result);\n\n})(request, response);","sys_updated_on":"2021-12-13 20:24:31","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9f091bc677d801105d57a2059f5a9997","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/get_core_ui_logo_source/getCoreLogoSrc","sys_created_on":"2021-12-10 02:56:03","sys_name":"getCoreUILogoSrc","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/6ec81f8677d801105d57a2059f5a9936","value":"6ec81f8677d801105d57a2059f5a9936"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"false","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/37eda37304752210559073c06a02f7b6","value":"37eda37304752210559073c06a02f7b6"},"sys_update_name":"sys_ws_operation_9f091bc677d801105d57a2059f5a9997","consumes_customized":"false","name":"getCoreUILogoSrc","produces":"application/json,application/xml,text/xml","relative_path":"/getCoreLogoSrc","produces_customized":"true","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar enableSchemaViewPropertyName = \"sn_table_builder.enableSchemaView\";\n\tvar enableSchemaView = gs.getProperty(enableSchemaViewPropertyName, true);\n\tvar flags = {};\n\tflags[enableSchemaViewPropertyName] = enableSchemaView;\n\n\treturn flags;\n\n})(request, response);","sys_updated_on":"2023-04-12 07:41:38","enforce_acl":"f70e338e73f110107419c907fbf6a733","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9f1da052430f1110261cd32acab8f295","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_table_builder/app/featureFlags","sys_created_on":"2022-11-10 22:08:51","sys_name":"featureFlags","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f53f19bac362fa22ca2e93692d32f18f","value":"f53f19bac362fa22ca2e93692d32f18f"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/72cd338e73f110107419c907fbf6a730","value":"72cd338e73f110107419c907fbf6a730"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f53f19bac362fa22ca2e93692d32f18f","value":"f53f19bac362fa22ca2e93692d32f18f"},"sys_update_name":"sys_ws_operation_9f1da052430f1110261cd32acab8f295","consumes_customized":"false","name":"featureFlags","produces":"application/json,application/xml,text/xml","relative_path":"/featureFlags","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var restHandler, result;\n\ttry {\n\t\trestHandler = new sn_ads_setup.SNHelpSetupRestHandler();\n\t\tresult = restHandler.getGuidanceSummary(request.pathParams.sys_id);\n\t\tresponse.setStatus(result.status);\n\n\t\tif (result.error) {\n\t\t\tresponse.setBody({error: result.error});\n\t\t} else {\n\t\t\tresponse.setBody(result.data);\n\t\t}\n\n\t} catch (e) {\n\t\tresponse.setStatus(500);\n\t\tgs.error(\"SNHelpSetupRestHandler: \" + e.message);\n\t\tresponse.setBody({error: \"Internal server error\"});\n\t}\n\n})(request, response);","sys_updated_on":"2022-09-21 07:32:58","enforce_acl":"d0fc8522534a0110f54fddeeff7b123d","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9f1e1185771001106ee492b01e5a99d1","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_ads_setup/build/setup/{sys_id}/summary","sys_created_on":"2021-12-06 15:24:40","sys_name":"Guidance Summary","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/6db6b2ab53444110f54fddeeff7b1232","value":"6db6b2ab53444110f54fddeeff7b1232"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_update_name":"sys_ws_operation_9f1e1185771001106ee492b01e5a99d1","consumes_customized":"false","name":"Guidance Summary","produces":"application/json,application/xml,text/xml","relative_path":"/setup/{sys_id}/summary","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n   var restHandler, result, stepId, dependencyId, dependencies;\n\ttry {\n\t\trestHandler = new sn_ads_setup.SNHelpSetupRestHandler();\n\t\tstepId = request.pathParams.step_id;\n\t\tdependencyId = request.pathParams.dependency_id;\n\t\tresult = restHandler.deleteDependency(dependencyId, stepId);\n\t\tresponse.setStatus(result.status);\n\n\t\tif (result.error) {\n\t\t\tresponse.setBody({error: result.error});\n\t\t} else {\n\t\t\tresponse.setBody(result.data);\n\t\t}\n\n\t} catch (e) {\n\t\tresponse.setStatus(500);\n\t\tgs.error(\"SNHelpSetupRestHandler: \" + e.message);\n\t\tresponse.setBody({error: \"Internal server error\"});\n\t}\n\n})(request, response);","sys_updated_on":"2022-09-21 07:32:18","enforce_acl":"d0fc8522534a0110f54fddeeff7b123d","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9f340cfe772001106ee492b01e5a9914","http_method":"DELETE","sys_updated_by":"admin","operation_uri":"/api/sn_ads_setup/build/dependency/{dependency_id}/step/{step_id}","sys_created_on":"2021-12-24 05:37:12","sys_name":"Delete Dependency","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/6db6b2ab53444110f54fddeeff7b1232","value":"6db6b2ab53444110f54fddeeff7b1232"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_update_name":"sys_ws_operation_9f340cfe772001106ee492b01e5a9914","consumes_customized":"false","name":"Delete Dependency","produces":"application/json,application/xml,text/xml","relative_path":"/dependency/{dependency_id}/step/{step_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var appliedTo = request.queryParams.appliedTo || '';\n    if (!appliedTo)\n        return new sn_ws_err.BadRequestError('appliedTo not provided');\n\n\tvar referencedField = request.queryParams.referencedField || '';\n\tvar parentSysId = request.queryParams.parentSysId || '';\n\n\treturn new InterceptorUtils().getRecordTypes(appliedTo, referencedField, parentSysId);\n\n})(request, response);","sys_updated_on":"2024-03-06 10:35:45","enforce_acl":"d0f3147777a40210b595aeb4bb5a990c","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"9fe1dcb377a40210b595aeb4bb5a9938","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sow_interceptor/interceptor_utils","sys_created_on":"2024-03-01 17:55:03","sys_name":"getCards","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/db8388700b0330106237818393673a16","value":"db8388700b0330106237818393673a16"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/1941d0b377a40210b595aeb4bb5a99f4","value":"1941d0b377a40210b595aeb4bb5a99f4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/db8388700b0330106237818393673a16","value":"db8388700b0330106237818393673a16"},"sys_update_name":"sys_ws_operation_9fe1dcb377a40210b595aeb4bb5a9938","consumes_customized":"false","name":"getCards","produces":"application/json,application/xml,text/xml","relative_path":"/","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    return (new NLUInterfaceHelper()).getAllMappedIntentsCount();\n\n})(request, response);","sys_updated_on":"2021-04-20 05:47:29","enforce_acl":"ccd8a1e7772000105d7b3882a910617c","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/e4cda81e7333230021a044764df6a777","value":"e4cda81e7333230021a044764df6a777"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a00b20810752101028ef0a701ad300ae","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/nlu/getAllMappedIntentsCount","sys_created_on":"2020-07-27 09:14:04","sys_name":"getAllMappedIntentsCount","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/55672c9a7333230021a044764df6a706","value":"55672c9a7333230021a044764df6a706"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_ws_operation_a00b20810752101028ef0a701ad300ae","consumes_customized":"false","name":"getAllMappedIntentsCount","produces":"application/json,application/xml,text/xml","relative_path":"/getAllMappedIntentsCount","produces_customized":"false","default_operation_uri":"/api/now/nlu/getAllMappedIntentsCount","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar nameValuePairs = global.ChangeCommon.assign({}, request.queryParams, request.body.data);\n\tvar state;\n\tif (nameValuePairs.state) {\n\t\tstate = nameValuePairs.state;\n\t\tdelete nameValuePairs.state;\n\t}\n\n\tvar changeProcess = global.ChangeProcess.newChangeProcess(nameValuePairs);\n\n\tif (!changeProcess)\n\t\treturn new sn_ws_err.BadRequestError(\"Change Request cannot be created with invalid parameters: \" + JSON.stringify(nameValuePairs));\n\n\tif (state && !changeProcess.canMoveTo(state)) {\n\t\tvar error = new sn_ws_err.ServiceError();\n\t\terror.setStatus(400);\n\t\terror.setMessage(\"Change Request cannot move to state: \" + state);\n\t\terror.setDetail(JSON.stringify(changeProcess.evaluateMoveTo(state)));\n\t\treturn error;\n\t}\n\n\tif ((!state && changeProcess.insert()) || (state && changeProcess.moveTo(state) && changeProcess.insert())) {\n\t\tvar result = changeProcess.toJS();\n\t\tresult.__meta = { ignoredFields: changeProcess.__ignoredfields || [] };\n\t\treturn result;\n\t}\n\n\tvar errorMessage = \"Could not create Change Request.\";\n\tvar lastErrorMessage = changeProcess.getGlideRecord().getLastErrorMessage();\n\tif (lastErrorMessage)\n\t\terrorMessage += \" \" + lastErrorMessage;\n\n\treturn new sn_ws_err.BadRequestError(errorMessage);\n})(request, response);","sys_updated_on":"2020-09-28 10:50:22","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a05d1d9553231010930cddeeff7b12f5","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change","sys_created_on":"2020-09-28 10:49:30","sys_name":"Change","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_a05d1d9553231010930cddeeff7b12f5","consumes_customized":"false","name":"Change","produces":"application/json,application/xml,text/xml","relative_path":"/","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\ttry {\n\t\tvar applicationSysId = request.pathParams.application_sys_id;\n\t\tvar property = request.pathParams.property;\n\t\tvar operation = request.pathParams.operation;\n\t\tvar item = request.body.data.item;\n\n\t\tAccessValidator.verifyApplicationAccess(applicationSysId);\n\n\t\tvar sysAppInfoUtils = new SysAppInfoUtils(applicationSysId);\n\t\tvar isItemInList = true;\n\t\t\n\t\tif (operation === 'delete') {\n\t\t\tsysAppInfoUtils.removeItemFromList(property, item);\n\t\t\tisItemInList = sysAppInfoUtils.getIsItemInList(property, item);\n\n\t\t\tif (isItemInList) {\n\t\t\t\tthrow('Unable to remove item from property list: ' + property);\n\t\t\t}\n\n\t\t} else {\n\t\t\tthrow('No action defined for operation: ' + operation);\n\t\t}\n\t\t\n\t\tresponse.setStatus(200);\n\t\t\n\t} catch (exception) {\n\t\t\n\t\tswitch(exception) {\n\t\t\n\t\t\tcase CreatorStudioConstants.errors.APPLICATION_DOES_NOT_EXIST:\n\t\t\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t\t\t.setStatus(404)\n\t\t\t\t\t.setMessage(gs.getMessageLang(\"Application, with sys_id {0}, does not exist\", \"en\", [applicationSysId]))\n\t\t\t\t\t.setDetail(gs.getMessage(\"Application, with sys_id {0}, does not exist\", [applicationSysId]));\n\t\t\tcase CreatorStudioConstants.errors.APPLICATION_ACCESS_DENIED:\n\t\t\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t\t\t.setStatus(403)\n\t\t\t\t\t.setMessage(gs.getMessageLang(\"Access to application, with sys_id {0}, is denied\", \"en\", [applicationSysId]))\n\t\t\t\t\t.setDetail(gs.getMessage(\"Access to application, with sys_id {0}, is denied\", [applicationSysId]));\n\t\t\tdefault:\n\t\t\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t\t\t.setStatus(500)\n\t\t\t\t\t.setMessage(gs.getMessageLang(\"Unhandled exception {0}\", \"en\", [exception]))\n\t\t\t\t\t.setDetail(gs.getMessage(\"Unhandled exception {0}\", [exception]));\n\t\t}\n\t\t\n\t}\n\n})(request, response);","sys_updated_on":"2024-05-14 22:31:11","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/eff91f2c7700001001fb4311a8106131","value":"eff91f2c7700001001fb4311a8106131"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a0a005df43460210732a51237bb8f24a","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/sn_app_eng_studio/v1/applications/{application_sys_id}/sys_app_info/{property}/list/{operation}","sys_created_on":"2024-05-13 21:35:54","sys_name":"PATCH SysAppInfo Property List","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/4c41d3287700001001fb4311a81061ae","value":"4c41d3287700001001fb4311a81061ae"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_ws_operation_a0a005df43460210732a51237bb8f24a","consumes_customized":"false","name":"PATCH SysAppInfo Property List","produces":"application/json,application/xml,text/xml","relative_path":"/{application_sys_id}/sys_app_info/{property}/list/{operation}","produces_customized":"false","default_operation_uri":"/api/sn_app_eng_studio/applications/{application_sys_id}/sys_app_info/{property}/list/{operation}","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var data = request.body.data;\n    return (new NLUInterfaceHelper()).getMappedIntents(data.modelId, data.intentIds);\n\n})(request, response);","sys_updated_on":"2021-04-20 05:47:30","enforce_acl":"ccd8a1e7772000105d7b3882a910617c","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/e4cda81e7333230021a044764df6a777","value":"e4cda81e7333230021a044764df6a777"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a0a9180407da101028ef0a701ad3005a","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/v1/nlu/getMappedIntents","sys_created_on":"2020-07-24 05:30:29","sys_name":"getMappedIntents","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/55672c9a7333230021a044764df6a706","value":"55672c9a7333230021a044764df6a706"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"17","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_ws_operation_a0a9180407da101028ef0a701ad3005a","consumes_customized":"false","name":"getMappedIntents","produces":"application/json,application/xml,text/xml","relative_path":"/getMappedIntents","produces_customized":"false","default_operation_uri":"/api/now/nlu/getMappedIntents","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    //const params = UDCUtil.normalizeQueryParams(request.queryParams, true);\n    const requestData = request.body.data;\n\n    const files = requestData.files || [];\n    const builders = requestData.builders || [];\n    const types = requestData.types || [];\n\n    // Fetch only max no.of artifacts mentioned in the system property.\n    // If the request count is more, then skip the remaining artifacts. Default count is 10\n    const MAX_ARTIFACT_COUNT = 10;\n    let maxArtifactCount = parseInt(gs.getProperty('sn_udc.artifact_details_max_count', MAX_ARTIFACT_COUNT), 10);\n    maxArtifactCount = isNaN(maxArtifactCount) ? MAX_ARTIFACT_COUNT : maxArtifactCount;\n\n    try {\n        if (files.length + builders.length > maxArtifactCount)\n            throw UDCConstants.errors.ARTIFACT_COUNT_EXCEEDED;\n\n        const artifacts = {\n            files: [],\n            builders: [],\n            types: []\n        };\n\n        // Fetch files\n        for (let i = 0; i < files.length; i++) {\n            const file = files[i];\n            const fileTable = file.table;\n            const fileSysId = file.sysId;\n            const fileBuilder = file.builder;\n            const fileScopeSysId = file.scopeSysId;\n            const additionalParams = file.additionalParams;\n            artifacts.files.push(FileTaxonomy.getFileDetails({\n                fileTable,\n                fileSysId,\n                fileBuilder,\n                fileScopeSysId,\n                additionalParams\n            }));\n        }\n\n        // Fetch builders\n        for (let i = 0; i < builders.length; i++) {\n            const builder = builders[i];\n            artifacts.builders.push(FileTaxonomyBuilder.getBuilderDetails(builder));\n        }\n\n        // Fetch types\n        for (const {\n                typeSysId,\n                sysId,\n                builder,\n                scopeSysId,\n                additionalParams\n            }\n            of types) {\n            artifacts.types.push(FileTaxonomy.getTypeDetailsForNewRecord({\n                typeSysId,\n                sysId,\n                fileBuilder: builder,\n                scopeSysId,\n                additionalParams\n            }));\n        }\n\n\n        return artifacts;\n    } catch (e) {\n        switch (e) {\n            case UDCConstants.errors.ARTIFACT_COUNT_EXCEEDED:\n                throw new sn_ws_err.ServiceError()\n                    .setStatus(400)\n                    .setMessage(gs.getMessageLang(\"Requested artifact count exceeded the limit of {0}\", \"en\", maxArtifactCount))\n                    .setDetail(gs.getMessage(\"Requested artifact count exceeded the limit of {0}\", maxArtifactCount));\n\n            default:\n                throw new sn_ws_err.ServiceError()\n                    .setStatus(500)\n                    .setMessage(gs.getMessageLang(\"Unhandled exception: {0}\", \"en\", [e]))\n                    .setDetail(gs.getMessage(\"Unhandled exception: {0}\", [e]));\n        }\n    }\n})(request, response);","sys_updated_on":"2025-02-05 14:30:18","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/90711aa05bdc31109cf872c60a81c7fb","value":"90711aa05bdc31109cf872c60a81c7fb"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a0b60e03436a71106c4bb0117fb8f210","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_udc/v1/file_taxonomy/artifacts","sys_created_on":"2023-11-21 08:25:05","sys_name":"Get Artifacts","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ebf096a05bdc31109cf872c60a81c769","value":"ebf096a05bdc31109cf872c60a81c769"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"79","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_update_name":"sys_ws_operation_a0b60e03436a71106c4bb0117fb8f210","consumes_customized":"false","name":"Get Artifacts","produces":"application/json,application/xml,text/xml","relative_path":"/artifacts","produces_customized":"false","default_operation_uri":"/api/sn_udc/file_taxonomy/artifacts","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    response.setContentType('application/json');\n    response.setStatus(200);\n    var result = {};\n    var prop = gs.getProperty(\"sn_admin_center.admin_home.hideEntitledDashboard\");\n    result.shouldHideWidget = prop ? prop : false;\n    response.setBody(result);\n})(request, response);","sys_updated_on":"2023-09-21 21:04:53","enforce_acl":"87156c3db79701109cfe23508e11a95b","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a18e2acca3453110ada095f6341e61c6","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_admin_center/adminx/getHideEntitledWidgetFlag","sys_created_on":"2023-08-29 14:06:14","sys_name":"Get Hide Entitled Widget Flag","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1163fa730f102010e8c940c1df767e8c","value":"1163fa730f102010e8c940c1df767e8c"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/93683ba5b71701109cfe23508e11a91f","value":"93683ba5b71701109cfe23508e11a91f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1163fa730f102010e8c940c1df767e8c","value":"1163fa730f102010e8c940c1df767e8c"},"sys_update_name":"sys_ws_operation_a18e2acca3453110ada095f6341e61c6","consumes_customized":"false","name":"Get Hide Entitled Widget Flag","produces":"application/json,application/xml,text/xml","relative_path":"/getHideEntitledWidgetFlag","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Fetches all buttons within a given scope (if provided)","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // get request params\n\tvar scope = request.queryParams.scope;\n\n\t// get buttons in scope\n\tvar output = [];\n\tvar buttonsGR = new GlideRecordSecure('sys_sg_button');\n\tif(scope) {\n\t\tbuttonsGR.addQuery('sys_scope', scope);\n\t}\n\tbuttonsGR.query();\n\twhile(buttonsGR.next()) {\n\t\tvar object = {\n\t\t\tsysId: buttonsGR.getValue('sys_id'),\n\t\t\tname: buttonsGR.getValue('name'),\n\t\t\ttype: buttonsGR.getValue('type'),\n\t\t\tcontext: buttonsGR.getValue('context'),\n\t\t\tactionItem: buttonsGR.getValue('write_back_action_item'),\n\t\t\tdescription: buttonsGR.getValue('description'),\n\t\t\tscope: buttonsGR.getValue('sys_scope'),\n\t\t\ttable: buttonsGR.getValue('table')\n\t\t};\n\t\toutput.push(object);\n\t}\n\n\treturn output;\n\n})(request, response);","sys_updated_on":"2024-08-19 17:37:46","enforce_acl":"cf9d01d3e73003009d6247e603f6a990,d7088c08b751211095411226de11a9e9","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a190d94a5bb020103967a2053781c735","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/mcb/application_button","sys_created_on":"2020-12-01 21:08:54","sys_name":"Application Button - Get","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/63d8b7c573c51010a59b4c5353f6a737","value":"63d8b7c573c51010a59b4c5353f6a737"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"20","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_update_name":"sys_ws_operation_a190d94a5bb020103967a2053781c735","consumes_customized":"false","name":"Application Button - Get","produces":"application/json,application/xml,text/xml","relative_path":"/application_button","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar nameValuePairs = global.ChangeCommon.assign({}, request.queryParams);\n\tvar orderBy = \"\";\n\tif (typeof nameValuePairs.orderBy !== \"undefined\") {\n\t\torderBy = nameValuePairs.orderBy + \"\";\n\t\tdelete nameValuePairs.orderBy;\n\t}\n\torderBy = orderBy || \"name\";\n\n\tvar textSearch = \"\";\n\tif (typeof nameValuePairs.textSearch !== \"undefined\") {\n\t\ttextSearch = (nameValuePairs.textSearch + \"\").trim();\n\t\tdelete nameValuePairs.textSearch;\n\t}\n\n\tvar changeModelsGr = new GlideRecordSecure(\"chg_model\");\n\tif (textSearch)\n\t\tchangeModelsGr.addQuery(global.ChangeCommon.matchAll(), textSearch);\n\n\tvar sysparm_limit = null;\n\tif (typeof nameValuePairs.sysparm_limit !== \"undefined\") {\n\t\tsysparm_limit = nameValuePairs.sysparm_limit + \"\";\n\t\tdelete nameValuePairs.sysparm_limit;\n\t}\n\n\tvar sysparm_offset = null;\n\tif (typeof nameValuePairs.sysparm_offset !== \"undefined\") {\n\t\tsysparm_offset = nameValuePairs.sysparm_offset + \"\";\n\t\tdelete nameValuePairs.sysparm_offset;\n\t}\n\n\tvar encodedQueryObj;\n\tvar encodedQuery = \"\";\n\tif (typeof nameValuePairs.sysparm_query !== \"undefined\") {\n\t\tencodedQuery = (nameValuePairs.sysparm_query + \"\").trim();\n\t\tdelete nameValuePairs.sysparm_query;\n\t}\n\n\tif (encodedQuery)\n\t\tchangeModelsGr.addEncodedQuery(encodedQuery);\n\telse {\n\t\tencodedQueryObj = global.ChangeCommon.buildEncodedQuery(global.ChangeCommon.assign({}, nameValuePairs), \"chg_model\");\n\t\tif (encodedQueryObj && encodedQueryObj.encodedQuery && encodedQueryObj.encodedQuery.trim() !== \"\")\n\t\t\tchangeModelsGr.addEncodedQuery(encodedQueryObj.encodedQuery.trim());\n\t}\n\n\tchangeModelsGr.orderBy(orderBy);\n\tchangeModelsGr.query();\n\n\tvar result = global.ChangeCommon.getWindow(changeModelsGr, sysparm_limit || null, sysparm_offset || null);\n\n\tif (encodedQuery)\n\t\tresult.push({ \"__meta\": { \"encodedQuery\": encodedQuery}});\n\telse if (encodedQueryObj)\n\t\tresult.push({ \"__meta\": encodedQueryObj});\n\n\treturn result;\n})(request, response);","sys_updated_on":"2020-09-28 10:43:09","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a1bbd19553231010930cddeeff7b123c","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/model","sys_created_on":"2020-09-28 10:42:28","sys_name":"Model - search","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_a1bbd19553231010930cddeeff7b123c","consumes_customized":"false","name":"Model - search","produces":"application/json,application/xml,text/xml","relative_path":"/model","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/model","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var cart = new sn_sc.CartJS(\"saved_items\");\n\treturn cart.checkoutSummary(true);\n\n})(request, response);","sys_updated_on":"2016-07-15 12:31:07","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"a2789091c3202200d68d3b0ac3d3aedb","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/wishlist","sys_created_on":"2016-07-10 05:22:49","sys_name":"Wishlist cart contents","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_a2789091c3202200d68d3b0ac3d3aedb","consumes_customized":"false","name":"Wishlist cart contents","produces":"application/json,application/xml,text/xml","relative_path":"/wishlist","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/wishlist","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tresponse.setStatus(200);\n\tresponse.setHeader(\"Content-Type\", \"text/calendar\");\n\tvar writer = response.getStreamWriter();\n\n\tvar useCache = true;\n\tvar useCacheParam = request.queryParams.use_cache;\n\tif (typeof useCacheParam !== \"undefined\")\n\t\tuseCache = useCacheParam == \"true\";\n\n\tvar groupId = request.pathParams.group_id + \"\";\n\tvar rotaId = request.pathParams.rota_id + \"\";\n\tvar userId = request.pathParams.user_id + \"\";\n\tvar groupName, shiftName;\n\tvar groupGr = new GlideRecord(\"sys_user_group\");\n\tif (groupGr.get(groupId)) groupName = groupGr.getValue(\"name\");\n\n\tif (rotaId == \"all\" && userId == \"all\") {\n\t\twriter.writeString(new OCRotaICalendar().getGroupCalendarEvents(\n\t\t\tgroupId,\n\t\t\tnull,\n\t\t\tuseCache\n\t\t));\n\t} else {\n\t\tvar rotaGr = new GlideRecord(\"cmn_rota\");\n\t\tif (rotaGr.get(rotaId)) shiftName = rotaGr.getValue(\"name\");\n\t\twriter.writeString(new OCRotaICalendar().getCalendarEvents(\n\t\t\tgroupId,\n\t\t\trotaId,\n\t\t\tuserId,\n\t\t\tnull,\n\t\t\tuseCache\n\t\t));\n\t}\n\tvar fileName = \"calendar.ics\";\n\tif (groupName && shiftName) fileName = groupName + \"_\" + shiftName + \"_\" + \"calendar.ics\";\n\telse if (groupName) fileName = groupName + \"_\" + \"calendar.ics\";\n\tresponse.setHeader(\"Content-Disposition\", \"inline; filename=\" + fileName);\n})(request, response);","sys_updated_on":"2024-04-16 09:09:25","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a281b734c3631200b6dcdfdc64d3aed0","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/rotaUserICalendar/{group_id}/{rota_id}/{user_id}","sys_created_on":"2016-05-20 14:52:12","sys_name":"rotaUserICalendar","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"41","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_a281b734c3631200b6dcdfdc64d3aed0","consumes_customized":"false","name":"rotaUserICalendar","produces":"text/calendar","relative_path":"/rotaUserICalendar/{group_id}/{rota_id}/{user_id}","produces_customized":"true","default_operation_uri":"","sys_policy":""},{"short_description":"Creates a screen record and related applicabilities","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    const apiHelper = new APIHelper(request, response);\n    apiHelper.execute(function() {\n        const sysId = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.SYS_ID, '');\n        const result = new Screen([], true).duplicate(sysId, {\n            screen: {\n\t\t\t\t// Casting to a string because it comes in as an array for some reason\n                sysOverrides: sysId.toString()\n            }\n        });\n        typeof result === 'string' ? apiHelper.respondUnsuccesfully(result) : apiHelper.respondSuccesfully(result);\n    });\n})(request, response);","sys_updated_on":"2023-05-26 18:27:30","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"{\n            screen: {},\n            applicabilities: [],\n            screenTestValues: {},\n            templateId: ''\n}","sys_id":"a3e44c8724e02110f8779811a6e6635a","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/screen/override","sys_created_on":"2023-01-26 16:40:04","sys_name":"Screen Domain Override","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_a3e44c8724e02110f8779811a6e6635a","consumes_customized":"false","name":"Screen Domain Override","produces":"application/json,application/xml,text/xml","relative_path":"/screen/override","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\treturn new OnCallUserPreferences().getUserDevicesAndContacts(gs.getUserID());\n})(request, response);","sys_updated_on":"2019-04-01 09:40:55","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a46c4cd473e03300cbb654eb7df6a7d2","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/getUserDevicesAndContacts","sys_created_on":"2019-03-28 06:51:42","sys_name":"getUserDevicesAndContacts","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_a46c4cd473e03300cbb654eb7df6a7d2","consumes_customized":"false","name":"getUserDevicesAndContacts","produces":"application/json,application/xml,text/xml","relative_path":"/getUserDevicesAndContacts","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar table_name = decodeURIComponent(request.pathParams.table_name);\n\tvar record_id = decodeURIComponent(request.pathParams.record_id);\n\tvar gr = new GlideRecordSecure('sys_journal_field');\n\tgr.addQuery('element', 'work_notes');\n\tgr.addQuery('name', table_name);\n\tgr.addQuery('element_id', record_id);\n\tgr.orderByDesc('sys_created_on');\n\tgr.query();\n\n\tif (!gr.next())\n\t\tresponse.setBody({worknote: ''});\n\telse\n\t\tresponse.setBody({worknote: GlideStringUtil.getHTMLValue(gr.getValue('value'))});\n})(request, response);","sys_updated_on":"2024-01-02 14:08:18","enforce_acl":"8ac76f2c53233110610bddeeff7b123b","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a470cb3767803300bff282f45685ef76","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/cxs/get_latest_worknote/{table_name}/{record_id}","sys_created_on":"2019-03-14 20:25:37","sys_name":"Get Latest Worknote","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7e534526d722220034d145bcce6103fa","value":"7e534526d722220034d145bcce6103fa"},"consumes":"application/json","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"16","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5209e3b704f12210559073c06a02f734","value":"5209e3b704f12210559073c06a02f734"},"sys_update_name":"sys_ws_operation_a470cb3767803300bff282f45685ef76","consumes_customized":"false","name":"Get Latest Worknote","produces":"application/json","relative_path":"/get_latest_worknote/{table_name}/{record_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var receivedParams = request.pathParams;\n    var currentRecordTable = receivedParams.table_name;\n    var currentRecordSysId = receivedParams.sys_id;\n    var actionDetailId = receivedParams.action_id;\n\n    response.setContentType('application/json');\n\n    if (!sn_nb_action.NextBestActionUtil.isValidString(actionDetailId) || !sn_nb_action.NextBestActionUtil.isValidString(currentRecordTable) || !sn_nb_action.NextBestActionUtil.isValidString(currentRecordSysId))\n        response.setError(new sn_ws_err.BadRequestError(gs.getMessage('Missing required parameters')));\n    else {\n        try {\n            var interactionResponse = {};\n\n            var current = new sn_nb_action.NextBestActionUtil.getNextBestActionDAO().getSecureTableRecordBySysId(currentRecordTable,currentRecordSysId);\n            if (!current) {\n                response.setError(new sn_ws_err.BadRequestError(gs.getMessage('Invalid parameters')));\n                return;\n            }\n\n            var nbaService = new sn_nb_action.NextBestActionService();\n            var actionDetails = nbaService.useAction(current, actionDetailId);\n            if (actionDetails) {\n                actionDetails.actionDetailId = actionDetailId;\n                var responseBody = {};\n                responseBody.actionDetails = actionDetails;\n                response.setBody(responseBody);\n                response.setStatus(200);\n\n            } else {\n                var errObj = new sn_ws_err.ServiceError();\n                errObj.setStatus(500);\n                errObj.setMessage(gs.getMessage('Error starting action'));\n                errObj.setDetail(gs.getMessage('Refer error logs for details'));\n                response.setError(errObj);\n            }\n        } catch (err) {\n            var customErrObj = new sn_ws_err.ServiceError();\n            customErrObj.setStatus(500);\n            customErrObj.setMessage(gs.getMessage('Error starting action'));\n            customErrObj.setDetail(gs.getMessage('Refer error logs for details'));\n            response.setError(customErrObj);\n        }\n\n    }\n\n})(request, response);","sys_updated_on":"2024-06-17 07:41:33","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/5024b34a53c31010763eddeeff7b1289","value":"5024b34a53c31010763eddeeff7b1289"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a4749aecc70b1010763e343703c260c4","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/sn_nb_action/v1/next_best_action/actions/{table_name}/{sys_id}/{action_id}/start","sys_created_on":"2020-09-01 10:25:20","sys_name":"Start Action","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/427fe83177221010d7159b71a91061e1","value":"427fe83177221010d7159b71a91061e1"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/95beed2cc7c71010763e343703c2608d","value":"95beed2cc7c71010763e343703c2608d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"39","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/427fe83177221010d7159b71a91061e1","value":"427fe83177221010d7159b71a91061e1"},"sys_update_name":"sys_ws_operation_a4749aecc70b1010763e343703c260c4","consumes_customized":"false","name":"Start Action","produces":"application/json,application/xml,text/xml","relative_path":"/actions/{table_name}/{sys_id}/{action_id}/start","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar resp;\n\tvar stackName = 'default';\n\tif(request.pathParams.action === 'get'){\n\t\tresp = new SLAUtilSNC().getGlideStackURL(stackName);\n\t} else if(request.pathParams.action === 'add'){\n\t\tresp = new SLAUtilSNC().setGlideStackURL(request.body.data.url, stackName);\n\t}\n\telse if(request.pathParams.action === 'top'){\n\t\tresp = new SLAUtilSNC().getTopGlideStackURL(stackName);\n\t}\n\treturn resp;\n\n})(request, response);","sys_updated_on":"2017-09-15 08:30:03","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"a4b793800b103200ed45478d83673a6f","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/sla/glidestack/{action}","sys_created_on":"2017-01-09 08:01:20","sys_name":"GlideStack","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/184a0d329fb222002920bde8132e7062","value":"184a0d329fb222002920bde8132e7062"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"14","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f939e3f704f12210559073c06a02f7d6","value":"f939e3f704f12210559073c06a02f7d6"},"sys_update_name":"sys_ws_operation_a4b793800b103200ed45478d83673a6f","consumes_customized":"false","name":"GlideStack","produces":"application/json,application/xml,text/xml","relative_path":"/glidestack/{action}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        var applicationSysId = request.pathParams.application_sys_id;\n        AccessValidator.verifyApplicationAccess(applicationSysId);\n\n        var creatorTaxonomies = [];\n        var taxonomy = new GlideRecord(\"sn_app_eng_studio_taxonomy\");\n        taxonomy.addNotNullQuery('creator_url');\n        taxonomy.query();\n\n        while (taxonomy.next()) {\n            var tableName = taxonomy.table;\n            var now_GR = new GlideRecord(tableName);\n\n            if (now_GR.canCreate()) {\n\t\t\t\tvar taxonomyData = new TaxonomyDefinitionsDataModel().generateSingleTaxonomy(taxonomy.getValue('sys_id'));\n\t\t\t\tvar taxonomyDetails = new GlideRecord('sn_app_eng_studio_taxonomy_details');\n\t\t\t\ttaxonomyDetails.get('taxonomy_id', taxonomy.getValue('sys_id'));\n\t\t\t\ttaxonomyData['creator_description'] = taxonomyDetails.getDisplayValue('creator_description') || '';\n\t\t\t\t\n\t\t\t\t// handle image\n\t\t\t\tvar imageAttachmentValidator = new ImageAttachmentValidator();\n\t\t\t\tvar imageValue = taxonomyDetails.getValue('hero_image');\n\t\t\t\tif(!gs.nil(imageValue)) {\n\t\t\t\t\tif(imageAttachmentValidator.attachmentExists(taxonomyDetails.getUniqueValue(), 'hero_image')) {\n\t\t\t\t\t\ttaxonomyData['hero_image'] = '/' + imageValue + '.iix';\n\t\t\t\t\t}\n\t\t\t\t}\n                creatorTaxonomies.push(taxonomyData);\n            }\n        }\n\t\t\n\t\tvar result = {\n\t\t\tsys_id: applicationSysId,\n\t\t\tcreator_taxonomies: creatorTaxonomies,\n\t\t};\n\t\t\n        response.setStatus(200);\n        response.setBody(result);\n    } catch (exception) {\n        switch (exception) {\n            case CreatorStudioConstants.errors.APPLICATION_DOES_NOT_EXIST:\n                throw new sn_ws_err.ServiceError()\n                    .setStatus(404)\n                    .setMessage(gs.getMessageLang(\"Application, with sys_id {0}, does not exist\", \"en\", [applicationSysId]))\n                    .setDetail(gs.getMessage(\"Application, with sys_id {0}, does not exist\", [applicationSysId]));\n            case CreatorStudioConstants.errors.APPLICATION_ACCESS_DENIED:\n                throw new sn_ws_err.ServiceError()\n                    .setStatus(403)\n                    .setMessage(gs.getMessageLang(\"Access to application, with sys_id {0}, is denied\", \"en\", [applicationSysId]))\n                    .setDetail(gs.getMessage(\"Access to application, with sys_id {0}, is denied\", [applicationSysId]));\n            default:\n                throw new sn_ws_err.ServiceError()\n                    .setStatus(500)\n                    .setMessage(gs.getMessageLang(\"Unhandled exception {0}\", \"en\", [exception]))\n                    .setDetail(gs.getMessage(\"Unhandled exception {0}\", [exception]));\n        }\n    }\n})(request, response);","sys_updated_on":"2023-08-03 09:41:36","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/eff91f2c7700001001fb4311a8106131","value":"eff91f2c7700001001fb4311a8106131"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a4ea0653b7500110fe92c1508e11a9bf","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_app_eng_studio/v1/applications/{application_sys_id}/creator_taxonomies","sys_created_on":"2021-12-13 18:31:16","sys_name":"GET Creator Taxonomies","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/4c41d3287700001001fb4311a81061ae","value":"4c41d3287700001001fb4311a81061ae"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"12","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_ws_operation_a4ea0653b7500110fe92c1508e11a9bf","consumes_customized":"false","name":"GET Creator Taxonomies","produces":"application/json,application/xml,text/xml","relative_path":"/{application_sys_id}/creator_taxonomies","produces_customized":"false","default_operation_uri":"/api/sn_app_eng_studio/applications/{application_sys_id}/creator_taxonomies","sys_policy":"read"},{"short_description":"","operation_script":"(function process(request, response) {\n    var appId = request.pathParams.appId;\n\n    ScopeCheck.verifyNotGlobal(appId);\n\n    var allowed = VCSAppAccessCheck.verifyReadAccess(appId) && (VCSAppAccessCheck.verifyPublishAccess(appId) || VCSAppAccessCheck.isGACOrSourceControlUser() || VCSAppAccessCheck.verifyVersionControlAccess(appId));\n\n    if (!allowed) \n\t\tVCSAppAccessCheck.throwAccessDenied(appId);\n\n    var repo = sn_vcs.AppSourceControl.getRepository(appId),\n        status;\n\n    if (repo) {\n        status = 200;\n        var midServerId = repo.getMidServer();\n        var credentialId = repo.getCredential();\n\n        var midServerName = \"\";\n\n        if (midServerId) {\n            var ecc_agent = new GlideRecord('ecc_agent');\n            ecc_agent.get(midServerId);\n            midServerName = ecc_agent.getValue('name');\n        }\n\n        var credentialName = \"\";\n\n        var credential = new GlideRecord('discovery_credentials');\n        if (credential.get(credentialId))\n            credentialName = credential.getValue('name');\n\n        response.setBody({\n            appId: appId,\n            repoId: repo.getSysId(),\n            url: repo.getRepositoryURL(),\n            currentBranch: repo.getCurrentBranch(),\n            sha: repo.getCurrentCommit(),\n            shortDescription: repo.getShortDescription(),\n            hasLocalChanges: repo.hasOutgoingChanges(),\n            hasRemoteChanges: repo.hasIncomingChanges(),\n            midServerId: repo.getMidServer(),\n            midServerName: midServerName,\n            credentialId: credentialId,\n            credentialName: credentialName,\n            defaultEmail: repo.getDefaultCommitEmail(),\n            useDefaultEmailForAllCommits: repo.getUseDefaultEmailForAllCommits()\n        });\n    } else {\n        status = 404;\n    }\n\n    response.setContentType('application/json');\n    response.setStatus(status);\n\n})(request, response);","sys_updated_on":"2022-05-13 14:38:19","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a523340137230200612747efbe41f174","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/apps/{appId}","sys_created_on":"2015-11-03 23:37:51","sys_name":"Get Application","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"48","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_a523340137230200612747efbe41f174","consumes_customized":"false","name":"Get Application","produces":"application/json,application/xml,text/xml","relative_path":"/apps/{appId}","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/apps/{appId}","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var restHandler, result, m2mId, stepId, dependencyId;\n\ttry {\n\t\trestHandler = new sn_ads_setup.SNHelpSetupRestHandler();\n\t\trequestBody = request.body && request.body.data;\n\t\tstepId = request.pathParams.step_id;\n\t\tdependencyId = request.pathParams.dependency_id;\n\t\t\n\t\tresult = restHandler.updateDependency(stepId, dependencyId, requestBody);\n\t\tresponse.setStatus(result.status);\n\n\t\tif (result.error) {\n\t\t\tresponse.setBody({error: result.error});\n\t\t} else {\n\t\t\tresponse.setBody(result.data);\n\t\t}\n\n\t} catch (e) {\n\t\tresponse.setStatus(500);\n\t\tgs.error(\"SNHelpSetupRestHandler: \" + e.message);\n\t\tresponse.setBody({error: \"Internal server error\"});\n\t}\n\n})(request, response);","sys_updated_on":"2022-09-21 07:33:23","enforce_acl":"d0fc8522534a0110f54fddeeff7b123d","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a53076407720c1106ee492b01e5a99a3","http_method":"PUT","sys_updated_by":"admin","operation_uri":"/api/sn_ads_setup/build/dependency/{dependency_id}/step/{step_id}","sys_created_on":"2021-12-16 05:04:34","sys_name":"Update Dependency ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/6db6b2ab53444110f54fddeeff7b1232","value":"6db6b2ab53444110f54fddeeff7b1232"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_update_name":"sys_ws_operation_a53076407720c1106ee492b01e5a99a3","consumes_customized":"false","name":"Update Dependency ","produces":"application/json,application/xml,text/xml","relative_path":"/dependency/{dependency_id}/step/{step_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    let products = (new ConfigurationHubUtil()).getProductData();\n    let aceConsoles = (new ConfigurationHubAceUtil()).getACEConsoles();\n    let result = {\n        products,\n        aceConsoles\n    };\n    response.setContentType('application/json');\n    response.setStatus(200);\n    response.setBody(result);\n\n})(request, response);","sys_updated_on":"2023-06-26 22:36:03","enforce_acl":"f65ef6674fa3611038e26c01b1ce0b4c","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a53fec1cb7e1211010ba064d2e11a9eb","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_config_hub/configuration_hub_api/product/data","sys_created_on":"2023-03-08 23:44:18","sys_name":"Get Product Data","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/2028fe718b11c8f32122c6da3b496a83","value":"2028fe718b11c8f32122c6da3b496a83"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/d68a7cb5eb9221109cfedf3c03522847","value":"d68a7cb5eb9221109cfedf3c03522847"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"22","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2028fe718b11c8f32122c6da3b496a83","value":"2028fe718b11c8f32122c6da3b496a83"},"sys_update_name":"sys_ws_operation_a53fec1cb7e1211010ba064d2e11a9eb","consumes_customized":"false","name":"Get Product Data","produces":"application/json,application/xml,text/xml","relative_path":"/product/data","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar sysId = request.pathParams.sys_id || null;\n\tif (!sysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Change Request id not provided\");\n\n\tvar changeProcess = global.ChangeProcess.findById(sysId);\n\tif (!changeProcess)\n\t\treturn new sn_ws_err.NotFoundError(\"Change Request not found\");\n\n\treturn changeProcess.toJS();\n})(request, response);","sys_updated_on":"2020-09-28 10:50:11","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a55d11d553231010930cddeeff7b1272","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/{sys_id}","sys_created_on":"2020-09-28 10:49:34","sys_name":"Change","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_a55d11d553231010930cddeeff7b1272","consumes_customized":"false","name":"Change","produces":"application/json,application/xml,text/xml","relative_path":"/{sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/{sys_id}","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var util = new GuidedSetupUtilSNC();\n\tvar contentId = request.pathParams.content;\n\tvar action = request.pathParams.action;\n\treturn util.embeddedHelpActions(contentId, action);\n\n})(request, response);","sys_updated_on":"2016-01-13 20:00:43","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"a58c31639f30120066dabde8132e704a","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/guided_setup/embedded_help/actions/{content}/{action}","sys_created_on":"2016-01-13 07:04:02","sys_name":"Embedded help actions","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5f4ef4ed9f401200b18a7feea57fcfbe","value":"5f4ef4ed9f401200b18a7feea57fcfbe"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3ce43d1bff220200b18affffffffff55","value":"3ce43d1bff220200b18affffffffff55"},"consumes":"application/json","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5f4ef4ed9f401200b18a7feea57fcfbe","value":"5f4ef4ed9f401200b18a7feea57fcfbe"},"sys_update_name":"sys_ws_operation_a58c31639f30120066dabde8132e704a","consumes_customized":"false","name":"Embedded help actions","produces":"application/json","relative_path":"/embedded_help/actions/{content}/{action}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n    var appId = request.pathParams.appId;\n\n    ScopeCheck.verifyNotGlobal(appId);\n\n    var allowed = VCSAppAccessCheck.verifyReadAccess(appId) || VCSAppAccessCheck.isGACOrSourceControlUser() || VCSAppAccessCheck.verifyVersionControlAccess(appId);\n\n    if (!allowed) \n\t\tVCSAppAccessCheck.throwAccessDenied(appId);\n\n    var foundRecords = _.filter(request.body.data.records, function(record) {\n        try {\n            var gr = new GlideRecord(record.table);\n            return gr.get(record.sysId);\n        } catch (e) {\n\n        }\n    });\n\n    response.setContentType('application/json');\n    response.setBody({\n        records: foundRecords\n    });\n    response.setStatus(200);\n})(request, response);","sys_updated_on":"2022-05-13 14:58:04","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"a5b3263067a11200ca27ebc172415a10","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/apps/{appId}/records/filter","sys_created_on":"2016-02-10 23:06:41","sys_name":"Filter Existing Records","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"17","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_a5b3263067a11200ca27ebc172415a10","consumes_customized":"false","name":"Filter Existing Records","produces":"application/json,application/xml,text/xml","relative_path":"/apps/{appId}/records/filter","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/apps/{appId}/records/filter","sys_policy":"read"},{"short_description":"","operation_script":"(function process(request, response) {\r\n    var scenario = request.queryParams.scenario || \"default\";\r\n\tvar body = (requestBody && requestBody.scenario) ? requestBody.scenario : \"default\";\r\n\tgs.info(\"Scenario param: \" + scenario);\r\n    var result;\r\n\r\n    if (scenario.includes(\"default\")) {\r\n\t\tresponse.setStatus(200);\r\n        result = {\r\n            status: \"ok\",\r\n\t\t\tsc: scenario,\r\n\t\t\tb: body,\r\n            message: \"This is a success response\"\r\n        };\r\n    } else if (scenario.includes(\"okay\")) {\r\n        response.setStatus(201);\r\n        result = {\r\n            status: \"okay\",\r\n\t\t\tsc: scenario,\r\n\t\t\tb: body,\r\n            message: \"This is a response\"\r\n        };\r\n    } else if (scenario.includes(\"nothing\")) {\r\n        response.setStatus(204);\r\n        result = {\r\n            status: \"nothing\",\r\n\t\t\tsc: scenario,\r\n\t\t\tb: body,\r\n            message: \"This is a response\"\r\n        };\r\n    } else if (scenario.includes(\"error\")) {\r\n        response.setStatus(400);\r\n        result = {\r\n            status: \"error\",\r\n\t\t\tsc: scenario,\r\n\t\t\tb: body,\r\n            message: \"This is an error response\"\r\n        };\r\n    } else if (scenario.includes(\"teapot\")) {\r\n        response.setStatus(418);\r\n        result = {\r\n            status: \"error\",\r\n\t\t\tsc: scenario,\r\n\t\t\tb: body,\r\n            message: \"This is an error response\"\r\n        };\r\n    } else {\r\n\t\tresponse.setStatus(500);\r\n        result = {\r\n            status: \"internal server error\",\r\n\t\t\tsc: scenario,\r\n\t\t\tb: body,\r\n            message: \"Unknown scenario\"\r\n        };\r\n    }\r\n\r\n    response.setBody(result);\r\n})(request, response);\r\n","sys_updated_on":"2025-07-14 12:01:27","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a5c93d6cc3fee610ed4bd50d0501318c","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/1702979/my_function/fun_run_patch","sys_created_on":"2025-07-14 11:52:09","sys_name":"Run fun","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b746ad24c3bee610ed4bd50d0501316d","value":"b746ad24c3bee610ed4bd50d0501316d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/global","value":"global"},"sys_update_name":"sys_ws_operation_a5c93d6cc3fee610ed4bd50d0501318c","consumes_customized":"false","name":"Run fun","produces":"application/json,application/xml,text/xml","relative_path":"/fun_run_patch","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tif (!gs.hasRole(\"security_admin\")) {\n\t\tvar accessRestrictedError = new sn_ws_err.ServiceError();\n\t\taccessRestrictedError.setStatus(403);\n\t\taccessRestrictedError.setMessage(gs.getMessage(\"Insufficent privileges to modify exclusion list\"));\n\t\tresponse.setError(accessRestrictedError);\n\t\t\n\t\treturn;\n\t}\n\n\tvar workerId = SNC.PasswordPolicyUtil.uninstallPasswordLists();\n\tif (workerId == null || workerId == 'undefined')\n\t\treturn new sn_ws_err.BadRequestError(gs.getMessage('password exclusion list progress worker not available'));\n\t\n\treturn { \"workerID\": workerId };\n})(request, response);","sys_updated_on":"2022-05-03 21:13:49","enforce_acl":"b33c17cc77a230106407f0ec8e5a99f1","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a5db13cc77a230106407f0ec8e5a99dc","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/passwordexclusionlist/uninstall","sys_created_on":"2021-09-07 22:13:16","sys_name":"uninstallExclusionLists","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/87045d89770230106407f0ec8e5a9974","value":"87045d89770230106407f0ec8e5a9974"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"11","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f915e73304712210559073c06a02f7e1","value":"f915e73304712210559073c06a02f7e1"},"sys_update_name":"sys_ws_operation_a5db13cc77a230106407f0ec8e5a99dc","consumes_customized":"false","name":"uninstallExclusionLists","produces":"application/json,application/xml,text/xml","relative_path":"/uninstall","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar requestParms = request.body.data;\n\tvar targetAppId = requestParms.targetAppId;\n\tvar metadataSysIds = requestParms.metadataSysIds;\n\t\n\tresponse.setContentType('application/json');\n\tif(GlideStringUtil.nil(targetAppId)) {\n\t\taddError(gs.getMessage(\"No application id was provided.\"));\n\t\treturn;\n\t}\n\t\n\tif(metadataSysIds == null || metadataSysIds.length == 0) {\n\t\taddError(gs.getMessage(\"No files were listed to move.\"));\n\t\treturn;\n\t}\n\t\n\tvar moveResponse = sn_gfiles.GlobalApp.moveMetadata(metadataSysIds, targetAppId);\n\tif(!moveResponse.success()) {\n\t\taddError(\"Error moving files: \" + moveResponse.getErrorMessage());\n\t\treturn;\n\t}\n\t\n\tresponse.setBody({\n\t\tstatus: 'success'\n\t});\t\n\n\tfunction addError(msg){\n\t\tresponse.setBody({\n\t\t\tstatus: 'error',\n\t\t\terrorMessage: msg\n\t\t});\t\t\n\t}\n})(request, response);","sys_updated_on":"2017-08-09 22:59:27","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"a5ede86c67a00300a52d79b457415a1c","http_method":"POST","sys_updated_by":"maint","operation_uri":"/api/now/global_file_management/moveFiles","sys_created_on":"2017-08-09 15:23:16","sys_name":"moveFiles","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/2b59398967100300a52d79b457415a62","value":"2b59398967100300a52d79b457415a62"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/70142bf704312210559073c06a02f7b2","value":"70142bf704312210559073c06a02f7b2"},"sys_update_name":"sys_ws_operation_a5ede86c67a00300a52d79b457415a1c","consumes_customized":"false","name":"moveFiles","produces":"application/json,application/xml,text/xml","relative_path":"/moveFiles","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","sys_updated_on":"2021-03-24 12:09:02","enforce_acl":"c181cf8187602010c84e4561d5cb0b5e","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a630d15287432010c84e4561d5cb0b4b","http_method":"PUT","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/items/{sys_id}/versioning/cancel_review","sys_created_on":"2021-03-24 12:09:02","sys_name":"Cancel Review of a catalog item","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_a630d15287432010c84e4561d5cb0b4b","consumes_customized":"false","name":"Cancel Review of a catalog item","produces":"application/json,application/xml,text/xml","relative_path":"/items/{sys_id}/versioning/cancel_review","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/items/{sys_id}/versioning/cancel_review","sys_policy":"protected"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar mobilePluginsInstallationStatusService = new MobilePluginsInstallationStatusService();\n\treturn mobilePluginsInstallationStatusService.getPluginsInstallationStatus();\n})(request, response);","sys_updated_on":"2021-03-19 23:50:05","enforce_acl":"4bbe81b4c703201066492f3bf4c260e6","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a684618273a220105dcd25799ef6a79c","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_mab_api/mab_api/getMobilePluginsInstallationStatus","sys_created_on":"2021-02-26 22:25:54","sys_name":"Get Mobile plugins Installation Status","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3512bd93c7c12010100f2f3bf4c26049","value":"3512bd93c7c12010100f2f3bf4c26049"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_update_name":"sys_ws_operation_a684618273a220105dcd25799ef6a79c","consumes_customized":"false","name":"Get Mobile plugins Installation Status","produces":"application/json,application/xml,text/xml","relative_path":"/getMobilePluginsInstallationStatus","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar sysId = request.pathParams.sys_id || null;\n\tif (!sysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Normal Change Request id not provided\");\n\n\tvar changeProcess = global.NormalChangeProcess.findById(sysId);\n\tif (!changeProcess)\n\t\treturn new sn_ws_err.NotFoundError(\"Normal Change Request not found\");\n\n\tvar nameValuePairs = global.ChangeCommon.assign({}, request.queryParams, request.body.data);\n\n\tvar state;\n\tif (nameValuePairs.state) {\n\t\tstate = nameValuePairs.state;\n\t\tdelete nameValuePairs.state;\n\t}\n\n\tvar fields = changeProcess.setValues(nameValuePairs);\n\n\tif (state && !changeProcess.canMoveTo(state)) {\n\t\tvar error = new sn_ws_err.ServiceError();\n\t\terror.setStatus(400);\n\t\terror.setMessage(\"Normal Change Request cannot move to state: \" + state);\n\t\terror.setDetail(JSON.stringify(changeProcess.evaluateMoveTo(state)));\n\t\treturn error;\n\t}\n\n\tif ((!state && changeProcess.update()) || (state && changeProcess.moveTo(state) && changeProcess.update())) {\n\t\tvar result = changeProcess.toJS();\n\t\tresult.__meta = { ignoredFields: fields.ignored && fields.ignored.length > 0 ? fields.ignored : [] };\n\t\treturn result;\n\t}\n\n\tvar errorMessage = \"Normal Change Request record could not be updated.\";\n\tvar lastErrorMessage = changeProcess.getGlideRecord().getLastErrorMessage();\n\tif (lastErrorMessage)\n\t\terrorMessage += \" \" + lastErrorMessage;\n\n\treturn new sn_ws_err.BadRequestError(errorMessage);\t\n})(request, response);","sys_updated_on":"2018-07-20 10:52:29","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a68c1cebb713130096c3e4f6ee11a9d7","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/normal/{sys_id}","sys_created_on":"2018-07-20 10:52:29","sys_name":"Normal","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_a68c1cebb713130096c3e4f6ee11a9d7","consumes_customized":"false","name":"Normal","produces":"application/json,application/xml,text/xml","relative_path":"/normal/{sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/normal/{sys_id}","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n\tvar manager = new SNC.EntryPointSelectorManager();\n\treturn manager.validateEntryPointTypeData(request.queryParams.entryPointData, request.queryParams.checkUniqueness, request.queryParams.serviceId );\n})(request, response);","sys_updated_on":"2023-05-17 11:38:03","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a69555c29f523200db315ecec32e7006","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/snc_entry_point_selector/validateEntryPointTypeData","sys_created_on":"2017-04-24 13:46:00","sys_name":"validateEntryPointTypeData","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/2ef399829f523200db315ecec32e7009","value":"2ef399829f523200db315ecec32e7009"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_a69555c29f523200db315ecec32e7006","consumes_customized":"false","name":"validateEntryPointTypeData","produces":"application/json,application/xml,text/xml","relative_path":"/validateEntryPointTypeData","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var restHandler, result, interactionId, task_type;\n\ttry {\n\t\trestHandler = new sn_ads_setup.SNHelpSetupRestHandler();\n\t\t\n\t\t// Query Params could be array\n\t\tif(Array.isArray(request.queryParams.interaction_id)) \n\t\t\tinteractionId = request.queryParams.interaction_id[0];\n\t\telse\n\t\t\tinteractionId = request.queryParams.interaction_id;\n\t\t\n\t\tif(Array.isArray(request.queryParams.task_type)) \n\t\t\ttask_type = request.queryParams.task_type[0];\n\t\telse\n\t\t\ttask_type = request.queryParams.task_type;\n\t\t\n\t\tresult = restHandler.getSetupStepTasks(request.pathParams.step_id, interactionId, task_type);\n\t\t\n\t\tresponse.setStatus(result.status);\n\n\t\tif (result.error) {\n\t\t\tresponse.setBody({error: result.error});\n\t\t} else {\n\t\t\tresponse.setBody(result.data);\n\t\t}\n\n\t} catch (e) {\n\t\tresponse.setStatus(500);\n\t\tgs.error(\"SNHelpSetupRestHandler: \" + e.message);\n\t\tresponse.setBody({error: \"Internal server error\"});\n\t}\n\n})(request, response);","sys_updated_on":"2022-09-21 07:29:58","enforce_acl":"d684e2aa530e0110f54fddeeff7b1237","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a71ef4a0773230106ee492b01e5a9920","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_ads_setup/play/tasks/{step_id}","sys_created_on":"2021-09-21 10:13:46","sys_name":"Get Setup Step Tasks","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/9fb44064773230106ee492b01e5a9991","value":"9fb44064773230106ee492b01e5a9991"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_update_name":"sys_ws_operation_a71ef4a0773230106ee492b01e5a9920","consumes_customized":"false","name":"Get Setup Step Tasks","produces":"application/json,application/xml,text/xml","relative_path":"/tasks/{step_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Updates a screen test values record related to a screen","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tconst apiHelper = new APIHelper(request, response);\n\tapiHelper.execute(function(){\n\t\tconst screenTestValue = apiHelper.getBodyParam(BuilderToolkitConstants.BODY_PARAM.SCREEN_TEST_VALUE, false);\n    const screenId = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.SCREEN_ID, false);\n\t\tif(!screenTestValue){\n\t\t\treturn apiHelper.respondUnsuccessfully(BuilderToolkitConstants.ERRORS.NO_SCREEN_TEST_VALUE);\n\t\t}\n\t\tif(!screenId){\n\t\t\treturn apiHelper.respondUnsuccessfully(BuilderToolkitConstants.ERRORS.NO_SCREEN_FOUND);\n\t\t}\n\t\tapiHelper.getResponseGlideOperation(new ScreenTestValue().updateRecord(screenId, screenTestValue),BuilderToolkitConstants.ERRORS.FAILED_TO_UPDATE);\n\t});\n\n})(request, response);","sys_updated_on":"2023-05-26 18:27:51","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"{\n    \"screenTestValues\": {\n        \"sysId\": \"\",\n        \"sysScope\": {\n            \"value\": \"\",\n            \"displayValue\": \"\",\n            \"scopeName\": \"\"\n        },\n        \"macroponentConfig\": {}\n    }\n    \"screenId\": \"\"\n}","sys_id":"a72c140418a71510f8774a42adb32723","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/screen_test_value","sys_created_on":"2022-11-28 17:38:18","sys_name":"Screen Test Value","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"8","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_a72c140418a71510f8774a42adb32723","consumes_customized":"false","name":"Screen Test Value","produces":"application/json,application/xml,text/xml","relative_path":"/screen_test_value","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    response.setContentType('application/json');\n\tvar result = [];\n\tvar requestBody = request.body;\n\tvar requestData = requestBody.data; \n\tvar tagUtils = new SMServiceByTagsUtils();\n\tvar cis = tagUtils.getListOfTaggedCisForTagsList(requestData.tag_list);\n\tif(cis && cis.indexOf(\",\") > 0){\n\t\tresult = cis.split(\",\");\n\t} else if(cis && cis.indexOf(\",\") < 0 && cis.length > 0){\n\t\tresult = [cis];\n\t} else \n\t\tresult = [];\n\tresponse.setStatus(200);\n\tresponse.setBody(result);\n})(request, response);","sys_updated_on":"2020-03-24 21:42:04","enforce_acl":"edc5e02473230010ee4dd3c72bf6a7ea","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a72d046473230010ee4dd3c72bf6a799","http_method":"PUT","sys_updated_by":"admin","operation_uri":"/api/now/csdm_app_service/get_cis_for_tags","sys_created_on":"2020-03-11 00:52:46","sys_name":"Get Cis for tag","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/60c171d973c30010ee4dd3c72bf6a716","value":"60c171d973c30010ee4dd3c72bf6a716"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"20","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2f8d67ff04352210559073c06a02f74f","value":"2f8d67ff04352210559073c06a02f74f"},"sys_update_name":"sys_ws_operation_a72d046473230010ee4dd3c72bf6a799","consumes_customized":"false","name":"Get Cis for tag","produces":"application/json,application/xml,text/xml","relative_path":"/get_cis_for_tags","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar sysId = request.pathParams.sys_id;\n\tvar tableName = (request.queryParams.table_name) ? request.queryParams.table_name : \"change_request\";\n\n\tvar plannedStartDate = \"\";\n\tvar plannedEndDate = \"\";\n\tif (request.body.hasNext()) {\n\t\tvar entry = request.body.nextEntry();\n\t\tplannedStartDate = entry.start_date_utc;\n\t\tplannedEndDate = entry.end_date_utc;\n\t}\n\tvar gr = new GlideRecordSecure(tableName);\n\tif (gr.get(sysId)) {\n\t\tvar startDateElem = gr.getElement(\"start_date\");\n\t\tvar endDateElem = gr.getElement(\"end_date\");\n\t\tvar canWriteStartDate = (startDateElem) ? startDateElem.canWrite() : false;\n\t\tvar canWriteEndDate = (endDateElem) ? endDateElem.canWrite() : false;\n\t\tif (!canWriteStartDate || !canWriteEndDate)\n\t\t\treturn {\n\t\t\t\tresCode: 401,\n\t\t\t\tdisplay_message: gs.getMessage(\"No permission to write Planned Start Date and/or Planned End Date fields\")\n\t\t\t};\n\t\tgr.setValue(\"start_date\", plannedStartDate);\n\t\tgr.setValue(\"end_date\", plannedEndDate);\n\t\tgr.update();\n\t\treturn {\n\t\t\tresCode: 200,\n\t\t\tdisplay_message: gs.getMessage(\"Planned Start Date and Planned End Date updated successfuly\")\n\t\t};\n\t}\n\treturn {\n\t\tresCode: 400,\n\t\tdisplay_message: gs.getMessage(\"Record not found\")\n\t};\n})(request, response);","sys_updated_on":"2018-08-23 15:01:28","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"a7491cea5700630035ae4786cc94f9b9","http_method":"PUT","sys_updated_by":"admin","operation_uri":"/api/now/change_request_calendar/change/nextavailabletime/{sys_id}","sys_created_on":"2018-08-23 14:51:31","sys_name":"Next Available Time","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/0472746e0b2332005775aabcb4673a25","value":"0472746e0b2332005775aabcb4673a25"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3eb7af7f04b12210559073c06a02f7fb","value":"3eb7af7f04b12210559073c06a02f7fb"},"sys_update_name":"sys_ws_operation_a7491cea5700630035ae4786cc94f9b9","consumes_customized":"false","name":"Next Available Time","produces":"application/json,application/xml,text/xml","relative_path":"/change/nextavailabletime/{sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar isOnline = function (id) {\n\t\tvar agent = new GlideRecord('sys_atf_agent');\n\t\tif (!agent.get(id))\n\t\t\treturn \"false\";\n\n\t\tif (agent.getValue(\"status\") == \"online\")\n\t\t\treturn \"true\";\n\n\t\treturn \"false\";\n\t};\n\t\n\tvar isOnlineResult = isOnline(request.queryParams.id[0]);\n\tvar body = {\n\t\tonline: isOnlineResult\n\t};\n\t\n\tresponse.setBody(body);\n\tresponse.setStatus(200);\n})(request, response);","sys_updated_on":"2021-03-25 20:49:11","enforce_acl":"7c805726c7432010580d45ece8c26054","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a7494e86c7432010580d45ece8c2608f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/atf_agent/online","sys_created_on":"2021-03-23 21:37:16","sys_name":"isAgentOnline","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/dd098a86c7432010580d45ece8c26094","value":"dd098a86c7432010580d45ece8c26094"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"29","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18792f3b04f12210559073c06a02f71d","value":"18792f3b04f12210559073c06a02f71d"},"sys_update_name":"sys_ws_operation_a7494e86c7432010580d45ece8c2608f","consumes_customized":"false","name":"isAgentOnline","produces":"application/json,application/xml,text/xml","relative_path":"/online","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var TABLES = {\n        INCIDENT: \"incident\",\n        CHANGE: \"change_request\"\n    };\n    var LINK_FIELD = 'rfc';\n\n    /**\n     * actionId: search UI Action's unique ID\n     * incidentId: sys_id of Incident record which has search term\n     * changeId: sys_id of Change record which is the search result\n     * actionStage: to indicate whether this request is sent before or after modal\n     */\n\n    var actionId = request.body.data.actionId;\n    var incidentId = request.body.data.currentId;\n    var changeId = request.body.data.resourceId;\n    var actionStage = request.body.data.actionStage;\n    var body = {};\n\n    /**\n     * action_id (mandatory): search UI Action's unique ID, AS/AI will use it to determine how to handle result\n     * item_id (optional): \"table_name:record_id\", having this tells AS/AI to refresh child record's UI Action list due to link action's change on child record\n     * succeed (mandatory): indicates link action is successfully done or not for non-rest call's\n     * successful (mandatory): indicates link action is successfully done or not for rest call's\n     * message (optional): shows on top of the form after action is performed\n     */\n\n    if (actionId.includes('rest'))\n        body.successful = false;\n    else\n        body.succeed = false;\n\n    function addErrorMessage(errorMessage) {\n        if (actionId.includes('rest'))\n            body.errMsg = errorMessage;\n        else\n            body.message = errorMessage;\n    }\n    if (!gs.hasRole('itil,sn_incident_write')) {\n        addErrorMessage(gs.getMessage(\"Roles are insufficient to perform the action\"));\n        return response.setBody(body);\n    }\n\n    var changeGr = new GlideRecord(TABLES.CHANGE);\n    if (!changeGr.get(changeId)) {\n        addErrorMessage(gs.getMessage(\"Invalid Change Request record\"));\n        return response.setBody(body);\n    }\n\n    var incidentGr = new GlideRecord(TABLES.INCIDENT);\n    if (!incidentGr.get(incidentId)) {\n        addErrorMessage(gs.getMessage(\"Invalid Incident record\"));\n        return response.setBody(body);\n    }\n\n    var errMsg = gs.getMessage('Updating \"Change Request\" field on {0} has failed', incidentGr.getDisplayValue());\n    var infoMsg = gs.getMessage('{0} has been linked as Request for Change to {1}.', [changeGr.getDisplayValue(), incidentGr.getDisplayValue()]);\n\n    body.action_id = actionId;\n    body.item_id = TABLES.INCIDENT + \":\" + incidentGr.getUniqueValue();\n\n    if (actionId.includes('rest')) {\n        if (actionStage === 'pre_modal') {\n            body.successful = true;\n            body.useModal = true;\n            body.modalTitle = gs.getMessage('Link to incident');\n            body.errMsg = errMsg;\n            body.modalInfoMsg = gs.getMessage('You are linking the current {0} as Request for Change to {1}', [changeGr.getDisplayValue('number'), incidentGr.getDisplayValue('number')]);\n            body.modalFields = [{\n                label: gs.getMessage('{0} (Private)', incidentGr.work_notes.getLabel()),\n                name: 'work_notes',\n                value: '',\n                fieldType: 'textarea'\n            }, {\n                label: gs.getMessage('{0} (Customer visible)', incidentGr.comments.getLabel()),\n                name: 'comments',\n                value: '',\n                fieldType: 'textarea'\n            }];\n            body.updateCurrentRecord = false;\n            body.postModalRestRequired = true;\n            return response.setBody(body);\n        } else if (actionStage === 'post_modal') {\n            incidentGr.setValue(LINK_FIELD, changeGr.getUniqueValue());\n            if (incidentGr.update()) {\n                body.successful = true;\n                body.useModal = false;\n                body.infoMsg = infoMsg;\n                body.updateCurrentRecord = true;\n            } else {\n                body.errMsg = errMsg;\n            }\n            return response.setBody(body);\n        }\n    }\n    incidentGr.setValue(LINK_FIELD, changeGr.getUniqueValue());\n    if (incidentGr.update()) {\n        body.succeed = true;\n        body.message = infoMsg;\n    } else {\n        body.message = errMsg;\n    }\n    response.setBody(body);\n})(request, response);","sys_updated_on":"2024-01-02 14:19:52","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a754a5d2a01a4410f8774add5b9ee487","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/cxs_actions/link_inc_to_chg_req","sys_created_on":"2020-01-14 14:24:34","sys_name":"link_inc_to_chg_req","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5f387aa0b32023002bf182c136a8dc1c","value":"5f387aa0b32023002bf182c136a8dc1c"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"38","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5209e3b704f12210559073c06a02f734","value":"5209e3b704f12210559073c06a02f734"},"sys_update_name":"sys_ws_operation_a754a5d2a01a4410f8774add5b9ee487","consumes_customized":"false","name":"link_inc_to_chg_req","produces":"application/json,application/xml,text/xml","relative_path":"/link_inc_to_chg_req","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar groupId = \"\";\n\tvar gdt = new GlideDateTime();\n\tvar escalationLevel = \"\";\n\tvar escalationSetId = \"\";\n\tvar taskSysId = \"\";\n\tvar taskTableName = \"\";\n\tvar rotaId = \"\";\n    if (JSUtil.notNil(request.pathParams.group_id))\n\t\tgroupId = request.pathParams.group_id + \"\";\n\tif (JSUtil.notNil(request.queryParams.start_time))\n\t\tgdt.setDisplayValueInternal(request.queryParams.start_time + \"\");\n\tif (JSUtil.notNil(request.queryParams.escalation_level))\n\t\tescalationLevel = parseInt(request.queryParams.escalation_level + \"\");\n\telse\n\t\tescalationLevel = 0;\n\tif (JSUtil.notNil(request.queryParams.rota_id))\n\t\trotaId = request.queryParams.rota_id + \"\";\n\tif (JSUtil.notNil(request.queryParams.escalation_set_id))\n\t\tescalationSetId = request.queryParams.escalation_set_id + \"\";\n\tif (JSUtil.notNil(request.queryParams.task_table_name))\n\t\ttaskTableName = request.queryParams.task_table_name + \"\";\n\tif (JSUtil.notNil(request.queryParams.task_sys_id))\n\t\ttaskSysId = request.queryParams.task_sys_id + \"\";\n\t\n\tvar contactPrefUtils = new OnCallContactPreferenceUtil().setCheckAccess(true);\n\treturn contactPrefUtils.getContactPreferenceAtEscalationLevel(groupId, escalationLevel, gdt, rotaId, escalationSetId, taskTableName, taskSysId);\n})(request, response);","sys_updated_on":"2022-04-19 08:45:14","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a7dadb02536c3300bf68ddeeff7b12e7","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/getUserContactPerAttemptPreferences/{group_id}","sys_created_on":"2019-04-03 08:23:41","sys_name":"getUserContactPerAttemptPreferences","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"19","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_a7dadb02536c3300bf68ddeeff7b12e7","consumes_customized":"false","name":"getUserContactPerAttemptPreferences","produces":"application/json,application/xml,text/xml","relative_path":"/getUserContactPerAttemptPreferences/{group_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar changeSysId = request.pathParams.change_sys_id || \"\";\n\tif (!changeSysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Change Request id not provided\");\n\n\tvar changeRequestGr = new GlideRecordSecure(global.ChangeRequest.CHANGE_REQUEST);\n\tif (!changeRequestGr.get(changeSysId))\n\t\treturn new sn_ws_err.NotFoundError(\"Change Request not found\");\n\n\tvar nameValuePairs = global.ChangeCommon.assign({}, request.queryParams, request.body.data);\n\tnameValuePairs.task = changeSysId;\n\n\tif (typeof nameValuePairs.cmdb_ci_sys_ids === \"string\")\n\t\tnameValuePairs.cmdb_ci_sys_ids = nameValuePairs.cmdb_ci_sys_ids.split(\",\");\n\n\tvar badCmdbCiSysIds = [];\n\tif (Array.isArray(nameValuePairs.cmdb_ci_sys_ids)) {\n\t\t// Remove empty elements e.g. split on emtpy string returns an array with an empty string as first element\n\t\tnameValuePairs.cmdb_ci_sys_ids = nameValuePairs.cmdb_ci_sys_ids.filter(function(e){ return e; });\n\n\t\t// Remove duplicates\n\t\tnameValuePairs.cmdb_ci_sys_ids = nameValuePairs.cmdb_ci_sys_ids.filter(global.ChangeCommon.filters.unique);\n\n\t\t// Collect bad cmdb_ci_sys_ids\n\t\tbadCmdbCiSysIds = nameValuePairs.cmdb_ci_sys_ids.filter(function(sysId) { return !global.ChangeCommon.filters.sysId(sysId); });\n\n\t\t// retain only well formatted sys ids\n\t\tnameValuePairs.cmdb_ci_sys_ids = nameValuePairs.cmdb_ci_sys_ids.filter(global.ChangeCommon.filters.sysId);\n\t}\n\n\tif (!Array.isArray(nameValuePairs.cmdb_ci_sys_ids) || nameValuePairs.cmdb_ci_sys_ids.length === 0) {\n\t\tvar errMsg = gs.getMessage(\"List of Configuration Item ids not provided. Please provide a list of CI ids to parameter: cmdb_ci_sys_ids.\");\n\t\tif (Array.isArray(badCmdbCiSysIds) && badCmdbCiSysIds.length > 0)\n\t\t\terrMsg = gs.getMessage(\"List of Configuration Item ids not provided. Please provide a list of CI ids to parameter: cmdb_ci_sys_ids. Bad cmdb_ci_sys_ids disregarded: {0}\", [badCmdbCiSysIds.join(\",\")]);\n\n\t\treturn new sn_ws_err.BadRequestError(errMsg);\n\t}\n\n\t// The limit parameter defaults to 10,000 records. This limit can be set to any value. Be aware, however, that an unusually large value can impact system performance.\n\tvar maxLimit = parseInt(nameValuePairs.sysparm_limit) || 10000;\n\n\tvar ignoredCmdbCiSysIds = nameValuePairs.cmdb_ci_sys_ids.slice(maxLimit - 1, nameValuePairs.cmdb_ci_sys_ids.length);\n\tnameValuePairs.cmdb_ci_sys_ids = nameValuePairs.cmdb_ci_sys_ids.slice(0, maxLimit);\n\n\tif (!nameValuePairs.association_type || (nameValuePairs.association_type !== global.ChangeCIAssociation.AFFECTED && nameValuePairs.association_type !== global.ChangeCIAssociation.IMPACTED && nameValuePairs.association_type !== global.ChangeCIAssociation.OFFERING))\n\t\treturn new sn_ws_err.BadRequestError(\n\t\t\tgs.getMessage(\"No association_type provided. Please provide association_type: {0}|{1}|{2}\", [\n\t\t\t\tglobal.ChangeCIAssociation.AFFECTED,\n\t\t\t\tglobal.ChangeCIAssociation.IMPACTED,\n\t\t\t\tglobal.ChangeCIAssociation.OFFERING\n\t\t]));\n\n\tvar changeManagementWorker = new global.ChangeManagementWorker();\n\tchangeManagementWorker.create(nameValuePairs);\n\n\tif (ignoredCmdbCiSysIds.length > 0)\n\t\tchangeManagementWorker.addWarningMsg(gs.getMessage(\"Number of CIs/Services has exceeded transaction limit\")).update();\n\n\t// Add Bad CMDB CI SysIds to Ignored CMDB CI SysIds\n\tif (Array.isArray(badCmdbCiSysIds) && badCmdbCiSysIds.length > 0)\n\t\tignoredCmdbCiSysIds = badCmdbCiSysIds.concat(ignoredCmdbCiSysIds);\n\n\tif (ignoredCmdbCiSysIds.length > 0)\n\t\tchangeManagementWorker.setResponseParam(global.ChangeCIAssociation.IGNORED_CMDB_CI_SYS_IDS, ignoredCmdbCiSysIds).update();\n\n\t// Provide Async link in header\n\tresponse.setHeader(\"Link\", changeManagementWorker.getResponseParam(\"worker\").link + \"\");\n\n\t// Allows server to accept request for asynchronous process\n\tresponse.setStatus(202);\n\n\treturn changeManagementWorker.toJS();\n})(request, response);","sys_updated_on":"2019-02-14 15:52:36","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a7e37146b70323000999e4f6ee11a942","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/{change_sys_id}/ci","sys_created_on":"2019-01-18 11:18:53","sys_name":"Configuration Items","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_a7e37146b70323000999e4f6ee11a942","consumes_customized":"false","name":"Configuration Items","produces":"application/json,application/xml,text/xml","relative_path":"/{change_sys_id}/ci","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/{change_sys_id}/ci","sys_policy":""},{"short_description":"Loads the initial data needed for loading the single business service map page","operation_script":"(function process(request, response) {\n\tvar sysId = request.queryParams.sysId;\n    var serviceManager = new SNC.BusinessServiceManager();\n    var result = {\n        processStates: serviceManager.getBusinessServiceStates()\n    };\n\tresult.fieldLabels = serviceManager.getFieldLabels();\n    if(sysId)\n        result.model = serviceManager.getBusinessService(sysId);\n    return result;\n})(request, response);","sys_updated_on":"2018-05-03 11:53:37","enforce_acl":"1da2279e9f0232004db75ecec32e70d1","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a8332b9e9f0232004db75ecec32e706d","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/sa_business_service/initialPageData","sys_created_on":"2017-04-13 08:30:06","sys_name":"Load initial page data","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/f8f0abda9f0232004db75ecec32e7027","value":"f8f0abda9f0232004db75ecec32e7027"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"22","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_a8332b9e9f0232004db75ecec32e706d","consumes_customized":"false","name":"Load initial page data","produces":"application/json,application/xml,text/xml","relative_path":"/initialPageData","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    response.setContentType('application/json');\n\tvar result = [];\n\tvar queryParams = request.queryParams;\n\t\n\tvar grs = new GlideAggregate(\"cmdb_key_value\");\n\tgrs.addNotNullQuery(\"key\");\n\tgrs.addNotNullQuery(\"value\");\n\tgrs.groupBy(\"key\");\n\tif(queryParams.key){\n\t\tgrs.addQuery(\"key\", queryParams.key);\n\t\tgrs.groupBy(\"value\");\n\t}\n\tgrs.query();\n\t\n\twhile(grs.hasNext()){\n\t\tgrs.next();\n\t\tresult.push({key: grs.getValue(\"key\"), value: grs.getValue(\"value\")});\n\t}\n\n\tresponse.setStatus(200);\n\tresponse.setBody(result);\n\t\n})(request, response);","sys_updated_on":"2020-03-24 21:44:29","enforce_acl":"edc5e02473230010ee4dd3c72bf6a7ea","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a84cf75c73630010ee4dd3c72bf6a76f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/csdm_app_service/get_tag_value_list","sys_created_on":"2020-03-10 23:38:50","sys_name":"Get Tag Keys And Values","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/60c171d973c30010ee4dd3c72bf6a716","value":"60c171d973c30010ee4dd3c72bf6a716"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2f8d67ff04352210559073c06a02f74f","value":"2f8d67ff04352210559073c06a02f74f"},"sys_update_name":"sys_ws_operation_a84cf75c73630010ee4dd3c72bf6a76f","consumes_customized":"false","name":"Get Tag Keys And Values","produces":"application/json,application/xml,text/xml","relative_path":"/get_tag_value_list","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\n\tvar controller = new GTStepsController();\n\tvar tourId = request.pathParams.tour_id;\n\tvar payload = request.body.data;\n\t\n\tcontroller.createNewStep(tourId, payload, function(err, data) {\n\t\tif (err) {\n\t\t\tresponse.setBody({msg: data.msg});\n\t\t\tif(data.status === \"BAD_REQUEST\")\n\t\t\t\tresponse.setStatus(400);\n\t\t\telse if (data.status === \"NOT FOUND\")\n\t\t\t\tresponse.setStatus(404);\n\t\t\telse if (data.status === \"FORBIDDEN\")\n\t\t\t\tresponse.setStatus(403);\n\t\t\telse if (data.status === \"INTERNAL_ERROR\")\n\t\t\t\tresponse.setStatus(500);\n\t\t\t\n\t\t} else {\n\t\t\tresponse.setBody({id: data.id});\n\t\t\tresponse.setStatus(200);\n\t\t}\n\t});\n\t\t\n\t})(request, response);","sys_updated_on":"2018-08-31 11:43:24","enforce_acl":"cad7104a877b1300b38c0f4c59cb0bdb","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/3268f36173eb13007077edcc5ef6a738","value":"3268f36173eb13007077edcc5ef6a738"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a85ed087732313007077edcc5ef6a7bf","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/v1/guided_tours/tours/{tour_id}/steps","sys_created_on":"2018-07-31 07:59:21","sys_name":"Create New Step","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/2405194d87e73200b38c0f4c59cb0b6f","value":"2405194d87e73200b38c0f4c59cb0b6f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"18","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_update_name":"sys_ws_operation_a85ed087732313007077edcc5ef6a7bf","consumes_customized":"false","name":"Create New Step","produces":"application/json,application/xml,text/xml","relative_path":"/tours/{tour_id}/steps","produces_customized":"false","default_operation_uri":"/api/now/guided_tours/tours/{tour_id}/steps","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar errors = CollabTaskConstants.errors;\n    var appId = request.pathParams.application_sys_id;\n\t\n\tif (!appId) {\n      throw new sn_ws_err.ServiceError()\n\t\t\t.setStatus(statusCodes.BAD_REQUEST)\n\t\t\t.setMessage(gs.getMessage(\"Missing App Id\"));\n    }\n\t\n\tvar result = CollabTaskServiceV2.getPendingCollaborators(appId);\n\tresponse.setBody(result.body);\n\tresponse.setStatus(result.status);\n\n})(request, response);","sys_updated_on":"2023-11-14 07:30:46","enforce_acl":"6151fdac533130100f29ddeeff7b120a,1296f5b007223110523bc41f0ad300ba","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/d47b4a5dc7f33010408bc8d6f2c260cc","value":"d47b4a5dc7f33010408bc8d6f2c260cc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a87b8a5dc7f33010408bc8d6f2c26076","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_collab_request/v2/collaboration_tasks_api/pending_collaborators/app/{application_sys_id}","sys_created_on":"2021-11-12 16:49:01","sys_name":"Get Pending Collaborators (v2)","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/6adeae39c3013010a9f5e548fa40dd4e","value":"6adeae39c3013010a9f5e548fa40dd4e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"sys_update_name":"sys_ws_operation_a87b8a5dc7f33010408bc8d6f2c26076","consumes_customized":"false","name":"Get Pending Collaborators (v2)","produces":"application/json,application/xml,text/xml","relative_path":"/pending_collaborators/app/{application_sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_collab_request/collaboration_tasks_api/pending_collaborators/app/{application_sys_id}","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\tvar dashboard = new NotificationDashboard();\n    var result = dashboard.getTriggerCountByNotificationID(request.body.data);\n    response.setBody(result);\n})(request, response);","sys_updated_on":"2024-10-22 18:54:05","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a8eb2e9f05911290f877ad28680d550a","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/snc/notification_dashboard/notifications/email/triggerCountById","sys_created_on":"2024-10-22 18:49:45","sys_name":"Get Trigger Count by ID","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/a5ea2ec8ffec5a10ac42fbd38c4fd9fb","value":"a5ea2ec8ffec5a10ac42fbd38c4fd9fb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fa85f980ff6c5a10ac42fbd38c4fd9bd","value":"fa85f980ff6c5a10ac42fbd38c4fd9bd"},"sys_update_name":"sys_ws_operation_a8eb2e9f05911290f877ad28680d550a","consumes_customized":"false","name":"Get Trigger Count by ID","produces":"application/json,application/xml,text/xml","relative_path":"/notifications/email/triggerCountById","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tresponse.setContentType('application/json');\n\n\tvar input = request.body.data;\n\tvar maxCardCount = '';\n\tif (global.JSUtil.notNil(input) && global.JSUtil.notNil(input.maxCardCount)) {\n\t\tmaxCardCount = Number(input.maxCardCount);\n\t}\n\tvar actionsUtil = new sn_cmdb_ws.CMDBWSImportantActionsUtil();\n\treturn actionsUtil.getRecommendationCardData(maxCardCount);\n})(request, response);","sys_updated_on":"2024-06-29 06:41:16","enforce_acl":"39a22ab60735011017b703767cd30036","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a93fc85f53132110b87eddeeff7b1264","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_cmdb_ws/cmdb_workspace_api_scoped/recommendation_card","sys_created_on":"2023-06-13 04:56:51","sys_name":"Get Recommendation Card Data","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3ff417b78f3f2010960c53ac37bdeefb","value":"3ff417b78f3f2010960c53ac37bdeefb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_update_name":"sys_ws_operation_a93fc85f53132110b87eddeeff7b1264","consumes_customized":"false","name":"Get Recommendation Card Data","produces":"application/json,application/xml,text/xml","relative_path":"/recommendation_card","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar receivedParams = request.queryParams;\n    var parentRecordSysId = receivedParams.parentRecordSysId + '';\n    var tableName = receivedParams.tableName + '';\n    var parentFieldName = receivedParams.parentFieldName + '';\n    var referencedFieldName = receivedParams.referencedFieldName + '';\n\tvar extensionPoint = receivedParams.extensionPoint + '';\n\tvar showRefField = receivedParams.showReferenceFilter;\n    var result = {};\n    try {\n        var eps = new GlideScriptedExtensionPoint().getExtensions('RelatedListItemCandidateFilter');\n        for (var i = 0; i < eps.length; i++) {\n            if (eps[i].handles(extensionPoint)) {\n                // keeps initialize call for implementations that were already made (backwards compatibility)\n                eps[i].initialize && eps[i].initialize(tableName, parentFieldName, parentRecordSysId, referencedFieldName, showRefField);\n                result = {\n                    filterQuery: eps[i].getFilterQuery(tableName, parentFieldName, parentRecordSysId, referencedFieldName),\n\t\t\t\t\trefFieldDetails: eps[i].getReferenceFieldValue(tableName, parentFieldName, parentRecordSysId, referencedFieldName, showRefField)\n                };\n\t\t\t\tbreak;\n            }\n        }\n    } catch (e) {\n        gs.error(\"Error running RelatedListItemCandidateFilter extension point\", e);\n    }\n    response.setStatus(200);\n    response.setContentType('application/json');\n    response.setBody(result);\n\n})(request, response);","sys_updated_on":"2024-03-01 00:58:15","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a9c2ebcf7707330022f7f4d2681061bc","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/related_list_item_filter/getFilterQuery","sys_created_on":"2019-08-08 18:10:48","sys_name":"getFilterQuery","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/e5089b8b7707330022f7f4d268106184","value":"e5089b8b7707330022f7f4d268106184"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"25","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ba9c2f7b04352210559073c06a02f7cb","value":"ba9c2f7b04352210559073c06a02f7cb"},"sys_update_name":"sys_ws_operation_a9c2ebcf7707330022f7f4d2681061bc","consumes_customized":"false","name":"getFilterQuery","produces":"application/json,application/xml,text/xml","relative_path":"/getFilterQuery","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var solution_id = decodeURI(request.pathParams.solution_id);\n\tif (solution_id) {\n\t\tvar queryParams = request.queryParams;\n\t\tvar result = [];\n\t\treturn new ML_UI().getSolutionData(solution_id, queryParams);\n\t} else {\n\t\treturn sn_ws_err.BadRequestError(\"Solution id not present\");\n\t}\n\n})(request, response);","sys_updated_on":"2022-02-10 08:08:44","enforce_acl":"aa527b0a53210110b6acddeeff7b12f2","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/456b8f4553103300d1dcddeeff7b12ac","value":"456b8f4553103300d1dcddeeff7b12ac"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"a9ed1670b7ec3300d1dcf8b8ee11a97f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_ml_ui/v1/ml_ui/getsolutiondata/{solution_id}","sys_created_on":"2019-03-30 06:44:51","sys_name":"getSolutionData","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/21f30bcdb7d03300d1dcf8b8ee11a9eb","value":"21f30bcdb7d03300d1dcf8b8ee11a9eb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/c6facb4553103300d1dcddeeff7b1287","value":"c6facb4553103300d1dcddeeff7b1287"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/21f30bcdb7d03300d1dcf8b8ee11a9eb","value":"21f30bcdb7d03300d1dcf8b8ee11a9eb"},"sys_update_name":"sys_ws_operation_a9ed1670b7ec3300d1dcf8b8ee11a97f","consumes_customized":"false","name":"getSolutionData","produces":"application/json,application/xml,text/xml","relative_path":"/getsolutiondata/{solution_id}","produces_customized":"false","default_operation_uri":"/api/sn_ml_ui/ml_ui/getsolutiondata/{solution_id}","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar queryParams = request.queryParams;\n\n\tvar orderBy = \"\";\n\tif (typeof queryParams.orderBy !== \"undefined\")\n\t\torderBy = queryParams.orderBy + \"\";\n\n\tvar textSearch = \"\";\n\tif (typeof queryParams.textSearch !== \"undefined\")\n\t\ttextSearch = queryParams.textSearch + \"\";\n\n\tvar encodedQueryObj = global.ChangeCommon.buildEncodedQuery(global.ChangeCommon.assign({}, request.queryParams));\n\tvar result = global.ChangeCommon.getWindow(global.NormalChangeProcess.findAll(orderBy, textSearch, encodedQueryObj.encodedQuery), queryParams.sysparm_limit || null, queryParams.sysparm_offset || null);\n\tresult.push({__meta: encodedQueryObj});\n\treturn result;\n})(request, response);","sys_updated_on":"2018-08-17 14:06:31","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"aa0bb185b723130096c3e4f6ee11a9ad","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/normal","sys_created_on":"2018-07-25 09:36:15","sys_name":"Normal - search","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_aa0bb185b723130096c3e4f6ee11a9ad","consumes_customized":"false","name":"Normal - search","produces":"application/json,application/xml,text/xml","relative_path":"/normal","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/normal","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\nvar dashboard = new NotificationDashboard();\nvar result = dashboard.getUnsubscribedCountNotifications(request.body.data);\nresponse.setBody({\n        count: result\n    });\n\n})(request, response);","sys_updated_on":"2024-09-29 12:20:53","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"aa1c6233fb78de5055d3f67465efdcfc","http_method":"POST","sys_updated_by":"rishika.karri@snc","operation_uri":"/api/snc/notification_dashboard/notifications/email/unsubscribecount","sys_created_on":"2024-09-29 11:36:18","sys_name":"Get Unusbscribed Count","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"rishika.karri@snc","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/a5ea2ec8ffec5a10ac42fbd38c4fd9fb","value":"a5ea2ec8ffec5a10ac42fbd38c4fd9fb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fa85f980ff6c5a10ac42fbd38c4fd9bd","value":"fa85f980ff6c5a10ac42fbd38c4fd9bd"},"sys_update_name":"sys_ws_operation_aa1c6233fb78de5055d3f67465efdcfc","consumes_customized":"false","name":"Get Unusbscribed Count","produces":"application/json,application/xml,text/xml","relative_path":"/notifications/email/unsubscribecount","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        const params = UDCUtil.assign({},\n            request.pathParams,\n            UDCUtil.normalizeQueryParams(request.queryParams)\n        );\n        return new AppDetails(params).getFilesByCategory();\n    } catch (e) {\n        const LOG = new Logger(`GET:/api/sn_udc/applications/app/{appSysId}/{typeId}/files`);\n        LOG.error(`Failed to fetch app files of a category: ${e.toString()}`);\n        throw new sn_ws_err.ServiceError()\n            .setStatus(500)\n            .setMessage(gs.getMessageLang(\"Unhandled exception {0}\", \"en\", [e]))\n            .setDetail(gs.getMessage(\"Unhandled exception {0}\", [e]));\n    }\n\n})(request, response);","sys_updated_on":"2025-03-03 05:01:31","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/bdb69aae38590610f877e7be24350541","value":"bdb69aae38590610f877e7be24350541"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"aa4210c7ff6712109687ffffffffff6b","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_udc/v1/applications/app/{appSysId}/{typeId}/files","sys_created_on":"2025-02-10 09:20:57","sys_name":"Get App Files of a Category","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/8ac50768bd590e10f877b7c0f70fea90","value":"8ac50768bd590e10f877b7c0f70fea90"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_update_name":"sys_ws_operation_aa4210c7ff6712109687ffffffffff6b","consumes_customized":"false","name":"Get App Files of a Category","produces":"application/json,application/xml,text/xml","relative_path":"/app/{appSysId}/{typeId}/files","produces_customized":"false","default_operation_uri":"/api/sn_udc/applications/app/{appSysId}/{typeId}/files","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar util = new GuidedSetupUtilSNC();\n\n\ttry {\n\t\tif (util.restSecurityWrapper(util.isMetaReadAllowed())) {\n\t\t\treturn util.getChildrenContentDetails(request.pathParams.contentTable, request.pathParams.parentId, request.queryParams);\n\t\t}\n\t} catch (e) {\n\t\treturn util.restErrorHandler(e, response);\n\t}\n\n})(request, response);","sys_updated_on":"2015-12-12 14:24:03","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"aa88c079ff030200b18affffffffff75","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/guided_setup/content/children/{contentTable}/{parentId}","sys_created_on":"2015-10-12 07:44:16","sys_name":"Children Content Details","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5f4ef4ed9f401200b18a7feea57fcfbe","value":"5f4ef4ed9f401200b18a7feea57fcfbe"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3ce43d1bff220200b18affffffffff55","value":"3ce43d1bff220200b18affffffffff55"},"consumes":"application/json","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5f4ef4ed9f401200b18a7feea57fcfbe","value":"5f4ef4ed9f401200b18a7feea57fcfbe"},"sys_update_name":"sys_ws_operation_aa88c079ff030200b18affffffffff75","consumes_customized":"false","name":"Children Content Details","produces":"application/json","relative_path":"/content/children/{contentTable}/{parentId}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var payload = request.body.data;\n    var inputParam = {};\n    inputParam.pageId = payload.pageId;\n    inputParam.blockId = payload.blockId;\n    inputParam.aceConfig = payload.aceConfig;\n    var reloadCachedData = payload.clearCache ? true : false;\n\n    var appBuilderUtil = new ACEAppBuilderUtilV2();\n    response.setBody({\n        'component_content_type_properties': appBuilderUtil.getCachedMetadataProperties(inputParam, reloadCachedData)\n    });\n\n})(request, response);","sys_updated_on":"2023-11-29 16:18:16","enforce_acl":"2f7a350f774e2110bc5db5b27a5a995a","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"aab6c3f177171110bc5db5b27a5a9981","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/ace/fetchComponentContentTypeProps","sys_created_on":"2022-11-22 06:19:18","sys_name":"fetchComponentContentTypeProps","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/090c5ee353721110c733ddeeff7b1299","value":"090c5ee353721110c733ddeeff7b1299"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"21","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_update_name":"sys_ws_operation_aab6c3f177171110bc5db5b27a5a9981","consumes_customized":"false","name":"fetchComponentContentTypeProps","produces":"application/json,application/xml,text/xml","relative_path":"/fetchComponentContentTypeProps","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar changeSysId = request.pathParams.change_sys_id || \"\";\n\tif (!changeSysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Change Request id not provided\");\n\n\tvar changeRequestGr = new GlideRecordSecure(global.ChangeRequest.CHANGE_REQUEST);\n\tchangeRequestGr.addQuery(\"sys_id\", changeSysId);\n\tchangeRequestGr.query();\n\tif (!changeRequestGr.next())\n\t\treturn new sn_ws_err.NotFoundError(\"Change Request not found\");\n\n\tvar nameValuePairs = global.ChangeCommon.assign({}, request.queryParams);\n\tnameValuePairs.task = changeSysId;\n\n\tvar changeManagementWorker = new global.ChangeManagementWorker();\n\tchangeManagementWorker.run(nameValuePairs);\n\n\t// Provide Async link in header\n\tresponse.setHeader(\"Link\", changeManagementWorker.getResponseParam(\"worker\").link + \"\");\n\n\t// Allows server to accept request for asynchronous process\n\tresponse.setStatus(202);\n\n\treturn changeManagementWorker.toJS();\n})(request, response);","sys_updated_on":"2019-01-28 17:21:36","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"aad6a219b71323000999e4f6ee11a98e","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/{change_sys_id}/refresh_impacted_services","sys_created_on":"2019-01-28 17:21:36","sys_name":"Refresh Impacted Services","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_aad6a219b71323000999e4f6ee11a98e","consumes_customized":"false","name":"Refresh Impacted Services","produces":"application/json,application/xml,text/xml","relative_path":"/{change_sys_id}/refresh_impacted_services","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/{change_sys_id}/refresh_impacted_services","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var appManagerApiUtil = new AppManagerApiUtil(request, response);\n    try {\n        var requestParams = appManagerApiUtil.getRequestParams();\n        var helper = new PluginInfoHelper();\n        var pluginResponse = helper.getPlugin(requestParams);\n        appManagerApiUtil.setResponseBody(pluginResponse);\n    } catch (err) {\n        appManagerApiUtil.setResponseBody(err);\n    }\n})(request, response);","sys_updated_on":"2023-10-04 09:25:34","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/be08b89397b0d1104b593f0e6253afe1","value":"be08b89397b0d1104b593f0e6253afe1"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"aae5fa58774e5110c918256a5b5a9964","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_appclient/v1/appmanager/plugin/{pluginId}","sys_created_on":"2022-09-16 09:59:46","sys_name":"GetPluginById","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7ea1fc5f9770d1104b593f0e6253af99","value":"7ea1fc5f9770d1104b593f0e6253af99"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_update_name":"sys_ws_operation_aae5fa58774e5110c918256a5b5a9964","consumes_customized":"false","name":"GetPluginById","produces":"application/json,application/xml,text/xml","relative_path":"/plugin/{pluginId}","produces_customized":"false","default_operation_uri":"/api/sn_appclient/appmanager/plugin/{pluginId}","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var reqJson = JSON.parse(request.body.dataString);\n    var resp = new sn_generative_ai.GenerativeAIUtil().sendFeedback(reqJson);\n    if (resp[\"status\"] != \"success\") {\n        response.setStatus(500);\n    } else {\n        response.setStatus(200);\n    }\n\treturn resp;\n})(request, response);","sys_updated_on":"2024-03-01 20:27:26","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/556ab482a3313110c38e8b61341e613a","value":"556ab482a3313110c38e8b61341e613a"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"ab7a3c82a3313110c38e8b61341e614a","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/v1/feedback","sys_created_on":"2023-10-11 17:31:36","sys_name":"Submit Generative AI Feedback","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/e04ab482a3313110c38e8b61341e612f","value":"e04ab482a3313110c38e8b61341e612f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7c84affb04312210559073c06a02f73d","value":"7c84affb04312210559073c06a02f73d"},"sys_update_name":"sys_ws_operation_ab7a3c82a3313110c38e8b61341e614a","consumes_customized":"false","name":"Submit Generative AI Feedback","produces":"application/json,application/xml,text/xml","relative_path":"/","produces_customized":"false","default_operation_uri":"/api/now/feedback","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var queryParams = request.queryParams;\n    var data = request.body.data;\n    var decisionTableId = queryParams.decisionTableId;\n    var decisionTableName = data.decisionTableName;\n    var application = data.application;\n    var includeDelta = data.includeDelta;\n    var duplicateDecisions = data.duplicateDecisions;\n\n    if (!decisionTableId) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(500)\n            .setMessage('decisionTableId query parameter is required.');\n    }\n\n    var decisionBuilderAPI = new sn_dt.DecisionTableBuilderAPI();\n    var copyDTResponse = decisionBuilderAPI.copyDecisionTable(decisionTableId, decisionTableName, duplicateDecisions, application, includeDelta);\n    var decisionTableRecord = copyDTResponse.record;\n    var results = {};\n    if (decisionTableRecord) {\n        results.decisionTableDetails = {\n            sysId: decisionTableRecord.getValue(\"sys_id\"),\n            name: decisionTableRecord.getValue(\"name\"),\n        };\n    }\n\n    if (copyDTResponse.status === \"Failure\") {\n        if (decisionTableRecord) {\n            response.setBody(results);\n            response.setStatus(500);\n        } else {\n            throw new sn_ws_err.ServiceError()\n                .setStatus(500)\n                .setMessage('Some internal error occurred');\n        }\n    } else {\n        response.setBody(results);\n        response.setStatus(200);\n    }\n\n\n\n})(request, response);","sys_updated_on":"2024-08-06 10:30:29","enforce_acl":"6217dc6693b70e104e2fe54a54891870","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"ac07f805437531108561af1eb9b8f237","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_decision_table/generic/duplicate_decision_table","sys_created_on":"2023-10-08 14:41:17","sys_name":"Duplicate Decision Table","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/13aa96a16bcefa78b16cc99ed9e4f1f4","value":"13aa96a16bcefa78b16cc99ed9e4f1f4"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/d5498f77c3633010d4437f9ec840dd67","value":"d5498f77c3633010d4437f9ec840dd67"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"14","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/13aa96a16bcefa78b16cc99ed9e4f1f4","value":"13aa96a16bcefa78b16cc99ed9e4f1f4"},"sys_update_name":"sys_ws_operation_ac07f805437531108561af1eb9b8f237","consumes_customized":"false","name":"Duplicate Decision Table","produces":"application/json,application/xml,text/xml","relative_path":"/duplicate_decision_table","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar section = request.queryParams.section ? request.queryParams.section + \"\" : null;\n\tvar sysId = request.queryParams.section ? request.queryParams.sysId + \"\" : null;\n    if (!section)\n        return new sn_ws_err.BadRequestError('section not provided');\n    if (!sysId)\n        return new sn_ws_err.BadRequestError('sysId not provided');\n\n    return new SOWProblemUtils().getListsForTaskSection(sysId, section);\n})(request, response);","sys_updated_on":"2024-05-17 15:41:14","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"ac3aa0b35746021013d48f90ac94f9a3","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sow_problem/sow_problem_utils/get_overview_related_lists","sys_created_on":"2024-05-15 09:14:50","sys_name":"Get Overview Section Related Lists","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/54a81ee10b11301039dd818393673a5c","value":"54a81ee10b11301039dd818393673a5c"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/8a16e47f5706021013d48f90ac94f9d5","value":"8a16e47f5706021013d48f90ac94f9d5"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"8","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/54a81ee10b11301039dd818393673a5c","value":"54a81ee10b11301039dd818393673a5c"},"sys_update_name":"sys_ws_operation_ac3aa0b35746021013d48f90ac94f9a3","consumes_customized":"false","name":"Get Overview Section Related Lists","produces":"application/json,application/xml,text/xml","relative_path":"/get_overview_related_lists","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    const applicationSysId = request.queryParams.application_sys_id && request.queryParams.application_sys_id[0] ?\n        request.queryParams.application_sys_id[0].toLowerCase() :\n        '';\n    const type = request.queryParams.type && request.queryParams.type[0] ?\n        request.queryParams.type[0].toLowerCase() :\n        '';\n    return AESPluginValidator.getSNSInfo(type, applicationSysId);\n\n})(request, response);","sys_updated_on":"2024-08-29 13:32:36","enforce_acl":"c79ed12a0f7f1010f23ff722ff767e65","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/f7ec1279c3202010a9f5e548fa40dd4d","value":"f7ec1279c3202010a9f5e548fa40dd4d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"ac6090fb43c01210e0e96340cfb8f2cb","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_app_eng_studio/v1/generic/servicenow-studio-info","sys_created_on":"2024-08-22 17:28:55","sys_name":"Servicenow Studio Info","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/37cc9e39c3202010a9f5e548fa40ddef","value":"37cc9e39c3202010a9f5e548fa40ddef"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"66","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_ws_operation_ac6090fb43c01210e0e96340cfb8f2cb","consumes_customized":"false","name":"Servicenow Studio Info","produces":"application/json,application/xml,text/xml","relative_path":"/servicenow-studio-info","produces_customized":"false","default_operation_uri":"/api/sn_app_eng_studio/generic/servicenow-studio-info","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    response.setContentType('application/json');\n\tvar input = request.body.data;\n\tvar manualRefresh = input.manualRefresh;\n\tvar importantActionsUtil = new sn_cmdb_ws.CMDBWSImportantActionsUtil();\n\treturn importantActionsUtil.getImportantActionCardData(manualRefresh);\n\n})(request, response);","sys_updated_on":"2024-06-04 23:54:28","enforce_acl":"39a22ab60735011017b703767cd30036","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"ace8faf977322110ee0d0cc2fa5a99a3","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_cmdb_ws/cmdb_workspace_api_scoped/imp_action_card","sys_created_on":"2023-05-15 04:57:21","sys_name":"Get Important Action Card Data","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3ff417b78f3f2010960c53ac37bdeefb","value":"3ff417b78f3f2010960c53ac37bdeefb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_update_name":"sys_ws_operation_ace8faf977322110ee0d0cc2fa5a99a3","consumes_customized":"false","name":"Get Important Action Card Data","produces":"application/json,application/xml,text/xml","relative_path":"/imp_action_card","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var scopeId = request && request.queryParams && request.queryParams.scope_id;\n    var result = {\n        node_positions: ''\n    };\n\n    if (!scopeId) {\n        return {\n            error: \"Scope ID is missing.\"\n        };\n    }\n\n    var gr = new GlideRecord(\"sn_table_builder_positioning_table\");\n\tgr.addQuery(\"scope_id\", scopeId);\n\tgr.query();\n\n    if (gr.next()) {\n        result.node_positions = JSON.parse(gr.getValue('node_positions'));\n    }\n\n    response.setBody(result);\n})(request, response);","sys_updated_on":"2023-04-12 08:31:10","enforce_acl":"f70e338e73f110107419c907fbf6a733","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"acf56cec435f1110261cd32acab8f2bd","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_table_builder/app/schemaPositions","sys_created_on":"2022-11-17 21:25:22","sys_name":"Schema Positions","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f53f19bac362fa22ca2e93692d32f18f","value":"f53f19bac362fa22ca2e93692d32f18f"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/72cd338e73f110107419c907fbf6a730","value":"72cd338e73f110107419c907fbf6a730"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"66","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f53f19bac362fa22ca2e93692d32f18f","value":"f53f19bac362fa22ca2e93692d32f18f"},"sys_update_name":"sys_ws_operation_acf56cec435f1110261cd32acab8f2bd","consumes_customized":"false","name":"Schema Positions","produces":"application/json,application/xml,text/xml","relative_path":"/schemaPositions","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar sysId = request.pathParams.sys_id || null;\n\tif (!sysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Emergency Change Request id not provided\");\n\n\tvar changeProcess = global.EmergencyChangeProcess.findById(sysId);\n\tif (!changeProcess)\n\t\treturn new sn_ws_err.NotFoundError(\"Emergency Change Request not found\");\n\n\treturn changeProcess.toJS();\n})(request, response);","sys_updated_on":"2018-07-07 19:45:50","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"acf9db5f5303130096c3ddeeff7b12b3","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/emergency/{sys_id}","sys_created_on":"2018-07-07 19:45:50","sys_name":"Emergency","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_acf9db5f5303130096c3ddeeff7b12b3","consumes_customized":"false","name":"Emergency","produces":"application/json,application/xml,text/xml","relative_path":"/emergency/{sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/emergency/{sys_id}","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var util = new GuidedSetupUtilSNC();\n\tvar requestData = request.body.data;\n\tvar contentId = requestData.contentId;\n\tvar action = requestData.action;\n\n\ttry {\n\t\tif (util.restSecurityWrapper(util.isMetaAccessAllowed(contentId))) {\n\t\t\treturn util.updateChangeLog(contentId, action);\n\t\t}\n\t} catch (e) {\n\t\treturn util.restErrorHandler(e, response);\n\t}\n\n})(request, response);","sys_updated_on":"2016-11-10 19:13:41","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"ad5cf0629f83020066dabde8132e7088","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/guided_setup/change/log/update","sys_created_on":"2015-10-14 19:26:55","sys_name":"Update Change Log","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5f4ef4ed9f401200b18a7feea57fcfbe","value":"5f4ef4ed9f401200b18a7feea57fcfbe"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3ce43d1bff220200b18affffffffff55","value":"3ce43d1bff220200b18affffffffff55"},"consumes":"application/json","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"11","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5f4ef4ed9f401200b18a7feea57fcfbe","value":"5f4ef4ed9f401200b18a7feea57fcfbe"},"sys_update_name":"sys_ws_operation_ad5cf0629f83020066dabde8132e7088","consumes_customized":"false","name":"Update Change Log","produces":"application/json","relative_path":"/change/log/update","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // implement resource here\n    var data = request.body.data;\n    try {\n        var result = {};\n        var utteranceId = data.utteranceId;\n        var utterance = data.utterance;\n        if (utteranceId && utterance) {\n            var gr = new GlideRecord('sys_nlu_utterance');\n            if (gr.get(utteranceId)) {\n                var intent = gr.getValue('intent');\n                var intentGR = new GlideRecord('sys_nlu_intent');\n                if (intentGR.get(intent)) {\n                    var model = intentGR.model;\n                    if (model && !global.NLUSystemUtil.canPerformEditOperations(model)) {\n                        return {\n                            status: \"Error: User does not have the ACL permission\"\n                        };\n                    }\n                }\n                gr.setValue('utterance', utterance);\n                gr.setValue('source', 'manual');\n                result.status = gr.update() ? 'success' : 'failure';\n            } else {\n                result.status = 'failure';\n            }\n        } else {\n            result.status = 'failure';\n        }\n        return result;\n    } catch (e) {\n        return e;\n    }\n\n})(request, response);","sys_updated_on":"2025-05-13 06:18:19","enforce_acl":"ccd8a1e7772000105d7b3882a910617c","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/e4cda81e7333230021a044764df6a777","value":"e4cda81e7333230021a044764df6a777"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"adaa1facc7631010c59db91703c26098","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/v1/nlu/updateUtterance","sys_created_on":"2020-09-26 12:02:57","sys_name":"updateUtterance","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/55672c9a7333230021a044764df6a706","value":"55672c9a7333230021a044764df6a706"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_ws_operation_adaa1facc7631010c59db91703c26098","consumes_customized":"false","name":"updateUtterance","produces":"application/json,application/xml,text/xml","relative_path":"/updateUtterance","produces_customized":"false","default_operation_uri":"/api/now/nlu/updateUtterance","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar dashboardUtils = new NotificationDashboardUtils();\n    var result = dashboardUtils.getOptedOutInfoByNotificationID(request.body.data);\n    response.setBody(result);\n})(request, response);","sys_updated_on":"2024-10-02 03:57:10","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"addfd0f0ff451e50ac42fbd38c4fd901","http_method":"POST","sys_updated_by":"rishika.karri@snc","operation_uri":"/api/snc/notification_dashboard/notifications/email/optOutById","sys_created_on":"2024-10-02 03:57:10","sys_name":"Get Optout Preferences by ID","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"rishika.karri@snc","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/a5ea2ec8ffec5a10ac42fbd38c4fd9fb","value":"a5ea2ec8ffec5a10ac42fbd38c4fd9fb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fa85f980ff6c5a10ac42fbd38c4fd9bd","value":"fa85f980ff6c5a10ac42fbd38c4fd9bd"},"sys_update_name":"sys_ws_operation_addfd0f0ff451e50ac42fbd38c4fd901","consumes_customized":"false","name":"Get Optout Preferences by ID","produces":"application/json,application/xml,text/xml","relative_path":"/notifications/email/optOutById","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n\tvar meetingId = request.pathParams.meetingId;\n\tif (!meetingId)\n\t\treturn new sn_ws_err.BadRequestError(\"CAB Meeting id not provided\");\n\t\n\tvar meetingGr = new GlideRecord(CAB.MEETING);\n\tif (!meetingGr.get(meetingId))\n\t\treturn new sn_ws_err.NotFoundError(\"CAB Meeting not found\");\n\t\n\tvar attendeeData = new CABMeeting(meetingGr).getAttendeeUserSysIds();\n\t\n\tresponse.setBody(attendeeData);\n})(request, response);","sys_updated_on":"2019-08-06 13:38:39","enforce_acl":"ee9fb61a232303001488dc1756bf658b","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"aded0066eb2022002a7a666cd206fe86","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_change_cab/cab/attendee/{meetingId}","sys_created_on":"2016-07-14 01:48:29","sys_name":"Attendee Info","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/cf65d305eb10220034d1eeea1206fe55","value":"cf65d305eb10220034d1eeea1206fe55"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_update_name":"sys_ws_operation_aded0066eb2022002a7a666cd206fe86","consumes_customized":"false","name":"Attendee Info","produces":"application/json,application/xml,text/xml","relative_path":"/attendee/{meetingId}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tif (!request.body.hasNext())\n\t\treturn new sn_ws_err.BadRequestError(\"illegal deleteDetails payload\");\n\n\tvar deleteDetails = request.body.nextEntry();\n\tif (!deleteDetails)\n\t\treturn new sn_ws_err.BadRequestError(\"deleteDetails malformed or null\");\n\n\tvar chgSocSysId = deleteDetails.chg_soc_definition;\n\tif (!chgSocSysId)\n\t\treturn new sn_ws_err.BadRequestError(\"deleteDetails malformed or null chgSocSysId: \" + chgSocSysId);\n\n\tvar gr = new GlideRecordSecure(\"chg_soc_definition\");\n\tif (!gr.get(chgSocSysId))\n\t\treturn new sn_ws_err.BadRequestError(\"chg_soc_definition: \" + chgSocSysId + \" record not found\");\n\n\treturn new SoCDefinition(gr).deleteRecord();\n})(request, response);\n","sys_updated_on":"2018-02-28 13:21:49","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"adfc29bdd7601300532c24837e6103b6","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_chg_soc/soc/deleteSchedule","sys_created_on":"2018-02-28 13:21:49","sys_name":"deleteSchedule","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3115d45f67020300b410afa00585ef87","value":"3115d45f67020300b410afa00585ef87"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_update_name":"sys_ws_operation_adfc29bdd7601300532c24837e6103b6","consumes_customized":"false","name":"deleteSchedule","produces":"application/json,application/xml,text/xml","relative_path":"/deleteSchedule","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    const {\n        product,\n        packageIds,\n        selectedTableName,\n        recordQuery,\n        filters: {\n            lastUpdatedOn,\n            lastUpdatedBy\n        },\n    } = request.body.data;\n\n    let result = getPackageInfo(packageIds, recordQuery, lastUpdatedOn, lastUpdatedBy, selectedTableName);\n    response.setContentType('application/json');\n    response.setStatus(200);\n    response.setBody(result);\n\n    function getPackageInfo(packageIds, recordQuery, lastUpdatedOn, lastUpdatedBy, selectedTableName) {\n        const lastUpdatedOnFilterToQueryValueMapping = {\n            '24h': 'javascript:gs.daysAgo(1)',\n            '3d': 'javascript:gs.daysAgo(3)',\n            '1w': 'javascript:gs.daysAgo(7)',\n            '2w': 'javascript:gs.daysAgo(14)',\n            '1m': 'javascript:gs.monthsAgo(1)',\n            '3m': 'javascript:gs.monthsAgo(3)',\n        };\n        let numberOfTablesWithRecords = 0;\n        let selectedTableFound = false;\n        let tables = [];\n        const pinned = gs.getUser().getPreference('configuration_hub.default_console.pinned_tables');\n        let visitedPinnedTablesSet = new Set();\n        if (packageIds && packageIds.length === 0)\n            return tables;\n\n        const metadataGr = new GlideAggregate('sys_metadata');\n        metadataGr.addQuery('sys_package', 'IN', packageIds.join());\n        if (recordQuery) {\n            var query = metadataGr.addQuery('sys_name', 'CONTAINS', recordQuery);\n            if (recordQuery.length === 32)\n                query.addOrCondition('sys_id', recordQuery);\n        }\n\n        if (lastUpdatedOn && lastUpdatedOnFilterToQueryValueMapping[lastUpdatedOn])\n            metadataGr.addQuery('sys_updated_on', '>=', lastUpdatedOnFilterToQueryValueMapping[lastUpdatedOn]);\n\n        if (lastUpdatedBy && lastUpdatedBy.length > 0)\n            metadataGr.addQuery('sys_updated_by', 'IN', lastUpdatedBy.join());\n\n        metadataGr.addAggregate('COUNT', 'sys_class_name');\n        metadataGr.addAggregate('MAX', 'sys_updated_on');\n        metadataGr.query();\n        while (metadataGr.next()) {\n            const tableName = metadataGr.getValue('sys_class_name');\n            const tableGr = getTableGlideRecord(tableName);\n            const tableLastUpdatedOn = metadataGr.getAggregate('MAX', 'sys_updated_on');\n            if (!tableGr)\n                continue;\n\n            let isPinned = pinned.split(',').indexOf(tableName) >= 0;\n            if (isPinned)\n                visitedPinnedTablesSet.add(tableName);\n            let recordCount = parseInt(metadataGr.getAggregate('COUNT', 'sys_class_name'));\n            tables.push({\n                id: tableName,\n                label: getPluralLabel(tableName, tableGr.getDisplayValue()),\n                isPinned: isPinned,\n                recordCount,\n                lastUpdatedOn: tableLastUpdatedOn\n            });\n\n            if (selectedTableName && !selectedTableFound && tableName === selectedTableName)\n                selectedTableFound = true;\n\n            if (recordCount > 0)\n                numberOfTablesWithRecords++;\n        }\n\n        // Adding back currently viewing table if it was filtered out\n        if (selectedTableName && !selectedTableFound) {\n            const selectedTableGr = getTableGlideRecord(selectedTableName);\n            let isPinned = pinned.split(',').indexOf(selectedTableName) >= 0;\n            if (isPinned)\n                visitedPinnedTablesSet.add(selectedTableName);\n            if (selectedTableGr !== null)\n                tables.push({\n                    id: selectedTableName,\n                    label: getPluralLabel(selectedTableName, selectedTableGr.getDisplayValue()),\n                    isPinned: isPinned,\n                    recordCount: 0\n                });\n        }\n\n        // adding all pinned tables which didn't appear in results\n        const pinnedTables = pinned.split(',');\n        for (let pinnedTable of pinnedTables) {\n            const tableGr = !visitedPinnedTablesSet.has(pinnedTable) ? getTableGlideRecord(pinnedTable) : null;\n            if (tableGr !== null)\n                tables.push({\n                    id: pinnedTable,\n                    label: getPluralLabel(pinnedTable, tableGr.getDisplayValue()),\n                    isPinned: true,\n                    recordCount: 0\n                });\n        }\n\n        // get encoded query, remove '^ORDERBYsys_class_name^GROUPBYsys_class_name' from end of query string\n        let encodedQuery = metadataGr.getEncodedQuery();\n        encodedQuery = encodedQuery.substring(0, encodedQuery.length - 44);\n\n        return {\n            tables: tables.sort(sortTables('label')),\n            pinnedTables: pinned,\n            query: encodedQuery,\n            numberOfTablesWithRecords\n        };\n    }\n\n    function getTableGlideRecord(tableClassName) {\n        const tableGr = new GlideRecord('sys_db_object');\n        if (!tableGr.get('name', tableClassName)) {\n            gs.error('[CONFIGURATION_HUB] Failed to find table: ' + tableClassName);\n\n            return null;\n        }\n\n        return tableGr;\n    }\n\n    function getPluralLabel(tableClassName, fallback) {\n        const docGr = new GlideRecord('sys_documentation');\n        docGr.addNullQuery('element');\n        docGr.addQuery('name', tableClassName);\n        docGr.query();\n        if (docGr.next())\n            return docGr.plural.getDisplayValue();\n\n        gs.warn('[CONFIGURATION_HUB] No plural label found for table ${tableClassName}');\n\n        return fallback;\n    }\n\n    function sortTables(field) {\n        return function(a, b) {\n            const countA = a['recordCount'];\n            const countB = b['recordCount'];\n            if (countA !== countB && countA * countB === 0) {\n                return countA === 0 ? 1 : -1;\n            }\n\n            if (a[field] > b[field])\n                return 1;\n            else if (a[field] < b[field])\n                return -1;\n            return 0;\n        };\n    }\n\n})(request, response);","sys_updated_on":"2023-06-26 22:20:07","enforce_acl":"a8baba634fa3611038e26c01b1ce0bf0","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"ae181a5fb760211010ba064d2e11a93c","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_config_hub/configuration_hub_api/config/data","sys_created_on":"2023-02-22 22:02:08","sys_name":"Get Config Files","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/2028fe718b11c8f32122c6da3b496a83","value":"2028fe718b11c8f32122c6da3b496a83"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/d68a7cb5eb9221109cfedf3c03522847","value":"d68a7cb5eb9221109cfedf3c03522847"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"49","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2028fe718b11c8f32122c6da3b496a83","value":"2028fe718b11c8f32122c6da3b496a83"},"sys_update_name":"sys_ws_operation_ae181a5fb760211010ba064d2e11a93c","consumes_customized":"false","name":"Get Config Files","produces":"application/json,application/xml,text/xml","relative_path":"/config/data","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Retrieves all the Items Specific to a Catalog ","sys_updated_on":"2015-12-11 06:08:36","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"ae881f7167330200d22b794717415a8b","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/catalogs/{sys_id}/items","sys_created_on":"2015-11-19 05:41:27","sys_name":"Retrive items belongs to a Catalog","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"10","active":"false","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_ae881f7167330200d22b794717415a8b","consumes_customized":"false","name":"Retrive items belongs to a Catalog","produces":"application/json,application/xml,text/xml","relative_path":"/catalogs/{sys_id}/items","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/catalogs/{sys_id}/items","sys_policy":"protected"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar qp = request.queryParams;\n\tvar searchRequest = new SNC.SearchRequest();\n\tvar payload = request.body.data;\n\n\t// If there's no payload and no query parameter we can return an error.\n\tif (JSUtil.isEmpty(payload) && JSUtil.nil(qp.q))\n\t\treturn new sn_ws_err.BadRequestError(\"No Query String provided\"); \n\t\n\t// Create the request from the payload\n\tif (!JSUtil.isEmpty(payload))\n\t\tsearchRequest.fromJSON(new JSON().encode(payload));\n\t\n\tif (JSUtil.notNil(qp.q))\n\t\tsearchRequest.query.freetext = qp.q;\n\t\n\tif (JSUtil.notNil(qp.cx))\n\t\tsearchRequest.context = qp.cx;\n\t\n\tif (JSUtil.notNil(qp.start) && !isNaN(qp.start)) {\n\t\tvar winDiff = searchRequest.meta.window.end - searchRequest.window.start;\n\t\tvar start = parseInt(qp.start);\n\t\tsearchRequest.meta.window.start = start;\n\t\tsearchRequest.meta.window.end = start + winDiff;\n\t}\n\t\n\tif (JSUtil.notNil(qp.num) && !isNaN(qp.num))\n\t\tsearchRequest.meta.window.end = searchRequest.meta.window.start + parseInt(qp.num);\n\t\n\tvar searchResponse = searchRequest.submit();\n\tresponse.setBody(new JSON().decode(searchResponse.toJSON()));\n})(request, response);","sys_updated_on":"2018-10-02 17:03:19","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"ae940d26d722220034d145bcce6103c3","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/cxs/search","sys_created_on":"2016-10-21 15:53:22","sys_name":"search","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7e534526d722220034d145bcce6103fa","value":"7e534526d722220034d145bcce6103fa"},"consumes":"application/json","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"15","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5209e3b704f12210559073c06a02f734","value":"5209e3b704f12210559073c06a02f734"},"sys_update_name":"sys_ws_operation_ae940d26d722220034d145bcce6103c3","consumes_customized":"false","name":"search","produces":"application/json","relative_path":"/search","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var grScope = new GlideRecord('sys_scope');\n    var doesScopeExist = grScope.get('scope', 'sn_app_eng_studio');\n    var scopeId = doesScopeExist ? grScope.sys_id : null;\n    var properties = [];\n\n    if (!scopeId)\n\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t.setStatus(404)\n\t\t\t.setMessage(gs.getMessageLang('sn_app_eng_studio scope does not exist', \"en\"))\n\t\t\t.setDetail(gs.getMessage('sn_app_eng_studio scope does not exist'));\n\n    var grProps = new GlideRecord('sys_properties');\n\n    grProps.addQuery('sys_scope', scopeId);\n    grProps.query();\n\n    while (grProps.next()) {\n        var property = {\n            name: grProps.getValue('name'),\n            value: grProps.getValue('value'),\n            description: grProps.getValue('description')\n        };\n\n        properties.push(property);\n    }\n\n    response.setBody(properties);\n    response.setStatus(200);\n})(request, response);","sys_updated_on":"2021-03-29 22:24:24","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/f7ec1279c3202010a9f5e548fa40dd4d","value":"f7ec1279c3202010a9f5e548fa40dd4d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"af0d9279c3202010a9f5e548fa40dd96","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_app_eng_studio/v1/generic/configuration","sys_created_on":"2020-11-18 21:48:17","sys_name":"Get AES Configuration","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/37cc9e39c3202010a9f5e548fa40ddef","value":"37cc9e39c3202010a9f5e548fa40ddef"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_ws_operation_af0d9279c3202010a9f5e548fa40dd96","consumes_customized":"false","name":"Get AES Configuration","produces":"application/json,application/xml,text/xml","relative_path":"/configuration","produces_customized":"false","default_operation_uri":"/api/sn_app_eng_studio/generic/configuration","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    return NLUStudioService.getIntentsByModelId(request.pathParams.modelId);\n\n})(request, response);","sys_updated_on":"2021-04-20 05:47:29","enforce_acl":"ccd8a1e7772000105d7b3882a910617c","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/e4cda81e7333230021a044764df6a777","value":"e4cda81e7333230021a044764df6a777"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"af3e7c9e7333230021a044764df6a78c","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/nlu/getIntentsByModel/{modelId}","sys_created_on":"2019-02-25 08:50:04","sys_name":"getIntentsByModel","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/55672c9a7333230021a044764df6a706","value":"55672c9a7333230021a044764df6a706"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"9","active":"false","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_ws_operation_af3e7c9e7333230021a044764df6a78c","consumes_customized":"false","name":"getIntentsByModel","produces":"application/json,application/xml,text/xml","relative_path":"/getIntentsByModel/{modelId}","produces_customized":"false","default_operation_uri":"/api/now/nlu/getIntentsByModel/{modelId}","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar sysId = request.pathParams.sys_id || null;\n\tif (!sysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Change Request id not provided\");\n\n\tvar changeProcess = global.ChangeProcess.findById(sysId);\n\tif (!changeProcess)\n\t\treturn new sn_ws_err.NotFoundError(\"Change Request not found\");\n\n\tvar nameValuePairs = global.ChangeCommon.assign({}, request.queryParams, request.body.data);\n\n\tvar state;\n\tif (nameValuePairs.state) {\n\t\tstate = nameValuePairs.state;\n\t\tdelete nameValuePairs.state;\n\t}\n\n\tvar fields = changeProcess.setValues(nameValuePairs);\n\n\tif (state && !changeProcess.canMoveTo(state)) {\n\t\tvar error = new sn_ws_err.ServiceError();\n\t\terror.setStatus(400);\n\t\terror.setMessage(\"Change Request cannot move to state: \" + state);\n\t\terror.setDetail(JSON.stringify(changeProcess.evaluateMoveTo(state)));\n\t\treturn error;\n\t}\n\n\tif ((!state && changeProcess.update()) || (state && changeProcess.moveTo(state) && changeProcess.update())) {\n\t\tvar result = changeProcess.toJS();\n\t\tresult.__meta = { ignoredFields: fields.ignored && fields.ignored.length > 0 ? fields.ignored : [] };\n\t\treturn result;\n\t}\n\n\tvar errorMessage = \"Change Request record could not be updated.\";\n\tvar lastErrorMessage = changeProcess.getGlideRecord().getLastErrorMessage();\n\tif (lastErrorMessage)\n\t\terrorMessage += \" \" + lastErrorMessage;\n\n\treturn new sn_ws_err.BadRequestError(errorMessage);\t\n})(request, response);","sys_updated_on":"2020-09-28 10:50:36","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"af4d11d553231010930cddeeff7b12cf","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/{sys_id}","sys_created_on":"2020-09-28 10:49:26","sys_name":"Change","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_af4d11d553231010930cddeeff7b12cf","consumes_customized":"false","name":"Change","produces":"application/json,application/xml,text/xml","relative_path":"/{sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/{sys_id}","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar params;\n\ttry{\n\t\tparams = request.body.data;\n\t\tgs.info(\"Training Request API request body params = \" +JSON.stringify(params));\n\t}catch(e){\n\t\tgs.error(\"Error occured \" + e.getMessage());\n\t\tthrow sn_ws_err.BadRequestError(\"malformed request\");\n\t}\n\t\t\n\tif(params.auto_train == \"true\"){\n\t\tgs.info(\"Preparing to trigger training requests for OOB solution definitions\");\n\t\tvar count = new MLTriggerAutoTrain().triggerTrainingRequests(params.capability);\n\t\tgs.info(\"Number of training requests triggered: \" + count);\n\t\treturn {\n\t\t\t\"message\":\"Triggered training requests.\",\n\t\t\t\"count\" : count\n\t\t};\n\t}else{\n\t\tgs.info(\"Not triggering training requests\");\n\t\treturn {\n\t\t\t\"message\":\"Unable to trigger training requests. Please check the request parameters.\",\n\t\t\t\"count\" : 0\n\t\t};\n\t}\n\n})(request, response);","sys_updated_on":"2019-09-30 09:00:42","enforce_acl":"5a3bd3757351230080b29ca9faf6a7f2","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"af58760bf48933006118bfbcd03dabe1","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/agent_intelligence/train_default_solutions","sys_created_on":"2019-05-01 04:58:12","sys_name":"Auto train UI","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3d4fe0bf0b323200c7ecc71437673a4e","value":"3d4fe0bf0b323200c7ecc71437673a4e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"17","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_ws_operation_af58760bf48933006118bfbcd03dabe1","consumes_customized":"false","name":"Auto train UI","produces":"application/json,application/xml,text/xml","relative_path":"/train_default_solutions","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var statusCodes = CollabTaskConstants.statusCodes;\n\n    var appId = request.pathParams.application_sys_id;\n\n\t//expected feature query param : INVITE or JOIN\n\tvar feature = !global.JSUtil.nil(request.queryParams.feature)?request.queryParams.feature.toString().trim():\"\";\n\t\n    if (!appId) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(statusCodes.BAD_REQUEST)\n            .setMessage(gs.getMessage(\"Missing App Id\"));\n    }\n\n    var payload = request.body.data;\n    var descriptorId = payload.descriptorId;\n    var users = payload.users;\n    var groups = payload.groups;\n\n    if ((!users || !users.length) && (!groups || !groups.length)) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(statusCodes.BAD_REQUEST)\n            .setMessage(gs.getMessage('Bad Request: There are no users or groups present in the payload.'));\n    }\n\n    if ((!descriptorId)) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(statusCodes.BAD_REQUEST)\n            .setMessage(gs.getMessage('Missing descriptor Id.'));\n    }\n\n    var result = CollabTaskService.inviteCollaborators(users, groups, appId, descriptorId, feature);\n\n    response.setBody(result.body);\n    response.setStatus(result.status);\n\n})(request, response);","sys_updated_on":"2023-10-04 11:01:20","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/d9914356c3113010a9f5e548fa40ddbd","value":"d9914356c3113010a9f5e548fa40ddbd"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"af5f2679c3013010a9f5e548fa40ddb1","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_collab_request/v1/collaboration_tasks_api/app/{application_sys_id}","sys_created_on":"2021-06-30 15:53:08","sys_name":"Invite Collaborators","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/6adeae39c3013010a9f5e548fa40dd4e","value":"6adeae39c3013010a9f5e548fa40dd4e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"12","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"sys_update_name":"sys_ws_operation_af5f2679c3013010a9f5e548fa40ddb1","consumes_customized":"false","name":"Invite Collaborators","produces":"application/json,application/xml,text/xml","relative_path":"/app/{application_sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var result = {};\n\tresponse.setContentType('application/json');\n\n\ttry {\n\t\tvar error = 'Unknown error';\n\t\tresponse.setStatus(200);\n\t\tresponse.setBody(result);\n\t\t\n\t\tvar params = request.queryParams;\n\t\t\n\t\tif(JSUtil.nil(params.name) && JSUtil.nil(params.number)) {\n\t\t\terror = 'Either name or number must be specified';\n\t\t\tresponse.setError(throwError(400, error));\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tresult.services = searchServices(params.name, params.number);\n\t\treturn;\n\n\t} catch(err) {\n\t\tresponse.setError(throwError(500, err));\n\t\treturn;\n\t}\n\t\n\t\n\tfunction searchServices(name, number) {\n\t\tvar services = [];\n\t\tvar gr = new GlideRecord('cmdb_ci_service_auto');\n\t\tif(JSUtil.notNil(name))\n\t\t\tgr.addQuery('name', name);\n\t\tif(JSUtil.notNil(number))\n\t\t\tgr.addQuery('number', number);\n\t\tgr.query();\n\t\t\n\t\tif(gr.getRowCount() == 0) {\n\t\t\treturn services;\n\t\t}\n\t\t\n\t\twhile(gr.next()) {\n\t\t\tvar serviceDetails = new CSDMAppServiceHelper().getApplicationService(gr.getValue('sys_id')).service_details;\n\t\t\tvar service = {};\n\t\t\tservice.name = serviceDetails.basic_details.name;\n\t\t\tservice.number = serviceDetails.basic_details.number;\n\t\t\tservice.sys_id = serviceDetails.basic_details.service_id;\n\t\t\tservice.environment = serviceDetails.basic_details.environment;\n\t\t\tservice.version = serviceDetails.basic_details.version;\n\t\t\tservice.relationships = serviceDetails.relationships;\n\t\t\tservices.push(service);\n\t\t}\n\t\t\n\t\treturn services;\n\t}\n\t\n\tfunction throwError(status, errMsg) {\n\t\tvar genericError = new sn_ws_err.ServiceError();\n\t\tgenericError.setStatus(status);\n\t\tgenericError.setMessage(\"Problem processing request\");\n\t\tgenericError.setDetail(errMsg);\n\t\treturn genericError;\n\t}\n})(request, response);","sys_updated_on":"2020-04-03 22:21:18","enforce_acl":"44eb6c5573f7001061b79c0c6df6a71c","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"af5f8c8d73b3001061b79c0c6df6a7ce","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/cmdb/csdm/app_service/find_service","sys_created_on":"2020-03-25 02:39:38","sys_name":"Find Service","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/565abf20c39413003e76741e81d3ae48","value":"565abf20c39413003e76741e81d3ae48"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"24","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2f8d67ff04352210559073c06a02f74f","value":"2f8d67ff04352210559073c06a02f74f"},"sys_update_name":"sys_ws_operation_af5f8c8d73b3001061b79c0c6df6a7ce","consumes_customized":"false","name":"Find Service","produces":"application/json,application/xml,text/xml","relative_path":"/csdm/app_service/find_service","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","sys_updated_on":"2021-04-07 10:02:56","enforce_acl":"c181cf8187602010c84e4561d5cb0b5e","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"afc65e2b531220105408ddeeff7b12e2","http_method":"PUT","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/service_fulfillment/step/{sys_id}","sys_created_on":"2021-02-19 07:40:18","sys_name":"Update a Service Fulfillment Step","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/97adafff04352210559073c06a02f7da","value":"97adafff04352210559073c06a02f7da"},"sys_update_name":"sys_ws_operation_afc65e2b531220105408ddeeff7b12e2","consumes_customized":"false","name":"Update a Service Fulfillment Step","produces":"application/json,application/xml,text/xml","relative_path":"/service_fulfillment/step/{sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/service_fulfillment/step/{sys_id}","sys_policy":"protected"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // implement resource here\n\tvar apn = new sn_tourbuilder.AJAXAppPageNames();\n\tvar name = request.queryParams.sysparm_name || '';\n\tvar limit = Number(request.queryParams.sysparm_limit) || 20;\n\tvar offset = Number(request.queryParams.sysparm_offset) || 0;\n\t\n\tvar res = apn.getPlatfromPageNames({name:name, limit:limit, offset:offset});\n\tif(res.data && res.data.length){\n\t\tresponse.setBody(res);\n\t\tresponse.setStatus(200);\n\t}else{\n\t\tresponse.setBody({data:[],totalRecords:0});\n\t\tresponse.setStatus(200);\n\t}\n\n})(request, response);","sys_updated_on":"2018-07-27 08:01:01","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/3268f36173eb13007077edcc5ef6a738","value":"3268f36173eb13007077edcc5ef6a738"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"afc9018f7f4413001cb774137ffa913c","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/guided_tours/platform/page_name","sys_created_on":"2018-02-07 11:35:14","sys_name":"Standard UI -  Search for page names","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/2405194d87e73200b38c0f4c59cb0b6f","value":"2405194d87e73200b38c0f4c59cb0b6f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"14","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_update_name":"sys_ws_operation_afc9018f7f4413001cb774137ffa913c","consumes_customized":"false","name":"Standard UI -  Search for page names","produces":"application/json,application/xml,text/xml","relative_path":"/platform/page_name","produces_customized":"false","default_operation_uri":"/api/now/guided_tours/platform/page_name","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // implement resource here\n\tconst apiHelper = new APIHelper(request, response);\n\tapiHelper.execute(function(){\n\t\tconst autoReflowRules = new AutoReflowRule(null).getRecordsByQuery();\n\t\tapiHelper.getResponse(autoReflowRules);\n\t});\n\n})(request, response);","sys_updated_on":"2024-07-04 12:19:34","enforce_acl":"c67e91dd43a11210eeba83020cb8f24c","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"b0af1e7b5347021049e0ddeeff7b129c","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/auto_reflow_rules","sys_created_on":"2024-07-04 10:52:28","sys_name":"Auto Reflow Rules","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_b0af1e7b5347021049e0ddeeff7b129c","consumes_customized":"false","name":"Auto Reflow Rules","produces":"application/json,application/xml,text/xml","relative_path":"/auto_reflow_rules","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","sys_updated_on":"2024-09-26 16:07:42","enforce_acl":"b5ca561bb3113200715ca943c6a8dca8","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"b0b9d0456710320097eeff5557415a60","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_bm_client/benchmark_client_api/indicators","sys_created_on":"2017-01-11 20:45:12","sys_name":"Benchmark Indicators","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/986214c16710320097eeff5557415a89","value":"986214c16710320097eeff5557415a89"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"9","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_update_name":"sys_ws_operation_b0b9d0456710320097eeff5557415a60","consumes_customized":"false","name":"Benchmark Indicators","produces":"application/json,application/xml,text/xml","relative_path":"/indicators","produces_customized":"false","default_operation_uri":"","sys_policy":"protected"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\n\t// implement resource here\n\tvar identificationLookUp = new IdentificationLookUpTables();\n\tvar className = request.pathParams.className;\n\t\n\treturn identificationLookUp.getLookupTablesForClassManager(className);\n\t\n})(request, response);","sys_updated_on":"2017-09-07 19:09:03","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"b0dd6c14f72003001298c95bb1eb291b","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/cmdb_ui_api/IdentificationLookUpTables/{className}","sys_created_on":"2017-08-08 20:52:18","sys_name":"IdentificationLookUpTables","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/11920c063b1003001298874064efc45a","value":"11920c063b1003001298874064efc45a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_ws_operation_b0dd6c14f72003001298c95bb1eb291b","consumes_customized":"false","name":"IdentificationLookUpTables","produces":"application/json,application/xml,text/xml","relative_path":"/IdentificationLookUpTables/{className}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n\tvar meetingId = request.pathParams.meetingId;\n\t\n\tif (!meetingId) \n\t\treturn new sn_ws_err.BadRequestError(\"CAB Meeting id not provided\");\n\t\n\tvar cabMeetingGr = new GlideRecord(CAB.MEETING);\n\tif (!cabMeetingGr.get(meetingId))\n\t\treturn new sn_ws_err.NotFoundError(\"Requested CAB Meeting not found\");\n\t\n\tvar cabMeeting = new CABMeeting(cabMeetingGr);\n\tvar agendaState = cabMeeting.getInitialAgendaState();\n\t\n\tresponse.setBody(agendaState);\n\t\t\n})(request, response);","sys_updated_on":"2019-06-17 16:28:45","enforce_acl":"ee9fb61a232303001488dc1756bf658b","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"b0f48ca3eb10220034d1eeea1206fea5","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_change_cab/cab/agenda/{meetingId}","sys_created_on":"2016-07-04 17:28:05","sys_name":"GET Meeting Agenda","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/cf65d305eb10220034d1eeea1206fe55","value":"cf65d305eb10220034d1eeea1206fe55"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"21","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_update_name":"sys_ws_operation_b0f48ca3eb10220034d1eeea1206fea5","consumes_customized":"false","name":"GET Meeting Agenda","produces":"application/json,application/xml,text/xml","relative_path":"/agenda/{meetingId}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar actionsUtil = new sn_cmdb_ws.CMDBWSImportantActionsUtil();\n\treturn actionsUtil.getRecommendationConfigs();\n\n})(request, response);","sys_updated_on":"2023-06-15 20:13:49","enforce_acl":"39a22ab60735011017b703767cd30036","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"b16f009f53132110b87eddeeff7b1290","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_cmdb_ws/cmdb_workspace_api_scoped/recommendation_configs","sys_created_on":"2023-06-13 04:58:12","sys_name":"Get Recommendation Configurations","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3ff417b78f3f2010960c53ac37bdeefb","value":"3ff417b78f3f2010960c53ac37bdeefb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_update_name":"sys_ws_operation_b16f009f53132110b87eddeeff7b1290","consumes_customized":"false","name":"Get Recommendation Configurations","produces":"application/json,application/xml,text/xml","relative_path":"/recommendation_configs","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\t// implement resource here\n\tvar requestData = request.body.data;\t\n\tvar profileId = request.pathParams.profileId;\t\n\tvar streamName = requestData.stream_name;\n\tvar fanoutToStream = requestData.fanout;\t\n\tvar actSubCtx = ActivitySubscriptionContext.getContext();\n\tif(!actSubCtx.isPluginEnabled()){\n\t\tresponse.setStatus(400);\n\t\treturn {\"status\":400,\n\t\t\t\t\"message\":\"Plugin is disabled please contact system administrator\"};\n\t}\n\n\tvar subscriptionService = actSubCtx.getSubscriptionService();\n\n\tvar result = subscriptionService.updateUserStream(profileId, streamName, fanoutToStream);\n\n\tresponse.setStatus(result.status);\n\tresponse.setContentType('application/json');\n\tresponse.setBody(result);\n})(request, response);","sys_updated_on":"2018-01-31 18:04:10","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/882dfe6853003200fa9bd7b08cc587d5","value":"882dfe6853003200fa9bd7b08cc587d5"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"b1c8792c531003006242d7b08cc58725","http_method":"PUT","sys_updated_by":"admin","operation_uri":"/api/now/v1/actsub/userstream/{profileId}","sys_created_on":"2017-07-28 10:34:11","sys_name":"UserStream","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/aabc7e6853003200fa9bd7b08cc5870f","value":"aabc7e6853003200fa9bd7b08cc5870f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/27dc6bfb04352210559073c06a02f739","value":"27dc6bfb04352210559073c06a02f739"},"sys_update_name":"sys_ws_operation_b1c8792c531003006242d7b08cc58725","consumes_customized":"false","name":"UserStream","produces":"application/json,application/xml,text/xml","relative_path":"/userstream/{profileId}","produces_customized":"false","default_operation_uri":"/api/now/actsub/userstream/{profileId}","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    // implement resource here\n    var startDate = new GlideDateTime(request.pathParams.start_date);\n    var endDate = new GlideDateTime(request.pathParams.end_date);\n\n    function getDcSchedules(windowArr) {\n\n        var schedules = {};\n        for (var ci in windowArr) {\n            var w = windowArr[ci];\n\n            var sh = schedules[w.scheduleId];\n\n            sh = {\n                sys_id: w.scheduleId,\n                date_ranges: [],\n                related_cis: []\n            };\n\n            var sp = new GlideSchedule(w.scheduleId);\n            sh.title = w.change;\n            sh.time_zone = sp.getTimeZone();\n\n\n            var range = {\n                start: w.start,\n                end: w.end\n            };\n            sh.date_ranges.push(range);\n            schedules[w.scheduleId] = sh;\n        }\n        var res = [];\n        for (var k in schedules) {\n            res.push(schedules[k]);\n        }\n        return res;\n    }\n\n    var gr = new GlideRecord('instance');\n    gr.addQuery('instance_id', request.pathParams.instanceId);\n    gr.query();\n    if (gr.next()) {\n        var cloneObj;\n        cloneObj = new global.CloneRequestCalendar(request.pathParams.instanceId);\n        var data = cloneObj.getRelatedSchedules(startDate, endDate);\n        if (data.status == \"success\") {\n            return {\n                maintenance: getDcSchedules(data.maintenance),\n                blackout: getDcSchedules(data.blackout),\n                status: data.status,\n                warn_invalid_conflict_checker: data.is_invalid_conflict_checker_si\n            };\n        } else {\n            return {\n                maintenance: data.maintenance,\n                blackout: data.blackout,\n                status: data.status,\n                message: data.message,\n                warn_invalid_conflict_checker: data.is_invalid_conflict_checker_si\n            };\n        }\n    } else {\n        return {\n            status: \"error\",\n            message: \"Target instance is invalid\"\n        };\n    }\n\n})(request, response);","sys_updated_on":"2022-10-11 11:33:14","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"b2420a26c3429110be13544c1840ddb6","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/clone_request_calendar/clone/{instanceId}/{start_date}/{end_date}","sys_created_on":"2022-09-23 05:56:41","sys_name":"Clone Schedules Meta","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/6de18e62c3429110be13544c1840dd4c","value":"6de18e62c3429110be13544c1840dd4c"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"39","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3b83a3f304312210559073c06a02f788","value":"3b83a3f304312210559073c06a02f788"},"sys_update_name":"sys_ws_operation_b2420a26c3429110be13544c1840ddb6","consumes_customized":"false","name":"Clone Schedules Meta","produces":"application/json,application/xml,text/xml","relative_path":"/clone/{instanceId}/{start_date}/{end_date}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"function formatApiResponse(data) {\n    var response = [];\n    Object.keys(data)\n        .forEach(function(permissionSectionId) {\n            response.push(data[permissionSectionId]);\n        });\n\n    return response;\n}\n\nfunction combineData(permissionSectionLookup, permissionSetSectionMappings) {\n    permissionSetSectionMappings\n        .forEach(function(permissionSetSectionMapping) {\n            permissionSectionLookup[permissionSetSectionMapping.permissionSectionId].permissionSets\n                .push({\n                    id: permissionSetSectionMapping.permissionSetId,\n                    isAllPermissionSet: permissionSetSectionMapping.isAllPermissionSet,\n                    needsLabelLookup: permissionSetSectionMapping.needsLabelLookup,\n                });\n        });\n\n    return permissionSectionLookup;\n}\n\nfunction getPermissionSetSectionMappings() {\n    var permissionSetSectionMappings = [];\n\n    var permissionSetSectionMappingRecords = new GlideRecord('sn_collab_request_permission_set_section_mapping');\n    permissionSetSectionMappingRecords.addActiveQuery();\n    permissionSetSectionMappingRecords.orderBy('order');\n    permissionSetSectionMappingRecords.query();\n\n    while (permissionSetSectionMappingRecords.next()) {\n        var permissionSetSectionMapping = {\n            id: permissionSetSectionMappingRecords.getValue('sys_id'),\n            permissionSectionId: permissionSetSectionMappingRecords.getValue('permission_section'),\n            permissionSetId: permissionSetSectionMappingRecords.getValue('permission_set'),\n            isAllPermissionSet: permissionSetSectionMappingRecords.getDisplayValue('is_all_permission_set') === \"true\",\n            needsLabelLookup: permissionSetSectionMappingRecords.getDisplayValue('needs_label_lookup') === \"true\",\n        };\n\n        permissionSetSectionMappings.push(permissionSetSectionMapping);\n    }\n\n    return permissionSetSectionMappings;\n}\n\nfunction getPermissionSections() {\n    var permissionSectionLookup = {};\n\n    var permissionSectionRecords = new GlideRecord('sn_collab_request_permission_section');\n    permissionSectionRecords.addActiveQuery();\n    permissionSectionRecords.orderBy('order');\n    permissionSectionRecords.query();\n\n    while (permissionSectionRecords.next()) {\n        var permissionSectionId = permissionSectionRecords.getValue('sys_id');\n        permissionSectionLookup[permissionSectionId] = {\n            id: permissionSectionRecords.getValue('sys_id'),\n            title: {\n                value: permissionSectionRecords.getValue('title'),\n                display_value: permissionSectionRecords.getDisplayValue('title'),\n            },\n            info: {\n                value: permissionSectionRecords.getValue('info'),\n                display_value: permissionSectionRecords.getDisplayValue('info'),\n            },\n            permissionSets: []\n        };\n    }\n\n    return permissionSectionLookup;\n}\n\nfunction process(request, response) {\n    try {\n        var permissionSectionLookup = getPermissionSections();\n        var permissionSetSectionMappings = getPermissionSetSectionMappings();\n\n        var data = combineData(permissionSectionLookup, permissionSetSectionMappings);\n\n        response.setBody(formatApiResponse(data));\n\n        response.setStatus(200);\n    } catch (exception) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(500)\n            .setMessage(gs.getMessageLang(\"Unhandled exception {0}\", \"en\", [exception]))\n            .setDetail(gs.getMessage(\"Unhandled exception {0}\", [exception]));\n    }\n}\n\nprocess(request, response);","sys_updated_on":"2021-05-24 20:09:25","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/4b43f48453b360100f29ddeeff7b1214","value":"4b43f48453b360100f29ddeeff7b1214"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"b2e2f08453b360100f29ddeeff7b125d","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_collab_request/v1/descriptors/permission_config","sys_created_on":"2021-04-23 16:59:35","sys_name":"Get Permission Configuration","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3902b84453b360100f29ddeeff7b125e","value":"3902b84453b360100f29ddeeff7b125e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"29","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"sys_update_name":"sys_ws_operation_b2e2f08453b360100f29ddeeff7b125d","consumes_customized":"false","name":"Get Permission Configuration","produces":"application/json,application/xml,text/xml","relative_path":"/permission_config","produces_customized":"false","default_operation_uri":"/api/sn_collab_request/descriptors/permission_config","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\ttry {\n\t\tvar result = new sn_nlu_workbench.NLUImprovementAnalysis().cancel();\n\n\t\tif (result.status === 'success') {\n\t\t\tresponse.setStatus(200);\n\t\t} else {\n\t\t\tresponse.setStatus(400);\n\t\t}\n\n\t\tresponse.setContentType('application/json');\n\t\treturn result;\n\t} catch (e) {\n        return new sn_ws_err.BadRequestError(e.message);\n    }\n\n})(request, response);","sys_updated_on":"2021-02-05 10:16:26","enforce_acl":"0f43facbeb8220105de665fcc8522895","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b51a6d700710201028ef0a701ad300ab","value":"b51a6d700710201028ef0a701ad300ab"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"b2e4800a73402010e6b632e954f6a743","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_nlu_workbench/v1/nlu_advanced/cancelImprovementAnalysis","sys_created_on":"2020-10-25 08:50:44","sys_name":"cancelImprovementAnalysis","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea82488673402010e6b632e954f6a7ca","value":"ea82488673402010e6b632e954f6a7ca"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_update_name":"sys_ws_operation_b2e4800a73402010e6b632e954f6a743","consumes_customized":"false","name":"cancelImprovementAnalysis","produces":"application/json,application/xml,text/xml","relative_path":"/cancelImprovementAnalysis","produces_customized":"false","default_operation_uri":"/api/sn_nlu_workbench/nlu_advanced/cancelImprovementAnalysis","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var TABLES = {\n        INCIDENT: \"incident\"\n    };\n\n    var LINK_FIELD = 'parent_incident';\n\n    /**\n     * actionId: search UI Action's unique ID\n     * incidentId: sys_id of Incident record which has search term\n     * changeId: sys_id of Change record which is the search result\n     * actionStage: to indicate whether this request is sent before or after modal\n     */\n\n    var actionId = request.body.data.actionId;\n    var currentId = request.body.data.currentId;\n    var resourceId = request.body.data.resourceId;\n    var actionStage = request.body.data.actionStage;\n    var body = {};\n\n    /**\n     * action_id (mandatory): search UI Action's unique ID, AS/AI will use it to determine how to handle result\n     * item_id (optional): \"table_name:record_id\", having this tells AS/AI to refresh child record's UI Action list due to link action's change on child record\n     * succeed (mandatory): indicates link action is successfully done or not for non-rest call's\n     * successful (mandatory): indicates link action is successfully done or not for rest call's\n     * message (optional): shows on top of the form after action is performed\n     */\n\n    if (actionId.includes('rest'))\n        body.successful = false;\n    else\n        body.succeed = false;\n\n    function addErrorMessage(errorMessage) {\n        if (actionId.includes('rest'))\n            body.errMsg = errorMessage;\n        else\n            body.message = errorMessage;\n    }\n\n    var gr = new GlideRecord(TABLES.INCIDENT);\n    //DEF0115455: read only user can not link to incident\n    if (!gr.canWrite() || !gr[LINK_FIELD].canWrite()) {\n        addErrorMessage(gs.getMessage(\"Roles are insufficient to perform the action\"));\n        return response.setBody(body);\n    }\n\n    var grResource = new GlideRecord(TABLES.INCIDENT);\n    if (!grResource.isValid() || !grResource.get(resourceId)) {\n        addErrorMessage(gs.getMessage(\"Invalid resource record\"));\n        return response.setBody(body);\n    }\n\n    var grCurrent = new GlideRecord(TABLES.INCIDENT);\n    if (!grCurrent.isValid() || !grCurrent.get(currentId)) {\n        addErrorMessage(gs.getMessage(\"Invalid current record\"));\n        return response.setBody(body);\n    }\n\n    var errMsg = gs.getMessage('Updating \"Parent incident\" field on {0} has failed', grCurrent.getDisplayValue());\n    var infoMsg = gs.getMessage('{0} has been linked as a Parent to {1}.', [grResource.getDisplayValue(), grCurrent.getDisplayValue()]);\n\n    body.action_id = actionId;\n    body.item_id = TABLES.INCIDENT + \":\" + grCurrent.getUniqueValue();\n\n    if (actionId.includes('rest')) {\n        if (actionStage === 'pre_modal') {\n            body.successful = true;\n            body.useModal = true;\n            body.resourceRecord = {};\n            body.resourceRecord.sys_id = resourceId;\n            body.resourceRecord.number = grResource.number;\n            body.modalTitle = body.modalTitle = actionId === 'link_to:link_to_major_incident' ? gs.getMessage('Link to Major Incident') : gs.getMessage('Link to incident');\n            body.errMsg = errMsg;\n            body.modalInfoMsg = gs.getMessage('You are linking the current {0} as a Parent to {1}', [grResource.getDisplayValue(), grCurrent.getDisplayValue()]);\n            body.modalFields = [{\n                label: gs.getMessage('{0} (Private)', grCurrent.work_notes.getLabel()),\n                name: 'work_notes',\n                value: '',\n                fieldType: 'textarea'\n            }, {\n                label: gs.getMessage('{0} (Customer visible)', grCurrent.comments.getLabel()),\n                name: 'comments',\n                value: '',\n                fieldType: 'textarea'\n            }];\n            body.updateCurrentRecord = false;\n            body.postModalRestRequired = true;\n            return response.setBody(body);\n        } else if (actionStage === 'post_modal') {\n            grCurrent.setValue(LINK_FIELD, grResource.getUniqueValue());\n            if (grCurrent.update()) {\n                body.successful = true;\n                body.useModal = false;\n                body.infoMsg = infoMsg;\n                body.updateCurrentRecord = true;\n            } else {\n                body.errMsg = errMsg;\n            }\n            return response.setBody(body);\n        }\n    }\n    grCurrent.setValue(LINK_FIELD, grResource.getUniqueValue());\n    if (grCurrent.update()) {\n        body.succeed = true;\n        body.message = infoMsg;\n    } else {\n        body.message = errMsg;\n    }\n    response.setBody(body);\n\n})(request, response);","sys_updated_on":"2024-03-25 10:21:08","enforce_acl":"83ff4d20531e4110ae50ddeeff7b1285","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"b2edb50577300110b3771aceca5a99bb","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/cxs_actions/link_incident_rest","sys_created_on":"2021-12-31 14:17:59","sys_name":"link_incident","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/49aff4bb733320103e366238edf6a70f","value":"49aff4bb733320103e366238edf6a70f"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5f387aa0b32023002bf182c136a8dc1c","value":"5f387aa0b32023002bf182c136a8dc1c"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/49aff4bb733320103e366238edf6a70f","value":"49aff4bb733320103e366238edf6a70f"},"sys_update_name":"sys_ws_operation_b2edb50577300110b3771aceca5a99bb","consumes_customized":"false","name":"link_incident","produces":"application/json,application/xml,text/xml","relative_path":"/link_incident_rest","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar pathParams, gid, restHandler, result, snhelpUtil;\n\tpathParams = request.pathParams;\n\tgid = pathParams.guidance_id;\n\n\ttry {\n\t\tsnhelpUtil = new SNHelpUtil();\n\t\tif(!snhelpUtil.isSnHelpEnabled())\n\t\t\treturn snhelpUtil.snHelpDisabledError(response);\n\n\t\trestHandler = new SNHelpGuidanceRestHandler();\n\t\tresult = restHandler.getGuidance(gid);\n\n\t\tif(result.error) {\n\t\t\tresponse.setStatus(result.status);\n\t\t\tgs.error(\"SNHelpGuidanceRestController: Guidance {0} {1}\", result.error, gid);\n\t\t}\n\n\t\tresponse.setBody(result);\n\n\t} catch(e) {\n\n\t\tresponse.setStatus(500);\n\t\tgs.error(\"SNHelpGuidanceRestController: Guidance - \" + e.message);\n\t\tresponse.setBody({error: \"Internal server error\"});\n\t}\n\n\n\n})(request, response);","sys_updated_on":"2020-08-28 10:13:27","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"b2efc193b7001010c44c6ff6ee11a942","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/help/guidance/{guidance_id}","sys_created_on":"2020-04-13 15:41:08","sys_name":"Guidance","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/bd93a9195300501065f2ddeeff7b1297","value":"bd93a9195300501065f2ddeeff7b1297"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"37","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/562ba37304352210559073c06a02f751","value":"562ba37304352210559073c06a02f751"},"sys_update_name":"sys_ws_operation_b2efc193b7001010c44c6ff6ee11a942","consumes_customized":"false","name":"Guidance","produces":"application/json,application/xml,text/xml","relative_path":"/guidance/{guidance_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n    try {\n        var restHandler = new sn_ads_setup.SNHelpSetupRestHandler();\n        if (request.body.data && request.pathParams.setupId) {\n            var result = restHandler.reorder(request.pathParams.setupId, request.body.data);\n            response.setStatus(result.status);\n            response.setBody({\n                message: result.message,\n                data: result.data\n            });\n        } else {\n            response.setStatus(404);\n            response.setBody({\n                message: \"Missing request parameters\"\n            });\n        }\n    } catch (err) {\n        response.setStatus(500);\n        gs.error(\"SNHelpSetupRestHandler: \" + err.message);\n        response.setBody({\n            message: \"Internal server error: \" + err.message\n        });\n    }\n})(request, response);","sys_updated_on":"2022-09-21 07:33:11","enforce_acl":"d0fc8522534a0110f54fddeeff7b123d","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"b30ea043c34401109aba8972a840dd98","http_method":"PUT","sys_updated_by":"admin","operation_uri":"/api/sn_ads_setup/build/setup/{setupId}/reorder","sys_created_on":"2021-11-30 06:57:19","sys_name":"Reorder tasks or categories","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/6db6b2ab53444110f54fddeeff7b1232","value":"6db6b2ab53444110f54fddeeff7b1232"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_update_name":"sys_ws_operation_b30ea043c34401109aba8972a840dd98","consumes_customized":"false","name":"Reorder tasks or categories","produces":"application/json,application/xml,text/xml","relative_path":"/setup/{setupId}/reorder","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar util = new InteractiveAnalysisUtil();\n\ttry {\n\t\treturn util.getDefaultValues(request.pathParams.tableName, request.queryParams, response);\n\t} catch (e) {\n\t\treturn util.restErrorHandler(e, response);\n\t}\n\n})(request, response);","sys_updated_on":"2017-05-12 05:58:42","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/bc1f8077c7223200b0ea8b3c5c976365","value":"bc1f8077c7223200b0ea8b3c5c976365"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"b342d0b7c7223200b0ea8b3c5c9763ca","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/interactive_analysis/table/{tableName}","sys_created_on":"2017-05-12 05:38:02","sys_name":"Get Saved Preference values","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/354d4837c7223200b0ea8b3c5c976356","value":"354d4837c7223200b0ea8b3c5c976356"},"consumes":"application/json","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5c8b63f304352210559073c06a02f797","value":"5c8b63f304352210559073c06a02f797"},"sys_update_name":"sys_ws_operation_b342d0b7c7223200b0ea8b3c5c9763ca","consumes_customized":"false","name":"Get Saved Preference values","produces":"application/json","relative_path":"/table/{tableName}","produces_customized":"false","default_operation_uri":"/api/now/interactive_analysis/table/{tableName}","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar restHandler, result, setupId, data;\n\t\n\ttry {\n\t\tsetupId = request.pathParams.setup_id;\n\t\trestHandler = new SNHelpSetupRestHandler();\n\t\tdata = request.body.data;\n\t\tresult = restHandler.upsertInteraction(setupId, data);\n\t\t\n\t\tresponse.setStatus(result.status);\n\t\t\n\t\tif(result.data)\n\t\t\tresponse.setBody(result.data);\n\t\telse\n\t\t\tresponse.setBody({error: result.message || result.error});\n\t\t\n\t} catch (ex) {\n\t\tresponse.setStatus(500);\n\t\tresponse.setBody({error: \"Internal Server Error \" + ex});\n\t}\n\t\n})(request, response);","sys_updated_on":"2022-09-21 07:30:13","enforce_acl":"d684e2aa530e0110f54fddeeff7b1237","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"b368049653e10110f54fddeeff7b1222","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_ads_setup/play/interaction/setup/{setup_id}","sys_created_on":"2022-02-10 09:41:06","sys_name":"Create/Update Interaction Record","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/9fb44064773230106ee492b01e5a9991","value":"9fb44064773230106ee492b01e5a9991"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_update_name":"sys_ws_operation_b368049653e10110f54fddeeff7b1222","consumes_customized":"false","name":"Create/Update Interaction Record","produces":"application/json,application/xml,text/xml","relative_path":"/interaction/setup/{setup_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Adds a catalog item to the cart for checkout","sys_updated_on":"2021-09-18 17:47:21","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"To add Apple iPhone 5 to cart\r\n\r\n{  \r\n   'sysparm_quantity': 2,\r\n   'variables': {  \r\n      'carrier': 'at_and_t_mobility',\r\n      'data_plan': '500MB',\r\n      'duration': 'eighteen_months',\r\n      'color': 'black',\r\n      'storage': 'sixtyfour'\r\n   }\r\n}","sys_id":"b38fd0cadb33020064301150f0b8f581","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/items/{sys_id}/add_to_cart","sys_created_on":"2015-11-19 10:51:33","sys_name":"Add Item To Cart","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"108","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_b38fd0cadb33020064301150f0b8f581","consumes_customized":"false","name":"Add Item To Cart","produces":"application/json,application/xml,text/xml","relative_path":"/items/{sys_id}/add_to_cart","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/items/{sys_id}/add_to_cart","sys_policy":"protected"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tconst WWNA_SKILL_CONFIG_TYPE = '8c9697d7a38a421075d1d78446fcda50';\n\n\tvar skillId = request.queryParams['skill_id'][0];\n\tvar recordTableName = request.queryParams['record_table_name'][0];\n\tvar recordId = request.queryParams['record_sys_id'][0];\n\tvar wwnaComponentId = null;\n\tif(request.queryParams['wwna_component_id']) {\n\t\twwnaComponentId = request.queryParams['wwna_component_id'][0];\n\t}\n\n\tconst skillConfig = new sn_wwna.WWNAUtils().fetchNACMSkillConfiguration(skillId, recordTableName, recordId);\n\tif(skillConfig === undefined){\n\t\treturn new sn_ws_err.NotFoundError('No Skill found');\n\t}\n\n\tvar skillConfigId = skillConfig.sys_id;\n\tvar nowAssistSkillConfig = new sn_nowassist_admin.NowAssistSkillConfig();\n\tvar isMobileEnabled = nowAssistSkillConfig.isSkillConfigurationEnabledInMobile(skillConfigId);\n\n\tconst wwnaResponse = {\n\t\tWwnaMobileEnabled: isMobileEnabled,\n\t\tSkillName: skillConfig.skill_name,\n\t\tSkillDescription: skillConfig.skill_description,\n\t\tSkillConfigId: skillConfigId,\n\t\tRefineActions: []\n\t};\n\n\tif (!wwnaResponse.WwnaMobileEnabled)\n\t\treturn wwnaResponse;\n\n\tconst varsetFilter = function(varset) {\n\t\tif(varset.config_type !== WWNA_SKILL_CONFIG_TYPE) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar componentId = varset.props.wwna_component_id;\n\t\treturn !wwnaComponentId || componentId === wwnaComponentId;\n\t};\n\n\tvar varsets = skillConfig.variable_sets.filter(varsetFilter);\n\tif(varsets.length > 0) {\n\t\tvarsets[0].props.refine_actions.forEach((action) => {\n\t\t\tconst refineAction = {\n\t\t\t\tCommandName: action.commandName,\n\t\t\t\tId: action.sysId,\n\t\t\t\tName: action.name,\n\t\t\t\tActionType: action.actionType,\n\t\t\t\tTableName: action.tableName\n\t\t\t};\n\n\t\t\tif(action.actionGroup) {\n\t\t\t\trefineAction.Group = action.actionGroup;\n\t\t\t}\n\n\t\t\twwnaResponse.RefineActions.push(refineAction);\n\t\t});\n\t}\n\n\treturn wwnaResponse;\n})(request, response);","sys_updated_on":"2024-09-05 21:34:32","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"b3af3ad03d3302107fa47b9a1f00adff","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/generative/wwna_skill_config","sys_created_on":"2024-07-30 23:00:24","sys_name":"WWNA Skill Configuration","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/f68f36d03d3302107fa47b9a1f00ad45","value":"f68f36d03d3302107fa47b9a1f00ad45"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"12","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/23a57f7b04b52210559073c06a02f7fc","value":"23a57f7b04b52210559073c06a02f7fc"},"sys_update_name":"sys_ws_operation_b3af3ad03d3302107fa47b9a1f00adff","consumes_customized":"false","name":"WWNA Skill Configuration","produces":"application/json,application/xml,text/xml","relative_path":"/wwna_skill_config","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar result = {};\n\tvar appManagerApiUtil = new AppManagerApiUtil(request, response);\n    try {\n        var filterList = new  sn_appclient.AppManagerFiltersUtil().getFilters();\n        appManagerApiUtil.setResponseBody(filterList);\n        appManagerApiUtil.setHeader(\"Cache-Control\", \"max-age=3600\");\n    } catch (err) {\n        appManagerApiUtil.setError(err);\n    }\n\t\n})(request, response);","sys_updated_on":"2023-10-04 09:25:34","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/be08b89397b0d1104b593f0e6253afe1","value":"be08b89397b0d1104b593f0e6253afe1"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"b3dfe312876795105045b9d8dabb3536","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_appclient/v1/appmanager/filters","sys_created_on":"2022-12-06 08:55:08","sys_name":"GetFilters","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7ea1fc5f9770d1104b593f0e6253af99","value":"7ea1fc5f9770d1104b593f0e6253af99"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"14","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_update_name":"sys_ws_operation_b3dfe312876795105045b9d8dabb3536","consumes_customized":"false","name":"GetFilters","produces":"application/json,application/xml,text/xml","relative_path":"/filters","produces_customized":"false","default_operation_uri":"/api/sn_appclient/appmanager/filters","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var options = UDCUtil.assign({},\n        request.pathParams,\n        UDCUtil.normalizeQueryParams(request.queryParams)\n    );\n    var apiResponse = DeveloperHistory.getRecentEntries(options);\n\n    response.setBody(apiResponse);\n\n})(request, response);","sys_updated_on":"2024-04-22 12:22:32","enforce_acl":"c634a3a0a392311018d4189b66fcda72","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a09dceb7a3f5f11018d4189b66fcdaea","value":"a09dceb7a3f5f11018d4189b66fcdaea"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"b418b654a33d02109687189b66fcdaea","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_udc/v1/developer_history/recents","sys_created_on":"2024-04-22 12:22:17","sys_name":"Recent History entries","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/82c969fba3bdb11018d4189b66fcdaf4","value":"82c969fba3bdb11018d4189b66fcdaf4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_update_name":"sys_ws_operation_b418b654a33d02109687189b66fcdaea","consumes_customized":"false","name":"Recent History entries","produces":"application/json,application/xml,text/xml","relative_path":"/recents","produces_customized":"false","default_operation_uri":"/api/sn_udc/developer_history/recents","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\ttry {\n\t\t\n\t\tvar applicationSysId = request.pathParams.application_sys_id;\n\t\t\n\t\t// get the list of available apps from the app picker, minus global\n\t\tvar responseBody = ApplicationInventoryListBuilder.build(applicationSysId);\n\n\t\tresponse.setBody(responseBody);\n\t\tresponse.setStatus(200);\n\t\t\n\t} catch (exception) {\n\t\t\n\t\tswitch(exception) {\n\t\t\n\t\t\tcase CreatorStudioConstants.errors.APPLICATION_DOES_NOT_EXIST:\n\t\t\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t\t\t.setStatus(404)\n\t\t\t\t\t.setMessage(gs.getMessageLang(\"Application, with sys_id {0}, does not exist\", \"en\", [applicationSysId]))\n\t\t\t\t\t.setDetail(gs.getMessage(\"Application, with sys_id {0}, does not exist\", [applicationSysId]));\n\t\t\tcase CreatorStudioConstants.errors.INVALID_TAXONOMY_OR_FILE_OBJECT:\n\t\t\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t\t\t.setStatus(404)\n\t\t\t\t\t.setMessage(gs.getMessageLang(\"Unable to fetch taxonomy or file object for {0}\", \"en\", [applicationSysId]))\n\t\t\t\t\t.setDetail(gs.getMessage(\"Unable to fetch taxonomy or file object for {0}\", [applicationSysId]));\n\t\t\tcase CreatorStudioConstants.errors.APPLICATION_ACCESS_DENIED:\n\t\t\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t\t\t.setStatus(403)\n\t\t\t\t\t.setMessage(gs.getMessageLang(\"Access to application, with sys_id {0}, is denied\", \"en\", [applicationSysId]))\n\t\t\t\t\t.setDetail(gs.getMessage(\"Access to application, with sys_id {0}, is denied\", [applicationSysId]));\n\t\t\tdefault:\n\t\t\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t\t\t.setStatus(500)\n\t\t\t\t\t.setMessage(gs.getMessageLang(\"Unhandled exception {0}\", \"en\", [exception]))\n\t\t\t\t\t.setDetail(gs.getMessage(\"Unhandled exception {0}\", [exception]));\n\t\t}\n\t\t\n\t}\n\n})(request, response);","sys_updated_on":"2022-05-18 19:00:53","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/eff91f2c7700001001fb4311a8106131","value":"eff91f2c7700001001fb4311a8106131"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"b42876680f1000104c885019c4767ebc","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_app_eng_studio/v1/applications/{application_sys_id}","sys_created_on":"2019-10-01 23:56:19","sys_name":"GET Application Inventory","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/4c41d3287700001001fb4311a81061ae","value":"4c41d3287700001001fb4311a81061ae"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_ws_operation_b42876680f1000104c885019c4767ebc","consumes_customized":"false","name":"GET Application Inventory","produces":"application/json,application/xml,text/xml","relative_path":"/{application_sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_app_eng_studio/applications/{application_sys_id}","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\n    var rotaId = request.queryParams.rota_id ? request.queryParams.rota_id + \"\" : \"\";\n\tif (!rotaId) {\n\t\treturn new sn_ws_err.BadRequestError(\"Rota id not provided\");\n\t}\n\t\n\tvar rotaGr = new GlideRecord(\"cmn_rota\");\n\tif (rotaGr.get(rotaId)) {\n\t\t// only group managers and rota admin can delete the rota.\n\t\tif (new OnCallSecurityNG().rotaMgrAccess(rotaGr.group + \"\"))\n\t\t\tresetEscalation();\n\t\telse\n\t\t\treturn getSecurityConstraintError();\n\t}\n\n\tfunction getSecurityConstraintError() {\n\t\tvar respError = new sn_ws_err.ServiceError();\n\t\trespError.setStatus(403);\n\t\trespError.setMessage(\"Security constraints prevent this operation\");\n\t\treturn respError;\n\t}\n\t\n\tfunction resetEscalation() {\n\t\tvar ocWorkbenchUtils = new OnCallWorkbenchUtils();\n\t\tocWorkbenchUtils.resetEscalation(rotaId);\n\t\treturn;\n\t}\n\n})(request, response);","sys_updated_on":"2019-03-20 08:32:14","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"b44cbbe253ab6300bf68ddeeff7b1225","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/resetEscalation","sys_created_on":"2019-02-14 07:03:31","sys_name":"Reset escalation","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_b44cbbe253ab6300bf68ddeeff7b1225","consumes_customized":"false","name":"Reset escalation","produces":"application/json,application/xml,text/xml","relative_path":"/resetEscalation","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar needToConvertMessages=request.body.data;\n\tvar returnlist={};\n\tvar messages = {\n\t\tCancel: gs.getMessage(\"Cancel\"),\n\t\tContinue: gs.getMessage(\"Continue\"),\n\t\tDone: gs.getMessage(\"Done\"),\n\t\tUsers: gs.getMessage(\"Users\"),\n\t\tContacts: gs.getMessage(\"Contacts\"),\n\t\tConsumers: gs.getMessage(\"Consumers\"),\n\t\tAccounts: gs.getMessage(\"Accounts\"),\n\t\tUser: gs.getMessage(\"User\"),\n\t\tContact: gs.getMessage(\"Contact\"),\n\t\tConsumer: gs.getMessage(\"Consumer\"),\n\t\tAccount: gs.getMessage(\"Account\"),\n\t\tClose: gs.getMessage(\"Close\"),\n\t\tSuccess: gs.getMessage(\"Success\"),\n\t\tFailure: gs.getMessage(\"Failure\"),\n\t\tUploading: gs.getMessage(\"Uploading\"),\n\t\t\"Show Details\": gs.getMessage(\"Show Details\"),\n\t\t\"Uploading File\": gs.getMessage(\"Uploading File\"),\n\t\t\"Number of users found:\": gs.getMessage(\"Number of users found:\"),\n\t\t\"Number of users not found:\": gs.getMessage(\"Number of users not found:\"),\n\t\t\"The file must contain user_name or email as the header of the first column.\": gs.getMessage(\"The file must contain user_name or email as the header of the first column.\"),\n\t\t\"There were errors with the file you uploaded\": gs.getMessage(\"There were errors with the file you uploaded\"),\n\t\t\"There were no errors with the file you uploaded\": gs.getMessage(\"There were no errors with the file you uploaded\"),\n\t\t\"Would you like to continue your upload?\": gs.getMessage(\"Would you like to continue your upload?\"),\n\t\t\"Uploading file of \": gs.getMessage(\"Uploading file of \"),\n\t\t\"Valid\": gs.getMessage(\"Valid\"),\n\t\t\"Not Valid\": gs.getMessage(\"Not Valid\"),\n\t\t\"were added to the recipients list\": gs.getMessage(\"were added to the recipients list\")\n\t};\n\t\t\n\t\tfor(var i=0;i<needToConvertMessages.list.length;i++){\n\t\t\tvar msg = [];\n\t\t\tmsg.push(needToConvertMessages.list[i].toString());\n\treturnlist[needToConvertMessages.list[i].toString()]=messages[msg];\n\t\t}\n\t\treturn returnlist;\n\t\t\n\t})(request, response);","sys_updated_on":"2021-07-26 05:21:07","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"b546a85a93601300ac40f5be867ffb18","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_publications/recipients_list_rest_api/getlocalizedvalue","sys_created_on":"2018-03-01 21:32:47","sys_name":"Get Localized Value","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/0fdd6483d72302004f1e82285e61033a","value":"0fdd6483d72302004f1e82285e61033a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/61dbc5bf87e30300d99a8467a7cb0b85","value":"61dbc5bf87e30300d99a8467a7cb0b85"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0fdd6483d72302004f1e82285e61033a","value":"0fdd6483d72302004f1e82285e61033a"},"sys_update_name":"sys_ws_operation_b546a85a93601300ac40f5be867ffb18","consumes_customized":"false","name":"Get Localized Value","produces":"application/json,application/xml,text/xml","relative_path":"/getlocalizedvalue","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar reqParams = request.body.data;\n\tvar recordSysId = reqParams.record_sys_id ? reqParams.record_sys_id + \"\" : \"\";\n\tvar table = reqParams.table ? reqParams.table + \"\" : \"\";\n\t\n\tvar fieldWatchList = reqParams.group_fields_watch_list ? reqParams.group_fields_watch_list : [];\n\t\n\tvar sowOnCallUtils = new sn_sow_on_call.OnCallUtilsSow();\n\treturn sowOnCallUtils.getRecommendedGroups(table, recordSysId, fieldWatchList);\n\t\n})(request, response);","sys_updated_on":"2024-01-04 11:03:09","enforce_acl":"1dbba406eb197110249e8d835d52281f","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"b560caf611fb3010f877c8a8268374c2","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_sow_on_call/on_call_shifts/getRecommendedGroups","sys_created_on":"2021-11-17 07:56:55","sys_name":"getRecommendedGroups","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/7e3c2481539260100c54ddeeff7b127b","value":"7e3c2481539260100c54ddeeff7b127b"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/999a9a18536230100999ddeeff7b12a4","value":"999a9a18536230100999ddeeff7b12a4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"32","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7e3c2481539260100c54ddeeff7b127b","value":"7e3c2481539260100c54ddeeff7b127b"},"sys_update_name":"sys_ws_operation_b560caf611fb3010f877c8a8268374c2","consumes_customized":"false","name":"getRecommendedGroups","produces":"application/json,application/xml,text/xml","relative_path":"/getRecommendedGroups","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\n\tvar step = request.body.data.step;\n\tvar groupSysId = request.body.data.groupId;\n\tvar ocCreationWizardUtil = new OnCallCreationWizardUtils();\n\tvar ocsNg = new OnCallSecurityNG();\n\n\tif (!ocsNg.rotaMgrAccess(groupSysId)) {\n\t\tvar respError = new sn_ws_err.ServiceError();\n\t\trespError.setStatus(403);\n\t\trespError.setMessage(\"Security constraints prevent access to requested resource\");\n\t\treturn respError;\n\t}\n\t\n\tif (step == \"define_schedule\") {\n\t\tif (!groupSysId || !request.body.data.records) {\n\t\t\tif (!groupSysId)\n\t\t\t\treturn new sn_ws_err.BadRequestError(\"Group Sys Id not provided in the request data\");\n\t\t\telse\n\t\t\t\treturn new sn_ws_err.BadRequestError(\"Shifts Information not provided in the request data\");\n\t\t}\t\n\t\treturn ocCreationWizardUtil.createUpdateShiftFromTemplates(request.body.data.records /* shifts */, groupSysId);\n\t}\n\telse if(step == \"members\") {\n\t\tif (request.body.data.records) {\n\t\t\treturn ocCreationWizardUtil.createUpdateRostersAndMembers(request.body.data.records /* rosters */);\n\t\t}\n\t\telse\n\t\t\treturn new sn_ws_err.BadRequestError(\"Members data not provided in the requested data\");\n\t} else if (step == \"escalation\") {\n\t\tif (request.body.data.records) {\n\t\t\treturn ocCreationWizardUtil.saveCatchAllDetails(request.body.data.records /* escalation */);\n\t\t}\n\t\telse\n\t\t\treturn new sn_ws_err.BadRequestError(\"Members data not provided in the requested data\");\n\t}\n\n})(request, response);","sys_updated_on":"2019-03-20 08:28:01","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"b664852f879b23005087af1e36cb0be6","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/creationwizard/save","sys_created_on":"2019-02-04 10:00:35","sys_name":"onCallCreationWizardSave","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"27","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_b664852f879b23005087af1e36cb0be6","consumes_customized":"false","name":"onCallCreationWizardSave","produces":"application/json,application/xml,text/xml","relative_path":"/creationwizard/save","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","sys_updated_on":"2017-03-09 23:01:00","enforce_acl":"b5ca561bb3113200715ca943c6a8dca8","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"b692d4c16710320097eeff5557415a16","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_bm_client/benchmark_client_api/toggleOptInStatus","sys_created_on":"2017-01-11 20:36:30","sys_name":"toggleOptInStatus","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/986214c16710320097eeff5557415a89","value":"986214c16710320097eeff5557415a89"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_update_name":"sys_ws_operation_b692d4c16710320097eeff5557415a16","consumes_customized":"false","name":"toggleOptInStatus","produces":"application/json,application/xml,text/xml","relative_path":"/toggleOptInStatus","produces_customized":"false","default_operation_uri":"","sys_policy":"protected"},{"short_description":"","operation_script":"(function process(request, response) {\n\t// TODO: Validate permissions\n\t// TODO: include pagination support\n\n\t// Get the query parameters\n\tvar queryParams = request.queryParams; \n\tvar excludedAppId = (queryParams.excludeAppId) ? queryParams.excludeAppId[0] : '';\n\tvar searchType = queryParams.searchType[0];\n\tvar searchFilter = queryParams.searchFilter[0];\n\n\tvar result = [];\n\tvar startIndex = 1;\n\tvar queryLimit = 25;\n\t\n\tif(\"update_set\" == searchType){\n\t\tresult = findFilesForUpdateSet(excludedAppId, searchFilter);\n\t} else if (\"table\" == searchType){\n\t\tresult = findFilesForTable(excludedAppId, searchFilter);\n\t} else if (\"name\" == searchType){\n\t\tresult = findFilesByName(excludedAppId, searchFilter);\n\t} else if (\"list_app_files\" == searchType){\n\t\tresult = findFilesByApp(searchFilter);\n\t}\n\t\n\tresponse.setBody({\n\t\tcount: result.length,\n\t\tfiles: result\n\t});\n\t\n\tresponse.setStatus(200);\n\tresponse.setContentType('application/json');\n\n\tfunction findFilesForUpdateSet(excludedAppId, updateSetSysId) {\n\t\tvar metadata = sn_gfiles.GlobalApp.getUpdateSetMetadata(updateSetSysId, excludedAppId);\n\t\treturn formatResults(metadata);\n\t}\n \n\tfunction findFilesForTable(excludedAppId, tableName) {\n\t\tvar metadata = sn_gfiles.GlobalApp.getTableMetadata(tableName, excludedAppId);\n\t\treturn formatResults(metadata);\n\t}\n\t\n\tfunction findFilesByName(excludedAppId, name) {\n\t\tvar metadata = sn_gfiles.GlobalApp.getNameMetadata(name, excludedAppId);\n\t\treturn formatResults(metadata);\n\t}\n\t\n\tfunction findFilesByApp(appId) {\n\t\tvar metadata = sn_gfiles.GlobalApp.getAppMetadata(appId);\n\t\treturn formatResults(metadata);\n\t}\n \n\tfunction formatResults(metadata) {\n\t\tvar records = metadata.getRecords();\n\t\tvar result = [];\n\t\tvar i = 0;\n\t\twhile (i < metadata.getRecordCount()) {\n\t\t\tvar record = records[i];\n\t\t\tresult.push({\n\t\t\t\tsysId: record.getSysId() + '',\n\t\t\t\ttype: record.getType() + '',\n\t\t\t\tname: record.getName() + '',\n\t\t\t\tupdateName: record.getUpdateName() + '',\n\t\t\t\tappId: record.getApplicationSysId() + '',\n\t\t\t\tappName: record.getApplicationName() + '',\n\t\t\t\tupdated: record.getUpdated() + '',\n\t\t\t\tcustomized: \"true\" == (record.isCustomized() + '')\n\t\t\t});\n\t\t\ti++;\n\t\t}\n\t\treturn result;\n\t}\n})(request, response);\n","sys_updated_on":"2017-08-14 22:33:19","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"b69b31c967100300a52d79b457415a16","http_method":"GET","sys_updated_by":"maint","operation_uri":"/api/now/global_file_management/existingFileSearch","sys_created_on":"2017-07-30 00:15:55","sys_name":"existingFileSearch","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/2b59398967100300a52d79b457415a62","value":"2b59398967100300a52d79b457415a62"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"28","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/70142bf704312210559073c06a02f7b2","value":"70142bf704312210559073c06a02f7b2"},"sys_update_name":"sys_ws_operation_b69b31c967100300a52d79b457415a16","consumes_customized":"false","name":"existingFileSearch","produces":"application/json,application/xml,text/xml","relative_path":"/existingFileSearch","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    response.setContentType('application/json');\n    var helper = new CMDBDataManagerHelper();\n    var result = helper.getDeprecationMessage();\n    response.setBody(result);\n    response.setStatus(200);\n\n})(request, response);","sys_updated_on":"2023-11-03 23:21:14","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"b6df92cd43de311017b739603ab8f28b","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/ci_lifecycle_manager/deprecation","sys_created_on":"2023-11-02 19:56:59","sys_name":"Get Deprecation Message","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ad9ebe127322101045cadfcd3bf6a735","value":"ad9ebe127322101045cadfcd3bf6a735"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"sys_update_name":"sys_ws_operation_b6df92cd43de311017b739603ab8f28b","consumes_customized":"false","name":"Get Deprecation Message","produces":"application/json,application/xml,text/xml","relative_path":"/deprecation","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Gets all overrides for a provided screen","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    const apiHelper = new APIHelper(request, response);\n    apiHelper.execute(function() {\n        const sysId = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.SYS_ID, null);\n\n        const result = new Screen(['sys_domain,sys_override'], true).getScreenOverrides(sysId);\n        apiHelper.respondSuccesfully(result);\n    });\n})(request, response);","sys_updated_on":"2023-08-12 13:37:27","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"b6e5432e43607110e70583020cb8f250","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/screen/override","sys_created_on":"2023-08-12 13:37:27","sys_name":"Screen Domain Overrides","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_b6e5432e43607110e70583020cb8f250","consumes_customized":"false","name":"Screen Domain Override","produces":"application/json,application/xml,text/xml","relative_path":"/screen/override","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function runOperation(/*RESTServiceRequest*/ request, /*RESTServiceResult*/ response) {\n\tvar userSysId = request.queryParams.user_sysid;\n\tvar rmAPI = new SNC.RoleManagementAPI();\n\tvar userName = rmAPI.getUserNameById(userSysId);\n\tvar pathsR = rmAPI.findAllRolePathsForUserAsString(userSysId);\n\tvar pathsG = rmAPI.findAllRolePathsForUserFromGroupsAsString(userSysId);\n\treturn {\n\t\t\"user_name\": userName,\n\t\t\"from_role\": GlideStringUtil.split(pathsR, '\\n'),\n\t\t\"from_group\": GlideStringUtil.split(pathsG,'\\n')\n\t};\n})(request, response);","sys_updated_on":"2015-07-22 23:35:27","enforce_acl":"ffce8d6f9f1102003d5c77a0942e7034","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"b798f82f9f1102003d5c77a0942e70ae","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/global/user_role_inheritance","sys_created_on":"2015-07-22 22:06:16","sys_name":"get","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/d2e3f42f9f1102003d5c77a0942e7084","value":"d2e3f42f9f1102003d5c77a0942e7084"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1954e3bb04312210559073c06a02f7c7","value":"1954e3bb04312210559073c06a02f7c7"},"sys_update_name":"sys_ws_operation_b798f82f9f1102003d5c77a0942e70ae","consumes_customized":"false","name":"get","produces":"application/json,application/xml,text/xml","relative_path":"/","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tfunction setCascadeVariableValues(variables, valueMap) {\n\t\tfor(var i=0; i<variables.length; i++) {\n\t\t\tvar variable = variables[i];\n\t\t\tif(valueMap[variable.id])\n\t\t\t\tvariable.value = valueMap[variable.id];\n\t\t\tif(variable.children)\n\t\t\t\tvariable.children = setCascadeVariableValues(variable.children, valueMap);\n\t\t}\n\t\treturn variables;\n\t}\n\n\tvar guideId = request.pathParams.sys_id;\n\tvar request_body = request.body.nextEntry();\n\tvar noValidation =  (request_body.sysparm_no_validation == 'true');\t\n\tvar catalogUtil = new RestCatalogUtil();\n\n\tif(!catalogUtil.isValidItem(guideId, 'sc_cat_item_guide'))\n\t\tthrow new sn_ws_err.NotFoundError('Order Guide does not exists');\n\tvar itemJS = new sn_sc.CatItem(guideId);\n\tif(!itemJS.canView())\n\t\tthrow new sn_ws_err.BadRequestError('Security constraints prevent access to the item');\n\t\n\tvar also_request_for = request_body.sysparm_also_request_for;\n\tif (!gs.nil(also_request_for)) \n\t\tthrow new sn_ws_err.BadRequestError('Cannot request Order Guide for other users.');\n\t\n\tif(request_body.variables == undefined)\n\t\trequest_body.variables = {};\n\n\tfor (var key in request_body.variables)\n\t\tif (request_body.variables.hasOwnProperty(key) && request_body.variables[key] != null && typeof(request_body.variables[key]) !== 'string')\n\t\t\trequest_body.variables[key] = catalogUtil.getFieldValueAsString(key, request_body.variables[key], guideId);\n\n\tif (!noValidation) {\n\t\tif(!catalogUtil.checkMandatoryVariables(guideId, request_body.variables))\n\t\t\tthrow new sn_ws_err.BadRequestError('Mandatory variables are not filled');\n\t}\n\tvar messages = catalogUtil.validateVariableRegex(guideId, request_body.variables);\n\tif (messages && messages.length > 0) {\n\t\tvar errorResponse = {};\n\t\terrorResponse.errMsg = messages.join();\n\t\tresponse.setStatus(400);\n\t\treturn errorResponse;\n\t}\n\trequest_body.sysparm_id = guideId;\n\trequest_body.sysparm_guide = guideId;\n\tvar guideJS = new sn_sc.OrderGuide(guideId);\n\t//Flush any partially filled cart\n\tvar cartJS;\n\tif(guideJS.isTwoStep() || guideJS.isSequencedGuide())\n\t\tcartJS = new sn_sc.CartJS(guideId);\n\telse\n\t\tcartJS = new sn_sc.CartJS();\n\tcartJS.newGuide();\n\tcartJS.setGuide(guideId);\n\tcartJS.setGuideActive(guideId);\n\tcartJS.update();\n\t\n\tvar guideInitSummary = guideJS.init(request_body);\n\tif (guideInitSummary.errMsg) {\n\t\tresponse.setStatus(400);\n\t\treturn guideInitSummary.errMsg;\n\t}\n\tvar includedItems = guideInitSummary.items;\n\tvar cascadeVarMap = guideInitSummary.cascade_variable_map;\n\tvar itemList = [];\n\tfor(var i=0; i<includedItems.length; i++) {\n\t\tvar includedItem = includedItems[i];\n\t\tvar catItem = new sn_sc.CatItem(includedItem.sys_id);\n\t\tvar itemDetails = catItem.getItemSummary();\n\t\t\n\t\titemDetails.show_quantity = includedItem.show_quantity;\n\t\titemDetails.quantity = includedItem.quantity;\n\t\titemDetails.order = includedItem.order;\n\t\titemDetails.variables = setCascadeVariableValues(catItem.getVariables(false), cascadeVarMap);\n\n\t\tvar sets = catItem.getVariableSet();\n\t\titemDetails.ui_policy = new global.GlobalServiceCatalogUtil().getCatalogUIPolicy(includedItem.sys_id, sets.join(','));\n\t\titemDetails.client_script = catalogUtil.getClientScripts(includedItem.sys_id, 'desktop');\n\t\titemDetails.data_lookup = catItem.getDataLookUps();\n\n\t\titemList.push(itemDetails);\n\t}\n\treturn itemList;\n\n})(request, response);","sys_updated_on":"2021-09-18 17:47:21","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"{\r\n  \"variables\":{\r\n    \"hiring_manager\":\"6816f79cc0a8016401c5a33be04be441\",\r\n    \"hiring_group\":\"221f3db5c6112284009f4becd3039cc9\",\r\n    \"remote\":\"No\",\r\n    \"standard_package\":\"No\"\r\n  }\r\n}","sys_id":"b7da2141c3101200d68d3b0ac3d3ae0d","http_method":"PUT","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/items/{sys_id}/submit_guide","sys_created_on":"2015-12-11 10:20:41","sys_name":"Describe needs of an order guide","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"35","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_b7da2141c3101200d68d3b0ac3d3ae0d","consumes_customized":"false","name":"Describe needs of an order guide","produces":"application/json,application/xml,text/xml","relative_path":"/items/{sys_id}/submit_guide","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/items/{sys_id}/submit_guide","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar queryParams = request.queryParams;\n\n\tvar orderBy = \"\";\n\tif (typeof queryParams.orderBy !== \"undefined\")\n\t\torderBy = queryParams.orderBy + \"\";\n\n\tvar textSearch = \"\";\n\tif (typeof queryParams.textSearch !== \"undefined\")\n\t\ttextSearch = queryParams.textSearch + \"\";\n\n\tvar encodedQueryObj = global.ChangeCommon.buildEncodedQuery(global.ChangeCommon.assign({}, request.queryParams));\n\tvar result = global.ChangeCommon.getWindow(global.StandardChangeProcess.findAll(orderBy, textSearch, encodedQueryObj.encodedQuery), queryParams.sysparm_limit || null, queryParams.sysparm_offset || null);\n\tresult.push({__meta: encodedQueryObj});\n\treturn result;\n})(request, response);","sys_updated_on":"2018-08-17 14:06:56","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"b7f89b3eb753130096c3e4f6ee11a959","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/standard","sys_created_on":"2018-07-18 16:40:26","sys_name":"Standard - search","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_b7f89b3eb753130096c3e4f6ee11a959","consumes_customized":"false","name":"Standard - search","produces":"application/json,application/xml,text/xml","relative_path":"/standard","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/standard","sys_policy":""},{"short_description":"Checkout items of an order guide.","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tfunction addItemsToCart(guideJS, items, cart) {\n\t\tvar itemDetails;\n\t\tfor(i=0; i<items.length; i++) {\n\t\t\titemDetails = items[i];\n\t\t\titemDetails.sysparm_id = itemDetails.sys_id;\n\t\t\titemDetails.sysparm_quantity = '' + (itemDetails.sysparm_quantity || '1');\n\t\t\tif(!itemDetails.variables)\n\t\t\t\titemDetails.variables = {};\n\t\t\titemDetails.sysparm_active = itemDetails.sysparm_id;\n\t\t\tguideJS.navigateFromMap(itemDetails);\n\t\t}\n\t\tcart.activateGuide();\n\t}\n\n    var guideId = request.pathParams.sys_id;\n\tvar catalogUtil = new RestCatalogUtil();\n\tif(!catalogUtil.isValidItem(guideId, 'sc_cat_item_guide'))\n\t\tthrow new sn_ws_err.NotFoundError('Order guide is not found');\n\tvar itemJS = new sn_sc.CatItem(guideId);\n\tif(!itemJS.canView())\n\t\tthrow new sn_ws_err.BadRequestError('Security constraints prevent access to this order guide');\n\n\tvar request_body = request.body.nextEntry();\n\tvar requestedItems = request_body.items || [];\n\tvar noValidation =  (request_body.sysparm_no_validation == 'true');\t\n\tvar also_request_for = request_body.sysparm_also_request_for;\n\tif (!gs.nil(also_request_for)) \n\t\tthrow new sn_ws_err.BadRequestError('Cannot request Order Guide for other users.');\n\t\n\tvar guideJS = new sn_sc.OrderGuide(guideId);\n\tvar cart;\n\tif(guideJS.isTwoStep() || guideJS.isSequencedGuide())\n\t\tcart = new sn_sc.CartJS(guideJS.getID());\n\telse\n\t\tcart = new sn_sc.CartJS();\n\tvar guideItems = cart.getCrumbs();\n\tif(guideItems.length != requestedItems.length)\n\t\tthrow new sn_ws_err.BadRequestError('All required items not sent');\n\tguideItems = guideItems.join(',');\n\tfor(var i=0; i<requestedItems.length; i++) {\n\t\tvar requestedItem = requestedItems[i];\n\t\tvar itemId = requestedItem.sys_id;\n\t\tvar quantity = '1';\n\t\tif(requestedItem.sysparm_quantity)\n\t\t\tquantity = ''  + requestedItem.sysparm_quantity;\n\t\tif(!itemId)\n\t\t\tthrow new sn_ws_err.BadRequestError('Item id is required');\n\t\tvar also_request_item_for = requestedItem.sysparm_also_request_for;\n\t\tif (!gs.nil(also_request_item_for))\n\t\t\tthrow new sn_ws_err.BadRequestError('Order guide items cannot be requested for others.');\n\t\tif(guideItems.indexOf(itemId) > -1) {\n\t\t\titemJS = new sn_sc.CatItem(itemId);\n\t\t\tvar itemVars = requestedItem.variables || {};\n\t\t\tfor (var key in itemVars)\n\t\t\t\tif (itemVars.hasOwnProperty(key) && itemVars[key] != null && typeof(itemVars[key]) !== 'string')\n\t\t\t\t\titemVars[key] = catalogUtil.getFieldValueAsString(key, itemVars[key], itemId);\n\t\t\t\t\t\n\t\t\tif(!catalogUtil.isValidItem(itemId, 'sc_cat_item'))\n\t\t\t\tthrow new sn_ws_err.NotFoundError('One of more of the items are not valid');\n\t\t\tif(!itemJS.canView())\n\t\t\t\tthrow new sn_ws_err.BadRequestError('Security constraints prevent ordering of the item');\n\t\t\tif (!noValidation) {\n\t\t\t\tif(!catalogUtil.checkMandatoryVariables(itemId, itemVars))\n\t\t\t\t\tthrow new sn_ws_err.BadRequestError('Mandatory variables are required');\n\t\t\t}\n\t\t\tvar messages = catalogUtil.validateVariableRegex(itemId, itemVars);\n\t\t\tif (messages && messages.length > 0) {\n\t\t\t\tvar errorResponse = {};\n\t\t\t\tvar errorMsg = \"Variable validation failed for item: \" + itemId + \". \";\n\t\t\t\terrorMsg = errorMsg + messages.join();\n\t\t\t\terrorResponse.errMsg = errorMsg;\n\t\t\t\tresponse.setStatus(400);\n\t\t\t\treturn errorResponse;\n\t\t\t}\n\n\t\t\tif(!/^\\+?([0-9]*)$/.test(quantity))\n\t\t\t\tthrow new sn_ws_err.BadRequestError('Invalid quantity value');\n\t\t\t\n\t\t} else\n\t\t\tthrow new sn_ws_err.BadRequestError('Invalid items sent');\n\t}\n\tvar checkoutDetails;\n\ttry {\n\t\taddItemsToCart(guideJS, requestedItems, cart);\n\t\tcheckoutDetails = cart.checkoutGuide();\n\t} catch(e) {\n\t\tgs.debug(e);\n\t\tthrow new sn_ws_err.ServiceError('Error during checkout of items');\n\t}\n\treturn checkoutDetails;\n\n})(request, response);","sys_updated_on":"2021-09-18 17:47:21","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"{\"items\":[{\r\n  \"sys_id\":\"04b7e94b4f7b4200086eeed18110c7fd\",\r\n  \"variables\":{\r\n    \"acrobat\":\"true\",\r\n    \"Additional_software_requirements\":\"MS Office 2007\"\r\n  },\r\n  \"sysparm_quantity\":\"3\",\r\n},\r\n{\r\n  \"sys_id\":\"e1be6dcb4f7b4200086eeed18110c74c\",\r\n},\r\n{\r\n  \"sys_id\":\"186d917a6fab7980575967ddbb3ee4f2\",\r\n  \"variables\":{\r\n    \"new_email\":\"abel.tuter@example.com\"\r\n  }\r\n},\r\n{\r\n  \"sys_id\":\"8b3ae7fedc1be1004ece5c08239e522b\"\r\n},\r\n{\r\n  \"sys_id\":\"962967674ff38200086eeed18110c7e7\",\r\n  \"variables\":{\r\n    \"ergonomic_office\":\"Office chair should have lumbar support\"\r\n  }\r\n}]}","sys_id":"b7fe7ff5c3101200d68d3b0ac3d3aecc","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/items/{sys_id}/checkout_guide","sys_created_on":"2015-12-14 05:03:13","sys_name":"Checkout Order guide","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"43","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_b7fe7ff5c3101200d68d3b0ac3d3aecc","consumes_customized":"false","name":"Checkout Order guide","produces":"application/json,application/xml,text/xml","relative_path":"/items/{sys_id}/checkout_guide","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/items/{sys_id}/checkout_guide","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar changeSysId = request.pathParams.change_sys_id || \"\";\n\tif (!changeSysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Change Request id not provided\");\n\n\tvar changeRequestGr = new GlideRecordSecure(global.ChangeRequest.CHANGE_REQUEST);\n\tchangeRequestGr.addQuery(\"sys_id\", changeSysId);\n\tchangeRequestGr.query();\n\tif (!changeRequestGr.next())\n\t\treturn new sn_ws_err.NotFoundError(\"Change Request not found\");\n\n\tvar taskSysId = request.pathParams.task_sys_id || \"\";\n\tif (!taskSysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Change Task id not provided\");\n\n\tvar changeTask = global.ChangeTask.bySysId(taskSysId);\n\tif (!changeTask)\n\t\treturn new sn_ws_err.NotFoundError(\"Change Task not found\");\n\n\tif (changeSysId !== changeTask.getGlideRecord().change_request + \"\")\n\t\treturn new sn_ws_err.BadRequestError(\"Change Task found, but not related to Change Request: \" + changeSysId);\n\n\tvar fields = changeTask.setValues(global.ChangeCommon.assign({}, request.queryParams, request.body.data));\n\tif (changeTask.update()) {\n\t\tvar result = changeTask.toJS();\n\t\tresult.__meta = { ignoredFields: fields.ignored && fields.ignored.length > 0 ? fields.ignored : [] };\n\t\treturn result;\n\t}\n\n\tvar errorMessage = \"Change Task record could not be updated.\";\n\tvar lastErrorMessage = changeTask.getGlideRecord().getLastErrorMessage();\n\tif (lastErrorMessage)\n\t\terrorMessage += \" \" + lastErrorMessage;\n\n\treturn new sn_ws_err.BadRequestError(errorMessage);\n})(request, response);","sys_updated_on":"2018-08-10 14:28:51","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"b8775192b733130096c3e4f6ee11a911","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/{change_sys_id}/task/{task_sys_id}","sys_created_on":"2018-08-10 14:28:51","sys_name":"Task","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_b8775192b733130096c3e4f6ee11a911","consumes_customized":"false","name":"Task","produces":"application/json,application/xml,text/xml","relative_path":"/{change_sys_id}/task/{task_sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/{change_sys_id}/task/{task_sys_id}","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var notifications = new NotificationsService(request.queryParams).getNotifications();\n\n    return notifications;\n\n})(request, response);","sys_updated_on":"2023-10-25 21:19:37","enforce_acl":"4bbe81b4c703201066492f3bf4c260e6","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"b908230a530635104078ddeeff7b12b1","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_mab_api/mab_api/getNotifications","sys_created_on":"2023-10-24 16:23:43","sys_name":"Get Notifications","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3512bd93c7c12010100f2f3bf4c26049","value":"3512bd93c7c12010100f2f3bf4c26049"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_update_name":"sys_ws_operation_b908230a530635104078ddeeff7b12b1","consumes_customized":"false","name":"Get Notifications","produces":"application/json,application/xml,text/xml","relative_path":"/getNotifications","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar ocrRotaV2 = new OCRotationV2();\n\tvar result = ocrRotaV2.getRotasByGroup(request.pathParams.group_ids);\n\tif (ocrRotaV2.log.atLevel(GSLog.DEBUG)) {\n\t\tocrRotaV2.timer.timerName += \" REST-GET getrotasbygroup\";\n\t\tocrRotaV2.log.debug(ocrRotaV2.timer.result());\n\t}\n\treturn result;\n})(request, response);","sys_updated_on":"2019-03-20 10:28:46","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"b942f8a2d7001200f2d224837e6103aa","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/getrotasbygroup/{group_ids}","sys_created_on":"2015-12-03 11:44:52","sys_name":"getRotasByGroup","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"9","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_b942f8a2d7001200f2d224837e6103aa","consumes_customized":"false","name":"getRotasByGroup","produces":"application/json,application/xml,text/xml","relative_path":"/getrotasbygroup/{group_ids}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\t\t\n\tvar tableNames, result;\n\t\n\ttry {\n\t\ttableNames = JSON.parse(request.queryParams.table_names);\n\t} catch (e) {\n\t\tthrow new sn_ws_err.BadRequestError(\"Invalid or missing param 'table_names'\");\n\t}\n\t\n\tresult = _.mapObject(FileTypeInfo.get(tableNames), function(type, name) {\n\t\treturn type.canRead ? type : _.pick(type, 'canRead');\n\t});\n\t\n\tresponse.setBody(result);\n\tresponse.setStatus(200);\n\tresponse.setContentType('application/json');\n})(request, response);","sys_updated_on":"2016-06-22 15:03:34","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b90d5e8137331200612747efbe41f142","value":"b90d5e8137331200612747efbe41f142"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"b95cfa4137331200612747efbe41f11d","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/system/types","sys_created_on":"2016-06-02 15:54:18","sys_name":"List Types","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b1edafaf37131200612747efbe41f104","value":"b1edafaf37131200612747efbe41f104"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"13","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_b95cfa4137331200612747efbe41f11d","consumes_customized":"false","name":"List Types","produces":"application/json,application/xml,text/xml","relative_path":"/types","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/system/types","sys_policy":"read"},{"short_description":"Creates a screen record and related applicabilities","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    const apiHelper = new APIHelper(request, response);\n    apiHelper.execute(function() {\n        const noDomain = apiHelper.getQueryParam('noDomain');\n        const mode = apiHelper.getQueryParam('mode');\n        const experienceId = apiHelper.getQueryParam('experienceId');\n        const {\n            screen,\n            macroponent = {},\n            applicabilities,\n            screenTestValues,\n            templateId\n        } = request.body.data;\n        const routeRecords = new AppRoute(['fields', 'optional_parameters', 'screen_type']).getRecordsByQuery(`screen_type=${screen.screenType}`);\n        if (routeRecords.length === 0) {\n            return apiHelper.respondUnsuccessfully(BuilderToolkitConstants.ERRORS.NO_APP_ROUTE);\n        } else {\n            const result = new Screen([], noDomain).create(\n                experienceId,\n                screen,\n                macroponent,\n                [...(routeRecords[0].fields ? routeRecords[0].fields.split(',') : []), ...(routeRecords[0].optionalParameters ? routeRecords[0].optionalParameters.split(',') : [])],\n                applicabilities,\n                screenTestValues,\n                templateId,\n                mode ? mode.toString() : mode\n            );\n            const finalResult = {\n                ...result,\n                route: routeRecords[0].sysId,\n\t\t\t\tscreenType: routeRecords[0].screenType\n            };\n            typeof result === 'string' ? apiHelper.respondUnsuccessfully(finalResult) : apiHelper.respondSuccesfully(finalResult);\n        }\n    });\n})(request, response);","sys_updated_on":"2023-05-26 18:26:52","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"{\n            screen: {},\n            applicabilities: [],\n            screenTestValues: {},\n            templateId: ''\n}","sys_id":"b98f70d268e39110f8772643d81e4fba","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/screen","sys_created_on":"2022-12-05 19:58:20","sys_name":"Screen","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"17","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_b98f70d268e39110f8772643d81e4fba","consumes_customized":"false","name":"Screen","produces":"application/json,application/xml,text/xml","relative_path":"/screen","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Get the content of an application service including connections between CIs","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar getContent = new GetITService();\n\tgetContent.process(request, response);\n\n})(request, response);","sys_updated_on":"2018-03-06 04:57:04","enforce_acl":"ea4f3ae287132200b5bea18dd0e3eceb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"ba16c525c39303003e76741e81d3aeae","http_method":"GET","sys_updated_by":"tal.kapon","operation_uri":"/api/now/cmdb/app_service/{sys_id}/getContent","sys_created_on":"2017-12-27 12:35:27","sys_name":"GetContent","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/565abf20c39413003e76741e81d3ae48","value":"565abf20c39413003e76741e81d3ae48"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"11","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_ba16c525c39303003e76741e81d3aeae","consumes_customized":"false","name":"GetContent","produces":"application/json,application/xml,text/xml","relative_path":"/app_service/{sys_id}/getContent","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        var params = request.body.data;\n        var sysId = request.queryParams.sys_id;\n        var tokenManager = new SplunkTokenManager();\n        var recordSysId = tokenManager.updateToken(params, sysId);\n        response.setStatus(200);\n        response.setBody({\n            message: \"Record updated successfully.\",\n            sys_id: recordSysId\n        });\n    } catch (e) {\n        gs.error(\"Update Token: Error occurred:\" + e.message);\n        response.setStatus(500);\n        response.setBody({ error: e.message });\n    }\n})(request, response);","sys_updated_on":"2024-09-10 22:59:52","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"bae210814fa01210354a631ba1ce0b0a","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/splunk_token","sys_created_on":"2024-09-08 01:09:27","sys_name":"persistTokenMetaData","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b67298c94f601210354a631ba1ce0b39","value":"b67298c94f601210354a631ba1ce0b39"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/91d8237704f12210559073c06a02f73b","value":"91d8237704f12210559073c06a02f73b"},"sys_update_name":"sys_ws_operation_bae210814fa01210354a631ba1ce0b0a","consumes_customized":"false","name":"persistTokenMetaData","produces":"application/json,application/xml,text/xml","relative_path":"/","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var receivedParams = request.pathParams;\n    var currentRecordTable = receivedParams.table_name;\n    var currentRecordSysId = receivedParams.sys_id;\n    var actionDetailId = receivedParams.action_id;\n\n    var requestBody = request.body.data;\n    var actionMetadata = requestBody.actionMetadata;\n\tvar actionInputs = requestBody.actionInputs;\n    response.setContentType('application/json');\n\n    if (!sn_nb_action.NextBestActionUtil.isValidString(actionDetailId) || !sn_nb_action.NextBestActionUtil.isValidString(currentRecordTable) || !sn_nb_action.NextBestActionUtil.isValidString(currentRecordSysId))\n        response.setError(new sn_ws_err.BadRequestError(gs.getMessage('Missing required parameters')));\n    else {\n        try {\n\n            var current = new sn_nb_action.NextBestActionUtil.getNextBestActionDAO().getSecureTableRecordBySysId(currentRecordTable,currentRecordSysId);\n            if (!current) {\n                response.setError(new sn_ws_err.BadRequestError(gs.getMessage('Invalid parameters')));\n                return;\n            }\n\n            var nbaService = new sn_nb_action.NextBestActionService();\n            var actionDetails = nbaService.executeAction(current, actionDetailId, actionMetadata, actionInputs);\n            if (actionDetails) {\n                if (actionDetails.actionStatus == sn_nb_action.Constants.STATUS_ERROR) {\n                    actionDetails.actionDetailId = actionDetailId;\n                    var responseBody = {};\n                    responseBody.actionDetails = actionDetails;\n                    response.setBody(responseBody);\n                    response.setStatus(200);\n                } else {\n                    response.setBody(actionDetails);\n                    response.setStatus(200);\n                }\n\n            } else {\n                var errObj = new sn_ws_err.ServiceError();\n                errObj.setStatus(500);\n                errObj.setMessage(gs.getMessage('Error executing the single click action'));\n                errObj.setDetail(gs.getMessage('Refer error logs for details'));\n                response.setError(errObj);\n            }\n        } catch (err) {\n            var customErrObj = new sn_ws_err.ServiceError();\n            customErrObj.setStatus(500);\n            customErrObj.setMessage(gs.getMessage('Error executing the single click action'));\n            customErrObj.setDetail(gs.getMessage('Refer error logs for details'));\n            response.setError(customErrObj);\n        }\n\n    }\n\n})(request, response);","sys_updated_on":"2024-07-18 09:20:04","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/5024b34a53c31010763eddeeff7b1289","value":"5024b34a53c31010763eddeeff7b1289"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"baeebb4707f501101d6cba1f0ad30042","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/sn_nb_action/v1/next_best_action/actions/{table_name}/{sys_id}/{action_id}/execute","sys_created_on":"2022-02-25 21:50:48","sys_name":"Execute Single Click Action","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/427fe83177221010d7159b71a91061e1","value":"427fe83177221010d7159b71a91061e1"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/95beed2cc7c71010763e343703c2608d","value":"95beed2cc7c71010763e343703c2608d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"22","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/427fe83177221010d7159b71a91061e1","value":"427fe83177221010d7159b71a91061e1"},"sys_update_name":"sys_ws_operation_baeebb4707f501101d6cba1f0ad30042","consumes_customized":"false","name":"Execute Single Click Action","produces":"application/json,application/xml,text/xml","relative_path":"/actions/{table_name}/{sys_id}/{action_id}/execute","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n    response.setContentType('application/json');\n\n    var helper = new CMDBDataManagerHelper();\n    var requestData = request.body.data;\n    var errorMessage = \"\";\n    if (JSUtil.nil(requestData.policy_details) || !helper.isMandatoryDataAvailable(requestData.policy_details)) {\n        errorMessage = \"Mandatory fields are missing from the request\";\n    } else if (!helper.isNameAvailable(requestData.policy_details.name)) {\n        errorMessage = \"The policy name is already in use\";\n    }\n    if (errorMessage) {\n        return new sn_ws_err.BadRequestError(errorMessage);\n    }\n    var result = {};\n    var policyDetails = helper.createPolicy(requestData.policy_details);\n    if (!JSUtil.nil(policyDetails.error)) {\n        var error = new sn_ws_err.ServiceError();\n        error.setStatus(400);\n        error.setMessage(\"Error in creating policy\");\n        error.setDetail(policyDetails.error);\n        return error;\n    }\n    result.sys_id = policyDetails.policySysId;\n\tresult.policy_details = policyDetails;\n    response.setStatus(200);\n    response.setBody(result);\n})(request, response);","sys_updated_on":"2021-09-30 21:31:06","enforce_acl":"bf20624e53832010af64ddeeff7b1272","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"bb0b9a1477d220108043270bba1061f1","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/ci_lifecycle_manager/policy","sys_created_on":"2021-02-09 05:38:58","sys_name":"Create Policy","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ad9ebe127322101045cadfcd3bf6a735","value":"ad9ebe127322101045cadfcd3bf6a735"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"60","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"sys_update_name":"sys_ws_operation_bb0b9a1477d220108043270bba1061f1","consumes_customized":"false","name":"Create Policy","produces":"application/json,application/xml,text/xml","relative_path":"/policy","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var appManagerApiUtil = new AppManagerApiUtil(request, response);\n    try {\n        var trackerInfo = appManagerApiUtil.getRequestBody();\n        CommonUtils.addProgressTracker(trackerInfo, trackerInfo.response, trackerInfo.appId, trackerInfo.type, trackerInfo.mode);\n        appManagerApiUtil.setResponseBody({\n            \"registered\": true\n        });\n    } catch (err) {\n        appManagerApiUtil.setError(err);\n    }\n\n})(request, response);","sys_updated_on":"2023-10-04 09:25:34","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/be08b89397b0d1104b593f0e6253afe1","value":"be08b89397b0d1104b593f0e6253afe1"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"bb161e91530221102c05ddeeff7b12a3","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_appclient/v1/appmanager/register_tracker_info","sys_created_on":"2023-04-06 06:22:05","sys_name":"RegisterTrackerInfo","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7ea1fc5f9770d1104b593f0e6253af99","value":"7ea1fc5f9770d1104b593f0e6253af99"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_update_name":"sys_ws_operation_bb161e91530221102c05ddeeff7b12a3","consumes_customized":"false","name":"RegisterTrackerInfo","produces":"application/json,application/xml,text/xml","relative_path":"/register_tracker_info","produces_customized":"false","default_operation_uri":"/api/sn_appclient/appmanager/register_tracker_info","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    if (GlidePluginManager.isActive(\"sn_uxc_gen_ai\")) {\n\n        const table = request.pathParams.table;\n        const sysId = request.pathParams.sys_id;\n        try {\n            var config = new sn_uxc_gen_ai.UXCGenAIEmailReplyUtils().getSkillAvailability(table, sysId);\n            return config;\n        } catch (e) {\n            return {\n                evaluatedAvailability: false\n            };\n        }\n    } else {\n        return {\n            evaluatedAvailability: false\n        };\n    }\n})(request, response);","sys_updated_on":"2024-08-22 14:39:50","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"bb52e367438c5210602c2fb948b8f2cf","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now_email_client/email_skill_config/{table}/{sys_id}","sys_created_on":"2024-08-22 14:07:14","sys_name":"email_skill_config","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/45bc8e691875433940f11302fd612134","value":"45bc8e691875433940f11302fd612134"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/6160afa3438c5210602c2fb948b8f25a","value":"6160afa3438c5210602c2fb948b8f25a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"false","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/45bc8e691875433940f11302fd612134","value":"45bc8e691875433940f11302fd612134"},"sys_update_name":"sys_ws_operation_bb52e367438c5210602c2fb948b8f2cf","consumes_customized":"false","name":"email_skill_config","produces":"application/json,application/xml,text/xml","relative_path":"/{table}/{sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    response.setContentType('application/json');\n\tvar result = [];\n\tvar gr = new GlideRecord(\"sys_choice\");\n\tgr.addQuery(\"name\", \"cmdb_ci_service\");\n\tgr.addQuery(\"element\", \"operational_status\");\n\tgr.addQuery(\"language\", gs.getSession().getLanguage());\n\tgr.addQuery(\"inactive\", false);\n\tgr.query();\n\t\n\twhile(gr.hasNext()){\n\t\tgr.next();\n\t\tresult.push({value: gr.getValue(\"value\"), label: gr.getValue(\"label\")});\n\t}\n\n\tresponse.setStatus(200);\n\tresponse.setBody(result);\n\t\n})(request, response);","sys_updated_on":"2020-05-26 21:11:09","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"bb6ff1670730101017b703767cd3009e","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/csdm_app_service/operational_status_choice_list","sys_created_on":"2020-11-02 20:32:43","sys_name":"Get Operational Status Choice List","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/60c171d973c30010ee4dd3c72bf6a716","value":"60c171d973c30010ee4dd3c72bf6a716"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"9","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2f8d67ff04352210559073c06a02f74f","value":"2f8d67ff04352210559073c06a02f74f"},"sys_update_name":"sys_ws_operation_bb6ff1670730101017b703767cd3009e","consumes_customized":"false","name":"Get Operational Status Choice List","produces":"application/json,application/xml,text/xml","relative_path":"/operational_status_choice_list","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var sysId = request.queryParams.legacyPageSysId;\n    var layoutLoader = new SNC.LayoutLoader();\n    var isLegacyPage = layoutLoader.isLegacyPage(sysId[0]);\n    if (!isLegacyPage) {\n        return {\n            success: false,\n            message: \"sys id is not legacy page\"\n        };\n    }\n    return {\n        success: true,\n        message: \"converted legacy page\",\n        layout: layoutLoader.convertToCanvas(sysId[0])\n    };\n\n})(request, response);","sys_updated_on":"2023-02-10 14:02:02","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"bb70b07b77342110fe35665d6a5a990d","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/par_migrate_classic_dashboard_layout","sys_created_on":"2023-02-10 14:02:02","sys_name":"Convert Layout","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/0b60fc3b77342110fe35665d6a5a99ea","value":"0b60fc3b77342110fe35665d6a5a99ea"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/411bab3304352210559073c06a02f767","value":"411bab3304352210559073c06a02f767"},"sys_update_name":"sys_ws_operation_bb70b07b77342110fe35665d6a5a990d","consumes_customized":"false","name":"Convert Layout","produces":"application/json,application/xml,text/xml","relative_path":"/","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\n\tvar empty = \"value not provided\";\n\t\n    //The api returns some strings as NativeArrays which is not ideal\n\tvar term = getParamAsString(\"term\");\n\tvar table = getParamAsString(\"table\");\n\tvar limit = getParamAsString(\"limit\");\n\tvar search_group = getParamAsString(\"search_group\");\n    var search_all_scopes = getParamAsString(\"search_all_scopes\");\n\tvar current_app = getParamAsString(\"current_app\");\n\tvar extended_matching = getParamAsString(\"extended_matching\");\n\n\t//lets help a dev debug\n\tgs.debug(\"Search term is {0}\", term ? term : empty);\n\tgs.debug(\"Search against table {0}\", table ? table : empty);\n\tgs.debug(\"In search group {0}\", search_group ? search_group : empty);\n\tgs.debug(\"With requested limit {0}\", limit ? limit : empty);\n\tgs.debug(\"Search all app scopes: {0}\", search_all_scopes ? search_all_scopes : empty);\n\tgs.debug(\"Home scope is {0}\", current_app ? current_app : empty);\n\tgs.debug(\"Use extended matching is {0}\", extended_matching ? extended_matching : empty);\n\t\n    if (!search_all_scopes || search_all_scopes == \"false\")\n        search_all_scopes = false;\n\t\n\tvar searcher = CodeSearch()\n\t\t\t\t\t.setSearchGroup(search_group)\n\t\t\t\t\t.setSearchAllScopes(search_all_scopes)\n\t\t\t\t\t.setSearchTable(table)\n\t\t\t\t\t.setCurrentApplication(current_app)\n\t\t\t\t\t.setExtendedMatching(extended_matching);\n\t\n\t//allow requests to specify a limit, always less than our max\n\tif (limit)\n\t\tsearcher.setLimit(limit);\n\t\n\tgs.info(\"Initiating search for {0} from search API.\", term);\n\t\n\t//We want to keep the browser from caching these responses\n\tresponse.setHeader(\"Cache-Control\", \"no-cache,no-store,must-revalidate,max-age=-1\");\n\tresponse.setHeader(\"Pragma\", \"no-store,no-cache\");\n\tresponse.setHeader(\"Expires\",\"Thu, 01 Jan 1970 00:00:00\");\n\t\n\treturn searcher.search(term);\n\t\n\t//make sure we always get strings from the parameter map\n\tfunction getParamAsString(paramName) {\n\t\tif (request.queryParams.hasOwnProperty(paramName))\n\t\t\treturn request.queryParams[paramName] + '';\n\n\t\treturn '';\n\t}\n})(request, response);","sys_updated_on":"2015-11-05 21:01:04","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1a2e2ac3d7220200b6bddb0c825203d6","value":"1a2e2ac3d7220200b6bddb0c825203d6"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"bb747ec3d7220200b6bddb0c82520396","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_codesearch/v1/code_search/search","sys_created_on":"2015-09-21 20:59:55","sys_name":"search","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f9752f20d7120200b6bddb0c8252032e","value":"f9752f20d7120200b6bddb0c8252032e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/939d2ac3d7220200b6bddb0c82520377","value":"939d2ac3d7220200b6bddb0c82520377"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"14","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f9752f20d7120200b6bddb0c8252032e","value":"f9752f20d7120200b6bddb0c8252032e"},"sys_update_name":"sys_ws_operation_bb747ec3d7220200b6bddb0c82520396","consumes_customized":"false","name":"search","produces":"application/json,application/xml,text/xml","relative_path":"/search","produces_customized":"false","default_operation_uri":"/api/sn_codesearch/code_search/search","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var trainer = decodeURI(request.pathParams.trainer);\n\tif (trainer) {\n\t\treturn new MLSolutionDefinitionUtils().getDefaultOOBSolutionDefinitions(trainer);\n\t} else {\n\t\treturn sn_ws_err.BadRequestError(\"Trainer not present\");\n\t}\n\n})(request, response);","sys_updated_on":"2019-05-02 14:05:04","enforce_acl":"5a3bd3757351230080b29ca9faf6a7f2","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"bb8e7deb8dc533006118878485aeb011","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/agent_intelligence/{trainer}/trainer_getoobsolutiondefinitions","sys_created_on":"2019-05-02 14:05:04","sys_name":"getOOBSolutionDefinitions","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3d4fe0bf0b323200c7ecc71437673a4e","value":"3d4fe0bf0b323200c7ecc71437673a4e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_ws_operation_bb8e7deb8dc533006118878485aeb011","consumes_customized":"false","name":"getOOBSolutionDefinitions","produces":"application/json,application/xml,text/xml","relative_path":"/{trainer}/trainer_getoobsolutiondefinitions","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var groupId = JSUtil.nil(request.queryParams.group_id) ? \"\" : request.queryParams.group_id;\n\tvar rotaId = JSUtil.nil(request.queryParams.rota_id) ? \"\" : request.queryParams.rota_id;\n\tvar escalationSetSysId = JSUtil.nil(request.queryParams.escalation_set_sys_id) ? \"\" : request.queryParams.escalation_set_sys_id;\n\tvar taskTable = JSUtil.nil(request.queryParams.task_table) ? \"\" : request.queryParams.task_table;\n\tvar taskSysId = JSUtil.nil(request.queryParams.task_sys_id) ? \"\" : request.queryParams.task_sys_id;\n\tvar gdt;\n\tif (JSUtil.nil(request.queryParams.start_date))\n\t\tgdt = new GlideDateTime();\n\telse {\n\t\tgdt = new GlideDateTime();\n\t\tgdt.setDisplayValue(request.queryParams.start_date);\n\t}\n\tvar escalationPathUtil = new OCEscalationPathUtil().setCheckAccess(true);\n\treturn escalationPathUtil.getOnCallEscalationShift(groupId, rotaId, gdt, escalationSetSysId, taskTable, taskSysId);\n})(request, response);","sys_updated_on":"2024-10-11 15:52:13","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"bbdfcdcd5310230030e3ddeeff7b123b","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/escalations","sys_created_on":"2018-08-31 13:21:44","sys_name":"escalations","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"32","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_bbdfcdcd5310230030e3ddeeff7b123b","consumes_customized":"false","name":"escalations","produces":"application/json,application/xml,text/xml","relative_path":"/escalations","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var userId = request.pathParams.userId;\n\tvar preferencesTable = 'sys_cb_user_preference';\n\n\tfunction setUserPreference(userId, preference) {\n\t\tvar gr = new GlideRecord(preferencesTable);\n\t\tgr.addQuery('user', userId);\n\t\tgr.addQuery('preference', preference.name);\n\t\tgr.query();\n\n\t\tif (!gr.next()) {\n\t\t\tgr.newRecord();\n\t\t\tgr.setValue('user', userId);\n\t\t\tgr.setValue('preference', preference.name);\n\t\t}\n\n\t\tgr.setValue('value', preference.value);\n\t\treturn (gr.isNewRecord() ? gr.insert() : gr.update());\n\t}\n\n\tresponse.setBody({\n\t\tuser: userId,\n\t\tresult: setUserPreference(userId, request.body.data)\n\t});\n\tresponse.setStatus(200);\n\tresponse.setContentType('application/json');\n\n})(request, response);","sys_updated_on":"2024-08-14 17:10:03","enforce_acl":"95736dc3c7e220105a06145bf4c26096","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"bc01d4e177a002103f4ef8fb8c5a997f","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/virtual_agent_design/{userId}/preferences","sys_created_on":"2024-02-23 18:30:16","sys_name":"Set User Preferences","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/86719a5dc7e220105a06145bf4c26006","value":"86719a5dc7e220105a06145bf4c26006"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"15","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/dec3fb3704b52210559073c06a02f782","value":"dec3fb3704b52210559073c06a02f782"},"sys_update_name":"sys_ws_operation_bc01d4e177a002103f4ef8fb8c5a997f","consumes_customized":"false","name":"Set User Preferences","produces":"application/json,application/xml,text/xml","relative_path":"/{userId}/preferences","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        const params = UDCUtil.assign({},\n            request.pathParams,\n            request.body.data\n        );\n\n        return new AppDetails(params).getFileCategoriesByApp();\n    } catch (e) {\n        const LOG = new Logger(`POST:/api/sn_udc/v1/file_taxonomy/app/{appSysId}/fileCategories`);\n        LOG.error(`Failed to fetch app file categories: ${e.toString()}`);\n        throw new sn_ws_err.ServiceError()\n            .setStatus(500)\n            .setMessage(gs.getMessageLang(\"Unhandled exception {0}\", \"en\", [e]))\n            .setDetail(gs.getMessage(\"Unhandled exception {0}\", [e]));\n    }\n\n})(request, response);","sys_updated_on":"2025-03-03 05:01:15","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/bdb69aae38590610f877e7be24350541","value":"bdb69aae38590610f877e7be24350541"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"bc121c87ff6712109687ffffffffff5a","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_udc/v1/applications/app/{appSysId}/fileCategories","sys_created_on":"2025-02-10 09:20:11","sys_name":"Get App File Categories","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/8ac50768bd590e10f877b7c0f70fea90","value":"8ac50768bd590e10f877b7c0f70fea90"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_update_name":"sys_ws_operation_bc121c87ff6712109687ffffffffff5a","consumes_customized":"false","name":"Get App File Categories","produces":"application/json,application/xml,text/xml","relative_path":"/app/{appSysId}/fileCategories","produces_customized":"false","default_operation_uri":"/api/sn_udc/applications/app/{appSysId}/fileCategories","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar pipelineTypeName = request.pathParams.name;\n\tvar pipelineType = (new PipelineUtils()).getPipelineTypeByName(pipelineTypeName);\n\t\n    response.setStatus(200);\n\tresponse.setBody(pipelineType);\n})(request, response);","sys_updated_on":"2021-09-17 15:46:02","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/3eeef5f2b72030100290b9708e11a939","value":"3eeef5f2b72030100290b9708e11a939"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"bc265517c7223010408bc8d6f2c2608d","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_pipeline/v1/pipeline/pipeline_type/{name}","sys_created_on":"2021-09-17 15:44:06","sys_name":"Pipeline Type","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e78853e9c3222010b83971e54440dd26","value":"e78853e9c3222010b83971e54440dd26"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/0a6e31f2b72030100290b9708e11a980","value":"0a6e31f2b72030100290b9708e11a980"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e78853e9c3222010b83971e54440dd26","value":"e78853e9c3222010b83971e54440dd26"},"sys_update_name":"sys_ws_operation_bc265517c7223010408bc8d6f2c2608d","consumes_customized":"false","name":"Pipeline Type","produces":"application/json,application/xml,text/xml","relative_path":"/pipeline_type/{name}","produces_customized":"false","default_operation_uri":"/api/sn_pipeline/pipeline/pipeline_type/{name}","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var appManagerApiUtil = new AppManagerApiUtil(request, response);\n    try {\n        var requestParams = appManagerApiUtil.getRequestParams();\n        var productInfoHelper = new ProductInfoHelper();\n        var product = productInfoHelper.getProduct(requestParams);\n        appManagerApiUtil.setResponseBody(product);\n    } catch (err) {\n        appManagerApiUtil.setError(err);\n    }\n\n})(request, response);","sys_updated_on":"2023-10-04 09:25:34","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/be08b89397b0d1104b593f0e6253afe1","value":"be08b89397b0d1104b593f0e6253afe1"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"bc3aec2d97eedd10b6b13f0e6253af64","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_appclient/v1/appmanager/product/{productId}","sys_created_on":"2022-10-14 17:30:03","sys_name":"GetProductById","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7ea1fc5f9770d1104b593f0e6253af99","value":"7ea1fc5f9770d1104b593f0e6253af99"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_update_name":"sys_ws_operation_bc3aec2d97eedd10b6b13f0e6253af64","consumes_customized":"false","name":"GetProductById","produces":"application/json,application/xml,text/xml","relative_path":"/product/{productId}","produces_customized":"false","default_operation_uri":"/api/sn_appclient/appmanager/product/{productId}","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar addedChanges = {};\n\tfunction getJson(gr, f) {\n\t\tvar  o = {};\n\t\tfor (var i = 0; i < f.length; i++) {\n\t\t\to[f[i]] = {\n\t\t\t\tvalue: gr.getValue(f[i]),\n\t\t\t\tdisplay_value: gr.getDisplayValue(f[i])\n\t\t\t};\n\t\t}\n\t\treturn o;\n\t}\n\tfunction getChangesData(gr) {\n\t\tvar changes = [];\n\t\tif (gr) {\n\t\t\tgr.query();\n\t\t\twhile (gr.next()) {\n\t\t\t\tif (addedChanges[gr.getUniqueValue()]) // To prevent duplicates\n\t\t\t\t\tcontinue;\n\t\t\t\tchanges.push(getJson(gr, ['sys_id', 'short_description', 'description', 'assigned_to',\n\t\t\t\t\t\t\t\t\t\t  'assignment_group', 'number', 'cmdb_ci', 'start_date',\n\t\t\t\t\t\t\t\t\t\t  'end_date']));\n\t\t\t\taddedChanges[gr.getUniqueValue()] = true;\n\t\t\t}\n\t\t}\n\t\treturn changes;\n\t}\n\n\tvar startDate = request.queryParams.start_date + '';\n\tif (startDate)\n\t\tstartDate = new GlideDateTime(startDate);\n\tvar endDate = request.queryParams.end_date + '';\n\tif (endDate)\n\t\tendDate = new GlideDateTime(endDate);\n\tvar filterOptions = request.queryParams.filter + '';\n\tif (filterOptions)\n\t\tfilterOptions = filterOptions.split(',');\n\telse\n\t\tfilterOptions = [];\n\n\tvar changeGr = new GlideRecord(ChangeRequestCalendarSNC.CHANGE);\n\tif (changeGr.get(request.pathParams.sys_id)) {\n\t\tvar res = [];\n\t\tvar cchange;\n\n\t\tif(GlidePluginManager.isActive(\"com.snc.change_management.cab\"))\n\t\t\tcchange = new sn_change_cab.CABChangeRequest(changeGr);\n\t\telse\n\t\t\tcchange = new global.ChangeRequestCalendar(changeGr);\n\n\t\tif (filterOptions.indexOf('assigned_to') > -1)\n\t\t\tres = res.concat(getChangesData(cchange.getChangesWithSameAssignedTo(startDate, endDate)));\n\t\tif (filterOptions.indexOf('group') > -1)\n\t\t\tres = res.concat(getChangesData(cchange.getChangesWithSameAssignmentGroup(startDate, endDate)));\n\t\tif (filterOptions.indexOf('primary_ci') > -1)\n\t\t\tres = res.concat(getChangesData(cchange.getChangesAffectingSamePrimaryCI(startDate, endDate)));\n\t\treturn res;\n\t} else {\n\t\treturn new sn_ws_err.NotFoundError('Given Change Request not found');\n\t}\n\n})(request, response);","sys_updated_on":"2017-06-30 01:53:37","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"bcc2b46e0b2332005775aabcb4673ab2","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/change_request_calendar/change/related/{sys_id}","sys_created_on":"2017-06-27 03:49:37","sys_name":"Related Changes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/0472746e0b2332005775aabcb4673a25","value":"0472746e0b2332005775aabcb4673a25"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3eb7af7f04b12210559073c06a02f7fb","value":"3eb7af7f04b12210559073c06a02f7fb"},"sys_update_name":"sys_ws_operation_bcc2b46e0b2332005775aabcb4673ab2","consumes_customized":"false","name":"Related Changes","produces":"application/json,application/xml,text/xml","relative_path":"/change/related/{sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var inputUsageJsonString = request.body.dataString;\n\ttry{\n\t\tvar parsedData = JSON.parse(inputUsageJsonString);\n\t} catch (ex) {\n\t\tgs.error('Error parsing request data ' + ex.message);\n\t\tresponse.setStatus(400);\n\t\treturn;\n\t}\n\n\tif (!parsedData.usages) {\n\t\tresponse.setStatus(400);\n\t\treturn;\n\t}\n\n\ttry {\n\t\tvar usageHandler = new ActivityPickerPAUsageHandler();\n\t\tif(usageHandler.reportUsage(parsedData)) {\n\t\t\tresponse.setStatus(200);\n\t\t} else {\n\t\t\tresponse.setStatus(500);\n\t\t}\n\t}\n\tcatch (ex) {\n\t\tgs.error('Unable to report usage metrics ' + ex.message);\n\t\tresponse.setStatus(500);\n\t}\n    \n})(request, response);","sys_updated_on":"2024-05-06 20:16:42","enforce_acl":"555200c14302021063c633674bb8f23f,edf960c94342021063c633674bb8f2cd","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"bcedbb7143f7b1106c8f33674bb8f258","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_pa_designer/activity_picker_usage_monitoring","sys_created_on":"2024-01-18 23:12:33","sys_name":"Report Activity Usage","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/1cbdb77143f7b1106c8f33674bb8f2c4","value":"1cbdb77143f7b1106c8f33674bb8f2c4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/903e67b304752210559073c06a02f757","value":"903e67b304752210559073c06a02f757"},"sys_update_name":"sys_ws_operation_bcedbb7143f7b1106c8f33674bb8f258","consumes_customized":"false","name":"Report Activity Usage","produces":"application/json,application/xml,text/xml","relative_path":"/","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // implement resource here\n  var profileId = request.pathParams.profileId;\t\n  var streamName = request.queryParams.stream_name;\n\tvar actSubCtx = ActivitySubscriptionContext.getContext();\n\tif(!actSubCtx.isPluginEnabled()){\n\t\tresponse.setStatus(400);\n\t\treturn {\"status\":400,\n\t\t\t\t\"message\":\"Plugin is disabled please contact system administrator\"};\n\t}\n\n\tvar subscriptionService = actSubCtx.getSubscriptionService();\n\n\tvar result = subscriptionService.getUserStream(profileId, streamName);\n\n\tresponse.setStatus(result.status);\n\tresponse.setContentType('application/json');\n\tresponse.setBody(result);\n})(request, response);","sys_updated_on":"2018-01-31 18:04:10","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/882dfe6853003200fa9bd7b08cc587d5","value":"882dfe6853003200fa9bd7b08cc587d5"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"bd3163c3db813200624273c8f0b8f522","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/actsub/userstream/{profileId}","sys_created_on":"2017-02-24 23:27:09","sys_name":"UserStream","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/aabc7e6853003200fa9bd7b08cc5870f","value":"aabc7e6853003200fa9bd7b08cc5870f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/27dc6bfb04352210559073c06a02f739","value":"27dc6bfb04352210559073c06a02f739"},"sys_update_name":"sys_ws_operation_bd3163c3db813200624273c8f0b8f522","consumes_customized":"false","name":"UserStream","produces":"application/json,application/xml,text/xml","relative_path":"/userstream/{profileId}","produces_customized":"false","default_operation_uri":"/api/now/actsub/userstream/{profileId}","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var supportedTables = [\"par_coreui_migration_bridge_dashboard\", \"par_coreui_migration_bridge_component\", \"par_coreui_migration_bridge_widget\"];\n\n    var alteredColumns = {\n        migration_logs: (gr, key) => {\n            var length = 0;\n            var error;\n            var migrationLogs = gr.getValue(\"migration_logs\");\n\t\t\tif(!migrationLogs) {\n\t\t\t\treturn {length: 0, error: undefined};\n\t\t\t}\n            if(migrationLogs.indexOf(\"[\\\"[<b>Dashboard Migration Logs:</b>,\") === 0) // Is the old format of logs\n              return {length: migrationLogs.split(\",\").length - 1};\n\n            try{\n              var logs = JSON.parse(migrationLogs);\n              length = logs.filter(e => e.level < 3).length; // 3 is marked as the debug level. We don't want to return that\n            }\n            catch(e) {\n              error = e;\n            }\n\n            return {length: length, error: error};\n        }\n    };\n\n    var bridgingTable = request.queryParams.sysparm_bridging_table?.[0];\n    var sysparm_query = request.queryParams.sysparm_query?.[0];\n    var sysparm_fields = request.queryParams.sysparm_fields?.[0]?.split(\",\");\n    var sysparm_limit = parseInt(request.queryParams.sysparm_limit?.[0] ?? \"50\");\n    var sysparm_offset = parseInt(request.queryParams.sysparm_offset?.[0] ?? \"0\");\n\n    if (supportedTables.indexOf(bridgingTable) === -1)\n        return response.setError(new sn_ws_err.BadRequestError('table not supported. supported tables are ' + JSON.stringify(supportedTables)));\n\n\n    // This point onward, should mimic a normal table API, excluding any \"virtually alteredColumns\"\n\n    var dotWalkedFields = sysparm_fields?.filter(e => e.indexOf(\".\") > -1) ?? [];\n\n    var res = {\n        totalRows: 0,\n        rows: [],\n    };\n\n    var dictionaryGr = new GlideRecord(\"sys_dictionary\");\n    dictionaryGr.addQuery(\"name\", bridgingTable);\n    dictionaryGr.addQuery(\"internal_type\", \"reference\");\n    dictionaryGr.query();\n    var isReference = {};\n    while (dictionaryGr.next()) {\n        if (dictionaryGr.getValue(\"element\") === \"\")\n            continue;\n        isReference[dictionaryGr.getValue(\"element\")] = true;\n    }\n\n    var gr = new GlideRecord(bridgingTable);\n    gr.addEncodedQuery(sysparm_query);\n    gr.query();\n    res.totalRows = gr.getRowCount();\n\n    gr.setLimit(sysparm_limit);\n    gr.chooseWindow(sysparm_offset, sysparm_offset + sysparm_limit);\n    gr.query();\n    while (gr.next()) {\n        var r = {};\n        for (var key in gr) {\n            if (sysparm_fields && sysparm_fields.indexOf(key) === -1)\n                continue;\n            if (alteredColumns[key] && typeof alteredColumns[key] === \"function\") {\n                r[key] = alteredColumns[key](gr, key);\n                continue;\n            }\n\n            if (isReference[key]) {\n                r[key] = {\n                    sys_id: gr.getValue(key),\n                    value: gr.getDisplayValue(key),\n                };\n            } else {\n                r[key] = gr.getDisplayValue(key);\n            }\n        }\n        for (var field of dotWalkedFields) {\n            var split = field.split(\".\");\n            var current = gr;\n            for (var i = 0;i < split.length;i++) {\n                var fieldSplit = split[i];\n                if (!current || current[fieldSplit] === null)\n                    break;\n                current = current[fieldSplit]\n            }\n            r[field] = current?.getDisplayValue(split[split.length - 1]) ?? null;\n        }\n        res.rows.push(r);\n    }\n\n    return res;\n\n})(request, response);\n","sys_updated_on":"2024-04-24 11:17:49","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"bd70e8f543c54210561a864e3ab8f287","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/par_coreui_migration","sys_created_on":"2024-03-20 10:22:16","sys_name":"Get Migration Bridging Records","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f5bcb01c58e91bb9a6845604a7f0eff3","value":"f5bcb01c58e91bb9a6845604a7f0eff3"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/572fa9d4a31531108d80ad2f241e6172","value":"572fa9d4a31531108d80ad2f241e6172"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"8","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f5bcb01c58e91bb9a6845604a7f0eff3","value":"f5bcb01c58e91bb9a6845604a7f0eff3"},"sys_update_name":"sys_ws_operation_bd70e8f543c54210561a864e3ab8f287","consumes_customized":"false","name":"Get Migration Bridging Records","produces":"application/json,application/xml,text/xml","relative_path":"/","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar util = new InteractiveAnalysisUtil();\n\ttry {\n\t\treturn util.saveDefaultValues(request.pathParams.tableName, request.queryParams, request.body.data, response);\n\t} catch (e) {\n\t\treturn util.restErrorHandler(e, response);\n\t}\n})(request, response);","sys_updated_on":"2017-05-12 06:23:40","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/bc1f8077c7223200b0ea8b3c5c976365","value":"bc1f8077c7223200b0ea8b3c5c976365"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"bdcf4877c7223200b0ea8b3c5c97637d","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/v1/interactive_analysis/table/{tableName}","sys_created_on":"2017-05-12 05:28:12","sys_name":"Save Preference Values","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/354d4837c7223200b0ea8b3c5c976356","value":"354d4837c7223200b0ea8b3c5c976356"},"consumes":"application/json","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5c8b63f304352210559073c06a02f797","value":"5c8b63f304352210559073c06a02f797"},"sys_update_name":"sys_ws_operation_bdcf4877c7223200b0ea8b3c5c97637d","consumes_customized":"false","name":"Save Preference Values","produces":"application/json","relative_path":"/table/{tableName}","produces_customized":"false","default_operation_uri":"/api/now/interactive_analysis/table/{tableName}","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n\tvar meetingId = request.pathParams.meetingId;\n\tvar freetextQuery = request.pathParams.freetextQuery;\n\tif (!meetingId || !freetextQuery)\n\t\treturn new sn_ws_err.BadRequestError(\"CAB Meeting id or freetext query not provided\");\n\t\n\tvar meetingGr = new GlideRecord(CAB.MEETING);\n\tif (!meetingGr.get(meetingId))\n\t\treturn new sn_ws_err.NotFoundError(\"CAB Meeting not found\");\n\t\n\tvar attendeeResult = new CABMeeting(meetingGr).searchAttendees(freetextQuery);\n\t\n\tresponse.setBody(attendeeResult);\n})(request, response);","sys_updated_on":"2019-08-22 12:15:54","enforce_acl":"ee9fb61a232303001488dc1756bf658b","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"be712dcdc793330034d1f8d07a9763aa","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_change_cab/cab/attendee/{meetingId}/search/{freetextQuery}","sys_created_on":"2019-08-14 13:51:11","sys_name":"Attendee Search","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/cf65d305eb10220034d1eeea1206fe55","value":"cf65d305eb10220034d1eeea1206fe55"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_update_name":"sys_ws_operation_be712dcdc793330034d1f8d07a9763aa","consumes_customized":"false","name":"Attendee Search","produces":"application/json,application/xml,text/xml","relative_path":"/attendee/{meetingId}/search/{freetextQuery}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n\tvar startDate = request.pathParams.startDate;  //Expects UTC ms\n\tvar endDate = request.pathParams.endDate; // Expects UTC ms\n\t\n\tif (isNaN(startDate) || isNaN(endDate))\n\t\treturn new sn_ws_err.BadRequestError(\"Requires start and end dates in UTC ms\");\n\t\n\tvar startDateTime = new GlideDateTime();\n\tstartDateTime.setValue(parseInt(startDate));\n\tvar endDateTime = new GlideDateTime();\n\tendDateTime.setValue(parseInt(endDate));\n\t\n\tvar enqAgQry = \"cab_meeting.start>=\" + startDateTime + \"^cab_meeting.start<\" + endDateTime + \"^NQcab_meeting.end>=\" + startDateTime + \"^cab_meeting.end<\" + endDateTime;\n\tvar agendaItemAg = new GlideAggregate(CAB.AGENDA_ITEM);\n\tagendaItemAg.addAggregate(\"COUNT\");\n\tagendaItemAg.addEncodedQuery(enqAgQry);\n\tagendaItemAg.groupBy(CAB.MEETING);\n\tagendaItemAg.orderBy(CAB.MEETING);\n\tagendaItemAg.query();\n\t\n\tvar agendaCount = {};\n\twhile (agendaItemAg.next())\n\t\tagendaCount[agendaItemAg.cab_meeting+\"\"] = agendaItemAg.getAggregate(\"COUNT\");\n\t\n\n\tvar enqQry = \"start>=\" + startDateTime + \"^start<\" + endDateTime + \"^NQend>=\" + startDateTime + \"^end<\" + endDateTime;\n\tmeetingGr = new GlideRecord(CAB.MEETING);\n\tmeetingGr.addEncodedQuery(enqQry);\n\tmeetingGr.addQuery(\"state\", \"!=\", CAB.MEETING_STATE.CANCELED);\n\tmeetingGr.orderBy(\"start\");\n\tmeetingGr.orderBy(\"end\");\n\tmeetingGr.query();\n\t\n\tvar meeting = new CABMeeting(meetingGr);\n\t\n\tvar result= [];\n\t\n\twhile(meetingGr.next()) {\n\t\tvar jsonMeeting = meeting.toJS();\n\t\t\n\t\tif (typeof agendaCount[meeting.getValue(\"sys_id\")+\"\"] !== \"undefined\") {\n\t\t\tjsonMeeting.hasAgendaItems = true;\n\t\t\tjsonMeeting.agendaItemCount = agendaCount[meeting.getValue(\"sys_id\")+\"\"];\n\t\t}\n\t\telse\n\t\t\tjsonMeeting.hasAgendaItems = false;\n\t\t\n\t\tresult.push(jsonMeeting);\n\t}\n\t\n\tresponse.setBody(result);\n\n})(request, response);","sys_updated_on":"2018-01-11 15:40:57","enforce_acl":"ee9fb61a232303001488dc1756bf658b","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"be7e1f82eb11220034d1eeea1206fe96","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_change_cab/cab/meeting/calendar/{startDate}/{endDate}","sys_created_on":"2016-08-19 10:30:39","sys_name":"Meeting Calendar","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/cf65d305eb10220034d1eeea1206fe55","value":"cf65d305eb10220034d1eeea1206fe55"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"40","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_update_name":"sys_ws_operation_be7e1f82eb11220034d1eeea1206fe96","consumes_customized":"false","name":"Meeting Calendar","produces":"application/json,application/xml,text/xml","relative_path":"/meeting/calendar/{startDate}/{endDate}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        \n        let dataToSend = new UXAHandler().handleMetadataRequest(request.body?.data);\n\n        response.setStatus(200);\n        response.setBody(dataToSend);\n    } catch (ex) {\n        gs.error(\"Error while fetching data for filters\");\n        gs.error(ex.stack);\n        response.setStatus(500);\n        response.setBody({\n            'error': \"Error occured while fecthing data\"\n        });\n    }\n\n})(request, response);","sys_updated_on":"2024-09-17 16:43:16","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/d93d4288ffe7c21024f4ffffffffff52","value":"d93d4288ffe7c21024f4ffffffffff52"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"bea02538ffbe421024f4ffffffffff3e","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_uxa_req_manager/v1/uxa_data/metadata","sys_created_on":"2024-06-12 12:23:29","sys_name":"Metadata","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/e9f5c0d20b620210e8a937009777b2d7","value":"e9f5c0d20b620210e8a937009777b2d7"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_update_name":"sys_ws_operation_bea02538ffbe421024f4ffffffffff3e","consumes_customized":"false","name":"Metadata","produces":"application/json,application/xml,text/xml","relative_path":"/metadata","produces_customized":"false","default_operation_uri":"/api/sn_uxa_req_manager/uxa_data/metadata","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar maxDateRangeDaysDuration = parseInt(gs.getProperty(\"com.snc.on_call_rotation.calendar_span.max_date_range_days\", \"30\"));\n\tvar coverageDateDiff = gs.dateDiff(request.queryParams.start_date, request.queryParams.end_date, true);\n\tif (JSUtil.nil(coverageDateDiff)) {\n\t\tthrow \"Invalid extra time spans\";\n\t}\n\tvar providedCoverageDuration = parseInt(coverageDateDiff / (24 * 60 * 60));\n\tif (providedCoverageDuration > maxDateRangeDaysDuration) {\n\t\tthrow \"Can not provide extra time for more than \" + maxDateRangeDaysDuration + \" consecutive days.\";\n\t}\n\treturn new OCAddItem()\n\t\t.setStartDateTime(request.queryParams.start_date)\n\t\t.setEndDateTime(request.queryParams.end_date)\n\t\t.setRotaSysId(request.queryParams.rota_id)\n\t\t.addExtraCoverage();\n})(request, response);","sys_updated_on":"2019-03-20 10:21:53","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"bf2e5ca1c3301200b6dcdfdc64d3ae78","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/addextracoverage","sys_created_on":"2016-01-06 14:31:05","sys_name":"addExtraCoverage","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"14","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_bf2e5ca1c3301200b6dcdfdc64d3ae78","consumes_customized":"false","name":"addExtraCoverage","produces":"application/json,application/xml,text/xml","relative_path":"/addextracoverage","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\n\tvar message;\n\tvar sysId = request.queryParams.sys_id;\n\tvar entityType = request.queryParams.type;\n\tvar parser = new sn_impex.GlideExcelParser();\n\tvar success = parser.parseFormData(request.body.dataStream);\n\tvar uploadRecipients = {};\n\tvar body = {};\n\t\tif(success){\n\t\t\t\n\t\t\t\tvar columnHeaders = parser.getColumnHeaders();\n\t\t\t\t//body[\"headers\"] = columnHeaders;\n\t\t\t\t\n\t\t\t\t//Initialize return object\n\t\t\t\tfor (var i = 0; i < columnHeaders.length; i++) {\n\t\t\t\t\tuploadRecipients[columnHeaders[i]] = [];\n\t\t\t\t}\n\t\t\t\tvar count = 0;\n\t\t\t\tvar firstHeader = columnHeaders[0];\n\t\t\t\tvar searchList = [];\n\t\t\t\tvar showErrMsg = false;\n\t\t\t\tvar validLine;\n\t\t\t\t\n\t\t\t\tif (columnHeaders) {\n\t\t\t\t\twhile(parser.next()) {\n\t\t\t\t\t\tbody['row'+count] = parser.getRow();\n\t\t\t\t\t\tvar cur = body['row'+count];\n\t\t\t\t\t\tvalidLine = false;\n\t\t\t\t\t\tfor (var j = 0; j < columnHeaders.length; j++) {\n\t\t\t\t\t\t\tif (columnHeaders[j] && cur != null && !gs.nil(cur[columnHeaders[j]])) {\n\t\t\t\t\t\t\t\tuploadRecipients[columnHeaders[j]].push(cur[columnHeaders[j]]+\"\");\n\t\t\t\t\t\t\t\tvalidLine = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(validLine)\n\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t}\n\t\t\t\t} else\n\t\t\t\tshowErrMsg = true;\n\t\t\t\tvar res = {};\n\t\t\t\t\tvar validateMap = new RecipientListUploadProcessor().validateUploadOperation(body, entityType[0],count);\n\t\t\t\t\t\n\t\t\t\t\tres[\"totalRecords\"] = validateMap[\"totalRecords\"];\n\t\t\t\t\tres[\"validRecords\"] = validateMap[\"validRecords\"];\n\t\t\t\t\tres[\"invalidRecords\"] = validateMap[\"invalidRecords\"];\n\t\t\t\t\tres[\"validSysIds\"] = validateMap[\"validSysIds\"];\n\t\t\t\t\tres[\"recipientm2mTable\"] = validateMap[\"recipientm2mTable\"];\n\t\t\t\t\tresponse.setStatus(200);\n\t\t\t\t\tresponse.setBody(res);\n\t\t\t\t} else {\n\t\t\t\t\tmessage = \"Parse Failed : \" + parser.getErrorMessage();\n\t\t\t\t\tresponse.setContentType('text/plain');\n\t\t\t\t\tresponse.getStreamWriter().writeString(message);\n\t\t\t\t\tresponse.setStatus(400);\n\t\t\t\t}\n\t\t\t})(request, response);","sys_updated_on":"2018-03-16 00:11:59","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"bf3c49bf87e30300d99a8467a7cb0b5f","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_publications/recipients_list_rest_api/parse_recipient_list","sys_created_on":"2018-01-15 23:04:53","sys_name":"Parse Recipient List","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/0fdd6483d72302004f1e82285e61033a","value":"0fdd6483d72302004f1e82285e61033a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/61dbc5bf87e30300d99a8467a7cb0b85","value":"61dbc5bf87e30300d99a8467a7cb0b85"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"27","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0fdd6483d72302004f1e82285e61033a","value":"0fdd6483d72302004f1e82285e61033a"},"sys_update_name":"sys_ws_operation_bf3c49bf87e30300d99a8467a7cb0b5f","consumes_customized":"false","name":"Parse Recipient List","produces":"application/json,application/xml,text/xml","relative_path":"/parse_recipient_list","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var return_obj = {};\n\n    try {\n        return_obj.plugin_installation_status = new PDFtoTableOperationHelper().isPdfToTableFeatureEnable() || false;\n        response.setStatus(200);\n        return_obj.status = \"success\";\n        return_obj.message = \"Successfully fetched plugin status.\";\n    } catch (e) {\n        response.setStatus(500);\n        return_obj.status = \"error\";\n        return_obj.message = \"Error occured while checking plugin status.\";\n    }\n\n    response.setBody(return_obj);\n\n})(request, response);","sys_updated_on":"2022-07-14 07:18:59","enforce_acl":"f7e62b5f97e415108843f73ef053af30","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"bfdbe47f97a455108843f73ef053afd3","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_pdf_table_bldr/app/check_plugin_status","sys_created_on":"2022-07-14 07:15:23","sys_name":"Check plugin status","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/8e417ee064982b70a7bd187e6edb95f1","value":"8e417ee064982b70a7bd187e6edb95f1"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/16652f5b97e415108843f73ef053af22","value":"16652f5b97e415108843f73ef053af22"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8e417ee064982b70a7bd187e6edb95f1","value":"8e417ee064982b70a7bd187e6edb95f1"},"sys_update_name":"sys_ws_operation_bfdbe47f97a455108843f73ef053afd3","consumes_customized":"false","name":"Check plugin status","produces":"application/json,application/xml,text/xml","relative_path":"/check_plugin_status","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var TABLES = {\n        INCIDENT: \"incident\",\n        OUTAGE: \"cmdb_ci_outage\",\n        TASK_OUTAGE: \"task_outage\"\n    };\n\n    /**\n     * actionId: search UI Action's unique ID\n     * incidentId: sys_id of Incident record which has search term\n     * outageId: sys_id of Outage record which is the search result\n     * actionStage: to indicate whether this request is sent before or after modal\n     */\n\n    var actionId = request.body.data.actionId;\n    var incidentId = request.body.data.currentId;\n    var outageId = request.body.data.resourceId;\n    var actionStage = request.body.data.actionStage;\n    var body = {};\n\n    /**\n     * action_id (mandatory): search UI Action's unique ID, AS/AI will use it to determine how to handle result\n     * item_id (optional): \"table_name:record_id\", having this tells AS/AI to refresh child record's UI Action list due to link action's change on child record\n     * succeed (mandatory): indicates link action is successfully done or not for non-rest call's\n     * successful (mandatory): indicates link action is successfully done or not for rest call's\n     * message (optional): shows on top of the form after action is performed\n     */\n\t\n\tvar message = '';\n\n    if (!gs.hasRole('itil,sn_incident_write')) {\n        message = gs.getMessage(\"Roles are insufficient to perform the action\");\n        setResponse(false, message);\n        return response.setBody(body);\n    }\n\n    var outageGr = new GlideRecord(TABLES.OUTAGE);\n    if (!outageGr.get(outageId)) {\n        message = gs.getMessage(\"Invalid Outage record\");\n        setResponse(false, message);\n        return response.setBody(body);\n    }\n\n    var incidentGr = new GlideRecord(TABLES.INCIDENT);\n    if (!incidentGr.get(incidentId)) {\n        message = gs.getMessage(\"Invalid Incident record\");\n        setResponse(false, message);\n        return response.setBody(body);\n    }\n\n    var errMsg = gs.getMessage('Linking \"Outage\" record to {0} has failed', incidentGr.getDisplayValue());\n    var infoMsg = gs.getMessage('{0} has been linked to {1}.', [outageGr.getDisplayValue('number'), incidentGr.getDisplayValue('number')]);\n\n    body.action_id = actionId;\n    body.item_id = TABLES.INCIDENT + \":\" + incidentGr.getUniqueValue();\n\n    if (actionId.includes('rest')) {\n        if (actionStage === 'pre_modal') {\n            body.successful = true;\n            body.useModal = true;\n            body.modalTitle = gs.getMessage('Link to incident');\n            body.errMsg = errMsg;\n            body.modalInfoMsg = gs.getMessage('You are linking the current {0} to {1}', [outageGr.getDisplayValue('number'), incidentGr.getDisplayValue('number')]);\n            body.modalFields = [{\n                label: gs.getMessage('{0} (Private)', incidentGr.work_notes.getLabel()),\n                name: 'work_notes',\n                value: '',\n                fieldType: 'textarea'\n            }, {\n                label: gs.getMessage('{0} (Customer visible)', incidentGr.comments.getLabel()),\n                name: 'comments',\n                value: '',\n                fieldType: 'textarea'\n            }];\n            body.updateCurrentRecord = false;\n            body.postModalRestRequired = true;\n            return response.setBody(body);\n        } else if (actionStage === 'post_modal') {\n            if (createTaskOutage(outageId, incidentId)) {\n                body.useModal = false;\n                body.updateCurrentRecord = true;\n                setResponse(true, infoMsg);\n            } else {\n                setResponse(false, errMsg);\n            }\n            return response.setBody(body);\n        }\n    }\n\n    if (!createTaskOutage(outageId, incidentId)) {\n        setResponse(false, errMsg);\n    } else {\n        setResponse(true, infoMsg);\n    }\n\t\n    return response.setBody(body);\n\n    function setResponse(success, message) {\n        if (actionId.includes('rest')) {\n            body.successful = success;\n            if (success) {\n                body.infoMsg = message;\n            } else {\n                body.errMsg = message;\n            }\n        } else {\n            body.succeed = success;\n            body.message = message;\n        }\n        return;\n    }\n\n    function createTaskOutage(outageId, incidentId) {\n        var taskOutageGr = new GlideRecord(\"task_outage\");\n        taskOutageGr.initialize();\n        taskOutageGr.setValue(\"outage\", outageId);\n        taskOutageGr.setValue(\"task\", incidentId);\n        return taskOutageGr.insert();\n\n    }\n\n})(request, response);","sys_updated_on":"2020-11-12 07:54:27","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"c0168ad753c333005e32ddeeff7b123b","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/cxs_actions/link_inc_to_outage","sys_created_on":"2019-08-09 06:02:07","sys_name":"link_inc_to_outage","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5f387aa0b32023002bf182c136a8dc1c","value":"5f387aa0b32023002bf182c136a8dc1c"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"24","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/d81b6b3304352210559073c06a02f76e","value":"d81b6b3304352210559073c06a02f76e"},"sys_update_name":"sys_ws_operation_c0168ad753c333005e32ddeeff7b123b","consumes_customized":"false","name":"link_inc_to_outage","produces":"application/json,application/xml,text/xml","relative_path":"/link_inc_to_outage","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    try {\n        var clientType = request.pathParams.clientType;\n        var inboundId = request.pathParams.externalId;\n        var SLACK_PROVIDER_SYSID = '41a04c42731210104049dec2c4f6a706';\n\n        var current = new GlideRecord('sys_cs_provider_application');\n        current.addQuery('inbound_id', inboundId);\n        current.addQuery('provider', SLACK_PROVIDER_SYSID);\n        current.query();\n        if (current.next()) {\n            var req = new sn_ws.RESTMessageV2();\n            req.setEndpoint('https://slack.com/api/team.info');\n            req.setHttpMethod('get');\n            var e = new GlideEncryptionUtil();\n            var authToken = e.getClearPassword2('token_verification', 'token', current.message_auth.outbound_message_creation);\n            if (JSUtil.notNil(authToken))\n                req.setRequestHeader('Authorization', 'Bearer ' + authToken);\n            var resp = req.execute();\n            return JSON.parse(resp.getBody()).team.name;\n        }\n    } catch (ex) {\n        gs.error('Error getting slack team info: ' + ex.getMessage());\n    }\n})(request, response);","sys_updated_on":"2023-04-06 09:29:03","enforce_acl":"0c264b08c3d16110bf30c265cb40dda4","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"c0233c4e5f1323006e619c4f2f73131c","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/slack_team_name/{clientType}/{externalId}","sys_created_on":"2019-01-30 16:51:59","sys_name":"slack_team_name","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/2b03f84e5f1323006e619c4f2f73137f","value":"2b03f84e5f1323006e619c4f2f73137f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/14c37b3704b52210559073c06a02f782","value":"14c37b3704b52210559073c06a02f782"},"sys_update_name":"sys_ws_operation_c0233c4e5f1323006e619c4f2f73131c","consumes_customized":"false","name":"slack_team_name","produces":"application/json,application/xml,text/xml","relative_path":"/{clientType}/{externalId}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var receivedParams = request.pathParams;\n    var currentRecordTable = receivedParams.table_name;\n    var currentRecordSysId = receivedParams.sys_id;\n\n    response.setContentType('application/json');\n\n    if (!sn_nb_action.NextBestActionUtil.isValidString(currentRecordSysId) || !sn_nb_action.NextBestActionUtil.isValidString(currentRecordTable))\n        response.setError(new sn_ws_err.BadRequestError(gs.getMessage('Missing required parameters')));\n    else {\n        try {\n\n            var current = new sn_nb_action.NextBestActionUtil.getNextBestActionDAO().getSecureTableRecordBySysId(currentRecordTable,currentRecordSysId);\n            if (!current) {\n                response.setError(new sn_ws_err.BadRequestError(gs.getMessage('Invalid parameters')));\n                return;\n            }\n\n\n            var nbaService = new sn_nb_action.NextBestActionService();\n            var result = nbaService.getActions(current);\n            if (result) {\n                response.setBody(result);\n                response.setStatus(200);\n            } else {\n                var errObj = new sn_ws_err.ServiceError();\n                errObj.setStatus(500);\n                errObj.setMessage(gs.getMessage('Error getting actions'));\n                errObj.setDetail(gs.getMessage('Refer error logs for details'));\n                response.setError(errObj);\n            }\n\n        } catch (err) {\n            var customErrObj = new sn_ws_err.ServiceError();\n            customErrObj.setStatus(500);\n            customErrObj.setMessage(gs.getMessage('Error getting actions'));\n            customErrObj.setDetail(gs.getMessage('Refer error logs for details'));\n            response.setError(customErrObj);\n        }\n    }\n\n})(request, response);","sys_updated_on":"2024-06-17 07:41:33","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/5024b34a53c31010763eddeeff7b1289","value":"5024b34a53c31010763eddeeff7b1289"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"c08f296cc7c71010763e343703c260c7","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_nb_action/v1/next_best_action/actions/{table_name}/{sys_id}/get_actions","sys_created_on":"2020-09-01 07:43:42","sys_name":"Get Actions","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/427fe83177221010d7159b71a91061e1","value":"427fe83177221010d7159b71a91061e1"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/95beed2cc7c71010763e343703c2608d","value":"95beed2cc7c71010763e343703c2608d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"17","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/427fe83177221010d7159b71a91061e1","value":"427fe83177221010d7159b71a91061e1"},"sys_update_name":"sys_ws_operation_c08f296cc7c71010763e343703c260c7","consumes_customized":"false","name":"Get Actions","produces":"application/json,application/xml,text/xml","relative_path":"/actions/{table_name}/{sys_id}/get_actions","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar slaTimer = new SLATimer();\n\tvar params = slaTimer.assign({}, request.queryParams, request.body.data);\n\n\tif (!params.task_ids)\n\t\treturn new sn_ws_err.BadRequestError('Could not retrieve sla timer data because [task_ids] not provided.');\n\n\treturn slaTimer.get(params);\n})(request, response);","sys_updated_on":"2020-04-01 10:19:34","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/7e3de07253130010a393ddeeff7b1250","value":"7e3de07253130010a393ddeeff7b1250"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"c09b0d38531200100999ddeeff7b12e5","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_slm_timer/v1/sla/timer","sys_created_on":"2020-01-09 20:48:28","sys_name":"Task SLA Timer","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/76d8e8b253320010a393ddeeff7b127b","value":"76d8e8b253320010a393ddeeff7b127b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/a3d5e8ba57530010a3933da73d94f9e3","value":"a3d5e8ba57530010a3933da73d94f9e3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/76d8e8b253320010a393ddeeff7b127b","value":"76d8e8b253320010a393ddeeff7b127b"},"sys_update_name":"sys_ws_operation_c09b0d38531200100999ddeeff7b12e5","consumes_customized":"false","name":"Task SLA Timer","produces":"application/json,application/xml,text/xml","relative_path":"/timer","produces_customized":"false","default_operation_uri":"/api/sn_slm_timer/sla/timer","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar meetingId = request.pathParams.meetingId;\n\t\n\tif (!meetingId) \n\t\treturn new sn_ws_err.BadRequestError(\"CAB Meeting id not provided\");\n\t\n\tvar cabMeetingGr = new GlideRecord(CAB.MEETING);\n\tif (!cabMeetingGr.get(meetingId))\n\t\treturn new sn_ws_err.NotFoundError(\"Requested CAB Meeting not found\");\n\t\n\tvar runtimeState = CABRuntimeState.get(meetingId);\n\tif (!runtimeState)\n\t\treturn new sn_ws_err.NotFoundError(\"Requested CAB Meeting not found\");\n\t\n\tvar cabMeeting = new CABMeeting(cabMeetingGr);\n\tvar agendaState = cabMeeting.getInitialAgendaState();\n\tvar attendeeData = cabMeeting.getAttendeeUserSysIds();\n\t\n\tvar rs = runtimeState.toJS();\n\trs.cab_meeting.record = cabMeeting.toJS();\n\trs.request_time_ms = (new GlideDateTime()).getNumericValue();\n\t\n\tresponse.setBody({\n\t\t\"runtime_state\": rs,\n\t\t\"agenda\": agendaState,\n\t\t\"attendee\": attendeeData\n\t});\n})(request, response);","sys_updated_on":"2023-12-22 12:02:42","enforce_acl":"ee9fb61a232303001488dc1756bf658b","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"c0a664a7c743001034d1f8d07a97637b","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_change_cab/cab/initial/{meetingId}","sys_created_on":"2020-02-24 14:01:15","sys_name":"GET Initial Load","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/cf65d305eb10220034d1eeea1206fe55","value":"cf65d305eb10220034d1eeea1206fe55"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_update_name":"sys_ws_operation_c0a664a7c743001034d1f8d07a97637b","consumes_customized":"false","name":"GET Initial Load","produces":"application/json,application/xml,text/xml","relative_path":"/initial/{meetingId}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var importantActionsUtil = new sn_cmdb_ws.CMDBWSImportantActionsUtil();\n\treturn importantActionsUtil.getImportantActionConfigs();\n\n})(request, response);","sys_updated_on":"2023-05-15 04:55:05","enforce_acl":"39a22ab60735011017b703767cd30036","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"c0b87af977322110ee0d0cc2fa5a994d","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_cmdb_ws/cmdb_workspace_api_scoped/imp_action_config","sys_created_on":"2023-05-15 04:55:05","sys_name":"Get Important Action Configs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3ff417b78f3f2010960c53ac37bdeefb","value":"3ff417b78f3f2010960c53ac37bdeefb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_update_name":"sys_ws_operation_c0b87af977322110ee0d0cc2fa5a994d","consumes_customized":"false","name":"Get Important Action Configs","produces":"application/json,application/xml,text/xml","relative_path":"/imp_action_config","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Get proeprteis of service for current/history map view.","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n/**\nParams:\n\tbsId (sys_id)\n\thistoryTimestamp (optional number ms)\n*/\n    var saOpsWrapper = new SaOperationsWrapper(SNC.SaActionsHandler);\n\tsaOpsWrapper.process(request,response, \"bsData\");\n\n})(request, response);","sys_updated_on":"2018-03-11 12:42:53","enforce_acl":"ea4f3ae287132200b5bea18dd0e3eceb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"c17be6137f520300995cbaf8befa91a7","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/it_service/bsData","sys_created_on":"2017-11-13 13:25:31","sys_name":"BsData - Internal API","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3418e25f7f120300995cbaf8befa912e","value":"3418e25f7f120300995cbaf8befa912e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_c17be6137f520300995cbaf8befa91a7","consumes_customized":"false","name":"BsData - Internal API","produces":"application/json,application/xml,text/xml","relative_path":"/bsData","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar table = request.pathParams.table || '';\n\tif (!table)\n\t\treturn new sn_ws_err.BadRequestError('Table not provided');\n\n\tvar sysId = request.pathParams.sys_id || '';\n\tif (!sysId)\n\t\treturn new sn_ws_err.BadRequestError('Task Sys ID not provided');\n\n\tif (!gs.tableExists(table))\n\t\treturn new sn_ws_err.BadRequestError('Invalid Tablename provided');\n\n\tvar gr = new GlideRecordSecure(table);\n\tgr.addQuery('sys_id', sysId);\n\tgr.query();\n\tif (!gr.next())\n\t\treturn new sn_ws_err.NotFoundError('Record not found');\n\n\ttry {\n\t\tnew global.TaskUtils().triggerRefreshImpactedServices(gr, true);\n\t\treturn {\n\t\t\t'status': 'success',\n\t\t\t'message': gs.getMessage('Refresh impacted services has been initiated') || ''\n\t\t};\n\t} catch (err) {\n\t\treturn new sn_ws_err.NotFoundError('Failed to initiate Refresh impacted services');\n\t}\n\n})(request, response);","sys_updated_on":"2021-11-22 20:52:49","enforce_acl":"f5416e6c53000110532cddeeff7b1283","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"c1a8766f53333010532cddeeff7b120c","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_sow_itsm_common/task/{table}/{sys_id}/refresh_impacted_services","sys_created_on":"2021-11-19 19:56:18","sys_name":"Refresh Impacted Services","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/0eef12637311301045216238edf6a75e","value":"0eef12637311301045216238edf6a75e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/e5187e2f53333010532cddeeff7b1283","value":"e5187e2f53333010532cddeeff7b1283"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"12","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0eef12637311301045216238edf6a75e","value":"0eef12637311301045216238edf6a75e"},"sys_update_name":"sys_ws_operation_c1a8766f53333010532cddeeff7b120c","consumes_customized":"false","name":"Refresh Impacted Services","produces":"application/json,application/xml,text/xml","relative_path":"/{table}/{sys_id}/refresh_impacted_services","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    try {\n        const data = new UXAHandler().handleDARequest(request.body?.data);\n        response.setContentType('application/json');\n        response.setBody(data);\n        response.setStatus(200);\n    } catch (err) {\n        const serviceError = new UXAUtils().generateErrorObject(err);\n        response.setError(serviceError);\n        response.setStatus(err?.statusCode || 500);\n    }\n    return response;\n})(request, response);","sys_updated_on":"2024-10-06 13:31:53","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/d93d4288ffe7c21024f4ffffffffff52","value":"d93d4288ffe7c21024f4ffffffffff52"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"c1d6c4160b620210e8a937009777b2f3","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_uxa_req_manager/v1/uxa_data/par","sys_created_on":"2024-06-04 11:21:10","sys_name":"PAR","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/e9f5c0d20b620210e8a937009777b2d7","value":"e9f5c0d20b620210e8a937009777b2d7"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"false","sys_mod_count":"28","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_update_name":"sys_ws_operation_c1d6c4160b620210e8a937009777b2f3","consumes_customized":"false","name":"PAR","produces":"application/json,application/xml,text/xml","relative_path":"/par","produces_customized":"false","default_operation_uri":"/api/sn_uxa_req_manager/uxa_data/par","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n\t\tconst {source} = request.pathParams;\n\t\tconst options = request.body.data;\n\t\treturn new WebToMobileComponentService().transform(source, options);\n    } catch (error) {\n\t\tconst customErrorHandler = new CustomErrorHandler(`REST API: ${request.uri}`);\n\t\tcustomErrorHandler.throwSnWsError(error);\n    }\n})(request, response);\n","sys_updated_on":"2024-10-23 19:50:33","enforce_acl":"4bbe81b4c703201066492f3bf4c260e6","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"c275d0a37f1112100911658f6d8665fc","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_mab_api/mab_api/transformWebToMobileComponent/{source}","sys_created_on":"2024-10-23 02:30:19","sys_name":"Transform Web To Mobile Component","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3512bd93c7c12010100f2f3bf4c26049","value":"3512bd93c7c12010100f2f3bf4c26049"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_update_name":"sys_ws_operation_c275d0a37f1112100911658f6d8665fc","consumes_customized":"false","name":"Transform Web To Mobile Component","produces":"application/json,application/xml,text/xml","relative_path":"/transformWebToMobileComponent/{source}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar errors = CollabTaskConstants.errors;\n    var appId = request.pathParams.application_sys_id;\n\t\n\tif (!appId) {\n      throw new sn_ws_err.ServiceError()\n\t\t\t.setStatus(statusCodes.BAD_REQUEST)\n\t\t\t.setMessage(gs.getMessage(\"Missing App Id\"));\n    }\n\t\n\tvar result = CollabTaskService.getPendingCollaborators(appId);\n\tresponse.setBody(result.body);\n\tresponse.setStatus(result.status);\n\n})(request, response);","sys_updated_on":"2021-08-02 21:06:17","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/d9914356c3113010a9f5e548fa40ddbd","value":"d9914356c3113010a9f5e548fa40ddbd"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"c2cf1448c3ad341085c091294440dde0","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_collab_request/v1/collaboration_tasks_api/pending_collaborators/app/{application_sys_id}","sys_created_on":"2021-07-19 16:41:01","sys_name":"Get Pending Collaborators","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/6adeae39c3013010a9f5e548fa40dd4e","value":"6adeae39c3013010a9f5e548fa40dd4e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"sys_update_name":"sys_ws_operation_c2cf1448c3ad341085c091294440dde0","consumes_customized":"false","name":"Get Pending Collaborators","produces":"application/json,application/xml,text/xml","relative_path":"/pending_collaborators/app/{application_sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(request, response) {\n    var appId = request.pathParams.appId;\n\n    ScopeCheck.verifyNotGlobal(appId);\n\n\tvar allowed = VCSAppAccessCheck.verifyReadAccess(appId) && (VCSAppAccessCheck.verifyPublishAccess(appId) || VCSAppAccessCheck.isGACOrSourceControlUser() || VCSAppAccessCheck.verifyVersionControlAccess(appId));\n\n    if (!allowed) \n\t\tVCSAppAccessCheck.throwAccessDenied(appId);\n\n    var isFound =\n        typeof sn_vcs !== 'undefined' &&\n        typeof sn_vcs.AppSourceControl !== 'undefined' &&\n        sn_vcs.AppSourceControl.isInSourceControl(appId);\n\n    response.setBody({\n        found: isFound\n    });\n    response.setStatus(200);\n    response.setContentType('application/json');\n})(request, response);","sys_updated_on":"2022-05-09 21:06:52","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"c2ea9a3c37330200612747efbe41f1f0","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/apps/{appId}/status","sys_created_on":"2015-11-15 22:40:25","sys_name":"Is In Repository","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"27","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_c2ea9a3c37330200612747efbe41f1f0","consumes_customized":"false","name":"Is In Repository","produces":"application/json,application/xml,text/xml","relative_path":"/apps/{appId}/status","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/apps/{appId}/status","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // implement resource here\n\tvar tokenType = request.pathParams.token_type;\n\tvar name = request.queryParams[\"name\"] && request.queryParams[\"name\"][0];\n\tvar result;\n\tif(name)\n\t\tresult = new SNC.GlideScriptEditorContextMenuUtil().getSysIdForName(tokenType, name);\n\telse\n\t\tresult = new SNC.GlideScriptEditorContextMenuUtil().getCachedTokens(tokenType);\n\n\tresponse.setBody({'result':result});\n\tresponse.setStatus(200);\n\n})(request, response);","sys_updated_on":"2019-03-14 05:30:12","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a25b4ce37303230010d533083cf6a72d","value":"a25b4ce37303230010d533083cf6a72d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"c3abcce37303230010d533083cf6a770","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/syntax_editor/cache/{token_type}","sys_created_on":"2019-01-22 19:36:00","sys_name":"Tokens cache","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/dc4bc0e37303230010d533083cf6a7ed","value":"dc4bc0e37303230010d533083cf6a7ed"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/450423f704312210559073c06a02f741","value":"450423f704312210559073c06a02f741"},"sys_update_name":"sys_ws_operation_c3abcce37303230010d533083cf6a770","consumes_customized":"false","name":"Tokens cache","produces":"application/json,application/xml,text/xml","relative_path":"/cache/{token_type}","produces_customized":"false","default_operation_uri":"/api/now/syntax_editor/cache/{token_type}","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar requestBody = request.body.nextEntry();\n\treturn new SoCStyleRule().serviceDeleteStyleRule(requestBody.chgSocDefId, requestBody.style, requestBody.records);\n})(request, response);","sys_updated_on":"2018-03-07 13:09:21","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"c4004b57c3401300b6dcdfdc64d3ae93","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_chg_soc/soc/deletestylerule","sys_created_on":"2018-02-08 14:44:19","sys_name":"deleteStyleRule","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3115d45f67020300b410afa00585ef87","value":"3115d45f67020300b410afa00585ef87"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_update_name":"sys_ws_operation_c4004b57c3401300b6dcdfdc64d3ae93","consumes_customized":"false","name":"deleteStyleRule","produces":"application/json,application/xml,text/xml","relative_path":"/deletestylerule","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar data = [];\n\tvar limit;\n\tvar source;\n\tif (!request.queryParams.hasOwnProperty('userId'))\n        return new sn_ws_err.BadRequestError('Missing user id');\n\t\n\tif (request.queryParams.hasOwnProperty('limit'))\n\t\tlimit = request.queryParams['limit'];\n\t\n\tif (!limit || isNaN(limit)) \n\t\tlimit = 5;\n\n\tif (request.queryParams.hasOwnProperty('source'))\n\t\tsource = request.queryParams['source'];\n\n\t\n\tvar nlqQueryLogRecordGR = new GlideRecord('nlq_query_log');\n\tnlqQueryLogRecordGR.addQuery('user', request.queryParams['userId']);\n\tnlqQueryLogRecordGR.addQuery('successful', true);\n\tif (source)\n\t\tnlqQueryLogRecordGR.addQuery('source', source);\n\tnlqQueryLogRecordGR.orderByDesc('sys_created_on');\n\tnlqQueryLogRecordGR.query();\n\t\n\twhile (nlqQueryLogRecordGR.next() && data.length < limit) {\n\t\tvar utterance = nlqQueryLogRecordGR.getValue('utterance');\n\t\tif (data.indexOf(utterance) < 0)\n\t\t\tdata.push(utterance);\n\t}\n\tresponse.setBody(data);\n\tresponse.setStatus(200);\n\n})(request, response);","sys_updated_on":"2022-02-22 14:39:16","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"c54c3a42c7310110f376a0736cc260b6","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/nlq/nlq_query_log","sys_created_on":"2022-02-22 14:23:57","sys_name":"nlq_query_log","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/9c43f242c7310110f376a0736cc26073","value":"9c43f242c7310110f376a0736cc26073"},"consumes":"application/json","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cebd633304752210559073c06a02f7f7","value":"cebd633304752210559073c06a02f7f7"},"sys_update_name":"sys_ws_operation_c54c3a42c7310110f376a0736cc260b6","consumes_customized":"false","name":"nlq_query_log","produces":"application/json","relative_path":"/nlq_query_log","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar userPreferenceSysId = request.queryParams.user_preference_sys_id;\n\tvar ocupGr = new GlideRecord(\"on_call_user_preference\");\n\tif (userPreferenceSysId) {\n\t\tif (!ocupGr.get(userPreferenceSysId + \"\"))\n\t\t\treturn new sn_ws_err.BadRequestError(\"Invalid sys id provided\");\n\t\tif (!ocupGr.getValue('user') == gs.getUserID())\n\t\t\treturn getSecurityConstraintError();\n\t} \n\t// if user prefernce id not provided return first active preference\n\telse { \n\t\tocupGr.addQuery('user', gs.getUserID());\n\t\tocupGr.setLimit(1);\n\t\tocupGr.query();\n\t\tif (!ocupGr.next())\n\t\t\treturn;\n\t}\n\t\n\tvar upUtils = new OnCallUserPreferences();\n\tvar result = {};\n\tresult.userPreferenceDetails = upUtils.getUserPreferenceDetails(ocupGr);\n\tresult.userContactPreferences = upUtils.getUserContactPreferences(ocupGr.sys_id + \"\", gs.getUserID());\n\treturn result;\n\t\n\tfunction getSecurityConstraintError() {\n\t\tvar respError = new sn_ws_err.ServiceError();\n\t\trespError.setStatus(403);\n\t\trespError.setMessage(\"Security constraints prevent access to requested resource\");\n\t\treturn respError;\n\t}\n\t\n})(request, response);","sys_updated_on":"2019-04-10 09:55:09","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"c56fa63b73503300cbb654eb7df6a73c","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/getUserPreference","sys_created_on":"2019-03-27 05:38:03","sys_name":"getUserPreference","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"29","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_c56fa63b73503300cbb654eb7df6a73c","consumes_customized":"false","name":"getUserPreference","produces":"application/json,application/xml,text/xml","relative_path":"/getUserPreference","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","sys_updated_on":"2020-10-07 09:10:36","enforce_acl":"40a12f2bc7231010599ba1e603c260ac","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"c5916ff1c7231010159ca1e603c26019","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/template/{sys_id}/duplicate","sys_created_on":"2020-09-30 09:45:20","sys_name":"Duplicate template","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5a9d2bff04352210559073c06a02f771","value":"5a9d2bff04352210559073c06a02f771"},"sys_update_name":"sys_ws_operation_c5916ff1c7231010159ca1e603c26019","consumes_customized":"false","name":"Duplicate template","produces":"application/json,application/xml,text/xml","relative_path":"/template/{sys_id}/duplicate","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/template/{sys_id}/duplicate","sys_policy":"protected"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n  // Filter/Search/Pagination Query Paramters\n  var pagination = {\n    start: Number(request.queryParams[\"start\"]),\n    size: Number(request.queryParams[\"size\"]),\n  };\n  var requestedFilterApplication = request.queryParams[\"application\"];\n  var requestedFilterApplet = request.queryParams[\"applet\"];\n  var requestedFilterSearch = request.queryParams[\"search\"];\n  var requestedSort = request.queryParams[\"sort\"];\n\n  var itemViewGR = new GlideRecordSecure(\"sys_sg_item_view\");\n\n  // Application Filtering\n  if (requestedFilterApplication) {\n    itemViewGR.addQuery(\"sys_scope\", String(requestedFilterApplication));\n  }\n\n  // Applet Filtering\n  if (requestedFilterApplet) {\n    var screenGr = new GlideRecordSecure(\"sys_sg_screen\");\n    if (screenGr.get(String(requestedFilterApplet))) {\n      var className = screenGr.getValue(\"sys_class_name\");\n      if (\n        className === \"sys_sg_list_screen\" ||\n        className === \"sys_sg_map_screen\"\n      ) {\n        // get mobile view sys id ref\n        // list -> item view -> item view stream -> master item +-> embedded screen\n\n        // sys_sg_list_screen\n        var lsSysId = screenGr.getUniqueValue();\n\n        // sys_sg_item_stream_segment\n        var issGr = new GlideRecordSecure(\"sys_sg_item_stream_segment\");\n        issGr.addQuery(\"screen\", lsSysId);\n        issGr.query();\n        issGr.next();\n        var issSysId = issGr.getUniqueValue();\n\n        // sys_sg_item_stream\n        var m2mIssGr = new GlideRecordSecure(\"sys_sg_item_stream_m2m_segment\");\n        m2mIssGr.addQuery(\"segment\", issSysId);\n        m2mIssGr.query();\n        m2mIssGr.next();\n        var isSysId = m2mIssGr.getValue(\"item_stream\");\n\n        // sys_sg_master_item\n        var m2mIsGr = new GlideRecordSecure(\n          \"sys_sg_item_stream_m2m_master_item\"\n        );\n        m2mIsGr.addQuery(\"item_stream\", isSysId);\n        m2mIsGr.query();\n        m2mIsGr.next();\n        var miSysId = m2mIsGr.getValue(\"master_item\");\n\n        // sys_sg_master_item - view config\n        var miGr = new GlideRecordSecure(\"sys_sg_master_item\");\n        miGr.get(miSysId);\n        var itemViewSysId = miGr.getValue(\"item_view\");\n\n        // sys_sg_form_screen\n        var esSysId = miGr.getValue(\"embedded_screen\");\n        var esGr = new GlideRecordSecure(\"sys_sg_form_screen\"); // it's really a ref to sys_sg_screen\n        esGr.get(esSysId);\n        var secondItemViewSysId = esGr.getValue(\"item_view\");\n\n        var grOR = itemViewGR.addQuery(\"sys_id\", itemViewSysId);\n        grOR.addOrCondition(\"sys_id\", secondItemViewSysId);\n      } else if (className === \"sys_sg_form_screen\") {\n        // sys_sg_form_screen\n        var fGr = new GlideRecordSecure(\"sys_sg_form_screen\"); // it's really a ref to sys_sg_screen\n        fGr.get(screenGr.getUniqueValue());\n\n        var itemViewSysId = fGr.getValue(\"item_view\");\n\n        itemViewGR.addQuery(\"sys_id\", itemViewSysId);\n      }\n    }\n  }\n\n  // Search Filtering\n  if (requestedFilterSearch) {\n    var grORName = itemViewGR.addQuery(\n      \"name\",\n      \"CONTAINS\",\n      String(requestedFilterSearch)\n    );\n    grORName.addOrCondition(\n      \"short_description\",\n      \"CONTAINS\",\n      String(requestedFilterSearch)\n    );\n  }\n\n  // Total Record Count before Pagination\n  // GlideRecord.getRecordCount() does not take into account ACLs, and therefore we do not use it\n  // This has to be done in a second GlideRecordSecure because a subsequent query() does not return records\n  // if the scoped_administration is set to true for the filtering application for the admin user\n  var totalRecordCount = 0;\n  var totalCountItemViewGR = new GlideRecordSecure(\"sys_sg_item_view\");\n  totalCountItemViewGR.addEncodedQuery(itemViewGR.getEncodedQuery());\n  totalCountItemViewGR.query();\n  while (totalCountItemViewGR.next()) {\n    if (totalCountItemViewGR.canRead()) totalRecordCount++;\n  }\n\n  // Sort Filtering\n  if (requestedSort) {\n    switch (String(requestedSort)) {\n      case \"UpdatedDesc\":\n        itemViewGR.orderByDesc(\"sys_updated_on\");\n        break;\n      case \"UpdatedAsce\":\n        itemViewGR.orderBy(\"sys_updated_on\");\n        break;\n      case \"AlphaDesc\":\n        itemViewGR.orderByDesc(\"name\");\n        break;\n      case \"AlphaAsce\": // Default sort\n      default:\n        itemViewGR.orderBy(\"name\");\n    }\n  }\n\n  // Pagination\n  if (!isNaN(pagination.start) && !isNaN(pagination.size)) {\n    itemViewGR.chooseWindow(\n      pagination.start,\n      pagination.start + pagination.size\n    );\n  }\n\n  var itemViews = [];\n  itemViewGR.query();\n  while (itemViewGR.next()) {\n    if (itemViewGR.canRead()) {\n      itemViews.push({\n        sys_id: itemViewGR.getUniqueValue(),\n        name: itemViewGR.getValue(\"name\"),\n        description: itemViewGR.getValue(\"short_description\"),\n        application: itemViewGR.getDisplayValue(\"sys_scope\"),\n        scope: itemViewGR.getValue(\"sys_scope\"),\n        updated: itemViewGR.getValue(\"sys_updated_on\"),\n        type: \"itemView\",\n        item_view_json: itemViewGR.getValue(\"item_view_json\"),\n      });\n    }\n  }\n\n  return {\n    legacyCards: itemViews,\n    totalRecordCount: totalRecordCount,\n    paginationWindow: {\n      size: pagination.size,\n      range: {\n        start: pagination.start + 1,\n        end: pagination.start + pagination.size,\n      },\n      excludedCount: pagination.size - itemViews.length,\n    },\n  };\n})(request, response);\n","sys_updated_on":"2023-03-07 17:07:16","enforce_acl":"cf9d01d3e73003009d6247e603f6a990,d7088c08b751211095411226de11a9e9","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"c5aa857373011010a59b4c5353f6a703","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/mcb/item_view/open_modal","sys_created_on":"2020-06-03 21:16:14","sys_name":"Item View - Open Modal - Get","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/63d8b7c573c51010a59b4c5353f6a737","value":"63d8b7c573c51010a59b4c5353f6a737"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"203","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_update_name":"sys_ws_operation_c5aa857373011010a59b4c5353f6a703","consumes_customized":"false","name":"Item View - Open Modal - Get","produces":"application/json,application/xml,text/xml","relative_path":"/item_view/open_modal","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var controller = new GTStepsController();\n\tvar tourId = request.pathParams.tour_id;\n\t\n\tcontroller.getTourStepsDetails(tourId, function(err, data) {\n\t\tif (err) {\t\t\t\n\t\t\tresponse.setBody({msg: data.msg});\t\t\t\n\t\t\tif(data.status === \"BAD_REQUEST\")\n\t\t\t\tresponse.setStatus(400);\n\t\t\telse if (data.status === \"NOT FOUND\")\n\t\t\t\tresponse.setStatus(404);\n\t\t} else {\n\t\t\tresponse.setBody({data: data.guidedTourStepsDetails});\n\t\t\tresponse.setStatus(200);\n\t\t}\n\t});\n\n})(request, response);","sys_updated_on":"2018-08-06 22:55:09","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/3268f36173eb13007077edcc5ef6a738","value":"3268f36173eb13007077edcc5ef6a738"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"c5b6f6e3732313007077edcc5ef6a746","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/guided_tours/tours/{tour_id}/steps","sys_created_on":"2018-08-02 08:22:04","sys_name":"Get steps details by tour id","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/2405194d87e73200b38c0f4c59cb0b6f","value":"2405194d87e73200b38c0f4c59cb0b6f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_update_name":"sys_ws_operation_c5b6f6e3732313007077edcc5ef6a746","consumes_customized":"false","name":"Get steps details by tour id","produces":"application/json,application/xml,text/xml","relative_path":"/tours/{tour_id}/steps","produces_customized":"false","default_operation_uri":"/api/now/guided_tours/tours/{tour_id}/steps","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\n\ttry {\n\t\treturn new TableInfoService().getTableNamesAndLabels(request.queryParams);\t\t\n\t} catch (error) {\n\t\tnew ErrorHandler().throwSnWsError(error);\n\t}\n\t\n})(request, response);","sys_updated_on":"2021-06-24 16:27:28","enforce_acl":"4bbe81b4c703201066492f3bf4c260e6","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"c6819b6b0f343010e70a4abec4767e90","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_mab_api/mab_api/allTables","sys_created_on":"2021-06-23 18:37:16","sys_name":"Get All Table Names","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3512bd93c7c12010100f2f3bf4c26049","value":"3512bd93c7c12010100f2f3bf4c26049"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_update_name":"sys_ws_operation_c6819b6b0f343010e70a4abec4767e90","consumes_customized":"false","name":"Get All Table Names","produces":"application/json,application/xml,text/xml","relative_path":"/allTables","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var supportedTableNames = [Constants.TBL_RECOMMENDED_ACTIONS, Constants.TBL_ACTION_INPUT_GENERATOR,\n        Constants.TBL_RESOURCE_GENERATOR, Constants.TBL_DECISION_TREE_NODE, Constants.TBL_FIELD_RECOMMENDATION_DEFINITION,Constants.TBL_SEARCH_RESULT_RA_MAPPING,Constants.TBL_RULE_CONTEXT\n    ];\n    response.setBody(supportedTableNames);\n\n})(request, response);","sys_updated_on":"2023-08-07 13:29:36","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/5024b34a53c31010763eddeeff7b1289","value":"5024b34a53c31010763eddeeff7b1289"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"c686031e53030110e530ddeeff7b1275","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_nb_action/v1/next_best_action/pillpicker/supported_tables","sys_created_on":"2022-04-26 13:09:30","sys_name":"Pill Picker Supported Tables","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/427fe83177221010d7159b71a91061e1","value":"427fe83177221010d7159b71a91061e1"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/95beed2cc7c71010763e343703c2608d","value":"95beed2cc7c71010763e343703c2608d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/427fe83177221010d7159b71a91061e1","value":"427fe83177221010d7159b71a91061e1"},"sys_update_name":"sys_ws_operation_c686031e53030110e530ddeeff7b1275","consumes_customized":"false","name":"Pill Picker Supported Tables","produces":"application/json,application/xml,text/xml","relative_path":"/pillpicker/supported_tables","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\n    var receivedParams = request.pathParams;\n    var currentRecordTable = receivedParams.table_name;\n    var currentRecordSysId = receivedParams.sys_id;\n    var actionDetailId = receivedParams.action_id;\n\n    response.setContentType('application/json');\n\n    if (!sn_nb_action.NextBestActionUtil.isValidString(currentRecordSysId) || !sn_nb_action.NextBestActionUtil.isValidString(currentRecordTable) || !sn_nb_action.NextBestActionUtil.isValidString(actionDetailId))\n        response.setError(new sn_ws_err.BadRequestError(gs.getMessage('Missing required parameters')));\n    else {\n        try {\n            var interactionResponse = {};\n\n            var current = new sn_nb_action.NextBestActionUtil.getNextBestActionDAO().getSecureTableRecordBySysId(currentRecordTable,currentRecordSysId);\n            if (!current) {\n                response.setError(new sn_ws_err.BadRequestError(gs.getMessage('Invalid parameters')));\n                return;\n            }\n\n            var nbaService = new sn_nb_action.NextBestActionService();\n            var actionDetails = nbaService.getActionDetail(current, actionDetailId);\n\n            if (actionDetails) {\n                interactionResponse.actionDetails = actionDetails;\n                response.setBody(interactionResponse);\n                response.setStatus(200);\n            } else {\n                interactionResponse.actionDetails = {\n                    \"errorMessage\": \"This actionDetailId is no longer valid\"\n                };\n                response.setBody(interactionResponse);\n                response.setStatus(200);\n            }\n\n        } catch (err) {\n            var customErrObj = new sn_ws_err.ServiceError();\n            customErrObj.setStatus(500);\n            customErrObj.setMessage(gs.getMessage('Error fetching action detail'));\n            customErrObj.setDetail(gs.getMessage('Refer error logs for details'));\n            response.setError(customErrObj);\n        }\n    }\n\n})(request, response);","sys_updated_on":"2024-07-05 15:53:55","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/5024b34a53c31010763eddeeff7b1289","value":"5024b34a53c31010763eddeeff7b1289"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"c6e15811c7471010763e343703c2606f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_nb_action/v1/next_best_action/actions/{table_name}/{sys_id}/{action_id}/get_action_detail","sys_created_on":"2020-09-03 08:56:40","sys_name":"Get Action Detail","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/427fe83177221010d7159b71a91061e1","value":"427fe83177221010d7159b71a91061e1"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/95beed2cc7c71010763e343703c2608d","value":"95beed2cc7c71010763e343703c2608d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"20","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/427fe83177221010d7159b71a91061e1","value":"427fe83177221010d7159b71a91061e1"},"sys_update_name":"sys_ws_operation_c6e15811c7471010763e343703c2606f","consumes_customized":"false","name":"Get Action Detail","produces":"application/json,application/xml,text/xml","relative_path":"/actions/{table_name}/{sys_id}/{action_id}/get_action_detail","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var encodedString = request.pathParams.encodedString;\n\tencodedString = encodedString.replace(\"__channel__\",\"%2F\");\n\tencodedString = decodeURIComponent(encodedString);\n\treturn JSON.parse(gs.base64Decode(encodedString));\n})(request, response);","sys_updated_on":"2024-03-25 19:22:42","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"c75a7d6953f211104c19ddeeff7b12ce","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_oe_sfs/encode_decode_base64/{encodedString}","sys_created_on":"2022-10-27 09:32:46","sys_name":"decodeBase64","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/53b1b0e79761011018b2fa98c253afcc","value":"53b1b0e79761011018b2fa98c253afcc"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/142ab96953f211104c19ddeeff7b124c","value":"142ab96953f211104c19ddeeff7b124c"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/53b1b0e79761011018b2fa98c253afcc","value":"53b1b0e79761011018b2fa98c253afcc"},"sys_update_name":"sys_ws_operation_c75a7d6953f211104c19ddeeff7b12ce","consumes_customized":"false","name":"decodeBase64","produces":"application/json,application/xml,text/xml","relative_path":"/{encodedString}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar nameValuePairs = global.ChangeCommon.assign({}, request.queryParams, request.body.data);\n\n\tvar date_time = null;\n\tif (nameValuePairs.date_time && typeof nameValuePairs.date_time !== 'undefined' && nameValuePairs.date_time !== 'undefined') {\n\t\tdate_time = nameValuePairs.date_time + '';\n\t\tdelete nameValuePairs.date_time;\n\t}\n\n\tvar group_ids = null;\n\tif (nameValuePairs.group_ids && typeof nameValuePairs.group_ids !== 'undefined' && nameValuePairs.group_ids !== 'undefined') {\n\t\tgroup_ids = nameValuePairs.group_ids + '';\n\t\tdelete nameValuePairs.group_ids;\n\t}\n\n\treturn new OnCallRotationSow().getOnCallGroupDataByGroupSysId(date_time, group_ids);\n})(request, response);","sys_updated_on":"2023-09-16 21:10:42","enforce_acl":"1dbba406eb197110249e8d835d52281f","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"c76e4a57536230100999ddeeff7b12c0","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_sow_on_call/on_call_shifts/oncallgroupsbysysid","sys_created_on":"2021-09-17 18:53:24","sys_name":"oncallgroupsbysysid","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/7e3c2481539260100c54ddeeff7b127b","value":"7e3c2481539260100c54ddeeff7b127b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/999a9a18536230100999ddeeff7b12a4","value":"999a9a18536230100999ddeeff7b12a4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7e3c2481539260100c54ddeeff7b127b","value":"7e3c2481539260100c54ddeeff7b127b"},"sys_update_name":"sys_ws_operation_c76e4a57536230100999ddeeff7b12c0","consumes_customized":"false","name":"oncallgroupsbysysid","produces":"application/json,application/xml,text/xml","relative_path":"/oncallgroupsbysysid","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\treturn new SLATimeLineV2().getSlaDefinitionDetail(request.pathParams.contractSlaIds);\n})(request, response);","sys_updated_on":"2017-01-16 15:17:28","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"c79b88fb0bb32200ed45478d83673a47","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/sla/sla_definition/{contractSlaIds}","sys_created_on":"2016-12-26 12:19:13","sys_name":"SLA Definition","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/184a0d329fb222002920bde8132e7062","value":"184a0d329fb222002920bde8132e7062"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f939e3f704f12210559073c06a02f7d6","value":"f939e3f704f12210559073c06a02f7d6"},"sys_update_name":"sys_ws_operation_c79b88fb0bb32200ed45478d83673a47","consumes_customized":"false","name":"SLA Definition","produces":"application/json,application/xml,text/xml","relative_path":"/sla_definition/{contractSlaIds}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar scopeNames = request.queryParams.scope_name? request.queryParams.scope_name[0] : null;\n\t\n\tif(!scopeNames) {\n\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t\t.setStatus(400)\n\t\t\t\t.setMessage(gs.getMessageLang(\"Missing required query param: scope_name\", \"en\"))\n\t\t\t\t.setDetail(gs.getMessage(\"Missing required query param: scope_name\"));\n\t}\n\t\n\tfunction getUserImage(glideRecord, imageField) {\n\t\tvar image = glideRecord.getDisplayValue(imageField);\n\t\tif (image) {\n\t\t\treturn '/' + image;\n\t\t}\n\t\treturn null;\n\t}\n\t\n\tvar scopeGr = new GlideRecord(\"sys_scope\");\n\tscopeGr.addQuery(\"scope\", \"IN\", scopeNames);\n\t\n\tscopeGr.query();\n\t\n\tvar scopeRecords = [];\n\twhile(scopeGr.next()) {\n\t\tscopeRecords.push({\n\t\t\tscope: scopeGr.getValue(\"scope\"),\n\t\t\tname: scopeGr.getDisplayValue(\"name\"),\n\t\t\tsys_id: scopeGr.getValue(\"sys_id\"),\n\t\t\tlogo: getUserImage(scopeGr, \"logo\")\n\t\t});\n\t}\n\t\n\tresponse.setBody(scopeRecords);\n\tresponse.setStatus(200);\n})(request, response);","sys_updated_on":"2020-11-09 22:36:36","enforce_acl":"99aa44c7c7102010408bc8d6f2c260b8","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/fedac4c7c7102010408bc8d6f2c2609d","value":"fedac4c7c7102010408bc8d6f2c2609d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"c7ea08c7c7102010408bc8d6f2c260ee","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/template_spokes_details","sys_created_on":"2020-11-09 22:14:00","sys_name":"GET Template Spokes Details","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/82a90c87c7102010408bc8d6f2c260b3","value":"82a90c87c7102010408bc8d6f2c260b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2fbb6b3704352210559073c06a02f707","value":"2fbb6b3704352210559073c06a02f707"},"sys_update_name":"sys_ws_operation_c7ea08c7c7102010408bc8d6f2c260ee","consumes_customized":"false","name":"GET Template Spokes Details","produces":"application/json,application/xml,text/xml","relative_path":"/","produces_customized":"false","default_operation_uri":"/api/now/template_spokes_details","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    const cbExperiencesScope = 'e9b68250cdffe4e1c64e494026ec6e9a';\n\n    const getComponentBuilderEnableStatus = () => {\n        const sysPropertyGr = new GlideRecord('sys_properties');\n        // matches name\n        sysPropertyGr.addQuery('name', 'sn_cb_experiences.uib.enable.cb');\n        // matches scope\n        sysPropertyGr.addQuery('sys_scope', cbExperiencesScope);\n        // is actually enabled\n        sysPropertyGr.addQuery('value', 'true');\n        sysPropertyGr.query();\n\n        // if it exists, Component Builder is enabled\n        return !!(sysPropertyGr.next());\n    };\n\n    const apiHelper = new APIHelper(request, response);\n\n    apiHelper.execute(function() {\n        const hasDomainPickerRole = gs.hasRole(gs.getProperty('glide.ui.domain_picker.role', 'itil'));\n        const hasAdminRole = gs.hasRole('admin');\n        const hasDelegatedDevRole = gs.hasRole('delegated_developer');\n        const isDomainSeparationPluginActive = GlidePluginManager.isActive('com.glide.domain.msp_extensions.installer');\n        const displayDomainPicker = hasDomainPickerRole && isDomainSeparationPluginActive;\n\n        apiHelper.getResponse({\n            supportDomain: isDomainSeparationPluginActive,\n            displayDomainPicker: displayDomainPicker,\n            displayScopePicker: hasAdminRole || hasDelegatedDevRole,\n            currentScope: gs.getCurrentApplicationId(),\n            currentDomain: gs.getSession().getCurrentDomainID(),\n            userName: gs.getUserID(),\n            // DEF0562202: temporary sys_property block for Component Builder\n            isComponentBuilderEnabled: getComponentBuilderEnableStatus()\n        });\n    });\n})(request, response);","sys_updated_on":"2023-08-04 21:10:20","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"c85e966d438721100ef26b3235b8f264","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/uib_config","sys_created_on":"2023-05-26 18:37:25","sys_name":"UI Builder Config","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_c85e966d438721100ef26b3235b8f264","consumes_customized":"false","name":"UI Builder Config","produces":"application/json,application/xml,text/xml","relative_path":"/uib_config","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n    var gr = new GlideRecord('sys_execution_tracker'),\n\t\terrorInfoFinder = new sn_vcs.SourceControlErrorInfoFinder(),\n\t\thistoryRecordFinder = new sn_vcs.SourceControlHistoryFinder(),\n\t\ttransactionId = request.pathParams.transactionId,\n\t\tresult;\n\t\n\tif (gr.get(transactionId) && gr.canRead()) {\n\t\tvar detailMessage = gr.getValue('detail_message');\n\t\tvar deepestId = sn_vcs.SourceControl.getDeepestRunningChild(transactionId);\n\t\tvar deepestChild = new GlideRecord('sys_execution_tracker');\n\t\tdeepestChild.get(deepestId);\n\t\tif (deepestChild.isValidRecord()) {\n\t\t\tvar childMessage = deepestChild.getValue('detail_message');\n\t\t\tif (!gs.nil(childMessage))\n\t\t\t\tdetailMessage = childMessage;\n\t\t}\n\t\n\t\t// states: 0 - pending, 1 - running, 2 - successful, 3 - failed, 4 - cancelled\n\t\tresult = {\n\t\t\tname: gr.getValue('name'),\n\t\t\tstate: gr.getValue('state'),\n\t\t\tmessage: gr.getValue('message'),\n\t\t\tdetailMessage: detailMessage,\n\t\t\tresult: gr.getValue('result'),\n\t\t\tsysId: gr.getValue('sys_id'),\n\t\t\tpercentComplete: gr.getValue('percent_complete'),\n\t\t\tcompletionTime: gr.getValue('completion_time')\n\t\t};\n\t} else {\n\t\tresult = {\n\t\t\tname: '',\n\t\t\tstate: '0',\n\t\t\tmessage: 'Waiting for tracker',\n\t\t\tdetailMessage: '',\n\t\t\tresult: '',\n\t\t\tsysId: '',\n\t\t\tpercentComplete: '',\n\t\t\tcompletionTime: ''\n\t\t};\n\t}\n\t\n\tif (result.state === '3') {\n\t\tresult.errorCode = errorInfoFinder.getErrorCodeFromTracker(transactionId);\n\t\tresult.errorMessage = errorInfoFinder.getErrorMessageFromTracker(transactionId);\n\t}\t\n\t\n\tresult.historyRecordSysId = historyRecordFinder.getHistoryRecordSysIdFromTracker(transactionId);\n\tresult.historyLogWarningCount = historyRecordFinder.getHistoryLogWarningCountFromTracker(transactionId);\n\tresult.historyLogErrorCount = historyRecordFinder.getHistoryLogErrorCountFromTracker(transactionId);\n\tresult.claimConflictsCount = historyRecordFinder.getClaimConflictsCountFromTracker(transactionId);\n\tresult.viewDetailsLink = historyRecordFinder.getInstallConflictsViewDetailsLinkFromTracker(transactionId);\n\n\tresult.invalidXMLCount = errorInfoFinder.getValueFromResult(transactionId, 'sys_log.invalid_xml_count') || '0';\n\tresult.sysLogLink = errorInfoFinder.getValueFromResult(transactionId, 'sys_log.view_details_link');\n\t\n\tresponse.setBody(result);\n\tresponse.setContentType('application/json');\n\tresponse.setStatus(200);\n\n})(request, response);","sys_updated_on":"2021-03-31 18:23:10","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"c883fd7237930200612747efbe41f132","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/transactions/{transactionId}","sys_created_on":"2015-10-28 04:21:39","sys_name":"Get Progress","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"53","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_c883fd7237930200612747efbe41f132","consumes_customized":"false","name":"Get Progress","produces":"application/json,application/xml,text/xml","relative_path":"/transactions/{transactionId}","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/transactions/{transactionId}","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n  var sysId = request.pathParams.sysId;\n\n  var formatName = request.queryParams.format\n    ? request.queryParams.format[0]\n    : \"viewTemplateFormat\";\n  var formatList = new sn_mobile_card_bui.McbResultFormats();\n  var format = formatList.getFormat(formatName);\n\n  var util = new sn_mobile_card_bui.McbGlideRecordUtil(format);\n  if (util.verifyAuth('sys_sg_view_template', sysId)) {\n    var viewTemplateHM = util.getTemplate(sysId);\n\n    return viewTemplateHM;\n  } else {\n    response.setStatus(401)\n  }\n})(request, response);\n","sys_updated_on":"2023-07-31 08:19:39","enforce_acl":"cf9d01d3e73003009d6247e603f6a990,d7088c08b751211095411226de11a9e9","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"c92bc8db7730211095417f7c8c5a998d","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/mcb/view_template/{sysId}","sys_created_on":"2023-02-08 22:04:23","sys_name":"View Template - Get","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/63d8b7c573c51010a59b4c5353f6a737","value":"63d8b7c573c51010a59b4c5353f6a737"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"13","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_update_name":"sys_ws_operation_c92bc8db7730211095417f7c8c5a998d","consumes_customized":"false","name":"View Template - Get","produces":"application/json,application/xml,text/xml","relative_path":"/view_template/{sysId}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar changeSysId = request.pathParams.change_sys_id || \"\";\n\tif (!changeSysId)\n\t\treturn new sn_ws_err.BadRequestError('Change Request id not provided');\n\n\tvar changeRequestGr = new GlideRecordSecure(global.ChangeRequest.CHANGE_REQUEST);\n\tchangeRequestGr.addQuery('sys_id', changeSysId);\n\tchangeRequestGr.query();\n\tif (!changeRequestGr.next())\n\t\treturn new sn_ws_err.NotFoundError('Change Request not found');\n\n\tvar stateTransitions = [];\n\tvar stateLabel = {};\n\tvar chgClassName = changeRequestGr.getRecordClassName();\n\tvar changeRequest = new global.ChangeRequest(changeRequestGr);\n\tvar stateFieldName = changeRequest.getStateFieldName();\n\tvar states = changeRequest.getNextStates();\n\n\tif (Array.isArray(states))\n\t\tstates.forEach(function(state) {\n\t\t\tstateTransitions.push(changeRequest.evaluateMoveTo(state, true));\n\t\t\tstateLabel[state] = global.ChangeCommon.resolveChoiceLabel(chgClassName, stateFieldName, state);\n\t\t});\n\n\tvar currentState = changeRequest.getState();\n\tstates.push(currentState);\n\tstateLabel[currentState] = global.ChangeCommon.resolveChoiceLabel(chgClassName, stateFieldName, currentState);\n\n\treturn {\n\t\tavailable_states: states,\n\t\tstate_transitions: stateTransitions,\n\t\tstate_label: stateLabel\n\t};\n})(request, response);","sys_updated_on":"2022-04-20 15:12:47","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"c99e98a853430110610bddeeff7b1220","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/{change_sys_id}/nextstates","sys_created_on":"2022-04-20 14:21:59","sys_name":"Next States","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_c99e98a853430110610bddeeff7b1220","consumes_customized":"false","name":"Next States","produces":"application/json,application/xml,text/xml","relative_path":"/{change_sys_id}/nextstates","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/{change_sys_id}/nextstates","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\n\tvar queryParams = {};\n\ttry {\n\t\tqueryParams = request.queryParams;\n\t} catch (exception) {}\n\n\tvar conflictCalendar = new SOWChgConflictCalendar(queryParams.table_name[0], request.pathParams.sys_id);\n\tconflictCalendar.includeMaintenance(queryParams.maintenance[0]);\n\tconflictCalendar.includeBlackout(queryParams.blackout[0]);\n\tconflictCalendar.includeRelated(queryParams.related[0]);\n\tconflictCalendar.includeRelatedByCI(queryParams.related_ci[0]);\n\tconflictCalendar.includeRelatedByAssignedTo(queryParams.related_assigned[0]);\n\tconflictCalendar.includeRelatedByAssignmentGroup(queryParams.related_group[0]);\n\treturn conflictCalendar.buildChangeConflictCalendar(queryParams.date_range[0]);\n})(request, response);","sys_updated_on":"2022-11-04 16:45:54","enforce_acl":"c0b8dbfe0b4d1110c85e8a8db777b294","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"ca1f13760b011110c85e8a8db777b2c9","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sow_chg/conflict_calendar/events/{sys_id}","sys_created_on":"2022-08-05 14:23:16","sys_name":"Events","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/6b18dfbe0b4d1110c85e8a8db777b25d","value":"6b18dfbe0b4d1110c85e8a8db777b25d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"13","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_update_name":"sys_ws_operation_ca1f13760b011110c85e8a8db777b2c9","consumes_customized":"false","name":"Events","produces":"application/json,application/xml,text/xml","relative_path":"/events/{sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var requestData = request.body.data;\n\t\n\tvar actSubCtx = ActivitySubscriptionContext.getContext();\n\tif(!actSubCtx.isPluginEnabled()){\n\t\tresponse.setStatus(400);\n\t\treturn {\"status\":400,\n\t\t\t\t\"message\":\"Plugin is disabled please contact system administrator\"};\n\t}\n\t\n\tvar subscriptionService = actSubCtx.getSubscriptionService();\n\tvar result = subscriptionService.updatePreferences(requestData);\n\tresponse.setStatus(result.status);\n\tresponse.setBody(result);\n\n\n})(request, response);","sys_updated_on":"2018-01-31 18:04:09","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/882dfe6853003200fa9bd7b08cc587d5","value":"882dfe6853003200fa9bd7b08cc587d5"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"ca86b9fbdb413200624273c8f0b8f5d4","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/v1/actsub/preferences","sys_created_on":"2017-02-26 23:21:40","sys_name":"Preferences","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/aabc7e6853003200fa9bd7b08cc5870f","value":"aabc7e6853003200fa9bd7b08cc5870f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/27dc6bfb04352210559073c06a02f739","value":"27dc6bfb04352210559073c06a02f739"},"sys_update_name":"sys_ws_operation_ca86b9fbdb413200624273c8f0b8f5d4","consumes_customized":"false","name":"Preferences","produces":"application/json,application/xml,text/xml","relative_path":"/preferences","produces_customized":"false","default_operation_uri":"/api/now/actsub/preferences","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    try {\n\t\tvar param = request.pathParams.param;\n\t\tvar queryParams = request.queryParams;\n\t\t\n\t\treturn (new CategoryService()).getScreens(queryParams, param);\n\t} catch (error) {\n\t\tnew ErrorHandler().throwSnWsError(error);\n\t}\n\n})(request, response);","sys_updated_on":"2021-05-24 17:28:35","enforce_acl":"4bbe81b4c703201066492f3bf4c260e6","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"ca97c042b7d030108223e126de11a9ef","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_mab_api/mab_api/list_screen/{param}","sys_created_on":"2021-05-24 15:30:56","sys_name":"Get Screen Records","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3512bd93c7c12010100f2f3bf4c26049","value":"3512bd93c7c12010100f2f3bf4c26049"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_update_name":"sys_ws_operation_ca97c042b7d030108223e126de11a9ef","consumes_customized":"false","name":"Get Screen Records","produces":"application/json,application/xml,text/xml","relative_path":"/list_screen/{param}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","sys_updated_on":"2019-03-07 23:48:24","enforce_acl":"d1c913ba5b4232003d1c484c11f91a98","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"cac891f9cb20320004991aeb034c9ca5","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_bm_client/benchmark_client_api/export_pdf","sys_created_on":"2017-01-26 19:37:37","sys_name":"Export PDF","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/986214c16710320097eeff5557415a89","value":"986214c16710320097eeff5557415a89"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"35","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_update_name":"sys_ws_operation_cac891f9cb20320004991aeb034c9ca5","consumes_customized":"false","name":"Export PDF","produces":"application/json,application/xml,text/xml","relative_path":"/export_pdf","produces_customized":"false","default_operation_uri":"","sys_policy":"protected"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var legacyWidgetSysId = '0805a7bf91a93efbdf0a975b38b01051';\n    var res = {\n        fullyMigrated: {\n            filter: 0,\n            widget: 0,\n            report: 0,\n            dashboard: 0,\n        },\n        partiallyMigrated: {\n            dashboard: 0,\n            widget: 0,\n            report: 0,\n            content_block: 0,\n            other: 0\n        }\n    };\n\n    var grComponentBridge = new GlideAggregate('par_coreui_migration_bridge_component');\n    grComponentBridge.groupBy('type');\n    grComponentBridge.addQuery('is_last', true);\n\tgrComponentBridge.addEncodedQuery('component!=NULL^component!=unknown');\n    grComponentBridge.addAggregate('COUNT', 'component');\n    grComponentBridge.query();\n    while (grComponentBridge.next()) {\n        res.fullyMigrated[grComponentBridge.type] = parseInt(grComponentBridge.getAggregate('COUNT', 'component'), 10);\n    }\n    var grDashboardBridge = new GlideAggregate('par_coreui_migration_bridge_dashboard');\n    grDashboardBridge.addAggregate('COUNT(DISTINCT', 'par_dashboard.sys_id');\n    grDashboardBridge.setGroup(false);\n    grDashboardBridge.query();\n    var dashboardTotal = 0;\n    var incompatibleDashboards = 0;\n    while (grDashboardBridge.next()) {\n        dashboardTotal = parseInt(grDashboardBridge.getAggregate('COUNT(DISTINCT', 'par_dashboard.sys_id'), 10);\n    }\n\n    grDashboardBridge = new GlideAggregate('par_coreui_migration_bridge_widget');\n    grDashboardBridge.addAggregate('COUNT(DISTINCT', 'dashboard.sys_id');\n    grDashboardBridge.addQuery('dashboard_widget.component', legacyWidgetSysId);\n    grDashboardBridge.setGroup(false);\n    grDashboardBridge.query();\n    while (grDashboardBridge.next()) {\n        incompatibleDashboards = parseInt(grDashboardBridge.getAggregate('COUNT(DISTINCT', 'dashboard.sys_id'), 10);\n    }\n    res.dashboardTotal = dashboardTotal;\n    res.incompatibleDashboards = incompatibleDashboards;\n    res.partiallyMigrated.dashboard = incompatibleDashboards;\n    res.fullyMigrated.dashboard = dashboardTotal - incompatibleDashboards;\n\n\n    ['other', 'content_block', 'report', 'widget'].forEach(type => {\n        var gr = new GlideRecord(\"par_coreui_migration_bridge_dashboard\");\n        gr.addEncodedQuery(`compatibility_modeLIKE${type}^is_last=true`)\n        gr.query();\n        res.partiallyMigrated[type] = gr.getRowCount();\n    });\n    return res;\n})(request, response);\n","sys_updated_on":"2024-04-24 11:16:40","enforce_acl":"bfd79ae8a31131108d80ad2f241e611f","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"cadf2918a31531108d80ad2f241e61a1","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/par_coreui_migration/summary","sys_created_on":"2023-09-11 14:58:27","sys_name":"Get Migration Summary","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f5bcb01c58e91bb9a6845604a7f0eff3","value":"f5bcb01c58e91bb9a6845604a7f0eff3"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/572fa9d4a31531108d80ad2f241e6172","value":"572fa9d4a31531108d80ad2f241e6172"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"26","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f5bcb01c58e91bb9a6845604a7f0eff3","value":"f5bcb01c58e91bb9a6845604a7f0eff3"},"sys_update_name":"sys_ws_operation_cadf2918a31531108d80ad2f241e61a1","consumes_customized":"false","name":"Get Migration Summary","produces":"application/json,application/xml,text/xml","relative_path":"/summary","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n    var appId = request.pathParams.appId;\n\n    ScopeCheck.verifyNotGlobal(appId);\n\n    var allowed = VCSAppAccessCheck.verifyWriteAccess(appId) && (VCSAppAccessCheck.isGACOrSourceControlUser() || VCSAppAccessCheck.verifyVersionControlAccess(appId));\n\n    if (!allowed) \n\t\tVCSAppAccessCheck.throwAccessDenied(appId);\n\n    var repo = sn_vcs.AppSourceControl.getRepository(appId),\n        preview = repo.getCurrentStashPreview(),\n        updates = preview.getUpdates();\n\n    function userDecisionExists(updateId) {\n        return _.find(request.body.data.decisions, function(dec) {\n            return dec.updateId === updateId;\n        });\n    }\n\t\n\tfunction previewProblemResolved(decision) {\n\t\tvar gr = new GlideRecord(\"sys_update_preview_problem\");\n\t\tgr.addQuery(\"remote_update.sys_id\", updates.getSysId());\n\t\tgr.addNotNullQuery(\"status\");\n\t\tgr.query();\n\t\treturn gr.next();\n\t}\n\n    var decision;\n    var acceptStashedChanges = gs.getProperty('sn_devstudio.vcs.accept_stashed_changes', 'false') == 'true';\n    while (updates.next()) {\n        decision = userDecisionExists(updates.getSysId());\n\n        if (decision && decision.updateId)\n            updates.setSkip(!!decision.setSkip);\n        else if (!previewProblemResolved(updates))\n            updates.setSkip(!acceptStashedChanges);\n    }\n\n    var progressId = repo.workers()\n        .commitStashPreview()\n        .start();\n\n    response.setContentType('application/json');\n    response.setBody({\n        progressId: progressId\n    });\n    response.setStatus(202);\n\n})(request, response);","sys_updated_on":"2022-10-08 14:55:04","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"cb4a7c6237011200612747efbe41f17c","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/apps/{appId}/repos/{repoId}/stash_previews/apply","sys_created_on":"2016-01-22 05:25:17","sys_name":"Apply Stash Preview","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"35","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_cb4a7c6237011200612747efbe41f17c","consumes_customized":"false","name":"Apply Stash Preview","produces":"application/json,application/xml,text/xml","relative_path":"/apps/{appId}/repos/{repoId}/stash_previews/apply","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/apps/{appId}/repos/{repoId}/stash_previews/apply","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar qp = request.queryParams;\n    var searchRequest = new SNC.SearchRequest();\n\t\n\tif (JSUtil.nil(qp.q))\n\t\treturn new sn_ws_err.BadRequestError(\"No Query String provided\");\n\t\n\tsearchRequest.query.freetext = qp.q;\n\t\n\tif (JSUtil.notNil(qp.cx))\n\t\tsearchRequest.context = qp.cx;\n\t\n\tif (JSUtil.notNil(qp.start) && !isNaN(qp.start))\n\t\tsearchRequest.meta.window.start = parseInt(qp.start);\n\t\n\tif (JSUtil.notNil(qp.num) && !isNaN(qp.num))\n\t\tsearchRequest.meta.window.end = searchRequest.meta.window.start + parseInt(qp.num);\n\t\n\tvar searchResponse = searchRequest.submit();\n\n\t// Have to encode then decode as SearchService was written before new Rhino\n\tresponse.setBody(new JSON().decode(searchResponse.toJSON()));\n\n})(request, response);","sys_updated_on":"2018-10-02 17:03:25","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"cb74c926d722220034d145bcce610369","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/cxs/search","sys_created_on":"2016-10-21 15:52:55","sys_name":"search","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7e534526d722220034d145bcce6103fa","value":"7e534526d722220034d145bcce6103fa"},"consumes":"application/json","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"21","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5209e3b704f12210559073c06a02f734","value":"5209e3b704f12210559073c06a02f734"},"sys_update_name":"sys_ws_operation_cb74c926d722220034d145bcce610369","consumes_customized":"false","name":"search","produces":"application/json","relative_path":"/search","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar modelId = request.pathParams.modelId;\n\tvar language = request.pathParams.language;\n\tresponse.setContentType('application/json');\n\tif (!modelId) {\n\t\tresponse.setStatus(400);\n\t\tresponse.setBody({ errorMessage: 'No input model id provided' });\n\t\treturn;\n\t}\n\tif (!language) {\n\t\tresponse.setStatus(400);\n\t\tresponse.setBody({ errorMessage: 'No input language provided' });\n\t\treturn;\n\t}\n\t\n\ttry {\n\t\tvar result = {};\n\t\tvar i;\n\t\tvar status = NLUStudioService.getModelStatusByName(modelId);\t\n\t\tvar modelStatus =  {\n\t\t\t'sysId': status.id || '',\n\t\t\t'name': status.displayName || '',\n\t\t\t'language': status.language || '',\n\t\t\t'scope': status.scope || '',\n\t\t\t'state': status.state || '',\n\t\t\t'type': status.type || '',\n\t\t\t'trainedVersion': status.trainedVersion || '',\n\t\t\t'publishedVersion': status.publishedVersion || '',\n\t\t\t'lastUpdatedOn': status.lastUpdatedOn || '',\n\t\t\t'lastTrainedOn': status.lastTrainedOn || '',\n\t\t\t'lastPublishedOn': status.lastPublishedOn || ''\n\t\t};\n\t\tvar modelIdType = status.type || '';\n\t\tvar modelIdsToSearch = [modelId];\n\t\t\n\t\tif (modelIdType !== 'ungrouped') {\n\t\t\tvar primaryModelId = status.primaryName || '';\n\t\t\tmodelIdsToSearch = primaryModelId ? modelIdsToSearch.concat(primaryModelId) : modelIdsToSearch;\n\t\t\tvar allModels = NLUStudioService.getAllModels();\n\t\t\tfor (i = 0; i < allModels.length; i++) {\n\t\t\t\tvar model = allModels[i];\n\t\t\t\tif (model.name !== modelId && (model.primaryName === modelId || model.primaryName === primaryModelId)) {\n\t\t\t\t\tmodelIdsToSearch.push(model.name);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tvar boundTopics = {};\n\t\tvar boundTopicInfo = {};\n\t\tvar cbTopicId;\n\t\tvar csTopicId;\n\t\tvar cbTopicLanguageGr = new GlideRecord('sys_cb_topic_language');\n\t\tcbTopicLanguageGr.addQuery('nlu_model', 'IN', modelIdsToSearch);\n\t\tcbTopicLanguageGr.query();\n\t\twhile (cbTopicLanguageGr.next()) {\n\t\t\tcbTopicId = cbTopicLanguageGr.getValue('cb_topic_id');\n\t\t\tboundTopics[cbTopicId] = {\n\t\t\t\tid: cbTopicId,\n\t\t\t\tname: '',\n\t\t\t\tcsTopicId: '',\n\t\t\t\ttranslationStatus: '',\n\t\t\t\ttaskId: '',\n\t\t\t\ttaskLink: '',\n\t\t\t\tmodelId: '',\n\t\t\t\tmodelLabel: '',\n\t\t\t\tintentId: '',\n\t\t\t\tintentLabel: ''\n\t\t\t};\n\t\t}\n\t\t\n\t\tvar boundTopicIds = Object.keys(boundTopics);\n\t\tcbTopicLanguageGr = new GlideRecord('sys_cb_topic_language');\n\t\tcbTopicLanguageGr.addQuery('language_code', language);\n\t\tcbTopicLanguageGr.addQuery('cb_topic_id', 'IN', boundTopicIds);\n\t\tcbTopicLanguageGr.query();\n\t\twhile (cbTopicLanguageGr.next()) {\n\t\t\tcbTopicId = cbTopicLanguageGr.getValue('cb_topic_id');\n\t\t\tboundTopicInfo = boundTopics[cbTopicId];\n\t\t\tboundTopicInfo.modelId = cbTopicLanguageGr.getValue('nlu_model');\n\t\t\tboundTopicInfo.modelLabel = cbTopicLanguageGr.getValue('nlu_model_label');\n\t\t\tboundTopicInfo.intentId = cbTopicLanguageGr.getValue('nlu_intent');\n\t\t\tboundTopicInfo.intentLabel = cbTopicLanguageGr.getValue('nlu_intent_label');\n\t\t}\n\t\t\n\t\tvar boundTopicsSortedArray = [];\n\t\tvar cbTopicGr = new GlideRecord('sys_cb_topic');\n\t\tcbTopicGr.addQuery('sys_id', 'IN', boundTopicIds);\n\t\tcbTopicGr.orderBy('name');\n\t\tcbTopicGr.query();\n\t\twhile (cbTopicGr.next()) {\n\t\t\tcbTopicId = cbTopicGr.getValue('sys_id');\n\t\t\tboundTopicInfo = boundTopics[cbTopicId];\n\t\t\tboundTopicInfo.name = cbTopicGr.getValue('name');\n\t\t\tboundTopicsSortedArray.push(boundTopicInfo);\n\t\t}\n\t\t\n\t\tvar csCbTopicIdMap = {};\n\t\tvar cbCsTopicIdMap = {};\n\t\tvar csTopicGr = new GlideRecord('sys_cs_topic');\n\t\tcsTopicGr.addQuery('cb_topic_id', 'IN', boundTopicIds);\n\t\tcsTopicGr.addQuery('published', true);\n\t\tcsTopicGr.query();\n\t\twhile (csTopicGr.next()) {\n\t\t\tcbTopicId = csTopicGr.getValue('cb_topic_id');\n\t\t\tcsTopicId = csTopicGr.getValue('sys_id');\n\t\t\tcsCbTopicIdMap[csTopicId] = cbTopicId;\n\t\t\tcbCsTopicIdMap[cbTopicId] = csTopicId;\n\t\t}\n\t\t\n\t\tvar lfInstalled = new GlidePluginManager().isActive('com.glide.localization_framework');\n\t\tvar canRequestTranslation = false;\n\t\tvar requestTranslationResult = {};\n\t\tvar translationStatusResult = {};\n\t\tvar requestItemDetailsResult = {};\n\t\tif (lfInstalled) {\n\t\t\tvar artifactName = \"va_topic\";\n\t\t\tvar lfApi = new global.LocalizationFrameworkAPIV2();\t\n\t\t\tvar csTopicIds = Object.keys(csCbTopicIdMap);\n\t\t\trequestTranslationResult = lfApi.canRequestTranslations(artifactName, {\"targetLanguages\": [language]});\n\t\t\tcanRequestTranslation = requestTranslationResult[language] ? requestTranslationResult[language].isEnabled : false;\n\t\t\t\n\t\t\tif (csTopicIds.length) {\n\t\t\t\trequestItemDetailsResult = lfApi.getRequestedItemDetails(csTopicIds, {\"targetLanguages\": [language]});\n\t\t\t\ttranslationStatusResult = lfApi.getArtifactsTranslationStatus(artifactName, csTopicIds, {\"targetLanguages\": [language]});\n\t\t\t}\n\t\t}\n\t\t\n\t\tvar lfInsight = new global.LFGenerateLocalizationInsights();\n\t\tvar taskExists;\n\t\tvar taskIsClosed;\n\t\tvar taskId;\n\t\tvar taskLink;\n\t\tvar translationStatus;\n\t\tvar defaultTranslationStatus = lfInstalled ? 'not translated' : '';\n\t\tvar insights_status = {\n\t\t\t'1': 'completely translated',\n\t\t\t'3': 'partially translated',\n\t\t\t'4': 'not translated'\n\t\t};\n\n\t\tfor (i = 0; i < boundTopicsSortedArray.length; i++) {\n\t\t\ttaskId = '';\n\t\t\tboundTopicInfo = boundTopicsSortedArray[i];\n\t\t\tcbTopicId = boundTopicInfo.id;\n\t\t\tcsTopicId = cbCsTopicIdMap[cbTopicId] || '';\n\t\t\tboundTopicInfo.csTopicId = csTopicId;\n\t\t\ttaskExists = requestItemDetailsResult[csTopicId] && requestItemDetailsResult[csTopicId][language] ? requestItemDetailsResult[csTopicId][language].exists : false;\n\t\t\tif (taskExists) {\n\t\t\t\ttaskIsClosed = requestItemDetailsResult[csTopicId][language].details.isClosed || false;\n\t\t\t\ttaskLink = taskIsClosed ? '' : requestItemDetailsResult[csTopicId][language].details.link;\n\t\t\t\ttaskId = taskIsClosed ? '' : requestItemDetailsResult[csTopicId][language].details.sysId;\n\t\t\t\tboundTopicInfo.taskId = taskId;\n\t\t\t\tboundTopicInfo.taskLink = taskLink;\n\t\t\t}\n\t\t\tvar statusKey = translationStatusResult[csTopicId] && translationStatusResult[csTopicId][language] ? lfInsight._calculateStatus(translationStatusResult[csTopicId][language].translationPercentage) : defaultTranslationStatus;\n\t\t\ttranslationStatus = insights_status[statusKey] || 'not translated';\n\t\t\tboundTopicInfo.translationStatus = taskId !== '' ? 'in progress' : translationStatus;\n\t\t}\n\t\t\n\t\tresult.modelId = modelId;\n\t\tresult.language = language;\n\t\tresult.canRequestTranslation = canRequestTranslation;\n\t\tresult.localizationFrameworkInstalled = lfInstalled;\n\t\tresult.modelStatus = modelStatus;\n\t\tresult.topics = boundTopicsSortedArray;\n\t\t\n\t\tresponse.setStatus(200);\n\t\tresponse.setBody(result);\n\t\t\n\t} catch (e) { \n\t\tresponse.setStatus(500);\n\t\tresponse.setBody({ errorMessage: e.message });\n\t}\n\n})(request, response);","sys_updated_on":"2023-08-24 17:04:23","enforce_acl":"95736dc3c7e220105a06145bf4c26096","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"cb94b4a1c78230105a06145bf4c2607f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/virtual_agent_design/model/{modelId}/{language}/topics","sys_created_on":"2021-08-18 05:23:07","sys_name":"Get topics related to model","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/86719a5dc7e220105a06145bf4c26006","value":"86719a5dc7e220105a06145bf4c26006"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"11","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_ws_operation_cb94b4a1c78230105a06145bf4c2607f","consumes_customized":"false","name":"Get topics related to model","produces":"application/json,application/xml,text/xml","relative_path":"/model/{modelId}/{language}/topics","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Updates a component preset","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    const apiHelper = new APIHelper(request, response);\n    apiHelper.execute(function() {\n        const {\n            preset,\n            clientScripts\n        } = request.body.data;\n        if (!preset) {\n            return apiHelper.respondUnsuccessfully(BuilderToolkitConstants.ERRORS.FAILED_TO_UPDATE_COMPONENT_PRESET);\n        }\n        apiHelper.getResponseFromMutliOperation({\n            preset: new ComponentPreset().updateRecord(preset),\n            clientScripts: clientScripts ? new ClientScript().processRecordsByDatabaseOperation(clientScripts) : true\n        });\n    });\n\n})(request, response);","sys_updated_on":"2024-06-14 14:16:33","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"{\r\n    properties: {},\r\n    eventMappings: [],\r\n    sysId: ''\r\n}","sys_id":"cb9df42943160210eeba83020cb8f211","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/component/presets","sys_created_on":"2024-05-20 21:13:19","sys_name":"Component Presets","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_cb9df42943160210eeba83020cb8f211","consumes_customized":"false","name":"Component Presets","produces":"application/json,application/xml,text/xml","relative_path":"/component/presets","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\n\tvar tableName = request.queryParams.table + \"\";\n\tvar sysId = request.queryParams.sys_id + \"\";\n\tvar onCallCommon = new OnCallCommon();\n\treturn onCallCommon.deleteCoverage(tableName, sysId);\n\n})(request, response);","sys_updated_on":"2019-09-18 11:46:06","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"cb9ef75e6768230099e0775617415a9f","http_method":"DELETE","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/deleteCoverage","sys_created_on":"2018-09-17 09:27:16","sys_name":"deleteCoverage","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"27","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_cb9ef75e6768230099e0775617415a9f","consumes_customized":"false","name":"deleteCoverage","produces":"application/json,application/xml,text/xml","relative_path":"/deleteCoverage","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar restHandler, result, stepId, setupId, data;\n\t\n\ttry {\n\t\tsetupId = request.pathParams.setup_id;\n\t\tstepId = request.pathParams.step_id;\n\t\trestHandler = new SNHelpSetupRestHandler();\n\t\tdata = request.body.data;\n\t\tresult = restHandler.upsertSetupStep(setupId, stepId, data);\n\t\t\n\t\tresponse.setStatus(result.status);\n\t\t\n\t\tif(result.data)\n\t\t\tresponse.setBody(result.data);\n\t\telse\n\t\t\tresponse.setBody({error: result.message});\n\t\t\n\t} catch (ex) {\n\t\tresponse.setStatus(500);\n\t\tresponse.setBody({error: \"Internal Server Error\"});\n\t}\n\t\n})(request, response);","sys_updated_on":"2022-09-21 07:32:06","enforce_acl":"d0fc8522534a0110f54fddeeff7b123d","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"cba5376353084110f54fddeeff7b1299","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_ads_setup/build/setup/{setup_id}/step/{step_id}","sys_created_on":"2021-12-02 10:35:10","sys_name":"Create Setup Step","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/6db6b2ab53444110f54fddeeff7b1232","value":"6db6b2ab53444110f54fddeeff7b1232"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_update_name":"sys_ws_operation_cba5376353084110f54fddeeff7b1299","consumes_customized":"false","name":"Create Setup Step","produces":"application/json,application/xml,text/xml","relative_path":"/setup/{setup_id}/step/{step_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    /**\n     * Builds the metadata for the application currently loaded in the IDE\n     */\n    try {\n        var body = request.body.data;\n        var scopeId = body.sys_scope;\n        var excludePaths = body.exclude_paths;\n        var transactionId = new global.IDEGlobalUtils().getTransactionId();\n        var ideService = new sn_glider.IDERequestBuilder();\n        var stopWatch = new sn_glider.StopWatch();\n        if (!scopeId) {\n            return response.setError(\n                new sn_ws_err.BadRequestError('[transactionId: ' + transactionId + '] Scope ID was not defined! Cannot handle build request.')\n            );\n        }\n        var buildRequest = ideService.createBuildRequest(scopeId, transactionId, excludePaths);\n        stopWatch.time('build:execute');\n        var buildResponse = buildRequest.execute();\n        stopWatch.timeEnd('build:execute', '[build:execute][scope:' + scopeId + '][transactionId: ' + transactionId + ']');\n        var result = ideService.handleBuildResponse(scopeId, buildResponse, transactionId);\n        response.setBody(ideService.successResponse('[transactionId: ' + transactionId + '] Successfully built and installed, ' + scopeId, result.logs, result.status));\n        return response.setStatus(200);\n    } catch (e) {\n        gs.error('build request failed', e);\n        var svcErr = new sn_ws_err.ServiceError();\n        svcErr.setMessage(e.message || e.toString());\n        if (e.detailedLog) {\n            svcErr.setDetail(e.detailedLog);\n        }\n        svcErr.setStatus(500);\n        return response.setError(svcErr);\n    }\n})(request, response);","sys_updated_on":"2024-07-15 17:41:48","enforce_acl":"b546fc12a3060210acce0373341e615f","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"cbb8f426ff110210771bffffffffffcb","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/ide/build/build-application","sys_created_on":"2024-04-04 06:20:09","sys_name":"Build Application","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/fd254d9443a161100967247e6bb8f200","value":"fd254d9443a161100967247e6bb8f200"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/52287426ff110210771bffffffffff8f","value":"52287426ff110210771bffffffffff8f"},"consumes":"application/json","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"43","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fd254d9443a161100967247e6bb8f200","value":"fd254d9443a161100967247e6bb8f200"},"sys_update_name":"sys_ws_operation_cbb8f426ff110210771bffffffffffcb","consumes_customized":"true","name":"Build Application","produces":"application/json","relative_path":"/build-application","produces_customized":"true","default_operation_uri":"","sys_policy":""},{"short_description":"Get UI Policies for a catalog item","sys_updated_on":"2019-04-29 09:49:44","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"cbea0992c3330200d68d3b0ac3d3aed8","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/items/{sys_id}/ui_policy","sys_created_on":"2015-11-20 08:38:53","sys_name":"Catalog UI Policy","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"13","active":"false","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_cbea0992c3330200d68d3b0ac3d3aed8","consumes_customized":"false","name":"Catalog UI Policy","produces":"application/json,application/xml,text/xml","relative_path":"/items/{sys_id}/ui_policy","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/items/{sys_id}/ui_policy","sys_policy":"protected"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar sampleSize =  request.body.data.sampleSize;\n\tvar table = request.body.data.table;\n\tvar fields = request.body.data.fields;\n\n\tvar gr = new GlideRecordSecure(table);\n\n\tif (!gr.isValid()) {\n\t\tresponse.setError(new sn_ws_err.BadRequestError('Table: ' + table + ' is invalid'));\n\t\treturn;\n\t}\n\n\tgr.setLimit(sampleSize);\n\tgr.query();\n\n\tvar previewData = [];\n\twhile (gr.next()) {\n\t\tvar pd = {};\n\t\tfields.forEach(function(field) {\n\t\t\tif (field.fieldType == \"FieldValue\") {\n\t\t\t\ttry {\n\t\t\t\t\tpd[field.cellId] = gr.getElement(field.columnValue).getDisplayValue() + \"\";\n\t\t\t\t} catch(e) {\n\t\t\t\t\tpd[field.cellId] = undefined;\n\t\t\t\t}\n\t\t\t} else if (field.fieldType == \"FieldLabel\") {\n\t\t\t\ttry {\n\t\t\t\t\tpd[field.cellId] = gr.getElement(field.columnValue).getLabel() + \"\";\n\t\t\t\t} catch(e) {\n\t\t\t\t\tpd[field.cellId] = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}.bind(this));\n\n\t\tpreviewData.push(pd);\n\t}\n\n\treturn {\"previewData\": previewData};\n\n})(request, response);","sys_updated_on":"2023-03-07 17:10:57","enforce_acl":"cf9d01d3e73003009d6247e603f6a990,d7088c08b751211095411226de11a9e9","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"cbfed706b75710108223e126de11a9a0","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/mcb/view_config/preview","sys_created_on":"2020-09-18 17:56:15","sys_name":"View Config - Preview - Get","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/63d8b7c573c51010a59b4c5353f6a737","value":"63d8b7c573c51010a59b4c5353f6a737"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"46","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_update_name":"sys_ws_operation_cbfed706b75710108223e126de11a9a0","consumes_customized":"false","name":"View Config - Preview - Get","produces":"application/json,application/xml,text/xml","relative_path":"/view_config/preview","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Creates a new page optionally using a template","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    const apiHelper = new APIHelper(request, response);\n    const noDomain = apiHelper.getQueryParam('noDomain');\n    const experienceId = apiHelper.getQueryParam('experienceId');\n    const mode = apiHelper.getQueryParam('mode');\n    apiHelper.execute(function() {\n        const {\n            screen,\n            route,\n            macroponent = {},\n            applicabilities,\n            screenTestValues,\n            templateId\n        } = request.body.data;\n        const result = new Page(noDomain).createPage(experienceId,\n            screen,\n            route,\n            macroponent,\n            applicabilities,\n            screenTestValues,\n            templateId,\n            mode ? mode.toString() : mode\n        );\n        typeof result === 'string' ? apiHelper.respondUnsuccessfully(result) : apiHelper.respondSuccesfully(result);\n    });\n})(request, response);","sys_updated_on":"2023-05-26 18:24:43","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"{\n            screen: {},\n            route: {},\n            applicabilities: [],\n            screenTestValues: {},\n\t    templateId: ''\n}","sys_id":"cc3f1d50506f1110f8778d3b4ff3ff32","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/page","sys_created_on":"2022-11-29 17:08:45","sys_name":"Page","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"29","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_cc3f1d50506f1110f8778d3b4ff3ff32","consumes_customized":"false","name":"Page","produces":"application/json,application/xml,text/xml","relative_path":"/page","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tconst data = request.body.data;\n    const {deltaSysId, sysId, filterInPublishedDecisions, answerTable, fromIndex, resultsCount, filterPatternConfig} = data;\n\n    const result = new sn_decision_table.DecisionQuestionRepository().filterDecisions(sysId, deltaSysId, filterInPublishedDecisions, answerTable, fromIndex, resultsCount, filterPatternConfig);\n\n\treturn result;\n})(request, response);","sys_updated_on":"2024-08-26 10:29:55","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"cc48473443101610cce958472bb8f2db","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_decision_table/generic/filter_decisions","sys_created_on":"2024-08-26 10:02:25","sys_name":"Filter Decisions","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/13aa96a16bcefa78b16cc99ed9e4f1f4","value":"13aa96a16bcefa78b16cc99ed9e4f1f4"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/d5498f77c3633010d4437f9ec840dd67","value":"d5498f77c3633010d4437f9ec840dd67"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/13aa96a16bcefa78b16cc99ed9e4f1f4","value":"13aa96a16bcefa78b16cc99ed9e4f1f4"},"sys_update_name":"sys_ws_operation_cc48473443101610cce958472bb8f2db","consumes_customized":"false","name":"Filter Decisions","produces":"application/json,application/xml,text/xml","relative_path":"/filter_decisions","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    try {\n        var scheduledDeploymentDateInUTC = request.body.data.scheduledDeploymentDateInUTC;\n        var currentRecordSysID = request.pathParams[\"record_sys_id\"];\n\n        if (!currentRecordSysID || !scheduledDeploymentDateInUTC) {\n            throw new sn_ws_err.ServiceError()\n                .setStatus(500)\n                .setMessage(gs.getMessageLang(\"Both scheduled deployment date and deployment request sysID are required\", \"en\"))\n                .setDetail(gs.getMessage(\"Both scheduled deployment date and deployment request sysID are required\"));\n        }\n\n        var result = ScheduledDeploymentService.updateScheduledDeploymentDate(currentRecordSysID, scheduledDeploymentDateInUTC);\n\n        if (!result.scheduledDeploymentRecord) {\n            response.setBody({\n                message: gs.getMessage(\"Scheduled deployment record not found\")\n            });\n            response.setStatus(404);\n\n            return;\n        }\n\n        var deploymentRequestStateSuccesfullyUpdated = ScheduledDeploymentService.approveDeploymentRequest(currentRecordSysID);\n\n        if (!deploymentRequestStateSuccesfullyUpdated) {\n            response.setBody({\n                message: gs.getMessage(\"Scheduled deployment approval state was not updated\")\n            });\n            response.setStatus(501);\n\n            return;\n        }\n\n        response.setBody(result);\n        response.setStatus(200);\n\n    } catch (exception) {\n        gs.error(\"Scheduled deployment date failed to update with error message \" + exception);\n\n        throw new sn_ws_err.ServiceError()\n            .setStatus(500)\n            .setMessage(gs.getMessageLang(\"Scheduled deployment date failed to update with error message {0}\", \"en\", [exception]))\n            .setDetail(gs.getMessage(\"Scheduled deployment date failed to update with error message {0}\", [exception]));\n    }\n\n})(request, response);","sys_updated_on":"2023-04-17 15:37:14","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/c64d1f1b43c62110fcbf9bf6cab8f241","value":"c64d1f1b43c62110fcbf9bf6cab8f241"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"cc7d935b43c62110fcbf9bf6cab8f235","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/sn_deploy_pipeline/v1/scheduled_deployment/{record_sys_id}","sys_created_on":"2023-04-12 16:40:21","sys_name":"PATCH Update Scheduled Deployment Date","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bb67ed7253e83010b846ddeeff7b1204","value":"bb67ed7253e83010b846ddeeff7b1204"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/84da5f9743c62110fcbf9bf6cab8f2da","value":"84da5f9743c62110fcbf9bf6cab8f2da"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bb67ed7253e83010b846ddeeff7b1204","value":"bb67ed7253e83010b846ddeeff7b1204"},"sys_update_name":"sys_ws_operation_cc7d935b43c62110fcbf9bf6cab8f235","consumes_customized":"false","name":"PATCH Update Scheduled Deployment Date","produces":"application/json,application/xml,text/xml","relative_path":"/{record_sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_deploy_pipeline/scheduled_deployment/{record_sys_id}","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar sysId = request.pathParams.sys_id || null;\n\tif (!sysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Standard Change Request id not provided\");\n\n\tvar changeProcess = global.StandardChangeProcess.findById(sysId);\n\tif (!changeProcess)\n\t\treturn new sn_ws_err.NotFoundError(\"Standard Change Request not found\");\n\n\treturn changeProcess.toJS();\n})(request, response);","sys_updated_on":"2018-07-07 19:48:49","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"cc815bdb5303130096c3ddeeff7b126e","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/standard/{sys_id}","sys_created_on":"2018-07-07 19:08:56","sys_name":"Standard","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_cc815bdb5303130096c3ddeeff7b126e","consumes_customized":"false","name":"Standard","produces":"application/json,application/xml,text/xml","relative_path":"/standard/{sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/standard/{sys_id}","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    const params = UDCUtil.assign({},\n        request.pathParams,\n        UDCUtil.normalizeQueryParams(request.queryParams), {\n            payload: request.body.data\n        }\n    );\n\n    const {\n        collectionSysId,\n        payload\n    } = params;\n    const {\n        sysId,\n        table,\n        url,\n        label\n    } = payload;\n    const LOG = new Logger(`POST:/v1/collection/${collectionSysId}`);\n\n    try {\n        if (!Collection.isFavoriteCollection(collectionSysId) && !Collection.isValidCollection(collectionSysId))\n            throw `Invalid collection item insertion. Collection does not exist with sys id: ${collectionSysId}`;\n\n        const insertedRecordSysId = CollectionItem.insertCollectionItemForCollection(collectionSysId, {\n            file: sysId,\n            fileTable: table,\n            url,\n            label\n        });\n\n        const collectionItemDetails = CollectionItem.getCollectionItemDetails(insertedRecordSysId);\n\n        return {\n            status: 'success',\n            ...collectionItemDetails\n        };\n    } catch (error) {\n        LOG.error(`Failed to insert collection item: ${error.toString()}`);\n        return response.setError(new sn_ws_err.BadRequestError(error.toString()));\n    }\n})(request, response);","sys_updated_on":"2024-08-01 12:40:00","enforce_acl":"4464a7a0a392311018d4189b66fcdac7","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/867b5921f391021000baad941484cace","value":"867b5921f391021000baad941484cace"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"cc8b9921f391021000baad941484caf7","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_udc/v1/collection/{collectionSysId}","sys_created_on":"2024-04-01 06:21:11","sys_name":"POST Collection Items","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5e4b9521f391021000baad941484caf7","value":"5e4b9521f391021000baad941484caf7"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_update_name":"sys_ws_operation_cc8b9921f391021000baad941484caf7","consumes_customized":"false","name":"POST Collection Items","produces":"application/json,application/xml,text/xml","relative_path":"/{collectionSysId}","produces_customized":"false","default_operation_uri":"/api/sn_udc/collection/{collectionSysId}","sys_policy":"read"},{"short_description":"Get Embedded help content by sys_id of the embedded_help_content record.","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar restHandler, result, snhelpUtil;\n\ttry {\n\n\t\tsnhelpUtil = new SNHelpUtil();\n\t\tif(!snhelpUtil.isSnHelpEnabled())\n\t\t\treturn snhelpUtil.snHelpDisabledError(response);\n\n\t\trestHandler = new SNHelpGuidanceRestHandler();\n\t\tresult = restHandler.getDocumentById(request.pathParams.sys_id);\n\t\tresponse.setStatus(result.status);\n\n\t\tif (result.error) {\n\t\t\tresponse.setBody({error: result.error});\n\t\t} else {\n\t\t\tresponse.setStatus(result.status);\n\t\t\tresponse.setBody(result.data);\n\t\t}\n\n\t} catch (e) {\n\t\tresponse.setStatus(500);\n\t\tgs.error(\"SNHelpGuidanceRestHandler: \" + e.message);\n\t\tresponse.setBody({error: \"Internal server error\"});\n\t}\n\n})(request, response);","sys_updated_on":"2020-08-29 06:54:42","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"cca0f0375362101089abddeeff7b1207","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/help/documents/{sys_id}","sys_created_on":"2020-08-17 08:57:45","sys_name":"Get Help Document by sys_id","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/bd93a9195300501065f2ddeeff7b1297","value":"bd93a9195300501065f2ddeeff7b1297"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"11","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/562ba37304352210559073c06a02f751","value":"562ba37304352210559073c06a02f751"},"sys_update_name":"sys_ws_operation_cca0f0375362101089abddeeff7b1207","consumes_customized":"false","name":"Get Help Document by sys_id","produces":"application/json,application/xml,text/xml","relative_path":"/documents/{sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // implement resource here\n\tvar SUCCESS_CODE = 200;\n\tvar variables = request.body.nextEntry();\n\tvar table_name = request.pathParams.table_name;\n\tvar sys_id = request.pathParams.sys_id;\n\tif (GlideStringUtil.isEligibleSysID(sys_id)) {\n\t\tvar gr = new GlideRecord(table_name);\n\t\tif (!gr.get(sys_id) || !gr.canWrite())\n\t\t\tthrow new sn_ws_err.NotFoundError(\"Either the record is invalid or security constraints prevent access to it!\");\n\t\tfor (var key in variables)\n\t\t\tif (variables.hasOwnProperty(key) && typeof gr.variables[key] !== 'undefined')\n\t\t\t\tgr.variables[key] = variables[key];\n\t\tif (gr.update())\n\t\t\tresponse.setStatus(SUCCESS_CODE);\n\t\telse\n\t\t\tthrow new sn_ws_err.BadRequestError('Failed to update the record');\n\t} else\n\t\tthrow new sn_ws_err.BadRequestError(\"Invalid Sys Id\");\n})(request, response);","sys_updated_on":"2021-09-17 08:37:14","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"cd374a3653220010bcd5ddeeff7b1257","http_method":"PUT","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/variables/{table_name}/{sys_id}","sys_created_on":"2020-01-28 17:47:38","sys_name":"Update Variables","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_cd374a3653220010bcd5ddeeff7b1257","consumes_customized":"false","name":"Update Variables","produces":"application/json,application/xml,text/xml","relative_path":"/variables/{table_name}/{sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/variables/{table_name}/{sys_id}","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar queryList = request.queryParams.queryID + \"\";\n\tqueryList = queryList.split(',');\n\t\n\tvar exported = [];\n\tvar newUpdateSetName = 'QueryExport ' + new GlideDateTime().toString();\n\tvar exportSysId = \"\";\n\tvar exporterlogger = {\n\n        init: function() {\n            this.exportlog = '';\n        },\n\n        log: function(logMessage) {\n            var formattedMsg = 'LOG: ' + logMessage + '\\n';\n            this.exportlog = this.exportlog + formattedMsg;\n            gs.log(formattedMsg);\n        },\n        error: function(errorMessage){\n            var formattedMsg = 'ERROR: ' + errorMessage + '\\n';\n            this.exportlog = this.exportlog + formattedMsg;\n            gs.log(formattedMsg);\n        },\n\n        getLog: function(){\n            return this.exportlog;\n        }\n    };\n    var publisher = new CMDBUpdateSetPublisher(newUpdateSetName, exporterlogger);\n\ttry{\n\t\texportData();\n\t}catch(error){\n\t\texporterlogger.error('Fail to export due to:' + error);\n\t\texportComplete(false);\n\t}\n\texportComplete(true);\n\t\n    function exportData() {\n       for(var queryIndex in queryList) {\n           var querySysId = queryList[queryIndex];\n           if (_contains(querySysId)) continue;\n           var record = getQueryRecord(querySysId);\n           publisher.publishSingle(record);\n           exported.push(querySysId);\n           record.next();\n           _exportDependentQuery(record.dependencies);\n       }\n    }\n\n    function getQueryRecord(queryId){\n        var gr = new GlideRecord('qb_saved_query');\n        gr.addQuery('sys_id', queryId);\n        gr.query();\n        return gr;\n    }\n\n    function _exportDependentQuery(dependencies) {\n        var queryID = dependencies.split(',');\n        for (var i = 0; i < queryID.length; i++) {\n            var id = queryID[i];\n            if (_contains(id)) continue;\n \t\t    exporterlogger.log(\"Exporting query: \" + _getQueryName(id));\n            publisher.publishSingle(getQueryRecord(id));\n            exported.push(id);\n        }\n    }\n\n    function _contains(s) {\n        for (var i = 0; i < exported.length; i++) {\n            if (exported[i] == s) return true;\n        }\n        return false;\n    }\n\n\tfunction _getQueryName(queryId){\n\t\tvar gr = new GlideRecord('qb_saved_query');\n        if (gr.get(queryId))\n\t\t\treturn gr.name;\n\t\treturn null;\n\t}\n\t\n\tfunction exportComplete(isSuccess){\n        exporterlogger.log('exportComplete');\n        if (isSuccess){\n            publisher.complete();\n            exporterlogger.log('UpdateSet id is: ' + publisher.getUpdateSetId());\n            var gr = GlideRecord('sys_update_set');\n            gr.addQuery(\"sys_id\", publisher.getUpdateSetId());\n            gr.addQuery(\"state\", \"complete\");\n            gr.query();\n\n            var updateSetExport = new UpdateSetExport();\n            if(gr.hasNext()) {\n                gr.next();\n                var currentGr = gr;\n                exporterlogger.log('Exporting UpdateSet: ' + newUpdateSetName + ' to file');\n                exportSysId = updateSetExport.exportHierarchy(currentGr);\n                exporterlogger.log('Export XML sys_id: ' + exportSysId);    \n            } else{\n                exporterlogger.error('Exporting UpdateSet: ' + this.newUpdateSetName + ' to file failed');                \n            }\n        }\n        \n        gs.log(exporterlogger.getLog());\n        publisher.accomplish();\n    }\n\treturn exportSysId;\n})(request, response);","sys_updated_on":"2024-07-01 22:52:17","enforce_acl":"c40dfda1b32013005e3de13516a8dcd7","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"cd3f9bb0b7032300ee0d3177ee11a9a1","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/querybuilder/exportquery","sys_created_on":"2019-01-14 21:57:57","sys_name":"Export Query","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/1e8e17b0b7032300ee0d3177ee11a9d1","value":"1e8e17b0b7032300ee0d3177ee11a9d1"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"32","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_ws_operation_cd3f9bb0b7032300ee0d3177ee11a9a1","consumes_customized":"false","name":"Export Query","produces":"application/json,application/xml,text/xml","relative_path":"/exportquery","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\n\tresponse.setBody({instanceId: gs.getProperty(\"instance_id\"), isValid: true});\n    response.setStatus(200);\n\n})(request, response);","sys_updated_on":"2021-08-25 15:58:59","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/3eeef5f2b72030100290b9708e11a939","value":"3eeef5f2b72030100290b9708e11a939"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"cd4f427eb72030100290b9708e11a9f5","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_pipeline/v1/pipeline/validate_connection","sys_created_on":"2021-06-08 19:35:59","sys_name":"Validate Connection","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e78853e9c3222010b83971e54440dd26","value":"e78853e9c3222010b83971e54440dd26"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/0a6e31f2b72030100290b9708e11a980","value":"0a6e31f2b72030100290b9708e11a980"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"9","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e78853e9c3222010b83971e54440dd26","value":"e78853e9c3222010b83971e54440dd26"},"sys_update_name":"sys_ws_operation_cd4f427eb72030100290b9708e11a9f5","consumes_customized":"false","name":"Validate Connection","produces":"application/json,application/xml,text/xml","relative_path":"/validate_connection","produces_customized":"false","default_operation_uri":"/api/sn_pipeline/pipeline/validate_connection","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // implement resource here\n\tif(request.pathParams.action == 'get') {\n\t\tvar stack = gs.getSession().getStack('default');\n\t\treturn {url: stack.back()};\n\t}\n\n\treturn resp;\n})(request, response);","sys_updated_on":"2017-07-11 13:29:12","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"cd64c28b0b3372005775aabcb4673ac8","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/change_request_calendar/glidestack/{action}","sys_created_on":"2017-07-11 09:21:03","sys_name":"GlideStack","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/0472746e0b2332005775aabcb4673a25","value":"0472746e0b2332005775aabcb4673a25"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3eb7af7f04b12210559073c06a02f7fb","value":"3eb7af7f04b12210559073c06a02f7fb"},"sys_update_name":"sys_ws_operation_cd64c28b0b3372005775aabcb4673ac8","consumes_customized":"false","name":"GlideStack","produces":"application/json,application/xml,text/xml","relative_path":"/glidestack/{action}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n \tif (!request.body.hasNext())\n\t\treturn new sn_ws_err.BadRequestError(\"illegal payload\");\n\n\tvar sysId = \"\";\n\tvar query = \"\";\n\tif (request.body.hasNext()) {\n\t\tvar entry = request.body.nextEntry();\n\t\tsysId = entry.sys_id + \"\";\n\t\tquery = entry.query + \"\";\n\t}\n\n\tvar gr = new GlideRecordSecure(\"chg_soc_definition\");\n\tif (!sysId || !query || !gr.get(sysId))\n\t\treturn new sn_ws_err.BadRequestError(\"chg_soc_definition: \" + sysId + \" record not found\");\n\n\treturn new SoCDefinition(gr).getSuggestions(query);\n})(request, response);\n","sys_updated_on":"2018-02-16 16:42:12","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"cda72c4e57d01300532c3da73d94f9e9","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_chg_soc/soc/getSuggestions","sys_created_on":"2018-02-16 16:41:44","sys_name":"getSuggestions","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3115d45f67020300b410afa00585ef87","value":"3115d45f67020300b410afa00585ef87"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_update_name":"sys_ws_operation_cda72c4e57d01300532c3da73d94f9e9","consumes_customized":"false","name":"getSuggestions","produces":"application/json,application/xml,text/xml","relative_path":"/getSuggestions","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    let result = {\n        companyKey: '',\n        companyName: ''\n    };\n\n    try {\n        const vendorInfo = new sn_appauthor.ScopedAppVendorInfoObtainer().obtainFromAppRepo();\n\n        result.companyKey = vendorInfo.key || '';\n        result.companyName = vendorInfo.name || '';\n    } catch (e) {\n        const message = gs.getMessage('Unable to get vendor information. Failed with error - {0}', e.message);\n        gs.error(message);\n        \n\t\tthrow new sn_ws_err.ServiceError()\n            .setStatus(400)\n            .setMessage(message);\n    }\n\n    response.setBody(result);\n    response.setStatus(200);\n\n\n})(request, response);","sys_updated_on":"2024-05-21 05:14:59","enforce_acl":"c634a3a0a392311018d4189b66fcda72","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/61dc6a69775282105e13b3c64b5a992f","value":"61dc6a69775282105e13b3c64b5a992f"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"cdc739c053444a107072ddeeff7b122e","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_udc/v1/generic/vendor_info","sys_created_on":"2024-01-25 13:11:42","sys_name":"Get Vendor Information","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/d357798053444a107072ddeeff7b1246","value":"d357798053444a107072ddeeff7b1246"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_update_name":"sys_ws_operation_cdc739c053444a107072ddeeff7b122e","consumes_customized":"false","name":"Get Vendor Information","produces":"application/json,application/xml,text/xml","relative_path":"/vendor_info","produces_customized":"false","default_operation_uri":"/api/sn_udc/generic/vendor_info","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var TABLES = {\n        PROBLEM: \"problem\",\n        OUTAGE: \"cmdb_ci_outage\",\n        TASK_OUTAGE: \"task_outage\"\n    };\n\n    /**\n     * actionId: search UI Action's unique ID\n     * problemId: sys_id of Problem record which has search term\n     * outageId: sys_id of Outage record which is the search result\n     * actionStage: to indicate whether this request is sent before or after modal\n     */\n\n    var actionId = request.body.data.actionId;\n    var problemId = request.body.data.currentId;\n    var outageId = request.body.data.resourceId;\n    var actionStage = request.body.data.actionStage;\n    var body = {};\n\n    /**\n     * action_id (mandatory): search UI Action's unique ID, AS/AI will use it to determine how to handle result\n     * item_id (optional): \"table_name:record_id\", having this tells AS/AI to refresh child record's UI Action list due to link action's change on child record\n     * succeed (mandatory): indicates link action is successfully done or not for non-rest call's\n     * successful (mandatory): indicates link action is successfully done or not for rest call's\n     * message (optional): shows on top of the form after action is performed\n     */\n\t\n\tvar message = '';\n\n    if (!gs.hasRole('itil,sn_problem_write')) {\n        message = gs.getMessage(\"Roles are insufficient to perform the action\");\n        setResponse(false, message);\n        return response.setBody(body);\n    }\n\n    var outageGr = new GlideRecord(TABLES.OUTAGE);\n    if (!outageGr.get(outageId)) {\n        message = gs.getMessage(\"Invalid Outage record\");\n        setResponse(false, message);\n        return response.setBody(body);\n    }\n\n    var problemGr = new GlideRecord(TABLES.PROBLEM);\n    if (!problemGr.get(problemId)) {\n        message = gs.getMessage(\"Invalid Problem record\");\n        setResponse(false, message);\n        return response.setBody(body);\n    }\n\n    var errMsg = gs.getMessage('Linking \"Outage\" record to {0} has failed', problemGr.getDisplayValue());\n    var infoMsg = gs.getMessage('{0} has been linked to {1}.', [outageGr.getDisplayValue('number'), problemGr.getDisplayValue('number')]);\n\n    body.action_id = actionId;\n    body.item_id = TABLES.PROBLEM + \":\" + problemGr.getUniqueValue();\n\n    if (actionId.includes('rest')) {\n        if (actionStage === 'pre_modal') {\n            body.successful = true;\n            body.useModal = true;\n            body.modalTitle = gs.getMessage('Link to Problem');\n            body.errMsg = errMsg;\n            body.modalInfoMsg = gs.getMessage('You are linking the current {0} to {1}', [outageGr.getDisplayValue('number'), problemGr.getDisplayValue('number')]);\n            body.modalFields = [{\n                label: gs.getMessage('{0} (Private)', problemGr.work_notes.getLabel()),\n                name: 'work_notes',\n                value: '',\n                fieldType: 'textarea'\n            }];\n            body.updateCurrentRecord = false;\n            body.postModalRestRequired = true;\n            return response.setBody(body);\n        } else if (actionStage === 'post_modal') {\n            if (createTaskOutage(outageId, problemId)) {\n                body.useModal = false;\n                body.updateCurrentRecord = true;\n                setResponse(true, infoMsg);\n            } else {\n                setResponse(false, errMsg);\n            }\n            return response.setBody(body);\n        }\n    }\n\n    if (!createTaskOutage(outageId, problemId)) {\n        setResponse(false, errMsg);\n    } else {\n        setResponse(true, infoMsg);\n    }\n\t\n    return response.setBody(body);\n\n    function setResponse(success, message) {\n        if (actionId.includes('rest')) {\n            body.successful = success;\n            if (success) {\n                body.infoMsg = message;\n            } else {\n                body.errMsg = message;\n            }\n        } else {\n            body.succeed = success;\n            body.message = message;\n        }\n        return;\n    }\n\n    function createTaskOutage(outageId, problemId) {\n        var taskOutageGr = new GlideRecord(\"task_outage\");\n        taskOutageGr.initialize();\n        taskOutageGr.setValue(\"outage\", outageId);\n        taskOutageGr.setValue(\"task\", problemId);\n        return taskOutageGr.insert();\n\n    }\n\n})(request, response);","sys_updated_on":"2022-03-10 06:51:50","enforce_acl":"7d2e2303eb420110cfc583402a52288f","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"ce2710cb53033010d82dddeeff7b120b","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/cxs_actions/link_prb_to_outage","sys_created_on":"2021-10-11 12:04:09","sys_name":"link_prb_to_outage","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/54a81ee10b11301039dd818393673a5c","value":"54a81ee10b11301039dd818393673a5c"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5f387aa0b32023002bf182c136a8dc1c","value":"5f387aa0b32023002bf182c136a8dc1c"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/54a81ee10b11301039dd818393673a5c","value":"54a81ee10b11301039dd818393673a5c"},"sys_update_name":"sys_ws_operation_ce2710cb53033010d82dddeeff7b120b","consumes_customized":"false","name":"link_prb_to_outage","produces":"application/json,application/xml,text/xml","relative_path":"/link_prb_to_outage","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var table = request.body.data.table || null;\n    if (!table)\n        return new sn_ws_err.BadRequestError('table not provided');\n\n    var sysId = request.body.data.sysId || null;\n    if (!sysId)\n        return new sn_ws_err.BadRequestError('sysId not provided');\n\n    var view = request.body.data.view || null;\n    if (!view)\n        return new sn_ws_err.BadRequestError('view not provided');\n\n    var state = request.body.data.state || '';\n    var isNew = (request.body.data.isNew + '' === 'true') || (sysId === '-1');\n\n    var problemUtils = new sn_sow_itsm_common.SOWOverviewUtils();\n    var result = {\n        formData: problemUtils.getFormSectionsForLayout(table, sysId, view),\n        stateFormData: problemUtils.getSectionsForState(table, sysId, state, isNew),\n        versionNumber: gs.getProperty('itsm_family_release_version_check', 0)\n    };\n\n    return result;\n})(request, response);","sys_updated_on":"2024-05-15 14:19:08","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"ce57e0ff5706021013d48f90ac94f9f6","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/sn_sow_problem/sow_problem_utils/get_form_sections_layout","sys_created_on":"2024-05-15 09:03:45","sys_name":"Get Overview Sections","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/54a81ee10b11301039dd818393673a5c","value":"54a81ee10b11301039dd818393673a5c"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/8a16e47f5706021013d48f90ac94f9d5","value":"8a16e47f5706021013d48f90ac94f9d5"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/54a81ee10b11301039dd818393673a5c","value":"54a81ee10b11301039dd818393673a5c"},"sys_update_name":"sys_ws_operation_ce57e0ff5706021013d48f90ac94f9f6","consumes_customized":"false","name":"Get Overview Sections","produces":"application/json,application/xml,text/xml","relative_path":"/get_form_sections_layout","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var options = TBUtil.assign({},\n        request.pathParams,\n        TBUtil.normalizeQueryParams(request.queryParams), {\n            payload: request.body.data\n        }\n\n    );\n    var apiResponse = new APIRequestProcessor(APIRequestProcessor.VALIDATE_FIELD_VALUES, options).build();\n\n    response.setBody(apiResponse);\n\n})(request, response);","sys_updated_on":"2020-09-10 02:57:32","enforce_acl":"f70e338e73f110107419c907fbf6a733","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"ce896df2c703101031a006d427c26070","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_table_builder/app/field_validation/{table}","sys_created_on":"2020-09-08 07:05:47","sys_name":"Table Field Validation API","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f53f19bac362fa22ca2e93692d32f18f","value":"f53f19bac362fa22ca2e93692d32f18f"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/72cd338e73f110107419c907fbf6a730","value":"72cd338e73f110107419c907fbf6a730"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"15","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f53f19bac362fa22ca2e93692d32f18f","value":"f53f19bac362fa22ca2e93692d32f18f"},"sys_update_name":"sys_ws_operation_ce896df2c703101031a006d427c26070","consumes_customized":"false","name":"Table Field Validation API","produces":"application/json,application/xml,text/xml","relative_path":"/field_validation/{table}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","sys_updated_on":"2023-05-25 07:19:05","enforce_acl":"f9ee8aadc723101092acdc8703c2602d","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"cec99adbc753101092acdc8703c260b3","http_method":"DELETE","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/item/{record_id}","sys_created_on":"2020-09-22 10:07:23","sys_name":"Delete catalog item in wizard","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5a9d2bff04352210559073c06a02f771","value":"5a9d2bff04352210559073c06a02f771"},"sys_update_name":"sys_ws_operation_cec99adbc753101092acdc8703c260b3","consumes_customized":"false","name":"Delete catalog item in wizard","produces":"application/json,application/xml,text/xml","relative_path":"/item/{record_id}","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/item/{record_id}","sys_policy":"protected"},{"short_description":"","operation_script":"(function process(request, response) {\n    var appId = request.pathParams.appId;\n\n    ScopeCheck.verifyNotGlobal(appId);\n    var allowed = VCSAppAccessCheck.verifyWriteAccess(appId) && (VCSAppAccessCheck.verifyPublishAccess(appId) || VCSAppAccessCheck.isGACOrSourceControlUser() || VCSAppAccessCheck.verifyVersionControlAccess(appId));\n\n    if (!allowed)\n        VCSAppAccessCheck.throwAccessDenied(appId);\n\n    var progressId = sn_vcs.AppSourceControl.getRepository(appId)\n        .workers().createTag()\n        .setTagName(request.body.data.tagName)\n        .start();\n\n    response.setContentType('application/json');\n    response.setBody({\n        progressId: progressId\n    });\n    response.setStatus(202);\n\n})(request, response);","sys_updated_on":"2022-05-13 15:00:56","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"cecb2c8537a01200612747efbe41f1e8","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/apps/{appId}/repos/{repoId}/tags","sys_created_on":"2015-12-23 15:58:18","sys_name":"Create Tag","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"15","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_cecb2c8537a01200612747efbe41f1e8","consumes_customized":"false","name":"Create Tag","produces":"application/json,application/xml,text/xml","relative_path":"/apps/{appId}/repos/{repoId}/tags","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/apps/{appId}/repos/{repoId}/tags","sys_policy":"read"},{"short_description":"Compare two contents of tracekd configuration file by 2 given times","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar queryParams = request.queryParams;\n\tvar bsId = String(queryParams.bs_id || '');\n\tvar fileId = String(queryParams.file_id || '');\n\tvar fileStableId = String(queryParams.file_stable_id || '');\n\tvar fromTimestamp = String(queryParams.from_timestamp || '');\n\tvar toTimestamp = String(queryParams.to_timestamp || '');\n\tvar showIdenticalDiff = String(queryParams.show_identical_diff) === \"true\";\n\t\n\tif (!bsId || !fileId || !fileStableId || !fromTimestamp || !toTimestamp) {\n\t\tresponse.setError(new sn_ws_err.BadRequestError('Missing required parameters.'));\n\t\treturn;\n\t}\n\t\n    var api = new SNC.TrackedConfigFilesHistoryManager();\n\t\n\tvar oldValue = api.getFileContent(fileId, fileStableId, bsId, fromTimestamp);\n\tvar newValue = api.getFileContent(fileId, fileStableId, bsId, toTimestamp);\n\t\n\tvar differ = new Differ();\n\tvar compareResult = differ.diff(oldValue, newValue, \"\", showIdenticalDiff);\n\t\n\tresponse.setStatus(200);\n\tresponse.setContentType(\"text/html\");\n\t//content can be empty string (identical values compared)\n\tresponse.getStreamWriter().writeString(compareResult);\n\n})(request, response);","sys_updated_on":"2019-05-01 15:13:32","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"cf0d98d187232200b5bea18dd0e3ecdd","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/tracked_config_files/compare_by_two_times","sys_created_on":"2016-12-06 08:57:43","sys_name":"CompareBy2Times","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/68ec639187132200b5bea18dd0e3ec51","value":"68ec639187132200b5bea18dd0e3ec51"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"13","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_cf0d98d187232200b5bea18dd0e3ecdd","consumes_customized":"false","name":"CompareBy2Times","produces":"text/html","relative_path":"/compare_by_two_times","produces_customized":"true","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var data = request.body.data;\n\n    try {\n        var result = sn_nlu_workbench.NLUBatchTestProcessor.createBatchTestSet(data);\n        if (result.status === 'success') {\n            response.setStatus(200);\n        } else {\n            response.setStatus(400);\n        }\n        response.setContentType('application/json');\n        return result;\n    } catch (e) {\n        response.setStatus(400);\n        return {\n            status: 'failure',\n            message: e.message\n        };\n    }\n\n})(request, response);","sys_updated_on":"2021-02-05 10:17:48","enforce_acl":"0f43facbeb8220105de665fcc8522895","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b51a6d700710201028ef0a701ad300ab","value":"b51a6d700710201028ef0a701ad300ab"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"cf2d29f00710201028ef0a701ad300fd","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_nlu_workbench/v1/nlu_advanced/createBatchTest","sys_created_on":"2020-11-03 06:42:05","sys_name":"createBatchTest","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea82488673402010e6b632e954f6a7ca","value":"ea82488673402010e6b632e954f6a7ca"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_update_name":"sys_ws_operation_cf2d29f00710201028ef0a701ad300fd","consumes_customized":"false","name":"createBatchTest","produces":"application/json,application/xml,text/xml","relative_path":"/createBatchTest","produces_customized":"false","default_operation_uri":"/api/sn_nlu_workbench/nlu_advanced/createBatchTest","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n    var repos,  \n\t\tlinkedApps = {},\n\t\tallApps = [];\n\t\n\tif (typeof sn_vcs !== 'undefined' && \n\t\ttypeof sn_vcs.AppSourceControl !== 'undefined') {\n\t\t\n\t\trepos = sn_vcs.AppSourceControl.getRepositories();\n\t\n\t\twhile (repos.next()) {\n\t\t\tlinkedApps[repos.getSysAppSysId()] = {\n\t\t\t\tappId: repos.getSysAppSysId(),\n\t\t\t\trepoId: repos.getSysId(),\n\t\t\t\turl: repos.getRepositoryURL(),\n\t\t\t\tcurrentBranch: repos.getCurrentBranch(),\n\t\t\t\tsha: repos.getCurrentCommit(),\n\t\t\t\tshortDescription: repos.getShortDescription(),\n\t\t\t\thasLocalChanges: repos.hasOutgoingChanges(),\n\t\t\t\thasRemoteChanges: repos.hasIncomingChanges()\n\t\t\t};\n\t\t}\n\t}\n\t\n\tallApps = _.map(getCustomApps(), function(app) {\n\t\treturn _.extend(app, {vcs: linkedApps[app.sysId] || {}});\n\t});\n\t\n\tresponse.setStatus(200);\n\tresponse.setContentType('application/json');\n\tresponse.setBody({\n\t\tcount: allApps.length,\n\t\tapps: allApps,\n\t});\n\t\n\tfunction getCustomApps() {\n\t\tvar gr = new GlideRecord('sys_app'), \n\t\t\tapps = [];\n\t\t\n\t\tgr.orderByDesc('sys_created_on');\n\t\tgr.query();\n\t\t\t\n\t\twhile (gr.next()) {\n\t\t\tif (gr.canRead())\n\t\t\t\tapps.push(getAppDetails(gr));\n\t\t}\n\t\t\n\t\treturn apps;\n\t}\n\t\n\tfunction getAppDetails(app) {\n\t\tvar logoid = new GlideRecord('sys_attachment'),\n\t\t\tdetails = {};\n\t\t\n\t\tlogoid.addQuery('table_sys_id', app.sys_id);\n\t\tlogoid.addQuery('file_name', 'logo');\n\t\tlogoid.query();\n\t\t\n\t\tif (logoid.next())\n\t\t\tdetails.logo = logoid.sys_id + \".iix\";\n\t\t\n\t\tdetails.sysId = app.getValue('sys_id');\n\t\tdetails.shortDescription = app.getValue('short_description') || '';\n \t\tdetails.keyFeatures = app.getValue('key_features') || '';\n \t\tdetails.releaseNotes = app.getValue('release_notes') || '';\n \t\tdetails.name = app.name.toString();\n \t\tdetails.vendor = app.getValue('vendor');\n \t\tdetails.vendorPrefix = app.getValue('vendor_prefix');\n \t\tdetails.link = app.getLink(true); \n \t\tdetails.scope = app.getValue('scope');\n \t\tdetails.active = !!app.getValue('active');\n\t\t\t\n\t\tvar installDate = null;\t\t\n\t\tif (app.isValidField('install_date') && !app.install_date.nil()) {\n\t\t\tinstallDate = new GlideDate();\n\t\t\tinstallDate.setValue(app.getValue('install_date'));\n\t\t} else if (app.isValidField('version') && !gs.nil(app.version)) {\n\t\t\tinstallDate = new GlideDate();\n\t\t\tinstallDate.setValue(app.getValue('sys_created_on'));\n\t\t}\n\t\t\n\t\tvar updateDate = '';\t\t\n\t\tdetails.recentUpdated = false;\n\t\t\t\t\n\t\tif (app.isValidField('update_date') && !app.update_date.nil()) {\n\t\t\tupdateDate = new GlideDate();\n\t\t\tupdateDate.setValue(app.getValue('update_date'));\t\t\t\n\t\t\tvar thirtyDaysAgo = new GlideDate();\n\t\t\tthirtyDaysAgo.setValue(gs.daysAgoStart(30));\n\t\t\tdetails.hasUpdated = updateDate.compareTo(installDate) > 0;\n\t\t\tdetails.recentUpdated = !!(details.hasUpdated && updateDate.compareTo(thirtyDaysAgo) >= 0);\n\t\t}\n\t\t\n\t\tdetails.installDate = gs.nil(installDate) ? '' : installDate.getDisplayValue();\n\t\tdetails.updateDate = gs.nil(updateDate) ? '' : updateDate.getDisplayValue();\n\t\t\n\t\tvar version;\n\t\tif (!gs.nil(app.version)) {\n\t\t\tversion = app.getValue('version');\n\t\t\tdetails.version = version === '1.0' ? '1.0.0' : version;\n\t\t\tdetails.versionDisplay = getMajorAndMinorDisplayVersion(details.version);\n\t\t} else\n\t\t\tdetails.version = '';\n\t\t\n\t\tif (app.isValidField('assigned_version') && !gs.nil(app.assigned_version))\n\t\t\tdetails.assignedVersion = app.getValue('assigned_version');\n\t\telse\n\t\t\tdetails.assignedVersion = details.version;\n\t\t\n\t\tif (app.isValidField('latest_version') && !gs.nil(app.latest_version)) {\n\t\t\tdetails.latestVersion = app.getValue('latest_version');\n\t\t\tdetails.latestVersionDisplay = getMajorAndMinorDisplayVersion(details.latestVersion);\n\t\t\t\n\t\t\tif (details.version !== details.latestVersion && details.versionDisplay === details.latestVersionDisplay)\n\t\t\t\t details.latestVersionDisplay = details.latestVersion;\n\t\t} else {\n\t\t\tdetails.latestVersion = details.version;\n\t\t\tdetails.latestVersionDisplay = details.versionDisplay;\n\t\t}\n\t\t\n\n\t\tdetails.sysUpdatedOn = app.getDisplayValue('sys_updated_on');\n\t\tdetails.sysCreatedOn = app.getDisplayValue('sys_created_on');\n\t\t\n\t\tvar createdOn = new GlideDate();\n\t\t\n\t\tcreatedOn.setValue(app.getValue('sys_created_on'));\n\t\tdetails.sysCreatedOnDisplay = createdOn.getDisplayValue();\n\n\t\tvar displayDate = new GlideDate();\n\t\tvar publishDate = app.isValidField('publish_date') && !app.publish_date.nil() ? app.getValue('publish_date') : app.getValue('sys_updated_on');\n\t\t\n\t\tdisplayDate.setValue(publishDate);\n\t\tdetails.displayDate = displayDate.getDisplayValue();\n\t\t\n\t\treturn details;\n\t}\n\t\n\tfunction getMajorAndMinorDisplayVersion(val) {\n\t\tvar ary = val.toString().split('.');\n\t\tif (ary.length <= 1)\n\t\t\treturn val;\n\t\t\n\t\tif (ary[ary.length - 1].length >= 12)\n\t\t\treturn val;\n\t\t\t\n\t\tif (ary.length >= 2 && ary[0] === 0 && ary[1] === 0)\n\t\t\treturn val;\n\t\t\t\n\t\treturn ary[0]+'.'+ary[1];\n\t}\n\n})(request, response);","sys_updated_on":"2021-03-31 18:26:44","enforce_acl":"a2bc421e37001200612747efbe41f1f0","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"cfb3fd7237930200612747efbe41f15e","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/apps","sys_created_on":"2015-10-28 04:22:49","sys_name":"List Applications","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"102","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_cfb3fd7237930200612747efbe41f15e","consumes_customized":"false","name":"List Applications","produces":"application/json,application/xml,text/xml","relative_path":"/apps","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/apps","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\n\tvar identification_main_tables = new IdentificationMainTables();\n\tvar className = request.pathParams.className;\n\treturn identification_main_tables.getParentTablesForClassManager(className);\n\t\n})(request, response);","sys_updated_on":"2024-04-18 16:57:26","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"cfb451cc772902107170f350ff5a99b7","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/cmdb_ui_api/IdentificationGetParentClasses/{className}","sys_created_on":"2024-04-09 00:14:41","sys_name":"IdentificationGetParentClasses","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/11920c063b1003001298874064efc45a","value":"11920c063b1003001298874064efc45a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_ws_operation_cfb451cc772902107170f350ff5a99b7","consumes_customized":"false","name":"IdentificationGetParentClasses","produces":"application/json,application/xml,text/xml","relative_path":"/IdentificationGetParentClasses/{className}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\t// implement resource here\n\tvar actSubCtx = ActivitySubscriptionContext.getContext();\n\tif(!actSubCtx.isPluginEnabled()){\n\t\tresponse.setStatus(400);\n\t\treturn {\"status\":400,\n\t\t\t\t\"message\":\"Plugin is disabled please contact system administrator\"};\n\t}\n\n\tvar subscriptionService = actSubCtx.getSubscriptionService();\n\tvar subscriber_id = request.pathParams.follower;\n\tvar subObjType = request.queryParams.objType;\n\tvar orderBy = request.queryParams.orderBy;\n\tvar firstRow = request.queryParams.firstRow;\n\tvar lastRow = request.queryParams.lastRow;\t\n\tvar searchString = request.queryParams.searchString;\t\n\n\tvar result = subscriptionService.getFollowingsByFollower(subscriber_id, subObjType, orderBy, firstRow, lastRow, searchString);\n\n\tresponse.setStatus(result.status);\n\tresponse.setContentType('application/json');\n\tresponse.setBody(result);\n\n})(request, response);","sys_updated_on":"2017-06-20 05:21:55","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/882dfe6853003200fa9bd7b08cc587d5","value":"882dfe6853003200fa9bd7b08cc587d5"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"cff8ab76535732006242d7b08cc587af","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/actsub/followings/{follower}","sys_created_on":"2017-06-16 01:35:21","sys_name":"Subscriptions-Following","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/aabc7e6853003200fa9bd7b08cc5870f","value":"aabc7e6853003200fa9bd7b08cc5870f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"false","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/27dc6bfb04352210559073c06a02f739","value":"27dc6bfb04352210559073c06a02f739"},"sys_update_name":"sys_ws_operation_cff8ab76535732006242d7b08cc587af","consumes_customized":"false","name":"Subscriptions-Following","produces":"application/json,application/xml,text/xml","relative_path":"/followings/{follower}","produces_customized":"false","default_operation_uri":"/api/now/actsub/followings/{follower}","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var appManagerApiUtil = new AppManagerApiUtil(request, response);\n    try {\n        appManagerApiUtil.verifyTablesReadAccess([\"v_plugin\"]);\n        var args = appManagerApiUtil.getRequestParams();\n        var plugin_id = args.queryParams['plugin_id'];\n        var rctxid = args.queryParams['rctxid'];\n\n        if(!rctxid){\n            var trackerPayload = new global.PluginsData().rollbackPlugin(plugin_id);\n            var inputPayload = args.queryParams;\n            CommonUtils.addProgressTracker(inputPayload, trackerPayload, plugin_id, Constants.PLUGIN, Constants.ROLLBACK);\n            appManagerApiUtil.setResponseBody(trackerPayload);\n        }else{\n            var rollbackRunId = new global.PluginsData().getRollbackRunId(rctxid);\n            var rollbackRunIdResponse = { rollbackRunId: rollbackRunId };\n            appManagerApiUtil.setResponseBody(rollbackRunIdResponse);\n        }\n    } catch (err) {\n        appManagerApiUtil.setError(err);\n    }\n\n    })(request, response);","sys_updated_on":"2025-03-14 01:17:33","enforce_acl":"3966a96cf53bc610f87752fa9ffbe0da","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/be08b89397b0d1104b593f0e6253afe1","value":"be08b89397b0d1104b593f0e6253afe1"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"d0d0e01b873bd51054f6337e0ebb350f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_appclient/v1/appmanager/plugin/rollback","sys_created_on":"2022-12-21 06:39:30","sys_name":"Rollback Plugin","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7ea1fc5f9770d1104b593f0e6253af99","value":"7ea1fc5f9770d1104b593f0e6253af99"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_update_name":"sys_ws_operation_d0d0e01b873bd51054f6337e0ebb350f","consumes_customized":"false","name":"Rollback Plugin","produces":"application/json,application/xml,text/xml","relative_path":"/plugin/rollback","produces_customized":"false","default_operation_uri":"/api/sn_appclient/appmanager/plugin/rollback","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var manager = new SNC.EntryPointSelectorManager();\n\treturn manager.validateEntryPointTypeData(request.queryParams.entryPointData, request.queryParams.checkUniqueness, request.queryParams.serviceId );\n\n})(request, response);","sys_updated_on":"2020-03-24 21:45:35","enforce_acl":"edc5e02473230010ee4dd3c72bf6a7ea","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"d15e8dc053b70010ee0dddeeff7b12fb","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/csdm_app_service/validate_entry_point","sys_created_on":"2020-03-22 02:37:36","sys_name":"Validate Entry Point","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/60c171d973c30010ee4dd3c72bf6a716","value":"60c171d973c30010ee4dd3c72bf6a716"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2f8d67ff04352210559073c06a02f74f","value":"2f8d67ff04352210559073c06a02f74f"},"sys_update_name":"sys_ws_operation_d15e8dc053b70010ee0dddeeff7b12fb","consumes_customized":"false","name":"Validate Entry Point","produces":"application/json,application/xml,text/xml","relative_path":"/validate_entry_point","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\n\tvar applicationSysId = request.pathParams.application_sys_id;\n\tvar applicationVersion = request.pathParams.application_version;\n\n\n\tvar pipelineConfigChecks = new sn_pipeline.PipelineConfigChecks();\n\tvar grController = pipelineConfigChecks.getControllerRecord();\n\n\tif(!grController) {\n\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t.setStatus(500)\n\t\t\t.setMessage(gs.getMessageLang(\"Controller environment has not been setup.\", \"en\"))\n\t\t\t.setDetail(gs.getMessage(\"Controller environment has not been setup.\"));\n\t}\n\t\n\tvar prodBaseInstanceUrl = grController.instance_url;\n\tvar prodCredRef = grController.instance_credential.getRefRecord();\n\n\tvar inputs = {\n\t\tapplication_sys_id: applicationSysId,\n\t\tapplication_version: applicationVersion,\n\t\turl: prodBaseInstanceUrl,\n\t\tcontroller_credential: prodCredRef\n\t};\n\n\tvar getDeploymentRequestResponse = sn_fd.FlowAPI.executeSubflow('sn_app_eng_studio.get_deployment_request_subflow', inputs);\n\n\tif (getDeploymentRequestResponse.has_error) {\n\t\tgs.info(\"Error occurred in sys_ws_operation: Get Deployment Request\\n\" + getDeploymentRequestResponse.error_message + \"\\n\" + \"Deployment Request Record with app_sys_id \" + applicationSysId + \" and app version \" + applicationVersion + \" not found.\");\n\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t.setStatus(getDeploymentRequestResponse.status_code || 404)\n\t\t\t.setMessage(gs.getMessageLang(\"Failed to retrieve Deployment Request Record with app_sys_id {0} and app version {1}.\", \"en\", [applicationSysId, applicationVersion]))\n\t\t\t.setDetail(gs.getMessage(\"Failed to retrieve Deployment Request Record with app_sys_id {0} and app version {1}.\", [applicationSysId, applicationVersion]));\n\t}\n\n\ttry {\n\t\tvar body = JSON.parse(getDeploymentRequestResponse.body);\n\t\tvar result = body.result || [];\n\t} catch (e) {\n\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t.setStatus(404)\n\t\t\t.setMessage(gs.getMessageLang(\"Error parsing deployment request response\", \"en\"))\n\t\t\t.setDetail(gs.getMessage(\"Error parsing deployment request response\"));\n\t}\n\t\t\t\n\tvar responseBody = {};\n\n\tif (result.length) {\n\t\tresponseBody = result[0];\n\t\tvar key = responseBody.state;\n\n\t\tvar applicationStatusHelper = new ApplicationStatusHelper();\n\t\tresponseBody.status = applicationStatusHelper.appStatusMapping[key];\n\t}\n\n\tresponse.setBody(responseBody);\n\tresponse.setStatus(200);\n})(request, response);","sys_updated_on":"2021-10-26 04:48:38","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/eff91f2c7700001001fb4311a8106131","value":"eff91f2c7700001001fb4311a8106131"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"d1ed86b0c7291010d447c17cf4c26019","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_app_eng_studio/v1/applications/{application_sys_id}/{application_version}/deployment_request","sys_created_on":"2020-06-19 15:01:32","sys_name":"GET Deployment Request","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/4c41d3287700001001fb4311a81061ae","value":"4c41d3287700001001fb4311a81061ae"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"67","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_ws_operation_d1ed86b0c7291010d447c17cf4c26019","consumes_customized":"false","name":"GET Deployment Request","produces":"application/json,application/xml,text/xml","relative_path":"/{application_sys_id}/{application_version}/deployment_request","produces_customized":"false","default_operation_uri":"/api/sn_app_eng_studio/applications/{application_sys_id}/{application_version}/deployment_request","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var restHandler, result, setupId, data;\n    try {\n        stepId = request.pathParams.step_id;\n        restHandler = new SNHelpSetupRestHandler();\n        data = request.body.data;\n        result = restHandler.upsertStepInputInInteractionStepTable(stepId, data);\n        response.setStatus(result.status);\n        if (result.data)\n            response.setBody(result.data);\n        else\n            response.setBody({\n                error: result.message || result.error\n            });\n\n    } catch (ex) {\n        response.setStatus(500);\n        response.setBody({\n            error: \"Internal Server Error \" + ex\n        });\n    }\n\n})(request, response);","sys_updated_on":"2024-03-19 08:23:25","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"d27f1e554301021050286548b9b8f2e4","http_method":"PUT","sys_updated_by":"admin","operation_uri":"/api/sn_ads_setup/play/stepinput/step/{step_id}","sys_created_on":"2024-03-19 06:21:30","sys_name":"Upsert Step Input","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/9fb44064773230106ee492b01e5a9991","value":"9fb44064773230106ee492b01e5a9991"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_update_name":"sys_ws_operation_d27f1e554301021050286548b9b8f2e4","consumes_customized":"false","name":"Upsert Step Input","produces":"application/json,application/xml,text/xml","relative_path":"/stepinput/step/{step_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var data = request.body.data;\n    try {\n        var modelId = data.modelId;\n        var intents = data.intents;\n        var hasIntent = intents && intents.length > 0;\n        if (modelId && hasIntent && NLUSystemUtil.canPerformEditOperations(modelId)) {\n            response.setContentType('application/json');\n            return new NLUImportUtil(modelId).importIntents(intents);\n        } else {\n            return new sn_ws_err.BadRequestError(\"No input data provided\");\n        }\n\n    } catch (e) {\n        return e;\n    }\n})(request, response);","sys_updated_on":"2025-05-09 06:31:04","enforce_acl":"ccd8a1e7772000105d7b3882a910617c","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/e4cda81e7333230021a044764df6a777","value":"e4cda81e7333230021a044764df6a777"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"d2b18f8e5f20330064f1e1cf2f731339","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/v1/nlu/importintent","sys_created_on":"2019-04-03 06:33:39","sys_name":"importIntent","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/55672c9a7333230021a044764df6a706","value":"55672c9a7333230021a044764df6a706"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"17","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_ws_operation_d2b18f8e5f20330064f1e1cf2f731339","consumes_customized":"false","name":"importIntent","produces":"application/json,application/xml,text/xml","relative_path":"/importintent","produces_customized":"false","default_operation_uri":"/api/now/nlu/importintent","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t//Perform input validations\n\tvar cart = new sn_sc.CartJS();\n\tvar response_body = {};\n\tif (cart.isEmpty())\n\t\tthrow new sn_ws_err.BadRequestError(\"Cannot checkout an empty Cart\");\n\t\n\t//Checkout cart\n\ttry {\n\t\tresponse_body = cart.checkoutCart();\n\t} catch(e) {\n\t\tgs.debug(e);\n\t\tvar catalogExceptionUtils = new global.CatalogExceptionUtils();\n\t\tif(catalogExceptionUtils.isCartException(e)) {\n\t\t\tresponse.setStatus(400);\n\t\t\tresponse_body = catalogExceptionUtils.handleCartExceptionInPortal(e);\n\t\t} else\n\t\t\tthrow new sn_ws_err.ServiceError('Error during checkout');\n\t}\n\treturn response_body;\n})(request, response);","sys_updated_on":"2020-03-20 13:09:16","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"d2c95260db20120064301150f0b8f563","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/cart/checkout","sys_created_on":"2015-12-22 18:31:19","sys_name":"Checkout Cart","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"15","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_d2c95260db20120064301150f0b8f563","consumes_customized":"false","name":"Checkout Cart","produces":"application/json,application/xml,text/xml","relative_path":"/cart/checkout","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/cart/checkout","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar payload = request.body.data;\n\n    // If there's no payload and no query parameter we can return an error.\n    if (global.JSUtil.isEmpty(payload))\n        return new sn_ws_err.BadRequestError(\"No Query String provided\");\n\n\tvar aceUtil = new ACEAppBuilderUtilV2();\n\tvar documentId = payload.pageid || payload.blockid;\n\tvar documentTable = payload.pageid? \"sn_ace_page\": \"sn_ace_content_block\";\n\tvar resultantTree = aceUtil._updateACEContentBlocks(payload.aceContentTree, documentTable, documentId, payload.canGenerateUniqueTranslationRecord);\n\tif (payload.pageid && resultantTree && resultantTree.contentBlocks) {\n\t\tvar pageGR = new GlideRecord('sn_ace_page');\n\t\tif (pageGR.get(payload.pageid)) {\n\t\t\tpageGR.setValue('bundle', new global.ACEAppBuilderGlobalScopedUtil().getCompressedPageBundle(resultantTree.contentBlocks));\n\t\t\tpageGR.update();\n\t\t}\n\t}\n\telse if (payload.blockid) {\n\t\tvar blockGR = new GlideRecord('sn_ace_content_block');\n\t\tif (blockGR.get(payload.blockid)) {\n\t\t\tblockGR.setValue('bundle', new global.ACEAppBuilderGlobalScopedUtil().getCompressedPageBundle(resultantTree.contentBlocks));\n\t\t\tblockGR.update();\n\t\t}\n\t}\n\n\tresponse.setBody({aceContentTree: resultantTree.contentBlocks});\n\n})(request, response);","sys_updated_on":"2023-05-08 11:45:59","enforce_acl":"0bba350f774e2110bc5db5b27a5a99cd","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"d2f4001c535b5110c733ddeeff7b127b","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/ace/updatemetadata","sys_created_on":"2022-11-17 00:18:30","sys_name":"updateMetaData","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/090c5ee353721110c733ddeeff7b1299","value":"090c5ee353721110c733ddeeff7b1299"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"22","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_update_name":"sys_ws_operation_d2f4001c535b5110c733ddeeff7b127b","consumes_customized":"false","name":"updateMetaData","produces":"application/json,application/xml,text/xml","relative_path":"/updatemetadata","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","sys_updated_on":"2017-04-14 21:05:22","enforce_acl":"d1c913ba5b4232003d1c484c11f91a98","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"d37abde6cb01320004991aeb034c9c7f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_bm_client/benchmark_client_api/indicator_scores","sys_created_on":"2017-02-23 02:27:50","sys_name":"Indicator Scores","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/986214c16710320097eeff5557415a89","value":"986214c16710320097eeff5557415a89"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_update_name":"sys_ws_operation_d37abde6cb01320004991aeb034c9c7f","consumes_customized":"false","name":"Indicator Scores","produces":"application/json,application/xml,text/xml","relative_path":"/indicator_scores","produces_customized":"false","default_operation_uri":"","sys_policy":"protected"},{"short_description":"","sys_updated_on":"2021-02-25 01:22:03","enforce_acl":"c181cf8187602010c84e4561d5cb0b5e","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"d388b227c7122010ca6da1e603c260eb","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/producer/{producer_id}/record/{record_id}","sys_created_on":"2021-02-19 10:10:39","sys_name":"Generate Variable Value Map","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/97adafff04352210559073c06a02f7da","value":"97adafff04352210559073c06a02f7da"},"sys_update_name":"sys_ws_operation_d388b227c7122010ca6da1e603c260eb","consumes_customized":"false","name":"Generate Variable Value Map","produces":"application/json,application/xml,text/xml","relative_path":"/producer/{producer_id}/record/{record_id}","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/producer/{producer_id}/record/{record_id}","sys_policy":"protected"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tconst {ComponentUsage} = require('@servicenow/sn-cb-api');\n    const {\n        queryParams: {\n            sysId,\n            rangeStart,\n            rangeEnd\n        }\n    } = request;\n    if (!sysId) return [];\n    return new ComponentUsage().getPageCollectionData(sysId, rangeStart, rangeEnd);\n\n})(request, response);","sys_updated_on":"2024-02-26 20:40:02","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"d38a75fe778882107d514a833f5a9984","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_cb_api/componentbuilder/component/page-collection","sys_created_on":"2024-02-03 02:26:24","sys_name":"Page Collection","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/58d65e5a729340ac35dc8fd71d665545","value":"58d65e5a729340ac35dc8fd71d665545"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/79353aa3a37731100aa159e6d31e6154","value":"79353aa3a37731100aa159e6d31e6154"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"11","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/58d65e5a729340ac35dc8fd71d665545","value":"58d65e5a729340ac35dc8fd71d665545"},"sys_update_name":"sys_ws_operation_d38a75fe778882107d514a833f5a9984","consumes_customized":"false","name":"Page Collection","produces":"application/json,application/xml,text/xml","relative_path":"/component/page-collection","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var table = request.pathParams.table || '';\n    if (!table)\n        return new sn_ws_err.BadRequestError('Record table not provided');\n\n    var sysId = request.pathParams.sys_id || '';\n    if (!sysId)\n        return new sn_ws_err.BadRequestError('Record sys_id not provided');\n\n\treturn new SOWChangeUtils().getCompletedChangeRiskAsmts(table, sysId);\n})(request, response);","sys_updated_on":"2023-11-24 13:26:30","enforce_acl":"a388aa485332b110935addeeff7b124f","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/5ff4b14753314110610bddeeff7b125a","value":"5ff4b14753314110610bddeeff7b125a"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"d3a250c653751110532cddeeff7b12b2","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/completed_assessment/{table}/{sys_id}","sys_created_on":"2022-09-08 22:14:14","sys_name":"completedAssessment","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5814bdc353314110610bddeeff7b12c5","value":"5814bdc353314110610bddeeff7b12c5"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"8","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_update_name":"sys_ws_operation_d3a250c653751110532cddeeff7b12b2","consumes_customized":"false","name":"completedAssessment","produces":"application/json,application/xml,text/xml","relative_path":"/completed_assessment/{table}/{sys_id}","produces_customized":"false","default_operation_uri":"/completed_assessment/{table}/{sys_id}","sys_policy":""},{"short_description":"","operation_script":"function getRecipients(tableName, sysIds, type) {\n    if (!sysIds)\n        return [];\n\n    const ids = sysIds.split(',');\n    const recipientsGr = new GlideRecordSecure(tableName);\n    const recipientsObject = {};\n    const result = [];\n\n    recipientsGr.addActiveQuery();\n    recipientsGr.addQuery('sys_id', 'IN', ids);\n    recipientsGr.query();\n\n    while (recipientsGr.next()) {\n        const id = recipientsGr.getValue('sys_id');\n        const name = recipientsGr.getDisplayValue('name');\n        const email = recipientsGr.getDisplayValue('email');\n        const avatar = recipientsGr.getDisplayValue('avatar');\n\n        recipientsObject[id] = {\n            id: id,\n            name: name,\n            email: email,\n            avatar: avatar,\n            type: type,\n        };\n    }\n\n    ids.forEach(function(sysId) {\n        if (recipientsObject[sysId])\n            result.push(recipientsObject[sysId]);\n    });\n\n    return result;\n}\n\nfunction getPeople(people) {\n    return getRecipients('sys_user', people, 'user');\n}\n\nfunction getGroups(groups) {\n    return getRecipients('sys_user_group', groups, 'group');\n}\n\nfunction getRecipientsFromNotification(notificationId) {\n    const notificationGr = new GlideRecordSecure('sysevent_email_action');\n    let recipients = [];\n\n    if (notificationGr.get(notificationId)) {\n        const people = getPeople(notificationGr.getValue('recipient_users'));\n        const groups = getGroups(notificationGr.getValue('recipient_groups'));\n        recipients = people.concat(groups);\n    }\n\n    return recipients;\n}\n\nfunction process(request, response) {\n    try {\n        const notificationId = request.pathParams?.notificationSysId || '';\n\n        if (!notificationId)\n            response.setBody([]);\n        else\n            response.setBody(getRecipientsFromNotification(notificationId));\n\n        response.setStatus(200);\n\n    } catch (exception) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(500)\n            .setMessage(gs.getMessageLang(\"Unhandled exception {0}\", \"en\", [exception]))\n            .setDetail(gs.getMessage(\"Unhandled exception {0}\", [exception]));\n    }\n}\n\nprocess(request, response);","sys_updated_on":"2022-08-02 16:52:47","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/3b861395b7a5c1100290b5208e11a9d8","value":"3b861395b7a5c1100290b5208e11a9d8"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"d4371f95b7a5c1100290b5208e11a97a","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_aes_notificatio/v1/recipients/notification/{notificationSysId}","sys_created_on":"2022-02-07 22:12:23","sys_name":"Get Notification Recipients","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/284c35195bf9198f084ee79a76e157b9","value":"284c35195bf9198f084ee79a76e157b9"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/a756df55b7a5c1100290b5208e11a9d3","value":"a756df55b7a5c1100290b5208e11a9d3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"11","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/284c35195bf9198f084ee79a76e157b9","value":"284c35195bf9198f084ee79a76e157b9"},"sys_update_name":"sys_ws_operation_d4371f95b7a5c1100290b5208e11a97a","consumes_customized":"false","name":"Get Notification Recipients","produces":"application/json,application/xml,text/xml","relative_path":"/notification/{notificationSysId}","produces_customized":"false","default_operation_uri":"/api/sn_aes_notificatio/recipients/notification/{notificationSysId}","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var pipelineType = request.pathParams.pipeline_type;\n    var requestData = request.body.data || {};\n    var queryParams = request.queryParams;\n    var errorDetails = '';\n\n    var pipelineUtils = new PipelineUtils();\n    var currentInstanceInfo = (new PipelineConfigChecks()).getCurrentInstanceInfo(pipelineType);\n\n    if (!currentInstanceInfo.isController) {\n        if (!currentInstanceInfo.hasValidControllerRecord) {\n            throw new sn_ws_err.ServiceError()\n                .setStatus(404)\n                .setMessage(gs.getMessageLang(\"Controller environment not found\", \"en\"))\n                .setDetail(gs.getMessage(\"Controller environment configured is not valid\"));\n        }\n\n        // early exit if pipeline has not been setup\n        if (!currentInstanceInfo.hasGivenPipelineTypeConfiguredInController) {\n            throw new sn_ws_err.ServiceError()\n                .setStatus(404)\n                .setMessage(gs.getMessageLang(\"Requested pipeline does not exist or is not valid for given instance ID.\", \"en\"))\n                .setDetail(gs.getMessage(\"Could not find a valid pipeline of type {0} for current instance\", pipelineType));\n        }\n\n        var grControllerEnv = pipelineUtils.getEnvironmentControllerRecord();\n\n        PipelineRunnerUtils.checkUserAccess(pipelineType, requestData, grControllerEnv);\n\n        var redirectResult = PipelineRunnerUtils.redirectToController(grControllerEnv, pipelineType, requestData);\n\n        response.setStatus(redirectResult.status);\n        response.setBody(redirectResult.result);\n    } else {\n        var sourceInstanceId = requestData.source_instance_id;\n        var payload = requestData.payload || {};\n\n        // if the request is for an instance that is not the current, verify that the request originated from there\n        if (sourceInstanceId && sourceInstanceId !== gs.getProperty(\"instance_id\")) {\n            var requestHeaderAccessToken = request.headers['x-access-token'];\n            var isAuthorized = (new RequestAuthService()).isAuthorized(sourceInstanceId, requestHeaderAccessToken);\n\n            if (!isAuthorized) {\n                throw new sn_ws_err.ServiceError()\n                    .setStatus(400)\n                    .setMessage(gs.getMessageLang(\"Bad Request\", \"en\"))\n                    .setDetail(gs.getMessage(\"Failed to verify request from source instance id {0}\", sourceInstanceId));\n            }\n        } else {\n            sourceInstanceId = gs.getProperty(\"instance_id\"); // if source instance id was not specified, use current\n            PipelineRunnerUtils.checkUserAccess(pipelineType, requestData);\n        }\n\n        var grPipeline = PipelineRunnerUtils.findPipelineForInstanceOfType(sourceInstanceId, pipelineType); // find pipeline\n        var grPipelineType = grPipeline.pipeline_type.getRefRecord();\n        var grPipelineInstance = PipelineRunnerUtils.initializePipelineInstanceRecord(\n            grPipelineType.getUniqueValue(),\n            sourceInstanceId,\n            payload\n        ); // initialize pipeline instance record\n\n        // validate payload and save result in instance record\n        grPipelineInstance = PipelineRunnerUtils.validatePayloadAndSaveResult(grPipelineInstance, payload, grPipelineType);\n\n\n        // All is well\n        // Run subflow to validate connections and start pipeline type subflow\n        try {\n\t\t\tvar pipelineInstanceSysId = grPipelineInstance.insert();\n\t\t\t\n            var startSubflowContextId = PipelineRunnerUtils.startPipelineRunnerSubflow(grPipeline, payload, grPipelineType.subflow.getRefRecord(), grPipelineInstance);\n\n\t\t\tgrPipelineInstance.get(pipelineInstanceSysId);\n            grPipelineInstance.setValue(\"pipeline_context\", startSubflowContextId);\n            grPipelineInstance.update();\n\t\t\t\n            var currentInstanceUrl = pipelineUtils.removeTrailingSlash(gs.getProperty(\"glide.servlet.uri\"));\n\n            response.setStatus(201);\n            response.setBody({\n                flow_context_url: currentInstanceUrl + \"/sys_flow_context.do?sys_id=\" + startSubflowContextId,\n                flow_context_id: startSubflowContextId,\n                pipeline_instance_id: pipelineInstanceSysId\n            });\n\n        } catch (e) {\n            errorDetails = e && e.getMessage ? e.getMessage() : gs.getMessage(\"Unknown error occured when starting subflow runner\");\n\n            grPipelineInstance.setValue(\"result\", {\n                has_error: true,\n                error_message: errorDetails\n            });\n            grPipelineInstance.insert();\n\n            throw new sn_ws_err.ServiceError()\n                .setStatus(500)\n                .setMessage(gs.getMessageLang(\"Error starting the pipeline\", \"en\"))\n                .setDetail(errorDetails);\n        }\n    }\n\n})(request, response);","sys_updated_on":"2021-10-20 14:48:07","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/3eeef5f2b72030100290b9708e11a939","value":"3eeef5f2b72030100290b9708e11a939"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"d45f4dd4c79eb010408bc8d6f2c2608e","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_pipeline/v1/pipeline/{pipeline_type}/run","sys_created_on":"2021-08-26 20:18:40","sys_name":"Runner","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e78853e9c3222010b83971e54440dd26","value":"e78853e9c3222010b83971e54440dd26"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/0a6e31f2b72030100290b9708e11a980","value":"0a6e31f2b72030100290b9708e11a980"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"48","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e78853e9c3222010b83971e54440dd26","value":"e78853e9c3222010b83971e54440dd26"},"sys_update_name":"sys_ws_operation_d45f4dd4c79eb010408bc8d6f2c2608e","consumes_customized":"false","name":"Runner","produces":"application/json,application/xml,text/xml","relative_path":"/{pipeline_type}/run","produces_customized":"false","default_operation_uri":"/api/sn_pipeline/pipeline/{pipeline_type}/run","sys_policy":"read"},{"short_description":"Converts TimeAgo relative date/time to absolute date/time for UI DateTime Filter","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\n    //allow only timeago functions\n    //sanitize DateFunction \n    function sanitizeInput(dateFunc) {\n\n        var sanitizedDateFunc = '';\n\n        var TIME_AGO_FUNCTIONS = new Array('gs.beginningOfCurrentHour()', 'gs.beginningOfCurrentMinute()', 'gs.beginningOfLast120Days()', 'gs.beginningOfLast12Months()', 'gs.beginningOfLast15Minutes()', 'gs.beginningOfLast2Hours()', 'gs.beginningOfLast2Quarters()', 'gs.beginningOfLast2Years()', 'gs.beginningOfLast30Days()', 'gs.beginningOfLast30Minutes()', 'gs.beginningOfLast3Months()', 'gs.beginningOfLast45Minutes()', 'gs.beginningOfLast60Days()', 'gs.beginningOfLast6Months()', 'gs.beginningOfLast7Days()', 'gs.beginningOfLast90Days()', 'gs.beginningOfLast9Months()', 'gs.beginningOfLastHour()', 'gs.beginningOfLastMinute()', 'gs.beginningOfLastMonth()', 'gs.beginningOfLastQuarter()', 'gs.beginningOfLastWeek()', 'gs.beginningOfLastYear()', 'gs.beginningOfNext2Quarters()', 'gs.beginningOfNextMonth()', 'gs.beginningOfNextQuarter()', 'gs.beginningOfNextWeek()', 'gs.beginningOfNextYear()', 'gs.beginningOfOneYearAgo()', 'gs.beginningOfThisMonth()', 'gs.beginningOfThisQuarter()', 'gs.beginningOfThisWeek()', 'gs.beginningOfThisYear()', 'gs.beginningOfToday()', 'gs.beginningOfTomorrow()', 'gs.beginningOfYesterday()', 'gs.endOfCurrentHour()', 'gs.endOfCurrentMinute()', 'gs.endOfLast120Days()', 'gs.endOfLast12Months()', 'gs.endOfLast15Minutes()', 'gs.endOfLast2Hours()', 'gs.endOfLast2Quarters()', 'gs.endOfLast2Years()', 'gs.endOfLast30Days()', 'gs.endOfLast30Minutes()', 'gs.endOfLast3Months()', 'gs.endOfLast45Minutes()', 'gs.endOfLast60Days()', 'gs.endOfLast6Months()', 'gs.endOfLast7Days()', 'gs.endOfLast90Days()', 'gs.endOfLast9Months()', 'gs.endOfLastHour()', 'gs.endOfLastMinute()', 'gs.endOfLastMonth()', 'gs.endOfLastQuarter()', 'gs.endOfLastWeek()', 'gs.endOfLastYear()', 'gs.endOfNext2Quarters()', 'gs.endOfNextMonth()', 'gs.endOfNextQuarter()', 'gs.endOfNextWeek()', 'gs.endOfNextYear()', 'gs.endOfOneYearAgo()', 'gs.endOfThisMonth()', 'gs.endOfThisQuarter()', 'gs.endOfThisWeek()', 'gs.endOfThisYear()', 'gs.endOfToday()', 'gs.endOfTomorrow()', 'gs.endOfYesterday()', 'gs.beginningOfNextSchedulePeriod()', 'gs.beginningOfLastSchedulePeriod()', 'gs.beginningOfSchedulePeriodsAgo()', 'gs.beginningOfThisSchedulePeriod()', 'gs.endOfLastSchedulePeriod()', 'gs.endOfNextSchedulePeriod()', 'gs.endOfSchedulePeriodsAgo()', 'gs.endOfThisSchedulePeriod()');\n\n        //take off javascript:\n        var dateFuncToCheck = dateFunc\n            .replace('javascript:', '');\n\n        if (new ArrayUtil().contains(TIME_AGO_FUNCTIONS, dateFuncToCheck)) {\n            return dateFuncToCheck;\n        }\n\n    }\n\n    //get the params from the function \n    //ex.javascript:sn_bc.GlideBusinessCalendarUtil.getCalendarEnd('Fiscal Month', '-1')\n    //get Fiscal Month and -1\n    function getBusinessCalParams(dateFunc) {\n        var params = [];\n        var businessCalParams = {\n            calendarName: '',\n            period: ''\n        };\n        if (dateFunc) {\n            //get the params in quotes\n            params = dateFunc\n                .match(/'(.*?)'/g);\n        }\n        //accept only 2 params \n        if (params && params.length == 2) {\n            businessCalParams.calendarName = params[0].replaceAll(\"'\", \"\");\n            businessCalParams.period = params[1].replaceAll(\"'\", \"\");\n        }\n        return businessCalParams;\n    }\n\n    //business calendar dates can come in as getCalendarStart or getCalendarEnd \n    //and can come in as from or end date \n    function getBusinessCalDate(dateStr) {\n        var absoluteDate = '';\n        var params = getBusinessCalParams(dateStr);\n        var calendarName = params.calendarName;\n        var period = params.period;\n        if (calendarName && period) {\n            if (dateStr.indexOf('getCalendarStart') > 0) {\n                absoluteDate = sn_bc.GlideBusinessCalendarUtil.getCalendarStart(calendarName, period);\n            } else if (dateStr.indexOf('getCalendarEnd') > 0) {\n                absoluteDate = sn_bc.GlideBusinessCalendarUtil.getCalendarEnd(calendarName, period);\n            }\n        }\n        return absoluteDate;\n    }\n\n    //Get absolute date time for relative TimeAgo strings \n    //including Fiscal and Business Calendars\n    //ex. relative datetime > javascript:gs.beginningOfLast3Months()\n\n    //from_date - TimeAgo relative date/time String for From Date\n    //to_date - TimeAgo relative date/time String for To Date\n    var fromDate = request.queryParams.from_date + '';\n    var toDate = request.queryParams.to_date + '';\n\n    var fromDateAbsolute = '';\n    var toDateAbsolute = '';\n\n    //handle business calendars\n    if (fromDate.indexOf('GlideBusinessCalendarUtil') > 0 || toDate.indexOf('GlideBusinessCalendarUtil') > 0) {\n        fromDateAbsolute = getBusinessCalDate(fromDate);\n        toDateAbsolute = getBusinessCalDate(toDate);\n    } else {\n        //non business calendars\n        fromDate = sanitizeInput(fromDate);\n        toDate = sanitizeInput(toDate);\n        fromDateAbsolute = fromDate ? GlideEvaluator.evaluateString(fromDate) : '';\n        toDateAbsolute = toDate ? GlideEvaluator.evaluateString(toDate) : '';\n    }\n\n    return {\n        fromDate: fromDateAbsolute,\n        toDate: toDateAbsolute\n    };\n\n})(request, response);","sys_updated_on":"2023-08-31 18:53:33","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"d48a544a53221010b2caddeeff7b1275","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/timeago/absolute","sys_created_on":"2020-08-11 20:51:16","sys_name":"absolute","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/4f5a9c0a53221010b2caddeeff7b12b9","value":"4f5a9c0a53221010b2caddeeff7b12b9"},"consumes":"application/json","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/ba9c2f7b04352210559073c06a02f7cb","value":"ba9c2f7b04352210559073c06a02f7cb"},"sys_update_name":"sys_ws_operation_d48a544a53221010b2caddeeff7b1275","consumes_customized":"false","name":"absolute","produces":"application/json,application/xml,text/xml","relative_path":"/absolute","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        var guidedSetupEntitlementsHelper = new sn_ci_gs_content.GuidedSetupEntitlementsHelper();\n        return guidedSetupEntitlementsHelper.fetchEntitlements();\n    } catch (e) {\n        gs.error('Error occured while fetching entitlements' + e);\n    }\n})(request, response);","sys_updated_on":"2022-10-27 10:55:44","enforce_acl":"15ecc6e9c33a51104b8e88c7c840dd2b","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"d4a2256653031010af5addeeff7b12e9","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_ci_gs_content/guided_setup_config_api/getAllEntitlements","sys_created_on":"2020-09-23 11:56:24","sys_name":"Get All Entitlements","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/30f13c8d53521010af5addeeff7b121d","value":"30f13c8d53521010af5addeeff7b121d"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/cac9a47253221010af5addeeff7b122a","value":"cac9a47253221010af5addeeff7b122a"},"consumes":"application/json","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/30f13c8d53521010af5addeeff7b121d","value":"30f13c8d53521010af5addeeff7b121d"},"sys_update_name":"sys_ws_operation_d4a2256653031010af5addeeff7b12e9","consumes_customized":"false","name":"Get All Entitlements","produces":"application/json","relative_path":"/getAllEntitlements","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    const apiHelper = new APIHelper(request, response);\n    apiHelper.execute(function() {\n        const retrieveDisplayValue = true;\n        const sysId = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.SYS_ID);\n        const noDomain = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.NO_DOMAIN);\n        const experienceFields = 'title,root_macroponent,path,sys_updated_on,sys_updated_by,sys_policy,sys_scope,sys_package,sys_domain,admin_panel,parent_app'.split(',');\n        const experienceHandler = new Experience(experienceFields, noDomain, retrieveDisplayValue);\n        const experience = experienceHandler.getExperienceById(sysId);\n        apiHelper.getResponse(experience, BuilderToolkitConstants.ERRORS.NO_EXPERIENCE_FOUND);\n    });\n})(request, response);","sys_updated_on":"2024-03-18 20:18:16","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"d519323b772f211003565d9c4f5a99e5","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/experience","sys_created_on":"2023-06-27 16:58:11","sys_name":"Experience","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"26","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_d519323b772f211003565d9c4f5a99e5","consumes_customized":"false","name":"Experience","produces":"application/json,application/xml,text/xml","relative_path":"/experience","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n    var appId = request.pathParams.appId;\n\n    ScopeCheck.verifyNotGlobal(appId);\n    var allowed = VCSAppAccessCheck.verifyReadAccess(appId) && (VCSAppAccessCheck.isGACOrSourceControlUser() || VCSAppAccessCheck.verifyVersionControlAccess(appId));\n\n    if (!allowed) \n\t\tVCSAppAccessCheck.throwAccessDenied(appId);\n\n    response.setStatus(200);\n    response.setContentType('application/json');\n    response.setBody({\n        dirty: sn_vcs.AppSourceControl.hasIncomingChanges(appId)\n    });\n\n})(request, response);","sys_updated_on":"2021-04-06 20:19:34","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"d5cec82337230200612747efbe41f122","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/apps/{appId}/repos/{repoId}/changes","sys_created_on":"2015-11-11 15:13:08","sys_name":"Has Remote Changes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"15","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_d5cec82337230200612747efbe41f122","consumes_customized":"false","name":"Has Remote Changes","produces":"application/json,application/xml,text/xml","relative_path":"/apps/{appId}/repos/{repoId}/changes","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/apps/{appId}/repos/{repoId}/changes","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n/**\nParams:\n\tbsId (sys_id)\n\tprefName\n\tprefValue\n*/\n    var saOpsWrapper = new SaOperationsWrapper(SNC.SaActionsHandler);\n\tsaOpsWrapper.process(request,response, \"setBSPreference\");\n\n})(request, response);","sys_updated_on":"2018-03-14 08:53:22","enforce_acl":"ea4f3ae287132200b5bea18dd0e3eceb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"d60fe6537f520300995cbaf8befa919d","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/it_service/setBSPreference","sys_created_on":"2017-11-13 13:40:54","sys_name":"SetBSPreference - Internal API","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3418e25f7f120300995cbaf8befa912e","value":"3418e25f7f120300995cbaf8befa912e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_d60fe6537f520300995cbaf8befa919d","consumes_customized":"false","name":"SetBSPreference - Internal API","produces":"application/json,application/xml,text/xml","relative_path":"/setBSPreference","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Gets a list of extension points and their subroutes by a provided query","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    const apiHelper = new APIHelper(request, response);\n    apiHelper.execute(function() {\n        const query = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.QUERY, false);\n        const sysId = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.SYS_ID, false);\n        const noDomain = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.NO_DOMAIN, false);\n        const includeDisplay = !!sysId;\n        const extensionPointHandler = new ExtensionPoint(null, noDomain, includeDisplay);\n        const queryResult = sysId ? extensionPointHandler.getExtensionPoint(sysId) : extensionPointHandler.getExtensionPoints(query);\n        apiHelper.getResponse(queryResult, BuilderToolkitConstants.ERRORS.NO_COMPONENT_DEFINITIONS);\n    });\n\n})(request, response);","sys_updated_on":"2024-06-03 10:41:16","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"d64a378078d82110f87761f45a19aa1f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/extension_point","sys_created_on":"2023-01-05 16:34:35","sys_name":"Extension Point","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"9","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_d64a378078d82110f87761f45a19aa1f","consumes_customized":"false","name":"Extension Point","produces":"application/json,application/xml,text/xml","relative_path":"/extension_point","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar sysId = request.pathParams.sys_id || \"\";\n\tif (!sysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Change Request id not provided\");\n\n\tvar changeGR = new GlideRecordSecure(global.ChangeRequest.CHANGE_REQUEST);\n\tif (!changeGR.get(sysId))\n\t\treturn new sn_ws_err.NotFoundError(\"Change Request not found\");\n\n\tvar queryParams = request.queryParams;\n\tvar changeConflict = new global.ChangeConflictAPI(changeGR);\n\tvar progressGr = changeConflict.getProgressRecord();\t\n\tvar conflictsGr = changeConflict.getConflicts();\n\n\tvar conflictStatus = {};\n\tconflictStatus.status = changeGR.getValue('conflict_status');\n\tconflictStatus.last_run = changeGR.getValue('conflict_last_run');\n\tconflictStatus.record_count = changeConflict.getConflictCount();\n\tconflictStatus.job_status = (progressGr ? progressGr.getValue('state') : 'not_started');\n\tconflictStatus.conflicts = global.ChangeCommon.getWindow(conflictsGr, queryParams.sysparm_limit, queryParams.sysparm_offset);\n\n\treturn conflictStatus;\n})(request, response);","sys_updated_on":"2018-08-17 14:05:44","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"d659abf223b313001488dc1756bf652f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/{sys_id}/conflict","sys_created_on":"2018-08-12 14:23:15","sys_name":"Conflict - Status","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"29","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_d659abf223b313001488dc1756bf652f","consumes_customized":"false","name":"Conflict - Status","produces":"application/json,application/xml,text/xml","relative_path":"/{sys_id}/conflict","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/{sys_id}/conflict","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n    var appId = request.pathParams.appId;\n\n    ScopeCheck.verifyNotGlobal(appId);\n    var allowed = VCSAppAccessCheck.verifyReadAccess(appId) && (VCSAppAccessCheck.isGACOrSourceControlUser() || VCSAppAccessCheck.verifyVersionControlAccess(appId));\n\n    if (!allowed) \n\t\tVCSAppAccessCheck.throwAccessDenied(appId);\n\n    var progressId = sn_vcs.AppSourceControl\n        .refreshRepository()\n        .setSysApp()\n        .setSysRepoConfig(request.pathParams.repoId)\n        .start();\n\n    response.setStatus(202);\n    response.setContentType('application/json');\n    response.setBody({\n        progressId: progressId\n    });\n\n})(request, response);","sys_updated_on":"2021-04-06 20:21:10","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"d66e908537a01200612747efbe41f1fd","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/apps/{appId}/repos/{repoId}/refresh","sys_created_on":"2015-12-23 14:59:39","sys_name":"Refresh Repository","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_d66e908537a01200612747efbe41f1fd","consumes_customized":"false","name":"Refresh Repository","produces":"application/json,application/xml,text/xml","relative_path":"/apps/{appId}/repos/{repoId}/refresh","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/apps/{appId}/repos/{repoId}/refresh","sys_policy":"read"},{"short_description":"Create or update an application service, including connections between CIs","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar createOrUpdate = new CreateOrUpdateITService();\n\tcreateOrUpdate.process(request, response);\n\n})(request, response);","sys_updated_on":"2018-03-06 04:03:39","enforce_acl":"a0ae0157c30303008ebd1962c1d3aeb1","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"{\r\n\"name\": \"createServiceSimpleTest\",\r\n\"comments\" : \"createServiceSimpleTest-Comments\",\r\n \r\n  \"service_relations\": [\r\n    {\r\n      \"parent\": \"\",\r\n      \"child\": \"53958ff0c0a801640171ec76aa0c8f86\"\r\n    },\r\n    {\r\n      \"parent\": \"53958ff0c0a801640171ec76aa0c8f86\",\r\n      \"child\": \"539747cac0a801640163e60735fbbf6e\"\r\n    }\r\n  ]\r\n}\r\n","sys_id":"d66f2309c31303003e76741e81d3ae70","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/cmdb/app_service/create","sys_created_on":"2017-12-26 11:39:19","sys_name":"CreateOrUpdate","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/565abf20c39413003e76741e81d3ae48","value":"565abf20c39413003e76741e81d3ae48"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_d66f2309c31303003e76741e81d3ae70","consumes_customized":"false","name":"CreateOrUpdate","produces":"application/json,application/xml,text/xml","relative_path":"/app_service/create","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var payload = request.body.data;\n    if (global.JSUtil.isEmpty(payload))\n        return new sn_ws_err.BadRequestError(\"No Query String provided\");\n\n\tvar processedIds = [];\n    payload.forEach(function(context) {\n        var blockId = context.block_id;\n        var cbContext = context.content_block_context;\n        var newCbContext = \"\";\n        var uniqueId;\n        if (context && context.id && !(typeof context.id === 'object')) {\n            uniqueId = context.id;\n            newCbContext = {\n                [context.id]: cbContext\n            };\n        }\n        var blockGR = new GlideRecord('sn_ace_content_block_context');\n        if (blockGR.get('content_block_id', blockId) && uniqueId) {\n            var olderCbContext = blockGR.getValue('context_payload');\n            olderCbContext = JSON.parse(olderCbContext);\n            if (olderCbContext) {\n                olderCbContext[uniqueId] = cbContext;\n                blockGR.setValue('context_payload', JSON.stringify(olderCbContext));\n                blockGR.update();\n\n            }\n        } else if (blockGR.get('content_block_id', blockId)) {\n            blockGR.setValue('context_payload', JSON.stringify(cbContext));\n            blockGR.update();\n        } else {\n            blockGR.setValue('content_block_id', blockId);\n            blockGR.setValue('context_payload', newCbContext ? JSON.stringify(newCbContext) : JSON.stringify(cbContext));\n            blockGR.insert();\n        }\n\t\tprocessedIds.push(blockGR.getUniqueValue());\n    });\n\n    response.setBody({\n        processedIds : processedIds\n    });\n})(request, response);","sys_updated_on":"2023-09-14 12:50:47","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"d6d9040977113110bc5db5b27a5a993f","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/ace/updateContentBlockContext","sys_created_on":"2023-09-13 15:03:33","sys_name":"UpdateContentBlockContext","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/090c5ee353721110c733ddeeff7b1299","value":"090c5ee353721110c733ddeeff7b1299"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_update_name":"sys_ws_operation_d6d9040977113110bc5db5b27a5a993f","consumes_customized":"false","name":"UpdateContentBlockContext","produces":"application/json,application/xml,text/xml","relative_path":"/updateContentBlockContext","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar util = new GuidedSetupUtilSNC();\n\tvar requestData = request.body.data;\n\tvar contentId = requestData.contentId;\n\tvar setAllChildren = requestData.setAllChildren;\n\tvar user = requestData.user;\n\tvar contentUrl = requestData.contentUrl;\n\n\ttry {\n\t\tif (util.restSecurityWrapper(util.isMetaAccessAllowed(contentId))) {\n\t\t\tif (setAllChildren)\n\t\t\t\treturn util.setAllAssignee(contentId, user, contentUrl);\n\t\t\telse\n\t\t\t\treturn util.newAssigneeUpdate(contentId, user, contentUrl);\n\t\t}\n\t} catch (e) {\n\t\treturn util.restErrorHandler(e, response);\n\t}\n})(request, response);","sys_updated_on":"2016-11-10 19:13:28","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"d6ea84efdb031200e6ea3bc8f0b8f59b","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/guided_setup/task/update","sys_created_on":"2016-05-03 14:41:31","sys_name":"Guided Setup Task Update","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5f4ef4ed9f401200b18a7feea57fcfbe","value":"5f4ef4ed9f401200b18a7feea57fcfbe"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3ce43d1bff220200b18affffffffff55","value":"3ce43d1bff220200b18affffffffff55"},"consumes":"application/json","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"18","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5f4ef4ed9f401200b18a7feea57fcfbe","value":"5f4ef4ed9f401200b18a7feea57fcfbe"},"sys_update_name":"sys_ws_operation_d6ea84efdb031200e6ea3bc8f0b8f59b","consumes_customized":"false","name":"Guided Setup Task Update","produces":"application/json","relative_path":"/task/update","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar flow = request.body.data;\n\tif (flow) {\n\t\tvar errors = [];\n\t\tvar data;\n\t\ttry {\n\t\t\tdata =  FlowDiagramBuilderApi.getTranslatedFlow(flow, errors);\n\t\t} catch (e) {\n\t\t\terrors.push(e);\n\t\t}\n\t\treturn {\n\t\t\tdata: data,\n\t\t\terrors: errors\n\t\t};\n\t} else {\n\t\treturn {\n\t\t\tdata: request.body.data\n\t\t};\n\t}\n\n})(request, response);","sys_updated_on":"2021-09-23 18:32:55","enforce_acl":"f186a581dd763010f87742fe561ce9f0","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"d7c529cddd363010f87742fe561ce9b4","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_flow_diagram/flow_diagramming_api/getTranslatedFlow","sys_created_on":"2021-09-23 02:28:10","sys_name":"Get Translated Flow","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/a4f5f4d7ca80209b2a32be23119ae821","value":"a4f5f4d7ca80209b2a32be23119ae821"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/1275e141dd763010f87742fe561ce935","value":"1275e141dd763010f87742fe561ce935"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"19","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/a4f5f4d7ca80209b2a32be23119ae821","value":"a4f5f4d7ca80209b2a32be23119ae821"},"sys_update_name":"sys_ws_operation_d7c529cddd363010f87742fe561ce9b4","consumes_customized":"false","name":"Get Translated Flow","produces":"application/json,application/xml,text/xml","relative_path":"/getTranslatedFlow","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    response.setContentType('application/json');\n    var result = {};\n\tvar helper = new CMDBDataManagerHelper();\n\tvar policyId = request.pathParams.sys_id;\n\tvar requestData = request.body.data;\n    if (JSUtil.nil(policyId)) {\n        return new sn_ws_err.BadRequestError(gs.getMessage(\"The policy ID is missing from the request\"));\n    }\n\tif (!requestData || !helper.isValidStatus(requestData.status)) {\n\t\treturn new sn_ws_err.BadRequestError(gs.getMessage(\"{0} is not a valid policy status\", (!requestData || !requestData.status) ? \"(empty)\" : requestData.status));\n\t}\n\tif (!helper.isNextStatusValid(policyId, requestData.status)) {\n\t\treturn new sn_ws_err.BadRequestError(gs.getMessage(\"{0} is not a valid transition from the current policy status\", requestData.status));\n\t}\n\tresult = helper.setPolicyStatus(policyId, requestData.status);\n    if (result.error || JSUtil.nil(result.sys_id)) {\n        var error = new sn_ws_err.ServiceError();\n        error.setStatus(500);\n\t\tresult.error ? error.setMessage(result.error) : error.setMessage(gs.getMessage(\"Failed to set the policy status\"));\n        error.setDetail(gs.getMessage(\"Failed to set the policy status\"));\n        return error;\n    }\n    response.setStatus(200);\n    response.setBody(result);\n\n})(request, response);","sys_updated_on":"2021-03-24 18:35:38","enforce_acl":"bf20624e53832010af64ddeeff7b1272","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"d7fe77610703201017b703767cd30052","http_method":"PUT","sys_updated_by":"admin","operation_uri":"/api/now/ci_lifecycle_manager/status/{sys_id}","sys_created_on":"2021-03-22 18:11:49","sys_name":"Set Policy Status","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ad9ebe127322101045cadfcd3bf6a735","value":"ad9ebe127322101045cadfcd3bf6a735"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"sys_update_name":"sys_ws_operation_d7fe77610703201017b703767cd30052","consumes_customized":"false","name":"Set Policy Status","produces":"application/json,application/xml,text/xml","relative_path":"/status/{sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tif (\n\t\t!request.body ||\n\t\t!request.body.data.to ||\n\t\t!request.body.data.subject\n\t) {\n\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t.setStatus(400)\n\t\t\t.setMessage(gs.getMessageLang('Missing \"to\" or \"subject\" parameter ', 'en'))\n\t\t\t.setDetail(gs.getMessage('Missing \"to\" or \"subject\" parameter '));\n\t}\n\n    /*\n\t * Required params are ah_to and ah_subject. Oddly enough, the body is not required.\n\t * See send_email Action in Flow Designer - /$flow-designer.do?sysparm_nostack=true#/action-designer/98c181d20b100300d97d8bf637673ab5/var/input\n\t */\n\tvar requestBodyData = request.body.data;\n\n\t/* \n\t * Allow the user who calls the API to pass an object or string.\n\t * The contents of the body will de dependent on the script include that returns the content of the body\n\t * Example of object:\n\t * body: {\n     *   appName: \"Procurement App\",\n     *   requestorName: \"Jane Developer\",\n     *   deploymentRequestUrl: \"http://servicenow-instance.com\",\n     *   taskNumber: \"abd12\"\n     * }\n\t */\n\tvar body = requestBodyData.body;\n\tvar emailTemplate = requestBodyData.emailTemplate;\n\tvar emailBody;\n\n\tif (emailTemplate) {\n\t\t/*\n\t\t * We can probably use a better way of supporting various e-mail scripts. I don't\n\t\t * want to over engineer this right now, there may be a better way of solving\n\t\t * cross instance e-mails.\n\t\t */\n\t\tif (emailTemplate === 'AesNotifyAdminOfDeploymentRequest') {\n\t\t\tvar aesNotifyAdminOfDeploymentRequest = new AesNotifyAdminOfDeploymentRequest({\n\t\t\t\tappName: body.appName,\n\t\t\t\trequestorName: body.requestorName,\n\t\t\t\tdeploymentRequestUrl: body.deploymentRequestUrl,\n\t\t\t\ttaskNumber: body.taskNumber,\n\t\t\t});\n\n\t\t\temailBody = aesNotifyAdminOfDeploymentRequest.getBody();\n\n\t\t\tif (emailBody === null || emailBody === undefined) {\n\t\t\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t\t\t.setStatus(400)\n\t\t\t\t\t.setMessage(gs.getMessageLang('Unable to retrieve e-mail body for template {0}.', \"en\", [emailTemplate]))\n\t\t\t\t\t.setDetail(gs.getMessage('Unable to retrieve e-mail body for template {0}.', [emailTemplate]));\t\t\t\t\n\t\t\t}\n\t\t}\n\t} else {\n\t\t/*\n\t\t * The send_email Action does not require a body. Defaulting to empty string if none\n\t\t * is provided by the implementer.\n\t\t */\n\t\temailBody = body || '';\n\t}\n\n\tvar emailInputs = {\n\t\tah_to: requestBodyData.to,\n\t\tah_subject: requestBodyData.subject,\n\t\t// send_email is expecting ah_body to be HTML, but sending a string sans HTML elements seems to work\n\t\tah_body: emailBody,\n\t};\n\n\ttry {\n\t\tsn_fd.FlowAPI.executeAction('global.send_email', emailInputs);\t\t\n\t} catch(e) {\n\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t.setStatus(500)\n\t\t\t.setMessage(gs.getMessageLang('Unable to send e-mail from /generic/send_email endpoint.', 'en'))\n\t\t\t.setDetail(gs.getMessage('Unable to send e-mail from /generic/send_email endpoint.'));\n\t}\n\n})(request, response);","sys_updated_on":"2021-03-29 22:11:00","enforce_acl":"f9f0f168c7522010408bc8d6f2c2602f","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/f7ec1279c3202010a9f5e548fa40dd4d","value":"f7ec1279c3202010a9f5e548fa40dd4d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"d81e115253c22010b846ddeeff7b126f","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_app_eng_studio/v1/generic/send_email","sys_created_on":"2021-02-02 20:12:24","sys_name":"POST E-mail","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/37cc9e39c3202010a9f5e548fa40ddef","value":"37cc9e39c3202010a9f5e548fa40ddef"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"87","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_ws_operation_d81e115253c22010b846ddeeff7b126f","consumes_customized":"false","name":"POST E-mail","produces":"application/json,application/xml,text/xml","relative_path":"/send_email","produces_customized":"false","default_operation_uri":"/api/sn_app_eng_studio/generic/send_email","sys_policy":"read"},{"short_description":"","operation_script":"(function process(request, response) {\n\tvar meetingId = request.pathParams.meetingId;\n\tif (!meetingId) \n\t\treturn new sn_ws_err.BadRequestError(\"CAB Meeting id not provided\");\n\t\n\tvar nextItemId = request.pathParams.nextItemId;\n\tif (!nextItemId)\n\t\treturn new sn_ws_err.BadRequestError(\"Next Agenda Item not provided\");\n\t\n\tvar runtimeState = CABRuntimeState.get(meetingId);\n\truntimeState.nextAgendaItem(nextItemId, true);\n\tresponse.setBody(runtimeState.toJS());\n})(request, response);","sys_updated_on":"2017-01-26 12:56:24","enforce_acl":"cbe72f65c32032001488b731c1d3ae92","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"d82ad0f4eb20220034d1eeea1206feca","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_change_cab/cab/runtime_state/nd_next_item/{meetingId}/{nextItemId}","sys_created_on":"2016-07-08 16:12:31","sys_name":"SET No Decision and Next Agenda Item","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/cf65d305eb10220034d1eeea1206fe55","value":"cf65d305eb10220034d1eeea1206fe55"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_update_name":"sys_ws_operation_d82ad0f4eb20220034d1eeea1206feca","consumes_customized":"false","name":"SET No Decision and Next Agenda Item","produces":"application/json,application/xml,text/xml","relative_path":"/runtime_state/nd_next_item/{meetingId}/{nextItemId}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar subscriptions = SNC.AppEngineLicensingUsage.getAppEngineLicensesOnInstance();\n\t\n\tvar records = JSON.parse(subscriptions);\n\t//gs.info(\"Total App Engine licenses on insance : \" + records.length);\t\n\t\n\tif (records.length == 0)\n\t\tresponse.setStatus(204);\n\telse {\n\t\tresponse.setStatus(200);\n\t\tresponse.setBody(records);\n\t}\n\n})(request, response);","sys_updated_on":"2020-03-23 21:18:16","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"d897e2623bb033007fef460044efc436","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/uaappenginelicensingservice/getAppEngineLicensingStats","sys_created_on":"2019-04-17 04:11:57","sys_name":"getAppEngineLicensingStats","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ad1762623bb033007fef460044efc468","value":"ad1762623bb033007fef460044efc468"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8bc96fbb04f12210559073c06a02f755","value":"8bc96fbb04f12210559073c06a02f755"},"sys_update_name":"sys_ws_operation_d897e2623bb033007fef460044efc436","consumes_customized":"false","name":"getAppEngineLicensingStats","produces":"application/json,application/xml,text/xml","relative_path":"/getAppEngineLicensingStats","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(request, response) {\n\treturn new RowFieldQueryTerm().processQueryTerm(\n\t\trequest.queryParams.sysparm_table.toString(), \n\t\trequest.queryParams.sysparm_field.toString(), \n\t\trequest.queryParams.sysparm_operator.toString(), \n\t\trequest.queryParams.sysparm_sys_id.toString()\n\t);\n})(request, response);","sys_updated_on":"2016-07-29 21:10:50","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"d8eec963c33022003b935ad551d3aea7","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/list_query","sys_created_on":"2016-07-29 19:22:34","sys_name":"context_query","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/c97c4963c33022003b935ad551d3ae00","value":"c97c4963c33022003b935ad551d3ae00"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"9","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3135677304712210559073c06a02f750","value":"3135677304712210559073c06a02f750"},"sys_update_name":"sys_ws_operation_d8eec963c33022003b935ad551d3aea7","consumes_customized":"false","name":"context_query","produces":"application/json,application/xml,text/xml","relative_path":"/","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var data = request.body.data;\n    try {\n        var modelId = data.modelId;\n        var sysEntity = data.sysEntity;\n        if (modelId && sysEntity) {\n            response.setContentType('application/json');\n            return new NLUModel(modelId).enableSysEntity(sysEntity);\n        } else {\n            return new sn_ws_err.BadRequestError(\"Input is not valid\");\n        }\n\n    } catch (e) {\n        return e;\n    }\n\n})(request, response);","sys_updated_on":"2021-04-20 05:47:29","enforce_acl":"ccd8a1e7772000105d7b3882a910617c","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/e4cda81e7333230021a044764df6a777","value":"e4cda81e7333230021a044764df6a777"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"d8f60ed773b2901056b5bef4b4f6a70e","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/v1/nlu/enableSysEntity","sys_created_on":"2020-08-28 12:54:46","sys_name":"enableSysEntity","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/55672c9a7333230021a044764df6a706","value":"55672c9a7333230021a044764df6a706"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_ws_operation_d8f60ed773b2901056b5bef4b4f6a70e","consumes_customized":"false","name":"enableSysEntity","produces":"application/json,application/xml,text/xml","relative_path":"/enableSysEntity","produces_customized":"false","default_operation_uri":"/api/now/nlu/enableSysEntity","sys_policy":""},{"short_description":"","sys_updated_on":"2017-03-09 23:01:38","enforce_acl":"b5ca561bb3113200715ca943c6a8dca8","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"d8fdf5c2b3303200715ca943c6a8dc4d","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_bm_client/benchmark_client_api/saveoptoutfeedback","sys_created_on":"2017-02-09 03:09:49","sys_name":"saveoptoutfeedback","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/986214c16710320097eeff5557415a89","value":"986214c16710320097eeff5557415a89"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_update_name":"sys_ws_operation_d8fdf5c2b3303200715ca943c6a8dc4d","consumes_customized":"false","name":"savefeedback","produces":"application/json,application/xml,text/xml","relative_path":"/saveoptoutfeedback","produces_customized":"false","default_operation_uri":"","sys_policy":"protected"},{"short_description":"Gets all grouped components","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tconst apiHelper = new APIHelper(request, response);\n\tapiHelper.execute(function(){\n\t\tconst result = new ComponentDefinitions().getGroupComponentDefinitions();\n\t\tapiHelper.getResponse(result, BuilderToolkitConstants.ERRORS.NO_COMPONENT_DEFINITIONS);\n\t});\n\n})(request, response);","sys_updated_on":"2023-05-26 18:18:29","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239,c67e91dd43a11210eeba83020cb8f24c","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"d91c5521430f1110e70583020cb8f2b1","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/components/groups","sys_created_on":"2022-11-08 17:35:47","sys_name":"Component Groups","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_d91c5521430f1110e70583020cb8f2b1","consumes_customized":"false","name":"Component Groups","produces":"application/json,application/xml,text/xml","relative_path":"/components/groups","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    const apiHelper = new APIHelper(request, response);\n    apiHelper.respondSuccesfully({\n        upgradeInProgress: gs.getProperty('glide.upgrade.impending', 'false') === 'true' || gs.getProperty('glide.upgrade.version') !== null\n    });\n\n})(request, response);","sys_updated_on":"2023-05-26 18:17:58","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"d953aee443712110e70583020cb8f2cc","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/upgrade_status","sys_created_on":"2023-03-22 13:08:22","sys_name":"Check instance upgrade status","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_d953aee443712110e70583020cb8f2cc","consumes_customized":"false","name":"Check instance upgrade status","produces":"application/json,application/xml,text/xml","relative_path":"/upgrade_status","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        const playerController = new global.SNHelpSetupPlaybookActivityController();\n        const data = request.body.data;\n        const result = playerController.getRecord(data);\n        response.setStatus(result.status);\n        if (result.data) {\n            response.setBody(result.data);\n        } else {\n            response.setBody({\n                error: result.message || result.error\n            });\n        }\n    } catch (ex) {\n        response.setStatus(500);\n        response.setBody({\n            error: \"Internal Server Error \" + ex\n        });\n    }\n\n})(request, response);","sys_updated_on":"2024-09-12 06:55:28","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"d955ca9a43a0561050286548b9b8f2dc","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_ads_setup/play/playbook_activity/get_record","sys_created_on":"2024-09-12 06:55:28","sys_name":"Playbook Activity Get Record","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/9fb44064773230106ee492b01e5a9991","value":"9fb44064773230106ee492b01e5a9991"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_update_name":"sys_ws_operation_d955ca9a43a0561050286548b9b8f2dc","consumes_customized":"false","name":"Playbook Activity Get Record","produces":"application/json,application/xml,text/xml","relative_path":"/playbook_activity/get_record","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar sysId = request.pathParams.sys_id || null;\n\tif (!sysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Emergency Change Request id not provided\");\n\n\tvar changeProcess = global.EmergencyChangeProcess.findById(sysId);\n\tif (!changeProcess)\n\t\treturn new sn_ws_err.NotFoundError(\"Emergency Change Request not found\");\n\n\tvar nameValuePairs = global.ChangeCommon.assign({}, request.queryParams, request.body.data);\n\n\tvar state;\n\tif (nameValuePairs.state) {\n\t\tstate = nameValuePairs.state;\n\t\tdelete nameValuePairs.state;\n\t}\n\n\tvar fields = changeProcess.setValues(nameValuePairs);\n\n\tif (state && !changeProcess.canMoveTo(state)) {\n\t\tvar error = new sn_ws_err.ServiceError();\n\t\terror.setStatus(400);\n\t\terror.setMessage(\"Emergency Change Request cannot move to state: \" + state);\n\t\terror.setDetail(JSON.stringify(changeProcess.evaluateMoveTo(state)));\n\t\treturn error;\n\t}\n\n\tif ((!state && changeProcess.update()) || (state && changeProcess.moveTo(state) && changeProcess.update())) {\n\t\tvar result = changeProcess.toJS();\n\t\tresult.__meta = { ignoredFields: fields.ignored && fields.ignored.length > 0 ? fields.ignored : [] };\n\t\treturn result;\n\t}\n\n\tvar errorMessage = \"Emergency Change Request record could not be updated.\";\n\tvar lastErrorMessage = changeProcess.getGlideRecord().getLastErrorMessage();\n\tif (lastErrorMessage)\n\t\terrorMessage += \" \" + lastErrorMessage;\n\n\treturn new sn_ws_err.BadRequestError(errorMessage);\n})(request, response);","sys_updated_on":"2018-07-20 10:52:40","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"d99c5cebb713130096c3e4f6ee11a9d8","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/emergency/{sys_id}","sys_created_on":"2018-07-20 10:52:40","sys_name":"Emergency","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_d99c5cebb713130096c3e4f6ee11a9d8","consumes_customized":"false","name":"Emergency","produces":"application/json,application/xml,text/xml","relative_path":"/emergency/{sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/emergency/{sys_id}","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n    try {\n        const setupId = request.pathParams.setup_id;\n        const data = request.body.data;\n        /*\n            body_schema: \n\t\t\t{\n\t\t\t\t'interaction_id': {\n\t\t\t\t\ttype:string,\n\t\t\t\t\tsource: 'interaction sys id'\n\t\t\t\t}\n\t\t\t}\n\t\t*/\n        const restHandler = new SNHelpSetupRestHandler();\n        const result = restHandler.contextHandler(setupId, data);\n        const status = result && result.status;\n\n        response.setStatus(status);\n\n        if (status == 200)\n            response.setBody(result);\n        else\n            response.setBody({\n                error: result.message\n            });\n\n    } catch (ex) {\n        response.setStatus(500);\n        response.setBody({\n            error: \"Internal Server Error \" + ex\n        });\n    }\n})(request, response);","sys_updated_on":"2024-08-24 06:28:17","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"d9b612024348121050286548b9b8f241","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_ads_setup/play/interaction_context/setup/{setup_id}","sys_created_on":"2024-08-17 16:52:54","sys_name":"Interaction Context ","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/9fb44064773230106ee492b01e5a9991","value":"9fb44064773230106ee492b01e5a9991"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"12","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1cb77a801b9af01039c155f3604bcb9e","value":"1cb77a801b9af01039c155f3604bcb9e"},"sys_update_name":"sys_ws_operation_d9b612024348121050286548b9b8f241","consumes_customized":"false","name":"Interaction Context ","produces":"application/json,application/xml,text/xml","relative_path":"/interaction_context/setup/{setup_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar tableName = String(request.queryParams.tableName);\n    var return_obj = new PDFtoTableHelper().getTableExtensions(tableName);\n\tresponse.setBody(return_obj);\n})(request, response);","sys_updated_on":"2023-04-12 10:40:55","enforce_acl":"f7e62b5f97e415108843f73ef053af30","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"da171a34471555508692df37436d43a3","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_pdf_table_bldr/app/getTableExtensions","sys_created_on":"2022-08-11 14:08:50","sys_name":"Table extensions API","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/8e417ee064982b70a7bd187e6edb95f1","value":"8e417ee064982b70a7bd187e6edb95f1"},"sys_created_by":"divyanshu.bhasin@snc","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/16652f5b97e415108843f73ef053af22","value":"16652f5b97e415108843f73ef053af22"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8e417ee064982b70a7bd187e6edb95f1","value":"8e417ee064982b70a7bd187e6edb95f1"},"sys_update_name":"sys_ws_operation_da171a34471555508692df37436d43a3","consumes_customized":"false","name":"Table extensions API","produces":"application/json,application/xml,text/xml","relative_path":"/getTableExtensions","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar table = request.queryParams.table ? request.queryParams.table + \"\" : \"\";\n\tvar field = request.queryParams.field ? request.queryParams.field + \"\" : \"\";\n\tvar encodedQuery = request.queryParams.encoded_query ? request.queryParams.encoded_query + \"\" : \"\";\n\n\tif (!table || !field || !encodedQuery)\n\t\treturn new sn_ws_err.BadRequestError(\"table, field, and encodedQuery are required\");\n\n\tif (new global.ChangeSoCUtil().hasDynamicCondition(encodedQuery))\n\t\treturn new sn_ws_err.BadRequestError(gs.getMessage(\"is (dynamic) filter operators are not supported\"));\n\n    var gr = new GlideRecord(table);\n\tgr.setLimit(1);\n\tgr.query();\n\tgr.next();\n\tgr.setValue(field, encodedQuery);\n\n\tif (!gr.canRead())\n\t\tthrow new sn_ws_err.BadRequestError(\"You are either not authorized or record is not valid.\");\n\n\treturn gr.getDisplayValue(field);\n})(request, response);","sys_updated_on":"2018-02-18 13:49:29","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"da224f92c3501300b6dcdfdc64d3aefc","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_chg_soc/soc/getreadablecondition","sys_created_on":"2018-02-17 22:36:00","sys_name":"getreadablecondition","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3115d45f67020300b410afa00585ef87","value":"3115d45f67020300b410afa00585ef87"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_update_name":"sys_ws_operation_da224f92c3501300b6dcdfdc64d3aefc","consumes_customized":"false","name":"getreadablecondition","produces":"application/json,application/xml,text/xml","relative_path":"/getreadablecondition","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var data = request.body.data;\n\n    try {\n\n        if (data.modelId) {\n            var result = NLUStudioPublisher.publishModel(data.modelId);\n\n            if (result.status === 'success') {\n                response.setStatus(200);\n            } else {\n                response.setStatus(400);\n            }\n\n            response.setContentType('application/json');\n            return result;\n        } else {\n            return new sn_ws_err.BadRequestError(\"No input data provided\");\n        }\n\n    } catch (e) {\n        return new sn_ws_err.BadRequestError(e.message);\n    }\n\n})(request, response);","sys_updated_on":"2021-04-20 05:47:30","enforce_acl":"ccd8a1e7772000105d7b3882a910617c","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/e4cda81e7333230021a044764df6a777","value":"e4cda81e7333230021a044764df6a777"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"da25b636773323005d7b3882a91061e0","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/v1/nlu/publish","sys_created_on":"2019-02-27 06:46:53","sys_name":"publish","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/55672c9a7333230021a044764df6a706","value":"55672c9a7333230021a044764df6a706"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_ws_operation_da25b636773323005d7b3882a91061e0","consumes_customized":"false","name":"publish","produces":"application/json,application/xml,text/xml","relative_path":"/publish","produces_customized":"false","default_operation_uri":"/api/now/nlu/publish","sys_policy":""},{"short_description":"","operation_script":"function getObjectsFromRecords(records, valueFieldsToRetrieve, displayFieldsToRetrieve, type) {\n    var aesUtils = new AesUtils();\n    var output = [];\n\n    while (records.next()) {\n        var obj = aesUtils.getObjectFromGlideRecord(records, valueFieldsToRetrieve, displayFieldsToRetrieve);\n\n        obj.type = type;\n\n        output.push(obj);\n    }\n\n    return output;\n}\n\nfunction getUsersWithAESRole(nameFilter, limit) {\n    var type = 'user';\n    var valueFieldsToRetrieve = ['sys_id', 'email'];\n    var displayFieldsToRetrieve = ['name', 'avatar'];\n\n    var results = [];\n\n    var records = new GlideRecord('sys_user');\n    var userRoleJoin = records.addJoinQuery('sys_user_has_role');\n\n    records.addActiveQuery();\n\n    userRoleJoin.addCondition('role', CreatorStudioConstants.roles.AES_USER_ROLE_ID);\n\n    records.addQuery('name', \"CONTAINS\", nameFilter);\n\n    if (limit) {\n        records.setLimit(limit);\n    }\n\n    records.orderBy('name');\n\n    records.query();\n\n    return getObjectsFromRecords(records, valueFieldsToRetrieve, displayFieldsToRetrieve, type);\n}\n\nfunction getGroupsWithAESRole(nameFilter, limit) {\n    var type = 'group';\n    var valueFieldsToRetrieve = ['sys_id', 'email'];\n    var displayFieldsToRetrieve = ['name'];\n\n    var results = [];\n\n    var records = new GlideRecord('sys_user_group');\n    var groupRoleJoin = records.addJoinQuery('sys_group_has_role', 'sys_id', 'group');\n\n    records.addActiveQuery();\n\n    groupRoleJoin.addCondition('role', CreatorStudioConstants.roles.AES_USER_ROLE_ID);\n\n    records.addQuery('name', \"CONTAINS\", nameFilter);\n\n    if (limit) {\n        records.setLimit(limit);\n    }\n\n    records.orderBy('name');\n\n    records.query();\n\n    return getObjectsFromRecords(records, valueFieldsToRetrieve, displayFieldsToRetrieve, type);\n}\n\n\nfunction process(request, response) {\n    try {\n        var nameFilter = request.queryParams.name_filter ? request.queryParams.name_filter[0] : '';\n        var limit = request.queryParams.limit_per_type ?\n            request.queryParams.limit_per_type[0] :\n            request.queryParams.limit_per_type;\n\n        var usersWithAesRole = getUsersWithAESRole(nameFilter, limit);\n        var groupsWithAESRole = getGroupsWithAESRole(nameFilter, limit);\n        var usersAndGroups = usersWithAesRole.concat(groupsWithAESRole);\n\n        usersAndGroups.sort(function(a, b) {\n            if (a.name === b.name) {\n                return 0;\n            }\n\n            if (!a.name)\n                return 1;\n\n            if (!b.name)\n                return -1;\n\n            return a.name < b.name ? -1 : 1;\n        });\n        var result = {\n            usersAndGroups: usersAndGroups,\n            userCount: usersWithAesRole.length,\n            groupCount: groupsWithAESRole.length\n        };\n\n        response.setBody(result);\n        response.setStatus(200);\n\n    } catch (exception) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(500)\n            .setMessage(gs.getMessageLang(\"Unhandled exception {0}\", \"en\", [exception]))\n            .setDetail(gs.getMessage(\"Unhandled exception {0}\", [exception]));\n    }\n}\n\nprocess(request, response);","sys_updated_on":"2022-05-06 16:14:27","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/f7ec1279c3202010a9f5e548fa40dd4d","value":"f7ec1279c3202010a9f5e548fa40dd4d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"da297ca8c3cf4510b5c0c0a1fa40dd44","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_app_eng_studio/v1/generic/aes_users_groups/search","sys_created_on":"2022-04-20 17:58:18","sys_name":"GET Users and Groups  with AES Role","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/37cc9e39c3202010a9f5e548fa40ddef","value":"37cc9e39c3202010a9f5e548fa40ddef"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"40","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_ws_operation_da297ca8c3cf4510b5c0c0a1fa40dd44","consumes_customized":"false","name":"GET Users and Groups  with AES Role","produces":"application/json,application/xml,text/xml","relative_path":"/aes_users_groups/search","produces_customized":"false","default_operation_uri":"/api/sn_app_eng_studio/generic/aes_users_groups/search","sys_policy":"read"},{"short_description":"","operation_script":"(function process(request, response) {\n\tvar meetingId = request.pathParams.meetingId;\n\tif (!meetingId) \n\t\treturn new sn_ws_err.BadRequestError(\"CAB Meeting id not provided\");\n\t\n\tvar nextItemId = request.pathParams.nextItemId;\n\tif (!nextItemId)\n\t\treturn new sn_ws_err.BadRequestError(\"Next Agenda Item not provided\");\n\t\n\tvar runtimeState = CABRuntimeState.get(meetingId);\n\truntimeState.nextAgendaItem(nextItemId);\n\tresponse.setBody(runtimeState.toJS());\n\t\n})(request, response);","sys_updated_on":"2017-01-26 12:56:00","enforce_acl":"cbe72f65c32032001488b731c1d3ae92","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"dadc81e5eb10220034d1eeea1206fe70","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_change_cab/cab/runtime_state/next_item/{meetingId}/{nextItemId}","sys_created_on":"2016-06-28 17:36:58","sys_name":"SET Next Agenda Item","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/cf65d305eb10220034d1eeea1206fe55","value":"cf65d305eb10220034d1eeea1206fe55"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"18","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_update_name":"sys_ws_operation_dadc81e5eb10220034d1eeea1206fe70","consumes_customized":"false","name":"SET Next Agenda Item","produces":"application/json,application/xml,text/xml","relative_path":"/runtime_state/next_item/{meetingId}/{nextItemId}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"Get properties for CI in current/historical map view","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n/**\nParams:\n\tbsId (sys_id)\n\tciId (sys_id)\n\tstableId (stable id of CI)\n\thistoryTimestamp (optional, number ms)\n*/\n    var saOpsWrapper = new SaOperationsWrapper(SNC.SaActionsHandler);\n\tsaOpsWrapper.process(request,response, \"ciFullData\");\n\n})(request, response);","sys_updated_on":"2018-03-11 12:43:20","enforce_acl":"ea4f3ae287132200b5bea18dd0e3eceb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"db1a6edf7f120300995cbaf8befa91f7","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/it_service/ciFullData","sys_created_on":"2017-11-13 13:21:00","sys_name":"CIFullData - Internal API","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3418e25f7f120300995cbaf8befa912e","value":"3418e25f7f120300995cbaf8befa912e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_db1a6edf7f120300995cbaf8befa91f7","consumes_customized":"false","name":"CIFullData - Internal API","produces":"application/json,application/xml,text/xml","relative_path":"/ciFullData","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar actSubCtx = ActivitySubscriptionContext.getContext();\n\tif (!actSubCtx.isPluginEnabled()) {\n\t\tresponse.setStatus(400);\n\t\treturn {\n\t\t\t\"status\": 400,\n\t\t\t\"message\": \"Plugin is disabled please contact system administrator\"\n\t\t};\n\t}\n\n\tvar reqObject = {};\n\treqObject.activityModule = request.queryParams.activity_module || null;\n\treqObject.tableName = request.queryParams.name || null;\n\n\tvar acService = actSubCtx.getService(ActivityConstants.ACTIVITY_CONTEXT_SERVICE);\n\tvar contexts = acService.getActivityContexts(reqObject);\n\n\tresponse.setContentType('application/json');\n\tresponse.setStatus(contexts.status);\n\n\tif (contexts.status == 200)\n\t\tresponse.setBody(contexts.data);\n\telse\n\t\tresponse.setBody(contexts);\n\n})(request, response);","sys_updated_on":"2020-03-24 10:07:06","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/882dfe6853003200fa9bd7b08cc587d5","value":"882dfe6853003200fa9bd7b08cc587d5"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"db4a49a83bf300109381266914efc41b","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/actsub/contexts","sys_created_on":"2020-03-23 15:36:27","sys_name":"contexts","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/aabc7e6853003200fa9bd7b08cc5870f","value":"aabc7e6853003200fa9bd7b08cc5870f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/27dc6bfb04352210559073c06a02f739","value":"27dc6bfb04352210559073c06a02f739"},"sys_update_name":"sys_ws_operation_db4a49a83bf300109381266914efc41b","consumes_customized":"false","name":"contexts","produces":"application/json,application/xml,text/xml","relative_path":"/contexts","produces_customized":"false","default_operation_uri":"/api/now/actsub/contexts","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n\n    var helper = new CMDBDataManagerHelper();\n    var ids = helper.getParamAsString('sys_ids');\n\n    if (JSUtil.nil(ids) || ids.length == 0) {\n        return new sn_ws_err.BadRequestError('Missing policySysId(s)');\n    }\n\n    var result = {};\n    var errorSysIdList = helper.deletePolicies(ids);\n\n    if (errorSysIdList.length > 0) {\n        var error = new sn_ws_err.ServiceError();\n        error.setStatus(500);\n        error.setMessage('Error occcured while deleting Policies');\n\t\terror.setDetail('Error occured while deleting policies: ' + errorSysIdList);\n        return error;\n    }\n    result.status = 'success';\n    response.setStatus(200);\n    response.setBody(result);\n})(request, response);","sys_updated_on":"2021-03-23 23:27:08","enforce_acl":"bf20624e53832010af64ddeeff7b1272","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"db5863ac77d620108043270bba10616c","http_method":"DELETE","sys_updated_by":"admin","operation_uri":"/api/now/ci_lifecycle_manager/policy","sys_created_on":"2021-02-10 06:02:44","sys_name":"Delete Policy","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ad9ebe127322101045cadfcd3bf6a735","value":"ad9ebe127322101045cadfcd3bf6a735"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"24","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"sys_update_name":"sys_ws_operation_db5863ac77d620108043270bba10616c","consumes_customized":"false","name":"Delete Policy","produces":"application/json,application/xml,text/xml","relative_path":"/policy","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar requestBody = request.body;\n\tvar requestData = requestBody.data;\n\tvar category = requestData.category;\n\tvar instrumentationPoint = requestData.instrumentationPoint;\n\tvar instrumentationEvent = requestData.instrumentationEvent;\n\tvar gcfSampleMapString = requestData.gcfSampleMap;\n\t\n\tif (!category || !instrumentationPoint || !instrumentationEvent || !gcfSampleMapString)\n\t\treturn new sn_ws_err.BadRequestError('category, instrumentationPoint, InstrumentationEvent and GCFSample are all required.');\n \n\ttry {\n\t\tvar gcfSampleMap = JSON.parse(gcfSampleMapString);\n\t} catch (error) {\n\t\treturn new sn_ws_err.BadRequestError('gcfSampleMap is not a valid json string');\n\t}\n\t\n\tvar sm = new GCFSampleMap();\n\tfor (var key in gcfSampleMap)\n\t\tsm.put('' + key, '' + gcfSampleMap[key]);\n\t\n\tGCFCollector.recordUsageEvent('' + category, '' + instrumentationPoint, '' + instrumentationEvent, sm);\n\n})(request, response);","sys_updated_on":"2020-04-03 05:45:49","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/356daee30f33001058e6ac5397767e7c","value":"356daee30f33001058e6ac5397767e7c"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"db6d22270f33001058e6ac5397767e49","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/v1/ua_gcf","sys_created_on":"2020-04-02 06:30:50","sys_name":"collect","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/49d1d428e73233005765eef6c2f6a9eb","value":"49d1d428e73233005765eef6c2f6a9eb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/d15daae30f33001058e6ac5397767efd","value":"d15daae30f33001058e6ac5397767efd"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/49d1d428e73233005765eef6c2f6a9eb","value":"49d1d428e73233005765eef6c2f6a9eb"},"sys_update_name":"sys_ws_operation_db6d22270f33001058e6ac5397767e49","consumes_customized":"false","name":"collect","produces":"application/json,application/xml,text/xml","relative_path":"/","produces_customized":"false","default_operation_uri":"/api/now/ua_gcf","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var data = request.pathParams;\n\n    try {\n\n        if (data.modelId) {\n            var result = NLUStudioService.getModelStatus(data.modelId);\n\n            if (result.status === 'success') {\n                response.setStatus(200);\n            } else {\n                response.setStatus(400);\n            }\n\n            response.setContentType('application/json');\n            return result;\n\n        } else {\n            return new sn_ws_err.BadRequestError(\"No input data provided\");\n        }\n\n    } catch (e) {\n        return e;\n    }\n\n})(request, response);","sys_updated_on":"2021-04-20 05:47:30","enforce_acl":"ccd8a1e7772000105d7b3882a910617c","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/e4cda81e7333230021a044764df6a777","value":"e4cda81e7333230021a044764df6a777"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"dbbe53ff775333005d7b3882a91061d5","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/nlu/modelstatus/{modelId}","sys_created_on":"2019-08-23 12:02:15","sys_name":"modelStatus","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/55672c9a7333230021a044764df6a706","value":"55672c9a7333230021a044764df6a706"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"14","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_ws_operation_dbbe53ff775333005d7b3882a91061d5","consumes_customized":"false","name":"modelStatus","produces":"application/json,application/xml,text/xml","relative_path":"/modelstatus/{modelId}","produces_customized":"false","default_operation_uri":"/api/now/nlu/modelstatus/{modelId}","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var saOpsWrapper = new SaOperationsWrapper(SNC.SaActionsHandler);\n\tsaOpsWrapper.process(request,response, \"getServiceTreeData\");\n\n})(request, response);","sys_updated_on":"2018-03-11 12:48:38","enforce_acl":"ea4f3ae287132200b5bea18dd0e3eceb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"dbc036937f520300995cbaf8befa9143","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/it_service/serviceTreeData","sys_created_on":"2017-11-13 13:48:57","sys_name":"ServiceTreeData - Internal API","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3418e25f7f120300995cbaf8befa912e","value":"3418e25f7f120300995cbaf8befa912e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_dbc036937f520300995cbaf8befa9143","consumes_customized":"false","name":"ServiceTreeData - Internal API","produces":"application/json,application/xml,text/xml","relative_path":"/serviceTreeData","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var DATA_BLOCK_TYPE_SYS_ID = 'a886aedfc3dde11044104fb9c840ddb7';\n    var aceAppBuilderUtil = new ACEAppBuilderUtilV2();\n\n    var params = request.body.data;\n    var shouldRefreshChildBlocks = params.shouldRefreshChildBlocks;\n    var cbScriptVariables = params.cbScriptVariables;\n    var blockData = params.blockData;\n\n    var refreshedBlock = {};\n\n    var blockGr = new GlideRecord('sn_ace_content_block');\n    if (blockData && blockGr.get(blockData.block_id)) {\n        if (blockData.type && blockData.type.id == DATA_BLOCK_TYPE_SYS_ID) {\n            var dataBlockOutput = aceAppBuilderUtil._evaluateDataBlock(blockGr, blockData, cbScriptVariables);\n            refreshedBlock = blockData;\n            refreshedBlock.props_details.data_block_output = dataBlockOutput;\n        } else {\n            refreshedBlock = aceAppBuilderUtil.refreshContentBlock(blockData, cbScriptVariables, shouldRefreshChildBlocks, blockGr);\n        }\n    }\n\n    response.setBody({\n        refreshedBlock: refreshedBlock\n    });\n\n})(request, response);","sys_updated_on":"2023-05-22 17:06:01","enforce_acl":"2f7a350f774e2110bc5db5b27a5a995a","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"dbeb5671c311a11044104fb9c840dd21","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/ace/refresh_block","sys_created_on":"2023-03-01 13:58:07","sys_name":"Refresh Content Block","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/090c5ee353721110c733ddeeff7b1299","value":"090c5ee353721110c733ddeeff7b1299"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"15","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_update_name":"sys_ws_operation_dbeb5671c311a11044104fb9c840dd21","consumes_customized":"false","name":"Refresh Content Block","produces":"application/json,application/xml,text/xml","relative_path":"/refresh_block","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    response.setContentType('application/json');\n\tvar result = [];\n\tvar queryParams = request.queryParams;\n\t\n\tvar grs = new GlideRecordSecure(\"sys_user\");\n\tgrs.addEncodedQuery(\"nameSTARTSWITH\" +queryParams.term);\n\tif(queryParams.encoded_query){\n\t\tgrs.addEncodedQuery(queryParams.encoded_query);\n\t}\n\tgrs.query();\n\t\n\twhile(grs.hasNext()){\n\t\tgrs.next();\n\t\tresult.push({sys_id: grs.getValue(\"sys_id\"), name: grs.getValue(\"name\")});\n\t}\n\n\tresponse.setStatus(200);\n\tresponse.setBody(result);\n\t\n})(request, response);","sys_updated_on":"2020-03-24 21:44:46","enforce_acl":"edc5e02473230010ee4dd3c72bf6a7ea","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"dbfd523073530010ee4dd3c72bf6a7b6","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/csdm_app_service/search_users","sys_created_on":"2020-02-28 20:13:49","sys_name":"Get Users","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/60c171d973c30010ee4dd3c72bf6a716","value":"60c171d973c30010ee4dd3c72bf6a716"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2f8d67ff04352210559073c06a02f74f","value":"2f8d67ff04352210559073c06a02f74f"},"sys_update_name":"sys_ws_operation_dbfd523073530010ee4dd3c72bf6a7b6","consumes_customized":"false","name":"Get Users","produces":"application/json,application/xml,text/xml","relative_path":"/search_users","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\n\tvar startSpanDate = request.queryParams.start_date_time;\n\tvar endSpanDate = request.queryParams.end_date_time ;\n\tvar userId = request.queryParams.user_id;\n\tvar rosterId = request.queryParams.roster_id + \"\";\n\tvar groupId = request.queryParams.group_id + \"\";\n\tvar tableName = request.queryParams.table + \"\";\n\tvar sysId = request.queryParams.sys_id + \"\";\n\tvar format = request.queryParams.format + \"\";\n\tvar onCallCommon = new OnCallCommon();\n\treturn onCallCommon.replaceCoverage(startSpanDate, endSpanDate, userId, rosterId, groupId, tableName, sysId, format);\n\t\n})(request, response);","sys_updated_on":"2019-09-18 11:45:40","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"dcf418cd73022300e7af6238edf6a74a","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/replaceCoverage","sys_created_on":"2018-11-26 10:43:55","sys_name":"replaceCoverage","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"23","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_dcf418cd73022300e7af6238edf6a74a","consumes_customized":"false","name":"replaceCoverage","produces":"application/json,application/xml,text/xml","relative_path":"/replaceCoverage","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar tableName = request.pathParams.table_name || \"change_request\";\n\tvar sysId = request.pathParams.sys_id || \"\";\n\tif (!sysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Record id not provided\");\n\n\tvar queryParams = {};\n\ttry {\n\t\tqueryParams = request.queryParams;\n\t} catch (exception) {}\n\n\tvar scheduleAssistConfig = new SOWChgScheduleAssist(request.pathParams.table_name, request.pathParams.sys_id, queryParams.start_date, queryParams.end_date, queryParams.beginning_of_week);\n\n\treturn scheduleAssistConfig.getScheduleAssistConfig();\n})(request, response);","sys_updated_on":"2022-09-06 06:15:19","enforce_acl":"46500b4253001110843addeeff7b1286","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"dd10beca53801110843addeeff7b1229","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_sow_chg/scheduling_assistant/scheduleassistconfig/{table_name}/{sys_id}","sys_created_on":"2022-06-14 09:53:02","sys_name":"Schedule Assist Config","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/bddfaeca53801110843addeeff7b1266","value":"bddfaeca53801110843addeeff7b1266"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"72","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_update_name":"sys_ws_operation_dd10beca53801110843addeeff7b1229","consumes_customized":"false","name":"Schedule Assist Config","produces":"application/json,application/xml,text/xml","relative_path":"/scheduleassistconfig/{table_name}/{sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Updates multiple records that make up a UIB page record","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    const apiHelper = new APIHelper(request, response);\n    apiHelper.execute(function() {\n        const noDomain = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.NO_DOMAIN);\n        const {\n            screen,\n            macroponent,\n            clientScripts = [],\n            screenTestValues = {},\n            addOnEventMappings = [],\n            events = []\n        } = request.body.data;\n\n        const eventHandler = new UXEvent();\n        // We have to update, insert, or delete as needed\n        // Then we have to update our macroponent's dispatched/handled events\n        // Sometimes an event will already exist with the same namespace, so we just switch our MCP to that ID instead\n        const {\n            updatedDispatchedEvents = '',\n\t\t\tupdatedHandledEvents = '',\n\t\t\teventOperationResults = []\n        } = eventHandler.upsertAndDeleteRecords(events, macroponent);\n\n        if (updatedDispatchedEvents !== '' || updatedHandledEvents !== '') {\n            macroponent.dispatchedEvents = updatedDispatchedEvents;\n            macroponent.handledEvents = updatedHandledEvents;\n        }\n\n\t\tif(macroponent && macroponent?.formFactors){\n\t\t\tmacroponent.formFactors = new FormFactorHelper().stripGlobalFormFactors(macroponent.formFactors);\n\t\t}\n\n        apiHelper.getResponseFromMutliOperation({\n            screen: screen ? new Screen([], noDomain).updateRecord(screen) : true,\n            macroponent: macroponent ? new Macroponent().updateRecord(macroponent) : true,\n            clientScripts: clientScripts ? new ClientScript().processRecordsByDatabaseOperation(clientScripts) : true,\n            screenTestValue: screenTestValues ? new ScreenTestValue().updateRecord(screen?.sysId, screenTestValues) : true,\n            addOnEventMappings: addOnEventMappings ? new UXAddOnEventMapping([], noDomain).processRecordsByDatabaseOperation(addOnEventMappings) : true,\n            events: eventOperationResults\n        });\n    });\n\n})(request, response);","sys_updated_on":"2024-04-05 22:40:21","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"{\n    \"screen\": {\n        \"requiredTranslations\": \"[ ]\",\n        \"screenType\": \"\",\n        \"sysId\": \"\",\n        \"appConfig\": \"\",\n        \"sysDomain\": {\n            \"value\": \"\",\n            \"displayValue\": \"\"\n        },\n        \"sysScope\": {\n            \"value\": \"\",\n            \"displayValue\": \"\"\n        },\n        \"order\": 0,\n        \"active\": true,\n        \"parentMacroponent\": \"\",\n        \"name\": \"\",\n        \"macroponent\": \"\",\n        \"macroponentConfig\": {},\n        \"eventMappings\": []\n    },\n    \"screenTestValues\": {\n        \"sysId\": \"\",\n        \"sysScope\": {\n            \"value\": \"\",\n            \"displayValue\": \"\",\n            \"scopeName\": \"\"\n        },\n        \"macroponentConfig\": {}\n    },\n    \"macroponent\": {\n        \"requiredTranslations\": \"[ ]\",\n        \"sysId\": \"\",\n        \"sysScope\": {\n            \"value\": \"\",\n            \"displayValue\": \"\",\n            \"scopeName\": \"\"\n        },\n        \"props\": [],\n        \"extends\": \"\",\n        \"name\": \"\",\n        \"category\": \"\",\n        \"composition\": [],\n        \"data\": [],\n        \"layout\": {},\n        \"stateProperties\": [],\n        \"internalEventMappings\": {}\n    },\n    \"clientScripts\": [],\n    \"events\": []\n}","sys_id":"dd4d5f0ab18b9110f8771c999404e505","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/page","sys_created_on":"2022-11-10 16:17:30","sys_name":"Page","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"90","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_dd4d5f0ab18b9110f8771c999404e505","consumes_customized":"false","name":"Page","produces":"application/json,application/xml,text/xml","relative_path":"/page","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar itemViewSysId = request.queryParams.sys_id[0];\n\tvar fieldsToQuery = [];\n\n\n\tfunction getContentInTheParenthesis(str){\n\t\tvar startingIndex = str.indexOf('(');\n\t\treturn startingIndex > -1\n\t\t\t? str.substring(startingIndex + 1, str.length - 1)\n\t\t\t: str;\n\t}\n\n\tfunction determineFields(dependencyFields) {\n\t\tvar allFields = dependencyFields.split(',');\n\t\tvar formattedFields = allFields.map(function(field) {\n\t\t\tvar fieldStr = field.split('-')[0];\n\t\t\treturn getContentInTheParenthesis(fieldStr);\n\t\t});\n\t\treturn formattedFields;\n\t}\n\n\t\tfunction getColumns(table) {\n\t\tif(!table) return [];\n\t\tvar td = new GlideRecordSecure(table);\n\t\tvar elems = td.getElements();\n\t\tvar columns = {};\n\t\tfor(var i = 0 ; i < elems.length; i++){\n\t\t\tvar elem = elems[i];\n\t\t\tvar name = elem.getName();\n\t\t\tvar label = elem.getLabel();\n\t\t\tcolumns[name] = {\n\t\t\t\tname: name,\n\t\t\t\tlabel: label\n\t\t\t};\n\t\t}\n\n\t\treturn columns;\n\t}\n\n\n\n\tvar itemViewGR = new GlideRecordSecure('sys_sg_item_view');\n\titemViewGR.get(itemViewSysId);\n\n\tvar table = itemViewGR.getValue('table');\n\tvar dependencyFields = itemViewGR.getValue('dependency_fields');\n\tvar formattedDependencyFields = determineFields(dependencyFields);\n\n\tvar tableSchema = getColumns(table);\n\n \tif(request.body.data.dependency_fields.length) {\n\t\tfieldsToQuery = request.body.data.dependency_fields;\n \t} else {\n\t\tformattedDependencyFields.forEach(function(field) {\n\t\t\tfieldsToQuery.push(field);\n\t\t});\n \t}\n\n\tvar result = [];\n\n\tvar tableGR = new GlideRecordSecure(table);\n\ttableGR.setLimit(1000);\n\ttableGR.query();\n\n\twhile(tableGR.next()) {\n\t\tvar previewElement = {};\n\t\tfieldsToQuery.forEach(function(field){\n\t\t\tif (field) {\n\t\t\t\tpreviewElement[field] = tableGR.getElement(field).getDisplayValue() + \"\";\n\t\t\t}\n\t\t});\n\t\tresult.push(previewElement);\n\t}\n\n\n\n\n\n    return { previewData: result, tableSchema: tableSchema };\n\n})(request, response);","sys_updated_on":"2023-03-07 17:07:28","enforce_acl":"cf9d01d3e73003009d6247e603f6a990,d7088c08b751211095411226de11a9e9","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"dd54611973111010a59b4c5353f6a754","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/mcb/item_view/preview","sys_created_on":"2020-06-08 14:59:44","sys_name":"Item View - Preview - Get","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/63d8b7c573c51010a59b4c5353f6a737","value":"63d8b7c573c51010a59b4c5353f6a737"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"27","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_update_name":"sys_ws_operation_dd54611973111010a59b4c5353f6a754","consumes_customized":"false","name":"Item View - Preview - Get","produces":"application/json,application/xml,text/xml","relative_path":"/item_view/preview","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        var newApplicationPath = request.pathParams.application_path;\n        if (!newApplicationPath)\n            return new sn_ws_err.BadRequestError('Application path not provided');\n\t\tvar path = gs.base64Decode(newApplicationPath);\n        var gr = new GlideRecord(\"sys_ux_page_registry\");\n        gr.addQuery(\"path\", path);\n        gr.query();\n\t\t\n        var result = {\n            isUnique: !gr.next(),\n\t\t\tpath: path\n        };\n        response.setStatus(200);\n        response.setBody(result);\n    } catch (e) {\n        var error = new sn_ws_err.ServiceError();\n        error.setMessage(e.toString());\n        response.setError(error);\n    }\n})(request, response);","sys_updated_on":"2023-07-26 17:08:03","enforce_acl":"d49421244c143510f877ebe7dadf07b7","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"dd91ad9e5bb12010fb2a210bb881c7f6","http_method":"GET","sys_updated_by":"maint","operation_uri":"/api/sn_portal_starte_0/portal_starter_experience/is_unique/{application_path}","sys_created_on":"2021-01-21 10:06:03","sys_name":"Verify portal url","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/9262a139c39020100bf442583c40dd87","value":"9262a139c39020100bf442583c40dd87"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/2151a99e5bb12010fb2a210bb881c723","value":"2151a99e5bb12010fb2a210bb881c723"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"9","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9262a139c39020100bf442583c40dd87","value":"9262a139c39020100bf442583c40dd87"},"sys_update_name":"sys_ws_operation_dd91ad9e5bb12010fb2a210bb881c7f6","consumes_customized":"false","name":"Verify portal url","produces":"application/json,application/xml,text/xml","relative_path":"/is_unique/{application_path}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    function hasApplications(dfcProductSysId) {\n        let dfcApplicationGr = new GlideRecord('sn_dfc_application');\n        dfcApplicationGr.addQuery('product', dfcProductSysId);\n        dfcApplicationGr.query();\n        while (dfcApplicationGr.next()) {\n            let sysPackageGr = new GlideRecord('sys_package');\n            sysPackageGr.addQuery('source', dfcApplicationGr.getValue('package_id'));\n            sysPackageGr.query();\n            if (sysPackageGr.hasNext())\n                return true;\n        }\n\t\t\n        return false;\n    }\n\n    const sysId = request.queryParams?.sysId ? request.queryParams.sysId : null;\n    let products = [];\n\n    let dfcProductGr = new GlideRecord('sn_dfc_product');\n    \n    if (sysId && sysId.length > 0)\n        dfcProductGr.addQuery('sys_id', 'IN', sysId.join(','));\n    \n    dfcProductGr.orderBy('name');\n    dfcProductGr.query();\n\n    while (dfcProductGr.next()) {\n        let dfcProductSysId = dfcProductGr.getValue('sys_id');\n        if (hasApplications(dfcProductSysId))\n            products.push({\n                id: dfcProductSysId,\n                label: dfcProductGr.getDisplayValue('name')\n            });\n    }\n\n    result = {\n        products: products\n    };\n\n    response.setContentType('application/json');\n    response.setStatus(200);\n    response.setBody(result);\n\n})(request, response);","sys_updated_on":"2023-06-26 22:37:27","enforce_acl":"a5be7e674fa3611038e26c01b1ce0b81","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"ddbd6c35b7012110ebc251e75e11a97d","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_config_hub/configuration_hub_api/config/products","sys_created_on":"2023-02-16 19:12:50","sys_name":"Get Products","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/2028fe718b11c8f32122c6da3b496a83","value":"2028fe718b11c8f32122c6da3b496a83"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/d68a7cb5eb9221109cfedf3c03522847","value":"d68a7cb5eb9221109cfedf3c03522847"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2028fe718b11c8f32122c6da3b496a83","value":"2028fe718b11c8f32122c6da3b496a83"},"sys_update_name":"sys_ws_operation_ddbd6c35b7012110ebc251e75e11a97d","consumes_customized":"false","name":"Get Products","produces":"application/json,application/xml,text/xml","relative_path":"/config/products","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var params = request.body.nextEntry();\n    var actionId = params.actionId;\n    var actionInputs = JSON.parse(params.actionInputs);\n    var table = params.table;\n    var context = params.context;\n\n    if (!gs.nil(table) && !gs.nil(context)) {\n        gr = new GlideRecord(table);\n        gr.get(context);\n        if (gr.canRead()) {\n            var clientCall = new sn_ex_sp.ActionUtil(gr);\n            clientCall.toggleParameterTypes();\n            var actionOutput = clientCall.executeActionServerScript(actionId, actionInputs);\n            response.setBody({\n                actionOutput: actionOutput\n            });\n        }\n    }\n\n})(request, response);","sys_updated_on":"2023-10-25 09:10:02","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"def4ef1deb2975507f419f6713522880","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_ex_sp/action/executeServerScript","sys_created_on":"2023-09-27 11:47:17","sys_name":"executeServerScript","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/4249e63a28d54d61bb6fbf61fd86cccb","value":"4249e63a28d54d61bb6fbf61fd86cccb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/90e42b1deb2975507f419f6713522812","value":"90e42b1deb2975507f419f6713522812"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4249e63a28d54d61bb6fbf61fd86cccb","value":"4249e63a28d54d61bb6fbf61fd86cccb"},"sys_update_name":"sys_ws_operation_def4ef1deb2975507f419f6713522880","consumes_customized":"false","name":"executeServerScript","produces":"application/json,application/xml,text/xml","relative_path":"/executeServerScript","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(request, response) {\n    response.setContentType('application/json');\n    var requestData = request.body.data;\n\n    if (JSUtil.nil(requestData.ci_list) || requestData.ci_list.length == 0 || JSUtil.nil(requestData.cmdb_policy_type)) {\n        return new sn_ws_err.BadRequestError(\"Cannot perform Exclude operation without Cis and Policy type\");\n    }\n\n    var result = {};\n    var helper = new CMDBDataManagerHelper();\n    var errorSysIdList = helper.addCIToExclusionList(requestData.ci_list, requestData.cmdb_policy_type);\n\n    if (errorSysIdList.length > 0) {\n        var error = new sn_ws_err.ServiceError();\n        error.setStatus(400);\n        error.setMessage(\"Error occcured while creating CI Exclusion list\");\n        error.setDetail(\"Error occured while adding CIs \" + errorSysIdList + \" to the exclusion list\");\n        return error;\n    }\n    result.status = 'success';\n    response.setStatus(200);\n    response.setBody(result);\n\t\n})(request, response);","sys_updated_on":"2021-03-23 23:26:37","enforce_acl":"885bc51053832010af64ddeeff7b12cb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"dff34ea0779620108043270bba10615e","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/ci_lifecycle_manager/exclude_cis","sys_created_on":"2021-02-09 22:37:46","sys_name":"Add Cis to Exclusion List","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ad9ebe127322101045cadfcd3bf6a735","value":"ad9ebe127322101045cadfcd3bf6a735"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"42","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"sys_update_name":"sys_ws_operation_dff34ea0779620108043270bba10615e","consumes_customized":"false","name":"Add Cis to Exclusion List","produces":"application/json,application/xml,text/xml","relative_path":"/exclude_cis","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var payload = request.body.data;\n    var result = {};\n    var nowAdminAssistUtil = new sn_nowassist_admin.NowAdminAssistUtil();\n\n    switch (payload.operation) {\n        case \"GET_SKILL_CONFIG\":\n            result = nowAdminAssistUtil.getSkillConfigAPI(payload.skillConfigId);\n            break;\n        case \"UPDATE_SKILL_CONFIG_VAR_SET\":\n            result = nowAdminAssistUtil.updateSkillConfigVarSetAPI(payload.skillConfigId, payload.skillConfigVarSetId, payload.skillConfigVarSetData);\n            break;\n        case \"UPDATE_DELIVERY_MODE\":\n            result = nowAdminAssistUtil.updateDeliveryModeAPI(payload.skillConfigId, payload.genAiSkillApplicabilityId, payload.inProductActive, payload.inProductRoles, payload.inMobileActive, payload.inMobileRoles, payload.napActive, payload.napRoles, payload.updateRoles, payload.stepCompleted);\n            break;\n\t\tcase \"UPDATE_SKILL_CONFIG_VAR_SET_STEP_COMPLETED\":\n\t\t\tresult = nowAdminAssistUtil.updateSkillConfigVarSetStepCompletedAPI(payload.skillConfigId, payload.skillConfigVarSetId, payload.stepCompleted);\n\t\t\tbreak;\n        case \"ACTIVATE_SKILL_CONFIG\":\n            result = nowAdminAssistUtil.activateSkillConfigAPI(payload.skillConfigId, payload.hasVarSet);\n            break;\n        case \"DEACTIVATE_SKILL_CONFIG\":\n            result = nowAdminAssistUtil.deActivateSkillConfigAPI(payload.skillConfigId);\n            break;\n        case \"DUPLICATE_SKILL\":\n\t\t\tresult = nowAdminAssistUtil.duplicateSkillAPI(payload.skillConfigId, payload.isDomainDifferent, payload.domainId);\n            break;\n        case \"GET_ROLES_LIST\":\n            result = nowAdminAssistUtil.getRolesListAPI();\n            break;\n        default:\n            result = {\n                body: {},\n                status: 404\n            };\n            break;\n    }\n\n    response.setContentType(\"application/json\");\n    response.setStatus(result.status);\n    response.setBody(result.body);\n})(request, response);","sys_updated_on":"2024-08-12 14:34:19","enforce_acl":"53e436e95899b910f877f7001ec37e81","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"e018b24d432031106b5f90cfd7b8f2c4","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_nowassist_admin/now_assist_admin_console_api/util","sys_created_on":"2023-08-07 20:46:54","sys_name":"util","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/7c395aaa53003110453cddeeff7b123c","value":"7c395aaa53003110453cddeeff7b123c"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/af97fa0d432031106b5f90cfd7b8f2dd","value":"af97fa0d432031106b5f90cfd7b8f2dd"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"30","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7c395aaa53003110453cddeeff7b123c","value":"7c395aaa53003110453cddeeff7b123c"},"sys_update_name":"sys_ws_operation_e018b24d432031106b5f90cfd7b8f2c4","consumes_customized":"false","name":"util","produces":"application/json,application/xml,text/xml","relative_path":"/util","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var saOpsWrapper = new SaOperationsWrapper(SNC.SaActionsHandler);\n\tsaOpsWrapper.process(request,response, \"getServiceTimeline\");\n\n})(request, response);","sys_updated_on":"2018-03-11 12:46:36","enforce_acl":"ea4f3ae287132200b5bea18dd0e3eceb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"e0bcea137f520300995cbaf8befa91e9","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/it_service/getServiceTimeline","sys_created_on":"2017-11-13 13:30:36","sys_name":"GetServiceTimeline - Internal API","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3418e25f7f120300995cbaf8befa912e","value":"3418e25f7f120300995cbaf8befa912e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_e0bcea137f520300995cbaf8befa91e9","consumes_customized":"false","name":"GetServiceTimeline - Internal API","produces":"application/json,application/xml,text/xml","relative_path":"/getServiceTimeline","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar flow = request.body.data;\n\tif (flow) {\n\t\tvar errors = [];\n\t\tvar data;\n\t\ttry {\n\t\t\tdata =  FlowDiagramBuilderApi.getDiagramJSON(flow, errors);\n\t\t} catch (e) {\n\t\t\terrors.push(e);\n\t\t}\n\t\treturn {\n\t\t\tdata: data,\n\t\t\terrors: errors\n\t\t};\n\t} else {\n\t\treturn {\n\t\t\tdata: request.body.data\n\t\t};\n\t}\n\n})(request, response);","sys_updated_on":"2021-12-15 01:53:20","enforce_acl":"f186a581dd763010f87742fe561ce9f0","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"e0d75e9fff5c81104ef14ee9453bf129","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_flow_diagram/flow_diagramming_api/getTranslatedFlowDiagramJSON","sys_created_on":"2021-12-13 19:23:43","sys_name":"getTranslatedFlowDiagramJSON","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/a4f5f4d7ca80209b2a32be23119ae821","value":"a4f5f4d7ca80209b2a32be23119ae821"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/1275e141dd763010f87742fe561ce935","value":"1275e141dd763010f87742fe561ce935"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/a4f5f4d7ca80209b2a32be23119ae821","value":"a4f5f4d7ca80209b2a32be23119ae821"},"sys_update_name":"sys_ws_operation_e0d75e9fff5c81104ef14ee9453bf129","consumes_customized":"false","name":"getTranslatedFlowDiagramJSON","produces":"application/json,application/xml,text/xml","relative_path":"/getTranslatedFlowDiagramJSON","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n\tvar meetingId = request.pathParams.meetingId;\n\tvar runtimeState = CABRuntimeState.get(meetingId);\n\tif (!runtimeState)\n\t\treturn new sn_ws_err.BadRequestError(\"Cannot find a CAB Meeting record with the given CAB Meeting id\");\n\n\tvar nextItemId = request.pathParams.nextItemId;\n\tif (!nextItemId)\n\t\treturn new sn_ws_err.BadRequestError(\"Next Agenda Item id not provided\");\n\n\truntimeState.demoteCurrentAgendaItem(nextItemId);\n\tresponse.setBody(runtimeState.toJS());\n\n})(request, response);","sys_updated_on":"2023-12-22 12:04:24","enforce_acl":"ee9fb61a232303001488dc1756bf658b","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"e10022c657630300277e2a8c7d94f957","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_change_cab/cab/runtime_state/demote_current_item/{meetingId}/{nextItemId}","sys_created_on":"2018-01-10 18:42:04","sys_name":"Demote Current Agenda Item","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/cf65d305eb10220034d1eeea1206fe55","value":"cf65d305eb10220034d1eeea1206fe55"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_update_name":"sys_ws_operation_e10022c657630300277e2a8c7d94f957","consumes_customized":"false","name":"Demote Current Agenda Item","produces":"application/json,application/xml,text/xml","relative_path":"/runtime_state/demote_current_item/{meetingId}/{nextItemId}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // implement resource here\n    var queryParams = request.queryParams;\n    var decisionTableSysId = queryParams.decision_sys_id;\n    if (!decisionTableSysId) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(500)\n            .setMessage('decision_sys_id query parameter is required.');\n    }\n\n    var playbookGenricAPIScript = new PlaybookGenricAPIScript();\n    var playbooks = playbookGenricAPIScript.getPlayBookReferncesForDecisionTableBySysId(decisionTableSysId);\n    response.setBody(playbooks);\n    response.setStatus(200);\n})(request, response);","sys_updated_on":"2024-06-17 05:16:07","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"e14253c77faa82107cab5c6e6d86650f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_decision_table/generic/decision_table_playbooks","sys_created_on":"2024-06-07 10:06:07","sys_name":"Get Decision Table Plabooks","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/13aa96a16bcefa78b16cc99ed9e4f1f4","value":"13aa96a16bcefa78b16cc99ed9e4f1f4"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/d5498f77c3633010d4437f9ec840dd67","value":"d5498f77c3633010d4437f9ec840dd67"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"39","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/13aa96a16bcefa78b16cc99ed9e4f1f4","value":"13aa96a16bcefa78b16cc99ed9e4f1f4"},"sys_update_name":"sys_ws_operation_e14253c77faa82107cab5c6e6d86650f","consumes_customized":"false","name":"Get Decision Table Plabooks","produces":"application/json,application/xml,text/xml","relative_path":"/decision_table_playbooks","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n    var appId = request.pathParams.appId;\n\n    var allowed = VCSAppAccessCheck.verifyReadAccess(appId) && (VCSAppAccessCheck.isGACOrSourceControlUser() || VCSAppAccessCheck.verifyVersionControlAccess(appId));\n\n    if (!allowed)\n\t\tVCSAppAccessCheck.throwAccessDenied(appId);\n\n    response.setStatus(200);\n    response.setContentType('application/json');\n    response.setBody({\n        exceedsChangedFilesDisplayLimit: sn_vcs.AppSourceControl.exceedsChangedFilesDisplayLimit(appId)\n    });\n\n\n})(request, response);","sys_updated_on":"2022-05-23 21:51:26","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"e15148575b6301107c7899b8b681c79b","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/apps/{appId}/changes/changedFilesDisplayLimit","sys_created_on":"2022-05-23 21:51:26","sys_name":"Exceeds Changed Files Display Limit","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_e15148575b6301107c7899b8b681c79b","consumes_customized":"false","name":"Exceeds Changed Files Display Limit","produces":"application/json,application/xml,text/xml","relative_path":"/apps/{appId}/changes/changedFilesDisplayLimit","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/apps/{appId}/changes/changedFilesDisplayLimit","sys_policy":"read"},{"short_description":"Retrieves a list of applications the user can modify (or has created)","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        var sort_field = request.queryParams.sort_field ?\n            request.queryParams.sort_field[0].toLowerCase() :\n            '';\n        var sort_order = request.queryParams.sort_order ?\n            request.queryParams.sort_order[0].toLowerCase() :\n            '';\n        var search_term = request.queryParams.search_term ?\n            request.queryParams.search_term[0].toLowerCase() :\n            '';\n        var allow_template_apps = request.queryParams.allow_template_apps ?\n            request.queryParams.allow_template_apps[0] :\n            'false';\n        var limit = request.queryParams.limit ? Number(request.queryParams.limit[0]) : null;\n        var offset = request.queryParams.offset ? Number(request.queryParams.offset[0]) : null;\n        var userAppSysIds = [];\n        var decoratedApplicationList = [];\n\n        var appLastOpenedDatesForUser = new ApplicationService().getUserAppsLastOpened({\n            searchTerm: search_term\n        });\n        var applicationListBuilder = new ApplicationsListBuilder();\n        var result = applicationListBuilder.getUserApps({\n            sortField: sort_field,\n            sortOrder: sort_order,\n            allowTemplateApps: allow_template_apps,\n            limit: limit,\n            offset: offset,\n            searchTerm: search_term,\n            lastOpenedAppsLookup: appLastOpenedDatesForUser\n        });\n\n\n        userAppSysIds = result.applications;\n\n        userAppSysIds.forEach(function(userAppSysId) {\n            decoratedApplicationList.push(\n                ApplicationsDataModel.generate(userAppSysId, appLastOpenedDatesForUser)\n            );\n        });\n\n        response.setBody({\n            hasMore: result.hasMore,\n            applications: decoratedApplicationList,\n        });\n        response.setStatus(200);\n\n    } catch (exception) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(500)\n            .setMessage(gs.getMessageLang('Unhandled exception {0}', 'en', [exception]))\n            .setDetail(gs.getMessage('Unhandled exception {0}', [exception]));\n    }\n})(request, response);","sys_updated_on":"2022-07-19 16:09:34","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/eff91f2c7700001001fb4311a8106131","value":"eff91f2c7700001001fb4311a8106131"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"e2895b2c7700001001fb4311a81061bb","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_app_eng_studio/v1/applications","sys_created_on":"2019-09-19 16:07:04","sys_name":"GET Applications List","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/4c41d3287700001001fb4311a81061ae","value":"4c41d3287700001001fb4311a81061ae"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"67","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_ws_operation_e2895b2c7700001001fb4311a81061bb","consumes_customized":"false","name":"GET Applications List","produces":"application/json,application/xml,text/xml","relative_path":"/","produces_customized":"false","default_operation_uri":"/api/sn_app_eng_studio/applications","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var taskId = request.pathParams.task_id;\n\n    if (!taskId) {\n        var statusCodes = CollabTaskConstants.statusCodes;\n        throw new sn_ws_err.ServiceError()\n            .setStatus(statusCodes.BAD_REQUEST)\n            .setMessage(gs.getMessage(\"Missing Task Id\"));\n    }\n\n    var result = CollabTaskServiceV2.cancelCollaborationTask(taskId); \n\n    response.setBody(result.body);\n    response.setStatus(result.status);\n\n})(request, response);","sys_updated_on":"2023-11-14 07:30:16","enforce_acl":"6151fdac533130100f29ddeeff7b120a,a6b5c01b07123110523bc41f0ad300a8","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/d47b4a5dc7f33010408bc8d6f2c260cc","value":"d47b4a5dc7f33010408bc8d6f2c260cc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"e2cfe8998375b1100f6471226daad32d","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/sn_collab_request/v2/collaboration_tasks_api/cancel_collaboration_task/{task_id}","sys_created_on":"2023-10-09 08:55:14","sys_name":"Cancel Collaboration Task","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/6adeae39c3013010a9f5e548fa40dd4e","value":"6adeae39c3013010a9f5e548fa40dd4e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"sys_update_name":"sys_ws_operation_e2cfe8998375b1100f6471226daad32d","consumes_customized":"false","name":"Cancel Collaboration Task","produces":"application/json,application/xml,text/xml","relative_path":"/cancel_collaboration_task/{task_id}","produces_customized":"false","default_operation_uri":"/api/sn_collab_request/collaboration_tasks_api/cancel_collaboration_task/{task_id}","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar json = new JSON();\n\tresponseBody = json.decode(new SNC.DCManager().getAllDataClasses());\n    response.setBody(responseBody);\n})(request, response);","sys_updated_on":"2020-09-24 08:33:52","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"e2d69888c3231010c15254d41340ddb8","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/data_classification/getAllDataClasses","sys_created_on":"2020-09-24 08:31:21","sys_name":"GetAllDataClasses","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/90b9010773761010ae8dd21efaf6a745","value":"90b9010773761010ae8dd21efaf6a745"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e6cde73304752210559073c06a02f70a","value":"e6cde73304752210559073c06a02f70a"},"sys_update_name":"sys_ws_operation_e2d69888c3231010c15254d41340ddb8","consumes_customized":"false","name":"GetAllDataClasses","produces":"application/json,application/xml,text/xml","relative_path":"/getAllDataClasses","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n\n    response.setContentType('application/json');\n    var helper = new CMDBDataManagerHelper();\n    var policyType = helper.getParamAsString('cmdb_policy_type');\n    var result = {};\n\n    if (JSUtil.nil(policyType)) {\n        return new sn_ws_err.BadRequestError('Missing cmdb_policy_type');\n    }\n\n    result.subflows = helper.getSubFlows(policyType);\n\n    response.setStatus(200);\n    response.setBody(result);\n\t\n})(request, response);","sys_updated_on":"2021-03-23 23:36:11","enforce_acl":"885bc51053832010af64ddeeff7b12cb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"e2edbf727362101045cadfcd3bf6a733","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/ci_lifecycle_manager/sub_flows","sys_created_on":"2020-08-14 21:19:31","sys_name":"Get SubFlows","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ad9ebe127322101045cadfcd3bf6a735","value":"ad9ebe127322101045cadfcd3bf6a735"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"32","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"sys_update_name":"sys_ws_operation_e2edbf727362101045cadfcd3bf6a733","consumes_customized":"false","name":"Get SubFlows","produces":"application/json,application/xml,text/xml","relative_path":"/sub_flows","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tif (!request.body.hasNext())\n\t\treturn new sn_ws_err.BadRequestError(\"illegal copyDetails payload\");\n\n\tvar copyDetails = request.body.nextEntry();\n\tif (!copyDetails)\n\t\treturn new sn_ws_err.BadRequestError(\"copyDetails malformed or null\");\n\n\tvar chgSocSysId = copyDetails.chg_soc_definition;\n\tvar name = copyDetails.name;\n\tvar owner = copyDetails.owner;\n\tif (!chgSocSysId || !name || !owner)\n\t\treturn new sn_ws_err.BadRequestError(\"copyDetails malformed or null chgSocSysId: \" + chgSocSysId + \" name: \" + name + \" owner: \" + owner);\n\n\tvar gr = new GlideRecordSecure(\"chg_soc_definition\");\n\tif (!gr.get(chgSocSysId))\n\t\treturn new sn_ws_err.BadRequestError(\"chg_soc_definition: \" + chgSocSysId + \" record not found\");\n\n\treturn new SoCDefinition(gr).copy(name, owner);\n})(request, response);\n","sys_updated_on":"2018-02-28 13:13:42","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"e36aad7dd7601300532c24837e610380","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_chg_soc/soc/copySchedule","sys_created_on":"2018-02-28 13:10:45","sys_name":"copySchedule","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3115d45f67020300b410afa00585ef87","value":"3115d45f67020300b410afa00585ef87"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_update_name":"sys_ws_operation_e36aad7dd7601300532c24837e610380","consumes_customized":"false","name":"copySchedule","produces":"application/json,application/xml,text/xml","relative_path":"/copySchedule","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar request_body = request.body.nextEntry();\n\tvar name = request_body.name ? request_body.name.trim() : \"\";\n\tvar start_date_field = request_body.start_date_field ? request_body.start_date_field + \"\" : \"\";\n\tvar end_date_field = request_body.end_date_field ? request_body.end_date_field + \"\" : \"\";\n\tvar show_blackout = request_body.blackout + \"\" === \"true\";\n\tvar show_maintenance = request_body.maintenance + \"\" === \"true\";\n\tvar condition = request_body.condition ? request_body.condition + \"\" : \"\";\n\n\tif (new global.ChangeSoCUtil().hasDynamicCondition(condition))\n\t\treturn new sn_ws_err.BadRequestError(gs.getMessage(\"is (dynamic) filter operators are not supported\"));\n\n\tif (name === \"\")\n\t\treturn -1;\n\n\tvar gr = new GlideRecordSecure(\"chg_soc_definition\");\n\tgr.initialize();\n\tgr.setValue(\"name\", name);\n\tif (start_date_field !== \"\")\n\t\tgr.setValue(\"start_date_field\", start_date_field);\n\tif (end_date_field !== \"\")\n\t\tgr.setValue(\"end_date_field\", end_date_field);\n\tif (condition !== \"\")\n\t\tgr.setValue(\"condition\", condition);\n\tgr.setValue(\"show_blackout\", show_blackout);\n\tgr.setValue(\"show_maintenance\", show_maintenance);\n\treturn gr.insert();\n})(request, response);","sys_updated_on":"2018-01-29 12:24:46","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"e3eea60857885300afc34786cc94f973","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_chg_soc/soc/createchangeschedule","sys_created_on":"2018-01-29 11:09:16","sys_name":"createChangeSchedule","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3115d45f67020300b410afa00585ef87","value":"3115d45f67020300b410afa00585ef87"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_update_name":"sys_ws_operation_e3eea60857885300afc34786cc94f973","consumes_customized":"false","name":"createChangeSchedule","produces":"application/json,application/xml,text/xml","relative_path":"/createchangeschedule","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Gets either all lite-version component definitions or specific full ones","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\n\tconst apiHelper = new APIHelper(request, response);\n\tapiHelper.execute(function(){\n\t\tconst componentSysIds = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.SYS_IDS,false);\n\t\tconst componentDefHandler = new ComponentDefinitions();\n\t\tlet allComponentDefinitions = [];\n\t\tlet eventDefinitions = [];\n\t\tif(componentSysIds){\n\t\t\tallComponentDefinitions = componentDefHandler.getComponentDefinitions(componentSysIds,true);\n\t\t\tconst allEventIds = allComponentDefinitions.reduce((acc, {macroponent}) => {\n\t\t\t\t\treturn acc.concat(macroponent?.handledEvents?.split(',') ?? [], macroponent?.dispatchedEvents?.split(',') ?? [])\n\t\t\t\t}, []);\n\t\t\teventDefinitions = new UXEvent().getRecordsByQuery('sys_idIN' + allEventIds, 'name');\n\t\t}else{\n\t\t\tallComponentDefinitions = [...componentDefHandler.getToolboxComponents(), ...componentDefHandler.getPseudoComponents()];\n\t\t}\n\t\t\n\t\tapiHelper.getResponse({components: allComponentDefinitions, eventDefinitions}, BuilderToolkitConstants.ERRORS.NO_COMPONENT_DEFINITIONS);\n\t});\n\n})(request, response);","sys_updated_on":"2023-05-26 18:18:47","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239,c67e91dd43a11210eeba83020cb8f24c","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"e44f4dd543471110e70583020cb8f20a","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/components","sys_created_on":"2022-11-07 22:01:35","sys_name":"Components","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"23","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_e44f4dd543471110e70583020cb8f20a","consumes_customized":"false","name":"Components","produces":"application/json,application/xml,text/xml","relative_path":"/components","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar actSubCtx = global.ActivitySubscriptionContext.getContext();\n\t//is Activity Subscription plugin installed\n\tif (!actSubCtx.isPluginEnabled()) {\n\t\tresponse.setStatus(400);\n\t\treturn {\n\t\t\t\"status\": 400,\n\t\t\t\"message\": gs.getMessage(\"Plugin is disabled, please contact system administrator\")\n\t\t};\n\t}\n\t//fetch parameters\n\tvar actContext = request.pathParams.activity_context;\n\tvar sysId = request.pathParams.context_instance;\n\tvar actFacetService = actSubCtx.getService(ActivityConstants.ACTIVITY_FACET_SERVCE);\n\tvar additionalParams = {\n\t\t'startDate': request.queryParams.start_date,\n\t\t'endDate': request.queryParams.end_date,\n\t\t'facetIds': request.queryParams.facets,\n\t\t'lazyLoad': request.queryParams.lazy_load,\n\t\t'getActCount': request.queryParams.get_activity_count\n\t};\n\tvar result = actFacetService.getFacetsInfo(actContext, sysId, additionalParams);\n\n\tresponse.setStatus(result.status);\n\tresponse.setContentType('application/json');\n\tresponse.setBody(result);\n\n})(request, response);","sys_updated_on":"2020-04-05 16:33:08","enforce_acl":"f01221bc0fd70010e6d4fd820b767eaf","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/882dfe6853003200fa9bd7b08cc587d5","value":"882dfe6853003200fa9bd7b08cc587d5"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"e48a53970f8b0010e6d4fd820b767ed9","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/actsub/facets/{activity_context}/{context_instance}","sys_created_on":"2020-02-24 08:28:44","sys_name":"Facets","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/aabc7e6853003200fa9bd7b08cc5870f","value":"aabc7e6853003200fa9bd7b08cc5870f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/27dc6bfb04352210559073c06a02f739","value":"27dc6bfb04352210559073c06a02f739"},"sys_update_name":"sys_ws_operation_e48a53970f8b0010e6d4fd820b767ed9","consumes_customized":"false","name":"Facets","produces":"application/json,application/xml,text/xml","relative_path":"/facets/{activity_context}/{context_instance}","produces_customized":"false","default_operation_uri":"/api/now/actsub/facets/{activity_context}/{context_instance}","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var params = request.queryParams;\n    var ajaxMessaging = new global.AJAXMessagingUtils();\n    var userDocument = JSON.parse(ajaxMessaging.getUserRecordDetails(params.interaction_id[0]));\n    var res = ajaxMessaging.getApplicationProvidersWithExtnPoint(userDocument.table, userDocument.sys_id, params.channel_id[0]);\n    response.setBody(constructProps(JSON.parse(res), userDocument));\n})(request, response);\n\nfunction constructProps(answer, userDocument) {\n    var provider = answer.application_providers;\n    var clients = answer.clients;\n    var uniqueSysId = answer.unique_sys_id;\n    var params = {\n        fromNumbers: provider ? constructProvider(provider): provider,\n        toNumbers: constructClients(clients),\n        uniqueSysId: uniqueSysId,\n        userDocument: userDocument\n    };\n    return params;\n}\n\nfunction constructProvider(provider) {\n    for (var j = 0; j < provider.length; j++) {\n        provider[j].id = provider[j].inbound_id;\n        provider[j].dropdown = \"fromField\";\n        provider[j].label = provider[j].name + ' (' + provider[j].inbound_id + ')';\n    }\n\treturn provider;\n}\n\nfunction constructClients(clients) {\n\tif (clients) {\n        for (var k = 0; k < clients.length; k++) {\n            clients[k].id = clients[k].number;\n            clients[k].dropdown = \"toField\";\n            clients[k].label += ' (' + clients[k].number + ')';\n        }\n    } else {\n        clients = [];\n    }\n\tclients.push({\n        \"field_name\": \"other\",\n        \"number\": \"other\",\n        \"id\": \"other\",\n        \"dropdown\": \"toField\",\n        \"label\": \"Other\"\n    });\n\treturn clients;\n}","sys_updated_on":"2022-10-18 09:53:14","enforce_acl":"70cffc8db7212010ffe5ef54ce11a9e2","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"e4bb4b875375101085ecddeeff7b12ad","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/agent_initiated_message/get_application_provider","sys_created_on":"2020-07-09 05:41:07","sys_name":"Get Application Provider","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/f51bc3875375101085ecddeeff7b1204","value":"f51bc3875375101085ecddeeff7b1204"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"29","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9cc37b3704b52210559073c06a02f781","value":"9cc37b3704b52210559073c06a02f781"},"sys_update_name":"sys_ws_operation_e4bb4b875375101085ecddeeff7b12ad","consumes_customized":"false","name":"Get Application Provider","produces":"application/json,application/xml,text/xml","relative_path":"/get_application_provider","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var validationToken = request.pathParams.token;\n    var instanceValidationProperty = \"glide.ml.instance.validation.token\";\n    var value = gs.getProperty(instanceValidationProperty);\n    var response_body;\n    if (!gs.nil(value) && value.split(\",\").indexOf(validationToken) >= 0) {\n        response_body = {\n            result: \"true\"\n        };\n    } else {\n        response_body = {\n            message: \"Invalid token. callback url validation failed.\",\n            result: \"false\"\n        };\n        gs.info(\"Callback URL validation failed. Validation token: \" + validationToken + \"validation property: \" + value);\n    }\n    response.setStatus(200);\n    response.setContentType('application/json');\n    response.setBody(response_body);\n})(request, response);","sys_updated_on":"2023-05-16 11:44:53","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"e53ba8ac534211106e33ddeeff7b12f4","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/ml_instance_validation/validateToken/{token}","sys_created_on":"2022-09-16 18:37:09","sys_name":"Validate Token","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/527de2e3532111106e33ddeeff7b12e9","value":"527de2e3532111106e33ddeeff7b12e9"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"false","sys_mod_count":"11","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_ws_operation_e53ba8ac534211106e33ddeeff7b12f4","consumes_customized":"false","name":"Validate Token","produces":"application/json,application/xml,text/xml","relative_path":"/validateToken/{token}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n\tvar taskId = request.pathParams.taskId;\n\tvar params = request.body.nextEntry();\n\t\n\tif (!taskId)\n\t\treturn new sn_ws_err.BadRequestError(\"Task Item id not provided\");\n\t\n\tvar taskGr = new GlideRecord(\"task\");\n\tif (!taskGr.get(taskId))\n\t\treturn new sn_ws_err.NotFoundError(\"Requested Task not found\");\n\n\tvar cabApproval = new CABApproval(taskGr);\n\t\n\tif (!cabApproval.approve(params.comment, params.approvalGroupSysID))\n\t\treturn sn_ws_err.NotAcceptableError(\"Approve action not accepted\");\n\t\n\treturn {\n\t\t\"taskId\": taskGr.getUniqueValue(),\n\t\t\"approved\": true\n\t};\n})(request, response);","sys_updated_on":"2021-03-03 15:50:59","enforce_acl":"ee9fb61a232303001488dc1756bf658b","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"e58797a0eb20220034d1eeea1206fe18","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_change_cab/cab/approval/approve/{taskId}","sys_created_on":"2016-07-08 11:21:54","sys_name":"Approval Approve","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/cf65d305eb10220034d1eeea1206fe55","value":"cf65d305eb10220034d1eeea1206fe55"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"28","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/18351d53eb32120034d1eeea1206fe79","value":"18351d53eb32120034d1eeea1206fe79"},"sys_update_name":"sys_ws_operation_e58797a0eb20220034d1eeea1206fe18","consumes_customized":"false","name":"Approval Approve","produces":"application/json,application/xml,text/xml","relative_path":"/approval/approve/{taskId}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"Gets an array of all NDS icons available in the instance","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tconst apiHelper = new APIHelper(request, response);\n\tapiHelper.execute(function(){\n\t\tconst icons = new Icon().getRecordsByQuery('','name');\n\t\tapiHelper.getResponse(icons, BuilderToolkitConstants.ERRORS.NO_ICONS_FOUND);\n\t});\n\n})(request, response);","sys_updated_on":"2024-03-18 20:18:31","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"e5ad8924b0b31110f877ffd94fcf5537","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/icons","sys_created_on":"2022-12-12 20:45:53","sys_name":"Icons","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_e5ad8924b0b31110f877ffd94fcf5537","consumes_customized":"false","name":"Icons","produces":"application/json,application/xml,text/xml","relative_path":"/icons","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"function getRecipients(tableName, nameFilter, userType) {\n    const recipientsGr = new GlideRecordSecure(tableName);\n    const results = [];\n\n    recipientsGr.addActiveQuery();\n    recipientsGr.addQuery(\"name\", \"CONTAINS\", nameFilter);\n    recipientsGr.query();\n\n    while (recipientsGr.next()) {\n        const recordSysId = recipientsGr.getValue('sys_id');\n        const recordName = recipientsGr.getDisplayValue('name');\n        const recordEmail = recipientsGr.getDisplayValue('email');\n        const recordAvatar = recipientsGr.getDisplayValue('avatar');\n\n        results.push({\n            id: recordSysId,\n            name: recordName,\n            email: recordEmail,\n            avatar: recordAvatar,\n            type: userType\n        });\n    }\n\n    return results;\n}\n\nfunction getPeople(nameFilter) {\n    return getRecipients('sys_user', nameFilter, 'user');\n}\n\nfunction getGroups(nameFilter) {\n    return getRecipients('sys_user_group', nameFilter, 'group');\n}\n\nfunction getRecipientsWithFilter(nameFilter){\n    const people = getPeople(nameFilter);\n    const groups = getGroups(nameFilter);\n    const recipients = people.concat(groups);\n    \n    return recipients;\n}\n\nfunction process(request, response) {\n    try {\n        const nameFilter = request.queryParams.name_filter ? request.queryParams.name_filter[0] : '';\n        const recipients = getRecipientsWithFilter(nameFilter);\n\n        response.setBody(recipients);\n        response.setStatus(200);\n\n    } catch (exception) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(500)\n            .setMessage(gs.getMessageLang(\"Unhandled exception {0}\", \"en\", [exception]))\n            .setDetail(gs.getMessage(\"Unhandled exception {0}\", [exception]));\n    }\n}\n\nprocess(request, response);","sys_updated_on":"2022-08-01 20:50:35","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/3b861395b7a5c1100290b5208e11a9d8","value":"3b861395b7a5c1100290b5208e11a9d8"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"e5c6d395b7a5c1100290b5208e11a9e3","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_aes_notificatio/v1/recipients/search","sys_created_on":"2022-02-07 22:09:14","sys_name":"Search Recipients","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/284c35195bf9198f084ee79a76e157b9","value":"284c35195bf9198f084ee79a76e157b9"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/a756df55b7a5c1100290b5208e11a9d3","value":"a756df55b7a5c1100290b5208e11a9d3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/284c35195bf9198f084ee79a76e157b9","value":"284c35195bf9198f084ee79a76e157b9"},"sys_update_name":"sys_ws_operation_e5c6d395b7a5c1100290b5208e11a9e3","consumes_customized":"false","name":"Search Recipients","produces":"application/json,application/xml,text/xml","relative_path":"/search","produces_customized":"false","default_operation_uri":"/api/sn_aes_notificatio/recipients/search","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var result = [];\n    var flows = [];\n    var relatedObjectArray = [];\n    var queryParams = request.queryParams;\n\n    /**\n     * Returns true if a duplicate sanpshot version found in sys_hub_flow_logic table, of a flow related to decision table.\n     * @param nameKey - Sys id of the record.\n     * @param snapshotArray - Array of flows/subflow related to decision table.\n     * @returns {Boolean}\n     */\n    var isSnapshotExist = (nameKey, snapshotArray) => {\n        for (var i = 0; i < snapshotArray.length; i++) {\n\n            //If sys_id of sys_hub_flow_logic matches with any other master_snapshot or latest snapshot return true\n            if (snapshotArray[i].latest_snapshot === nameKey || snapshotArray[i].master_snapshot === nameKey || snapshotArray[i].sys_id === nameKey) {\n                return true;\n            }\n        }\n        return false;\n    };\n\n    var decisionSysId = queryParams.decision_sys_id;\n\n    if (!decisionSysId) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(500)\n            .setMessage('decision_sys_id query parameter is required.');\n    }\n\n\t//Get Decision tables referenced in Flows\n\tvar getDTableReferencedFlows = (flowLogicTableName,decisionSysId) => {\n\t\tvar dTableReferencedFlows = [];\n\t\tvar flowLogicGr = new GlideRecord(flowLogicTableName);\n\t\tvar flowGr = new GlideRecord('sys_hub_flow');\n\t\tflowLogicGr.isValid() && flowLogicGr.addQuery('decision_table', decisionSysId);\n\t\tflowLogicGr.isValid() && flowLogicGr.query();\n\t\twhile (flowLogicGr.next()) {\n\t\t\tvar flowValue = flowLogicGr.getValue('flow');\n\t\t\tvar canRead = flowLogicGr.canRead();\n\t\t\tvar flow = {};\n\n\t\t\tif (flowGr.get(flowValue)) {\n\t\t\t\tflow = {\n\t\t\t\t\tsys_id: flowValue,\n\t\t\t\t\tname: flowLogicGr.getDisplayValue('flow'),\n\t\t\t\t\ttype: flowGr.getValue('type'),\n\t\t\t\t\tcanread: canRead,\n\t\t\t\t\tactive: flowGr.getValue('active'),\n\t\t\t\t\tstatus: flowGr.getValue('status'),\n\t\t\t\t\tlatest_snapshot: flowGr.getValue('latest_snapshot'),\n\t\t\t\t\tmaster_snapshot: flowGr.getValue('master_snapshot'),\n\t\t\t\t};\n\t\t\t\tdTableReferencedFlows.push(flow);\n\t\t\t}\n\t\t}\n\t\treturn dTableReferencedFlows;\n\t};\n\t//Get Decision tables referenced in flow version-1\n\tflows = getDTableReferencedFlows('sys_hub_flow_logic',decisionSysId);\n\n\t//Get Decision tables referenced in flow version-2\n\tflows = flows.concat(getDTableReferencedFlows('sys_hub_flow_logic_instance_v2',decisionSysId));\n\n    /**\n      Check and remove any duplicate records found in sys_hub_flow_logic.\n      Also add type and active fields if both are null for non duplicate records.\n    */\n    for (var i = 0; i < flows.length; i++) {\n        var match = false;\n        if (flows[i].active === null && flows[i].status === null && flows[i].latest_snapshot === null && flows[i].master_snapshot === null) {\n            for (var j = i + 1; j < flows.length; j++) {\n\n                /** If active, status, latest_snapshot and master_snapshot all are null, check If sys_id of sys_hub_flow_logic matches with any other master_snapshot or latest snapshot.\n                   If matches then remove the one which has null  active, status, latest_snapshot and master_snapshot.\n                */\n                if ((flows[i].sys_id === flows[j].latest_snapshot || flows[i].sys_id === flows[j].master_snapshot)) {\n                    relatedObjectArray.push(flows[j]);\n                    match = true;\n                    break;\n                }\n            }\n        }\n\n        /** Check If sys_id of sys_hub_flow_logic already exist in relatedObjectArray.\n        If Not then check if it has active and status both are null,\n        then read those properties from sys_hub_flow_snapshot and in \n        Existing object.\n        */\n        if (match === false && !isSnapshotExist(flows[i].sys_id, relatedObjectArray)) {\n            if (flows[i].active === null || flows[i].status === null) {\n                var flowSnapshotGr = new GlideRecord('sys_hub_flow_snapshot');\n                flowSnapshotGr.get(flows[i].sys_id);\n                flows[i].type = flows[i].type === null ? flowSnapshotGr.getValue('type') : flows[i].active;\n                flows[i].active = flows[i].active === null ? flowSnapshotGr.getValue('active') : flows[i].active;\n            }\n            relatedObjectArray.push(flows[i]);\n        }\n    }\n\n    /** Filter read only values.*/\n    for (var index in relatedObjectArray) {\n        if (relatedObjectArray[index].canread) {\n            result.push(relatedObjectArray[index]);\n        } else {\n            result.push({\n                canread: false\n            });\n\n        }\n    }\n\n\n    response.setBody(result);\n    response.setStatus(200);\n\n})(request, response);","sys_updated_on":"2024-04-24 10:08:27","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"e5d421aac3890110d4437f9ec840dd60","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_decision_table/generic/decision_table_flows","sys_created_on":"2022-01-17 14:31:14","sys_name":"GET Decision Table Flows","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/13aa96a16bcefa78b16cc99ed9e4f1f4","value":"13aa96a16bcefa78b16cc99ed9e4f1f4"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/d5498f77c3633010d4437f9ec840dd67","value":"d5498f77c3633010d4437f9ec840dd67"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"22","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/13aa96a16bcefa78b16cc99ed9e4f1f4","value":"13aa96a16bcefa78b16cc99ed9e4f1f4"},"sys_update_name":"sys_ws_operation_e5d421aac3890110d4437f9ec840dd60","consumes_customized":"false","name":"GET Decision Table Flows","produces":"application/json,application/xml,text/xml","relative_path":"/decision_table_flows","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var appManagerApiUtil = new AppManagerApiUtil(request, response);\n    var handler = new AppManagerHandler();\n    try {\n        var payload = appManagerApiUtil.getRequestBody();\n        verifyProductAccess(payload, appManagerApiUtil);\n        var result = handler.installProduct(payload);\n        appManagerApiUtil.setResponseBody(result);\n    } catch (err) {\n        appManagerApiUtil.setError(err);\n    }\n\n    function verifyProductAccess(payload, appManagerApiUtil) {\n      var packages = payload.packages || [];\n      var hasApp = false;\n      var hasPlugin = false;\n      for (var i = 0; i < packages.length; i++) {\n          var pkg = packages[i];\n          if (pkg.type === 'application') {\n              hasApp = true;\n          }\n          if (pkg.type === 'plugin' || pkg.is_plugin === true) {\n              hasPlugin = true;\n          }\n          if (hasApp && hasPlugin) {\n              break;\n          }\n      }\n\n      var tables = [];\n      if (hasApp) tables.push(\"sys_store_app\", \"sys_remote_app\");\n      if (hasPlugin) tables.push(\"v_plugin\");\n\n      if (tables.length > 0) {\n          appManagerApiUtil.verifyTablesReadAccess(tables);\n      }\n    }\n})(request, response);","sys_updated_on":"2025-04-29 11:05:36","enforce_acl":"3966a96cf53bc610f87752fa9ffbe0da","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/be08b89397b0d1104b593f0e6253afe1","value":"be08b89397b0d1104b593f0e6253afe1"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"e5e50b3577e06110c918256a5b5a9948","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_appclient/v1/appmanager/product/install","sys_created_on":"2023-01-23 09:37:35","sys_name":"Install Product","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7ea1fc5f9770d1104b593f0e6253af99","value":"7ea1fc5f9770d1104b593f0e6253af99"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"32","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_update_name":"sys_ws_operation_e5e50b3577e06110c918256a5b5a9948","consumes_customized":"false","name":"Install Product","produces":"application/json,application/xml,text/xml","relative_path":"/product/install","produces_customized":"false","default_operation_uri":"/api/sn_appclient/appmanager/product/install","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var data = request.body.data;\n\n    try {\n\n        if (data.modelId) {\n            var result = NLUStudioPredictor.predict(data.modelId, data.utterance);\n\n            if (result.status === 'success') {\n                response.setStatus(200);\n            } else {\n                response.setStatus(400);\n            }\n\n            response.setContentType('application/json');\n            return result;\n\n        } else {\n            return new sn_ws_err.BadRequestError(\"No input data provided\");\n        }\n\n    } catch (e) {\n        return e;\n    }\n\n})(request, response);","sys_updated_on":"2021-04-20 05:47:30","enforce_acl":"ccd8a1e7772000105d7b3882a910617c","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/e4cda81e7333230021a044764df6a777","value":"e4cda81e7333230021a044764df6a777"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"e643e8177333230021a044764df6a73a","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/v1/nlu/predictSync","sys_created_on":"2019-02-28 09:26:36","sys_name":"predictSync","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/55672c9a7333230021a044764df6a706","value":"55672c9a7333230021a044764df6a706"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"9","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_ws_operation_e643e8177333230021a044764df6a73a","consumes_customized":"false","name":"predictSync","produces":"application/json,application/xml,text/xml","relative_path":"/predictSync","produces_customized":"false","default_operation_uri":"/api/now/nlu/predictSync","sys_policy":""},{"short_description":"Get url of service map by sys_id in sa_service_counters","operation_script":"/* \n * Giving sys_id on sa_service_counters, responds with navigation url for requested service map.\n * Alternatively, if parameter is_bs_id=true passed, when the give sys_id will be treated as sys_id from cmdb_ci_service_discovered table.\n * response object can be either map url or a message for user with reason why the map cannot be opened.\n * {\n * url {String} - url for discovered service map page. Provided when it's valid and the map cn be viewed.\n * message {String} - translated message for user wit hreason why map cannot be opened.\n *  If 'message' provided, then no 'url' will be provided.\n * }\n */\n(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar sysId = request.pathParams.service_counters_id;\n\tvar isBsId = false;\n\tif (request.queryParams && request.queryParams[\"is_bs_id\"] && request.queryParams[\"is_bs_id\"][0])\n\t\tisBsId = String(request.queryParams[\"is_bs_id\"][0]) === \"true\";\n\t\n\tvar manager = new SaViewServiceMap();\n\tvar serviceId = isBsId ? sysId : manager.getServiceIdFromSaCountersId(sysId);\n\t\n\tif (!serviceId)\n\t\treturn {\n\t\t\tmessage: gs.getMessage(\"Invalid id {0} : no related service sys_id\", [sysId])\n\t\t};\n\t\n\treturn manager.getMapUrl(serviceId);\n})(request, response);","sys_updated_on":"2018-02-06 11:41:23","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"e644656bc30003008dd01962c1d3ae4e","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/service_mapping/getMapNavigationUrl/{service_counters_id}","sys_created_on":"2017-07-25 06:31:23","sys_name":"Get Map URL","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/4724340e878732006db5f127b7cb0b7a","value":"4724340e878732006db5f127b7cb0b7a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_e644656bc30003008dd01962c1d3ae4e","consumes_customized":"false","name":"Get Map URL","produces":"application/json,application/xml,text/xml","relative_path":"/getMapNavigationUrl/{service_counters_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar changeSysId = request.pathParams.change_sys_id || \"\";\n\tif (!changeSysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Change Request id not provided\");\n\n\tvar changeRequestGr = new GlideRecordSecure(global.ChangeRequest.CHANGE_REQUEST);\n\tif (!changeRequestGr.get(changeSysId))\n\t\treturn new sn_ws_err.NotFoundError(\"Change Request not found\");\n\n\tif (changeRequestGr.start_date === null\n\t\t|| changeRequestGr.end_date === null\n\t\t|| !changeRequestGr.start_date.canWrite()\n\t\t|| !changeRequestGr.end_date.canWrite())\n\t\tthrow new sn_ws_err.ServiceError()\n\t\t\t\t.setStatus(403)\n\t\t\t\t.setMessage(gs.getMessage(\"Operation Failed\"))\n\t\t\t\t.setDetail(gs.getMessage(\"ACL Exception Update Failed due to security constraints\"));\n\n\tif (!changeRequestGr.cmdb_ci )\n\t\treturn new sn_ws_err.BadRequestError(\"cmdb_ci not found\");\n\n\tvar nameValuePairs = global.ChangeCommon.assign({}, request.pathParams, request.body.data);\n\n\tif (!nameValuePairs.duration_in_seconds)\n\t\treturn new sn_ws_err.BadRequestError(\"duration_in_seconds not provided\");\n\n\tif (isNaN(nameValuePairs.duration_in_seconds) || parseInt(nameValuePairs.duration_in_seconds, 10) <= 0)\n\t\treturn new sn_ws_err.BadRequestError(\"duration_in_seconds is invalid\");\n\n\tnameValuePairs.duration_in_seconds = parseInt(nameValuePairs.duration_in_seconds, 10);\n\tnameValuePairs.timezone = gs.getSession().getTimeZoneName();\n\n\tif (nameValuePairs.planned_start_time) {\n\t\tvar gdt = new GlideDateTime(nameValuePairs.planned_start_time);\n\t\tif (!gdt.isValid())\n\t\t\treturn new sn_ws_err.BadRequestError(\"planned_start_time is invalid\");\n\t}\n\n\tvar changeManagementWorker = new global.ChangeManagementWorker();\n\tchangeManagementWorker.run(nameValuePairs, global.ChangeManagementWorker.UPDATE, global.ChangeManagementWorker.SCHEDULE );\n\n\t// Provide Async link in header\n\tresponse.setHeader(\"Link\", changeManagementWorker.getResponseParam(\"worker\").link + \"\");\n\n\t// Allows server to accept request for asynchronous process\n\tresponse.setStatus(202);\n\n\treturn changeManagementWorker.toJS();\n\n})(request, response);","sys_updated_on":"2021-03-31 09:58:57","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"e6713505c3e22010a282a539e540dda2","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/{change_sys_id}/schedule/first_available","sys_created_on":"2021-02-23 20:49:01","sys_name":"Schedule Dates","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"21","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/32b7af7f04b12210559073c06a02f7fb","value":"32b7af7f04b12210559073c06a02f7fb"},"sys_update_name":"sys_ws_operation_e6713505c3e22010a282a539e540dda2","consumes_customized":"false","name":"Schedule Dates","produces":"application/json,application/xml,text/xml","relative_path":"/{change_sys_id}/schedule/first_available","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/{change_sys_id}/schedule/first_available","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    const apiHelper = new APIHelper(request, response);\n    apiHelper.execute(function() {\n        const macroponentSysId = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.SYS_ID);\n        const parentMacroponentSysId = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.PARENT_MCP_SYS_ID);\n        const includeRelatedRecords = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.INCLUDE_RELATED_RECORDS);\n        if (includeRelatedRecords === true) {\n            const macroponentAndRelatedRecords = new Macroponent()\n                .getMCPEditorObject(macroponentSysId, parentMacroponentSysId);\n            apiHelper.getResponse(macroponentAndRelatedRecords, BuilderToolkitConstants.ERRORS.NO_RECORD_FOUND);\n        }\n\t\telse{\n\t\t\tconst macroponent = new Macroponent().getRecordById(macroponentSysId);\n\t\t\tapiHelper.getResponse(macroponent, BuilderToolkitConstants.ERRORS.NO_RECORD_FOUND);\n\t\t}\n    });\n\n})(request, response);","sys_updated_on":"2023-10-03 14:22:12","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"e67b9bf977603110e1715a407b5a9967","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/macroponent","sys_created_on":"2023-08-10 07:17:48","sys_name":"Macroponent","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_e67b9bf977603110e1715a407b5a9967","consumes_customized":"false","name":"Macroponent","produces":"application/json,application/xml,text/xml","relative_path":"/macroponent","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var getContentBlockPageId = function(block_id) {\n        var gr = new GlideRecord('sn_ace_content_block');\n        gr.get('sys_id', block_id);\n        if (gr.document_id) {\n            var fetchPageInfo = new GlideRecord('sn_ace_page');\n            if (fetchPageInfo.get('sys_id', gr.document_id)) {\n                return gr.document_id;\n            }\n            return \"\";\n        }\n    };\n    try {\n        var requiredTranslations = [];\n        var params = request.body.data;\n        // fetch translation for page\n        if (params.block_id) {\n            var pageId = getContentBlockPageId(params.block_id);\n            if (pageId) {\n                var gr = new GlideRecord('sn_ace_page');\n                gr.get(pageId);\n                var pageScopeName = gr.sys_scope.scope.toString();\n                var translations = JSON.parse(gr.getValue('required_translations'));\n                if (translations && translations.length) {\n                    translations.forEach(function(translation) {\n                        if (requiredTranslations.indexOf(translation.message) === -1) {\n                            var translationValue;\n                            var translationKey = translation.message;\n                            if (translation.code) {\n                                translationValue = sn_i18n.Message.getMessage(pageScopeName, translationKey);\n                            } else {\n                                translationValue = sn_i18n.Message.getMessage(\"\", translationKey);\n                            }\n                            var translationObject = {\n                                'translationKey': translationKey,\n                                'translationValue': translationValue\n                            };\n                            requiredTranslations.push(\n                                translationObject\n                            );\n                        }\n                    });\n                }\n            }\n\n        }\n        return requiredTranslations;\n\n    } catch (e) {\n        gs.error(\"Exception Occured while fetching the page translation \" + e);\n    }\n\n})(request, response);","sys_updated_on":"2023-06-12 12:11:16","enforce_acl":"2f7a350f774e2110bc5db5b27a5a995a","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"e6b4ffc099cfa9d0f877b3ab03aeefe1","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/ace/fetch_translation","sys_created_on":"2023-05-22 09:30:54","sys_name":"fetchPageTranslation","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/090c5ee353721110c733ddeeff7b1299","value":"090c5ee353721110c733ddeeff7b1299"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"17","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5df6db91ebe4011090fa99602a52289e","value":"5df6db91ebe4011090fa99602a52289e"},"sys_update_name":"sys_ws_operation_e6b4ffc099cfa9d0f877b3ab03aeefe1","consumes_customized":"false","name":"fetchPageTranslation","produces":"application/json,application/xml,text/xml","relative_path":"/fetch_translation","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n\t\tconst { fullMobileMetadata } = request.body.data;\n\t\treturn new WebToMobileComponentService().regenerateCard(fullMobileMetadata);\n    } catch (error) {\n\t\tconst customErrorHandler = new CustomErrorHandler(`REST API: ${request.uri}`);\n\t\tcustomErrorHandler.throwSnWsError(error);\n    }\n})(request, response);\n","sys_updated_on":"2025-02-21 20:23:08","enforce_acl":"4bbe81b4c703201066492f3bf4c260e6","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"e765631b43e71210905aef8648b8f2e2","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_mab_api/mab_api/regenerateCard","sys_created_on":"2025-02-11 19:25:02","sys_name":"Regenerate Card","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3512bd93c7c12010100f2f3bf4c26049","value":"3512bd93c7c12010100f2f3bf4c26049"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_update_name":"sys_ws_operation_e765631b43e71210905aef8648b8f2e2","consumes_customized":"false","name":"Regenerate Card","produces":"application/json,application/xml,text/xml","relative_path":"/regenerateCard","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","sys_updated_on":"2021-08-09 07:16:09","enforce_acl":"c181cf8187602010c84e4561d5cb0b5e","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"e7731be187222010c84e4561d5cb0b62","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/service_fulfillment/step_configs","sys_created_on":"2021-02-25 17:14:25","sys_name":"Get Fulfillment Step Configurations","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/97adafff04352210559073c06a02f7da","value":"97adafff04352210559073c06a02f7da"},"sys_update_name":"sys_ws_operation_e7731be187222010c84e4561d5cb0b62","consumes_customized":"false","name":"Get Fulfillment Step Configurations","produces":"application/json,application/xml,text/xml","relative_path":"/service_fulfillment/step_configs","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/service_fulfillment/step_configs","sys_policy":"protected"},{"short_description":"","operation_script":"\n(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tif (!request.body.hasNext())\n\t\treturn new sn_ws_err.BadRequestError(\"illegal invitation payload\");\n\n\tvar invitation = request.body.nextEntry();\n\tif (!invitation)\n\t\treturn new sn_ws_err.BadRequestError(\"invitation malformed or null\");\n\n\tvar chgSocSysId = invitation.chg_soc_definition;\n\tvar recipients = invitation.recipients;\n\tvar inviteMessage = invitation.inviteMessage;\n\tvar sendEmail = invitation.sendEmail;\n\tif (!chgSocSysId || !recipients || !inviteMessage)\n\t\treturn new sn_ws_err.BadRequestError(\"invitation malformed or null\");\n\n\tvar gr = new GlideRecordSecure(\"chg_soc_definition\");\n\tif (!gr.get(invitation.chg_soc_definition))\n\t\treturn new sn_ws_err.BadRequestError(\"chg_soc_definition: \" + invitation.chg_soc_definition + \" record not found\");\n\n\treturn new SoCDefinition(gr).addInvitees(recipients, inviteMessage, sendEmail);\n})(request, response);\n","sys_updated_on":"2018-02-12 09:54:14","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"e8042e2457101300532c3da73d94f9a3","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_chg_soc/soc/addInvitees","sys_created_on":"2018-02-12 09:54:14","sys_name":"addInvitees","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3115d45f67020300b410afa00585ef87","value":"3115d45f67020300b410afa00585ef87"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_update_name":"sys_ws_operation_e8042e2457101300532c3da73d94f9a3","consumes_customized":"false","name":"addInvitees","produces":"application/json,application/xml,text/xml","relative_path":"/addInvitees","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar request_body = request.body.nextEntry();\n\tvar itemId = '' + request.pathParams.sys_id;\n\tvar catItem = new sn_sc.CatItem(itemId);\n\tvar data = catItem.read({name: ''});\n\tif (!data.name)\n\t\tthrow new sn_ws_err.BadRequestError(\"Invalid Catalog Item\");\n\trequest_body.sysparm_id = itemId;\n\tvar quantity = '' + request_body.sysparm_quantity;\n\tif (!/^\\+?([0-9]*)$/.test(quantity) || parseInt(quantity) < 1)\n\t\tthrow new sn_ws_err.BadRequestError(\"Invalid Quantity value\");\n\telse\n\t\trequest_body.sysparm_quantity = quantity;\n    var util = new global.GlobalServiceCatalogUtil();\n\treturn util.getCatalogItemPrice(request_body);\n})(request, response);","sys_updated_on":"2020-03-17 05:01:44","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"e871479377320010510d5bb89810617c","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/items/{sys_id}/price","sys_created_on":"2020-02-11 20:17:54","sys_name":"Catalog Item Price","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_e871479377320010510d5bb89810617c","consumes_customized":"false","name":"Catalog Item Price","produces":"application/json,application/xml,text/xml","relative_path":"/items/{sys_id}/price","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/items/{sys_id}/price","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var modelId = request.pathParams.modelId;\n    response.setContentType('application/json');\n    if (!modelId) {\n        response.setStatus(400);\n        response.setBody({\n            errorMessage: 'No input model id provided'\n        });\n        return;\n    }\n    try {\n        var results = VaNLU.validate(modelId);\n        response.setBody(results);\n    } catch (e) {\n        response.setStatus(500);\n        response.setBody({\n            errorMessage: e.message\n        });\n    }\n\n})(request, response);","sys_updated_on":"2023-02-22 17:21:32","enforce_acl":"95736dc3c7e220105a06145bf4c26096","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"e98f9b93c30161109a481f820c40dd20","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/virtual_agent_design/nlu/model/{modelId}/validate","sys_created_on":"2023-02-21 23:47:40","sys_name":"Validate NLU Model","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/86719a5dc7e220105a06145bf4c26006","value":"86719a5dc7e220105a06145bf4c26006"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_ws_operation_e98f9b93c30161109a481f820c40dd20","consumes_customized":"false","name":"Validate NLU Model","produces":"application/json,application/xml,text/xml","relative_path":"/nlu/model/{modelId}/validate","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    // TODO: Handle error messages, localizations, edge cases, code cleanup\n    var requestData = request.body.data;\n    var authType = requestData.authType;\n    var resourceUrl = requestData.resourceUrl;\n    var gitUsername = requestData.gitUsername;\n    var newIdeGitCredentialSysId = null;\n\n    if (authType === 'Basic Auth') {\n        var personalAccessToken = requestData.personalAccessToken;\n        if (!resourceUrl || !gitUsername || !personalAccessToken) {\n            response.setStatus(400);\n            response.setBody({\n                error: gs.getMessage('Repository url, Git username and Personal access token are required.')\n            });\n            return response;\n        }\n\n        deactivateExistingCredentialIfAny(resourceUrl);\n        var newCredentialName = generateCredentialName('basic');\n        var basicAuthSysId = createBasicAuthCredential(gitUsername, personalAccessToken, newCredentialName);\n        newIdeGitCredentialSysId = createIdeGitCredentialRecord(basicAuthSysId, 'basic_auth_credentials', resourceUrl, newCredentialName);\n    } else if (authType === 'OAuth') {\n        var oauthEntityProfileSysId = requestData.oauthEntityProfileSysId;\n        if (!resourceUrl || !gitUsername || !oauthEntityProfileSysId) {\n            response.setStatus(400);\n            response.setBody({\n                error: gs.getMessage('Repository url, Git username and Oauth Entity Profile are required.')\n            });\n            return response;\n        }\n\n        deactivateExistingCredentialIfAny(resourceUrl);\n        newCredentialName = generateCredentialName('oauth');\n        var oAuthSysId = createOAuthCredential(gitUsername, oauthEntityProfileSysId, newCredentialName)\n        newIdeGitCredentialSysId = createIdeGitCredentialRecord(oAuthSysId, 'oauth_2_0_credentials', resourceUrl, newCredentialName);\n    } else {\n        // Send bad request\n        response.setStatus(400);\n        response.setBody({\n            error: gs.getMessage('Supported auth types are Basic Auth and OAuth')\n        });\n\n        return response;\n    }\n\n    if (newIdeGitCredentialSysId !== null) {\n        response.setStatus(200);\n        response.setBody({\n            newIdeGitCredentialSysId: newIdeGitCredentialSysId,\n            message: gs.getMessage('Credential created')\n        });\n    } else {\n        response.setStatus(500);\n        response.setBody({\n            error: gs.getMessage('Unable to create credential')\n        });\n    }\n\n    function generateCredentialName(prefix) {\n        return [prefix, gs.getUserName(), new Date().getTime()].join('_').substring(0, 40);\n    }\n\n    function deactivateExistingCredentialIfAny(resourceUrl) {\n        var credentialsUtil = new GliderGitCredentialsUtil();\n        var repoMatch = credentialsUtil.getIdeGitCredential(resourceUrl);\n        var ideGitCredentialSysId = repoMatch && repoMatch.sys_id;\n        if (ideGitCredentialSysId) {\n            var ideGitCredentialGr = new GlideRecord('sn_glider_ide_git_credential');\n            // Mark the record as inactive only if it was an exact match for the resource URL\n            if (ideGitCredentialGr.get(ideGitCredentialSysId) && ideGitCredentialGr.remote_resource == resourceUrl) {\n                ideGitCredentialGr.active = false;\n                ideGitCredentialGr.update();\n            }\n        }\n    }\n\n    function createIdeGitCredentialRecord(authCredentialSysId, authCredentialTable, resourceUrl, newCredentialName) {\n        var ideGitCredentialGr = new GlideRecord('sn_glider_ide_git_credential');\n        ideGitCredentialGr.initialize();\n        ideGitCredentialGr.active = true;\n        if (authCredentialTable === 'basic_auth_credentials')\n            ideGitCredentialGr.auth_credential = authCredentialSysId;\n        else if (authCredentialTable === 'oauth_2_0_credentials')\n            ideGitCredentialGr.auth_credential_oauth = authCredentialSysId;\n        else return null;\n        ideGitCredentialGr.auth_credential_table = authCredentialTable;\n        ideGitCredentialGr.remote_resource = resourceUrl;\n        ideGitCredentialGr.user = gs.getUserID();\n        ideGitCredentialGr.name = newCredentialName;\n\n        return ideGitCredentialGr.insert();\n    }\n\n    function createBasicAuthCredential(gitUsername, personalAccessToken, newCredentialName) {\n        var basicAuthGr = new GlideRecord('basic_auth_credentials');\n        basicAuthGr.initialize();\n        basicAuthGr.user_name = gitUsername;\n        basicAuthGr.password = personalAccessToken;\n        basicAuthGr.name = newCredentialName;\n\n        return basicAuthGr.insert();\n    }\n\n    function createOAuthCredential(gitUsername, oauthEntityProfileSysId, newCredentialName) {\n        var oAuthGr = new GlideRecord('oauth_2_0_credentials');\n        oAuthGr.initialize();\n        oAuthGr.user_name = gitUsername;\n        oAuthGr.oauth_entity_profile = oauthEntityProfileSysId;\n        oAuthGr.name = newCredentialName;\n        oAuthGr.integration_type = 'personal';\n\n        return oAuthGr.insert();\n    }\n\n    return response;\n\n})(request, response);","sys_updated_on":"2024-08-17 02:28:27","enforce_acl":"cf9d01d3e73003009d6247e603f6a990,53cb8ba593445210e7959b94818918f5","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"e99c4be593445210e7959b94818918d3","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_glider/ide_credential","sys_created_on":"2024-08-16 07:26:41","sys_name":"Create IDE Git Credential","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/fd254d9443a161100967247e6bb8f200","value":"fd254d9443a161100967247e6bb8f200"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/4d0b8b6593445210e7959b94818918a9","value":"4d0b8b6593445210e7959b94818918a9"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"12","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fd254d9443a161100967247e6bb8f200","value":"fd254d9443a161100967247e6bb8f200"},"sys_update_name":"sys_ws_operation_e99c4be593445210e7959b94818918d3","consumes_customized":"false","name":"Create IDE Git Credential","produces":"application/json,application/xml,text/xml","relative_path":"/","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var appId = request.pathParams.appId;\n\t\n\tif (!UserDelegatedDevPermissions.isScopeValid(appId)) {\n\t\tUserDelegatedDevPermissions.throwAppNotFound(appId);\n\t}\n\n\tvar permissionsGranted = UserDelegatedDevPermissions.getPermissionSetsGrantedToUserFromScope(appId);\n\n\t// if empty, then no permission sets are granted\n\tvar grantedPermSetNameAndIds = UserDelegatedDevPermissions.getPermSetNamesAndIdsFromObj(permissionsGranted);\n\t\n\tresponse.setBody(grantedPermSetNameAndIds);\n\tresponse.setStatus(200);\n\n})(request, response);","sys_updated_on":"2021-05-11 19:42:43","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/556bf461c3c8b01085c091294440dd7c","value":"556bf461c3c8b01085c091294440dd7c"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"e9aaa054c300301085c091294440dda9","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_collab_request/v1/application_permissions/apps/{appId}","sys_created_on":"2021-05-06 21:19:07","sys_name":"Get User Delegated Dev Permissions","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/afc92814c300301085c091294440ddf2","value":"afc92814c300301085c091294440ddf2"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"24","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"sys_update_name":"sys_ws_operation_e9aaa054c300301085c091294440dda9","consumes_customized":"false","name":"Get User Delegated Dev Permissions","produces":"application/json,application/xml,text/xml","relative_path":"/apps/{appId}","produces_customized":"false","default_operation_uri":"/api/sn_collab_request/application_permissions/apps/{appId}","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    const apiHelper = new APIHelper(request, response);\n    apiHelper.execute(function() {\n        const sysIdsToSkip = ['a571a832434d711025f01220bfb8f2f9'];\n        const sysIdsToFetch = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.SYS_IDS);\n        const includeClientScripts = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.INCLUDE_RELATED_RECORDS);\n        const componentId = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.ELEMENT_ID);\n\n        const presetHandler = new ComponentPreset(null, includeClientScripts);\n\n        const sysIdsCondition = sysIdsToSkip.map(sysId => `sys_id!=${sysId}`).join('^') + (sysIdsToFetch ? `^sys_idIN${sysIdsToFetch}` : '');\n        const encodedQuery = componentId ? `component=${componentId}^${sysIdsCondition}` : sysIdsCondition;\n\n        const presets = presetHandler.getRecordsByQuery(encodedQuery, 'name');\n        apiHelper.getResponse(presets);\n    });\n\n})(request, response);","sys_updated_on":"2024-06-13 20:33:54","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"e9b6452677783110d2955d9c4f5a9980","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/component/presets","sys_created_on":"2023-08-24 14:38:06","sys_name":"Component Presets","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"14","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_e9b6452677783110d2955d9c4f5a9980","consumes_customized":"false","name":"Component Presets","produces":"application/json,application/xml,text/xml","relative_path":"/component/presets","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var appManagerApiUtil = new AppManagerApiUtil(request, response);\n    var handler = new AppManagerHandler();\n    try {\n        appManagerApiUtil.verifyTablesReadAccess([\"sys_store_app\", \"sys_remote_app\"]);\n        var requestParams = appManagerApiUtil.getRequestParams();\n        var result = handler.installApp(requestParams);\n        appManagerApiUtil.setResponseBody(result);\n    } catch (err) {\n        appManagerApiUtil.setError(err);\n    }\n\n})(request, response);","sys_updated_on":"2025-03-14 01:02:20","enforce_acl":"3966a96cf53bc610f87752fa9ffbe0da","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/be08b89397b0d1104b593f0e6253afe1","value":"be08b89397b0d1104b593f0e6253afe1"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"e9b76a4c77502110c918256a5b5a99bf","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_appclient/v1/appmanager/app/install","sys_created_on":"2023-01-05 10:36:53","sys_name":"Install Application","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7ea1fc5f9770d1104b593f0e6253af99","value":"7ea1fc5f9770d1104b593f0e6253af99"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_update_name":"sys_ws_operation_e9b76a4c77502110c918256a5b5a99bf","consumes_customized":"false","name":"Install Application","produces":"application/json,application/xml,text/xml","relative_path":"/app/install","produces_customized":"false","default_operation_uri":"/api/sn_appclient/appmanager/app/install","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var util = new GuidedSetupUtilSNC();\n\n\ttry {\n\t\tif (util.restSecurityWrapper(util.isMetaAccessAllowed())) {\n\t\t\treturn util.processNavAction(request.pathParams.action, request.body.data, request.queryParams);\n\t\t}\n\t} catch (e) {\n\t\treturn util.restErrorHandler(e, response);\n\t}\n\n})(request, response);","sys_updated_on":"2015-12-13 14:59:19","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"ea59b610ff030200b18affffffffffbd","http_method":"PUT","sys_updated_by":"admin","operation_uri":"/api/now/guided_setup/nav/{action}","sys_created_on":"2015-10-08 04:47:07","sys_name":"Navigation Helpers","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5f4ef4ed9f401200b18a7feea57fcfbe","value":"5f4ef4ed9f401200b18a7feea57fcfbe"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3ce43d1bff220200b18affffffffff55","value":"3ce43d1bff220200b18affffffffff55"},"consumes":"application/json","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5f4ef4ed9f401200b18a7feea57fcfbe","value":"5f4ef4ed9f401200b18a7feea57fcfbe"},"sys_update_name":"sys_ws_operation_ea59b610ff030200b18affffffffffbd","consumes_customized":"false","name":"Navigation Helpers","produces":"application/json","relative_path":"/nav/{action}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tconst session = gs.getSession();\n\tsession.putClientData('CB_INTERNAL_USER_ACKNOWLEDGE', true);\n})(request, response);","sys_updated_on":"2024-06-06 21:19:54","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"ea8128c7a3220210c345b9c8d31e6138","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_cb_api/componentbuilder/internal-acknowledge","sys_created_on":"2024-06-06 21:19:54","sys_name":"Internal User Warning Acknowledge","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e9b68250cdffe4e1c64e494026ec6e9a","value":"e9b68250cdffe4e1c64e494026ec6e9a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/79353aa3a37731100aa159e6d31e6154","value":"79353aa3a37731100aa159e6d31e6154"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e9b68250cdffe4e1c64e494026ec6e9a","value":"e9b68250cdffe4e1c64e494026ec6e9a"},"sys_update_name":"sys_ws_operation_ea8128c7a3220210c345b9c8d31e6138","consumes_customized":"false","name":"Internal User Warning Acknowledge","produces":"application/json,application/xml,text/xml","relative_path":"/internal-acknowledge","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"API to list all inprogress  installations","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var appManagerApiUtil = new AppManagerApiUtil(request, response);\n    var tracker = new ProgressTracker();\n    try {\n        var appId = request.pathParams.appId;\n        var result = tracker.getInProgressInstallationByAppId(appId);\n        appManagerApiUtil.setResponseBody(result);\n    } catch (err) {\n        appManagerApiUtil.setError(err);\n    }\n})(request, response);","sys_updated_on":"2023-10-04 09:25:34","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/be08b89397b0d1104b593f0e6253afe1","value":"be08b89397b0d1104b593f0e6253afe1"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"ea94741d75f5a910f87758c54bbac90f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_appclient/v1/appmanager/progress/app/{appId}","sys_created_on":"2023-03-24 12:57:28","sys_name":"GetInProgressInstallationById","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7ea1fc5f9770d1104b593f0e6253af99","value":"7ea1fc5f9770d1104b593f0e6253af99"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_update_name":"sys_ws_operation_ea94741d75f5a910f87758c54bbac90f","consumes_customized":"false","name":"GetInProgressInstallationById","produces":"application/json,application/xml,text/xml","relative_path":"/progress/app/{appId}","produces_customized":"false","default_operation_uri":"/api/sn_appclient/appmanager/progress/app/{appId}","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar payload = request.body.data;\n\tvar oldDiagram = payload.diagram;\n\tvar newDiagram = \"\";\n\tvar diagDiff = \"\";\n\tvar flow;\n\t\n\ttry {\n\t\tflow = JSON.parse(payload.flow);\n\t\tnewDiagram = FlowDiagramBuilderApi.getDiagramJSON(flow);\n\t\tdiagDiff = FlowDiagramBuilderApi.getDiagramDifference(newDiagram, JSON.parse(oldDiagram));\n\n\t} catch (e) {\n\t\tvar error = new sn_ws_err.ServiceError();\n\t\terror.setMessage(\"Failed to calculate diagram difference\");\n\t\terror.setDetail(e.message);\n\t\treturn error;\n\t}\n\t\n\treturn {\n\t\tdiff: diagDiff\n\t};\n\t\n})(request, response);","sys_updated_on":"2021-12-16 19:44:49","enforce_acl":"f186a581dd763010f87742fe561ce9f0","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"eaa5a9420f033010f4166fe7c4767ee1","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_flow_diagram/flow_diagramming_api/getTranslatedFlowDiff","sys_created_on":"2021-10-08 15:15:18","sys_name":"Get Translated Flow Diff","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/a4f5f4d7ca80209b2a32be23119ae821","value":"a4f5f4d7ca80209b2a32be23119ae821"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/1275e141dd763010f87742fe561ce935","value":"1275e141dd763010f87742fe561ce935"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"22","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/a4f5f4d7ca80209b2a32be23119ae821","value":"a4f5f4d7ca80209b2a32be23119ae821"},"sys_update_name":"sys_ws_operation_eaa5a9420f033010f4166fe7c4767ee1","consumes_customized":"false","name":"Get Translated Flow Diff","produces":"application/json,application/xml,text/xml","relative_path":"/getTranslatedFlowDiff","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var receivedParams = request.pathParams;\n    var queryParams = request.queryParams;\n\n    var currentRecordTable = receivedParams.table_name;\n    var currentRecordSysId = receivedParams.sys_id;\n    var recommendationType = receivedParams.recommendation_type;\n    var forceRefresh = receivedParams.force_refresh;\n    var fields = receivedParams.fields;\n    var shouldGroup = !gs.nil(queryParams) && !gs.nil(queryParams.shouldGroup) &&\n\t\t\t\t\t\tqueryParams.shouldGroup.length > 0 && \"true\" === queryParams.shouldGroup[0];\n\n    response.setContentType('application/json');\n\n    if (!sn_nb_action.NextBestActionUtil.isValidString(currentRecordSysId) || !sn_nb_action.NextBestActionUtil.isValidString(currentRecordTable) || !sn_nb_action.NextBestActionUtil.isValidString(recommendationType))\n        response.setError(new sn_ws_err.BadRequestError(gs.getMessage('Missing required parameters')));\n    else {\n        try {\n            var nbaService = new sn_nb_action.NextBestActionService();\n            var result = nbaService.getRecommendations(currentRecordTable, currentRecordSysId, recommendationType, forceRefresh == 'true', fields, shouldGroup);\n            if (result) {\n                response.setBody(result);\n                response.setStatus(200);\n            } else {\n                var errObj = new sn_ws_err.ServiceError();\n                errObj.setStatus(500);\n                errObj.setMessage(gs.getMessage('Error getting actions'));\n                errObj.setDetail(gs.getMessage('Refer error logs for details'));\n                response.setError(errObj);\n            }\n\n        } catch (err) {\n            gs.warn(\"Error Message: {0} : {1}\", err.message, err.stack);\n            var customErrObj = new sn_ws_err.ServiceError();\n            customErrObj.setStatus(500);\n            customErrObj.setMessage(gs.getMessage('Error getting actions'));\n            customErrObj.setDetail(gs.getMessage('Refer error logs for details'));\n            response.setError(customErrObj);\n        }\n    }\n\n})(request, response);","sys_updated_on":"2022-10-07 22:57:30","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/ee8402b0776301106fd0c32b8d5a99b7","value":"ee8402b0776301106fd0c32b8d5a99b7"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"eace660977e301106fd0c32b8d5a99d4","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_nb_action/v2/next_best_action/actions/{table_name}/{sys_id}/{recommendation_type}/{force_refresh}/get_actions","sys_created_on":"2022-05-17 10:42:56","sys_name":"Get Actions","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/427fe83177221010d7159b71a91061e1","value":"427fe83177221010d7159b71a91061e1"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/95beed2cc7c71010763e343703c2608d","value":"95beed2cc7c71010763e343703c2608d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/427fe83177221010d7159b71a91061e1","value":"427fe83177221010d7159b71a91061e1"},"sys_update_name":"sys_ws_operation_eace660977e301106fd0c32b8d5a99d4","consumes_customized":"false","name":"Get Actions","produces":"application/json,application/xml,text/xml","relative_path":"/actions/{table_name}/{sys_id}/{recommendation_type}/{force_refresh}/get_actions","produces_customized":"false","default_operation_uri":"/api/sn_nb_action/next_best_action/actions/{table_name}/{sys_id}/{recommendation_type}/{force_refresh}/get_actions","sys_policy":""},{"short_description":"","operation_script":"var {\n    RuleChecker\n} = require('@devsnc/uibtk-api');\n\n(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var rc = new RuleChecker();\n    var appRoutes = rc.checkAllRulesAgainstSubpageFromPc(\n\t\trequest.pathParams.extensionPointId,\n\t\trequest.pathParams.parentScreenId,\n\t\trequest.pathParams.parentElementId,\n\t\trequest.pathParams.isMaint,\n\t);\n\n    response.setBody({\n        appRoutes\n    });\n\n})(request, response);","sys_updated_on":"2024-08-26 15:52:29","enforce_acl":"c67e91dd43a11210eeba83020cb8f24c","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"eb01e0dfb7f34610461e83e75e11a9e1","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/check_rules/pc/{extensionPointId}/parentScreenId/{parentScreenId}/parentElementId/{parentElementId}/isMaint/{isMaint}","sys_created_on":"2024-08-08 19:10:10","sys_name":"Execute Rules Engine for Subpge from PC","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_eb01e0dfb7f34610461e83e75e11a9e1","consumes_customized":"false","name":"Execute Rules Engine for Subpge from PC","produces":"application/json,application/xml,text/xml","relative_path":"/check_rules/pc/{extensionPointId}/parentScreenId/{parentScreenId}/parentElementId/{parentElementId}/isMaint/{isMaint}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var targetRecord = request.queryParams.record_id ? request.queryParams.record_id.toString() : undefined;\n    var mode = request.queryParams.mode ? request.queryParams.mode.toString() : undefined;\n    var templateId = request.queryParams.template_id ? request.queryParams.template_id.toString() : undefined;\n\tvar parentRecordTable = request.queryParams.sysparm_parent_target_record_table ? request.queryParams.sysparm_parent_target_record_table.toString() : undefined;\n\tvar parentRecordId = request.queryParams.sysparm_parent_target_record_id ? request.queryParams.sysparm_parent_target_record_id.toString() : undefined;\n\tvar isTemplateMandatory = request.queryParams.is_template_mandatory ? request.queryParams.is_template_mandatory.toString() : undefined;\n    var responseObject;\n    try {\n        var answerObject = sn_sc.CatalogWizardHandler.fetch({\n            wizardId: request.pathParams.sys_id,\n            targetRecord: targetRecord,\n            mode: mode,\n            templateId: templateId,\n\t\t\tparentTargetRecordTable: parentRecordTable,\n\t\t\tparentTargetRecordId: parentRecordId,\n\t\t\tisTemplateMandatory: isTemplateMandatory\n        });\n        responseObject = JSON.parse(answerObject);\n        if (GlidePluginManager.isActive(\"sn_wwna\")) {\n            responseObject.skillConfig = new sn_wwna.WWNAUtils().fetchNACMSkillConfiguration(responseObject.skill, responseObject.targetTable, responseObject.targetRecordData.targetRecord);\n        }\n        responseObject.previewPortal = gs.getProperty('glide.sc.builder.preview_portal_id', 'swp');\n    } catch (e) {\n        gs.debug(e);\n\t\tvar catalogExceptionUtils = new global.CatalogExceptionUtils();\n\t\tvar msg;\n\t\tif (catalogExceptionUtils.isCatalogWizardException(e)) {\n\t\t\tmsg = e.getMessage() + '';\n\t\t} else {\n\t\t\tmsg = gs.getMessage('You are not authorized to edit this record.');\n\t\t}\n        responseObject = {\n            errMsg: msg\n        };\n    }\n\t\n    return responseObject;\n})(request, response);","sys_updated_on":"2024-08-27 12:48:19","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"eb2c1a3273021010688e0d573cf6a772","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/wizard/{sys_id}","sys_created_on":"2020-07-20 17:42:28","sys_name":"Wizard Data","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"11","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5a9d2bff04352210559073c06a02f771","value":"5a9d2bff04352210559073c06a02f771"},"sys_update_name":"sys_ws_operation_eb2c1a3273021010688e0d573cf6a772","consumes_customized":"false","name":"Wizard Data","produces":"application/json,application/xml,text/xml","relative_path":"/wizard/{sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/wizard/{sys_id}","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar settings = sn_cs.VASystemObject.getSettings(getParamAsString(\"branding_key\"));\n\n\tif (settings) {\n\t\tstatus = 200;\n\t\treturn settings;\n\t} else {\n\t\tstatus = 404;\n\t}\n\t\n\t//make sure we always get strings from the parameter map\n\tfunction getParamAsString(paramName) {\n\t\tif (request.queryParams.hasOwnProperty(paramName))\n\t\t\treturn request.queryParams[paramName] + '';\n\t\treturn '';\n\t}\n\n})(request, response);","sys_updated_on":"2023-04-20 06:51:33","enforce_acl":"1e432e39c3d22110abf99bc8a840dd76","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"eb458c229f1210100d74d46d842e7040","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/branding","sys_created_on":"2020-07-31 22:22:57","sys_name":"branding","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/60350c229f1210100d74d46d842e709d","value":"60350c229f1210100d74d46d842e709d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"9","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9cc37b3704b52210559073c06a02f781","value":"9cc37b3704b52210559073c06a02f781"},"sys_update_name":"sys_ws_operation_eb458c229f1210100d74d46d842e7040","consumes_customized":"false","name":"branding","produces":"application/json,application/xml,text/xml","relative_path":"/","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    const apiHelper = new APIHelper(request, response);\n    apiHelper.execute(function() {\n        const page = new Page(BuilderToolkitConstants.QUERY_PARAM.NO_DOMAIN)\n            .getUIBEditorPageObject(apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.SYS_ID));\n        apiHelper.getResponse(page, BuilderToolkitConstants.ERRORS.NO_SCREEN_FOUND);\n    });\n\n})(request, response);","sys_updated_on":"2023-05-26 18:25:45","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"eb75580f10361110f87795d93c60dd0d","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/page","sys_created_on":"2022-10-31 18:02:56","sys_name":"Page","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"12","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_eb75580f10361110f87795d93c60dd0d","consumes_customized":"false","name":"Page","produces":"application/json,application/xml,text/xml","relative_path":"/page","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","sys_updated_on":"2024-04-23 06:39:20","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"eb82db800f102010e54d6b198b767e7d","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/question_designer/update_resource/{action}/{sys_id}","sys_created_on":"2020-11-01 04:56:23","sys_name":"Update resource for question designer","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c69d2bff04352210559073c06a02f736","value":"c69d2bff04352210559073c06a02f736"},"sys_update_name":"sys_ws_operation_eb82db800f102010e54d6b198b767e7d","consumes_customized":"false","name":"Update resource for question designer","produces":"application/json,application/xml,text/xml","relative_path":"/question_designer/update_resource/{action}/{sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/question_designer/update_resource/{action}/{sys_id}","sys_policy":"protected"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var TABLES = {\n        PROBLEM: \"problem\",\n        CHANGE: \"change_request\"\n    };\n    var LINK_FIELD = 'parent';\n\n    /**\n     * actionId: search UI Action's unique ID\n     * problemId: sys_id of Problem record which has search term\n     * changeId: sys_id of Change record which is the search result\n     * actionStage: to indicate whether this request is sent before or after modal\n     */\n\n    var actionId = request.body.data.actionId;\n    var problemId = request.body.data.currentId;\n    var changeId = request.body.data.resourceId;\n    var actionStage = request.body.data.actionStage;\n    var body = {};\n\n    /**\n     * action_id (mandatory): search UI Action's unique ID, AS/AI will use it to determine how to handle result\n     * item_id (optional): \"table_name:record_id\", having this tells AS/AI to refresh child record's UI Action list due to link action's change on child record\n     * succeed (mandatory): indicates link action is successfully done or not for non-rest call's\n     * successful (mandatory): indicates link action is successfully done or not for rest call's\n     * message (optional): shows on top of the form after action is performed\n     */\n\n    if (actionId.includes('rest'))\n        body.successful = false;\n    else\n        body.succeed = false;\n\n    function addErrorMessage(errorMessage) {\n        if (actionId.includes('rest'))\n            body.errMsg = errorMessage;\n        else\n            body.message = errorMessage;\n    }\n    if (!gs.hasRole('itil,sn_change_write')) {\n        addErrorMessage(gs.getMessage(\"Roles are insufficient to perform the action\"));\n        return response.setBody(body);\n    }\n\n    var changeGr = new GlideRecord(TABLES.CHANGE);\n    if (!changeGr.get(changeId)) {\n        addErrorMessage(gs.getMessage(\"Invalid Change Request record\"));\n        return response.setBody(body);\n    }\n\n    var problemGr = new GlideRecord(TABLES.PROBLEM);\n    if (!problemGr.get(problemId)) {\n        addErrorMessage(gs.getMessage(\"Invalid Problem record\"));\n        return response.setBody(body);\n    }\n\n    var errMsg = gs.getMessage('Updating \"Parent\" field on {0} has failed', changeGr.getDisplayValue());\n    var infoMsg = gs.getMessage('{0} has been linked to {1}.', [changeGr.getDisplayValue(), problemGr.getDisplayValue()]);\n\n    body.action_id = actionId;\n    body.item_id = TABLES.PROBLEM + \":\" + problemGr.getUniqueValue();\n\n    if (actionId.includes('rest')) {\n        if (actionStage === 'pre_modal') {\n            body.successful = true;\n            body.useModal = true;\n            body.modalTitle = gs.getMessage('Link to Problem');\n            body.errMsg = errMsg;\n            body.modalInfoMsg = gs.getMessage('You are linking the current {0} to {1}', [changeGr.getDisplayValue('number'), problemGr.getDisplayValue('number')]);\n            body.modalFields = [{\n                label: gs.getMessage('{0} (Private)', problemGr.work_notes.getLabel()),\n                name: 'work_notes',\n                value: '',\n                fieldType: 'textarea'\n            }];\n            body.updateCurrentRecord = false;\n            body.postModalRestRequired = true;\n            return response.setBody(body);\n        } else if (actionStage === 'post_modal') {\n\t\t\tchangeGr.setValue(LINK_FIELD, problemGr.getUniqueValue());\n            if (changeGr.update()) {\n                body.successful = true;\n                body.useModal = false;\n                body.infoMsg = infoMsg;\n                body.updateCurrentRecord = true;\n            } else {\n                body.errMsg = errMsg;\n            }\n            return response.setBody(body);\n        }\n    }\n    changeGr.setValue(LINK_FIELD, problemGr.getUniqueValue());\n    if (changeGr.update()) {\n        body.succeed = true;\n        body.message = infoMsg;\n    } else {\n        body.message = errMsg;\n    }\n    response.setBody(body);\n\n})(request, response);","sys_updated_on":"2022-03-10 06:48:11","enforce_acl":"9f0da38feb020110cfc583402a522853","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"ebc2f79653133010d82dddeeff7b123c","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/cxs_actions/link_prb_to_chg_req","sys_created_on":"2021-10-22 06:24:23","sys_name":"link_prb_to_chg_req","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/54a81ee10b11301039dd818393673a5c","value":"54a81ee10b11301039dd818393673a5c"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5f387aa0b32023002bf182c136a8dc1c","value":"5f387aa0b32023002bf182c136a8dc1c"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/54a81ee10b11301039dd818393673a5c","value":"54a81ee10b11301039dd818393673a5c"},"sys_update_name":"sys_ws_operation_ebc2f79653133010d82dddeeff7b123c","consumes_customized":"false","name":"link_prb_to_chg_req","produces":"application/json,application/xml,text/xml","relative_path":"/link_prb_to_chg_req","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar sysId = request.pathParams.sys_id || null;\n\tif (!sysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Emergency Change Request id not provided\");\n\n\tvar changeProcess = global.EmergencyChangeProcess.findById(sysId);\n\tif (!changeProcess)\n\t\treturn new sn_ws_err.NotFoundError(\"Emergency Change Request not found\");\n\n\tif (!changeProcess.deleteRecord())\n\t\treturn new sn_ws_err.BadRequestError(\"Emergency Change Request not deleted\");\n\n\treturn changeProcess.toJS();\n})(request, response);","sys_updated_on":"2018-07-07 19:42:37","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"ed39975f5303130096c3ddeeff7b129f","http_method":"DELETE","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/emergency/{sys_id}","sys_created_on":"2018-07-07 19:42:37","sys_name":"Emergency","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_ed39975f5303130096c3ddeeff7b129f","consumes_customized":"false","name":"Emergency","produces":"application/json,application/xml,text/xml","relative_path":"/emergency/{sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/emergency/{sys_id}","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    response.setContentType('application/json');\n    var helper = new CMDBDataManagerHelper();\n    var result = {};\n\tresult.related_entry_tables = helper.getRelatedEntryTables();\n    response.setStatus(200);\n    response.setBody(result);\n\n})(request, response);","sys_updated_on":"2022-03-26 23:26:08","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"ed705304ffe20110456d766cf43bf110","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/ci_lifecycle_manager/related_entry_tables","sys_created_on":"2022-03-25 17:31:21","sys_name":"Get Related Entry Tables","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ad9ebe127322101045cadfcd3bf6a735","value":"ad9ebe127322101045cadfcd3bf6a735"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"sys_update_name":"sys_ws_operation_ed705304ffe20110456d766cf43bf110","consumes_customized":"false","name":"Get Related Entry Tables","produces":"application/json,application/xml,text/xml","relative_path":"/related_entry_tables","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    \tvar util = new InteractiveAnalysisUtil();\n\ttry {\n\t\treturn util.deleteSavedValue(request.pathParams.tableName, request.queryParams, response);\n\t} catch (e) {\n\t\treturn util.restErrorHandler(e, response);\n\t}\n\n})(request, response);","sys_updated_on":"2017-07-12 09:08:58","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/bc1f8077c7223200b0ea8b3c5c976365","value":"bc1f8077c7223200b0ea8b3c5c976365"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"ed7b031f53333200b5ccddeeff7b1262","http_method":"DELETE","sys_updated_by":"admin","operation_uri":"/api/now/v1/interactive_analysis/table/{tableName}","sys_created_on":"2017-07-12 09:08:31","sys_name":"DELETE Saved Preference value","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/354d4837c7223200b0ea8b3c5c976356","value":"354d4837c7223200b0ea8b3c5c976356"},"consumes":"application/json","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5c8b63f304352210559073c06a02f797","value":"5c8b63f304352210559073c06a02f797"},"sys_update_name":"sys_ws_operation_ed7b031f53333200b5ccddeeff7b1262","consumes_customized":"false","name":"DELETE Saved Preference value","produces":"application/json","relative_path":"/table/{tableName}","produces_customized":"false","default_operation_uri":"/api/now/interactive_analysis/table/{tableName}","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var data = request.body.data;\n\n    try {\n        if (data && data.clusterId) {\n\n            var result = new sn_nlu_workbench.NLUImprovementAnalaysisReport().ignoreCluster(data.clusterId);\n\n            if (result.status === 'success') {\n                response.setStatus(200);\n            } else {\n                response.setStatus(400);\n            }\n\n            response.setContentType('application/json');\n            return result;\n        } else {\n            return new sn_ws_err.BadRequestError(\"No input data provided\");\n        }\n\n    } catch (e) {\n        return new sn_ws_err.BadRequestError(e.message);\n    }\n\n})(request, response);","sys_updated_on":"2021-02-05 10:17:23","enforce_acl":"0f43facbeb8220105de665fcc8522895","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b51a6d700710201028ef0a701ad300ab","value":"b51a6d700710201028ef0a701ad300ab"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"ee1a1e3773a82010e6b632e954f6a783","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_nlu_workbench/v1/nlu_advanced/ignoreCluster","sys_created_on":"2020-11-25 02:44:41","sys_name":"ignoreCluster","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea82488673402010e6b632e954f6a7ca","value":"ea82488673402010e6b632e954f6a7ca"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_update_name":"sys_ws_operation_ee1a1e3773a82010e6b632e954f6a783","consumes_customized":"false","name":"ignoreCluster","produces":"application/json,application/xml,text/xml","relative_path":"/ignoreCluster","produces_customized":"false","default_operation_uri":"/api/sn_nlu_workbench/nlu_advanced/ignoreCluster","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        var res = new sn_wn.WhatsNewAPIHandler().handleFeaturePageRequest(request.body.data);\n        response.setStatus(res.status);\n        response.setBody(res);\n    } catch (e) {\n        var exp = new sn_ws_err.BadRequestError(e + \"\");\n        response.setError(exp);\n    }\n})(request, response);","sys_updated_on":"2023-09-20 10:09:33","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"ee1d65000b5931109dae8a8db777b274","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_wn/whats_new/feature_page","sys_created_on":"2023-09-10 19:59:16","sys_name":"Feature page","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cb08e377eb9071106fb3951ff15228b8","value":"cb08e377eb9071106fb3951ff15228b8"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/8f25234477703110878cd30e5b5a994c","value":"8f25234477703110878cd30e5b5a994c"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cb08e377eb9071106fb3951ff15228b8","value":"cb08e377eb9071106fb3951ff15228b8"},"sys_update_name":"sys_ws_operation_ee1d65000b5931109dae8a8db777b274","consumes_customized":"false","name":"Feature page","produces":"application/json,application/xml,text/xml","relative_path":"/feature_page","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar threshold = NaN;\n\tif (request.queryParams.predict_threshold) {\n\t\tthreshold = request.queryParams.predict_threshold[0];\n\t}\n\tvar topN = 1;\n    if (request.queryParams.top_n) {\n        topN = request.queryParams.top_n[0];\n    }\n\tvar confidenceLevel = 95;\n    if (request.queryParams.confidence_level) {\n        confidenceLevel = request.queryParams.confidence_level[0];\n    }\n\tif(( confidenceLevel<0  )|| (confidenceLevel>100)){\n\t\treturn {\n\t\t\t\"input\" : params,\n\t\t\t\"output\" : \"Unable to predict: Confidence Level must lie in 0-100 range!\"\n\t\t};\n\t}\n\t\n\tvar i18nObj = i18n();\n\tvar solutionName = request.pathParams.solution_name;\t\n\tvar solutionFinder = new sn_ml.SolutionFinder();\n\tvar solution = solutionFinder.getSolution(solutionName);\n\tvar params = request.queryParams;\n\t\n\tvar activeSolution = new GlideRecord(\"ml_solution\");\n\tactiveSolution.addQuery(\"solution_name\", solutionName);\n\tactiveSolution.addQuery(\"active\",\"true\");\n\tactiveSolution.query();\n\tif (!activeSolution.next()){\n\t\treturn {\n\t\t\t\"input\" : params,\n\t\t\t\"output\" : \"Unable to predict: No active solutions found for \" + solutionName + \". Please activate a solution first!\"\n\t\t};\n\t}\n\t\n\tvar ml_ui = false;\n\tvar ml_capability = '';\n\tvar table = params.table ? params.table : '';\n\tvar op_table = params.op_table ? params.op_table : '';\n\tvar ml_prediction_type = params.testtype ? params.testtype: 'single'; // type = single, batch\n\tvar field_list = '';\n\tvar op_field_list = '';\n\tvar batch_encodedQuery = params.encodedQuery ? params.encodedQuery : '';\n\tvar input_field_list = params.input_field_list;\n\tvar inputs = {};\n\tml_capability = solution.getCapability();\n\t\n\t// For classification, fetch the results, apply threshold and then check for topN constraint\n\tvar originalTopN = topN;\n\tif(ml_capability === 'classification_trainer' || ml_capability === 'workflow_classification_trainer')\n\t\ttopN = (topN * MLBaseConstants.CLASSIFICATION_TOP_N_MULTIPLIER).toFixed();\n\t\n\tif (params.ml_ui) {\n\t\tml_ui = true;\n\t\tml_capability = solution.getCapability();\n\t\tvar solution_gr = new GlideRecord(MLBaseConstants.ML_SOLUTION);\n\t\tif(solution_gr.get(params.solution_id +'')) {\n\t\t\tswitch(ml_capability) {\n\t\t\t\tcase 'similarity_trainer' :\n\t\t\t\tcase 'workflow_similarity_trainer' :\n\t\t\t\t\tfield_list = solution_gr.getValue('fields_to_compare');\n\t\t\t\t\top_field_list = solution_gr.getValue('prediction_input_fields'); \n\t\t\t\t\tbreak;\n\t\t\t\tcase 'classification_trainer': \n\t\t\t\tcase 'workflow_classification_trainer':\n\t\t\t\t\tfield_list = solution_gr.getValue('input_fields');\n\t\t\t\t\top_field_list = solution_gr.getValue('input_fields');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'clustering_trainer' :\n\t\t\t\tcase 'workflow_clustering_trainer' :\n\t\t\t\t\tfield_list = solution_gr.getValue('prediction_input_fields');\n\t\t\t\t\top_field_list = solution_gr.getValue('prediction_input_fields');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'regression_trainer':\n\t\t\t\tcase 'workflow_regression_trainer':\n\t\t\t\t\tfield_list = solution_gr.getValue('input_fields');\n\t\t\t\t\top_field_list = solution_gr.getValue('input_fields');\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\t\n\t\tfor (var k =0; k < input_field_list.length; k++) {\n\t\t\tvar obj = JSON.parse(input_field_list[k]);\n\t\t\tfor (var key in obj){\n\t\t\t\tif (obj.hasOwnProperty(key)) {\n\t\t\t\t\tinputs[key] = obj[key].toString();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\tfor (var key in params) {\n\t\t\tif (params.hasOwnProperty(key)) {\n\t\t\t\tinputs[key] = params[key].toString();\n\t\t\t}\n\t\t}\n\t}\n\t\n\tvar mlPredictor = new MLPredictor();\n\tvar scopeSupportedDBQuery = new MLScopedAppsSupport();\n\tvar result = {};\n\tresult['inputs'] = inputs;\n\tresult['output'] = [];\n\tresult[\"output_msg\"] = \"Unable to predict.\";\n\tresult[\"type\"]= \"failure\";\n\tif(ml_prediction_type == 'single'){\n\t\tif(ml_capability == 'regression_trainer' || ml_capability == 'workflow_regression_trainer'){\n\t\t\tvar outcomeArr = solution.predictTextTopNConfInterval(inputs, topN, confidenceLevel);\n\t\t} else{\n\t\t\tvar outcomeArr = solution.predictTextTopN(inputs, topN);\n\t\t}\n\t\tvar outputs = generateJsonOutput(i18nObj, inputs, solution, outcomeArr, mlPredictor, ml_capability, ml_prediction_type, originalTopN);\n\t\t\n\t\t//for similarity need records details\n\t\tif ((ml_capability == 'similarity_trainer' || ml_capability == 'workflow_similarity_trainer') && op_table && outputs.sysidArr && outputs.sysidArr.length > 0) {\n\t\t\toutputs.outputJSON = scopeSupportedDBQuery.generateSimilarityOutPut(op_table, outputs.outputJSON, op_field_list, outputs.sysidArr);\n\t\t}\n\t\tvar rec = {};\n\t\trec['sys_obj'] = {};\n\t\trec['outcomeArr'] = outputs.outputJSON;\n\t\tresult['output'].push(rec);\n\t\tresult[\"output_msg\"] = \"\";\n\t\tresult[\"type\"]= \"success\";\n\t\t//for single it will be array of single outcome array\n\t\t//for batch it will be records array containing outcome array for each records\n\t} else if(ml_prediction_type == 'batch'){\n\t\tvar outcomeArr = solution.predictBatch(table, batch_encodedQuery, 0, 50, 1);\n\t\tvar rowcount = 0;\n\t\tfor (var sys_id in outcomeArr) {\n\t\t\tif (outcomeArr.hasOwnProperty(sys_id) && outcomeArr[sys_id]) {\n\t\t\t\tvar rec = {};\n\t\t\t\trec['sys_obj'] = outcomeArr[sys_id].inputobj;\n\t\t\t\tvar output = generateJsonOutputBatch(i18nObj, outcomeArr[sys_id].outcomeArr,outcomeArr[sys_id].record,ml_capability);\n\t\t\t\trec['outcomeArr'] = output.outputJSON;\n\t\t\t\trec['record'] = outcomeArr[sys_id].record;\n\t\t\t\tresult['output'].push(rec);\n\t\t\t\trowcount++;\n\t\t\t}\n\t\t}\n\t\tresult[\"output_msg\"] = \"\";\n\t\tresult[\"type\"]= \"success\";\n\t\tif(rowcount == 0){\n\t\t\tresult.output['sys_obj'] = {};\n\t\t\tresult.output['outcomeArr'] = []; \n\t\t\tresult[\"output_msg\"] = \"O records are selected for prediction\";\n\t\t\tresult[\"type\"]= \"failure\";\n\t\t}\n\t}\n\t\n\t//sending table columns if a call is made from Test Solution Page\n\tif (ml_ui) {\n        var columnNameToLabel = [];\n\t\tif (ml_prediction_type == 'batch') {\n            columnNameToLabel.push({\n                'name': 'InputRecord',\n                'label': i18nObj.inputRecord\n            });\n        }\n        if (ml_capability == 'classification_trainer' || (ml_capability == 'workflow_classification_trainer')) { \n\t\t\tcolumnNameToLabel.push({\n                'name': 'ClassName',\n                'label': i18nObj.className\n            });\n\t\t\tcolumnNameToLabel.push({\n                'name': 'Confidence',\n                'label': i18nObj.confidence\n            });\n\t\t\tcolumnNameToLabel.push({\n                'name': 'Threshold',\n                'label': i18nObj.threshold\n            });\n        } else if (ml_capability == 'regression_trainer' || (ml_capability == 'workflow_regression_trainer')) { \n\t\t\tcolumnNameToLabel.push({\n                'name': 'PointEstimate',\n                'label': i18nObj.pointEstimate\n            });\n\t\t\tcolumnNameToLabel.push({\n                'name': 'LowerBound',\n                'label': i18nObj.lowerBound\n            });\n\t\t\tcolumnNameToLabel.push({\n                'name': 'UpperBound',\n                'label': i18nObj.upperBound\n            });\n\t\t} else if (ml_capability == 'similarity_trainer' || ml_capability == 'workflow_similarity_trainer') {\n\t\t\tcolumnNameToLabel.push({\n                'name': 'Record',\n                'label': i18nObj.record\n            });\n\t\t\tcolumnNameToLabel.push({\n                'name': 'Confidence',\n                'label': i18nObj.confidence\n            });\n\t\t\tcolumnNameToLabel.push({\n                'name': 'Threshold',\n                'label': i18nObj.threshold\n            });\n            var columns = op_field_list.split(',');\n            for (var i = columns.length - 1; i >= 0; i--) {\n                var columnName = columns[i];\n                columnNameToLabel.push({\n                    'name': columnName,\n                    'label': columnName\n                });\n\t\t\t}  \n        }\n       \n        result['columns'] = columnNameToLabel;  \n    }\n\t\n\treturn result;\n})(request, response);\n\nfunction i18n() {\n    var i18nObj = {\n        'unable2Predict': gs.getMessage(\"Unable to predict.\"),\n        'serviceunavailable2Predict': gs.getMessage(\"Service Unavailable to predict.\"),\n        'malformedurl2Predict': gs.getMessage(\"Malformed URL.\"),\n        'unable2PredictThreshold': gs.getMessage(\"Prediction results below threshold\"),\n        'className': gs.getMessage(\"ClassName\"),\n        'confidence': gs.getMessage(\"Confidence\"),\n        'threshold': gs.getMessage(\"Threshold\"),\n\t\t'pointEstimate': gs.getMessage(\"PointEstimate\"),\n\t\t'errorEstimate': gs.getMessage(\"ErrorEstimate\"),\n\t\t'lowerBound':gs.getMessage(\"LowerBound\"),\n\t\t'upperBound':gs.getMessage(\"UpperBound\"),\n        'record': gs.getMessage(\"Record\"),\n        'inputRecord': gs.getMessage('InputRecord')\n    };\n    return i18nObj;\n}\n\nfunction generateJsonOutputBatch(i18nObj, outcomeArr, record, ml_capability){\n\tvar output = {};\n\toutput.outputJSON = [];\n\toutput.sysidArr = [];\n\tvar outputObj = {};\n\tif(outcomeArr.length == 0){\n\t\toutputObj = {\n\t\t\t\t\"output_msg\":i18nObj.unable2Predict,\n\t\t\t\t\"output\":\"failure\"\n\t\t\t};\n\t\toutput.outputJSON.push(outputObj);\n\t\treturn output;\n\t}\n\n\tfor (var i = 0; i < outcomeArr.length; i++) {\n\t\tif(ml_capability == 'regression_trainer' || ml_capability == 'workflow_regression_trainer'){\n\t\t\t\toutputObj = {\n\t\t\t\t\t\"PointEstimate\" : outcomeArr[i].outcome,\n\t\t\t\t\t\"LowerBound\" : outcomeArr[i].lowerBound,\n\t\t\t\t\t\"UpperBound\" : outcomeArr[i].upperBound,\n\t\t\t\t\t\"output\": \"success\",\n\t\t\t\t\t\"InputRecord\": record\n\t\t\t};\n\t\t}else{\n\t\tvar confidence = outcomeArr[i].confidence * 100;\n\t\tif (confidence >= outcomeArr[i].threshold) {\n\t\t\t\toutputObj = {\n\t\t\t    \"ClassName\" : outcomeArr[i].outcome,\n\t\t\t\t\"Confidence\" : confidence,\n\t\t\t\t\"Threshold\" : outcomeArr[i].threshold,\n\t\t\t\t\"output\": \"success\",\n\t\t\t\t\"InputRecord\": record\n\t\t\t};\n\t\t}\n\t\t}\n\t\t\toutput.outputJSON.push(outputObj);\n\n\t}\n\toutput.outputJSON.length != 0 || output.outputJSON.push({\"output_msg\":i18nObj.unable2PredictThreshold,\n\t\t\t\t\"output\":\"failure\"});\n\treturn output;\n}\nfunction generateJsonOutput(i18nObj, inputs, solution, outcomeArr, mlPredictor, ml_capability, type, originalTopN, record ) {\n\tvar output = {};\n\toutput.outputJSON = [];\n\toutput.sysidArr = [];\n\tvar outputObj = {};\n\tif (outcomeArr == null || outcomeArr.length == 0) {\n\t\toutputObj = {\n\t\t\t\t\"output_msg\":i18nObj.unable2Predict,\n\t\t\t\t\"output\":\"failure\"\n\t\t\t};\n\t\toutput.outputJSON.push(outputObj);\n\t\treturn output;\n    }\n\n\tfor (var i = 0; i < outcomeArr.length; i++) {\n\t\toutputObj = {};\n\t\tif (!outcomeArr[i].hasPrediction() || JSUtil.nil(outcomeArr[i].predictedValue())) {\n\t\t\tvar messageMap = JSON.stringify(outcomeArr[i].getMessagesMap());\n\t\t\tif (messageMap.includes('400')){\n\t\t\t\toutputObj = {\n\t\t\t\t\"output_msg\":i18nObj.serviceunavailable2Predict,\n\t\t\t\t\"output\":\"failure\"\n\t\t\t\t};\n\t\t\t} else if (messageMap.includes('404')){\n\t\t\t\toutputObj = {\n\t\t\t\t\"output_msg\":i18nObj.malformedurl2Predict,\n\t\t\t\t\"output\":\"failure\"\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\toutputObj = {\n\t\t\t\t\t\"output_msg\":i18nObj.unable2Predict,\n\t\t\t\t\t\"output\":\"failure\"\n\t\t\t\t};\n\t\t}} else {\n\t\t\t//filtering prediction o/p using threshold.\n\t\t\tvar threshold = mlPredictor.__getPredictionThreshold(solution, outcomeArr[i]);\n\t\t\tvar confidence = outcomeArr[i].confidence();\n\t\t\tif(ml_capability == 'regression_trainer' || ml_capability == 'workflow_regression_trainer'){\n\n\t\t\t\t\toutputObj = {\n\t\t\t\t\t\t\"PointEstimate\" : outcomeArr[i].predictedValue(),\n\t\t\t\t\t\t\"LowerBound\" : outcomeArr[i].lowerBound(),\n\t\t\t\t\t\t\"UpperBound\" : outcomeArr[i].upperBound(),\n\t\t\t\t\t\t\"output\": \"success\"\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\telse {\n\t\t\t\tif (confidence >= threshold){\n\t\t\t\t\toutputObj = {\n\t\t\t\t\t\t\"ClassName\" : outcomeArr[i].predictedValue(),\n\t\t\t\t\t\t\"Confidence\" : confidence,\n\t\t\t\t\t\t\"Threshold\" : threshold,\n\t\t\t\t\t\t\"OutcomeDetails\": outcomeArr[i].detailedOutcome(),\n\t\t\t\t\t\t\"output\": \"success\"\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (type == 'batch') {\n\t\t\t\t\toutputObj['InputRecord'] = record;\n\t\t\t\t}\n\t\t\t}\n\t\t\toutput.sysidArr.push(outcomeArr[i].predictedValue());\n\t\t}\n\t\tif ( Object.keys(outputObj).length !== 0){\n\t\t\toutput.outputJSON.push(outputObj);\n\t\t}\n\t\tif ((ml_capability === 'classification_trainer' || 'workflow_classification_trainer')  && output.outputJSON.length >= originalTopN)\n\t\t\tbreak;\n\t}\n\toutput.outputJSON.length != 0 || output.outputJSON.push({\"output_msg\":i18nObj.unable2PredictThreshold,\n\t\t\t\t\"output\":\"failure\"});\n\treturn output;\n}","sys_updated_on":"2024-11-13 07:02:31","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"ee9038bf0b323200c7ecc71437673af7","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/agent_intelligence/solution/{solution_name}/prediction","sys_created_on":"2017-05-24 18:33:20","sys_name":"Prediction","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3d4fe0bf0b323200c7ecc71437673a4e","value":"3d4fe0bf0b323200c7ecc71437673a4e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"170","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/9794ab3f04312210559073c06a02f70c","value":"9794ab3f04312210559073c06a02f70c"},"sys_update_name":"sys_ws_operation_ee9038bf0b323200c7ecc71437673af7","consumes_customized":"false","name":"Prediction","produces":"application/json,application/xml,text/xml","relative_path":"/solution/{solution_name}/prediction","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var itemId = request.pathParams.item_sys_id;\n\tif (!GlideStringUtil.isEligibleSysID(itemId))\n\t\tthrow new sn_ws_err.BadRequestError(\"item_sys_id should be provided as path param.\");\n\t\n\tvar request_body = request.body.nextEntry();\n\tvar also_request_for = request_body.sysparm_also_request_for;\n\t\n\tif (gs.nil(also_request_for))\n\t\tthrow new sn_ws_err.BadRequestError(gs.getMessage(\"Invalid also_request_for value\"));\n\t\n\tvar catItem = new sn_sc.CatItem(itemId);\n\tvar response_body = {};\n\tresponse_body.invalidUsers = catItem.getInvalidDelegatedUsers(also_request_for.split(','));\n\treturn response_body;\n})(request, response);","sys_updated_on":"2020-04-13 11:01:23","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"eef46fb573001010728c2ee2c4f6a74c","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/items/{item_sys_id}/get_invalid_delegated_users","sys_created_on":"2020-04-09 10:27:50","sys_name":"Validate Also Request For on Item","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_eef46fb573001010728c2ee2c4f6a74c","consumes_customized":"false","name":"Validate Also Request For on Item","produces":"application/json,application/xml,text/xml","relative_path":"/items/{item_sys_id}/get_invalid_delegated_users","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/items/{item_sys_id}/get_invalid_delegated_users","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar defId = request.pathParams.sys_id + \"\";\n\tvar condition = request.queryParams.condition ? request.queryParams.condition + \"\" : \"\";\n\n\tif (new global.ChangeSoCUtil().hasDynamicCondition(condition))\n\t\treturn new sn_ws_err.BadRequestError(gs.getMessage(\"is (dynamic) filter operators are not supported\"));\n\n\tvar count = request.queryParams.count + \"\";\n\tcount = parseInt(count, 10);\n\tif (isNaN(count))\n\t\tcount = 0;\n\tif (!defId)\n\t\treturn new sn_ws_err.BadRequestError(gs.getMessage(\"Change Schedule not found\"));\n\tvar totalLimit = parseInt(gs.getProperty(\"sn_chg_soc.change_soc_total_limit\", \"1000\"), 10);\n\ttotalLimit = totalLimit > 2500 ? 2500 : totalLimit;\n\tif (count > totalLimit)\n\t\treturn new sn_ws_err.BadRequestError(gs.getMessage(\"Change schedule record limit reached\"));\n\tvar result = new SoCModelBuilder().buildModel(defId, count, condition);\n\tif (!result)\n\t\treturn new sn_ws_err.BadRequestError(gs.getMessage(\"Change Schedule not found\"));\n\treturn result;\n})(request, response);","sys_updated_on":"2018-03-15 14:09:13","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"ef3449b0c3560300afc33f52c1d3aef1","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_chg_soc/soc/changeschedule/{sys_id}","sys_created_on":"2017-11-05 11:28:43","sys_name":"changeschedule","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3115d45f67020300b410afa00585ef87","value":"3115d45f67020300b410afa00585ef87"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdcf033467020300b410afa00585ef2b","value":"cdcf033467020300b410afa00585ef2b"},"sys_update_name":"sys_ws_operation_ef3449b0c3560300afc33f52c1d3aef1","consumes_customized":"false","name":"changeschedule","produces":"application/json,application/xml,text/xml","relative_path":"/changeschedule/{sys_id}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    return NLUStudioService.getAllPublishedModels();\n\n})(request, response);","sys_updated_on":"2021-04-20 05:47:29","enforce_acl":"ccd8a1e7772000105d7b3882a910617c","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/e4cda81e7333230021a044764df6a777","value":"e4cda81e7333230021a044764df6a777"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"ef3c6c9a7333230021a044764df6a7db","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/nlu/getAllPublishedModels","sys_created_on":"2019-02-25 07:31:56","sys_name":"getAllPublishedModels","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/55672c9a7333230021a044764df6a706","value":"55672c9a7333230021a044764df6a706"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"12","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_ws_operation_ef3c6c9a7333230021a044764df6a7db","consumes_customized":"false","name":"getAllPublishedModels","produces":"application/json,application/xml,text/xml","relative_path":"/getAllPublishedModels","produces_customized":"false","default_operation_uri":"/api/now/nlu/getAllPublishedModels","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        var result = new ep_Reminder().createReminder(request.body.data);\n        if (!result) {\n            response.setStatus(500);\n            var error = new sn_ws_err.ServiceError();\n            error.setMessage(gs.getMessage(\"Unable to create reminder\"));\n            response.setError(error);\n        } else {\n            response.setStatus(200);\n            response.setBody(result);\n        }\n    } catch (error) {\n        response.setStatus(400);\n        response.setError(new sn_ws_err.BadRequestError(error.message));\n    }\n})(request, response);","sys_updated_on":"2024-06-12 20:01:40","enforce_acl":"85b8c7f853fa82108628ddeeff7b1280","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"ef48342753903110c673ddeeff7b12c5","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_employee/reminders","sys_created_on":"2023-08-02 19:41:15","sys_name":"Create","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/1e95bac2738f001001b566b90ff6a7cd","value":"1e95bac2738f001001b566b90ff6a7cd"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/9b6e202b53503110c673ddeeff7b1225","value":"9b6e202b53503110c673ddeeff7b1225"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"9","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/1e95bac2738f001001b566b90ff6a7cd","value":"1e95bac2738f001001b566b90ff6a7cd"},"sys_update_name":"sys_ws_operation_ef48342753903110c673ddeeff7b12c5","consumes_customized":"false","name":"Create","produces":"application/json,application/xml,text/xml","relative_path":"/","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n var response_body = new CatalogSaveUtility().processAddItem(request,response, true);\n return response_body;\n\n})(request, response);","sys_updated_on":"2023-07-26 22:06:58","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"ef5724d1c3202200d68d3b0ac3d3aeda","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/items/{sys_id}/add_to_wishlist","sys_created_on":"2016-07-10 06:27:36","sys_name":"Add item to wishlist","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"33","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_ef5724d1c3202200d68d3b0ac3d3aeda","consumes_customized":"false","name":"Add item to wishlist","produces":"application/json,application/xml,text/xml","relative_path":"/items/{sys_id}/add_to_wishlist","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/items/{sys_id}/add_to_wishlist","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var table = request.body.data.table || null;\n    if (!table)\n        return new sn_ws_err.BadRequestError('table not provided');\n\n    var sysId = request.body.data.sysId || null;\n    if (!sysId)\n        return new sn_ws_err.BadRequestError('sysId not provided');\n\n    var view = request.body.data.view || null;\n    if (!view)\n        return new sn_ws_err.BadRequestError('view not provided');\n\n    var state = request.body.data.state || '';\n    var isNew = (request.body.data.isNew + '' === 'true') || (sysId === '-1');\n\n    var chgUtils = new SOWChangeUtils();\n    var result = {\n        formData: chgUtils.getFormSectionsForLayout(table, sysId, view),\n        stateFormData: chgUtils.getSectionsForState(table, sysId, state, isNew),\n        versionNumber: gs.getProperty('itsm_family_release_version_check',0)\n    };\n\n    return result;\n})(request, response);","sys_updated_on":"2023-07-28 14:16:06","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a912b23453a6111088d8ddeeff7b1240","value":"a912b23453a6111088d8ddeeff7b1240"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"ef79b13e53a7111088d8ddeeff7b1257","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/sn_sow_chg/v1/sow_change_utils/get_form_sections_layout","sys_created_on":"2022-12-07 13:28:05","sys_name":"getFormSectionsLayout","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3d876fa953615110532cddeeff7b12bb","value":"3d876fa953615110532cddeeff7b12bb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"13","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/bccbdbb023213010785ddc1756bf6579","value":"bccbdbb023213010785ddc1756bf6579"},"sys_update_name":"sys_ws_operation_ef79b13e53a7111088d8ddeeff7b1257","consumes_customized":"false","name":"getFormSectionsLayout","produces":"application/json,application/xml,text/xml","relative_path":"/get_form_sections_layout","produces_customized":"false","default_operation_uri":"/api/sn_sow_chg/sow_change_utils/get_form_sections_layout","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        var params = request.body.data;\n        params.isSingle = true;\n        const uxaHandler = new UXAHandler();\n        const result = uxaHandler.handleFunnelRequest(params, true);\n        response.setBody(result);\n        response.setContentType('application/json');\n        response.setStatus(200);\n        return response;\n\t\t} \n\t\t\n\t\tcatch (err) {\n        const serviceError = new UXAUtils().generateErrorObject(err);\n        response.setError(serviceError);\n        response.setStatus(err?.statusCode || 500);\n    }\n})(request, response);","sys_updated_on":"2024-09-28 16:21:14","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/d93d4288ffe7c21024f4ffffffffff52","value":"d93d4288ffe7c21024f4ffffffffff52"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"efb7fdabb7049210979ab238ee11a9c9","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_uxa_req_manager/v1/uxa_data/single-funnel-data","sys_created_on":"2024-08-22 06:21:14","sys_name":"Single Funnel data","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/e9f5c0d20b620210e8a937009777b2d7","value":"e9f5c0d20b620210e8a937009777b2d7"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"16","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/b4048c109c7075a14eb853b12f61b5cd","value":"b4048c109c7075a14eb853b12f61b5cd"},"sys_update_name":"sys_ws_operation_efb7fdabb7049210979ab238ee11a9c9","consumes_customized":"false","name":"Single Funnel data","produces":"application/json,application/xml,text/xml","relative_path":"/single-funnel-data","produces_customized":"false","default_operation_uri":"/api/sn_uxa_req_manager/uxa_data/single-funnel-data","sys_policy":""},{"short_description":"Compare contents of tracked config file around time of change","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar queryParams = request.queryParams;\n\tvar bsId = String(queryParams.bs_id || '');\n\tvar fileId = String(queryParams.file_id || '');\n\tvar fileStableId = String(queryParams.file_stable_id || '');\n\tvar timestamp = String(queryParams.timestamp || '');\n\tvar showIdenticalDiff = queryParams.show_identical_diff === \"true\";\n\t\n\tif (!fileId || !fileStableId || !bsId || !timestamp) {\n\t\tresponse.setError(new sn_ws_err.BadRequestError('Missing required parameters.'));\n\t\treturn;\n\t}\n\t\n\tvar api = new SNC.TrackedConfigFilesHistoryManager();\n\t\n\tvar values = api.getFileContentsForCompare(fileId, fileStableId, bsId, timestamp);\n\tvar oldValue = String(values.get(\"oldValue\"));\n\tvar newValue = String(values.get(\"value\"));\n\t\n\tvar differ = new Differ();\n\tvar content = differ.diff(oldValue, newValue, \"\", showIdenticalDiff);\n\t\n\tresponse.setStatus(200);\n\tresponse.setContentType(\"text/html\");\n\t//content can be empty string (identical values compared)\n\tresponse.getStreamWriter().writeString(content);\n\n})(request, response);","sys_updated_on":"2019-05-01 15:13:32","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f03af19b87172200b5bea18dd0e3ec0f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/tracked_config_files/compare_by_change_time","sys_created_on":"2016-11-30 10:30:26","sys_name":"CompareByChangeTime","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/68ec639187132200b5bea18dd0e3ec51","value":"68ec639187132200b5bea18dd0e3ec51"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"19","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_f03af19b87172200b5bea18dd0e3ec0f","consumes_customized":"false","name":"CompareByChangeTime","produces":"text/html","relative_path":"/compare_by_change_time","produces_customized":"true","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var attachmentSysId = request.queryParams ? request.queryParams.attachmentSysId : null;\n    var isConnectionTimeOut = request.queryParams ? String(request.queryParams.connectionTimeOut) : null;\n    var return_obj = {};\n\n    if (!attachmentSysId) {\n        response.setStatus(500);\n        response.setBody({\n            status: 'error',\n            message: 'Attachment sys_id is missing from payload'\n        });\n    }\n\n    return_obj = new PDFtoTableHelper().getPollStatus(attachmentSysId, (isConnectionTimeOut === \"true\"));\n\n    if (return_obj && return_obj.status !== 'error') {\n        response.setStatus(200);\n    } else {\n        response.setStatus(500);\n        return_obj = {\n            status: 'error',\n            message: 'Something went wrong while polling'\n        };\n    }\n\n    response.setBody(return_obj);\n\n})(request, response);","sys_updated_on":"2022-07-13 07:47:32","enforce_acl":"f7e62b5f97e415108843f73ef053af30","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f079a7df97e415108843f73ef053af1a","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_pdf_table_bldr/app/poll_for_parsing_status","sys_created_on":"2022-07-13 07:47:32","sys_name":"Poll for parsing status","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/8e417ee064982b70a7bd187e6edb95f1","value":"8e417ee064982b70a7bd187e6edb95f1"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/16652f5b97e415108843f73ef053af22","value":"16652f5b97e415108843f73ef053af22"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8e417ee064982b70a7bd187e6edb95f1","value":"8e417ee064982b70a7bd187e6edb95f1"},"sys_update_name":"sys_ws_operation_f079a7df97e415108843f73ef053af1a","consumes_customized":"false","name":"Poll for parsing status","produces":"application/json,application/xml,text/xml","relative_path":"/poll_for_parsing_status","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tresponse.setContentType('application/json');\n\tvar util = new LifeCycleUtil();\n\tvar table = util.getParamAsString('table');\n\tvar stage = util.getParamAsString('life_cycle_stage');\n\tvar result = {};\n\tresult.life_cycle_stage = [];\n\tvar mapObj = {};\n\tvar pushedStatus = {};\n\t\n\tvar gr = new GlideRecord('life_cycle_control');\n\tif (table) {\n\t\tvar tables = util.getParents(table);\n\t\ttables.push(table);\n\t\tgr.addEncodedQuery('table.nameIN' + tables.join());\n\t}\n\tif (stage) {\n\t\tgr.addQuery('life_cycle_stage', stage);\n\t}\n\tgr.query();\n\twhile (gr.next()) {\n\t\tif (!mapObj[gr.life_cycle_stage.sys_id]) {\n\t\t\tmapObj[gr.life_cycle_stage.sys_id] = {};\n\t\t\tmapObj[gr.life_cycle_stage.sys_id].label = gr.getValue('life_cycle_stage');\n\t\t\tmapObj[gr.life_cycle_stage.sys_id].sys_id = gr.life_cycle_stage.sys_id;\n\t\t}\n\t\t\n\t\tvar stageObj = mapObj[gr.life_cycle_stage.sys_id];\n\t\t\n\t\tif (!stageObj.life_cycle_stage_status) {\n\t\t\tstageObj.life_cycle_stage_status = [];\n\t\t}\n\t\tif (!pushedStatus[gr.life_cycle_stage.sys_id]) {\n\t\t\tpushedStatus[gr.life_cycle_stage.sys_id] = [];\n\t\t}\n\t\tif (pushedStatus[gr.life_cycle_stage.sys_id].indexOf(gr.life_cycle_stage_status.sys_id.toString()) < 0) {\n\t\t\tstageObj.life_cycle_stage_status.push({\n\t\t\t\tlabel: gr.getValue('life_cycle_stage_status'),\n\t\t\t\tsys_id: gr.life_cycle_stage_status.sys_id\n\t\t\t});\n\t\t\tpushedStatus[gr.life_cycle_stage.sys_id].push(gr.life_cycle_stage_status.sys_id.toString());\n\t\t}\n\t\t\n\t}\n\t\n\tvar keys = Object.keys(mapObj);\n\tfor (var i = 0; i < keys.length; i++) {\n\t\tresult.life_cycle_stage.push(mapObj[keys[i]]);\n\t}\n\t\n\tresponse.setStatus(200);\n\tresponse.setBody(result);\n\n})(request, response);","sys_updated_on":"2020-02-15 01:49:35","enforce_acl":"2e437e36b7620010ee0d3177ee11a9b8","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f0b3f276b7620010ee0d3177ee11a92b","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/life_cycle_api/value","sys_created_on":"2020-01-28 20:03:32","sys_name":"getAllowedLifeCycleCombinations","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b5617ef2b7620010ee0d3177ee11a9cc","value":"b5617ef2b7620010ee0d3177ee11a9cc"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"11","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_ws_operation_f0b3f276b7620010ee0d3177ee11a92b","consumes_customized":"false","name":"getAllowedLifeCycleCombinations","produces":"application/json,application/xml,text/xml","relative_path":"/value","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var scope = request.queryParams.scope;\n\t\n\tvar dataItems = readDataItems(scope);\n\t\n\tsetParametarizedFlag(dataItems);\n\tsetTableDisplayNames(dataItems);\n\t\n\treturn dataItems;\n\t\n\tfunction readDataItems(scope) {\n\t\tvar dataItemsGR = new GlideRecord('sys_sg_data_item');\n\t\tdataItemsGR.addQuery('sys_scope', scope);\n\t\tdataItemsGR.query();\n\n\t\tvar dataItems = [];\n\n\t\twhile (dataItemsGR.next()) {\n\t\t\tdataItems.push({\n\t\t\t\tsysId: dataItemsGR.getUniqueValue(),\n\t\t\t\tname: dataItemsGR.getValue('name'),\n\t\t\t\ttable: dataItemsGR.getValue('table'),\n\t\t\t\tdescription: dataItemsGR.getValue('description'),\n\t\t\t\tgroupBy: dataItemsGR.getValue('group_by'),\n\t\t\t\tqueryCondition: dataItemsGR.getValue('query_condition'),\n\t\t\t\tqueryConditionScript: dataItemsGR.getValue('query_condition_script'),\n\t\t\t\tconditionType: dataItemsGR.getValue('condition_type'),\n\t\t\t\thasParameters: false\n\t\t\t});\n\t\t}\n\t\t\n\t\treturn dataItems;\n\t}\n\t\n\tfunction setParametarizedFlag(dataItems) {\n\t\tvar dataItemIDs = dataItems.map(function(dataItem) {\n\t\t\treturn dataItem.sysId;\n\t\t});\n\t\n\t\t// Set hasParameters on data items\n\t\tvar allDIParamsGR = new GlideRecord('sys_sg_item_parameter');\n\t\tallDIParamsGR.addQuery('parent_table', 'sys_sg_data_item');\n\t\tallDIParamsGR.addQuery('parent', 'IN', dataItemIDs.join(','));\n\t\tallDIParamsGR.query();\n\n\t\tvar alreadyMarked = {};\n\t\twhile (allDIParamsGR.next()) {\n\t\t\tvar dataItemId = allDIParamsGR.getValue('parent');\n\n\t\t\tif (alreadyMarked[dataItemId]) continue;\n\t\t\talreadyMarked[dataItemId] = true;\n\n\t\t\tsetDataItemAsParametarized(dataItems, dataItemId);\n\t\t}\n\t}\n\t\n\tfunction setDataItemAsParametarized(dataItems, dataItemId) {\n\t\tfor (var i = 0; i < dataItems.length; i++) {\n\t\t\tif (dataItems[i].sysId == dataItemId) {\n\t\t\t\tdataItems[i].hasParameters = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction setTableDisplayNames(dataItems) {\n\t\tvar distinctTableNamesObj = dataItems.reduce(function(obj, dataItem) {\n\t\t\tobj[dataItem.table] = true;\n\t\t\treturn obj;\n\t\t}, {});\n\t\t\n\t\tvar gr = new GlideRecord('sys_db_object');\n\t\tgr.addQuery('name', 'IN', Object.keys(distinctTableNamesObj).join(','));\n\t\tgr.query();\n\t\t\n\t\twhile (gr.next()) {\n\t\t\tvar name = gr.getValue('name');\n\t\t\tvar label = gr.getValue('label');\n\t\t\t\n\t\t\tdataItems.forEach(function(dataItem) {\n\t\t\t\tif (dataItem.table == name) {\n\t\t\t\t\tdataItem.tableDisplayName = label;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\t\n})(request, response);","sys_updated_on":"2024-01-16 20:56:40","enforce_acl":"3d3fbc35532033004205ddeeff7b129f","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f1164d9773732300d396c8168bf6a7d6","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/mobile_studio/get_data_items","sys_created_on":"2019-02-28 11:59:12","sys_name":"Get Data Items","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/e36b1b75538223004205ddeeff7b123c","value":"e36b1b75538223004205ddeeff7b123c"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/75d42bbf04312210559073c06a02f78d","value":"75d42bbf04312210559073c06a02f78d"},"sys_update_name":"sys_ws_operation_f1164d9773732300d396c8168bf6a7d6","consumes_customized":"false","name":"Get Data Items","produces":"application/json,application/xml,text/xml","relative_path":"/get_data_items","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // implement resource here\n\tvar cart = new sn_sc.CartJS();\n\treturn cart.checkoutSummary();\n\n})(request, response);","sys_updated_on":"2016-02-05 09:47:30","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"f1447390db10120064301150f0b8f5bf","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/cart","sys_created_on":"2015-12-09 12:22:11","sys_name":"Default Cart Contents","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_f1447390db10120064301150f0b8f5bf","consumes_customized":"false","name":"Default Cart Contents","produces":"application/json,application/xml,text/xml","relative_path":"/cart","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/cart","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar rotaSysId = request.body.data.rota_sys_id + \"\";\n\tif (!rotaSysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Rota id not provided\");\n\n\tvar rotaGr = new GlideRecord(\"cmn_rota\");\n\tif (rotaGr.get(rotaSysId)) {\n\t\t// only group managers and rota admin can delete the rota.\n\t\tif (new OnCallSecurityNG().rotaMgrAccess(rotaGr.group + \"\"))\n\t\t\trotaGr.deleteRecord();\n\t\telse\n\t\t\treturn getSecurityConstraintError();\n\t}\n\n\tfunction getSecurityConstraintError() {\n\t\tvar respError = new sn_ws_err.ServiceError();\n\t\trespError.setStatus(403);\n\t\trespError.setMessage(\"Security constraints prevent this operation\");\n\t\treturn respError;\n\t}\n\n\treturn;\n\n})(request, response);","sys_updated_on":"2019-03-20 08:31:02","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f146c3af73832300cbb654eb7df6a7fa","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/creation_wizard/deleteShift","sys_created_on":"2019-01-23 09:34:04","sys_name":"deleteShift","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"6","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_f146c3af73832300cbb654eb7df6a7fa","consumes_customized":"false","name":"deleteShift","produces":"application/json,application/xml,text/xml","relative_path":"/creation_wizard/deleteShift","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar payloads = request.body.data;\n\n\tvar ServiceGenerator = new CreateOrUpdateITService();\n\ttry{\n\t\tServiceGenerator.updateDynamicNumberOfLevels(payloads.serviceId, payloads.levels);\n\t\tresponse.setContentType('application/json');\n\t\tresponse.setStatus(200);\n\t} catch(err){\n\t\tvar exp = new sn_ws_err.BadRequestError(err);\n\t\tresponse.setError(exp);\n\t}\n})(request, response);","sys_updated_on":"2024-02-26 12:28:41","enforce_acl":"a36f6b459f73320089c25ecec32e705e","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f1470d29c36210100bb24dafea40ddad","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/cmdb/app_service/updateDynamicNumberOfLevels","sys_created_on":"2020-08-10 10:50:05","sys_name":"UpdateDynamicNumberOfLevels","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/565abf20c39413003e76741e81d3ae48","value":"565abf20c39413003e76741e81d3ae48"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_f1470d29c36210100bb24dafea40ddad","consumes_customized":"false","name":"UpdateDynamicNumberOfLevels","produces":"application/json,application/xml,text/xml","relative_path":"/app_service/updateDynamicNumberOfLevels","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var TABLES = {\n        INCIDENT: \"incident\",\n        CHANGE: \"change_request\"\n    };\n\t\n    var LINK_FIELD = 'caused_by';\n\n    if (!gs.hasRole('itil,sn_incident_write'))\n        return response.setBody({\n            succeed: false,\n            message: gs.getMessage(\"Roles are insufficient to perform the action\")\n        });\n\n    /**\n     * isAgentAssist: to indicate whether this is REST call is from Agent Assist\n     * actionId: search UI Action's unique ID\n     * incidentId: sys_id of Incident record which has search term\n     * changeId: sys_id of Change Request record which is the search result\n     */\n\n    var isAgentAssist = request.body.data.isAgentAssist;\n    var actionId = request.body.data.actionId;\n    var incidentId = request.body.data.currentId;\n    var changeId = request.body.data.resourceId;\n    var body = {};\n    \n    var changeGr = new GlideRecord(TABLES.CHANGE);\n    if (!changeGr.get(changeId))\n        return response.setBody({\n            succeed: false,\n            message: gs.getMessage(\"Invalid Change Request record\")\n        });\n    \n    if (isAgentAssist) {\n        body.succeed = true;\n        body.actionId = request.body.data.actionId;\n        body.resourceRecord = {};\n        body.resourceRecord.sys_id = changeId;\n        body.resourceRecord.number = changeGr.number;\n        body.linkField = LINK_FIELD;\n        body.modalTitle = gs.getMessage('Link to incident');\n\tbody.confirmationMessage = gs.getMessage('You are linking the current {0} as Caused by Change to {1}');\n\tbody.successMessage = gs.getMessage('{0} has been linked as Caused by change to {1}.');\n        response.setBody(body);\n        return;\n    }\n\n    var incidentGr = new GlideRecord(TABLES.INCIDENT);\n    if (!incidentGr.get(incidentId))\n        return response.setBody({\n            succeed: false,\n            message: gs.getMessage(\"Invalid Incident record\")\n        });\n\n    incidentGr.setValue(LINK_FIELD, changeGr.getUniqueValue());\n    var result = incidentGr.update();\n\n    /**\n     * action_id (mandatory): search UI Action's unique ID, AS/AI will use it to determine how to handle result\n     * item_id (optional): \"table_name:record_id\", having this tells AS/AI to refresh child record's UI Action list due to link action's change on child record\n     * succeed (mandatory): indicates link action is successfully done or not\n     * message (optional): shows on top of the form after action is performed\n     */\n\n    body.action_id = actionId;\n    body.item_id = TABLES.INCIDENT + \":\" + incidentGr.getUniqueValue();\n    if (!result) {\n        body.succeed = false;\n        body.message = gs.getMessage('Updating \"Caused by Change\" field on {0} has failed', incidentGr.getDisplayValue());\n    } else {\n        body.succeed = true;\n        body.message = gs.getMessage('{0} has been linked as Caused by change to {1}.', [changeGr.getDisplayValue(), incidentGr.getDisplayValue()]);\n    }\n    response.setBody(body);\n\n\n})(request, response);","sys_updated_on":"2024-01-02 14:19:42","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f187e32253a033009651ddeeff7b1231","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/cxs_actions/link_inc_to_chg","sys_created_on":"2019-04-04 23:30:20","sys_name":"link_inc_to_chg","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5f387aa0b32023002bf182c136a8dc1c","value":"5f387aa0b32023002bf182c136a8dc1c"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5209e3b704f12210559073c06a02f734","value":"5209e3b704f12210559073c06a02f734"},"sys_update_name":"sys_ws_operation_f187e32253a033009651ddeeff7b1231","consumes_customized":"false","name":"link_inc_to_chg","produces":"application/json,application/xml,text/xml","relative_path":"/link_inc_to_chg","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\ttry {\n\t\treturn new OnCallContactPreferenceUtil().getAllCommunicationTypes();\n\t} catch (e) {\n\t\tif (e.securityError) {\n\t\t\tvar body = {\n\t\t\t\terror: {\n\t\t\t\t\tmessage: e.message\n\t\t\t\t}\n\t\t\t};\n\t\t\tresponse.setBody(body);\n\t\t\tresponse.setStatus(403);\n\t\t}\n\t\telse {\n\t\t\treturn new sn_ws_err.BadRequestError(e.message);\n\t\t}\n\t}\n})(request, response);","sys_updated_on":"2019-04-10 10:37:43","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f1b1ba44b7343300e11bc556ee11a963","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/contact_preferences/comm_types","sys_created_on":"2019-04-09 10:32:43","sys_name":"getAllCommunicationTypes","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_f1b1ba44b7343300e11bc556ee11a963","consumes_customized":"false","name":"getAllCommunicationTypes","produces":"application/json,application/xml,text/xml","relative_path":"/contact_preferences/comm_types","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Get Client Scripts for a catalog item","sys_updated_on":"2017-06-21 10:05:49","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"f1e4f4e767b30200d22b794717415aee","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/items/{sys_id}/client_scripts","sys_created_on":"2015-11-24 04:17:36","sys_name":"Catalog Client Script","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"14","active":"false","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_f1e4f4e767b30200d22b794717415aee","consumes_customized":"false","name":"Catalog Client Script","produces":"application/json,application/xml,text/xml","relative_path":"/items/{sys_id}/client_scripts","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/items/{sys_id}/client_scripts","sys_policy":"protected"},{"short_description":"Gets a specific screen record","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\n    const apiHelper = new APIHelper(request, response);\n    apiHelper.execute(function() {\n        const sysId = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.SYS_ID);\n        const elementId = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.ELEMENT_ID);\n        const includeRelatedRecords = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.INCLUDE_RELATED_RECORDS);\n\n        // Element ID being present comes from site-map\n        const includeDisplay = elementId ? true : false;\n        const screenFields = elementId ? 'sys_id,name,macroponent,screen_type'.split(',') : false;\n        const screenHandler = new Screen(screenFields, apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.NO_DOMAIN), includeDisplay);\n        const bundleExtensionsHandler = new BundleExtensions();\n\n        \n        \n\n        // This is called by sn-ui-builder to fetch screen and related things\n        if (includeRelatedRecords) {\n            const {\n                screen,\n                screenTestValues,\n                contextState,\n                eventDefinitions\n            } = screenHandler.getScreenAndRelatedRecords(sysId);\n            const bundleExtensions = bundleExtensionsHandler.getBundleExtensions(screen);\n         \n\t\t\t\n            apiHelper.getResponse({\n                screen,\n                bundleExtensions,\n                screenTestValues,\n                contextState,\n                eventDefinitions\n            }, BuilderToolkitConstants.ERRORS.NO_SCREEN_FOUND);\n        } else {\n            const screen = elementId ? screenHandler.getSubrouteByElementID(sysId, elementId) : screenHandler.getRecordById(sysId);\n            apiHelper.getResponse(screen, BuilderToolkitConstants.ERRORS.NO_SCREEN_FOUND);\n        }\n    });\n\n})(request, response);","sys_updated_on":"2024-08-05 04:48:58","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f1e8c02c39bb9110f877f50b0c4d7ab4","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/screen","sys_created_on":"2022-12-12 15:45:33","sys_name":"Screen","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"62","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_f1e8c02c39bb9110f877f50b0c4d7ab4","consumes_customized":"false","name":"Screen","produces":"application/json,application/xml,text/xml","relative_path":"/screen","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    /**\n\t * Retrieves SYS_APP records that are Fluent Apps\n\t */\n\ttry {\n\t\tvar fluentApplications = sn_glider.FluentApplicationList.getApplications();\n\t\t// Partially simulating \"/api/now/ui/concoursepicker/concourselist\"\n\t\tresponse.setBody({\n\t\t\tavailableApplications: fluentApplications\n\t\t});\n\t\treturn response.setStatus(200);\n\t} catch (e) {\n\t\tvar errorMessage = '[IDE] Failed to retrieve Fluent applications list';\n\t\tgs.error(errorMessage, e);\n\t\tresponse.setStatus(500);\n\t\treturn response.setError(e);\n\t}\n\n})(request, response);","sys_updated_on":"2024-05-16 17:53:14","enforce_acl":"cf9d01d3e73003009d6247e603f6a990,e5a82348a3da8210281012af141e614e","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f224d91fa3060210281012af141e61c0","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_glider/fluent_applications_list","sys_created_on":"2024-05-13 23:01:33","sys_name":"Get Fluent Applications","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/fd254d9443a161100967247e6bb8f200","value":"fd254d9443a161100967247e6bb8f200"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/88921d9ba3060210281012af141e61ee","value":"88921d9ba3060210281012af141e61ee"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"12","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fd254d9443a161100967247e6bb8f200","value":"fd254d9443a161100967247e6bb8f200"},"sys_update_name":"sys_ws_operation_f224d91fa3060210281012af141e61c0","consumes_customized":"false","name":"Get Fluent Applications","produces":"application/json,application/xml,text/xml","relative_path":"/","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar input = request.body.data;\n\t\n    var sysIds = input.sysIds;\n    var action = input.action;\n\tvar userComment = input.userComment; \n\tvar taskSysId = input.taskSysId;\n\tvar currentAttestationStatus = input.currentAttestationStatus;\n\tvar allRecordsSelected = input.allRecordsSelected;\n\tvar excludedSysIds = input.excludedSysIds;\n\tvar selectionCount = input.selectionCount || 0;\n\t\n\tvar attestationUtil = new sn_cmdb_ws.CMDBAttestationUtil();\n\t\n    if (!allRecordsSelected && (!sysIds || sysIds.length < 1)) {\n        return attestationUtil._ERROR_MESSAGES.INVALID_INPUT;\n    }\n\n    var availableActions = ['attest','unattest','reject','duplicate','exclude'];\n\n    if (availableActions.indexOf(action) == -1) {\n        return attestationUtil._ERROR_MESSAGES.INVALID_ACTION;\n    }\n\t\n\tif(!attestationUtil.isTaskAssignedToCurrentUser(taskSysId)) {\n\t\treturn attestationUtil._ERROR_MESSAGES.UNAUTHORIZED;\n\t}\n\n\tvar result;\n\tif(action == 'duplicate') {\n\t\tresult = attestationUtil.removeDuplicates(taskSysId, sysIds, action, userComment, allRecordsSelected, currentAttestationStatus, excludedSysIds);\n\t} else if(action == 'exclude') {\n\t\tresult = attestationUtil.excludeCis(taskSysId, sysIds, action, userComment, allRecordsSelected, currentAttestationStatus, excludedSysIds);\n\t} else {\n\t\tif (selectionCount > attestationUtil.UI_DEFAULT_LIMIT.ATTEST_RECORDS) {\n\t\t\tvar progressId = new sn_cmdb_ws.CMDBWsProgressMonitorUtil().createProgress(taskSysId);\n\t\t\tgs.eventQueue(attestationUtil.NOTIFICATION_EVENTS.ATTESTATION_ACTION_ASYNC, null, progressId, JSON.stringify({\n\t\t\t\ttaskSysId: taskSysId,\n\t\t\t\tsysIds: sysIds,\n\t\t\t\taction: action,\n\t\t\t\tuserComment: userComment,\n\t\t\t\tallRecordsSelected: allRecordsSelected,\n\t\t\t\tcurrentAttestationStatus: currentAttestationStatus,\n\t\t\t\texcludedSysIds: excludedSysIds,\n\t\t\t\tprogressId: progressId\n\t\t\t}));\n\t\t\tresult = {\n\t\t\t\tprogressId: progressId\n\t\t\t};\n\t\t} else {\n\t\t\tresult = attestationUtil.performAttestationAction(taskSysId, sysIds, action, userComment, allRecordsSelected, currentAttestationStatus, excludedSysIds, progressId);\n\t\t}\n\t}\n\n\tresponse.setBody(result);\n\n})(request, response);","sys_updated_on":"2024-07-01 08:54:28","enforce_acl":"39a22ab60735011017b703767cd30036","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f24f2f66b713011094bb21208e11a9a0","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_cmdb_ws/cmdb_workspace_api_scoped/attestation/action","sys_created_on":"2022-05-09 20:59:39","sys_name":"Perform selected action for selected CIs","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3ff417b78f3f2010960c53ac37bdeefb","value":"3ff417b78f3f2010960c53ac37bdeefb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_update_name":"sys_ws_operation_f24f2f66b713011094bb21208e11a9a0","consumes_customized":"false","name":"Perform selected action for selected CIs","produces":"application/json,application/xml,text/xml","relative_path":"/attestation/action","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Gets all controller definitions","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    const apiHelper = new APIHelper(request, response);\n    apiHelper.execute(function() {\n        const controllerSysIds = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.SYS_IDS, null);\n        if (controllerSysIds) {\n            const {\n                controllerDefinitions,\n                dataBrokerDefinitions,\n                eventDefinitions\n            } = new Controller().getControllersAndDataBrokers(controllerSysIds);\n            apiHelper.respondSuccesfully({\n                    controllerDefinitions,\n                    dataBrokerDefinitions,\n                    eventDefinitions,\n                },\n                controllerDefinitions === {} ? 204 : 200\n            );\n        } else {\n            const controllerDefinitions = new Controller(['name', 'description', 'sys_scope']).getBasicDetails();\n            apiHelper.respondSuccesfully({\n                    controllerDefinitions,\n                    dataBrokerDefinitions: {},\n                    eventDefinitions: [],\n                },\n                controllerDefinitions === {} ? 204 : 200\n            );\n        }\n    });\n\n})(request, response);","sys_updated_on":"2023-05-26 18:19:23","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f253fc1143071110e70583020cb8f27a","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/controllers","sys_created_on":"2022-11-07 20:01:55","sys_name":"Controllers","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"9","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_f253fc1143071110e70583020cb8f27a","consumes_customized":"false","name":"Controllers","produces":"application/json,application/xml,text/xml","relative_path":"/controllers","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n      var viewConfig = request.body.data.viewConfig;\n      var scope = request.body.data.scope;\n\n      var viewConfigRepo = new sn_mobile_card_bui.ViewConfigRepository();\n      var newViewConfig = viewConfigRepo.save(viewConfig, scope);\n      var newViewConfigSysId = newViewConfig.getUniqueValue();\n\n      var formatName = \"viewConfigFormat\";\n      var formatList = new sn_mobile_card_bui.McbResultFormats();\n      var format = formatList.getFormat(formatName);\n\n      var util = new sn_mobile_card_bui.McbGlideRecordUtil(format);\n      var viewConfigHM = util.getCard(newViewConfigSysId);\n\n      return viewConfigHM;\n    })(request, response);\n    ","sys_updated_on":"2024-02-27 07:41:45","enforce_acl":"cf9d01d3e73003009d6247e603f6a990,d7088c08b751211095411226de11a9e9","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f2b96e4debe04210bd5afd0052522809","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/mcb/view_config","sys_created_on":"2024-02-23 07:22:32","sys_name":"View Config - Post","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/63d8b7c573c51010a59b4c5353f6a737","value":"63d8b7c573c51010a59b4c5353f6a737"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/012fa9ad7367ad6393ae5dea97af6f65","value":"012fa9ad7367ad6393ae5dea97af6f65"},"sys_update_name":"sys_ws_operation_f2b96e4debe04210bd5afd0052522809","consumes_customized":"false","name":"View Config - Post","produces":"application/json,application/xml,text/xml","relative_path":"/view_config","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tresponse.setContentType('application/json');\n\tvar result = {};\n\tvar helper = new CSDMAppServiceHelper();\n\tvar requestBody = request.body;\n\tvar requestData = requestBody.data; \n\t\n\tvar serviceId = '';\n\t\n\tif(JSUtil.nil(requestData.service_details.basic_details)) {\n\t\tvar missingDetailsError = new sn_ws_err.ServiceError();\n\t\tmissingDetailsError.setStatus(500);\n\t\tmissingDetailsError.setMessage(\"Failed to create service\");\n\t\tmissingDetailsError.setDetail(\"Can not create service without enough details.\");\n\t\tresponse.setError(missingDetailsError);\n\t\treturn;\n\t}\n\t\t\n\tvar validationResult = '';\n\tvalidationResult = helper.alreadyExists(requestData.service_details.basic_details);\n\n\tif(JSUtil.notNil(validationResult)) {\n\t\tvar validationError = new sn_ws_err.ServiceError();\n\t\tvalidationError.already_exists = true;\n\t\tvalidationError.setStatus(400);\n\t\tvalidationError.setMessage(validationResult.error);\n\t\tvalidationError.setDetail(\"Validation failed\");\n\t\tresponse.setError(validationError);\n\t\treturn;\n\t}\n\n\tserviceId = helper.createApplicationService(requestData.service_details);\n\t\n\tif(JSUtil.nil(serviceId) || serviceId.error) {\n\t\tvar serviceCreationError = new sn_ws_err.ServiceError();\n\t\tserviceCreationError.setStatus(JSUtil.notNil(serviceId.statusCode) ? serviceId.statusCode : 500);\n\t\tserviceCreationError.setMessage(\"Failed to create service\");\n\t\tif (JSUtil.notNil(serviceId.error)) {\n\t\t\tserviceCreationError.setMessage(serviceId.error);\n\t\t\tserviceCreationError.setDetail(\"Validation failed\");\n\t\t}\n\n\t\tresponse.setError(serviceCreationError);\n\t\treturn;\n\t}\n\t\t\n\trequestData.service_details.sys_id = serviceId;\n\t\n\thelper.createCSDMRelationships(serviceId, requestData.service_details.relationships);\n\tif(!JSUtil.nil(requestData.service_details.info_request_data)){\n\t\tresult.info_request_id = helper.createAppServiceInfoRequest(requestData.service_details.info_request_data.assigned_to, serviceId, requestData.service_details.info_request_data.details);\n\t}\n\tresult.service_id = serviceId;\n\t\n\tresponse.setStatus(200);\n\tresponse.setBody(result);\n\n})(request, response);","sys_updated_on":"2020-12-14 23:03:36","enforce_acl":"2006673c53770010ee0dddeeff7b127d","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f2f135d973c30010ee4dd3c72bf6a767","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/csdm_app_service/create_app_service","sys_created_on":"2020-02-17 19:49:14","sys_name":"Create Application Service","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/60c171d973c30010ee4dd3c72bf6a716","value":"60c171d973c30010ee4dd3c72bf6a716"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"27","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2f8d67ff04352210559073c06a02f74f","value":"2f8d67ff04352210559073c06a02f74f"},"sys_update_name":"sys_ws_operation_f2f135d973c30010ee4dd3c72bf6a767","consumes_customized":"false","name":"Create Application Service","produces":"application/json,application/xml,text/xml","relative_path":"/create_app_service","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var solution_id = decodeURI(request.pathParams.solution_id);\n\tif (solution_id) {\n\t\tvar queryParams = request.queryParams;\n\t\tvar result = [];\n\t\treturn new mlRegressionSolutionStats().getStatsData(solution_id);\n\t} else {\n\t\treturn sn_ws_err.BadRequestError(\"Solution id not present\");\n\t}\n\n})(request, response);","sys_updated_on":"2022-02-10 08:08:58","enforce_acl":"aa527b0a53210110b6acddeeff7b12f2","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/456b8f4553103300d1dcddeeff7b12ac","value":"456b8f4553103300d1dcddeeff7b12ac"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f2fc9977b7030010399e93b5de11a91f","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_ml_ui/v1/ml_ui/getregressionstats/{solution_id}","sys_created_on":"2020-02-25 12:33:51","sys_name":"getRegressionStats","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/21f30bcdb7d03300d1dcf8b8ee11a9eb","value":"21f30bcdb7d03300d1dcf8b8ee11a9eb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/c6facb4553103300d1dcddeeff7b1287","value":"c6facb4553103300d1dcddeeff7b1287"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/21f30bcdb7d03300d1dcf8b8ee11a9eb","value":"21f30bcdb7d03300d1dcf8b8ee11a9eb"},"sys_update_name":"sys_ws_operation_f2fc9977b7030010399e93b5de11a91f","consumes_customized":"false","name":"getRegressionStats","produces":"application/json,application/xml,text/xml","relative_path":"/getregressionstats/{solution_id}","produces_customized":"false","default_operation_uri":"/api/sn_ml_ui/ml_ui/getregressionstats/{solution_id}","sys_policy":""},{"short_description":"Gets a sys_id for a new event record (or an existing sys_id in the same scope)","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    const apiHelper = new APIHelper(request, response);\n    apiHelper.execute(function() {\n        const sysId = apiHelper.getQueryParam(BuilderToolkitConstants.QUERY_PARAM.SYS_ID, null);\n        const event = new UXEvent().getRecordById(sysId);\n        apiHelper.getResponse({\n            event\n        });\n    });\n\n})(request, response);","sys_updated_on":"2024-01-17 18:11:34","enforce_acl":"200870d9533000102f86ddeeff7b129b,cc8bdf2253032010bb24ddeeff7b1239","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f303e31d517b1110f877ae4342936d3c","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_uibtk_api/buildertoolkit/event","sys_created_on":"2022-12-15 15:37:54","sys_name":"Event","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/474b404710361110f87795d93c60dd8e","value":"474b404710361110f87795d93c60dd8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cdfd3bed43321110e70583020cb8f28e","value":"cdfd3bed43321110e70583020cb8f28e"},"sys_update_name":"sys_ws_operation_f303e31d517b1110f877ae4342936d3c","consumes_customized":"false","name":"Event","produces":"application/json,application/xml,text/xml","relative_path":"/event","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    let result = getUsers();\n    response.setContentType('application/json');\n    response.setStatus(200);\n    response.setBody(result);\n\n    function getUsers() {\n\t\tlet users = [];\n\n\t\tconst userGr = new GlideRecord('sys_user');\n\t\tuserGr.orderBy('name');\n\t\tuserGr.query();\n\t\twhile (userGr.next())\n\t\t\tusers.push({\n\t\t\t\tid: userGr.getValue('user_name'),\n\t\t\t\tlabel: userGr.name.getDisplayValue(),\n\t\t\t\tsublabel: userGr.getValue('user_name')\n\t\t\t});\n\n\t\treturn { users: users };\n\t}\n\n})(request, response);","sys_updated_on":"2023-06-26 22:50:23","enforce_acl":"26a1cf2b4fa3611038e26c01b1ce0bac","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f31d207e5321211010baddeeff7b12f5","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_config_hub/configuration_hub_api/users","sys_created_on":"2023-03-16 18:50:41","sys_name":"Get Users","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/2028fe718b11c8f32122c6da3b496a83","value":"2028fe718b11c8f32122c6da3b496a83"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/d68a7cb5eb9221109cfedf3c03522847","value":"d68a7cb5eb9221109cfedf3c03522847"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2028fe718b11c8f32122c6da3b496a83","value":"2028fe718b11c8f32122c6da3b496a83"},"sys_update_name":"sys_ws_operation_f31d207e5321211010baddeeff7b12f5","consumes_customized":"false","name":"Get Users","produces":"application/json,application/xml,text/xml","relative_path":"/users","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","sys_updated_on":"2017-03-09 23:01:51","enforce_acl":"b5ca561bb3113200715ca943c6a8dca8","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f36950456710320097eeff5557415acf","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_bm_client/benchmark_client_api/activateIndicators","sys_created_on":"2017-01-11 20:44:31","sys_name":"activateIndicators","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/986214c16710320097eeff5557415a89","value":"986214c16710320097eeff5557415a89"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_update_name":"sys_ws_operation_f36950456710320097eeff5557415acf","consumes_customized":"false","name":"activateIndicators","produces":"application/json,application/xml,text/xml","relative_path":"/activateIndicators","produces_customized":"false","default_operation_uri":"","sys_policy":"protected"},{"short_description":"","operation_script":"(function process(request, response) {\n    response.setContentType('application/json');\n    var result = {};\n\n    result.policy_count = new CMDBDataManagerHelper().getPolicyCountPerState();\n\n    response.setStatus(200);\n    response.setBody(result);\n\t\n})(request, response);","sys_updated_on":"2021-03-23 23:33:18","enforce_acl":"885bc51053832010af64ddeeff7b12cb","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f384d4d4771220108043270bba106175","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/ci_lifecycle_manager/policy_count","sys_created_on":"2021-02-08 19:59:30","sys_name":"Get Policy Count Per Policy State","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ad9ebe127322101045cadfcd3bf6a735","value":"ad9ebe127322101045cadfcd3bf6a735"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"20","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/0efd277304752210559073c06a02f7ea","value":"0efd277304752210559073c06a02f7ea"},"sys_update_name":"sys_ws_operation_f384d4d4771220108043270bba106175","consumes_customized":"false","name":"Get Policy Count Per Policy State","produces":"application/json,application/xml,text/xml","relative_path":"/policy_count","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var lazyLoadEnable = gs.getProperty('glide.email.dashboard.table_and_notification_table.lazy_load', \"true\");\n    var notificationDashboard = new NotificationDashboard();\n    if (lazyLoadEnable == \"true\") {\n        response.setBody(notificationDashboard.getTopTables(request.body.data));\n    } else {\n        response.setBody(notificationDashboard.getTopTablesAndNotifications(request.body.data));\n    }\n\n})(request, response);","sys_updated_on":"2024-09-26 13:40:25","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f3c0d038fffc1e10ac42fbd38c4fd9e2","http_method":"POST","sys_updated_by":"rajesh.tatikonda@snc","operation_uri":"/api/snc/notification_dashboard/notifications/email/top/tables_and_its_notification","sys_created_on":"2024-09-19 16:36:53","sys_name":"TopTablesAndNotifications","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"rajesh.tatikonda@snc","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/a5ea2ec8ffec5a10ac42fbd38c4fd9fb","value":"a5ea2ec8ffec5a10ac42fbd38c4fd9fb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fa85f980ff6c5a10ac42fbd38c4fd9bd","value":"fa85f980ff6c5a10ac42fbd38c4fd9bd"},"sys_update_name":"sys_ws_operation_f3c0d038fffc1e10ac42fbd38c4fd9e2","consumes_customized":"false","name":"TopTablesAndNotifications","produces":"application/json,application/xml,text/xml","relative_path":"/notifications/email/top/tables_and_its_notification","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"Creates a record that holds metadata relating to an App Engine Studio app.","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        var appSysId = request.pathParams.application_sys_id;\n        var appDetailsSysId = AppDetailsService.createAppDetails(appSysId, request.body.data);\n    } catch (exception) {\n        switch (exception) {\n            case CreatorStudioConstants.errors.APPLICATION_DOES_NOT_EXIST:\n                throw new sn_ws_err.ServiceError()\n                    .setStatus(404)\n                    .setMessage(gs.getMessageLang(\"Application does not exist.\", \"en\"))\n                    .setDetail(gs.getMessage(\"Application does not exist.\"));\n            case CreatorStudioConstants.errors.APPLICATION_ACCESS_DENIED:\n                throw new sn_ws_err.ServiceError()\n                    .setStatus(403)\n                    .setMessage(gs.getMessageLang(\"Access denied to application.\", \"en\"))\n                    .setDetail(gs.getMessage(\"Access denied to application.\"));\n            case CreatorStudioConstants.errors.IMPROPER_FORMAT:\n                throw new sn_ws_err.ServiceError()\n                    .setStatus(500)\n                    .setMessage(gs.getMessageLang(\"Operations must be an array.\", \"en\"))\n                    .setDetail(gs.getMessage(\"Operations must be an array.\"));\n            case CreatorStudioConstants.errors.INSERT_FAILURE:\n                throw new sn_ws_err.ServiceError()\n                    .setStatus(500)\n                    .setMessage(gs.getMessageLang(\"Failed to insert sn_app_eng_studio_app_metadata record.\", \"en\"))\n                    .setDetail(gs.getMessage(\"Failed to insert sn_app_eng_studio_app_metadata record.\"));\n            default:\n                throw new sn_ws_err.ServiceError()\n                    .setStatus(500)\n                    .setMessage(gs.getMessageLang(\"Unhandled exception {0}\", \"en\", exception))\n                    .setDetail(gs.getMessage(\"Unhandled exception {0}\", exception));\n        }\n    }\n\n    response.setBody({\n        details: appDetailsSysId,\n        app_sys_id: appSysId\n    });\n    response.setStatus(201);\n})(request, response);","sys_updated_on":"2021-04-26 20:15:17","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/eff91f2c7700001001fb4311a8106131","value":"eff91f2c7700001001fb4311a8106131"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f41aa2c3b7321010835d6f54ce11a929","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_app_eng_studio/v1/applications/{application_sys_id}/details","sys_created_on":"2020-08-27 20:19:03","sys_name":"POST App Details","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/4c41d3287700001001fb4311a81061ae","value":"4c41d3287700001001fb4311a81061ae"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"30","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e046257545b47c84712b8779a9abd0cb","value":"e046257545b47c84712b8779a9abd0cb"},"sys_update_name":"sys_ws_operation_f41aa2c3b7321010835d6f54ce11a929","consumes_customized":"false","name":"POST App Details","produces":"application/json,application/xml,text/xml","relative_path":"/{application_sys_id}/details","produces_customized":"false","default_operation_uri":"/api/sn_app_eng_studio/applications/{application_sys_id}/details","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var appId = request.pathParams.appId;\n    var appManagementData = AppManagementDataUtil.getCurrentUserData(appId);\n\n    response.setBody(appManagementData);\n    response.setStatus(200);\n\n})(request, response);","sys_updated_on":"2021-06-21 22:56:11","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/556bf461c3c8b01085c091294440dd7c","value":"556bf461c3c8b01085c091294440dd7c"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f4219d03c3703010a9f5e548fa40dd94","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_collab_request/v1/application_permissions/management_data/apps/{appId}","sys_created_on":"2021-06-21 19:59:37","sys_name":"Management Data","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/afc92814c300301085c091294440ddf2","value":"afc92814c300301085c091294440ddf2"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f6ad5d41c3222010a9f5e548fa40dd69","value":"f6ad5d41c3222010a9f5e548fa40dd69"},"sys_update_name":"sys_ws_operation_f4219d03c3703010a9f5e548fa40dd94","consumes_customized":"false","name":"Management Data","produces":"application/json,application/xml,text/xml","relative_path":"/management_data/apps/{appId}","produces_customized":"false","default_operation_uri":"/api/sn_collab_request/application_permissions/management_data/apps/{appId}","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var selectedOptions = request.body.data.selectedOptions;\n\tvar setupType = request.body.data.setupType;\n\n    var guidedSetupSubmitSurvey = new sn_ci_gs_content.GuidedSetupSubmitSurvey();\n    return guidedSetupSubmitSurvey.saveSurvey(request.pathParams.guidedSetupId, selectedOptions, setupType);\n\n})(request, response);","sys_updated_on":"2023-06-05 12:26:22","enforce_acl":"15ecc6e9c33a51104b8e88c7c840dd2b","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f47f369053631010af5addeeff7b1236","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_ci_gs_content/guided_setup_config_api/save_survey/{guidedSetupId}","sys_created_on":"2020-09-25 15:24:42","sys_name":"Save Survey","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/30f13c8d53521010af5addeeff7b121d","value":"30f13c8d53521010af5addeeff7b121d"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/cac9a47253221010af5addeeff7b122a","value":"cac9a47253221010af5addeeff7b122a"},"consumes":"application/json","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/30f13c8d53521010af5addeeff7b121d","value":"30f13c8d53521010af5addeeff7b121d"},"sys_update_name":"sys_ws_operation_f47f369053631010af5addeeff7b1236","consumes_customized":"false","name":"Save Survey","produces":"application/json","relative_path":"/save_survey/{guidedSetupId}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\t\n\tvar JSUtil = global.JSUtil;\n\n    var groupId = JSUtil.nil(request.queryParams.group_id) ? \"\" : request.queryParams.group_id;\n\tvar rotaId = JSUtil.nil(request.queryParams.rota_id) ? \"\" : request.queryParams.rota_id;\n\tvar escalationSetSysId = JSUtil.nil(request.queryParams.escalation_set_sys_id) ? \"\" : request.queryParams.escalation_set_sys_id;\n\tvar taskTable = JSUtil.nil(request.queryParams.task_table) ? \"\" : request.queryParams.task_table;\n\tvar taskSysId = JSUtil.nil(request.queryParams.task_sys_id) ? \"\" : request.queryParams.task_sys_id;\n\tvar gdt;\n\tif (JSUtil.nil(request.queryParams.start_date))\n\t\tgdt = new GlideDateTime();\n\telse {\n\t\tgdt = new GlideDateTime();\n\t\tgdt.setDisplayValueInternal(request.queryParams.start_date);\n\t}\n\tvar escalationPathUtilSOW = new OCEscalationPathUtilSOW();\n\treturn escalationPathUtilSOW.getOnCallEscalationShift(groupId, rotaId, gdt, escalationSetSysId, taskTable, taskSysId);\n\n})(request, response);","sys_updated_on":"2023-09-16 20:26:55","enforce_acl":"1dbba406eb197110249e8d835d52281f","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f4e8ddfa007bb410f877f4fb60521b21","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sow_on_call/on_call_shifts/escalations","sys_created_on":"2021-11-17 05:15:47","sys_name":"escalations","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/7e3c2481539260100c54ddeeff7b127b","value":"7e3c2481539260100c54ddeeff7b127b"},"sys_created_by":"maint","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/999a9a18536230100999ddeeff7b12a4","value":"999a9a18536230100999ddeeff7b12a4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"22","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/7e3c2481539260100c54ddeeff7b127b","value":"7e3c2481539260100c54ddeeff7b127b"},"sys_update_name":"sys_ws_operation_f4e8ddfa007bb410f877f4fb60521b21","consumes_customized":"false","name":"escalations","produces":"application/json,application/xml,text/xml","relative_path":"/escalations","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var TABLES = {\n        INCIDENT: \"incident\",\n        CHANGE: \"change_request\"\n    };\n\n    var LINK_FIELD = 'caused_by';\n\n    /**\n     * actionId: search UI Action's unique ID\n     * incidentId: sys_id of Incident record which has search term\n     * changeId: sys_id of Change Request record which is the search result\n     * actionStage: to indicate whether this request is sent before or after modal\n     */\n    var actionId = request.body.data.actionId;\n    var incidentId = request.body.data.currentId;\n    var changeId = request.body.data.resourceId;\n    var actionStage = request.body.data.actionStage;\n    var body = {};\n\n    if (actionId.includes('rest'))\n        body.successful = false;\n    else\n        body.succeed = false;\n\n    function addErrorMessage(errorMessage) {\n        if (actionId.includes('rest'))\n            body.errMsg = errorMessage;\n        else\n            body.message = errorMessage;\n    }\n    if (!gs.hasRole('itil,sn_incident_write')) {\n        addErrorMessage(gs.getMessage(\"Roles are insufficient to perform the action\"));\n        return response.setBody(body);\n    }\n\n    var changeGr = new GlideRecord(TABLES.CHANGE);\n    if (!changeGr.get(changeId)) {\n        addErrorMessage(gs.getMessage(\"Invalid Change Request record\"));\n        return response.setBody(body);\n    }\n\n    var incidentGr = new GlideRecord(TABLES.INCIDENT);\n    if (!incidentGr.get(incidentId)) {\n        addErrorMessage(gs.getMessage(\"Invalid Incident record\"));\n        return response.setBody(body);\n    }\n\n    var errMsg = gs.getMessage('Updating \"Caused by Change\" field on {0} has failed', incidentGr.getDisplayValue());\n    var infoMsg = gs.getMessage('{0} has been linked as Caused by change to {1}.', [changeGr.getDisplayValue(), incidentGr.getDisplayValue()]);\n\n    body.action_id = actionId;\n    body.item_id = TABLES.INCIDENT + \":\" + incidentGr.getUniqueValue();\n\n    if (actionId.includes('rest')) {\n        if (actionStage === 'pre_modal') {\n            body.successful = true;\n            body.useModal = true;\n            body.message = infoMsg;\n            body.modalTitle = gs.getMessage('Link to incident');\n            body.resourceRecord = {};\n            body.resourceRecord.sys_id = changeId;\n            body.resourceRecord.number = changeGr.number;\n            body.errMsg = errMsg;\n            body.modalInfoMsg = gs.getMessage('You are linking the current {0} as Caused by Change to {1}', [changeGr.getDisplayValue('number'), incidentGr.getDisplayValue('number')]);\n            body.modalFields = [{\n                label: gs.getMessage('{0} (Private)', incidentGr.work_notes.getLabel()),\n                name: 'work_notes',\n                value: '',\n                fieldType: 'textarea'\n            }, {\n                label: gs.getMessage('{0} (Customer visible)', incidentGr.comments.getLabel()),\n                name: 'comments',\n                value: '',\n                fieldType: 'textarea'\n            }];\n            body.updateCurrentRecord = false;\n            body.postModalRestRequired = true;\n            return response.setBody(body);\n        } else if (actionStage === 'post_modal') {\n            incidentGr.setValue(LINK_FIELD, changeGr.getUniqueValue());\n            if (incidentGr.update()) {\n                body.successful = true;\n                body.useModal = false;\n                body.infoMsg = infoMsg;\n                body.updateCurrentRecord = true;\n            } else {\n                body.errMsg = errMsg;\n            }\n            return response.setBody(body);\n        }\n    }\n    incidentGr.setValue(LINK_FIELD, changeGr.getUniqueValue());\n    if (incidentGr.update()) {\n        body.succeed = true;\n        body.message = infoMsg;\n    } else {\n        body.message = errMsg;\n    }\n    response.setBody(body);\n})(request, response);","sys_updated_on":"2022-03-14 11:37:23","enforce_acl":"c8f5556053120110ae50ddeeff7b1258","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f52d710577300110b3771aceca5a99b1","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/cxs_actions/link_inc_to_chg_rest","sys_created_on":"2021-12-31 14:11:51","sys_name":"link_inc_to_chg","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/49aff4bb733320103e366238edf6a70f","value":"49aff4bb733320103e366238edf6a70f"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5f387aa0b32023002bf182c136a8dc1c","value":"5f387aa0b32023002bf182c136a8dc1c"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/49aff4bb733320103e366238edf6a70f","value":"49aff4bb733320103e366238edf6a70f"},"sys_update_name":"sys_ws_operation_f52d710577300110b3771aceca5a99b1","consumes_customized":"false","name":"link_inc_to_chg","produces":"application/json,application/xml,text/xml","relative_path":"/link_inc_to_chg_rest","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    const {\n        ComponentBuilder\n    } = require('@servicenow/sn-cb-api');\n    const componentBuilder = new ComponentBuilder(response);\n    try {\n        const {\n            body: {\n                data\n            }\n        } = request;\n        componentBuilder.updateComponent(data);\n\n        return componentBuilder.getSuccessResponse({\n            success: true\n        }, 200);\n    } catch (e) {\n        return componentBuilder.getErrorResponse(e.message);\n    }\n})(request, response);","sys_updated_on":"2024-03-19 21:35:36","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f56593f7a37002100aa159e6d31e612b","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/sn_cb_api/componentbuilder/component/{sysId}","sys_created_on":"2024-03-14 18:25:10","sys_name":"Update Component","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/58d65e5a729340ac35dc8fd71d665545","value":"58d65e5a729340ac35dc8fd71d665545"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/79353aa3a37731100aa159e6d31e6154","value":"79353aa3a37731100aa159e6d31e6154"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/58d65e5a729340ac35dc8fd71d665545","value":"58d65e5a729340ac35dc8fd71d665545"},"sys_update_name":"sys_ws_operation_f56593f7a37002100aa159e6d31e612b","consumes_customized":"false","name":"Update Component","produces":"application/json,application/xml,text/xml","relative_path":"/component/{sysId}","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(request, response) {\n      var applicationService = new ApplicationService();\n      return applicationService.getApplications(request.queryParams);\n  })(request, response);","sys_updated_on":"2021-03-19 23:49:34","enforce_acl":"4bbe81b4c703201066492f3bf4c260e6","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f574f1070f3220101c6f3fabfa767e74","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_mab_api/mab_api/applications","sys_created_on":"2021-03-14 12:24:18","sys_name":"Get Applications","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3512bd93c7c12010100f2f3bf4c26049","value":"3512bd93c7c12010100f2f3bf4c26049"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"13","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_update_name":"sys_ws_operation_f574f1070f3220101c6f3fabfa767e74","consumes_customized":"false","name":"Get Applications","produces":"application/json,application/xml,text/xml","relative_path":"/applications","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar groupSysId = request.queryParams.group_id + \"\";\n\tif (!groupSysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Group id not provided\");\n\tvar rotaIds = [];\n\tif (groupSysId) {\n\t\tvar rotaGr = new GlideRecord(\"cmn_rota\");\n\t\trotaGr.addQuery(\"group\", groupSysId);\n\t\trotaGr.query();\n\t\twhile (rotaGr.next()) {\n\t\t\trotaIds.push(rotaGr.getUniqueValue());\n\t\t}\n\t}\n\tvar ocSecurityNG = new global.OnCallSecurityNG();\n\tvar isManager = ocSecurityNG.rotaMgrAccess(groupSysId);\n\tif (!isManager) {\n\t\tvar respError = new sn_ws_err.ServiceError();\n\t\trespError.setStatus(403);\n\t\trespError.setMessage(\"Security constraints prevent access to requested resource\");\n\t\treturn respError;\n\t}\n\n\tvar from = JSUtil.nil(request.queryParams.from_date) ? new GlideDate().getDisplayValueInternal() : request.queryParams.from_date;\n\tvar to = JSUtil.nil(request.queryParams.to_date) ? new GlideDate().getDisplayValueInternal() : request.queryParams.to_date;\n\tvar dateDiff = gs.dateDiff(from, to, true);\n\tvar dateDiffInDays = parseInt(dateDiff / (24 * 60 * 60));\n\tvar maxOddityDuration = parseInt(gs.getProperty(\"com.snc.on_call_rotation.oddity_max_days\", \"30\"));\n\tif (JSUtil.nil(dateDiff) || dateDiff < 0) {\n\t\tgs.addErrorMessage(gs.getMessage(\"Invalid start and end time provided\"));\n\t\treturn {};\n\t}\n\n\tvar providedOddityDuration = parseInt(dateDiffInDays / (24 * 60 * 60));\n\tif (providedOddityDuration > maxOddityDuration) {\n\t\tgs.addErrorMessage(gs.getMessage(\"Pending actions can not be fetched for more than {0} days\", maxOddityDuration));\n\t\treturn {};\n\t}\n\tvar formatterClass = OCFormatterMapping.formatters[\"dhtmlx\"];\n\tvar formatter = new formatterClass();\n\n\tvar ocrRotaV2 = new OCRotationV2(null, formatter);\n\tvar spans = ocrRotaV2\n\t\t.setStartDate(from)\n\t\t.setEndDate(to, false)\n\t\t.setGroupIds(groupSysId)\n\t\t.setRotaIds(rotaIds.join(','))\n\t\t.getSpans();\n\n\tvar memberSpansBeforeExclude = ocrRotaV2.getMemberSpansBeforeExclude();\n\n\tvar result = {};\n\tvar oc = new OCOddityChecker();\n\tresult.gaps = oc.getGaps(from, to, groupSysId, dateDiffInDays, spans, memberSpansBeforeExclude);\n\tresult.oddities = oc.getConflictsInGroup(from, to, groupSysId, dateDiffInDays, spans);\n\tresult.time_off_requests = oc.getPendingTimeOffRequests();\n\n\tvar isConflictingOverlapInGroup = oc.isConflictingOverlapInGroup(from, to, groupSysId);\n\tif (isConflictingOverlapInGroup) {\n\t\tgs.addErrorMessage(gs.getMessage(\"This group has overlapping Shift but 'Allow overlap' preference is set to No\"));\n\t}\n\treturn result;\n})(request, response);","sys_updated_on":"2024-02-07 18:24:24","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f57908e1872023003eebaf1e36cb0b89","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/pending_actions","sys_created_on":"2018-09-14 07:40:51","sys_name":"pending_actions","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"48","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_f57908e1872023003eebaf1e36cb0b89","consumes_customized":"false","name":"pending_actions","produces":"application/json,application/xml,text/xml","relative_path":"/pending_actions","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar payload = request.body.data;\n\tvar tourController = new sn_tourbuilder.GTAutoLaunchController();\n\ttry{\n\t\tvar res = tourController.updateTourById(request.pathParams.id, payload);\n\t\tif (res.success) {\n\t\t\tresponse.setBody(res.payload);\n\t\t\tresponse.setStatus(200);\n\t\t} else {\n\t\t\tresponse.setStatus(400);\n\t\t\tresponse.setBody(res.payload ? res.payload : {msg: res.reason});\n\t\t}\n\t} catch(e) {\n\t\tresponse.setStatus(500);\n\t\tresponse.setBody({msg: e.message});\n\t}\n\n})(request, response);","sys_updated_on":"2018-08-09 15:30:20","enforce_acl":"cad7104a877b1300b38c0f4c59cb0bdb","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/3268f36173eb13007077edcc5ef6a738","value":"3268f36173eb13007077edcc5ef6a738"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f58b548a877b1300b38c0f4c59cb0bbd","http_method":"PUT","sys_updated_by":"admin","operation_uri":"/api/now/v1/guided_tours/tours/{id}","sys_created_on":"2018-08-09 15:30:20","sys_name":"Update a tour by id","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/2405194d87e73200b38c0f4c59cb0b6f","value":"2405194d87e73200b38c0f4c59cb0b6f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_update_name":"sys_ws_operation_f58b548a877b1300b38c0f4c59cb0bbd","consumes_customized":"false","name":"Update a tour by id","produces":"application/json,application/xml,text/xml","relative_path":"/tours/{id}","produces_customized":"false","default_operation_uri":"/api/now/guided_tours/tours/{id}","sys_policy":""},{"short_description":"","sys_updated_on":"2021-09-22 14:50:19","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/2b968378c7ba3010408bc8d6f2c260f2","value":"2b968378c7ba3010408bc8d6f2c260f2"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f5b64778c7ba3010408bc8d6f2c260bf","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_pipeline/v1/authorization/authorized_request","sys_created_on":"2021-09-22 14:50:19","sys_name":"GET Authorized Request","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/e78853e9c3222010b83971e54440dd26","value":"e78853e9c3222010b83971e54440dd26"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/64c5c738c7ba3010408bc8d6f2c2609d","value":"64c5c738c7ba3010408bc8d6f2c2609d"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/e78853e9c3222010b83971e54440dd26","value":"e78853e9c3222010b83971e54440dd26"},"sys_update_name":"sys_ws_operation_f5b64778c7ba3010408bc8d6f2c260bf","consumes_customized":"false","name":"GET Authorized Request","produces":"application/json,application/xml,text/xml","relative_path":"/authorized_request","produces_customized":"false","default_operation_uri":"/api/sn_pipeline/authorization/authorized_request","sys_policy":"protected"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n/*\n*\n* @param tableName\n* @param recordId - sys_id\n* @param searchTerm \n* @param limit - integer value\n* @param offset - integer value\n* @param includeEvaluatedBody - true/false value\n* @param errorFormat [ex:\"<span style='color:#ff0000'>${%s}</span>\"]\n* @param opts [optional parameters that can be passed to extension point's should run] - object with key values\n*        ex. {\n*              channel: channel sys_id\n*            }\n*\n* @return JSON string - array of all the templates that can be applied to a given record\n* Example:\n* [\n*  {\n*    \"sys_id\": string,\n*    \"name\": string,\n*    \"short_name\": string,\n*    \"body\": html body,\n*    \"short_name_match\": true if exact match on short_name,\n*    \"evaluated_response\": {\n*\t \t\t\t\t\t    \"success\": boolean,\n*\t \t\t\t\t\t\t\"evaluated_body\": evaluated html body,\n*\t \t\t\t\t\t\t\"error\": {\n*      \t\t\t\t\t\t\t\t\"inAccessibleVariables\": string,\n*\t \t \t\t\t\t\t\t\t\t\"unEvaluatedVariables\": string,\n*\t \t \t\t\t\t\t\t\t\t\"message\": error message\n*\t \t\t\t\t\t\t}\n* \t  \t\t\t\t\t   }\n*  }\n* ]\n*/\n\tvar tableName            = request.body.data.tableName;\n\tvar recordId             = request.body.data.recordId;\n\tvar searchTerm           = request.body.data.searchTerm;\n\tvar limit                = request.body.data.limit;\n\tvar offset               = request.body.data.offset;\n\tvar includeEvaluatedBody = request.body.data.includeEvaluatedBody;\n\tvar errorFormat          = request.body.data.errorFormat;\n\tvar opts                 = request.body.data.opts;\n\t\n\treturn new sn_templated_snip.ResponseTemplate()\n\t\t.query(tableName, recordId, searchTerm, limit, offset, includeEvaluatedBody, errorFormat, opts);\n\n})(request, response);","sys_updated_on":"2020-04-14 20:18:32","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f5d5c2160f001010dff70c3635767e40","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_templated_snip/response_templates/get_templates","sys_created_on":"2020-04-10 16:41:45","sys_name":"Get templates","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/2d3597c80b67320036e62c7885673a43","value":"2d3597c80b67320036e62c7885673a43"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/8245cad20f001010dff70c3635767eca","value":"8245cad20f001010dff70c3635767eca"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2d3597c80b67320036e62c7885673a43","value":"2d3597c80b67320036e62c7885673a43"},"sys_update_name":"sys_ws_operation_f5d5c2160f001010dff70c3635767e40","consumes_customized":"false","name":"Get templates","produces":"application/json,application/xml,text/xml","relative_path":"/get_templates","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar groupIds = request.queryParams.groupid || request.body.data.groupid;\n\tvar ocrRotaV2 = new OCRotationV2();\n\tvar result = ocrRotaV2.getRotasByGroup(groupIds);\n\tif (ocrRotaV2.log.atLevel(GSLog.DEBUG)) {\n\t\tocrRotaV2.timer.timerName += \" REST-POST getrotasbygroup\";\n\t\tocrRotaV2.log.debug(ocrRotaV2.timer.result());\n\t}\n\treturn result;\n})(request, response);","sys_updated_on":"2019-03-20 10:28:46","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f6a6e9e3675132004792adab9485efcb","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/getrotasbygroup","sys_created_on":"2017-03-10 13:48:29","sys_name":"getRotasByGroup","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_f6a6e9e3675132004792adab9485efcb","consumes_customized":"false","name":"getRotasByGroup","produces":"application/json,application/xml,text/xml","relative_path":"/getrotasbygroup","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var TOKEN_TYPES = {\n        TABLE: \"table\",\n        NONE_OF_THE_ABOVE: \"none\"\n    };\n\n    var STATUS_CODES = {\n        OK: \"ok\",\n        NOT_UNDERSTOOD: \"not_understood\",\n        MULTIPLE_TABLES: \"multiple_tables\",\n        RESTRICTED: \"restricted\",\n        ERROR: \"error\",\n    };\n\n    var NO_MATCH = \"NO MATCH\";\n\n    var nlqApi = sn_nlq.JavascriptProcessorScoped;\n    if (!nlqApi) {\n        response.setStatus(404);\n        response.setError(new sn_ws_err.NotFoundError(\"The NLQ Scripted API is only supported in Vancouver and above.\"));\n        return response;\n    }\n    var payload = request.body;\n    var queryParams = request.queryParams;\n    // verify the payload\n    if (!payload || !payload.data || !payload.data.length || !queryParams || !queryParams.user_question || !queryParams.origin) {\n        response.setStatus(400);\n        response.setError(new sn_ws_err.BadRequestError(\"Required parameters were missing from the request.\"));\n        return response;\n    }\n    var userQuestion = Array.isArray(queryParams.user_question) ? queryParams.user_question[0] : queryParams.user_question;\n    var origin = Array.isArray(queryParams.origin) ? queryParams.origin[0] : queryParams.origin;\n    var tokenArray = payload.data;\n    var tableArray = [];\n    var unmatchedTokens = [];\n    tokenArray.forEach(function(token) {\n        if (!token || !token.value)\n            return; // invalid token\n        if (token.suggestion && token.suggestion.metadata) {\n            if (token.suggestion.type === TOKEN_TYPES.TABLE) {\n                tableArray.push(token.suggestion.metadata.name);\n            } else if (token.suggestion.type === TOKEN_TYPES.NONE_OF_THE_ABOVE) {\n                // TODO: this needs to be saved for retrieval later, dependent on NLQ team story\n            }\n        } else {\n            // just an unmatched token\n            unmatchedTokens.push(token.value);\n        }\n    });\n\n    if (tableArray.length === 0) {\n        // there are no matched tables, so concat the cmdb_ci table and do a name search\n        tableArray.push('cmdb_ci');\n        userQuestion = gs.getMessage(\"Configuration items with name {0}\", userQuestion);\n    }\n    var nlqResponse;\n    try {\n        nlqResponse = nlqApi.applyMultiTable(tableArray.join(\",\"), userQuestion, origin.toUpperCase());\n    } catch (e) {\n        // wrap the exception in a server error\n        var serverError = new sn_ws_err.ServiceError();\n        serverError.setStatus(500);\n        serverError.setMessage('NLQ Service encountered an error: ' + e);\n        response.setError(serverError);\n        response.setBody({\n            status_code: STATUS_CODES.ERROR\n        });\n    }\n\n    if (nlqResponse.errorMessage) {\n        // if the parser returns no match, this is a not understood response\n        if (nlqResponse.parserOutput === NO_MATCH) {\n            response.setBody({\n                nlqQueryLogTableSysId: nlqResponse.nlqQueryLogTableSysId,\n                status_code: STATUS_CODES.NOT_UNDERSTOOD\n            });\n        } else {\n            // server error, if NO MATCH is not found in payload\n            var unknownError = new sn_ws_err.ServiceError();\n            unknownError.setStatus(500);\n            unknownError.setMessage('NLQ Service encountered an unknown error.');\n            response.setError(unknownError);\n            response.setBody({\n                status_code: STATUS_CODES.ERROR\n            });\n        }\n    } else {\n        var body = {\n            parserOutput: JSON.parse(nlqResponse.parserOutput),\n            nlqQueryLogId: nlqResponse.nlqQueryLogTableSysId,\n            status_code: STATUS_CODES.OK\n        };\n        // single table queries use the table sent in the client payload\n        if (body.parserOutput.type != 'cmdb')\n            body.table = tableArray[0];\n\n        // add in utterance modification if present\n        if (nlqResponse.utteranceModificationType)\n            body.utteranceModificationType = nlqResponse.utteranceModificationType;\n        if (nlqResponse.modifiedParsedUtterance)\n            body.modifiedParsedUtterance = nlqResponse.modifiedParsedUtterance;\n\n        response.setBody(body);\n        response.setStatus(200);\n    }\n\n})(request, response);","sys_updated_on":"2023-03-15 16:31:23","enforce_acl":"39a22ab60735011017b703767cd30036,a3036eb60735011017b703767cd300b7","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f6d3ff3b4319211017b739603ab8f2ae","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_cmdb_ws/cmdb_workspace_api_scoped/nlq/process","sys_created_on":"2023-03-08 00:55:01","sys_name":"Process NLQ Search","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3ff417b78f3f2010960c53ac37bdeefb","value":"3ff417b78f3f2010960c53ac37bdeefb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"24","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/c8ab76825371201032b7ddeeff7b1280","value":"c8ab76825371201032b7ddeeff7b1280"},"sys_update_name":"sys_ws_operation_f6d3ff3b4319211017b739603ab8f2ae","consumes_customized":"false","name":"Process NLQ Search","produces":"application/json,application/xml,text/xml","relative_path":"/nlq/process","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    response.setContentType('application/json');\n\tvar util = new LifeCycleUtil();\n\tvar table = util.getParamAsString('table');\n\tvar stage = util.getParamAsString('life_cycle_stage');\n\tvar status = util.getParamAsString('life_cycle_stage_status');\n\t\n\tif (!table || !stage || !status) {\n\t\treturn new sn_ws_err.BadRequestError('Missing Parameters');\n\t}\n\t\n\tvar tables = util.getParents(table);\n\ttables.push(table);\n\tvar gr = new GlideRecord('life_cycle_control');\n\tgr.addEncodedQuery('table.nameIN' + tables.join() + '^life_cycle_stage=' + stage + '^life_cycle_stage_status=' + status);\n\tgr.query();\n\tvar result = {'is_valid': gr.hasNext()};\n\t\n\tresponse.setStatus(200);\n\tresponse.setBody(result);\n\n})(request, response);","sys_updated_on":"2020-02-01 03:49:55","enforce_acl":"2e437e36b7620010ee0d3177ee11a9b8","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f6d6bc53b7620010ee0d3177ee11a964","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/life_cycle_api/validate","sys_created_on":"2020-01-30 00:04:29","sys_name":"validateLifeCycleCombination","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b5617ef2b7620010ee0d3177ee11a9cc","value":"b5617ef2b7620010ee0d3177ee11a9cc"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6535677304712210559073c06a02f74f","value":"6535677304712210559073c06a02f74f"},"sys_update_name":"sys_ws_operation_f6d6bc53b7620010ee0d3177ee11a964","consumes_customized":"false","name":"validateLifeCycleCombination","produces":"application/json,application/xml,text/xml","relative_path":"/validate","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    try {\n        const categories = FileTaxonomyCategoryMap.getCategories();\n        return categories;\n    } catch (e) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(500)\n            .setMessage(gs.getMessageLang(\"Unhandled exception {0}\", \"en\", [e]))\n            .setDetail(gs.getMessage(\"Unhandled exception {0}\", [e]));\n    }\n\n})(request, response);","sys_updated_on":"2023-12-06 13:55:19","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/90711aa05bdc31109cf872c60a81c7fb","value":"90711aa05bdc31109cf872c60a81c7fb"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f712694143f239106c4bb0117fb8f287","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_udc/v1/file_taxonomy/categories","sys_created_on":"2023-11-27 10:54:04","sys_name":"Get Taxonomy Categories","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ebf096a05bdc31109cf872c60a81c769","value":"ebf096a05bdc31109cf872c60a81c769"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_update_name":"sys_ws_operation_f712694143f239106c4bb0117fb8f287","consumes_customized":"false","name":"Get Taxonomy Categories","produces":"application/json,application/xml,text/xml","relative_path":"/categories","produces_customized":"false","default_operation_uri":"/api/sn_udc/file_taxonomy/categories","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar sysId = request.pathParams.sys_id || null;\n\tif (!sysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Standard Change Request id not provided\");\n\n\tvar changeProcess = global.StandardChangeProcess.findById(sysId);\n\tif (!changeProcess)\n\t\treturn new sn_ws_err.NotFoundError(\"Standard Change Request not found\");\n\n\tvar nameValuePairs = global.ChangeCommon.assign({}, request.queryParams, request.body.data);\n\n\tvar state;\n\tif (nameValuePairs.state) {\n\t\tstate = nameValuePairs.state;\n\t\tdelete nameValuePairs.state;\n\t}\n\n\tvar fields = changeProcess.setValues(nameValuePairs);\n\n\tif (state && !changeProcess.canMoveTo(state)) {\n\t\tvar error = new sn_ws_err.ServiceError();\n\t\terror.setStatus(400);\n\t\terror.setMessage(\"Standard Change Request cannot move to state: \" + state);\n\t\terror.setDetail(JSON.stringify(changeProcess.evaluateMoveTo(state)));\n\t\treturn error;\n\t}\n\n\tif ((!state && changeProcess.update()) || (state && changeProcess.moveTo(state) && changeProcess.update())) {\n\t\tvar result = changeProcess.toJS();\n\t\tresult.__meta = { ignoredFields: fields.ignored && fields.ignored.length > 0 ? fields.ignored : [] };\n\t\treturn result;\n\t}\n\n\tvar errorMessage = \"Standard Change Request record could not be updated.\";\n\tvar lastErrorMessage = changeProcess.getGlideRecord().getLastErrorMessage();\n\tif (lastErrorMessage)\n\t\terrorMessage += \" \" + lastErrorMessage;\n\n\treturn new sn_ws_err.BadRequestError(errorMessage);\n})(request, response);","sys_updated_on":"2018-07-20 10:52:18","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/a3eccbd75303130096c3ddeeff7b120b","value":"a3eccbd75303130096c3ddeeff7b120b"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f77c1cebb713130096c3e4f6ee11a967","http_method":"PATCH","sys_updated_by":"admin","operation_uri":"/api/sn_chg_rest/v1/change/standard/{sys_id}","sys_created_on":"2018-07-20 10:52:18","sys_name":"Standard","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/5dbc8bd75303130096c3ddeeff7b12e4","value":"5dbc8bd75303130096c3ddeeff7b12e4"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"0","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/362aa454b740230096c3e4f6ee11a946","value":"362aa454b740230096c3e4f6ee11a946"},"sys_update_name":"sys_ws_operation_f77c1cebb713130096c3e4f6ee11a967","consumes_customized":"false","name":"Standard","produces":"application/json,application/xml,text/xml","relative_path":"/standard/{sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_chg_rest/change/standard/{sys_id}","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var resultObj = {\n        isMessagePreviewEnabled: false,\n        isProactiveTriggersEnabled: false,\n        isAMBEnabledInternal: false,\n        isAMBEnabledExternal: false\n    };\n    try {\n        resultObj.isProactiveTriggersEnabled = new sn_pt.ProactiveTriggerAPIGateway().isFeatureEnabled(); // This is kept due to upgrade scenario\n        try {\n            var returnedObject = new sn_pt.ProactiveTriggerAPIGateway().getFeatureStatusV2();\n            if (returnedObject != null && returnedObject != undefined) {\n                resultObj.isProactiveTriggersEnabled = returnedObject.isProactiveTriggersEnabled;\n                resultObj.isAMBEnabledInternal = returnedObject.isAMBEnabledInternal;\n                resultObj.isAMBEnabledExternal = returnedObject.isAMBEnabledExternal;\n            }\n        } catch (e) {\n            gs.info('Proactive Triggers needs to be updated to enable additional features');\n        }\n    } catch (e) {\n        gs.info('Proactive Trigger is not installed');\n    }\n\n    resultObj.isMessagePreviewEnabled = gs.getProperty('com.glide.cs.settings.show_message_preview', 'true') === 'true';\n    return resultObj;\n\n})(request, response);","sys_updated_on":"2023-03-22 20:18:11","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f82b325bb72911107fc19e68ee11a944","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/advance_chat_settings/get_feature_status","sys_created_on":"2022-08-31 21:30:13","sys_name":"Get Feature Status","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b00bbe1bb72911107fc19e68ee11a91f","value":"b00bbe1bb72911107fc19e68ee11a91f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"false","sys_mod_count":"15","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/aca3b33704b52210559073c06a02f7d3","value":"aca3b33704b52210559073c06a02f7d3"},"sys_update_name":"sys_ws_operation_f82b325bb72911107fc19e68ee11a944","consumes_customized":"false","name":"Get Feature Status","produces":"application/json,application/xml,text/xml","relative_path":"/get_feature_status","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    return NLUStudioService.getEntitiesByIntentId(request.pathParams.intentId);\n\n})(request, response);","sys_updated_on":"2021-04-20 05:47:29","enforce_acl":"ccd8a1e7772000105d7b3882a910617c","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/e4cda81e7333230021a044764df6a777","value":"e4cda81e7333230021a044764df6a777"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f8adf89e7333230021a044764df6a752","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/v1/nlu/getEntitiesByIntent/{intentId}","sys_created_on":"2019-02-25 08:48:32","sys_name":"getEntitiesByIntent","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/55672c9a7333230021a044764df6a706","value":"55672c9a7333230021a044764df6a706"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"false","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f3a4e37f04312210559073c06a02f7e2","value":"f3a4e37f04312210559073c06a02f7e2"},"sys_update_name":"sys_ws_operation_f8adf89e7333230021a044764df6a752","consumes_customized":"false","name":"getEntitiesByIntent","produces":"application/json,application/xml,text/xml","relative_path":"/getEntitiesByIntent/{intentId}","produces_customized":"false","default_operation_uri":"/api/now/nlu/getEntitiesByIntent/{intentId}","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar triggerField = '' + request.pathParams.sys_id;\n\n\tif (!triggerField)\n\t\tthrow new sn_ws_err.BadRequestError(\"Trigger field empty\");\n\n\tvar triggerQuestion = GlideappQuestion.getQuestion(triggerField);\n\tif (triggerQuestion == null)\n\t\tthrow new sn_ws_err.BadRequestError(\"Trigger question empty\");\n\n\tif (triggerQuestion.getType() !== 8 && triggerQuestion.getType() !== 31)\n\t\tthrow new sn_ws_err.BadRequestError(\"Trigger question not of type reference/requested for\");\n\n\tvar dynamicTableName = triggerQuestion.getReference();\n\n    var request_body = request.body.nextEntry();\n    var recordId = '' + request_body.sysparm_dynamic_record_id;\n    var targetFields = '' + request_body.sysparm_dynamic_target_fields;\n\n    var result = {};\n\n    var targetFieldsArr;\n    if (targetFields)\n\t\ttargetFieldsArr = targetFields.split(',');\n\n    for (var i = 0; i < targetFieldsArr.length; i++) {\n        try {\n            var question = GlideappQuestion.getQuestion(targetFieldsArr[i]);\n            if (question) {\n                var dynamicDotWalkPath = question.getDynamicValueDotWalkPath();\n                if (dynamicTableName && dynamicDotWalkPath) {\n\n                    var gr = new GlideRecord(dynamicTableName);\n                    var isPresent = gr.get(recordId);\n\n                    var fieldName = question.getName();\n                    result[fieldName] = {};\n\n                    if (isPresent && gr.canRead()) {\n\t\t\t\t\t\tvar ge = gr.getElement(dynamicDotWalkPath);\n\t\t\t\t\t\tif (!ge.canRead()) {\n\t\t\t\t\t\t\tgs.error(gs.getUserName() + ' does not have read access to ' + dynamicDotWalkPath + ' on ' + dynamicTableName);\n\t\t\t\t\t\t\tresult[fieldName].value = '';\n\t\t\t\t\t\t\tresult[fieldName].displayValue = '';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar questionType = question.getType(); // checking for date/datetime variable type\n\t\t\t\t\t\t\tresult[fieldName].value = ((questionType == 9 || questionType == 10) ? ge.getDisplayValue() : ge) + '';\n\t\t\t\t\t\t\tvar parts = dynamicDotWalkPath.split('.');\n\t\t\t\t\t\t\tvar pathEndsWithSysId = parts[parts.length - 1] === 'sys_id';\n\t\t\t\t\t\t\tif (!pathEndsWithSysId) //If sys_id is being set, do not send displayValue sothat it will auto-resolve.\n\t\t\t\t\t\t\t\tresult[fieldName].displayValue = '' + ge.getDisplayValue();\n\n\t\t\t\t\t\t}\n                    } else {\n                    \t\tgs.error('Record does not exist or record access issue');\n\t\t\t\t\t\t\tresult[fieldName].value = '';\n\t\t\t\t\t\t\tresult[fieldName].displayValue = '';\n                    }\n                }\n            }\n        } catch (e) {\n            gs.debug(e);\n        }\n    }\n\n    return result;\n})(request, response);","sys_updated_on":"2024-09-10 09:31:46","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"f90b7b9febe011106fb3951ff1522873","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/variables/{sys_id}/dynamic_value","sys_created_on":"2022-07-13 09:41:09","sys_name":"Get Dynamic Value","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_f90b7b9febe011106fb3951ff1522873","consumes_customized":"false","name":"Get Dynamic Value","produces":"application/json,application/xml,text/xml","relative_path":"/variables/{sys_id}/dynamic_value","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/variables/{sys_id}/dynamic_value","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    try {\n        return (new JsonAttributeService()).getJSON(request.pathParams);\n    } catch (error) {\n        new ErrorHandler().throwSnWsError(error);\n    }\n\n})(request, response);","sys_updated_on":"2021-03-30 06:20:49","enforce_acl":"4bbe81b4c703201066492f3bf4c260e6","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f9165e65c7032010321f073703c26042","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_mab_api/mab_api/json_for_choicelist/{table}/{sysId}","sys_created_on":"2021-03-22 09:19:16","sys_name":"Get Processed JSON for Choice List","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3512bd93c7c12010100f2f3bf4c26049","value":"3512bd93c7c12010100f2f3bf4c26049"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"8","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_update_name":"sys_ws_operation_f9165e65c7032010321f073703c26042","consumes_customized":"false","name":"Get Processed JSON for Choice List","produces":"application/json,application/xml,text/xml","relative_path":"/json_for_choicelist/{table}/{sysId}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\tvar controller = new sn_tourbuilder.GTAutoLaunchController();\n\tvar data = request.body.data;\n\tif (!data || !(data.autolaunchOff instanceof Array) || !(data.autolaunchOn instanceof Array) ) {\n\t\tresponse.setBody({msg: 'Invalid Data'});\n\t\tresponse.setStatus(400);\n\t} else {\n\t\tdata.resetUserPreferences = data.resetUserPreferences || false;\n\t\tvar res = controller.updateToursForPage(data);\n\t\tresponse.setBody(res);\n\t\tresponse.setStatus(200);\n\t} \n\n})(request, response);","sys_updated_on":"2019-02-13 09:57:11","enforce_acl":"cad7104a877b1300b38c0f4c59cb0bdb","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/3268f36173eb13007077edcc5ef6a738","value":"3268f36173eb13007077edcc5ef6a738"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"f945aaf587333200b38c0f4c59cb0b0a","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/v1/guided_tours/autolaunch/tour","sys_created_on":"2017-07-07 14:32:18","sys_name":"Autolaunch-Update tour","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/2405194d87e73200b38c0f4c59cb0b6f","value":"2405194d87e73200b38c0f4c59cb0b6f"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/97515a49134b5200ed373d62f244b04a","value":"97515a49134b5200ed373d62f244b04a"},"sys_update_name":"sys_ws_operation_f945aaf587333200b38c0f4c59cb0b0a","consumes_customized":"false","name":"Autolaunch-Update tour","produces":"application/json,application/xml,text/xml","relative_path":"/autolaunch/tour","produces_customized":"false","default_operation_uri":"/api/now/guided_tours/autolaunch/tour","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var groupId = JSUtil.nil(request.queryParams.group_id) ? \"\" : request.queryParams.group_id;\n\tvar startDate = JSUtil.nil(request.queryParams.start_date) ? \"\" : request.queryParams.start_date;\n\tvar escalationPathUtil = new OCEscalationPathUtil().setCheckAccess(true);\n\treturn escalationPathUtil.getNextRotasList(groupId, startDate);\n\n})(request, response);","sys_updated_on":"2022-04-19 07:54:50","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"fa25a1dd5320230030e3ddeeff7b1220","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/getNextRotas","sys_created_on":"2018-09-13 19:42:22","sys_name":"getNextRotas","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_fa25a1dd5320230030e3ddeeff7b1220","consumes_customized":"false","name":"getNextRotas","produces":"application/json,application/xml,text/xml","relative_path":"/getNextRotas","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // implement resource here\n\n\tvar autoDetectObject = new BenchmarkClientAutoDetectOptInErrors();\n\treturn autoDetectObject.autoDetectErrors();\n\n})(request, response);","sys_updated_on":"2019-04-18 21:41:29","enforce_acl":"b5ca561bb3113200715ca943c6a8dca8","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"fa2657c6b3103300f075a7e4c6a8dc25","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_bm_client/benchmark_client_api/clientAutoDetectErrors","sys_created_on":"2019-03-21 21:48:02","sys_name":"Auto Detect Errors","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/986214c16710320097eeff5557415a89","value":"986214c16710320097eeff5557415a89"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"7","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3ad18693db92220004997878f0b8f516","value":"3ad18693db92220004997878f0b8f516"},"sys_update_name":"sys_ws_operation_fa2657c6b3103300f075a7e4c6a8dc25","consumes_customized":"false","name":"Auto Detect Errors","produces":"application/json,application/xml,text/xml","relative_path":"/clientAutoDetectErrors","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process(request, response) {\n\tVCSResourceAccessCheck.verifyPluginAccess(request.pathParams.pluginId);\n\t\n\tresponse.setBody({\n\t\tisEnabled: GlidePluginManager.isActive(request.pathParams.pluginId)\n\t});\n\tresponse.setContentType('application/json');\n\tresponse.setStatus(200);\n\n})(request, response);","sys_updated_on":"2021-03-31 18:27:58","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"faac2d3137330200612747efbe41f189","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/dependencies/plugins/{pluginId}","sys_created_on":"2015-11-18 21:53:51","sys_name":"Plugin Installed","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"11","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_faac2d3137330200612747efbe41f189","consumes_customized":"false","name":"Plugin Installed","produces":"application/json,application/xml,text/xml","relative_path":"/dependencies/plugins/{pluginId}","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/dependencies/plugins/{pluginId}","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n   var escalationSysId = request.queryParams.escalation_sys_id;\n\tif (!escalationSysId)\n\t\treturn new sn_ws_err.BadRequestError(\"Escalation sys_id not provided\");\n\t\n\treturn  new OnCallEscalationUtil().getEscalationById(escalationSysId + '');\n\t\n\n})(request, response);","sys_updated_on":"2023-10-26 18:46:16","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"fabd53640f7200101d6d6bfaa8767e62","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/getEscalationById","sys_created_on":"2020-02-03 09:17:08","sys_name":"getEscalationById","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_fabd53640f7200101d6d6bfaa8767e62","consumes_customized":"false","name":"getEscalationById","produces":"application/json,application/xml,text/xml","relative_path":"/getEscalationById","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"/*********************************************************************************************\nUse this method to fix a discovery error by replacing an error on the map with a CI. You can also add an end point for the discovery process to continue after the added CI.\n\nThe input format is json and it contains the following parameters:\n•\ttargetid – The sys id of the CI needed to be added\n•\tbsid – The sys id of the business service the CI need to be added to \n•\terrorid – The sys id of the error end point to be replaced by the target CI\n•\tmanualEP- An optional Json containing parameters for the added endpoint \n\to\tepClassName- the type (class) of the end point that should be created\n\to\tepAttributes- A Json representing the attributes for the end point, to help the discovery process. \n\nThe input must have the following syntax:\n\n{\n\tSKIP_N_RESUME: {\n\t\tbsid : \"BS_SYS_ID\",\n\t\terrorid: \"SOURCE_ERROR_EP_SYS_ID\",\n\t\ttargetid: \"TARGET_CI_SYS_ID\"\n\t}, \n\tmanualEP : {\n\t\tepClassName: \"END_POINT_CLASS_NAME\",\n\t\tepAttributes: {\n\t\t\tepAttribute1 : \"epAttributeValue1\",\n\t\t\tepAttribute2 : \"epAttributeValue2\"\n\t\t\t}\n\t\t}\n\t}\n}\n \nMake sure the input CIs respect these restrictions:\n•\tUse this function only for a source endpoint that reflects as an error on the map.\n•\tYou cannot use this function to fix errors inside an inclusion\n•\tThe CI type of the target CI must be allowed by the \"getCiTypes\" API. By default, the \"getCiTypes\" API allows all CI types that extend the cmdb_ci table, except:\n\to\tEndpoint (cmdb_ci_endpoint)\n\to\tNAT (cmdb_ci_translation_rule)\n\to\tNAT Gateway (cmdb_ci_nat_gateway)\n\to\tConfiguration file (cmdb_ci_config_file)\n\to\tQualifier (cmdb_ci_qualifier)\n\to\tApplication Cluster (cmdb_ci_application_cluster)\n•\tVerify that the target CI follows these guidelines:\n\to\tIt is not the CI that leads to the error\n\to\tOn clusters and inclusions, make sure this CI cannot create a connection within a group\n\t\t♣\tAdding a CI to its peers in the cluster.\n\t\t♣\tAdding an included CI immediately after the inclusion\n\t\t♣\tAdding an inclusion CI immediately after the inclusion CI\n\t\t♣\tAdding a CI between all levels within clusters or inclusions, for example, a cluster within a cluster, inclusion within a cluster and so on.\n*********************************************************************************************/\n\n(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar body = \"\";\n\tvar msg = \"\";\n\tvar json = \"\";\n\t\t\n\tvar bsid = \"\";\n\tvar errorId = \"\";\n\tvar targetid = \"\";\n\n\tvar bsManager = new SNC.BusinessServiceManager();\n\n\ttry {\n\t\tbody = GlideStringUtil.getStringFromStream(request.body.dataStream);\n\t\t\n\t\tif (GlideStringUtil.nil(body)) {\n\t\t\tmsg = gs.getMessage(\"Wrong input for Skip and Resume, input must not be empty\");\n\t\t} else {\n\t\t\ttry {\n\t\t\t\tjson = JSON.parse(body);\n\t\t\t}\n\t\t\tcatch (eJson) {\n\t\t\t\tmsg = gs.getMessage(\"Wrong input for Skip and Resume, input must be JSON. {0}\", [eJson]);\t\t\t\t\n\t\t\t}\n\t\t\t\t\t\t\n\t\t\tif (msg === \"\") {\n\t\t\t\tbsid = json.SKIP_N_RESUME.bsid;\n\t\t\t\terrorId = json.SKIP_N_RESUME.errorId;\n\t\t\t\ttargetid = json.SKIP_N_RESUME.targetId;\n\n\t\t\t\tbsManager = new SNC.BusinessServiceManager();\n\t\t\t\tmsg = bsManager.skipAndResume(bsid,errorId,targetid);\n\t\t\t\tif (msg !== \"\") {\n\t\t\t\t\tmsg = gs.getMessage(\"Add CI Manualy failed: {0}\", [msg]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}catch (e){\n\t\tmsg = gs.getMessage(\"Add CI Manualy failed: {0}\", [msg]);\n\t}\n\t\n\tif ((msg === \"\") && (json.manualEP)){\n\t\t\n\t\ttry {\n\t\t\tvar epClassName=json.manualEP.epClassName;\n\t\t\tvar epAttributes=json.manualEP.epAttributes;\n\t\t\tvar ep = new GlideRecord(epClassName);\n\t\t\t\n\t\t\tif (ep.isValid()) {\n\n\t\t\t\tep.initialize();\n\t\t\t\tfor (var attribName in epAttributes)\n\t\t\t\t\tep.setValue(attribName, epAttributes[attribName]);\n\n\t\t\t\tep.setWorkflow(true);\n\n\n\t\t\t\ttry{\n\t\t\t\t\tbsManager.addManualConnection(targetid,ep,bsid);\n\t\t\t\t}\n\t\t\t\tcatch(e){\n\t\t\t\t\t//converting the error to string.\n\t\t\t\t\t// extracting the message. the format of stringified exception is --> exceptionClass: message.\n\t\t\t\t\t//if the exception is not in that format, we will show unformatted exeption.\n\t\t\t\t\tvar ex=e + \"\";\n\t\t\t\t\tvar msgs=ex.split(\":\");\n\t\t\t\t\tvar msg=ex;\n\n\t\t\t\t\tif(msgs[1]){\n\t\t\t\t\t\tmsg=msgs[1];\n\t\t\t\t\t}\n\n\n\t\t\t\t\tmsg = gs.getMessage(\"Add CI succeded, add connection failed. {0}\", [msg]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\t\tmsg = gs.getMessage(\"Add CI succeded, add connection failed. Table '{0}' must be an endpoint.\", [epClassName]);\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t}catch (e){\n\t\t\tmsg = gs.getMessage(\"Add CI succeded, add connection failed due to the following error: {0}\", [e]);\n\t\t}\n\t}\n\t\n\tif (msg !== \"\") {\n\t\tresponse.setStatus(400);\n\t\tthrow new sn_ws_err.BadRequestError(msg);\n\t}\n\t\n})(request, response);","sys_updated_on":"2018-01-01 11:22:09","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"faddffb093033200443674aff67ffbee","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/now/manual_ci/doSkipAndResume","sys_created_on":"2017-05-28 11:36:04","sys_name":"doSkipAndResume","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/be2cb28393a23200443674aff67ffba6","value":"be2cb28393a23200443674aff67ffba6"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"54","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/cd4cabf704352210559073c06a02f74d","value":"cd4cabf704352210559073c06a02f74d"},"sys_update_name":"sys_ws_operation_faddffb093033200443674aff67ffbee","consumes_customized":"false","name":"doSkipAndResume","produces":"application/json,application/xml,text/xml","relative_path":"/doSkipAndResume","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var requestBody = request.body.data;\n    var recommender = requestBody.recommender;\n    var recommended_by = requestBody.recommended_by;\n    var action_sys_id = requestBody.action_sys_id;\n    var inputData = requestBody.inputData;\n\n    var responseStatus = 200;\n    var ErrorCode = {\n        \"InvalidArguments\": 2\n    };\n    var apiResult = {};\n    try {\n        if (recommender && recommended_by && (inputData && action_sys_id)) {\n\t\t\tvar guidanceModel = new sn_gd_guidance.GuidedDecisionsGuidanceModel();\t\n\t\t\tvar isUserValid = guidanceModel.isUserValid(recommender, recommended_by);\n\t\t\tif(!isUserValid){\n\t\t\t\tvar accessDeniedResponseBody={status:\"400\", errorType:\"accessDenied\", errorMessage:gs.getMessage(\"Access Denied: Check permissions to view the guidance\")};\n\t\t\t\tresponse.setBody(accessDeniedResponseBody);\n\t\t\t\treturn;\n\t\t\t}\n            var guidedDecisionsExecution = new sn_gd_guidance.GuidedDecisionsGuidanceExecution();\n            var result = guidedDecisionsExecution.updateGuidanceInstanceExecution(\n                recommender, recommended_by, action_sys_id, inputData);\n\t\t\tvar guidanceConstant = new sn_gd_guidance.GuidanceConstantsSNC();\n\t\t\tif(result.actionStatus == guidanceConstant.ERROR){\n\t\t\t\tresponseStatus = 200;\n\t\t\t\tvar responseBody = result;\n\t\t\t\tresponse.setStatus(responseStatus);\n\t\t\t\tresponse.setBody(responseBody);\n\t\t\t\treturn;\n\t\t\t}\n            if (result === ErrorCode.InvalidArguments) {\n                responseStatus = 400;\n                response.setError(new sn_ws_err.BadRequestError(gs.getMessage('Invalid Record to update. Update Failed.')));\n            } else if(typeof result === 'object' && result.guidanceDetails.state =='in_error' ) {\n\t\t\t\tresponse.setBody(result);\n\t\t\t\t\n\t\t\t} else {\n                apiResult.message = \"Input Values Updated successfully.\";\n                apiResult.status = \"success\";\n                response.setBody(apiResult);\n            }\n        } else {\n            responseStatus = 400;\n            response.setError(new sn_ws_err.BadRequestError(gs.getMessage('Missing required parameters')));\n        }\n    } catch (err) {\n        responseStatus = 500;\n        var customErrObj = new sn_ws_err.ServiceError();\n        customErrObj.setStatus(responseStatus);\n        gs.error(JSON.stringify(err));\n        customErrObj.setMessage(gs.getMessage('Updating Input Values Failed : {0}', [err + '']));\n        response.setError(customErrObj);\n\t\tresponse.setStatus(responseStatus);\n     } finally {\n        response.setStatus(responseStatus);\n        response.setContentType('application/json');\n    }\n\n})(request, response);","sys_updated_on":"2024-03-06 12:56:34","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"fb71620a073120101d6cba1f0ad3007e","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_gd_guidance/guided_decisions_guidance_api/update_input_values","sys_created_on":"2021-01-20 20:06:15","sys_name":"Update Input Value in Execution Instance","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/fd76ed5a3b570010119c870044efc470","value":"fd76ed5a3b570010119c870044efc470"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3bcffc6677c81010d7159b71a91061df","value":"3bcffc6677c81010d7159b71a91061df"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"22","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fd76ed5a3b570010119c870044efc470","value":"fd76ed5a3b570010119c870044efc470"},"sys_update_name":"sys_ws_operation_fb71620a073120101d6cba1f0ad3007e","consumes_customized":"false","name":"Update Input Value in Execution Instance","produces":"application/json,application/xml,text/xml","relative_path":"/update_input_values","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"function getPortalPreferences(portal_section) {\n\tvar id;\n\tvar gr = new GlideRecord('sys_portal_preferences');\n\tgr.addQuery('portal_section',portal_section);\n\tgr.query();\n\tvar prefs = {};\n\tprefs [\"portal_section\"] = portal_section;\n\twhile(gr.next()) {\n\t\tvar key = gr.getValue(\"name\");\n\t\tvar valForKey = gr.getValue(\"value\");\n\t\tprefs[key] = valForKey;\n\t\tif(gr.getValue('name') === 'renderer')\n\t\t\tid =gr.getValue('name');\n\t}\n\n\treturn {\"id\": id,\"prefs\":prefs};\n}\n\n(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    //Get Data from sys_portal\n\tvar gr = new GlideRecord('sys_portal');\n\tgr.addQuery('page','c6336292eb830100d4360c505206fe36');\n\tgr.query();\n\tvar portal_data = [];\n\twhile(gr.next()){\n\t\tvar preference = getPortalPreferences(gr.getValue('sys_id'));\n\t\tpreference[\"grid_config\"]= gr.getValue(\"grid_config\");\n\t\tportal_data.push(preference);\n\t}\n\n\treturn  portal_data;\n\n})(request, response);","sys_updated_on":"2015-10-04 13:03:13","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"fbe76fc3c3720200bde4beae82d3aeab","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/portal_preferences","sys_created_on":"2015-10-04 11:02:50","sys_name":"GET PORTAL","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/21d76fc3c3720200bde4beae82d3ae8c","value":"21d76fc3c3720200bde4beae82d3ae8c"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"37","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/4d1bab3304352210559073c06a02f767","value":"4d1bab3304352210559073c06a02f767"},"sys_update_name":"sys_ws_operation_fbe76fc3c3720200bde4beae82d3aeab","consumes_customized":"false","name":"GET PORTAL","produces":"application/json,application/xml,text/xml","relative_path":"/portal_preferences","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar errorHandler = new ErrorHandler();\n\tvar tableName = request.pathParams.tableName;\n\tvar overrideValue = request.body.data;\n\tvar configResponse;\n\t\n\ttry {\n\t\tconfigResponse = new TemplateConfigRetrievalService().retrieveConfigTemplate(tableName, overrideValue);\n\t\t\n\t\tif (!configResponse || configResponse.isEmpty()) {\n\t\t\terrorHandler.throwNotFoundError('Template for ' + tableName + ', not found');\n\t\t}\n\t} catch (error) {\n\t\terrorHandler.throwSnWsError(error);\n\t}\n\t\n\treturn configResponse;\n})(request, response);","sys_updated_on":"2021-04-23 16:22:21","enforce_acl":"4bbe81b4c703201066492f3bf4c260e6","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"fc23ec400f332010e70a4abec4767e0e","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_mab_api/mab_api/retrieveConfigurationTemplate/{tableName}","sys_created_on":"2021-04-23 15:50:45","sys_name":"Get Configuration Template","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3512bd93c7c12010100f2f3bf4c26049","value":"3512bd93c7c12010100f2f3bf4c26049"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"3","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_update_name":"sys_ws_operation_fc23ec400f332010e70a4abec4767e0e","consumes_customized":"false","name":"Get Configuration Template","produces":"application/json,application/xml,text/xml","relative_path":"/retrieveConfigurationTemplate/{tableName}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    try {\n\t\tvar executionId = request.pathParams.executionId;\n        var testExecution = new sn_nlu_workbench.NLUBatchTestExecution(executionId);\n        var result = testExecution.cancel();\n        if (result && result.status === 'failure')\n            response.setStatus(400);\n        else\n            response.setStatus(200);\n        response.setContentType('application/json');\n        return result;\n    } catch (e) {\n        return e;\n    }\n\n})(request, response);","sys_updated_on":"2021-02-05 10:17:34","enforce_acl":"0f43facbeb8220105de665fcc8522895","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b51a6d700710201028ef0a701ad300ab","value":"b51a6d700710201028ef0a701ad300ab"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"fc56e1070714201028ef0a701ad30010","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_nlu_workbench/v1/nlu_advanced/cancelTestRun/{executionId}","sys_created_on":"2020-11-10 04:51:58","sys_name":"cancelTestRun","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea82488673402010e6b632e954f6a7ca","value":"ea82488673402010e6b632e954f6a7ca"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"5","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/31f5f491c3a710100bf407720f40ddf4","value":"31f5f491c3a710100bf407720f40ddf4"},"sys_update_name":"sys_ws_operation_fc56e1070714201028ef0a701ad30010","consumes_customized":"false","name":"cancelTestRun","produces":"application/json,application/xml,text/xml","relative_path":"/cancelTestRun/{executionId}","produces_customized":"false","default_operation_uri":"/api/sn_nlu_workbench/nlu_advanced/cancelTestRun/{executionId}","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n\ttry {\n\treturn new sn_mab_api.UpdateConfigurationService().processRecords(request.body.data);\n\t} catch (error) {\n\t\tnew ErrorHandler().throwSnWsError(error);\n\t}\n\n})(request, response);","sys_updated_on":"2021-03-11 19:48:43","enforce_acl":"4bbe81b4c703201066492f3bf4c260e6","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"fce557b9b73a20108223e126de11a90a","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_mab_api/mab_api/updateConfiguration","sys_created_on":"2021-03-10 22:18:59","sys_name":"Update Configuration","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3512bd93c7c12010100f2f3bf4c26049","value":"3512bd93c7c12010100f2f3bf4c26049"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"2","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/3c64259bc7812010100f2f3bf4c2609a","value":"3c64259bc7812010100f2f3bf4c2609a"},"sys_update_name":"sys_ws_operation_fce557b9b73a20108223e126de11a90a","consumes_customized":"false","name":"Update Configuration","produces":"application/json,application/xml,text/xml","relative_path":"/updateConfiguration","produces_customized":"false","default_operation_uri":"","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    try {\n        var isAdmin = gs.hasRole('admin');\n        var isExternal = gs.hasRole('snc_external');\n        if (!isAdmin && isExternal) {\n            result = {\n                status: 200,\n                data: {\n                    active: false\n                }\n            };\n        } else {\n            snhelpUtil = new SNHelpUtil();\n            result = snhelpUtil.getWhatsNewPluginStatus();\n        }\n        response.setStatus(result.status);\n        response.setBody(result.data);\n    } catch (e) {\n        response.setStatus(500);\n        gs.error(\"SNHelpUtil: \" + e.message);\n        response.setBody({\n            error: \"Internal server error\"\n        });\n    }\n\n})(request, response);","sys_updated_on":"2024-05-31 14:49:21","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"fd2f358997f3751052f333e11153af9a","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/help/wnstatus","sys_created_on":"2024-01-16 06:03:52","sys_name":"Get WhatsNew Plugin Status","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/bd93a9195300501065f2ddeeff7b1297","value":"bd93a9195300501065f2ddeeff7b1297"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/562ba37304352210559073c06a02f751","value":"562ba37304352210559073c06a02f751"},"sys_update_name":"sys_ws_operation_fd2f358997f3751052f333e11153af9a","consumes_customized":"false","name":"Get WhatsNew Plugin Status","produces":"application/json,application/xml,text/xml","relative_path":"/wnstatus","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar offset = JSUtil.nil(request.queryParams.offset) ? \"\" : request.queryParams.offset;\n\tvar dateTime = JSUtil.nil(request.queryParams.date_time) ? new GlideDateTime().getValue() : request.queryParams.date_time;\n\tvar groupsLimit;\n\tvar filter = JSUtil.nil(request.queryParams.filter) ? \"all\" : request.queryParams.filter;\n\tif (!JSUtil.nil(request.queryParams.group_limit))\n\t\tgroupsLimit = parseInt(request.queryParams.group_limit);\n\tvar onCallRotation = new OnCallRotation().setCheckAccess(true);\n\tvar onCallGroups;\n\tif (!JSUtil.nil(request.queryParams.group)) {\n\t\tvar group = request.queryParams.group;\n\t\tonCallGroups = new OCRotationV2().getIndividualGroupData(group);\n\t\tonCallGroups = onCallRotation.processIndividualOCData(onCallGroups, dateTime);\n\t}\n\telse {\n\t\tonCallGroups = onCallRotation.onCallGroups(dateTime, offset, groupsLimit, filter);\n\t\tif (onCallRotation.log.atLevel(GSLog.DEBUG)) {\n\t\t\tonCallRotation.timer.timerName += \" REST-GET /oncallgroups\";\n\t\t\tonCallRotation.log.debug(onCallRotation.timer.result());\n\t\t}\n\t}\n\treturn onCallGroups;\n})(request, response);","sys_updated_on":"2022-04-19 06:25:39","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"fd9f997dc300030035ae3f52c1d3aeb3","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/oncallgroups","sys_created_on":"2017-07-19 19:40:52","sys_name":"oncallgroups","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"8","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_fd9f997dc300030035ae3f52c1d3aeb3","consumes_customized":"false","name":"oncallgroups","produces":"application/json,application/xml,text/xml","relative_path":"/oncallgroups","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    response.setContentType('application/json');\n\tvar result = [];\n\tvar queryParams = request.queryParams;\n\tvar savedGroupSysId = queryParams.custom_query[0];\n\tvar term = queryParams.term[0];\n\tvar grs = new GlideRecordSecure(\"cmdb_group\");\n\tgrs.addEncodedQuery(\"group_nameSTARTSWITH\" + term);\n\tif(queryParams.encoded_query){\n\t\tgrs.addEncodedQuery(queryParams.encoded_query);\n\t}\n\tgrs.query();\n\t\n\tvar groups = {};\n\tvar groupsArr = [];\n\twhile(grs.hasNext()){\n\t\tgrs.next();\n\t\tgroups[grs.getValue(\"sys_id\")] = grs.getValue(\"group_name\");\n\t\t// If there is a saved group in this application service do not filter it out\n\t\tif (!savedGroupSysId || savedGroupSysId !== grs.getValue(\"sys_id\"))\n\t\t\tgroupsArr.push(grs.getValue(\"sys_id\"));\n\t}\n\t\n\t//check for groups that are already used\n\tvar grG = new GlideRecord(\"cmdb_ci_query_based_service\");\n\tgrG.addQuery(\"cmdb_group\", groupsArr);\n\tgrG.query();\n\t\n\twhile(grG.hasNext()){\n\t\tgrG.next();\n\t\tdelete groups[grG.getValue(\"cmdb_group\")];\n\t}\n\t\n\tvar groupKeys = Object.keys(groups);\n\t\n\tfor(var i=0; i<groupKeys.length; i++){\n\t\tresult.push({sys_id: groupKeys[i], name: groups[groupKeys[i]]});\n\t}\n\n\tresponse.setStatus(200);\n\tresponse.setBody(result);\n\t\n})(request, response);","sys_updated_on":"2020-05-19 18:51:56","enforce_acl":"edc5e02473230010ee4dd3c72bf6a7ea","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"fdb75fd873230010ee4dd3c72bf6a795","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/csdm_app_service/search_cmdb_groups","sys_created_on":"2020-03-10 20:59:10","sys_name":"Get CMDB Groups","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/60c171d973c30010ee4dd3c72bf6a716","value":"60c171d973c30010ee4dd3c72bf6a716"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"19","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2f8d67ff04352210559073c06a02f74f","value":"2f8d67ff04352210559073c06a02f74f"},"sys_update_name":"sys_ws_operation_fdb75fd873230010ee4dd3c72bf6a795","consumes_customized":"false","name":"Get CMDB Groups","produces":"application/json,application/xml,text/xml","relative_path":"/search_cmdb_groups","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar itemId = request.pathParams.item_sys_id;\n\tif (!GlideStringUtil.isEligibleSysID(itemId))\n\t\tthrow new sn_ws_err.BadRequestError(\"item_sys_id should be provided as path param.\");\n\t\n\tvar delegatedUser = request.pathParams.user_sys_id;\n\tif (!GlideStringUtil.isEligibleSysID(delegatedUser))\n\t\tthrow new sn_ws_err.BadRequestError(\"user_sys_id value should be provided as path param.\");\n\t\n\tvar catItem = new sn_sc.CatItem(itemId);\n\tvar response_body = {};\n\tresponse_body.result = catItem.isDelegationAllowed(delegatedUser);\n\treturn response_body;\n})(request, response);","sys_updated_on":"2020-01-20 19:54:39","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"fdf66e440f8200108af26b198b767e2e","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/items/{item_sys_id}/delegation/{user_sys_id}","sys_created_on":"2019-12-26 09:15:54","sys_name":"Check requested for delegation on item","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"1","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_fdf66e440f8200108af26b198b767e2e","consumes_customized":"false","name":"Check requested for delegation on item","produces":"application/json,application/xml,text/xml","relative_path":"/items/{item_sys_id}/delegation/{user_sys_id}","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/items/{item_sys_id}/delegation/{user_sys_id}","sys_policy":"read"},{"short_description":"","operation_script":"/*\n *  If a fileSysId is passed in, this API will get the commit history for a specific file.\n *  Otherwise, the commit history for the current branch will be shown.\n */\n(function process(request, response) {\n    var appId = request.pathParams.appId;\n\n    ScopeCheck.verifyNotGlobal(appId);\n\n    var allowed = VCSAppAccessCheck.verifyReadAccess(appId) && (VCSAppAccessCheck.isGACOrSourceControlUser() || VCSAppAccessCheck.verifyVersionControlAccess(appId));\n\n    if (!allowed) \n\t\tVCSAppAccessCheck.throwAccessDenied(appId);\n\n    var fileSysId = request.queryParams.fileSysId,\n        currentRepo = sn_vcs.AppSourceControl.getRepository(appId),\n        branch = currentRepo.getBranch(currentRepo.getCurrentBranch()),\n        commits = getCommitList();\n\n    response.setContentType('application/json');\n    response.setBody({\n        commitCount: commits.length,\n        commits: commits\n    });\n    response.setStatus(200);\n\n    function getCommitList() {\n        var commits = [],\n            commitRecords = (fileSysId) ?\n            branch.getCommitsForFile(fileSysId) :\n            branch.getCommits();\n\n        while (commitRecords.next())\n            commits.push(getCommitDetails(commitRecords));\n\n        return commits;\n    }\n\n    function getCommitDetails(commitRecord) {\n        return {\n            sysId: commitRecord.getCommitId(),\n            comment: commitRecord.getComments(),\n            committer: {\n                name: commitRecord.getCommitterName(),\n                email: commitRecord.getCommitterEmail()\n            },\n            dateCommitted: commitRecord.getDateCommitted().getDisplayValue(),\n            files: getCommittedFiles(commitRecord)\n        };\n    }\n\n    function getCommittedFiles(commitRecord) {\n        var details = commitRecord.getCommitDetails(),\n            committedFiles = [];\n\n        while (details.next()) {\n            var fileName = details.getFileName();\n\n            if (isValidFileName(fileName))\n                committedFiles.push(fileName);\n        }\n\n        return committedFiles;\n    }\n\n    function isValidFileName(fileName) {\n        return fileName !== 'checksum.txt' && fileName !== '/dev/null';\n    }\n\n})(request, response);","sys_updated_on":"2021-04-06 20:14:01","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/b88375b337301200612747efbe41f15d","value":"b88375b337301200612747efbe41f15d"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"fdf8c2e2c3131200ca27ff9c02d3aeea","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_devstudio/v1/vcs/apps/{appId}/repos/{repoId}/history","sys_created_on":"2016-05-13 07:31:00","sys_name":"Get History","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ea927d7237930200612747efbe41f13a","value":"ea927d7237930200612747efbe41f13a"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"19","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5d9789f3eb51310007e48c1cf106fe9e","value":"5d9789f3eb51310007e48c1cf106fe9e"},"sys_update_name":"sys_ws_operation_fdf8c2e2c3131200ca27ff9c02d3aeea","consumes_customized":"false","name":"Get History","produces":"application/json,application/xml,text/xml","relative_path":"/apps/{appId}/repos/{repoId}/history","produces_customized":"false","default_operation_uri":"/api/sn_devstudio/vcs/apps/{appId}/repos/{repoId}/history","sys_policy":"read"},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n    var notificationDashboard = new NotificationDashboard();\n    response.setBody(notificationDashboard.getTopNotifications(request.body.data));\n})(request, response);","sys_updated_on":"2024-09-25 17:29:44","enforce_acl":"cf9d01d3e73003009d6247e603f6a990","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"fe0beec8ffec5a10ac42fbd38c4fd94b","http_method":"POST","sys_updated_by":"rajesh.tatikonda@snc","operation_uri":"/api/snc/notification_dashboard/notifications/email/top","sys_created_on":"2024-09-05 09:40:09","sys_name":"Top Notifications","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"rishika.karri@snc","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/a5ea2ec8ffec5a10ac42fbd38c4fd9fb","value":"a5ea2ec8ffec5a10ac42fbd38c4fd9fb"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/fa85f980ff6c5a10ac42fbd38c4fd9bd","value":"fa85f980ff6c5a10ac42fbd38c4fd9bd"},"sys_update_name":"sys_ws_operation_fe0beec8ffec5a10ac42fbd38c4fd94b","consumes_customized":"false","name":"Top Notifications","produces":"application/json,application/xml,text/xml","relative_path":"/notifications/email/top","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    const requestData = request.body.data;\n    const types = requestData.types || [];\n    try {\n        const result = {};\n        for (let i = 0; i < types.length; i++) {\n            const type = types[i];\n            const typeSysId = type.typeSysId;\n            const builder = type.builder;\n            result[typeSysId] = FileTaxonomy.validateType(typeSysId, builder);\n        }\n        return result;\n    } catch (e) {\n        throw new sn_ws_err.ServiceError()\n            .setStatus(500)\n            .setMessage(gs.getMessageLang(\"Unhandled exception: {0}\", \"en\", [e]))\n            .setDetail(gs.getMessage(\"Unhandled exception: {0}\", [e]));\n    }\n\n})(request, response);","sys_updated_on":"2024-01-24 11:47:36","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/90711aa05bdc31109cf872c60a81c7fb","value":"90711aa05bdc31109cf872c60a81c7fb"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"feea7097432b711065e670d0a9b8f2ec","http_method":"POST","sys_updated_by":"admin","operation_uri":"/api/sn_udc/v1/file_taxonomy/type_validation","sys_created_on":"2024-01-10 14:34:18","sys_name":"Taxonomy Type Validation","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/ebf096a05bdc31109cf872c60a81c769","value":"ebf096a05bdc31109cf872c60a81c769"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"10","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8a841f2bc42f457e8809ea71d35e821f","value":"8a841f2bc42f457e8809ea71d35e821f"},"sys_update_name":"sys_ws_operation_feea7097432b711065e670d0a9b8f2ec","consumes_customized":"false","name":"Taxonomy Type Validation","produces":"application/json,application/xml,text/xml","relative_path":"/type_validation","produces_customized":"false","default_operation_uri":"/api/sn_udc/file_taxonomy/type_validation","sys_policy":"read"},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar formatter = null;\n\tvar from = JSUtil.nil(request.queryParams.from) ? '' : request.queryParams.from + '';\n\tvar targetTimezone = JSUtil.nil(request.queryParams.target_tz) ? '' : request.queryParams.target_tz + '';\n\t\n\tvar scriptInclude = OCFormatterMapping.formatters[request.queryParams.format + \"\"];\n\tif (scriptInclude === OCDHTMLXCalendarFormatter)\n\t\tformatter = new scriptInclude(request.queryParams.group_events, request.queryParams.target_tz);\n\telse if (scriptInclude)\n\t\tformatter = new scriptInclude();\n\n\tfunction getTZ(timezone) {\n\t\tvar tz = new GlideSchedule();\n\t\ttz.setTimeZone(timezone);\n\t\treturn tz.getTZ();\n\t}\n\t\n\tvar userTimezone = gs.getUser().getTZ();\n\tif (targetTimezone && targetTimezone != userTimezone) {\n\t\tif (from.indexOf(':') == -1)\n\t\t\tfrom = from + \" 00:00:00\";\n\t\tvar startGdt = new GlideDateTime();\n\t\tstartGdt.setTZ(getTZ(targetTimezone));\n\t\tstartGdt.setDisplayValueInternal(from);\n\t\tstartGdt.setTZ(getTZ(userTimezone));\n\t\tfrom = startGdt.getDisplayValueInternal();\n\t}\n\telse {\n\t\tif (from.indexOf(':') == -1)\n\t\t\tfrom = from + \" 00:00:00\";\n\t}\n\t\n\tvar ocrRotaV2 = new OCRotationV2(null, formatter);\n\tvar result = {};\n\tresult.spans = ocrRotaV2\n\t\t.setCheckAccess(true)\n\t\t.setStartDate(from, true)\n\t\t.setEndDate(request.queryParams.to, false)\n\t\t.setGroupIds(request.queryParams.group_ids)\n\t\t.setRotaIds(request.queryParams.rota_ids)\n\t\t.setRosterIds(request.queryParams.roster_ids)\n\t\t.setUserIds(request.queryParams.user_ids)\n\t\t.setSpanFetchPreference(request.queryParams.fetch_preference)\n\t\t.getSpans();\n\t\n\tvar memberSpansBeforeExclude = ocrRotaV2.getMemberSpansBeforeExclude();\n\n\tif ((request.queryParams.group_ids + '').split(',').length > 1 && request.queryParams.format == 'dhtmlx') {\n\t\t\tresult.messages = [];\n\t\t\tresult.messages.push({\n\t\t\t\tmessage: 'Gaps is not supported for multiple groups query.',\n\t\t\t\tmessageType: 'warning'\n\t\t\t});\n\t\t\tresult.messages.push({\n\t\t\t\tmessage: 'Conflicts is not supported for multiple groups query.',\n\t\t\t\tmessageType: 'warning'\n\t\t\t});\n\t}\n\telse {\n\t\tvar ocwUtils = new OnCallWorkbenchUtils();\n\t\tvar access = ocwUtils.getAccessDetails(request.queryParams.group_ids + \"\");\n\t\tif (access.isManager && request.queryParams.format == 'dhtmlx' && result.spans.length > 0) {//only process this if request is from DHTMLX Calendar\n\t\t\tvar gapConflictsSpans = result.spans; \n\t\t\tvar ocOddityChecker = new OCOddityChecker();\n\t\t\tvar dateDiff = gs.dateDiff(request.queryParams.from, request.queryParams.to, true);\n\t\t\tvar dateDiffInDays = parseInt(dateDiff / (24 * 60 * 60));\n\t\t\tresult.gaps = ocOddityChecker.getGaps(request.queryParams.from, request.queryParams.to, request.queryParams.group_ids, dateDiffInDays, gapConflictsSpans, memberSpansBeforeExclude);\n\t\t\tresult.conflicts = ocOddityChecker.getConflictsInGroup(request.queryParams.from, request.queryParams.to, request.queryParams.group_ids, dateDiffInDays, gapConflictsSpans);\n\t\t}\n\t}\n\tif (ocrRotaV2.log.atLevel(GSLog.DEBUG)) {\n\t\tocrRotaV2.timer.timerName += \" REST-GET spans\";\n\t\tocrRotaV2.log.debug(ocrRotaV2.timer.result());\n\t}\n\t\n\tfunction getCurrentDateTime(timezone) {\n\t\tif (JSUtil.notNil(timezone)) {\n\t\t\tvar schedule = new GlideSchedule();\n\t\t\tschedule.setTimeZone(timezone + \"\");\n\t\t\tvar tz = schedule.getTZ();\n\t\t\tif (JSUtil.notNil(tz)) {\n\t\t\t\tvar gdt = new GlideDateTime();\n\t\t\t\tgdt.setTZ(tz);\n\t\t\t\treturn gdt.getDisplayValueInternal();\n\t\t\t}\n\t\t}\n\t\treturn new GlideDateTime().getDisplayValueInternal();\n\t}\n\t\n\tresult.current_date_time = getCurrentDateTime(request.queryParams.target_tz);\n\n\tresponse.setStatus(200);\n\tresponse.setHeaders({'Content-Type': 'application/json'});\n\tvar writer = response.getStreamWriter();\n\twriter.writeString(new JSON().encode(result));\n})(request, response);","sys_updated_on":"2024-02-07 18:26:05","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"ff4d93609f2012000391b89a442e7062","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/on_call_rota/spans","sys_created_on":"2015-12-22 15:35:54","sys_name":"spans","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/69a90762d7130200f2d224837e6103b3","value":"69a90762d7130200f2d224837e6103b3"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"99","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/8c6ca73b04352210559073c06a02f754","value":"8c6ca73b04352210559073c06a02f754"},"sys_update_name":"sys_ws_operation_ff4d93609f2012000391b89a442e7062","consumes_customized":"false","name":"spans","produces":"application/json,application/xml,text/xml","relative_path":"/spans","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    let product = request.queryParams.product ? request.queryParams.product[0] : null;\n    let scopes = request.queryParams.scopes ? JSON.parse(request.queryParams.scopes) : [];\n    let packageIds = request.queryParams.packageIds ? JSON.parse(request.queryParams.packageIds) : [];\n    let bestProductMatch = product;\n\n    let resultProduct = null;\n    let configurationHubUtil = new ConfigurationHubUtil();\n\n    let allPackagesIds = configurationHubUtil.getPackageIds(product, scopes, packageIds);\n\n    // Preparing packageIds when only an application is requested\n    let productPackageIds = [];\n    if (allPackagesIds.length >= 1 && !product) {\n\n        // Selecting best product match\n        let bestProductMatchSet = new Set();\n        for (let packageId of allPackagesIds) {\n            let matchedProduct = configurationHubUtil.getBestProductMatch(packageId);\n            if (bestProductMatchSet.has(matchedProduct)) {\n\n                // If packages belong to different products, we use default product\n                bestProductMatch = configurationHubUtil.getDefaultProductSysId();\n                break;\n            }\n            bestProductMatchSet.add(matchedProduct);\n            bestProductMatch = matchedProduct;\n        }\n        productPackageIds = configurationHubUtil.getProductApplicationsPackageIds(bestProductMatch);\n\n        // add application if not already part of the product\n        let allPackageIdsSet = new Set([...allPackagesIds, ...productPackageIds]);\n        allPackagesIds = Array.from(allPackageIdsSet);\n    }\n\n    if (bestProductMatch)\n        resultProduct = configurationHubUtil.getProduct(bestProductMatch);\n\n    const sortByText = (a, b) => {\n        const textA = (a || '').toLowerCase();\n        const textB = (b || '').toLowerCase();\n        if (textA < textB)\n            return -1;\n\n        if (textA > textB)\n            return 1;\n\n        return 0;\n    };\n\n    let applications = configurationHubUtil.getApplicationsStore(allPackagesIds);\n    applications.sort((applicationA, applicationB) => sortByText(applicationA.label, applicationB.label));\n\n    let result = {\n        applications,\n        product: resultProduct,\n        showLogCard: gs.getProperty('sn_config_hub.errorslogs.card.visible', 'true')\n    };\n\n    response.setContentType('application/json');\n    response.setStatus(200);\n    response.setBody(result);\n\n})(request, response);","sys_updated_on":"2023-06-26 22:34:25","enforce_acl":"57dd7e274fa3611038e26c01b1ce0b48","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"ff5f5ed3b3ce2510ebc24fe55bc8e174","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_config_hub/configuration_hub_api/config/productapps","sys_created_on":"2023-04-12 12:33:35","sys_name":"Get Product and applications","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/2028fe718b11c8f32122c6da3b496a83","value":"2028fe718b11c8f32122c6da3b496a83"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/d68a7cb5eb9221109cfedf3c03522847","value":"d68a7cb5eb9221109cfedf3c03522847"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"18","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2028fe718b11c8f32122c6da3b496a83","value":"2028fe718b11c8f32122c6da3b496a83"},"sys_update_name":"sys_ws_operation_ff5f5ed3b3ce2510ebc24fe55bc8e174","consumes_customized":"false","name":"Get Product and applications","produces":"application/json,application/xml,text/xml","relative_path":"/config/productapps","produces_customized":"false","default_operation_uri":"","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    // implement resource here\n\tvar cart = new sn_sc.CartJS();\n\tvar cartItemId = request.pathParams.cart_item_id;\n\tvar gr = new GlideRecordSecure('sc_cart_item');\n\tif(!gr.get(cartItemId))\n\t\tthrow new sn_ws_err.BadRequestError(\"Invalid Cart Item ID!\");\n\tvar grCart = new GlideRecordSecure(\"sc_cart\");\n\tif(!grCart.get(gr.cart) || grCart.user != gs.getUserID())\n\t\tthrow new sn_ws_err.BadRequestError(\"Security constraints prevents access to this item!\");\n\tresponse.setStatus(204);\n\treturn cart.remove(cartItemId);\n\n})(request, response);","sys_updated_on":"2016-02-05 09:47:45","enforce_acl":"","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/1e958e83c3a302006f333b0ac3d3aebc","value":"1e958e83c3a302006f333b0ac3d3aebc"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"ff62ff50db10120064301150f0b8f561","http_method":"DELETE","sys_updated_by":"admin","operation_uri":"/api/sn_sc/v1/servicecatalog/cart/{cart_item_id}","sys_created_on":"2015-12-09 12:14:48","sys_name":"Delete Items from Cart","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/b4558e83c3a302006f333b0ac3d3ae8e","value":"b4558e83c3a302006f333b0ac3d3ae8e"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"16","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/6e70d1f5c32302006f333b0ac3d3ae7b","value":"6e70d1f5c32302006f333b0ac3d3ae7b"},"sys_update_name":"sys_ws_operation_ff62ff50db10120064301150f0b8f561","consumes_customized":"false","name":"Delete Items from Cart","produces":"application/json,application/xml,text/xml","relative_path":"/cart/{cart_item_id}","produces_customized":"false","default_operation_uri":"/api/sn_sc/servicecatalog/cart/{cart_item_id}","sys_policy":""},{"short_description":"","operation_script":"(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\n    var appManagerApiUtil = new AppManagerApiUtil(request, response);\n    try {\n        var args = appManagerApiUtil.getRequestParams();\n        var plugin_id = args.queryParams['plugin_id'];\n        var appId = args.queryParams['app_id'];\n        var type, id;\n        if (appId) {\n            appManagerApiUtil.verifyTablesReadAccess([\"sys_store_app\", \"sys_remote_app\"]);\n            type = Constants.APPLICATION;\n            id = appId;\n        } else {\n            appManagerApiUtil.verifyTablesReadAccess([\"v_plugin\"]);\n            type = Constants.PLUGIN;\n            id = plugin_id;\n        }\n        var trackerId = new global.PluginsData().loadDemoData(plugin_id);\n        var trackerPayload = { trackerId: trackerId };\n        var inputPayload = args.queryParams;\n        CommonUtils.addProgressTracker(inputPayload, trackerPayload, id, type, Constants.LOAD_DEMO_DATA);\n        appManagerApiUtil.setResponseBody(trackerPayload);\n    } catch (err) {\n        appManagerApiUtil.setError(err);\n    }\n\n})(request, response);","sys_updated_on":"2025-03-25 17:18:33","enforce_acl":"3966a96cf53bc610f87752fa9ffbe0da","web_service_version":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_version/be08b89397b0d1104b593f0e6253afe1","value":"be08b89397b0d1104b593f0e6253afe1"},"sys_class_name":"sys_ws_operation","requires_acl_authorization":"true","request_example":"","sys_id":"ffe2d9ad87f1a51054f6337e0ebb35e7","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/sn_appclient/v1/appmanager/loadDemoData","sys_created_on":"2023-03-25 09:50:20","sys_name":"LoadDemoData","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/7ea1fc5f9770d1104b593f0e6253af99","value":"7ea1fc5f9770d1104b593f0e6253af99"},"consumes":"application/json,application/xml,text/xml","requires_snc_internal_role":"true","requires_authentication":"true","sys_mod_count":"4","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/781f36a96fef21005be8883e6b3ee43d","value":"781f36a96fef21005be8883e6b3ee43d"},"sys_update_name":"sys_ws_operation_ffe2d9ad87f1a51054f6337e0ebb35e7","consumes_customized":"false","name":"LoadDemoData","produces":"application/json,application/xml,text/xml","relative_path":"/loadDemoData","produces_customized":"false","default_operation_uri":"/api/sn_appclient/appmanager/loadDemoData","sys_policy":""},{"short_description":"","operation_script":"(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {\n\tvar util = new GuidedSetupUtilSNC();\n\ttry {\n\t\t// isMetaAccessAllowed security check is moved to script include\n\t\treturn util.getContentDetails(request.pathParams.contentId, request.queryParams);\n\t} catch (e) {\n\t\treturn util.restErrorHandler(e, response);\n\t}\n\n})(request, response);","sys_updated_on":"2016-11-10 19:13:14","enforce_acl":"","web_service_version":"","sys_class_name":"sys_ws_operation","requires_acl_authorization":"false","request_example":"","sys_id":"fff43d1bff220200b18affffffffffb7","http_method":"GET","sys_updated_by":"admin","operation_uri":"/api/now/guided_setup/content/{contentId}","sys_created_on":"2015-09-22 10:58:08","sys_name":"Content Details","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/5f4ef4ed9f401200b18a7feea57fcfbe","value":"5f4ef4ed9f401200b18a7feea57fcfbe"},"sys_created_by":"admin","web_service_definition":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_ws_definition/3ce43d1bff220200b18affffffffff55","value":"3ce43d1bff220200b18affffffffff55"},"consumes":"application/json","requires_snc_internal_role":"false","requires_authentication":"true","sys_mod_count":"21","active":"true","sys_tags":"","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/5f4ef4ed9f401200b18a7feea57fcfbe","value":"5f4ef4ed9f401200b18a7feea57fcfbe"},"sys_update_name":"sys_ws_operation_fff43d1bff220200b18affffffffffb7","consumes_customized":"false","name":"Content Details","produces":"application/json","relative_path":"/content/{contentId}","produces_customized":"false","default_operation_uri":"","sys_policy":"read"}]}