{"result":[{"severity":"ERROR","message_template":"The Spoke with application scope ''{0}'' is not installed.","sys_mod_count":"4","description":"Tests to ensure a that a specific Integration Hub Spoke used by the template is installed.","sys_updated_on":"2022-02-15 18:18:51","sys_tags":"","type":"SPOKE_INSTALLED","script":"//is a specific scoped app at or above a minimum version?\n(function(input) {\n\tif (!input.hasOwnProperty(\"scope_name\"))\n\t\treturn false;\n\t\n    var gr = new GlideRecord(\"sys_scope\");\n    gr.addQuery(\"scope\", input.scope_name);\n    gr.addActiveQuery();\n    gr.query();\n\n    return gr.hasNext();\n\n})(input);","sys_class_name":"sys_app_template_dependency_definition","input":"scope_name","sys_id":"0532ccc3c733101001fbe010bdc260a6","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2fbb6b3704352210559073c06a02f707","value":"2fbb6b3704352210559073c06a02f707"},"sys_update_name":"sys_app_template_dependency_definition_0532ccc3c733101001fbe010bdc260a6","sys_updated_by":"admin","sys_created_on":"2020-10-16 01:31:44","name":"Is Spoke Installed","sys_name":"SPOKE_INSTALLED","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"severity":"ERROR","message_template":"The Spoke with application scope '{0}' is not installed.","sys_mod_count":"1","description":"Tests to ensure that a specific required Integration Hub Spoke used by the template is installed.","sys_updated_on":"2021-05-11 21:42:20","sys_tags":"","type":"TEMPLATE_SPOKE_INSTALLED","script":"//is a specific spoke defined on a template installed?\n(function(input) {\n\tif (!input.hasOwnProperty(\"scope_name\"))\n\t\treturn false;\n\t\n    var gr = new GlideRecord(\"sys_scope\");\n    gr.addQuery(\"scope\", input.scope_name);\n    gr.addActiveQuery();\n    gr.query();\n\n    return gr.hasNext();\n\n})(input);","sys_class_name":"sys_app_template_dependency_definition","input":"","sys_id":"3f8e8a3dc30030101099006c2840dd76","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/f9a0de22c7022010d447c17cf4c260ea","value":"f9a0de22c7022010d447c17cf4c260ea"},"sys_update_name":"sys_app_template_dependency_definition_3f8e8a3dc30030101099006c2840dd76","sys_updated_by":"admin","sys_created_on":"2021-05-11 20:26:35","name":"Is Template Required Spoke Installed","sys_name":"TEMPLATE_SPOKE_INSTALLED","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/f9a0de22c7022010d447c17cf4c260ea","value":"f9a0de22c7022010d447c17cf4c260ea"},"sys_created_by":"admin","sys_policy":""},{"severity":"ERROR","message_template":"{0} is the minimum version that must be installed for the application with scope name ''{1}''.","sys_mod_count":"15","description":"Tests to ensure a that a minimum application version is installed on the instance that a template will be ran on.","sys_updated_on":"2022-02-15 18:18:12","sys_tags":"","type":"MIN_VERSION_INSTALLED","script":"//is a specific scoped app at or above a minimum version?\n(function(input) {\n\tif (!input.hasOwnProperty(\"scope_name\") && input.hasOwnProperty(\"min_version\"))\n\t\treturn false;\n\n    var gr = new GlideRecord(\"sys_scope\");\n    gr.addQuery(\"scope\", input.scope_name);\n    gr.query();\n\n    if (!gr.next())\n        return false;\n\n    var currentVersion = gr.getValue(\"version\");\n    var vc = new sn_appclient.VersionComparator();\n\n    //if they are equal then pass\n    if (vc.isEqual(input.min_version, currentVersion))\n        return true;\n\n    //if the minimum version would be a downgrade from the current version\n    //then we meet the minimum requirement\n    return vc.isDowngrade(currentVersion, input.min_version);\n\n})(input);","sys_class_name":"sys_app_template_dependency_definition","input":"min_version,scope_name","sys_id":"47329f66c733101001fbe010bdc26075","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2fbb6b3704352210559073c06a02f707","value":"2fbb6b3704352210559073c06a02f707"},"sys_update_name":"sys_app_template_dependency_definition_47329f66c733101001fbe010bdc26075","sys_updated_by":"admin","sys_created_on":"2020-10-15 02:49:50","name":" App Minimum Version","sys_name":"MIN_VERSION_INSTALLED","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"severity":"ERROR","message_template":"Plugin with id ''{0}'' is not installed.","sys_mod_count":"4","description":"Tests to ensure a that a plugin installed on the instance the template will be run on.","sys_updated_on":"2022-02-15 18:18:37","sys_tags":"","type":"PLUGIN_INSTALLED","script":"//is a specific plugin/scoped app active?\n(function(input) {\n\tif (!input.hasOwnProperty(\"plugin_id\"))\n\t\treturn false;\n\t\n\treturn new GlidePluginManager().isActive(input.plugin_id);\n})(input);","sys_class_name":"sys_app_template_dependency_definition","input":"plugin_id","sys_id":"6f54a462c733101001fbe010bdc26042","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2fbb6b3704352210559073c06a02f707","value":"2fbb6b3704352210559073c06a02f707"},"sys_update_name":"sys_app_template_dependency_definition_6f54a462c733101001fbe010bdc26042","sys_updated_by":"admin","sys_created_on":"2020-10-14 14:23:13","name":"Is Plugin Installed","sys_name":"PLUGIN_INSTALLED","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"severity":"WARNING","message_template":"The Spoke with application scope '{0}' is not installed.","sys_mod_count":"1","description":"Tests to ensure a that a specific Integration Hub Spoke used by the template is installed.","sys_updated_on":"2022-09-05 18:25:24","sys_tags":"","type":"TEMPLATE_SPOKE_INSTALLED","script":"//is a specific spoke defined on a template installed?\n(function(input) {\n\tif (!input.hasOwnProperty(\"scope_name\"))\n\t\treturn false;\n\t\n    var gr = new GlideRecord(\"sys_scope\");\n    gr.addQuery(\"scope\", input.scope_name);\n    gr.addActiveQuery();\n    gr.query();\n\n    return gr.hasNext();\n\n})(input);","sys_class_name":"sys_app_template_dependency_definition","input":"scope_name","sys_id":"b551377c53b9511076f0ddeeff7b123d","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2fbb6b3704352210559073c06a02f707","value":"2fbb6b3704352210559073c06a02f707"},"sys_update_name":"sys_app_template_dependency_definition_b551377c53b9511076f0ddeeff7b123d","sys_updated_by":"admin","sys_created_on":"2022-09-05 17:14:40","name":"Is Template Spoke Installed","sys_name":"Is Template Spoke Installed","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"severity":"WARNING","message_template":"The Connection & Credential Alias with sys_id ''{0}'' is not configured.","sys_mod_count":"8","description":"Tests to ensure a that a specific Connection & Credential Alias - shipped with an Integration Hub Spoke and used by the template - is configured.","sys_updated_on":"2022-02-15 18:18:25","sys_tags":"","type":"CONNECTION_CONFIGURED","script":"//is a specific scoped app at or above a minimum version?\n(function(input) {\n\t// alias_id == sys_id of sys_alias record.\n\tif (!input.hasOwnProperty(\"alias_id\"))\n\t\treturn false;\n\n   return new sn_templates.SpokeValidator().isConfigured(input.alias_id);\n\t\n})(input);","sys_class_name":"sys_app_template_dependency_definition","input":"alias_id","sys_id":"d0283372c733101001fbe010bdc260ad","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2fbb6b3704352210559073c06a02f707","value":"2fbb6b3704352210559073c06a02f707"},"sys_update_name":"sys_app_template_dependency_definition_d0283372c733101001fbe010bdc260ad","sys_updated_by":"admin","sys_created_on":"2020-10-16 00:19:08","name":"Is Connection Configured","sys_name":"CONNECTION_CONFIGURED","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""},{"severity":"ERROR","message_template":"The table with name ''{0}'' is invalid.","sys_mod_count":"5","description":"Tests to ensure a that a table used by the template is valid.","sys_updated_on":"2022-02-15 18:19:09","sys_tags":"","type":"TABLE_VALID","script":"//is a specific table valid?\n(function(input) {\n\tif (!input.hasOwnProperty(\"table_name\"))\n\t\treturn false;\n\t\n\treturn GlideTableDescriptor.isValid(input.table_name);\n})(input);","sys_class_name":"sys_app_template_dependency_definition","input":"table_name","sys_id":"e159a462c733101001fbe010bdc26031","sys_package":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_package/2fbb6b3704352210559073c06a02f707","value":"2fbb6b3704352210559073c06a02f707"},"sys_update_name":"sys_app_template_dependency_definition_e159a462c733101001fbe010bdc26031","sys_updated_by":"admin","sys_created_on":"2020-10-14 14:40:17","name":"Is Table Valid","sys_name":"TABLE_VALID","sys_scope":{"link":"https://dev315171.service-now.com/api/now/v1/table/sys_scope/global","value":"global"},"sys_created_by":"admin","sys_policy":""}]}